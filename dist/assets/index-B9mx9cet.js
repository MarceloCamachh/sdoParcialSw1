(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();var Io=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bO(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function BP(r){if(r.__esModule)return r;var e=r.default;if(typeof e=="function"){var t=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var i=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(t,n,i.get?i:{enumerable:!0,get:function(){return r[n]}})}),t}var wO={exports:{}},_g={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FP=Symbol.for("react.transitional.element"),zP=Symbol.for("react.fragment");function SO(r,e,t){var n=null;if(t!==void 0&&(n=""+t),e.key!==void 0&&(n=""+e.key),"key"in e){t={};for(var i in e)i!=="key"&&(t[i]=e[i])}else t=e;return e=t.ref,{$$typeof:FP,type:r,key:n,ref:e!==void 0?e:null,props:t}}_g.Fragment=zP;_g.jsx=SO;_g.jsxs=SO;wO.exports=_g;var Jt=wO.exports,CO={exports:{}},Ve={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y_=Symbol.for("react.transitional.element"),HP=Symbol.for("react.portal"),WP=Symbol.for("react.fragment"),KP=Symbol.for("react.strict_mode"),qP=Symbol.for("react.profiler"),GP=Symbol.for("react.consumer"),YP=Symbol.for("react.context"),XP=Symbol.for("react.forward_ref"),ZP=Symbol.for("react.suspense"),$P=Symbol.for("react.memo"),xO=Symbol.for("react.lazy"),tC=Symbol.iterator;function JP(r){return r===null||typeof r!="object"?null:(r=tC&&r[tC]||r["@@iterator"],typeof r=="function"?r:null)}var OO={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},EO=Object.assign,TO={};function fc(r,e,t){this.props=r,this.context=e,this.refs=TO,this.updater=t||OO}fc.prototype.isReactComponent={};fc.prototype.setState=function(r,e){if(typeof r!="object"&&typeof r!="function"&&r!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,r,e,"setState")};fc.prototype.forceUpdate=function(r){this.updater.enqueueForceUpdate(this,r,"forceUpdate")};function AO(){}AO.prototype=fc.prototype;function X_(r,e,t){this.props=r,this.context=e,this.refs=TO,this.updater=t||OO}var Z_=X_.prototype=new AO;Z_.constructor=X_;EO(Z_,fc.prototype);Z_.isPureReactComponent=!0;var eC=Array.isArray,An={H:null,A:null,T:null,S:null,V:null},DO=Object.prototype.hasOwnProperty;function $_(r,e,t,n,i,o){return t=o.ref,{$$typeof:Y_,type:r,key:e,ref:t!==void 0?t:null,props:o}}function QP(r,e){return $_(r.type,e,void 0,void 0,void 0,r.props)}function J_(r){return typeof r=="object"&&r!==null&&r.$$typeof===Y_}function tM(r){var e={"=":"=0",":":"=2"};return"$"+r.replace(/[=:]/g,function(t){return e[t]})}var nC=/\/+/g;function jm(r,e){return typeof r=="object"&&r!==null&&r.key!=null?tM(""+r.key):e.toString(36)}function rC(){}function eM(r){switch(r.status){case"fulfilled":return r.value;case"rejected":throw r.reason;default:switch(typeof r.status=="string"?r.then(rC,rC):(r.status="pending",r.then(function(e){r.status==="pending"&&(r.status="fulfilled",r.value=e)},function(e){r.status==="pending"&&(r.status="rejected",r.reason=e)})),r.status){case"fulfilled":return r.value;case"rejected":throw r.reason}}throw r}function iu(r,e,t,n,i){var o=typeof r;(o==="undefined"||o==="boolean")&&(r=null);var a=!1;if(r===null)a=!0;else switch(o){case"bigint":case"string":case"number":a=!0;break;case"object":switch(r.$$typeof){case Y_:case HP:a=!0;break;case xO:return a=r._init,iu(a(r._payload),e,t,n,i)}}if(a)return i=i(r),a=n===""?"."+jm(r,0):n,eC(i)?(t="",a!=null&&(t=a.replace(nC,"$&/")+"/"),iu(i,e,t,"",function(c){return c})):i!=null&&(J_(i)&&(i=QP(i,t+(i.key==null||r&&r.key===i.key?"":(""+i.key).replace(nC,"$&/")+"/")+a)),e.push(i)),1;a=0;var l=n===""?".":n+":";if(eC(r))for(var u=0;u<r.length;u++)n=r[u],o=l+jm(n,u),a+=iu(n,e,t,o,i);else if(u=JP(r),typeof u=="function")for(r=u.call(r),u=0;!(n=r.next()).done;)n=n.value,o=l+jm(n,u++),a+=iu(n,e,t,o,i);else if(o==="object"){if(typeof r.then=="function")return iu(eM(r),e,t,n,i);throw e=String(r),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return a}function Eh(r,e,t){if(r==null)return r;var n=[],i=0;return iu(r,n,"","",function(o){return e.call(t,o,i++)}),n}function nM(r){if(r._status===-1){var e=r._result;e=e(),e.then(function(t){(r._status===0||r._status===-1)&&(r._status=1,r._result=t)},function(t){(r._status===0||r._status===-1)&&(r._status=2,r._result=t)}),r._status===-1&&(r._status=0,r._result=e)}if(r._status===1)return r._result.default;throw r._result}var iC=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function rM(){}Ve.Children={map:Eh,forEach:function(r,e,t){Eh(r,function(){e.apply(this,arguments)},t)},count:function(r){var e=0;return Eh(r,function(){e++}),e},toArray:function(r){return Eh(r,function(e){return e})||[]},only:function(r){if(!J_(r))throw Error("React.Children.only expected to receive a single React element child.");return r}};Ve.Component=fc;Ve.Fragment=WP;Ve.Profiler=qP;Ve.PureComponent=X_;Ve.StrictMode=KP;Ve.Suspense=ZP;Ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=An;Ve.__COMPILER_RUNTIME={__proto__:null,c:function(r){return An.H.useMemoCache(r)}};Ve.cache=function(r){return function(){return r.apply(null,arguments)}};Ve.cloneElement=function(r,e,t){if(r==null)throw Error("The argument must be a React element, but you passed "+r+".");var n=EO({},r.props),i=r.key,o=void 0;if(e!=null)for(a in e.ref!==void 0&&(o=void 0),e.key!==void 0&&(i=""+e.key),e)!DO.call(e,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&e.ref===void 0||(n[a]=e[a]);var a=arguments.length-2;if(a===1)n.children=t;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];n.children=l}return $_(r.type,i,void 0,void 0,o,n)};Ve.createContext=function(r){return r={$$typeof:YP,_currentValue:r,_currentValue2:r,_threadCount:0,Provider:null,Consumer:null},r.Provider=r,r.Consumer={$$typeof:GP,_context:r},r};Ve.createElement=function(r,e,t){var n,i={},o=null;if(e!=null)for(n in e.key!==void 0&&(o=""+e.key),e)DO.call(e,n)&&n!=="key"&&n!=="__self"&&n!=="__source"&&(i[n]=e[n]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(r&&r.defaultProps)for(n in a=r.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return $_(r,o,void 0,void 0,null,i)};Ve.createRef=function(){return{current:null}};Ve.forwardRef=function(r){return{$$typeof:XP,render:r}};Ve.isValidElement=J_;Ve.lazy=function(r){return{$$typeof:xO,_payload:{_status:-1,_result:r},_init:nM}};Ve.memo=function(r,e){return{$$typeof:$P,type:r,compare:e===void 0?null:e}};Ve.startTransition=function(r){var e=An.T,t={};An.T=t;try{var n=r(),i=An.S;i!==null&&i(t,n),typeof n=="object"&&n!==null&&typeof n.then=="function"&&n.then(rM,iC)}catch(o){iC(o)}finally{An.T=e}};Ve.unstable_useCacheRefresh=function(){return An.H.useCacheRefresh()};Ve.use=function(r){return An.H.use(r)};Ve.useActionState=function(r,e,t){return An.H.useActionState(r,e,t)};Ve.useCallback=function(r,e){return An.H.useCallback(r,e)};Ve.useContext=function(r){return An.H.useContext(r)};Ve.useDebugValue=function(){};Ve.useDeferredValue=function(r,e){return An.H.useDeferredValue(r,e)};Ve.useEffect=function(r,e,t){var n=An.H;if(typeof t=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return n.useEffect(r,e)};Ve.useId=function(){return An.H.useId()};Ve.useImperativeHandle=function(r,e,t){return An.H.useImperativeHandle(r,e,t)};Ve.useInsertionEffect=function(r,e){return An.H.useInsertionEffect(r,e)};Ve.useLayoutEffect=function(r,e){return An.H.useLayoutEffect(r,e)};Ve.useMemo=function(r,e){return An.H.useMemo(r,e)};Ve.useOptimistic=function(r,e){return An.H.useOptimistic(r,e)};Ve.useReducer=function(r,e,t){return An.H.useReducer(r,e,t)};Ve.useRef=function(r){return An.H.useRef(r)};Ve.useState=function(r){return An.H.useState(r)};Ve.useSyncExternalStore=function(r,e,t){return An.H.useSyncExternalStore(r,e,t)};Ve.useTransition=function(){return An.H.useTransition()};Ve.version="19.1.0";CO.exports=Ve;var Ft=CO.exports,kO={exports:{}},bg={},PO={exports:{}},MO={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(r){function e(L,ot){var pt=L.length;L.push(ot);t:for(;0<pt;){var mt=pt-1>>>1,Lt=L[mt];if(0<i(Lt,ot))L[mt]=ot,L[pt]=Lt,pt=mt;else break t}}function t(L){return L.length===0?null:L[0]}function n(L){if(L.length===0)return null;var ot=L[0],pt=L.pop();if(pt!==ot){L[0]=pt;t:for(var mt=0,Lt=L.length,St=Lt>>>1;mt<St;){var at=2*(mt+1)-1,Rt=L[at],wt=at+1,Mt=L[wt];if(0>i(Rt,pt))wt<Lt&&0>i(Mt,Rt)?(L[mt]=Mt,L[wt]=pt,mt=wt):(L[mt]=Rt,L[at]=pt,mt=at);else if(wt<Lt&&0>i(Mt,pt))L[mt]=Mt,L[wt]=pt,mt=wt;else break t}}return ot}function i(L,ot){var pt=L.sortIndex-ot.sortIndex;return pt!==0?pt:L.id-ot.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;r.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();r.unstable_now=function(){return a.now()-l}}var u=[],c=[],d=1,h=null,g=3,m=!1,b=!1,w=!1,x=!1,_=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function A(L){for(var ot=t(c);ot!==null;){if(ot.callback===null)n(c);else if(ot.startTime<=L)n(c),ot.sortIndex=ot.expirationTime,e(u,ot);else break;ot=t(c)}}function I(L){if(w=!1,A(L),!b)if(t(u)!==null)b=!0,Q||(Q=!0,k());else{var ot=t(c);ot!==null&&nt(I,ot.startTime-L)}}var Q=!1,$=-1,Z=5,P=-1;function tt(){return x?!0:!(r.unstable_now()-P<Z)}function H(){if(x=!1,Q){var L=r.unstable_now();P=L;var ot=!0;try{t:{b=!1,w&&(w=!1,C($),$=-1),m=!0;var pt=g;try{e:{for(A(L),h=t(u);h!==null&&!(h.expirationTime>L&&tt());){var mt=h.callback;if(typeof mt=="function"){h.callback=null,g=h.priorityLevel;var Lt=mt(h.expirationTime<=L);if(L=r.unstable_now(),typeof Lt=="function"){h.callback=Lt,A(L),ot=!0;break e}h===t(u)&&n(u),A(L)}else n(u);h=t(u)}if(h!==null)ot=!0;else{var St=t(c);St!==null&&nt(I,St.startTime-L),ot=!1}}break t}finally{h=null,g=pt,m=!1}ot=void 0}}finally{ot?k():Q=!1}}}var k;if(typeof O=="function")k=function(){O(H)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,T=F.port2;F.port1.onmessage=H,k=function(){T.postMessage(null)}}else k=function(){_(H,0)};function nt(L,ot){$=_(function(){L(r.unstable_now())},ot)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(L){L.callback=null},r.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<L?Math.floor(1e3/L):5},r.unstable_getCurrentPriorityLevel=function(){return g},r.unstable_next=function(L){switch(g){case 1:case 2:case 3:var ot=3;break;default:ot=g}var pt=g;g=ot;try{return L()}finally{g=pt}},r.unstable_requestPaint=function(){x=!0},r.unstable_runWithPriority=function(L,ot){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var pt=g;g=L;try{return ot()}finally{g=pt}},r.unstable_scheduleCallback=function(L,ot,pt){var mt=r.unstable_now();switch(typeof pt=="object"&&pt!==null?(pt=pt.delay,pt=typeof pt=="number"&&0<pt?mt+pt:mt):pt=mt,L){case 1:var Lt=-1;break;case 2:Lt=250;break;case 5:Lt=1073741823;break;case 4:Lt=1e4;break;default:Lt=5e3}return Lt=pt+Lt,L={id:d++,callback:ot,priorityLevel:L,startTime:pt,expirationTime:Lt,sortIndex:-1},pt>mt?(L.sortIndex=pt,e(c,L),t(u)===null&&L===t(c)&&(w?(C($),$=-1):w=!0,nt(I,pt-mt))):(L.sortIndex=Lt,e(u,L),b||m||(b=!0,Q||(Q=!0,k()))),L},r.unstable_shouldYield=tt,r.unstable_wrapCallback=function(L){var ot=g;return function(){var pt=g;g=ot;try{return L.apply(this,arguments)}finally{g=pt}}}})(MO);PO.exports=MO;var iM=PO.exports,RO={exports:{}},ni={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oM=Ft;function LO(r){var e="https://react.dev/errors/"+r;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var t=2;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t])}return"Minified React error #"+r+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function es(){}var ti={d:{f:es,r:function(){throw Error(LO(522))},D:es,C:es,L:es,m:es,X:es,S:es,M:es},p:0,findDOMNode:null},aM=Symbol.for("react.portal");function sM(r,e,t){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:aM,key:n==null?null:""+n,children:r,containerInfo:e,implementation:t}}var Tf=oM.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function wg(r,e){if(r==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}ni.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ti;ni.createPortal=function(r,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(LO(299));return sM(r,e,null,t)};ni.flushSync=function(r){var e=Tf.T,t=ti.p;try{if(Tf.T=null,ti.p=2,r)return r()}finally{Tf.T=e,ti.p=t,ti.d.f()}};ni.preconnect=function(r,e){typeof r=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,ti.d.C(r,e))};ni.prefetchDNS=function(r){typeof r=="string"&&ti.d.D(r)};ni.preinit=function(r,e){if(typeof r=="string"&&e&&typeof e.as=="string"){var t=e.as,n=wg(t,e.crossOrigin),i=typeof e.integrity=="string"?e.integrity:void 0,o=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;t==="style"?ti.d.S(r,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:n,integrity:i,fetchPriority:o}):t==="script"&&ti.d.X(r,{crossOrigin:n,integrity:i,fetchPriority:o,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};ni.preinitModule=function(r,e){if(typeof r=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var t=wg(e.as,e.crossOrigin);ti.d.M(r,{crossOrigin:t,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&ti.d.M(r)};ni.preload=function(r,e){if(typeof r=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var t=e.as,n=wg(t,e.crossOrigin);ti.d.L(r,t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};ni.preloadModule=function(r,e){if(typeof r=="string")if(e){var t=wg(e.as,e.crossOrigin);ti.d.m(r,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:t,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else ti.d.m(r)};ni.requestFormReset=function(r){ti.d.r(r)};ni.unstable_batchedUpdates=function(r,e){return r(e)};ni.useFormState=function(r,e,t){return Tf.H.useFormState(r,e,t)};ni.useFormStatus=function(){return Tf.H.useHostTransitionStatus()};ni.version="19.1.0";function NO(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(NO)}catch(r){console.error(r)}}NO(),RO.exports=ni;var lM=RO.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dr=iM,jO=Ft,uM=lM;function Zt(r){var e="https://react.dev/errors/"+r;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var t=2;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t])}return"Minified React error #"+r+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function IO(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function bd(r){var e=r,t=r;if(r.alternate)for(;e.return;)e=e.return;else{r=e;do e=r,e.flags&4098&&(t=e.return),r=e.return;while(r)}return e.tag===3?t:null}function VO(r){if(r.tag===13){var e=r.memoizedState;if(e===null&&(r=r.alternate,r!==null&&(e=r.memoizedState)),e!==null)return e.dehydrated}return null}function oC(r){if(bd(r)!==r)throw Error(Zt(188))}function cM(r){var e=r.alternate;if(!e){if(e=bd(r),e===null)throw Error(Zt(188));return e!==r?null:r}for(var t=r,n=e;;){var i=t.return;if(i===null)break;var o=i.alternate;if(o===null){if(n=i.return,n!==null){t=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===t)return oC(i),r;if(o===n)return oC(i),e;o=o.sibling}throw Error(Zt(188))}if(t.return!==n.return)t=i,n=o;else{for(var a=!1,l=i.child;l;){if(l===t){a=!0,t=i,n=o;break}if(l===n){a=!0,n=i,t=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===t){a=!0,t=o,n=i;break}if(l===n){a=!0,n=o,t=i;break}l=l.sibling}if(!a)throw Error(Zt(189))}}if(t.alternate!==n)throw Error(Zt(190))}if(t.tag!==3)throw Error(Zt(188));return t.stateNode.current===t?r:e}function UO(r){var e=r.tag;if(e===5||e===26||e===27||e===6)return r;for(r=r.child;r!==null;){if(e=UO(r),e!==null)return e;r=r.sibling}return null}var xn=Object.assign,fM=Symbol.for("react.element"),Th=Symbol.for("react.transitional.element"),yf=Symbol.for("react.portal"),cu=Symbol.for("react.fragment"),BO=Symbol.for("react.strict_mode"),s0=Symbol.for("react.profiler"),dM=Symbol.for("react.provider"),FO=Symbol.for("react.consumer"),ga=Symbol.for("react.context"),Q_=Symbol.for("react.forward_ref"),l0=Symbol.for("react.suspense"),u0=Symbol.for("react.suspense_list"),tb=Symbol.for("react.memo"),is=Symbol.for("react.lazy"),c0=Symbol.for("react.activity"),hM=Symbol.for("react.memo_cache_sentinel"),aC=Symbol.iterator;function nf(r){return r===null||typeof r!="object"?null:(r=aC&&r[aC]||r["@@iterator"],typeof r=="function"?r:null)}var pM=Symbol.for("react.client.reference");function f0(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===pM?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case cu:return"Fragment";case s0:return"Profiler";case BO:return"StrictMode";case l0:return"Suspense";case u0:return"SuspenseList";case c0:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case yf:return"Portal";case ga:return(r.displayName||"Context")+".Provider";case FO:return(r._context.displayName||"Context")+".Consumer";case Q_:var e=r.render;return r=r.displayName,r||(r=e.displayName||e.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case tb:return e=r.displayName||null,e!==null?e:f0(r.type)||"Memo";case is:e=r._payload,r=r._init;try{return f0(r(e))}catch{}}return null}var _f=Array.isArray,Ae=jO.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,en=uM.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ll={pending:!1,data:null,method:null,action:null},d0=[],fu=-1;function qo(r){return{current:r}}function _r(r){0>fu||(r.current=d0[fu],d0[fu]=null,fu--)}function Dn(r,e){fu++,d0[fu]=r.current,r.current=e}var Bo=qo(null),Qf=qo(null),ys=qo(null),Pp=qo(null);function Mp(r,e){switch(Dn(ys,e),Dn(Qf,r),Dn(Bo,null),e.nodeType){case 9:case 11:r=(r=e.documentElement)&&(r=r.namespaceURI)?fx(r):0;break;default:if(r=e.tagName,e=e.namespaceURI)e=fx(e),r=iA(e,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}_r(Bo),Dn(Bo,r)}function Ju(){_r(Bo),_r(Qf),_r(ys)}function h0(r){r.memoizedState!==null&&Dn(Pp,r);var e=Bo.current,t=iA(e,r.type);e!==t&&(Dn(Qf,r),Dn(Bo,t))}function Rp(r){Qf.current===r&&(_r(Bo),_r(Qf)),Pp.current===r&&(_r(Pp),ud._currentValue=ll)}var p0=Object.prototype.hasOwnProperty,eb=dr.unstable_scheduleCallback,Im=dr.unstable_cancelCallback,vM=dr.unstable_shouldYield,gM=dr.unstable_requestPaint,Fo=dr.unstable_now,mM=dr.unstable_getCurrentPriorityLevel,zO=dr.unstable_ImmediatePriority,HO=dr.unstable_UserBlockingPriority,Lp=dr.unstable_NormalPriority,yM=dr.unstable_LowPriority,WO=dr.unstable_IdlePriority,_M=dr.log,bM=dr.unstable_setDisableYieldValue,wd=null,Wi=null;function hs(r){if(typeof _M=="function"&&bM(r),Wi&&typeof Wi.setStrictMode=="function")try{Wi.setStrictMode(wd,r)}catch{}}var Ki=Math.clz32?Math.clz32:CM,wM=Math.log,SM=Math.LN2;function CM(r){return r>>>=0,r===0?32:31-(wM(r)/SM|0)|0}var Ah=256,Dh=4194304;function $s(r){var e=r&42;if(e!==0)return e;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Sg(r,e,t){var n=r.pendingLanes;if(n===0)return 0;var i=0,o=r.suspendedLanes,a=r.pingedLanes;r=r.warmLanes;var l=n&134217727;return l!==0?(n=l&~o,n!==0?i=$s(n):(a&=l,a!==0?i=$s(a):t||(t=l&~r,t!==0&&(i=$s(t))))):(l=n&~o,l!==0?i=$s(l):a!==0?i=$s(a):t||(t=n&~r,t!==0&&(i=$s(t)))),i===0?0:e!==0&&e!==i&&!(e&o)&&(o=i&-i,t=e&-e,o>=t||o===32&&(t&4194048)!==0)?e:i}function Sd(r,e){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&e)===0}function xM(r,e){switch(r){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function KO(){var r=Ah;return Ah<<=1,!(Ah&4194048)&&(Ah=256),r}function qO(){var r=Dh;return Dh<<=1,!(Dh&62914560)&&(Dh=4194304),r}function Vm(r){for(var e=[],t=0;31>t;t++)e.push(r);return e}function Cd(r,e){r.pendingLanes|=e,e!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function OM(r,e,t,n,i,o){var a=r.pendingLanes;r.pendingLanes=t,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=t,r.entangledLanes&=t,r.errorRecoveryDisabledLanes&=t,r.shellSuspendCounter=0;var l=r.entanglements,u=r.expirationTimes,c=r.hiddenUpdates;for(t=a&~t;0<t;){var d=31-Ki(t),h=1<<d;l[d]=0,u[d]=-1;var g=c[d];if(g!==null)for(c[d]=null,d=0;d<g.length;d++){var m=g[d];m!==null&&(m.lane&=-536870913)}t&=~h}n!==0&&GO(r,n,0),o!==0&&i===0&&r.tag!==0&&(r.suspendedLanes|=o&~(a&~e))}function GO(r,e,t){r.pendingLanes|=e,r.suspendedLanes&=~e;var n=31-Ki(e);r.entangledLanes|=e,r.entanglements[n]=r.entanglements[n]|1073741824|t&4194090}function YO(r,e){var t=r.entangledLanes|=e;for(r=r.entanglements;t;){var n=31-Ki(t),i=1<<n;i&e|r[n]&e&&(r[n]|=e),t&=~i}}function nb(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function rb(r){return r&=-r,2<r?8<r?r&134217727?32:268435456:8:2}function XO(){var r=en.p;return r!==0?r:(r=window.event,r===void 0?32:pA(r.type))}function EM(r,e){var t=en.p;try{return en.p=r,e()}finally{en.p=t}}var Rs=Math.random().toString(36).slice(2),jr="__reactFiber$"+Rs,Ci="__reactProps$"+Rs,dc="__reactContainer$"+Rs,v0="__reactEvents$"+Rs,TM="__reactListeners$"+Rs,AM="__reactHandles$"+Rs,sC="__reactResources$"+Rs,xd="__reactMarker$"+Rs;function ib(r){delete r[jr],delete r[Ci],delete r[v0],delete r[TM],delete r[AM]}function du(r){var e=r[jr];if(e)return e;for(var t=r.parentNode;t;){if(e=t[dc]||t[jr]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(r=px(r);r!==null;){if(t=r[jr])return t;r=px(r)}return e}r=t,t=r.parentNode}return null}function hc(r){if(r=r[jr]||r[dc]){var e=r.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return r}return null}function bf(r){var e=r.tag;if(e===5||e===26||e===27||e===6)return r.stateNode;throw Error(Zt(33))}function Bu(r){var e=r[sC];return e||(e=r[sC]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function mr(r){r[xd]=!0}var ZO=new Set,$O={};function El(r,e){Qu(r,e),Qu(r+"Capture",e)}function Qu(r,e){for($O[r]=e,r=0;r<e.length;r++)ZO.add(e[r])}var DM=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),lC={},uC={};function kM(r){return p0.call(uC,r)?!0:p0.call(lC,r)?!1:DM.test(r)?uC[r]=!0:(lC[r]=!0,!1)}function np(r,e,t){if(kM(e))if(t===null)r.removeAttribute(e);else{switch(typeof t){case"undefined":case"function":case"symbol":r.removeAttribute(e);return;case"boolean":var n=e.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){r.removeAttribute(e);return}}r.setAttribute(e,""+t)}}function kh(r,e,t){if(t===null)r.removeAttribute(e);else{switch(typeof t){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(e);return}r.setAttribute(e,""+t)}}function la(r,e,t,n){if(n===null)r.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(t);return}r.setAttributeNS(e,t,""+n)}}var Um,cC;function ou(r){if(Um===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);Um=e&&e[1]||"",cC=-1<t.stack.indexOf(`
    at`)?" (<anonymous>)":-1<t.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Um+r+cC}var Bm=!1;function Fm(r,e){if(!r||Bm)return"";Bm=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(e){var h=function(){throw Error()};if(Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(m){var g=m}Reflect.construct(r,[],h)}else{try{h.call()}catch(m){g=m}r.call(h.prototype)}}else{try{throw Error()}catch(m){g=m}(h=r())&&typeof h.catch=="function"&&h.catch(function(){})}}catch(m){if(m&&g&&typeof m.stack=="string")return[m.stack,g.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=n.DetermineComponentFrameRoot(),a=o[0],l=o[1];if(a&&l){var u=a.split(`
`),c=l.split(`
`);for(i=n=0;n<u.length&&!u[n].includes("DetermineComponentFrameRoot");)n++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(n===u.length||i===c.length)for(n=u.length-1,i=c.length-1;1<=n&&0<=i&&u[n]!==c[i];)i--;for(;1<=n&&0<=i;n--,i--)if(u[n]!==c[i]){if(n!==1||i!==1)do if(n--,i--,0>i||u[n]!==c[i]){var d=`
`+u[n].replace(" at new "," at ");return r.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",r.displayName)),d}while(1<=n&&0<=i);break}}}finally{Bm=!1,Error.prepareStackTrace=t}return(t=r?r.displayName||r.name:"")?ou(t):""}function PM(r){switch(r.tag){case 26:case 27:case 5:return ou(r.type);case 16:return ou("Lazy");case 13:return ou("Suspense");case 19:return ou("SuspenseList");case 0:case 15:return Fm(r.type,!1);case 11:return Fm(r.type.render,!1);case 1:return Fm(r.type,!0);case 31:return ou("Activity");default:return""}}function fC(r){try{var e="";do e+=PM(r),r=r.return;while(r);return e}catch(t){return`
Error generating stack: `+t.message+`
`+t.stack}}function eo(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function JO(r){var e=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function MM(r){var e=JO(r)?"checked":"value",t=Object.getOwnPropertyDescriptor(r.constructor.prototype,e),n=""+r[e];if(!r.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,o=t.set;return Object.defineProperty(r,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,o.call(this,a)}}),Object.defineProperty(r,e,{enumerable:t.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){r._valueTracker=null,delete r[e]}}}}function Np(r){r._valueTracker||(r._valueTracker=MM(r))}function QO(r){if(!r)return!1;var e=r._valueTracker;if(!e)return!0;var t=e.getValue(),n="";return r&&(n=JO(r)?r.checked?"true":"false":r.value),r=n,r!==t?(e.setValue(r),!0):!1}function jp(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var RM=/[\n"\\]/g;function oo(r){return r.replace(RM,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function g0(r,e,t,n,i,o,a,l){r.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?r.type=a:r.removeAttribute("type"),e!=null?a==="number"?(e===0&&r.value===""||r.value!=e)&&(r.value=""+eo(e)):r.value!==""+eo(e)&&(r.value=""+eo(e)):a!=="submit"&&a!=="reset"||r.removeAttribute("value"),e!=null?m0(r,a,eo(e)):t!=null?m0(r,a,eo(t)):n!=null&&r.removeAttribute("value"),i==null&&o!=null&&(r.defaultChecked=!!o),i!=null&&(r.checked=i&&typeof i!="function"&&typeof i!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?r.name=""+eo(l):r.removeAttribute("name")}function tE(r,e,t,n,i,o,a,l){if(o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(r.type=o),e!=null||t!=null){if(!(o!=="submit"&&o!=="reset"||e!=null))return;t=t!=null?""+eo(t):"",e=e!=null?""+eo(e):t,l||e===r.value||(r.value=e),r.defaultValue=e}n=n??i,n=typeof n!="function"&&typeof n!="symbol"&&!!n,r.checked=l?r.checked:!!n,r.defaultChecked=!!n,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(r.name=a)}function m0(r,e,t){e==="number"&&jp(r.ownerDocument)===r||r.defaultValue===""+t||(r.defaultValue=""+t)}function Fu(r,e,t,n){if(r=r.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<r.length;t++)i=e.hasOwnProperty("$"+r[t].value),r[t].selected!==i&&(r[t].selected=i),i&&n&&(r[t].defaultSelected=!0)}else{for(t=""+eo(t),e=null,i=0;i<r.length;i++){if(r[i].value===t){r[i].selected=!0,n&&(r[i].defaultSelected=!0);return}e!==null||r[i].disabled||(e=r[i])}e!==null&&(e.selected=!0)}}function eE(r,e,t){if(e!=null&&(e=""+eo(e),e!==r.value&&(r.value=e),t==null)){r.defaultValue!==e&&(r.defaultValue=e);return}r.defaultValue=t!=null?""+eo(t):""}function nE(r,e,t,n){if(e==null){if(n!=null){if(t!=null)throw Error(Zt(92));if(_f(n)){if(1<n.length)throw Error(Zt(93));n=n[0]}t=n}t==null&&(t=""),e=t}t=eo(e),r.defaultValue=t,n=r.textContent,n===t&&n!==""&&n!==null&&(r.value=n)}function tc(r,e){if(e){var t=r.firstChild;if(t&&t===r.lastChild&&t.nodeType===3){t.nodeValue=e;return}}r.textContent=e}var LM=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function dC(r,e,t){var n=e.indexOf("--")===0;t==null||typeof t=="boolean"||t===""?n?r.setProperty(e,""):e==="float"?r.cssFloat="":r[e]="":n?r.setProperty(e,t):typeof t!="number"||t===0||LM.has(e)?e==="float"?r.cssFloat=t:r[e]=(""+t).trim():r[e]=t+"px"}function rE(r,e,t){if(e!=null&&typeof e!="object")throw Error(Zt(62));if(r=r.style,t!=null){for(var n in t)!t.hasOwnProperty(n)||e!=null&&e.hasOwnProperty(n)||(n.indexOf("--")===0?r.setProperty(n,""):n==="float"?r.cssFloat="":r[n]="");for(var i in e)n=e[i],e.hasOwnProperty(i)&&t[i]!==n&&dC(r,i,n)}else for(var o in e)e.hasOwnProperty(o)&&dC(r,o,e[o])}function ob(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var NM=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),jM=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function rp(r){return jM.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var y0=null;function ab(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var hu=null,zu=null;function hC(r){var e=hc(r);if(e&&(r=e.stateNode)){var t=r[Ci]||null;t:switch(r=e.stateNode,e.type){case"input":if(g0(r,t.value,t.defaultValue,t.defaultValue,t.checked,t.defaultChecked,t.type,t.name),e=t.name,t.type==="radio"&&e!=null){for(t=r;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll('input[name="'+oo(""+e)+'"][type="radio"]'),e=0;e<t.length;e++){var n=t[e];if(n!==r&&n.form===r.form){var i=n[Ci]||null;if(!i)throw Error(Zt(90));g0(n,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(e=0;e<t.length;e++)n=t[e],n.form===r.form&&QO(n)}break t;case"textarea":eE(r,t.value,t.defaultValue);break t;case"select":e=t.value,e!=null&&Fu(r,!!t.multiple,e,!1)}}}var zm=!1;function iE(r,e,t){if(zm)return r(e,t);zm=!0;try{var n=r(e);return n}finally{if(zm=!1,(hu!==null||zu!==null)&&(Mg(),hu&&(e=hu,r=zu,zu=hu=null,hC(e),r)))for(e=0;e<r.length;e++)hC(r[e])}}function td(r,e){var t=r.stateNode;if(t===null)return null;var n=t[Ci]||null;if(n===null)return null;t=n[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(r=r.type,n=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!n;break t;default:r=!1}if(r)return null;if(t&&typeof t!="function")throw Error(Zt(231,e,typeof t));return t}var Ea=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_0=!1;if(Ea)try{var rf={};Object.defineProperty(rf,"passive",{get:function(){_0=!0}}),window.addEventListener("test",rf,rf),window.removeEventListener("test",rf,rf)}catch{_0=!1}var ps=null,sb=null,ip=null;function oE(){if(ip)return ip;var r,e=sb,t=e.length,n,i="value"in ps?ps.value:ps.textContent,o=i.length;for(r=0;r<t&&e[r]===i[r];r++);var a=t-r;for(n=1;n<=a&&e[t-n]===i[o-n];n++);return ip=i.slice(r,1<n?1-n:void 0)}function op(r){var e=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&e===13&&(r=13)):r=e,r===10&&(r=13),32<=r||r===13?r:0}function Ph(){return!0}function pC(){return!1}function xi(r){function e(t,n,i,o,a){this._reactName=t,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var l in r)r.hasOwnProperty(l)&&(t=r[l],this[l]=t?t(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ph:pC,this.isPropagationStopped=pC,this}return xn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Ph)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Ph)},persist:function(){},isPersistent:Ph}),e}var Tl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cg=xi(Tl),Od=xn({},Tl,{view:0,detail:0}),IM=xi(Od),Hm,Wm,of,xg=xn({},Od,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lb,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==of&&(of&&r.type==="mousemove"?(Hm=r.screenX-of.screenX,Wm=r.screenY-of.screenY):Wm=Hm=0,of=r),Hm)},movementY:function(r){return"movementY"in r?r.movementY:Wm}}),vC=xi(xg),VM=xn({},xg,{dataTransfer:0}),UM=xi(VM),BM=xn({},Od,{relatedTarget:0}),Km=xi(BM),FM=xn({},Tl,{animationName:0,elapsedTime:0,pseudoElement:0}),zM=xi(FM),HM=xn({},Tl,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),WM=xi(HM),KM=xn({},Tl,{data:0}),gC=xi(KM),qM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},GM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},YM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function XM(r){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(r):(r=YM[r])?!!e[r]:!1}function lb(){return XM}var ZM=xn({},Od,{key:function(r){if(r.key){var e=qM[r.key]||r.key;if(e!=="Unidentified")return e}return r.type==="keypress"?(r=op(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?GM[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lb,charCode:function(r){return r.type==="keypress"?op(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?op(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),$M=xi(ZM),JM=xn({},xg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mC=xi(JM),QM=xn({},Od,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lb}),tR=xi(QM),eR=xn({},Tl,{propertyName:0,elapsedTime:0,pseudoElement:0}),nR=xi(eR),rR=xn({},xg,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),iR=xi(rR),oR=xn({},Tl,{newState:0,oldState:0}),aR=xi(oR),sR=[9,13,27,32],ub=Ea&&"CompositionEvent"in window,Af=null;Ea&&"documentMode"in document&&(Af=document.documentMode);var lR=Ea&&"TextEvent"in window&&!Af,aE=Ea&&(!ub||Af&&8<Af&&11>=Af),yC=" ",_C=!1;function sE(r,e){switch(r){case"keyup":return sR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lE(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var pu=!1;function uR(r,e){switch(r){case"compositionend":return lE(e);case"keypress":return e.which!==32?null:(_C=!0,yC);case"textInput":return r=e.data,r===yC&&_C?null:r;default:return null}}function cR(r,e){if(pu)return r==="compositionend"||!ub&&sE(r,e)?(r=oE(),ip=sb=ps=null,pu=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return aE&&e.locale!=="ko"?null:e.data;default:return null}}var fR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bC(r){var e=r&&r.nodeName&&r.nodeName.toLowerCase();return e==="input"?!!fR[r.type]:e==="textarea"}function uE(r,e,t,n){hu?zu?zu.push(n):zu=[n]:hu=n,e=tv(e,"onChange"),0<e.length&&(t=new Cg("onChange","change",null,t,n),r.push({event:t,listeners:e}))}var Df=null,ed=null;function dR(r){eA(r,0)}function Og(r){var e=bf(r);if(QO(e))return r}function wC(r,e){if(r==="change")return e}var cE=!1;if(Ea){var qm;if(Ea){var Gm="oninput"in document;if(!Gm){var SC=document.createElement("div");SC.setAttribute("oninput","return;"),Gm=typeof SC.oninput=="function"}qm=Gm}else qm=!1;cE=qm&&(!document.documentMode||9<document.documentMode)}function CC(){Df&&(Df.detachEvent("onpropertychange",fE),ed=Df=null)}function fE(r){if(r.propertyName==="value"&&Og(ed)){var e=[];uE(e,ed,r,ab(r)),iE(dR,e)}}function hR(r,e,t){r==="focusin"?(CC(),Df=e,ed=t,Df.attachEvent("onpropertychange",fE)):r==="focusout"&&CC()}function pR(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Og(ed)}function vR(r,e){if(r==="click")return Og(e)}function gR(r,e){if(r==="input"||r==="change")return Og(e)}function mR(r,e){return r===e&&(r!==0||1/r===1/e)||r!==r&&e!==e}var Yi=typeof Object.is=="function"?Object.is:mR;function nd(r,e){if(Yi(r,e))return!0;if(typeof r!="object"||r===null||typeof e!="object"||e===null)return!1;var t=Object.keys(r),n=Object.keys(e);if(t.length!==n.length)return!1;for(n=0;n<t.length;n++){var i=t[n];if(!p0.call(e,i)||!Yi(r[i],e[i]))return!1}return!0}function xC(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function OC(r,e){var t=xC(r);r=0;for(var n;t;){if(t.nodeType===3){if(n=r+t.textContent.length,r<=e&&n>=e)return{node:t,offset:e-r};r=n}t:{for(;t;){if(t.nextSibling){t=t.nextSibling;break t}t=t.parentNode}t=void 0}t=xC(t)}}function dE(r,e){return r&&e?r===e?!0:r&&r.nodeType===3?!1:e&&e.nodeType===3?dE(r,e.parentNode):"contains"in r?r.contains(e):r.compareDocumentPosition?!!(r.compareDocumentPosition(e)&16):!1:!1}function hE(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var e=jp(r.document);e instanceof r.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)r=e.contentWindow;else break;e=jp(r.document)}return e}function cb(r){var e=r&&r.nodeName&&r.nodeName.toLowerCase();return e&&(e==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||e==="textarea"||r.contentEditable==="true")}var yR=Ea&&"documentMode"in document&&11>=document.documentMode,vu=null,b0=null,kf=null,w0=!1;function EC(r,e,t){var n=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;w0||vu==null||vu!==jp(n)||(n=vu,"selectionStart"in n&&cb(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),kf&&nd(kf,n)||(kf=n,n=tv(b0,"onSelect"),0<n.length&&(e=new Cg("onSelect","select",null,e,t),r.push({event:e,listeners:n}),e.target=vu)))}function Xs(r,e){var t={};return t[r.toLowerCase()]=e.toLowerCase(),t["Webkit"+r]="webkit"+e,t["Moz"+r]="moz"+e,t}var gu={animationend:Xs("Animation","AnimationEnd"),animationiteration:Xs("Animation","AnimationIteration"),animationstart:Xs("Animation","AnimationStart"),transitionrun:Xs("Transition","TransitionRun"),transitionstart:Xs("Transition","TransitionStart"),transitioncancel:Xs("Transition","TransitionCancel"),transitionend:Xs("Transition","TransitionEnd")},Ym={},pE={};Ea&&(pE=document.createElement("div").style,"AnimationEvent"in window||(delete gu.animationend.animation,delete gu.animationiteration.animation,delete gu.animationstart.animation),"TransitionEvent"in window||delete gu.transitionend.transition);function Al(r){if(Ym[r])return Ym[r];if(!gu[r])return r;var e=gu[r],t;for(t in e)if(e.hasOwnProperty(t)&&t in pE)return Ym[r]=e[t];return r}var vE=Al("animationend"),gE=Al("animationiteration"),mE=Al("animationstart"),_R=Al("transitionrun"),bR=Al("transitionstart"),wR=Al("transitioncancel"),yE=Al("transitionend"),_E=new Map,S0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");S0.push("scrollEnd");function Ao(r,e){_E.set(r,e),El(e,[r])}var TC=new WeakMap;function ao(r,e){if(typeof r=="object"&&r!==null){var t=TC.get(r);return t!==void 0?t:(e={value:r,source:e,stack:fC(e)},TC.set(r,e),e)}return{value:r,source:e,stack:fC(e)}}var to=[],mu=0,fb=0;function Eg(){for(var r=mu,e=fb=mu=0;e<r;){var t=to[e];to[e++]=null;var n=to[e];to[e++]=null;var i=to[e];to[e++]=null;var o=to[e];if(to[e++]=null,n!==null&&i!==null){var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}o!==0&&bE(t,i,o)}}function Tg(r,e,t,n){to[mu++]=r,to[mu++]=e,to[mu++]=t,to[mu++]=n,fb|=n,r.lanes|=n,r=r.alternate,r!==null&&(r.lanes|=n)}function db(r,e,t,n){return Tg(r,e,t,n),Ip(r)}function pc(r,e){return Tg(r,null,null,e),Ip(r)}function bE(r,e,t){r.lanes|=t;var n=r.alternate;n!==null&&(n.lanes|=t);for(var i=!1,o=r.return;o!==null;)o.childLanes|=t,n=o.alternate,n!==null&&(n.childLanes|=t),o.tag===22&&(r=o.stateNode,r===null||r._visibility&1||(i=!0)),r=o,o=o.return;return r.tag===3?(o=r.stateNode,i&&e!==null&&(i=31-Ki(t),r=o.hiddenUpdates,n=r[i],n===null?r[i]=[e]:n.push(e),e.lane=t|536870912),o):null}function Ip(r){if(50<Bf)throw Bf=0,H0=null,Error(Zt(185));for(var e=r.return;e!==null;)r=e,e=r.return;return r.tag===3?r.stateNode:null}var yu={};function SR(r,e,t,n){this.tag=r,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fi(r,e,t,n){return new SR(r,e,t,n)}function hb(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Sa(r,e){var t=r.alternate;return t===null?(t=Fi(r.tag,e,r.key,r.mode),t.elementType=r.elementType,t.type=r.type,t.stateNode=r.stateNode,t.alternate=r,r.alternate=t):(t.pendingProps=e,t.type=r.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=r.flags&65011712,t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,e=r.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=r.sibling,t.index=r.index,t.ref=r.ref,t.refCleanup=r.refCleanup,t}function wE(r,e){r.flags&=65011714;var t=r.alternate;return t===null?(r.childLanes=0,r.lanes=e,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,r.type=t.type,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r}function ap(r,e,t,n,i,o){var a=0;if(n=r,typeof r=="function")hb(r)&&(a=1);else if(typeof r=="string")a=xL(r,t,Bo.current)?26:r==="html"||r==="head"||r==="body"?27:5;else t:switch(r){case c0:return r=Fi(31,t,e,i),r.elementType=c0,r.lanes=o,r;case cu:return ul(t.children,i,o,e);case BO:a=8,i|=24;break;case s0:return r=Fi(12,t,e,i|2),r.elementType=s0,r.lanes=o,r;case l0:return r=Fi(13,t,e,i),r.elementType=l0,r.lanes=o,r;case u0:return r=Fi(19,t,e,i),r.elementType=u0,r.lanes=o,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case dM:case ga:a=10;break t;case FO:a=9;break t;case Q_:a=11;break t;case tb:a=14;break t;case is:a=16,n=null;break t}a=29,t=Error(Zt(130,r===null?"null":typeof r,"")),n=null}return e=Fi(a,t,e,i),e.elementType=r,e.type=n,e.lanes=o,e}function ul(r,e,t,n){return r=Fi(7,r,n,e),r.lanes=t,r}function Xm(r,e,t){return r=Fi(6,r,null,e),r.lanes=t,r}function Zm(r,e,t){return e=Fi(4,r.children!==null?r.children:[],r.key,e),e.lanes=t,e.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},e}var _u=[],bu=0,Vp=null,Up=0,no=[],ro=0,cl=null,ma=1,ya="";function Js(r,e){_u[bu++]=Up,_u[bu++]=Vp,Vp=r,Up=e}function SE(r,e,t){no[ro++]=ma,no[ro++]=ya,no[ro++]=cl,cl=r;var n=ma;r=ya;var i=32-Ki(n)-1;n&=~(1<<i),t+=1;var o=32-Ki(e)+i;if(30<o){var a=i-i%5;o=(n&(1<<a)-1).toString(32),n>>=a,i-=a,ma=1<<32-Ki(e)+i|t<<i|n,ya=o+r}else ma=1<<o|t<<i|n,ya=r}function pb(r){r.return!==null&&(Js(r,1),SE(r,1,0))}function vb(r){for(;r===Vp;)Vp=_u[--bu],_u[bu]=null,Up=_u[--bu],_u[bu]=null;for(;r===cl;)cl=no[--ro],no[ro]=null,ya=no[--ro],no[ro]=null,ma=no[--ro],no[ro]=null}var Qr=null,Vn=null,tn=!1,fl=null,Vo=!1,C0=Error(Zt(519));function gl(r){var e=Error(Zt(418,""));throw rd(ao(e,r)),C0}function AC(r){var e=r.stateNode,t=r.type,n=r.memoizedProps;switch(e[jr]=r,e[Ci]=n,t){case"dialog":We("cancel",e),We("close",e);break;case"iframe":case"object":case"embed":We("load",e);break;case"video":case"audio":for(t=0;t<ad.length;t++)We(ad[t],e);break;case"source":We("error",e);break;case"img":case"image":case"link":We("error",e),We("load",e);break;case"details":We("toggle",e);break;case"input":We("invalid",e),tE(e,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0),Np(e);break;case"select":We("invalid",e);break;case"textarea":We("invalid",e),nE(e,n.value,n.defaultValue,n.children),Np(e)}t=n.children,typeof t!="string"&&typeof t!="number"&&typeof t!="bigint"||e.textContent===""+t||n.suppressHydrationWarning===!0||rA(e.textContent,t)?(n.popover!=null&&(We("beforetoggle",e),We("toggle",e)),n.onScroll!=null&&We("scroll",e),n.onScrollEnd!=null&&We("scrollend",e),n.onClick!=null&&(e.onclick=Ng),e=!0):e=!1,e||gl(r)}function DC(r){for(Qr=r.return;Qr;)switch(Qr.tag){case 5:case 13:Vo=!1;return;case 27:case 3:Vo=!0;return;default:Qr=Qr.return}}function af(r){if(r!==Qr)return!1;if(!tn)return DC(r),tn=!0,!1;var e=r.tag,t;if((t=e!==3&&e!==27)&&((t=e===5)&&(t=r.type,t=!(t!=="form"&&t!=="button")||X0(r.type,r.memoizedProps)),t=!t),t&&Vn&&gl(r),DC(r),e===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(Zt(317));t:{for(r=r.nextSibling,e=0;r;){if(r.nodeType===8)if(t=r.data,t==="/$"){if(e===0){Vn=To(r.nextSibling);break t}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++;r=r.nextSibling}Vn=null}}else e===27?(e=Vn,Ls(r.type)?(r=J0,J0=null,Vn=r):Vn=e):Vn=Qr?To(r.stateNode.nextSibling):null;return!0}function Ed(){Vn=Qr=null,tn=!1}function kC(){var r=fl;return r!==null&&(vi===null?vi=r:vi.push.apply(vi,r),fl=null),r}function rd(r){fl===null?fl=[r]:fl.push(r)}var x0=qo(null),Dl=null,_a=null;function us(r,e,t){Dn(x0,e._currentValue),e._currentValue=t}function Ca(r){r._currentValue=x0.current,_r(x0)}function O0(r,e,t){for(;r!==null;){var n=r.alternate;if((r.childLanes&e)!==e?(r.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),r===t)break;r=r.return}}function E0(r,e,t,n){var i=r.child;for(i!==null&&(i.return=r);i!==null;){var o=i.dependencies;if(o!==null){var a=i.child;o=o.firstContext;t:for(;o!==null;){var l=o;o=i;for(var u=0;u<e.length;u++)if(l.context===e[u]){o.lanes|=t,l=o.alternate,l!==null&&(l.lanes|=t),O0(o.return,t,r),n||(a=null);break t}o=l.next}}else if(i.tag===18){if(a=i.return,a===null)throw Error(Zt(341));a.lanes|=t,o=a.alternate,o!==null&&(o.lanes|=t),O0(a,t,r),a=null}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===r){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}}function Td(r,e,t,n){r=null;for(var i=e,o=!1;i!==null;){if(!o){if(i.flags&524288)o=!0;else if(i.flags&262144)break}if(i.tag===10){var a=i.alternate;if(a===null)throw Error(Zt(387));if(a=a.memoizedProps,a!==null){var l=i.type;Yi(i.pendingProps.value,a.value)||(r!==null?r.push(l):r=[l])}}else if(i===Pp.current){if(a=i.alternate,a===null)throw Error(Zt(387));a.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(r!==null?r.push(ud):r=[ud])}i=i.return}r!==null&&E0(e,r,t,n),e.flags|=262144}function Bp(r){for(r=r.firstContext;r!==null;){if(!Yi(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function ml(r){Dl=r,_a=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Ir(r){return CE(Dl,r)}function Mh(r,e){return Dl===null&&ml(r),CE(r,e)}function CE(r,e){var t=e._currentValue;if(e={context:e,memoizedValue:t,next:null},_a===null){if(r===null)throw Error(Zt(308));_a=e,r.dependencies={lanes:0,firstContext:e},r.flags|=524288}else _a=_a.next=e;return t}var CR=typeof AbortController<"u"?AbortController:function(){var r=[],e=this.signal={aborted:!1,addEventListener:function(t,n){r.push(n)}};this.abort=function(){e.aborted=!0,r.forEach(function(t){return t()})}},xR=dr.unstable_scheduleCallback,OR=dr.unstable_NormalPriority,cr={$$typeof:ga,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function gb(){return{controller:new CR,data:new Map,refCount:0}}function Ad(r){r.refCount--,r.refCount===0&&xR(OR,function(){r.controller.abort()})}var Pf=null,T0=0,ec=0,Hu=null;function ER(r,e){if(Pf===null){var t=Pf=[];T0=0,ec=Ub(),Hu={status:"pending",value:void 0,then:function(n){t.push(n)}}}return T0++,e.then(PC,PC),e}function PC(){if(--T0===0&&Pf!==null){Hu!==null&&(Hu.status="fulfilled");var r=Pf;Pf=null,ec=0,Hu=null;for(var e=0;e<r.length;e++)(0,r[e])()}}function TR(r,e){var t=[],n={status:"pending",value:null,reason:null,then:function(i){t.push(i)}};return r.then(function(){n.status="fulfilled",n.value=e;for(var i=0;i<t.length;i++)(0,t[i])(e)},function(i){for(n.status="rejected",n.reason=i,i=0;i<t.length;i++)(0,t[i])(void 0)}),n}var MC=Ae.S;Ae.S=function(r,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&ER(r,e),MC!==null&&MC(r,e)};var dl=qo(null);function mb(){var r=dl.current;return r!==null?r:yn.pooledCache}function sp(r,e){e===null?Dn(dl,dl.current):Dn(dl,e.pool)}function xE(){var r=mb();return r===null?null:{parent:cr._currentValue,pool:r}}var Dd=Error(Zt(460)),OE=Error(Zt(474)),Ag=Error(Zt(542)),A0={then:function(){}};function RC(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Rh(){}function EE(r,e,t){switch(t=r[t],t===void 0?r.push(e):t!==e&&(e.then(Rh,Rh),e=t),e.status){case"fulfilled":return e.value;case"rejected":throw r=e.reason,NC(r),r;default:if(typeof e.status=="string")e.then(Rh,Rh);else{if(r=yn,r!==null&&100<r.shellSuspendCounter)throw Error(Zt(482));r=e,r.status="pending",r.then(function(n){if(e.status==="pending"){var i=e;i.status="fulfilled",i.value=n}},function(n){if(e.status==="pending"){var i=e;i.status="rejected",i.reason=n}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw r=e.reason,NC(r),r}throw Mf=e,Dd}}var Mf=null;function LC(){if(Mf===null)throw Error(Zt(459));var r=Mf;return Mf=null,r}function NC(r){if(r===Dd||r===Ag)throw Error(Zt(483))}var os=!1;function yb(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function D0(r,e){r=r.updateQueue,e.updateQueue===r&&(e.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function _s(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function bs(r,e,t){var n=r.updateQueue;if(n===null)return null;if(n=n.shared,sn&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,e=Ip(r),bE(r,null,t),e}return Tg(r,n,e,t),Ip(r)}function Rf(r,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194048)!==0)){var n=e.lanes;n&=r.pendingLanes,t|=n,e.lanes=t,YO(r,t)}}function $m(r,e){var t=r.updateQueue,n=r.alternate;if(n!==null&&(n=n.updateQueue,t===n)){var i=null,o=null;if(t=t.firstBaseUpdate,t!==null){do{var a={lane:t.lane,tag:t.tag,payload:t.payload,callback:null,next:null};o===null?i=o=a:o=o.next=a,t=t.next}while(t!==null);o===null?i=o=e:o=o.next=e}else i=o=e;t={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,callbacks:n.callbacks},r.updateQueue=t;return}r=t.lastBaseUpdate,r===null?t.firstBaseUpdate=e:r.next=e,t.lastBaseUpdate=e}var k0=!1;function Lf(){if(k0){var r=Hu;if(r!==null)throw r}}function Nf(r,e,t,n){k0=!1;var i=r.updateQueue;os=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,c=u.next;u.next=null,a===null?o=c:a.next=c,a=u;var d=r.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=u))}if(o!==null){var h=i.baseState;a=0,d=c=u=null,l=o;do{var g=l.lane&-536870913,m=g!==l.lane;if(m?($e&g)===g:(n&g)===g){g!==0&&g===ec&&(k0=!0),d!==null&&(d=d.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});t:{var b=r,w=l;g=e;var x=t;switch(w.tag){case 1:if(b=w.payload,typeof b=="function"){h=b.call(x,h,g);break t}h=b;break t;case 3:b.flags=b.flags&-65537|128;case 0:if(b=w.payload,g=typeof b=="function"?b.call(x,h,g):b,g==null)break t;h=xn({},h,g);break t;case 2:os=!0}}g=l.callback,g!==null&&(r.flags|=64,m&&(r.flags|=8192),m=i.callbacks,m===null?i.callbacks=[g]:m.push(g))}else m={lane:g,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(c=d=m,u=h):d=d.next=m,a|=g;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);d===null&&(u=h),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=d,o===null&&(i.shared.lanes=0),ks|=a,r.lanes=a,r.memoizedState=h}}function TE(r,e){if(typeof r!="function")throw Error(Zt(191,r));r.call(e)}function AE(r,e){var t=r.callbacks;if(t!==null)for(r.callbacks=null,r=0;r<t.length;r++)TE(t[r],e)}var nc=qo(null),Fp=qo(0);function jC(r,e){r=Da,Dn(Fp,r),Dn(nc,e),Da=r|e.baseLanes}function P0(){Dn(Fp,Da),Dn(nc,nc.current)}function _b(){Da=Fp.current,_r(nc),_r(Fp)}var As=0,Fe=null,cn=null,Qn=null,zp=!1,Wu=!1,yl=!1,Hp=0,id=0,Ku=null,AR=0;function Gn(){throw Error(Zt(321))}function bb(r,e){if(e===null)return!1;for(var t=0;t<e.length&&t<r.length;t++)if(!Yi(r[t],e[t]))return!1;return!0}function wb(r,e,t,n,i,o){return As=o,Fe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ae.H=r===null||r.memoizedState===null?oT:aT,yl=!1,o=t(n,i),yl=!1,Wu&&(o=kE(e,t,n,i)),DE(r),o}function DE(r){Ae.H=Wp;var e=cn!==null&&cn.next!==null;if(As=0,Qn=cn=Fe=null,zp=!1,id=0,Ku=null,e)throw Error(Zt(300));r===null||yr||(r=r.dependencies,r!==null&&Bp(r)&&(yr=!0))}function kE(r,e,t,n){Fe=r;var i=0;do{if(Wu&&(Ku=null),id=0,Wu=!1,25<=i)throw Error(Zt(301));if(i+=1,Qn=cn=null,r.updateQueue!=null){var o=r.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}Ae.H=NR,o=e(t,n)}while(Wu);return o}function DR(){var r=Ae.H,e=r.useState()[0];return e=typeof e.then=="function"?kd(e):e,r=r.useState()[0],(cn!==null?cn.memoizedState:null)!==r&&(Fe.flags|=1024),e}function Sb(){var r=Hp!==0;return Hp=0,r}function Cb(r,e,t){e.updateQueue=r.updateQueue,e.flags&=-2053,r.lanes&=~t}function xb(r){if(zp){for(r=r.memoizedState;r!==null;){var e=r.queue;e!==null&&(e.pending=null),r=r.next}zp=!1}As=0,Qn=cn=Fe=null,Wu=!1,id=Hp=0,Ku=null}function hi(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qn===null?Fe.memoizedState=Qn=r:Qn=Qn.next=r,Qn}function er(){if(cn===null){var r=Fe.alternate;r=r!==null?r.memoizedState:null}else r=cn.next;var e=Qn===null?Fe.memoizedState:Qn.next;if(e!==null)Qn=e,cn=r;else{if(r===null)throw Fe.alternate===null?Error(Zt(467)):Error(Zt(310));cn=r,r={memoizedState:cn.memoizedState,baseState:cn.baseState,baseQueue:cn.baseQueue,queue:cn.queue,next:null},Qn===null?Fe.memoizedState=Qn=r:Qn=Qn.next=r}return Qn}function Ob(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function kd(r){var e=id;return id+=1,Ku===null&&(Ku=[]),r=EE(Ku,r,e),e=Fe,(Qn===null?e.memoizedState:Qn.next)===null&&(e=e.alternate,Ae.H=e===null||e.memoizedState===null?oT:aT),r}function Dg(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return kd(r);if(r.$$typeof===ga)return Ir(r)}throw Error(Zt(438,String(r)))}function Eb(r){var e=null,t=Fe.updateQueue;if(t!==null&&(e=t.memoCache),e==null){var n=Fe.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(e={data:n.data.map(function(i){return i.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),t===null&&(t=Ob(),Fe.updateQueue=t),t.memoCache=e,t=e.data[e.index],t===void 0)for(t=e.data[e.index]=Array(r),n=0;n<r;n++)t[n]=hM;return e.index++,t}function Ta(r,e){return typeof e=="function"?e(r):e}function lp(r){var e=er();return Tb(e,cn,r)}function Tb(r,e,t){var n=r.queue;if(n===null)throw Error(Zt(311));n.lastRenderedReducer=t;var i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}e.baseQueue=i=o,n.pending=null}if(o=r.baseState,i===null)r.memoizedState=o;else{e=i.next;var l=a=null,u=null,c=e,d=!1;do{var h=c.lane&-536870913;if(h!==c.lane?($e&h)===h:(As&h)===h){var g=c.revertLane;if(g===0)u!==null&&(u=u.next={lane:0,revertLane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),h===ec&&(d=!0);else if((As&g)===g){c=c.next,g===ec&&(d=!0);continue}else h={lane:0,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},u===null?(l=u=h,a=o):u=u.next=h,Fe.lanes|=g,ks|=g;h=c.action,yl&&t(o,h),o=c.hasEagerState?c.eagerState:t(o,h)}else g={lane:h,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},u===null?(l=u=g,a=o):u=u.next=g,Fe.lanes|=h,ks|=h;c=c.next}while(c!==null&&c!==e);if(u===null?a=o:u.next=l,!Yi(o,r.memoizedState)&&(yr=!0,d&&(t=Hu,t!==null)))throw t;r.memoizedState=o,r.baseState=a,r.baseQueue=u,n.lastRenderedState=o}return i===null&&(n.lanes=0),[r.memoizedState,n.dispatch]}function Jm(r){var e=er(),t=e.queue;if(t===null)throw Error(Zt(311));t.lastRenderedReducer=r;var n=t.dispatch,i=t.pending,o=e.memoizedState;if(i!==null){t.pending=null;var a=i=i.next;do o=r(o,a.action),a=a.next;while(a!==i);Yi(o,e.memoizedState)||(yr=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),t.lastRenderedState=o}return[o,n]}function PE(r,e,t){var n=Fe,i=er(),o=tn;if(o){if(t===void 0)throw Error(Zt(407));t=t()}else t=e();var a=!Yi((cn||i).memoizedState,t);a&&(i.memoizedState=t,yr=!0),i=i.queue;var l=LE.bind(null,n,i,r);if(Pd(2048,8,l,[r]),i.getSnapshot!==e||a||Qn!==null&&Qn.memoizedState.tag&1){if(n.flags|=2048,rc(9,kg(),RE.bind(null,n,i,t,e),null),yn===null)throw Error(Zt(349));o||As&124||ME(n,e,t)}return t}function ME(r,e,t){r.flags|=16384,r={getSnapshot:e,value:t},e=Fe.updateQueue,e===null?(e=Ob(),Fe.updateQueue=e,e.stores=[r]):(t=e.stores,t===null?e.stores=[r]:t.push(r))}function RE(r,e,t,n){e.value=t,e.getSnapshot=n,NE(e)&&jE(r)}function LE(r,e,t){return t(function(){NE(e)&&jE(r)})}function NE(r){var e=r.getSnapshot;r=r.value;try{var t=e();return!Yi(r,t)}catch{return!0}}function jE(r){var e=pc(r,2);e!==null&&Gi(e,r,2)}function M0(r){var e=hi();if(typeof r=="function"){var t=r;if(r=t(),yl){hs(!0);try{t()}finally{hs(!1)}}}return e.memoizedState=e.baseState=r,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ta,lastRenderedState:r},e}function IE(r,e,t,n){return r.baseState=t,Tb(r,cn,typeof n=="function"?n:Ta)}function kR(r,e,t,n,i){if(Pg(r))throw Error(Zt(485));if(r=e.action,r!==null){var o={payload:i,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){o.listeners.push(a)}};Ae.T!==null?t(!0):o.isTransition=!1,n(o),t=e.pending,t===null?(o.next=e.pending=o,VE(e,o)):(o.next=t.next,e.pending=t.next=o)}}function VE(r,e){var t=e.action,n=e.payload,i=r.state;if(e.isTransition){var o=Ae.T,a={};Ae.T=a;try{var l=t(i,n),u=Ae.S;u!==null&&u(a,l),IC(r,e,l)}catch(c){R0(r,e,c)}finally{Ae.T=o}}else try{o=t(i,n),IC(r,e,o)}catch(c){R0(r,e,c)}}function IC(r,e,t){t!==null&&typeof t=="object"&&typeof t.then=="function"?t.then(function(n){VC(r,e,n)},function(n){return R0(r,e,n)}):VC(r,e,t)}function VC(r,e,t){e.status="fulfilled",e.value=t,UE(e),r.state=t,e=r.pending,e!==null&&(t=e.next,t===e?r.pending=null:(t=t.next,e.next=t,VE(r,t)))}function R0(r,e,t){var n=r.pending;if(r.pending=null,n!==null){n=n.next;do e.status="rejected",e.reason=t,UE(e),e=e.next;while(e!==n)}r.action=null}function UE(r){r=r.listeners;for(var e=0;e<r.length;e++)(0,r[e])()}function BE(r,e){return e}function UC(r,e){if(tn){var t=yn.formState;if(t!==null){t:{var n=Fe;if(tn){if(Vn){e:{for(var i=Vn,o=Vo;i.nodeType!==8;){if(!o){i=null;break e}if(i=To(i.nextSibling),i===null){i=null;break e}}o=i.data,i=o==="F!"||o==="F"?i:null}if(i){Vn=To(i.nextSibling),n=i.data==="F!";break t}}gl(n)}n=!1}n&&(e=t[0])}}return t=hi(),t.memoizedState=t.baseState=e,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:BE,lastRenderedState:e},t.queue=n,t=nT.bind(null,Fe,n),n.dispatch=t,n=M0(!1),o=Pb.bind(null,Fe,!1,n.queue),n=hi(),i={state:e,dispatch:null,action:r,pending:null},n.queue=i,t=kR.bind(null,Fe,i,o,t),i.dispatch=t,n.memoizedState=r,[e,t,!1]}function BC(r){var e=er();return FE(e,cn,r)}function FE(r,e,t){if(e=Tb(r,e,BE)[0],r=lp(Ta)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var n=kd(e)}catch(a){throw a===Dd?Ag:a}else n=e;e=er();var i=e.queue,o=i.dispatch;return t!==e.memoizedState&&(Fe.flags|=2048,rc(9,kg(),PR.bind(null,i,t),null)),[n,o,r]}function PR(r,e){r.action=e}function FC(r){var e=er(),t=cn;if(t!==null)return FE(e,t,r);er(),e=e.memoizedState,t=er();var n=t.queue.dispatch;return t.memoizedState=r,[e,n,!1]}function rc(r,e,t,n){return r={tag:r,create:t,deps:n,inst:e,next:null},e=Fe.updateQueue,e===null&&(e=Ob(),Fe.updateQueue=e),t=e.lastEffect,t===null?e.lastEffect=r.next=r:(n=t.next,t.next=r,r.next=n,e.lastEffect=r),r}function kg(){return{destroy:void 0,resource:void 0}}function zE(){return er().memoizedState}function up(r,e,t,n){var i=hi();n=n===void 0?null:n,Fe.flags|=r,i.memoizedState=rc(1|e,kg(),t,n)}function Pd(r,e,t,n){var i=er();n=n===void 0?null:n;var o=i.memoizedState.inst;cn!==null&&n!==null&&bb(n,cn.memoizedState.deps)?i.memoizedState=rc(e,o,t,n):(Fe.flags|=r,i.memoizedState=rc(1|e,o,t,n))}function zC(r,e){up(8390656,8,r,e)}function HE(r,e){Pd(2048,8,r,e)}function WE(r,e){return Pd(4,2,r,e)}function KE(r,e){return Pd(4,4,r,e)}function qE(r,e){if(typeof e=="function"){r=r();var t=e(r);return function(){typeof t=="function"?t():e(null)}}if(e!=null)return r=r(),e.current=r,function(){e.current=null}}function GE(r,e,t){t=t!=null?t.concat([r]):null,Pd(4,4,qE.bind(null,e,r),t)}function Ab(){}function YE(r,e){var t=er();e=e===void 0?null:e;var n=t.memoizedState;return e!==null&&bb(e,n[1])?n[0]:(t.memoizedState=[r,e],r)}function XE(r,e){var t=er();e=e===void 0?null:e;var n=t.memoizedState;if(e!==null&&bb(e,n[1]))return n[0];if(n=r(),yl){hs(!0);try{r()}finally{hs(!1)}}return t.memoizedState=[n,e],n}function Db(r,e,t){return t===void 0||As&1073741824?r.memoizedState=e:(r.memoizedState=t,r=UT(),Fe.lanes|=r,ks|=r,t)}function ZE(r,e,t,n){return Yi(t,e)?t:nc.current!==null?(r=Db(r,t,n),Yi(r,e)||(yr=!0),r):As&42?(r=UT(),Fe.lanes|=r,ks|=r,e):(yr=!0,r.memoizedState=t)}function $E(r,e,t,n,i){var o=en.p;en.p=o!==0&&8>o?o:8;var a=Ae.T,l={};Ae.T=l,Pb(r,!1,e,t);try{var u=i(),c=Ae.S;if(c!==null&&c(l,u),u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=TR(u,n);jf(r,e,d,qi(r))}else jf(r,e,n,qi(r))}catch(h){jf(r,e,{then:function(){},status:"rejected",reason:h},qi())}finally{en.p=o,Ae.T=a}}function MR(){}function L0(r,e,t,n){if(r.tag!==5)throw Error(Zt(476));var i=JE(r).queue;$E(r,i,e,ll,t===null?MR:function(){return QE(r),t(n)})}function JE(r){var e=r.memoizedState;if(e!==null)return e;e={memoizedState:ll,baseState:ll,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ta,lastRenderedState:ll},next:null};var t={};return e.next={memoizedState:t,baseState:t,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ta,lastRenderedState:t},next:null},r.memoizedState=e,r=r.alternate,r!==null&&(r.memoizedState=e),e}function QE(r){var e=JE(r).next.queue;jf(r,e,{},qi())}function kb(){return Ir(ud)}function tT(){return er().memoizedState}function eT(){return er().memoizedState}function RR(r){for(var e=r.return;e!==null;){switch(e.tag){case 24:case 3:var t=qi();r=_s(t);var n=bs(e,r,t);n!==null&&(Gi(n,e,t),Rf(n,e,t)),e={cache:gb()},r.payload=e;return}e=e.return}}function LR(r,e,t){var n=qi();t={lane:n,revertLane:0,action:t,hasEagerState:!1,eagerState:null,next:null},Pg(r)?rT(e,t):(t=db(r,e,t,n),t!==null&&(Gi(t,r,n),iT(t,e,n)))}function nT(r,e,t){var n=qi();jf(r,e,t,n)}function jf(r,e,t,n){var i={lane:n,revertLane:0,action:t,hasEagerState:!1,eagerState:null,next:null};if(Pg(r))rT(e,i);else{var o=r.alternate;if(r.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,l=o(a,t);if(i.hasEagerState=!0,i.eagerState=l,Yi(l,a))return Tg(r,e,i,0),yn===null&&Eg(),!1}catch{}finally{}if(t=db(r,e,i,n),t!==null)return Gi(t,r,n),iT(t,e,n),!0}return!1}function Pb(r,e,t,n){if(n={lane:2,revertLane:Ub(),action:n,hasEagerState:!1,eagerState:null,next:null},Pg(r)){if(e)throw Error(Zt(479))}else e=db(r,t,n,2),e!==null&&Gi(e,r,2)}function Pg(r){var e=r.alternate;return r===Fe||e!==null&&e===Fe}function rT(r,e){Wu=zp=!0;var t=r.pending;t===null?e.next=e:(e.next=t.next,t.next=e),r.pending=e}function iT(r,e,t){if(t&4194048){var n=e.lanes;n&=r.pendingLanes,t|=n,e.lanes=t,YO(r,t)}}var Wp={readContext:Ir,use:Dg,useCallback:Gn,useContext:Gn,useEffect:Gn,useImperativeHandle:Gn,useLayoutEffect:Gn,useInsertionEffect:Gn,useMemo:Gn,useReducer:Gn,useRef:Gn,useState:Gn,useDebugValue:Gn,useDeferredValue:Gn,useTransition:Gn,useSyncExternalStore:Gn,useId:Gn,useHostTransitionStatus:Gn,useFormState:Gn,useActionState:Gn,useOptimistic:Gn,useMemoCache:Gn,useCacheRefresh:Gn},oT={readContext:Ir,use:Dg,useCallback:function(r,e){return hi().memoizedState=[r,e===void 0?null:e],r},useContext:Ir,useEffect:zC,useImperativeHandle:function(r,e,t){t=t!=null?t.concat([r]):null,up(4194308,4,qE.bind(null,e,r),t)},useLayoutEffect:function(r,e){return up(4194308,4,r,e)},useInsertionEffect:function(r,e){up(4,2,r,e)},useMemo:function(r,e){var t=hi();e=e===void 0?null:e;var n=r();if(yl){hs(!0);try{r()}finally{hs(!1)}}return t.memoizedState=[n,e],n},useReducer:function(r,e,t){var n=hi();if(t!==void 0){var i=t(e);if(yl){hs(!0);try{t(e)}finally{hs(!1)}}}else i=e;return n.memoizedState=n.baseState=i,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:i},n.queue=r,r=r.dispatch=LR.bind(null,Fe,r),[n.memoizedState,r]},useRef:function(r){var e=hi();return r={current:r},e.memoizedState=r},useState:function(r){r=M0(r);var e=r.queue,t=nT.bind(null,Fe,e);return e.dispatch=t,[r.memoizedState,t]},useDebugValue:Ab,useDeferredValue:function(r,e){var t=hi();return Db(t,r,e)},useTransition:function(){var r=M0(!1);return r=$E.bind(null,Fe,r.queue,!0,!1),hi().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,e,t){var n=Fe,i=hi();if(tn){if(t===void 0)throw Error(Zt(407));t=t()}else{if(t=e(),yn===null)throw Error(Zt(349));$e&124||ME(n,e,t)}i.memoizedState=t;var o={value:t,getSnapshot:e};return i.queue=o,zC(LE.bind(null,n,o,r),[r]),n.flags|=2048,rc(9,kg(),RE.bind(null,n,o,t,e),null),t},useId:function(){var r=hi(),e=yn.identifierPrefix;if(tn){var t=ya,n=ma;t=(n&~(1<<32-Ki(n)-1)).toString(32)+t,e="«"+e+"R"+t,t=Hp++,0<t&&(e+="H"+t.toString(32)),e+="»"}else t=AR++,e="«"+e+"r"+t.toString(32)+"»";return r.memoizedState=e},useHostTransitionStatus:kb,useFormState:UC,useActionState:UC,useOptimistic:function(r){var e=hi();e.memoizedState=e.baseState=r;var t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=t,e=Pb.bind(null,Fe,!0,t),t.dispatch=e,[r,e]},useMemoCache:Eb,useCacheRefresh:function(){return hi().memoizedState=RR.bind(null,Fe)}},aT={readContext:Ir,use:Dg,useCallback:YE,useContext:Ir,useEffect:HE,useImperativeHandle:GE,useInsertionEffect:WE,useLayoutEffect:KE,useMemo:XE,useReducer:lp,useRef:zE,useState:function(){return lp(Ta)},useDebugValue:Ab,useDeferredValue:function(r,e){var t=er();return ZE(t,cn.memoizedState,r,e)},useTransition:function(){var r=lp(Ta)[0],e=er().memoizedState;return[typeof r=="boolean"?r:kd(r),e]},useSyncExternalStore:PE,useId:tT,useHostTransitionStatus:kb,useFormState:BC,useActionState:BC,useOptimistic:function(r,e){var t=er();return IE(t,cn,r,e)},useMemoCache:Eb,useCacheRefresh:eT},NR={readContext:Ir,use:Dg,useCallback:YE,useContext:Ir,useEffect:HE,useImperativeHandle:GE,useInsertionEffect:WE,useLayoutEffect:KE,useMemo:XE,useReducer:Jm,useRef:zE,useState:function(){return Jm(Ta)},useDebugValue:Ab,useDeferredValue:function(r,e){var t=er();return cn===null?Db(t,r,e):ZE(t,cn.memoizedState,r,e)},useTransition:function(){var r=Jm(Ta)[0],e=er().memoizedState;return[typeof r=="boolean"?r:kd(r),e]},useSyncExternalStore:PE,useId:tT,useHostTransitionStatus:kb,useFormState:FC,useActionState:FC,useOptimistic:function(r,e){var t=er();return cn!==null?IE(t,cn,r,e):(t.baseState=r,[r,t.queue.dispatch])},useMemoCache:Eb,useCacheRefresh:eT},qu=null,od=0;function Lh(r){var e=od;return od+=1,qu===null&&(qu=[]),EE(qu,r,e)}function sf(r,e){e=e.props.ref,r.ref=e!==void 0?e:null}function Nh(r,e){throw e.$$typeof===fM?Error(Zt(525)):(r=Object.prototype.toString.call(e),Error(Zt(31,r==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":r)))}function HC(r){var e=r._init;return e(r._payload)}function sT(r){function e(_,C){if(r){var O=_.deletions;O===null?(_.deletions=[C],_.flags|=16):O.push(C)}}function t(_,C){if(!r)return null;for(;C!==null;)e(_,C),C=C.sibling;return null}function n(_){for(var C=new Map;_!==null;)_.key!==null?C.set(_.key,_):C.set(_.index,_),_=_.sibling;return C}function i(_,C){return _=Sa(_,C),_.index=0,_.sibling=null,_}function o(_,C,O){return _.index=O,r?(O=_.alternate,O!==null?(O=O.index,O<C?(_.flags|=67108866,C):O):(_.flags|=67108866,C)):(_.flags|=1048576,C)}function a(_){return r&&_.alternate===null&&(_.flags|=67108866),_}function l(_,C,O,A){return C===null||C.tag!==6?(C=Xm(O,_.mode,A),C.return=_,C):(C=i(C,O),C.return=_,C)}function u(_,C,O,A){var I=O.type;return I===cu?d(_,C,O.props.children,A,O.key):C!==null&&(C.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===is&&HC(I)===C.type)?(C=i(C,O.props),sf(C,O),C.return=_,C):(C=ap(O.type,O.key,O.props,null,_.mode,A),sf(C,O),C.return=_,C)}function c(_,C,O,A){return C===null||C.tag!==4||C.stateNode.containerInfo!==O.containerInfo||C.stateNode.implementation!==O.implementation?(C=Zm(O,_.mode,A),C.return=_,C):(C=i(C,O.children||[]),C.return=_,C)}function d(_,C,O,A,I){return C===null||C.tag!==7?(C=ul(O,_.mode,A,I),C.return=_,C):(C=i(C,O),C.return=_,C)}function h(_,C,O){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return C=Xm(""+C,_.mode,O),C.return=_,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Th:return O=ap(C.type,C.key,C.props,null,_.mode,O),sf(O,C),O.return=_,O;case yf:return C=Zm(C,_.mode,O),C.return=_,C;case is:var A=C._init;return C=A(C._payload),h(_,C,O)}if(_f(C)||nf(C))return C=ul(C,_.mode,O,null),C.return=_,C;if(typeof C.then=="function")return h(_,Lh(C),O);if(C.$$typeof===ga)return h(_,Mh(_,C),O);Nh(_,C)}return null}function g(_,C,O,A){var I=C!==null?C.key:null;if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return I!==null?null:l(_,C,""+O,A);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Th:return O.key===I?u(_,C,O,A):null;case yf:return O.key===I?c(_,C,O,A):null;case is:return I=O._init,O=I(O._payload),g(_,C,O,A)}if(_f(O)||nf(O))return I!==null?null:d(_,C,O,A,null);if(typeof O.then=="function")return g(_,C,Lh(O),A);if(O.$$typeof===ga)return g(_,C,Mh(_,O),A);Nh(_,O)}return null}function m(_,C,O,A,I){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return _=_.get(O)||null,l(C,_,""+A,I);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Th:return _=_.get(A.key===null?O:A.key)||null,u(C,_,A,I);case yf:return _=_.get(A.key===null?O:A.key)||null,c(C,_,A,I);case is:var Q=A._init;return A=Q(A._payload),m(_,C,O,A,I)}if(_f(A)||nf(A))return _=_.get(O)||null,d(C,_,A,I,null);if(typeof A.then=="function")return m(_,C,O,Lh(A),I);if(A.$$typeof===ga)return m(_,C,O,Mh(C,A),I);Nh(C,A)}return null}function b(_,C,O,A){for(var I=null,Q=null,$=C,Z=C=0,P=null;$!==null&&Z<O.length;Z++){$.index>Z?(P=$,$=null):P=$.sibling;var tt=g(_,$,O[Z],A);if(tt===null){$===null&&($=P);break}r&&$&&tt.alternate===null&&e(_,$),C=o(tt,C,Z),Q===null?I=tt:Q.sibling=tt,Q=tt,$=P}if(Z===O.length)return t(_,$),tn&&Js(_,Z),I;if($===null){for(;Z<O.length;Z++)$=h(_,O[Z],A),$!==null&&(C=o($,C,Z),Q===null?I=$:Q.sibling=$,Q=$);return tn&&Js(_,Z),I}for($=n($);Z<O.length;Z++)P=m($,_,Z,O[Z],A),P!==null&&(r&&P.alternate!==null&&$.delete(P.key===null?Z:P.key),C=o(P,C,Z),Q===null?I=P:Q.sibling=P,Q=P);return r&&$.forEach(function(H){return e(_,H)}),tn&&Js(_,Z),I}function w(_,C,O,A){if(O==null)throw Error(Zt(151));for(var I=null,Q=null,$=C,Z=C=0,P=null,tt=O.next();$!==null&&!tt.done;Z++,tt=O.next()){$.index>Z?(P=$,$=null):P=$.sibling;var H=g(_,$,tt.value,A);if(H===null){$===null&&($=P);break}r&&$&&H.alternate===null&&e(_,$),C=o(H,C,Z),Q===null?I=H:Q.sibling=H,Q=H,$=P}if(tt.done)return t(_,$),tn&&Js(_,Z),I;if($===null){for(;!tt.done;Z++,tt=O.next())tt=h(_,tt.value,A),tt!==null&&(C=o(tt,C,Z),Q===null?I=tt:Q.sibling=tt,Q=tt);return tn&&Js(_,Z),I}for($=n($);!tt.done;Z++,tt=O.next())tt=m($,_,Z,tt.value,A),tt!==null&&(r&&tt.alternate!==null&&$.delete(tt.key===null?Z:tt.key),C=o(tt,C,Z),Q===null?I=tt:Q.sibling=tt,Q=tt);return r&&$.forEach(function(k){return e(_,k)}),tn&&Js(_,Z),I}function x(_,C,O,A){if(typeof O=="object"&&O!==null&&O.type===cu&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case Th:t:{for(var I=O.key;C!==null;){if(C.key===I){if(I=O.type,I===cu){if(C.tag===7){t(_,C.sibling),A=i(C,O.props.children),A.return=_,_=A;break t}}else if(C.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===is&&HC(I)===C.type){t(_,C.sibling),A=i(C,O.props),sf(A,O),A.return=_,_=A;break t}t(_,C);break}else e(_,C);C=C.sibling}O.type===cu?(A=ul(O.props.children,_.mode,A,O.key),A.return=_,_=A):(A=ap(O.type,O.key,O.props,null,_.mode,A),sf(A,O),A.return=_,_=A)}return a(_);case yf:t:{for(I=O.key;C!==null;){if(C.key===I)if(C.tag===4&&C.stateNode.containerInfo===O.containerInfo&&C.stateNode.implementation===O.implementation){t(_,C.sibling),A=i(C,O.children||[]),A.return=_,_=A;break t}else{t(_,C);break}else e(_,C);C=C.sibling}A=Zm(O,_.mode,A),A.return=_,_=A}return a(_);case is:return I=O._init,O=I(O._payload),x(_,C,O,A)}if(_f(O))return b(_,C,O,A);if(nf(O)){if(I=nf(O),typeof I!="function")throw Error(Zt(150));return O=I.call(O),w(_,C,O,A)}if(typeof O.then=="function")return x(_,C,Lh(O),A);if(O.$$typeof===ga)return x(_,C,Mh(_,O),A);Nh(_,O)}return typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint"?(O=""+O,C!==null&&C.tag===6?(t(_,C.sibling),A=i(C,O),A.return=_,_=A):(t(_,C),A=Xm(O,_.mode,A),A.return=_,_=A),a(_)):t(_,C)}return function(_,C,O,A){try{od=0;var I=x(_,C,O,A);return qu=null,I}catch($){if($===Dd||$===Ag)throw $;var Q=Fi(29,$,null,_.mode);return Q.lanes=A,Q.return=_,Q}finally{}}}var ic=sT(!0),lT=sT(!1),co=qo(null),zo=null;function cs(r){var e=r.alternate;Dn(fr,fr.current&1),Dn(co,r),zo===null&&(e===null||nc.current!==null||e.memoizedState!==null)&&(zo=r)}function uT(r){if(r.tag===22){if(Dn(fr,fr.current),Dn(co,r),zo===null){var e=r.alternate;e!==null&&e.memoizedState!==null&&(zo=r)}}else fs()}function fs(){Dn(fr,fr.current),Dn(co,co.current)}function ba(r){_r(co),zo===r&&(zo=null),_r(fr)}var fr=qo(0);function Kp(r){for(var e=r;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||$0(t)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break;for(;e.sibling===null;){if(e.return===null||e.return===r)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function Qm(r,e,t,n){e=r.memoizedState,t=t(n,e),t=t==null?e:xn({},e,t),r.memoizedState=t,r.lanes===0&&(r.updateQueue.baseState=t)}var N0={enqueueSetState:function(r,e,t){r=r._reactInternals;var n=qi(),i=_s(n);i.payload=e,t!=null&&(i.callback=t),e=bs(r,i,n),e!==null&&(Gi(e,r,n),Rf(e,r,n))},enqueueReplaceState:function(r,e,t){r=r._reactInternals;var n=qi(),i=_s(n);i.tag=1,i.payload=e,t!=null&&(i.callback=t),e=bs(r,i,n),e!==null&&(Gi(e,r,n),Rf(e,r,n))},enqueueForceUpdate:function(r,e){r=r._reactInternals;var t=qi(),n=_s(t);n.tag=2,e!=null&&(n.callback=e),e=bs(r,n,t),e!==null&&(Gi(e,r,t),Rf(e,r,t))}};function WC(r,e,t,n,i,o,a){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(n,o,a):e.prototype&&e.prototype.isPureReactComponent?!nd(t,n)||!nd(i,o):!0}function KC(r,e,t,n){r=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,n),e.state!==r&&N0.enqueueReplaceState(e,e.state,null)}function _l(r,e){var t=e;if("ref"in e){t={};for(var n in e)n!=="ref"&&(t[n]=e[n])}if(r=r.defaultProps){t===e&&(t=xn({},t));for(var i in r)t[i]===void 0&&(t[i]=r[i])}return t}var qp=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function cT(r){qp(r)}function fT(r){console.error(r)}function dT(r){qp(r)}function Gp(r,e){try{var t=r.onUncaughtError;t(e.value,{componentStack:e.stack})}catch(n){setTimeout(function(){throw n})}}function qC(r,e,t){try{var n=r.onCaughtError;n(t.value,{componentStack:t.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function j0(r,e,t){return t=_s(t),t.tag=3,t.payload={element:null},t.callback=function(){Gp(r,e)},t}function hT(r){return r=_s(r),r.tag=3,r}function pT(r,e,t,n){var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var o=n.value;r.payload=function(){return i(o)},r.callback=function(){qC(e,t,n)}}var a=t.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){qC(e,t,n),typeof i!="function"&&(ws===null?ws=new Set([this]):ws.add(this));var l=n.stack;this.componentDidCatch(n.value,{componentStack:l!==null?l:""})})}function jR(r,e,t,n,i){if(t.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(e=t.alternate,e!==null&&Td(e,t,i,!0),t=co.current,t!==null){switch(t.tag){case 13:return zo===null?W0():t.alternate===null&&Un===0&&(Un=3),t.flags&=-257,t.flags|=65536,t.lanes=i,n===A0?t.flags|=16384:(e=t.updateQueue,e===null?t.updateQueue=new Set([n]):e.add(n),cy(r,n,i)),!1;case 22:return t.flags|=65536,n===A0?t.flags|=16384:(e=t.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([n])},t.updateQueue=e):(t=e.retryQueue,t===null?e.retryQueue=new Set([n]):t.add(n)),cy(r,n,i)),!1}throw Error(Zt(435,t.tag))}return cy(r,n,i),W0(),!1}if(tn)return e=co.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=i,n!==C0&&(r=Error(Zt(422),{cause:n}),rd(ao(r,t)))):(n!==C0&&(e=Error(Zt(423),{cause:n}),rd(ao(e,t))),r=r.current.alternate,r.flags|=65536,i&=-i,r.lanes|=i,n=ao(n,t),i=j0(r.stateNode,n,i),$m(r,i),Un!==4&&(Un=2)),!1;var o=Error(Zt(520),{cause:n});if(o=ao(o,t),Uf===null?Uf=[o]:Uf.push(o),Un!==4&&(Un=2),e===null)return!0;n=ao(n,t),t=e;do{switch(t.tag){case 3:return t.flags|=65536,r=i&-i,t.lanes|=r,r=j0(t.stateNode,n,r),$m(t,r),!1;case 1:if(e=t.type,o=t.stateNode,(t.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||o!==null&&typeof o.componentDidCatch=="function"&&(ws===null||!ws.has(o))))return t.flags|=65536,i&=-i,t.lanes|=i,i=hT(i),pT(i,r,t,n),$m(t,i),!1}t=t.return}while(t!==null);return!1}var vT=Error(Zt(461)),yr=!1;function xr(r,e,t,n){e.child=r===null?lT(e,null,t,n):ic(e,r.child,t,n)}function GC(r,e,t,n,i){t=t.render;var o=e.ref;if("ref"in n){var a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}else a=n;return ml(e),n=wb(r,e,t,a,o,i),l=Sb(),r!==null&&!yr?(Cb(r,e,i),Aa(r,e,i)):(tn&&l&&pb(e),e.flags|=1,xr(r,e,n,i),e.child)}function YC(r,e,t,n,i){if(r===null){var o=t.type;return typeof o=="function"&&!hb(o)&&o.defaultProps===void 0&&t.compare===null?(e.tag=15,e.type=o,gT(r,e,o,n,i)):(r=ap(t.type,null,n,e,e.mode,i),r.ref=e.ref,r.return=e,e.child=r)}if(o=r.child,!Mb(r,i)){var a=o.memoizedProps;if(t=t.compare,t=t!==null?t:nd,t(a,n)&&r.ref===e.ref)return Aa(r,e,i)}return e.flags|=1,r=Sa(o,n),r.ref=e.ref,r.return=e,e.child=r}function gT(r,e,t,n,i){if(r!==null){var o=r.memoizedProps;if(nd(o,n)&&r.ref===e.ref)if(yr=!1,e.pendingProps=n=o,Mb(r,i))r.flags&131072&&(yr=!0);else return e.lanes=r.lanes,Aa(r,e,i)}return I0(r,e,t,n,i)}function mT(r,e,t){var n=e.pendingProps,i=n.children,o=r!==null?r.memoizedState:null;if(n.mode==="hidden"){if(e.flags&128){if(n=o!==null?o.baseLanes|t:t,r!==null){for(i=e.child=r.child,o=0;i!==null;)o=o|i.lanes|i.childLanes,i=i.sibling;e.childLanes=o&~n}else e.childLanes=0,e.child=null;return XC(r,e,n,t)}if(t&536870912)e.memoizedState={baseLanes:0,cachePool:null},r!==null&&sp(e,o!==null?o.cachePool:null),o!==null?jC(e,o):P0(),uT(e);else return e.lanes=e.childLanes=536870912,XC(r,e,o!==null?o.baseLanes|t:t,t)}else o!==null?(sp(e,o.cachePool),jC(e,o),fs(),e.memoizedState=null):(r!==null&&sp(e,null),P0(),fs());return xr(r,e,i,t),e.child}function XC(r,e,t,n){var i=mb();return i=i===null?null:{parent:cr._currentValue,pool:i},e.memoizedState={baseLanes:t,cachePool:i},r!==null&&sp(e,null),P0(),uT(e),r!==null&&Td(r,e,n,!0),null}function cp(r,e){var t=e.ref;if(t===null)r!==null&&r.ref!==null&&(e.flags|=4194816);else{if(typeof t!="function"&&typeof t!="object")throw Error(Zt(284));(r===null||r.ref!==t)&&(e.flags|=4194816)}}function I0(r,e,t,n,i){return ml(e),t=wb(r,e,t,n,void 0,i),n=Sb(),r!==null&&!yr?(Cb(r,e,i),Aa(r,e,i)):(tn&&n&&pb(e),e.flags|=1,xr(r,e,t,i),e.child)}function ZC(r,e,t,n,i,o){return ml(e),e.updateQueue=null,t=kE(e,n,t,i),DE(r),n=Sb(),r!==null&&!yr?(Cb(r,e,o),Aa(r,e,o)):(tn&&n&&pb(e),e.flags|=1,xr(r,e,t,o),e.child)}function $C(r,e,t,n,i){if(ml(e),e.stateNode===null){var o=yu,a=t.contextType;typeof a=="object"&&a!==null&&(o=Ir(a)),o=new t(n,o),e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=N0,e.stateNode=o,o._reactInternals=e,o=e.stateNode,o.props=n,o.state=e.memoizedState,o.refs={},yb(e),a=t.contextType,o.context=typeof a=="object"&&a!==null?Ir(a):yu,o.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Qm(e,t,a,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(a=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),a!==o.state&&N0.enqueueReplaceState(o,o.state,null),Nf(e,n,o,i),Lf(),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!0}else if(r===null){o=e.stateNode;var l=e.memoizedProps,u=_l(t,l);o.props=u;var c=o.context,d=t.contextType;a=yu,typeof d=="object"&&d!==null&&(a=Ir(d));var h=t.getDerivedStateFromProps;d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function",l=e.pendingProps!==l,d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l||c!==a)&&KC(e,o,n,a),os=!1;var g=e.memoizedState;o.state=g,Nf(e,n,o,i),Lf(),c=e.memoizedState,l||g!==c||os?(typeof h=="function"&&(Qm(e,t,h,n),c=e.memoizedState),(u=os||WC(e,t,u,n,g,c,a))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),o.props=n,o.state=c,o.context=a,n=u):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,D0(r,e),a=e.memoizedProps,d=_l(t,a),o.props=d,h=e.pendingProps,g=o.context,c=t.contextType,u=yu,typeof c=="object"&&c!==null&&(u=Ir(c)),l=t.getDerivedStateFromProps,(c=typeof l=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||g!==u)&&KC(e,o,n,u),os=!1,g=e.memoizedState,o.state=g,Nf(e,n,o,i),Lf();var m=e.memoizedState;a!==h||g!==m||os||r!==null&&r.dependencies!==null&&Bp(r.dependencies)?(typeof l=="function"&&(Qm(e,t,l,n),m=e.memoizedState),(d=os||WC(e,t,d,n,g,m,u)||r!==null&&r.dependencies!==null&&Bp(r.dependencies))?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,m,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,m,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===r.memoizedProps&&g===r.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===r.memoizedProps&&g===r.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=m),o.props=n,o.state=m,o.context=u,n=d):(typeof o.componentDidUpdate!="function"||a===r.memoizedProps&&g===r.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===r.memoizedProps&&g===r.memoizedState||(e.flags|=1024),n=!1)}return o=n,cp(r,e),n=(e.flags&128)!==0,o||n?(o=e.stateNode,t=n&&typeof t.getDerivedStateFromError!="function"?null:o.render(),e.flags|=1,r!==null&&n?(e.child=ic(e,r.child,null,i),e.child=ic(e,null,t,i)):xr(r,e,t,i),e.memoizedState=o.state,r=e.child):r=Aa(r,e,i),r}function JC(r,e,t,n){return Ed(),e.flags|=256,xr(r,e,t,n),e.child}var ty={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ey(r){return{baseLanes:r,cachePool:xE()}}function ny(r,e,t){return r=r!==null?r.childLanes&~t:0,e&&(r|=so),r}function yT(r,e,t){var n=e.pendingProps,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=r!==null&&r.memoizedState===null?!1:(fr.current&2)!==0),a&&(i=!0,e.flags&=-129),a=(e.flags&32)!==0,e.flags&=-33,r===null){if(tn){if(i?cs(e):fs(),tn){var l=Vn,u;if(u=l){t:{for(u=l,l=Vo;u.nodeType!==8;){if(!l){l=null;break t}if(u=To(u.nextSibling),u===null){l=null;break t}}l=u}l!==null?(e.memoizedState={dehydrated:l,treeContext:cl!==null?{id:ma,overflow:ya}:null,retryLane:536870912,hydrationErrors:null},u=Fi(18,null,null,0),u.stateNode=l,u.return=e,e.child=u,Qr=e,Vn=null,u=!0):u=!1}u||gl(e)}if(l=e.memoizedState,l!==null&&(l=l.dehydrated,l!==null))return $0(l)?e.lanes=32:e.lanes=536870912,null;ba(e)}return l=n.children,n=n.fallback,i?(fs(),i=e.mode,l=Yp({mode:"hidden",children:l},i),n=ul(n,i,t,null),l.return=e,n.return=e,l.sibling=n,e.child=l,i=e.child,i.memoizedState=ey(t),i.childLanes=ny(r,a,t),e.memoizedState=ty,n):(cs(e),V0(e,l))}if(u=r.memoizedState,u!==null&&(l=u.dehydrated,l!==null)){if(o)e.flags&256?(cs(e),e.flags&=-257,e=ry(r,e,t)):e.memoizedState!==null?(fs(),e.child=r.child,e.flags|=128,e=null):(fs(),i=n.fallback,l=e.mode,n=Yp({mode:"visible",children:n.children},l),i=ul(i,l,t,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,ic(e,r.child,null,t),n=e.child,n.memoizedState=ey(t),n.childLanes=ny(r,a,t),e.memoizedState=ty,e=i);else if(cs(e),$0(l)){if(a=l.nextSibling&&l.nextSibling.dataset,a)var c=a.dgst;a=c,n=Error(Zt(419)),n.stack="",n.digest=a,rd({value:n,source:null,stack:null}),e=ry(r,e,t)}else if(yr||Td(r,e,t,!1),a=(t&r.childLanes)!==0,yr||a){if(a=yn,a!==null&&(n=t&-t,n=n&42?1:nb(n),n=n&(a.suspendedLanes|t)?0:n,n!==0&&n!==u.retryLane))throw u.retryLane=n,pc(r,n),Gi(a,r,n),vT;l.data==="$?"||W0(),e=ry(r,e,t)}else l.data==="$?"?(e.flags|=192,e.child=r.child,e=null):(r=u.treeContext,Vn=To(l.nextSibling),Qr=e,tn=!0,fl=null,Vo=!1,r!==null&&(no[ro++]=ma,no[ro++]=ya,no[ro++]=cl,ma=r.id,ya=r.overflow,cl=e),e=V0(e,n.children),e.flags|=4096);return e}return i?(fs(),i=n.fallback,l=e.mode,u=r.child,c=u.sibling,n=Sa(u,{mode:"hidden",children:n.children}),n.subtreeFlags=u.subtreeFlags&65011712,c!==null?i=Sa(c,i):(i=ul(i,l,t,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,l=r.child.memoizedState,l===null?l=ey(t):(u=l.cachePool,u!==null?(c=cr._currentValue,u=u.parent!==c?{parent:c,pool:c}:u):u=xE(),l={baseLanes:l.baseLanes|t,cachePool:u}),i.memoizedState=l,i.childLanes=ny(r,a,t),e.memoizedState=ty,n):(cs(e),t=r.child,r=t.sibling,t=Sa(t,{mode:"visible",children:n.children}),t.return=e,t.sibling=null,r!==null&&(a=e.deletions,a===null?(e.deletions=[r],e.flags|=16):a.push(r)),e.child=t,e.memoizedState=null,t)}function V0(r,e){return e=Yp({mode:"visible",children:e},r.mode),e.return=r,r.child=e}function Yp(r,e){return r=Fi(22,r,null,e),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function ry(r,e,t){return ic(e,r.child,null,t),r=V0(e,e.pendingProps.children),r.flags|=2,e.memoizedState=null,r}function QC(r,e,t){r.lanes|=e;var n=r.alternate;n!==null&&(n.lanes|=e),O0(r.return,e,t)}function iy(r,e,t,n,i){var o=r.memoizedState;o===null?r.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:t,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=t,o.tailMode=i)}function _T(r,e,t){var n=e.pendingProps,i=n.revealOrder,o=n.tail;if(xr(r,e,n.children,t),n=fr.current,n&2)n=n&1|2,e.flags|=128;else{if(r!==null&&r.flags&128)t:for(r=e.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&QC(r,t,e);else if(r.tag===19)QC(r,t,e);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break t;for(;r.sibling===null;){if(r.return===null||r.return===e)break t;r=r.return}r.sibling.return=r.return,r=r.sibling}n&=1}switch(Dn(fr,n),i){case"forwards":for(t=e.child,i=null;t!==null;)r=t.alternate,r!==null&&Kp(r)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),iy(e,!1,i,t,o);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(r=i.alternate,r!==null&&Kp(r)===null){e.child=i;break}r=i.sibling,i.sibling=t,t=i,i=r}iy(e,!0,t,null,o);break;case"together":iy(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Aa(r,e,t){if(r!==null&&(e.dependencies=r.dependencies),ks|=e.lanes,!(t&e.childLanes))if(r!==null){if(Td(r,e,t,!1),(t&e.childLanes)===0)return null}else return null;if(r!==null&&e.child!==r.child)throw Error(Zt(153));if(e.child!==null){for(r=e.child,t=Sa(r,r.pendingProps),e.child=t,t.return=e;r.sibling!==null;)r=r.sibling,t=t.sibling=Sa(r,r.pendingProps),t.return=e;t.sibling=null}return e.child}function Mb(r,e){return r.lanes&e?!0:(r=r.dependencies,!!(r!==null&&Bp(r)))}function IR(r,e,t){switch(e.tag){case 3:Mp(e,e.stateNode.containerInfo),us(e,cr,r.memoizedState.cache),Ed();break;case 27:case 5:h0(e);break;case 4:Mp(e,e.stateNode.containerInfo);break;case 10:us(e,e.type,e.memoizedProps.value);break;case 13:var n=e.memoizedState;if(n!==null)return n.dehydrated!==null?(cs(e),e.flags|=128,null):t&e.child.childLanes?yT(r,e,t):(cs(e),r=Aa(r,e,t),r!==null?r.sibling:null);cs(e);break;case 19:var i=(r.flags&128)!==0;if(n=(t&e.childLanes)!==0,n||(Td(r,e,t,!1),n=(t&e.childLanes)!==0),i){if(n)return _T(r,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Dn(fr,fr.current),n)break;return null;case 22:case 23:return e.lanes=0,mT(r,e,t);case 24:us(e,cr,r.memoizedState.cache)}return Aa(r,e,t)}function bT(r,e,t){if(r!==null)if(r.memoizedProps!==e.pendingProps)yr=!0;else{if(!Mb(r,t)&&!(e.flags&128))return yr=!1,IR(r,e,t);yr=!!(r.flags&131072)}else yr=!1,tn&&e.flags&1048576&&SE(e,Up,e.index);switch(e.lanes=0,e.tag){case 16:t:{r=e.pendingProps;var n=e.elementType,i=n._init;if(n=i(n._payload),e.type=n,typeof n=="function")hb(n)?(r=_l(n,r),e.tag=1,e=$C(null,e,n,r,t)):(e.tag=0,e=I0(null,e,n,r,t));else{if(n!=null){if(i=n.$$typeof,i===Q_){e.tag=11,e=GC(null,e,n,r,t);break t}else if(i===tb){e.tag=14,e=YC(null,e,n,r,t);break t}}throw e=f0(n)||n,Error(Zt(306,e,""))}}return e;case 0:return I0(r,e,e.type,e.pendingProps,t);case 1:return n=e.type,i=_l(n,e.pendingProps),$C(r,e,n,i,t);case 3:t:{if(Mp(e,e.stateNode.containerInfo),r===null)throw Error(Zt(387));n=e.pendingProps;var o=e.memoizedState;i=o.element,D0(r,e),Nf(e,n,null,t);var a=e.memoizedState;if(n=a.cache,us(e,cr,n),n!==o.cache&&E0(e,[cr],t,!0),Lf(),n=a.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:a.cache},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){e=JC(r,e,n,t);break t}else if(n!==i){i=ao(Error(Zt(424)),e),rd(i),e=JC(r,e,n,t);break t}else{switch(r=e.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Vn=To(r.firstChild),Qr=e,tn=!0,fl=null,Vo=!0,t=lT(e,null,n,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling}else{if(Ed(),n===i){e=Aa(r,e,t);break t}xr(r,e,n,t)}e=e.child}return e;case 26:return cp(r,e),r===null?(t=gx(e.type,null,e.pendingProps,null))?e.memoizedState=t:tn||(t=e.type,r=e.pendingProps,n=ev(ys.current).createElement(t),n[jr]=e,n[Ci]=r,Er(n,t,r),mr(n),e.stateNode=n):e.memoizedState=gx(e.type,r.memoizedProps,e.pendingProps,r.memoizedState),null;case 27:return h0(e),r===null&&tn&&(n=e.stateNode=aA(e.type,e.pendingProps,ys.current),Qr=e,Vo=!0,i=Vn,Ls(e.type)?(J0=i,Vn=To(n.firstChild)):Vn=i),xr(r,e,e.pendingProps.children,t),cp(r,e),r===null&&(e.flags|=4194304),e.child;case 5:return r===null&&tn&&((i=n=Vn)&&(n=fL(n,e.type,e.pendingProps,Vo),n!==null?(e.stateNode=n,Qr=e,Vn=To(n.firstChild),Vo=!1,i=!0):i=!1),i||gl(e)),h0(e),i=e.type,o=e.pendingProps,a=r!==null?r.memoizedProps:null,n=o.children,X0(i,o)?n=null:a!==null&&X0(i,a)&&(e.flags|=32),e.memoizedState!==null&&(i=wb(r,e,DR,null,null,t),ud._currentValue=i),cp(r,e),xr(r,e,n,t),e.child;case 6:return r===null&&tn&&((r=t=Vn)&&(t=dL(t,e.pendingProps,Vo),t!==null?(e.stateNode=t,Qr=e,Vn=null,r=!0):r=!1),r||gl(e)),null;case 13:return yT(r,e,t);case 4:return Mp(e,e.stateNode.containerInfo),n=e.pendingProps,r===null?e.child=ic(e,null,n,t):xr(r,e,n,t),e.child;case 11:return GC(r,e,e.type,e.pendingProps,t);case 7:return xr(r,e,e.pendingProps,t),e.child;case 8:return xr(r,e,e.pendingProps.children,t),e.child;case 12:return xr(r,e,e.pendingProps.children,t),e.child;case 10:return n=e.pendingProps,us(e,e.type,n.value),xr(r,e,n.children,t),e.child;case 9:return i=e.type._context,n=e.pendingProps.children,ml(e),i=Ir(i),n=n(i),e.flags|=1,xr(r,e,n,t),e.child;case 14:return YC(r,e,e.type,e.pendingProps,t);case 15:return gT(r,e,e.type,e.pendingProps,t);case 19:return _T(r,e,t);case 31:return n=e.pendingProps,t=e.mode,n={mode:n.mode,children:n.children},r===null?(t=Yp(n,t),t.ref=e.ref,e.child=t,t.return=e,e=t):(t=Sa(r.child,n),t.ref=e.ref,e.child=t,t.return=e,e=t),e;case 22:return mT(r,e,t);case 24:return ml(e),n=Ir(cr),r===null?(i=mb(),i===null&&(i=yn,o=gb(),i.pooledCache=o,o.refCount++,o!==null&&(i.pooledCacheLanes|=t),i=o),e.memoizedState={parent:n,cache:i},yb(e),us(e,cr,i)):(r.lanes&t&&(D0(r,e),Nf(e,null,null,t),Lf()),i=r.memoizedState,o=e.memoizedState,i.parent!==n?(i={parent:n,cache:n},e.memoizedState=i,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=i),us(e,cr,n)):(n=o.cache,us(e,cr,n),n!==i.cache&&E0(e,[cr],t,!0))),xr(r,e,e.pendingProps.children,t),e.child;case 29:throw e.pendingProps}throw Error(Zt(156,e.tag))}function ua(r){r.flags|=4}function tx(r,e){if(e.type!=="stylesheet"||e.state.loading&4)r.flags&=-16777217;else if(r.flags|=16777216,!uA(e)){if(e=co.current,e!==null&&(($e&4194048)===$e?zo!==null:($e&62914560)!==$e&&!($e&536870912)||e!==zo))throw Mf=A0,OE;r.flags|=8192}}function jh(r,e){e!==null&&(r.flags|=4),r.flags&16384&&(e=r.tag!==22?qO():536870912,r.lanes|=e,oc|=e)}function lf(r,e){if(!tn)switch(r.tailMode){case"hidden":e=r.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?r.tail=null:t.sibling=null;break;case"collapsed":t=r.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e||r.tail===null?r.tail=null:r.tail.sibling=null:n.sibling=null}}function Mn(r){var e=r.alternate!==null&&r.alternate.child===r.child,t=0,n=0;if(e)for(var i=r.child;i!==null;)t|=i.lanes|i.childLanes,n|=i.subtreeFlags&65011712,n|=i.flags&65011712,i.return=r,i=i.sibling;else for(i=r.child;i!==null;)t|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=r,i=i.sibling;return r.subtreeFlags|=n,r.childLanes=t,e}function VR(r,e,t){var n=e.pendingProps;switch(vb(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mn(e),null;case 1:return Mn(e),null;case 3:return t=e.stateNode,n=null,r!==null&&(n=r.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Ca(cr),Ju(),t.pendingContext&&(t.context=t.pendingContext,t.pendingContext=null),(r===null||r.child===null)&&(af(e)?ua(e):r===null||r.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,kC())),Mn(e),null;case 26:return t=e.memoizedState,r===null?(ua(e),t!==null?(Mn(e),tx(e,t)):(Mn(e),e.flags&=-16777217)):t?t!==r.memoizedState?(ua(e),Mn(e),tx(e,t)):(Mn(e),e.flags&=-16777217):(r.memoizedProps!==n&&ua(e),Mn(e),e.flags&=-16777217),null;case 27:Rp(e),t=ys.current;var i=e.type;if(r!==null&&e.stateNode!=null)r.memoizedProps!==n&&ua(e);else{if(!n){if(e.stateNode===null)throw Error(Zt(166));return Mn(e),null}r=Bo.current,af(e)?AC(e):(r=aA(i,n,t),e.stateNode=r,ua(e))}return Mn(e),null;case 5:if(Rp(e),t=e.type,r!==null&&e.stateNode!=null)r.memoizedProps!==n&&ua(e);else{if(!n){if(e.stateNode===null)throw Error(Zt(166));return Mn(e),null}if(r=Bo.current,af(e))AC(e);else{switch(i=ev(ys.current),r){case 1:r=i.createElementNS("http://www.w3.org/2000/svg",t);break;case 2:r=i.createElementNS("http://www.w3.org/1998/Math/MathML",t);break;default:switch(t){case"svg":r=i.createElementNS("http://www.w3.org/2000/svg",t);break;case"math":r=i.createElementNS("http://www.w3.org/1998/Math/MathML",t);break;case"script":r=i.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof n.is=="string"?i.createElement("select",{is:n.is}):i.createElement("select"),n.multiple?r.multiple=!0:n.size&&(r.size=n.size);break;default:r=typeof n.is=="string"?i.createElement(t,{is:n.is}):i.createElement(t)}}r[jr]=e,r[Ci]=n;t:for(i=e.child;i!==null;){if(i.tag===5||i.tag===6)r.appendChild(i.stateNode);else if(i.tag!==4&&i.tag!==27&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}e.stateNode=r;t:switch(Er(r,t,n),t){case"button":case"input":case"select":case"textarea":r=!!n.autoFocus;break t;case"img":r=!0;break t;default:r=!1}r&&ua(e)}}return Mn(e),e.flags&=-16777217,null;case 6:if(r&&e.stateNode!=null)r.memoizedProps!==n&&ua(e);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Zt(166));if(r=ys.current,af(e)){if(r=e.stateNode,t=e.memoizedProps,n=null,i=Qr,i!==null)switch(i.tag){case 27:case 5:n=i.memoizedProps}r[jr]=e,r=!!(r.nodeValue===t||n!==null&&n.suppressHydrationWarning===!0||rA(r.nodeValue,t)),r||gl(e)}else r=ev(r).createTextNode(n),r[jr]=e,e.stateNode=r}return Mn(e),null;case 13:if(n=e.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(i=af(e),n!==null&&n.dehydrated!==null){if(r===null){if(!i)throw Error(Zt(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Zt(317));i[jr]=e}else Ed(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Mn(e),i=!1}else i=kC(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=i),i=!0;if(!i)return e.flags&256?(ba(e),e):(ba(e),null)}if(ba(e),e.flags&128)return e.lanes=t,e;if(t=n!==null,r=r!==null&&r.memoizedState!==null,t){n=e.child,i=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(i=n.alternate.memoizedState.cachePool.pool);var o=null;n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==i&&(n.flags|=2048)}return t!==r&&t&&(e.child.flags|=8192),jh(e,e.updateQueue),Mn(e),null;case 4:return Ju(),r===null&&Bb(e.stateNode.containerInfo),Mn(e),null;case 10:return Ca(e.type),Mn(e),null;case 19:if(_r(fr),i=e.memoizedState,i===null)return Mn(e),null;if(n=(e.flags&128)!==0,o=i.rendering,o===null)if(n)lf(i,!1);else{if(Un!==0||r!==null&&r.flags&128)for(r=e.child;r!==null;){if(o=Kp(r),o!==null){for(e.flags|=128,lf(i,!1),r=o.updateQueue,e.updateQueue=r,jh(e,r),e.subtreeFlags=0,r=t,t=e.child;t!==null;)wE(t,r),t=t.sibling;return Dn(fr,fr.current&1|2),e.child}r=r.sibling}i.tail!==null&&Fo()>Zp&&(e.flags|=128,n=!0,lf(i,!1),e.lanes=4194304)}else{if(!n)if(r=Kp(o),r!==null){if(e.flags|=128,n=!0,r=r.updateQueue,e.updateQueue=r,jh(e,r),lf(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!tn)return Mn(e),null}else 2*Fo()-i.renderingStartTime>Zp&&t!==536870912&&(e.flags|=128,n=!0,lf(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(r=i.last,r!==null?r.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Fo(),e.sibling=null,r=fr.current,Dn(fr,n?r&1|2:r&1),e):(Mn(e),null);case 22:case 23:return ba(e),_b(),n=e.memoizedState!==null,r!==null?r.memoizedState!==null!==n&&(e.flags|=8192):n&&(e.flags|=8192),n?t&536870912&&!(e.flags&128)&&(Mn(e),e.subtreeFlags&6&&(e.flags|=8192)):Mn(e),t=e.updateQueue,t!==null&&jh(e,t.retryQueue),t=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),n=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),n!==t&&(e.flags|=2048),r!==null&&_r(dl),null;case 24:return t=null,r!==null&&(t=r.memoizedState.cache),e.memoizedState.cache!==t&&(e.flags|=2048),Ca(cr),Mn(e),null;case 25:return null;case 30:return null}throw Error(Zt(156,e.tag))}function UR(r,e){switch(vb(e),e.tag){case 1:return r=e.flags,r&65536?(e.flags=r&-65537|128,e):null;case 3:return Ca(cr),Ju(),r=e.flags,r&65536&&!(r&128)?(e.flags=r&-65537|128,e):null;case 26:case 27:case 5:return Rp(e),null;case 13:if(ba(e),r=e.memoizedState,r!==null&&r.dehydrated!==null){if(e.alternate===null)throw Error(Zt(340));Ed()}return r=e.flags,r&65536?(e.flags=r&-65537|128,e):null;case 19:return _r(fr),null;case 4:return Ju(),null;case 10:return Ca(e.type),null;case 22:case 23:return ba(e),_b(),r!==null&&_r(dl),r=e.flags,r&65536?(e.flags=r&-65537|128,e):null;case 24:return Ca(cr),null;case 25:return null;default:return null}}function wT(r,e){switch(vb(e),e.tag){case 3:Ca(cr),Ju();break;case 26:case 27:case 5:Rp(e);break;case 4:Ju();break;case 13:ba(e);break;case 19:_r(fr);break;case 10:Ca(e.type);break;case 22:case 23:ba(e),_b(),r!==null&&_r(dl);break;case 24:Ca(cr)}}function Md(r,e){try{var t=e.updateQueue,n=t!==null?t.lastEffect:null;if(n!==null){var i=n.next;t=i;do{if((t.tag&r)===r){n=void 0;var o=t.create,a=t.inst;n=o(),a.destroy=n}t=t.next}while(t!==i)}}catch(l){fn(e,e.return,l)}}function Ds(r,e,t){try{var n=e.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var o=i.next;n=o;do{if((n.tag&r)===r){var a=n.inst,l=a.destroy;if(l!==void 0){a.destroy=void 0,i=e;var u=t,c=l;try{c()}catch(d){fn(i,u,d)}}}n=n.next}while(n!==o)}}catch(d){fn(e,e.return,d)}}function ST(r){var e=r.updateQueue;if(e!==null){var t=r.stateNode;try{AE(e,t)}catch(n){fn(r,r.return,n)}}}function CT(r,e,t){t.props=_l(r.type,r.memoizedProps),t.state=r.memoizedState;try{t.componentWillUnmount()}catch(n){fn(r,e,n)}}function If(r,e){try{var t=r.ref;if(t!==null){switch(r.tag){case 26:case 27:case 5:var n=r.stateNode;break;case 30:n=r.stateNode;break;default:n=r.stateNode}typeof t=="function"?r.refCleanup=t(n):t.current=n}}catch(i){fn(r,e,i)}}function Uo(r,e){var t=r.ref,n=r.refCleanup;if(t!==null)if(typeof n=="function")try{n()}catch(i){fn(r,e,i)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof t=="function")try{t(null)}catch(i){fn(r,e,i)}else t.current=null}function xT(r){var e=r.type,t=r.memoizedProps,n=r.stateNode;try{t:switch(e){case"button":case"input":case"select":case"textarea":t.autoFocus&&n.focus();break t;case"img":t.src?n.src=t.src:t.srcSet&&(n.srcset=t.srcSet)}}catch(i){fn(r,r.return,i)}}function oy(r,e,t){try{var n=r.stateNode;aL(n,r.type,t,e),n[Ci]=e}catch(i){fn(r,r.return,i)}}function OT(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Ls(r.type)||r.tag===4}function ay(r){t:for(;;){for(;r.sibling===null;){if(r.return===null||OT(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Ls(r.type)||r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function U0(r,e,t){var n=r.tag;if(n===5||n===6)r=r.stateNode,e?(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t).insertBefore(r,e):(e=t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,e.appendChild(r),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Ng));else if(n!==4&&(n===27&&Ls(r.type)&&(t=r.stateNode,e=null),r=r.child,r!==null))for(U0(r,e,t),r=r.sibling;r!==null;)U0(r,e,t),r=r.sibling}function Xp(r,e,t){var n=r.tag;if(n===5||n===6)r=r.stateNode,e?t.insertBefore(r,e):t.appendChild(r);else if(n!==4&&(n===27&&Ls(r.type)&&(t=r.stateNode),r=r.child,r!==null))for(Xp(r,e,t),r=r.sibling;r!==null;)Xp(r,e,t),r=r.sibling}function ET(r){var e=r.stateNode,t=r.memoizedProps;try{for(var n=r.type,i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Er(e,n,t),e[jr]=r,e[Ci]=t}catch(o){fn(r,r.return,o)}}var pa=!1,Yn=!1,sy=!1,ex=typeof WeakSet=="function"?WeakSet:Set,gr=null;function BR(r,e){if(r=r.containerInfo,G0=ov,r=hE(r),cb(r)){if("selectionStart"in r)var t={start:r.selectionStart,end:r.selectionEnd};else t:{t=(t=r.ownerDocument)&&t.defaultView||window;var n=t.getSelection&&t.getSelection();if(n&&n.rangeCount!==0){t=n.anchorNode;var i=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{t.nodeType,o.nodeType}catch{t=null;break t}var a=0,l=-1,u=-1,c=0,d=0,h=r,g=null;e:for(;;){for(var m;h!==t||i!==0&&h.nodeType!==3||(l=a+i),h!==o||n!==0&&h.nodeType!==3||(u=a+n),h.nodeType===3&&(a+=h.nodeValue.length),(m=h.firstChild)!==null;)g=h,h=m;for(;;){if(h===r)break e;if(g===t&&++c===i&&(l=a),g===o&&++d===n&&(u=a),(m=h.nextSibling)!==null)break;h=g,g=h.parentNode}h=m}t=l===-1||u===-1?null:{start:l,end:u}}else t=null}t=t||{start:0,end:0}}else t=null;for(Y0={focusedElem:r,selectionRange:t},ov=!1,gr=e;gr!==null;)if(e=gr,r=e.child,(e.subtreeFlags&1024)!==0&&r!==null)r.return=e,gr=r;else for(;gr!==null;){switch(e=gr,o=e.alternate,r=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if(r&1024&&o!==null){r=void 0,t=e,i=o.memoizedProps,o=o.memoizedState,n=t.stateNode;try{var b=_l(t.type,i,t.elementType===t.type);r=n.getSnapshotBeforeUpdate(b,o),n.__reactInternalSnapshotBeforeUpdate=r}catch(w){fn(t,t.return,w)}}break;case 3:if(r&1024){if(r=e.stateNode.containerInfo,t=r.nodeType,t===9)Z0(r);else if(t===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Z0(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(r&1024)throw Error(Zt(163))}if(r=e.sibling,r!==null){r.return=e.return,gr=r;break}gr=e.return}}function TT(r,e,t){var n=t.flags;switch(t.tag){case 0:case 11:case 15:ns(r,t),n&4&&Md(5,t);break;case 1:if(ns(r,t),n&4)if(r=t.stateNode,e===null)try{r.componentDidMount()}catch(a){fn(t,t.return,a)}else{var i=_l(t.type,e.memoizedProps);e=e.memoizedState;try{r.componentDidUpdate(i,e,r.__reactInternalSnapshotBeforeUpdate)}catch(a){fn(t,t.return,a)}}n&64&&ST(t),n&512&&If(t,t.return);break;case 3:if(ns(r,t),n&64&&(r=t.updateQueue,r!==null)){if(e=null,t.child!==null)switch(t.child.tag){case 27:case 5:e=t.child.stateNode;break;case 1:e=t.child.stateNode}try{AE(r,e)}catch(a){fn(t,t.return,a)}}break;case 27:e===null&&n&4&&ET(t);case 26:case 5:ns(r,t),e===null&&n&4&&xT(t),n&512&&If(t,t.return);break;case 12:ns(r,t);break;case 13:ns(r,t),n&4&&kT(r,t),n&64&&(r=t.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(t=XR.bind(null,t),hL(r,t))));break;case 22:if(n=t.memoizedState!==null||pa,!n){e=e!==null&&e.memoizedState!==null||Yn,i=pa;var o=Yn;pa=n,(Yn=e)&&!o?rs(r,t,(t.subtreeFlags&8772)!==0):ns(r,t),pa=i,Yn=o}break;case 30:break;default:ns(r,t)}}function AT(r){var e=r.alternate;e!==null&&(r.alternate=null,AT(e)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(e=r.stateNode,e!==null&&ib(e)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Tn=null,pi=!1;function ca(r,e,t){for(t=t.child;t!==null;)DT(r,e,t),t=t.sibling}function DT(r,e,t){if(Wi&&typeof Wi.onCommitFiberUnmount=="function")try{Wi.onCommitFiberUnmount(wd,t)}catch{}switch(t.tag){case 26:Yn||Uo(t,e),ca(r,e,t),t.memoizedState?t.memoizedState.count--:t.stateNode&&(t=t.stateNode,t.parentNode.removeChild(t));break;case 27:Yn||Uo(t,e);var n=Tn,i=pi;Ls(t.type)&&(Tn=t.stateNode,pi=!1),ca(r,e,t),Ff(t.stateNode),Tn=n,pi=i;break;case 5:Yn||Uo(t,e);case 6:if(n=Tn,i=pi,Tn=null,ca(r,e,t),Tn=n,pi=i,Tn!==null)if(pi)try{(Tn.nodeType===9?Tn.body:Tn.nodeName==="HTML"?Tn.ownerDocument.body:Tn).removeChild(t.stateNode)}catch(o){fn(t,e,o)}else try{Tn.removeChild(t.stateNode)}catch(o){fn(t,e,o)}break;case 18:Tn!==null&&(pi?(r=Tn,hx(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,t.stateNode),dd(r)):hx(Tn,t.stateNode));break;case 4:n=Tn,i=pi,Tn=t.stateNode.containerInfo,pi=!0,ca(r,e,t),Tn=n,pi=i;break;case 0:case 11:case 14:case 15:Yn||Ds(2,t,e),Yn||Ds(4,t,e),ca(r,e,t);break;case 1:Yn||(Uo(t,e),n=t.stateNode,typeof n.componentWillUnmount=="function"&&CT(t,e,n)),ca(r,e,t);break;case 21:ca(r,e,t);break;case 22:Yn=(n=Yn)||t.memoizedState!==null,ca(r,e,t),Yn=n;break;default:ca(r,e,t)}}function kT(r,e){if(e.memoizedState===null&&(r=e.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{dd(r)}catch(t){fn(e,e.return,t)}}function FR(r){switch(r.tag){case 13:case 19:var e=r.stateNode;return e===null&&(e=r.stateNode=new ex),e;case 22:return r=r.stateNode,e=r._retryCache,e===null&&(e=r._retryCache=new ex),e;default:throw Error(Zt(435,r.tag))}}function ly(r,e){var t=FR(r);e.forEach(function(n){var i=ZR.bind(null,r,n);t.has(n)||(t.add(n),n.then(i,i))})}function Ni(r,e){var t=e.deletions;if(t!==null)for(var n=0;n<t.length;n++){var i=t[n],o=r,a=e,l=a;t:for(;l!==null;){switch(l.tag){case 27:if(Ls(l.type)){Tn=l.stateNode,pi=!1;break t}break;case 5:Tn=l.stateNode,pi=!1;break t;case 3:case 4:Tn=l.stateNode.containerInfo,pi=!0;break t}l=l.return}if(Tn===null)throw Error(Zt(160));DT(o,a,i),Tn=null,pi=!1,o=i.alternate,o!==null&&(o.return=null),i.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)PT(e,r),e=e.sibling}var xo=null;function PT(r,e){var t=r.alternate,n=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Ni(e,r),ji(r),n&4&&(Ds(3,r,r.return),Md(3,r),Ds(5,r,r.return));break;case 1:Ni(e,r),ji(r),n&512&&(Yn||t===null||Uo(t,t.return)),n&64&&pa&&(r=r.updateQueue,r!==null&&(n=r.callbacks,n!==null&&(t=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=t===null?n:t.concat(n))));break;case 26:var i=xo;if(Ni(e,r),ji(r),n&512&&(Yn||t===null||Uo(t,t.return)),n&4){var o=t!==null?t.memoizedState:null;if(n=r.memoizedState,t===null)if(n===null)if(r.stateNode===null){t:{n=r.type,t=r.memoizedProps,i=i.ownerDocument||i;e:switch(n){case"title":o=i.getElementsByTagName("title")[0],(!o||o[xd]||o[jr]||o.namespaceURI==="http://www.w3.org/2000/svg"||o.hasAttribute("itemprop"))&&(o=i.createElement(n),i.head.insertBefore(o,i.querySelector("head > title"))),Er(o,n,t),o[jr]=r,mr(o),n=o;break t;case"link":var a=yx("link","href",i).get(n+(t.href||""));if(a){for(var l=0;l<a.length;l++)if(o=a[l],o.getAttribute("href")===(t.href==null||t.href===""?null:t.href)&&o.getAttribute("rel")===(t.rel==null?null:t.rel)&&o.getAttribute("title")===(t.title==null?null:t.title)&&o.getAttribute("crossorigin")===(t.crossOrigin==null?null:t.crossOrigin)){a.splice(l,1);break e}}o=i.createElement(n),Er(o,n,t),i.head.appendChild(o);break;case"meta":if(a=yx("meta","content",i).get(n+(t.content||""))){for(l=0;l<a.length;l++)if(o=a[l],o.getAttribute("content")===(t.content==null?null:""+t.content)&&o.getAttribute("name")===(t.name==null?null:t.name)&&o.getAttribute("property")===(t.property==null?null:t.property)&&o.getAttribute("http-equiv")===(t.httpEquiv==null?null:t.httpEquiv)&&o.getAttribute("charset")===(t.charSet==null?null:t.charSet)){a.splice(l,1);break e}}o=i.createElement(n),Er(o,n,t),i.head.appendChild(o);break;default:throw Error(Zt(468,n))}o[jr]=r,mr(o),n=o}r.stateNode=n}else _x(i,r.type,r.stateNode);else r.stateNode=mx(i,n,r.memoizedProps);else o!==n?(o===null?t.stateNode!==null&&(t=t.stateNode,t.parentNode.removeChild(t)):o.count--,n===null?_x(i,r.type,r.stateNode):mx(i,n,r.memoizedProps)):n===null&&r.stateNode!==null&&oy(r,r.memoizedProps,t.memoizedProps)}break;case 27:Ni(e,r),ji(r),n&512&&(Yn||t===null||Uo(t,t.return)),t!==null&&n&4&&oy(r,r.memoizedProps,t.memoizedProps);break;case 5:if(Ni(e,r),ji(r),n&512&&(Yn||t===null||Uo(t,t.return)),r.flags&32){i=r.stateNode;try{tc(i,"")}catch(m){fn(r,r.return,m)}}n&4&&r.stateNode!=null&&(i=r.memoizedProps,oy(r,i,t!==null?t.memoizedProps:i)),n&1024&&(sy=!0);break;case 6:if(Ni(e,r),ji(r),n&4){if(r.stateNode===null)throw Error(Zt(162));n=r.memoizedProps,t=r.stateNode;try{t.nodeValue=n}catch(m){fn(r,r.return,m)}}break;case 3:if(hp=null,i=xo,xo=nv(e.containerInfo),Ni(e,r),xo=i,ji(r),n&4&&t!==null&&t.memoizedState.isDehydrated)try{dd(e.containerInfo)}catch(m){fn(r,r.return,m)}sy&&(sy=!1,MT(r));break;case 4:n=xo,xo=nv(r.stateNode.containerInfo),Ni(e,r),ji(r),xo=n;break;case 12:Ni(e,r),ji(r);break;case 13:Ni(e,r),ji(r),r.child.flags&8192&&r.memoizedState!==null!=(t!==null&&t.memoizedState!==null)&&(Ib=Fo()),n&4&&(n=r.updateQueue,n!==null&&(r.updateQueue=null,ly(r,n)));break;case 22:i=r.memoizedState!==null;var u=t!==null&&t.memoizedState!==null,c=pa,d=Yn;if(pa=c||i,Yn=d||u,Ni(e,r),Yn=d,pa=c,ji(r),n&8192)t:for(e=r.stateNode,e._visibility=i?e._visibility&-2:e._visibility|1,i&&(t===null||u||pa||Yn||Qs(r)),t=null,e=r;;){if(e.tag===5||e.tag===26){if(t===null){u=t=e;try{if(o=u.stateNode,i)a=o.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{l=u.stateNode;var h=u.memoizedProps.style,g=h!=null&&h.hasOwnProperty("display")?h.display:null;l.style.display=g==null||typeof g=="boolean"?"":(""+g).trim()}}catch(m){fn(u,u.return,m)}}}else if(e.tag===6){if(t===null){u=e;try{u.stateNode.nodeValue=i?"":u.memoizedProps}catch(m){fn(u,u.return,m)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===r)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break t;for(;e.sibling===null;){if(e.return===null||e.return===r)break t;t===e&&(t=null),e=e.return}t===e&&(t=null),e.sibling.return=e.return,e=e.sibling}n&4&&(n=r.updateQueue,n!==null&&(t=n.retryQueue,t!==null&&(n.retryQueue=null,ly(r,t))));break;case 19:Ni(e,r),ji(r),n&4&&(n=r.updateQueue,n!==null&&(r.updateQueue=null,ly(r,n)));break;case 30:break;case 21:break;default:Ni(e,r),ji(r)}}function ji(r){var e=r.flags;if(e&2){try{for(var t,n=r.return;n!==null;){if(OT(n)){t=n;break}n=n.return}if(t==null)throw Error(Zt(160));switch(t.tag){case 27:var i=t.stateNode,o=ay(r);Xp(r,o,i);break;case 5:var a=t.stateNode;t.flags&32&&(tc(a,""),t.flags&=-33);var l=ay(r);Xp(r,l,a);break;case 3:case 4:var u=t.stateNode.containerInfo,c=ay(r);U0(r,c,u);break;default:throw Error(Zt(161))}}catch(d){fn(r,r.return,d)}r.flags&=-3}e&4096&&(r.flags&=-4097)}function MT(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var e=r;MT(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),r=r.sibling}}function ns(r,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)TT(r,e.alternate,e),e=e.sibling}function Qs(r){for(r=r.child;r!==null;){var e=r;switch(e.tag){case 0:case 11:case 14:case 15:Ds(4,e,e.return),Qs(e);break;case 1:Uo(e,e.return);var t=e.stateNode;typeof t.componentWillUnmount=="function"&&CT(e,e.return,t),Qs(e);break;case 27:Ff(e.stateNode);case 26:case 5:Uo(e,e.return),Qs(e);break;case 22:e.memoizedState===null&&Qs(e);break;case 30:Qs(e);break;default:Qs(e)}r=r.sibling}}function rs(r,e,t){for(t=t&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var n=e.alternate,i=r,o=e,a=o.flags;switch(o.tag){case 0:case 11:case 15:rs(i,o,t),Md(4,o);break;case 1:if(rs(i,o,t),n=o,i=n.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(c){fn(n,n.return,c)}if(n=o,i=n.updateQueue,i!==null){var l=n.stateNode;try{var u=i.shared.hiddenCallbacks;if(u!==null)for(i.shared.hiddenCallbacks=null,i=0;i<u.length;i++)TE(u[i],l)}catch(c){fn(n,n.return,c)}}t&&a&64&&ST(o),If(o,o.return);break;case 27:ET(o);case 26:case 5:rs(i,o,t),t&&n===null&&a&4&&xT(o),If(o,o.return);break;case 12:rs(i,o,t);break;case 13:rs(i,o,t),t&&a&4&&kT(i,o);break;case 22:o.memoizedState===null&&rs(i,o,t),If(o,o.return);break;case 30:break;default:rs(i,o,t)}e=e.sibling}}function Rb(r,e){var t=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),r=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),r!==t&&(r!=null&&r.refCount++,t!=null&&Ad(t))}function Lb(r,e){r=null,e.alternate!==null&&(r=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==r&&(e.refCount++,r!=null&&Ad(r))}function Ro(r,e,t,n){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)RT(r,e,t,n),e=e.sibling}function RT(r,e,t,n){var i=e.flags;switch(e.tag){case 0:case 11:case 15:Ro(r,e,t,n),i&2048&&Md(9,e);break;case 1:Ro(r,e,t,n);break;case 3:Ro(r,e,t,n),i&2048&&(r=null,e.alternate!==null&&(r=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==r&&(e.refCount++,r!=null&&Ad(r)));break;case 12:if(i&2048){Ro(r,e,t,n),r=e.stateNode;try{var o=e.memoizedProps,a=o.id,l=o.onPostCommit;typeof l=="function"&&l(a,e.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(u){fn(e,e.return,u)}}else Ro(r,e,t,n);break;case 13:Ro(r,e,t,n);break;case 23:break;case 22:o=e.stateNode,a=e.alternate,e.memoizedState!==null?o._visibility&2?Ro(r,e,t,n):Vf(r,e):o._visibility&2?Ro(r,e,t,n):(o._visibility|=2,au(r,e,t,n,(e.subtreeFlags&10256)!==0)),i&2048&&Rb(a,e);break;case 24:Ro(r,e,t,n),i&2048&&Lb(e.alternate,e);break;default:Ro(r,e,t,n)}}function au(r,e,t,n,i){for(i=i&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var o=r,a=e,l=t,u=n,c=a.flags;switch(a.tag){case 0:case 11:case 15:au(o,a,l,u,i),Md(8,a);break;case 23:break;case 22:var d=a.stateNode;a.memoizedState!==null?d._visibility&2?au(o,a,l,u,i):Vf(o,a):(d._visibility|=2,au(o,a,l,u,i)),i&&c&2048&&Rb(a.alternate,a);break;case 24:au(o,a,l,u,i),i&&c&2048&&Lb(a.alternate,a);break;default:au(o,a,l,u,i)}e=e.sibling}}function Vf(r,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var t=r,n=e,i=n.flags;switch(n.tag){case 22:Vf(t,n),i&2048&&Rb(n.alternate,n);break;case 24:Vf(t,n),i&2048&&Lb(n.alternate,n);break;default:Vf(t,n)}e=e.sibling}}var wf=8192;function Ql(r){if(r.subtreeFlags&wf)for(r=r.child;r!==null;)LT(r),r=r.sibling}function LT(r){switch(r.tag){case 26:Ql(r),r.flags&wf&&r.memoizedState!==null&&EL(xo,r.memoizedState,r.memoizedProps);break;case 5:Ql(r);break;case 3:case 4:var e=xo;xo=nv(r.stateNode.containerInfo),Ql(r),xo=e;break;case 22:r.memoizedState===null&&(e=r.alternate,e!==null&&e.memoizedState!==null?(e=wf,wf=16777216,Ql(r),wf=e):Ql(r));break;default:Ql(r)}}function NT(r){var e=r.alternate;if(e!==null&&(r=e.child,r!==null)){e.child=null;do e=r.sibling,r.sibling=null,r=e;while(r!==null)}}function uf(r){var e=r.deletions;if(r.flags&16){if(e!==null)for(var t=0;t<e.length;t++){var n=e[t];gr=n,IT(n,r)}NT(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)jT(r),r=r.sibling}function jT(r){switch(r.tag){case 0:case 11:case 15:uf(r),r.flags&2048&&Ds(9,r,r.return);break;case 3:uf(r);break;case 12:uf(r);break;case 22:var e=r.stateNode;r.memoizedState!==null&&e._visibility&2&&(r.return===null||r.return.tag!==13)?(e._visibility&=-3,fp(r)):uf(r);break;default:uf(r)}}function fp(r){var e=r.deletions;if(r.flags&16){if(e!==null)for(var t=0;t<e.length;t++){var n=e[t];gr=n,IT(n,r)}NT(r)}for(r=r.child;r!==null;){switch(e=r,e.tag){case 0:case 11:case 15:Ds(8,e,e.return),fp(e);break;case 22:t=e.stateNode,t._visibility&2&&(t._visibility&=-3,fp(e));break;default:fp(e)}r=r.sibling}}function IT(r,e){for(;gr!==null;){var t=gr;switch(t.tag){case 0:case 11:case 15:Ds(8,t,e);break;case 23:case 22:if(t.memoizedState!==null&&t.memoizedState.cachePool!==null){var n=t.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:Ad(t.memoizedState.cache)}if(n=t.child,n!==null)n.return=t,gr=n;else t:for(t=r;gr!==null;){n=gr;var i=n.sibling,o=n.return;if(AT(n),n===t){gr=null;break t}if(i!==null){i.return=o,gr=i;break t}gr=o}}}var zR={getCacheForType:function(r){var e=Ir(cr),t=e.data.get(r);return t===void 0&&(t=r(),e.data.set(r,t)),t}},HR=typeof WeakMap=="function"?WeakMap:Map,sn=0,yn=null,Ke=null,$e=0,an=0,Ui=null,vs=!1,vc=!1,Nb=!1,Da=0,Un=0,ks=0,hl=0,jb=0,so=0,oc=0,Uf=null,vi=null,B0=!1,Ib=0,Zp=1/0,$p=null,ws=null,Or=0,Ss=null,ac=null,Gu=0,F0=0,z0=null,VT=null,Bf=0,H0=null;function qi(){if(sn&2&&$e!==0)return $e&-$e;if(Ae.T!==null){var r=ec;return r!==0?r:Ub()}return XO()}function UT(){so===0&&(so=!($e&536870912)||tn?KO():536870912);var r=co.current;return r!==null&&(r.flags|=32),so}function Gi(r,e,t){(r===yn&&(an===2||an===9)||r.cancelPendingCommit!==null)&&(sc(r,0),gs(r,$e,so,!1)),Cd(r,t),(!(sn&2)||r!==yn)&&(r===yn&&(!(sn&2)&&(hl|=t),Un===4&&gs(r,$e,so,!1)),Go(r))}function BT(r,e,t){if(sn&6)throw Error(Zt(327));var n=!t&&(e&124)===0&&(e&r.expiredLanes)===0||Sd(r,e),i=n?qR(r,e):uy(r,e,!0),o=n;do{if(i===0){vc&&!n&&gs(r,e,0,!1);break}else{if(t=r.current.alternate,o&&!WR(t)){i=uy(r,e,!1),o=!1;continue}if(i===2){if(o=e,r.errorRecoveryDisabledLanes&o)var a=0;else a=r.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){e=a;t:{var l=r;i=Uf;var u=l.current.memoizedState.isDehydrated;if(u&&(sc(l,a).flags|=256),a=uy(l,a,!1),a!==2){if(Nb&&!u){l.errorRecoveryDisabledLanes|=o,hl|=o,i=4;break t}o=vi,vi=i,o!==null&&(vi===null?vi=o:vi.push.apply(vi,o))}i=a}if(o=!1,i!==2)continue}}if(i===1){sc(r,0),gs(r,e,0,!0);break}t:{switch(n=r,o=i,o){case 0:case 1:throw Error(Zt(345));case 4:if((e&4194048)!==e)break;case 6:gs(n,e,so,!vs);break t;case 2:vi=null;break;case 3:case 5:break;default:throw Error(Zt(329))}if((e&62914560)===e&&(i=Ib+300-Fo(),10<i)){if(gs(n,e,so,!vs),Sg(n,0,!0)!==0)break t;n.timeoutHandle=oA(nx.bind(null,n,t,vi,$p,B0,e,so,hl,oc,vs,o,2,-0,0),i);break t}nx(n,t,vi,$p,B0,e,so,hl,oc,vs,o,0,-0,0)}}break}while(!0);Go(r)}function nx(r,e,t,n,i,o,a,l,u,c,d,h,g,m){if(r.timeoutHandle=-1,h=e.subtreeFlags,(h&8192||(h&16785408)===16785408)&&(ld={stylesheets:null,count:0,unsuspend:OL},LT(e),h=TL(),h!==null)){r.cancelPendingCommit=h(ix.bind(null,r,e,o,t,n,i,a,l,u,d,1,g,m)),gs(r,o,a,!c);return}ix(r,e,o,t,n,i,a,l,u)}function WR(r){for(var e=r;;){var t=e.tag;if((t===0||t===11||t===15)&&e.flags&16384&&(t=e.updateQueue,t!==null&&(t=t.stores,t!==null)))for(var n=0;n<t.length;n++){var i=t[n],o=i.getSnapshot;i=i.value;try{if(!Yi(o(),i))return!1}catch{return!1}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===r)break;for(;e.sibling===null;){if(e.return===null||e.return===r)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function gs(r,e,t,n){e&=~jb,e&=~hl,r.suspendedLanes|=e,r.pingedLanes&=~e,n&&(r.warmLanes|=e),n=r.expirationTimes;for(var i=e;0<i;){var o=31-Ki(i),a=1<<o;n[o]=-1,i&=~a}t!==0&&GO(r,t,e)}function Mg(){return sn&6?!0:(Rd(0),!1)}function Vb(){if(Ke!==null){if(an===0)var r=Ke.return;else r=Ke,_a=Dl=null,xb(r),qu=null,od=0,r=Ke;for(;r!==null;)wT(r.alternate,r),r=r.return;Ke=null}}function sc(r,e){var t=r.timeoutHandle;t!==-1&&(r.timeoutHandle=-1,lL(t)),t=r.cancelPendingCommit,t!==null&&(r.cancelPendingCommit=null,t()),Vb(),yn=r,Ke=t=Sa(r.current,null),$e=e,an=0,Ui=null,vs=!1,vc=Sd(r,e),Nb=!1,oc=so=jb=hl=ks=Un=0,vi=Uf=null,B0=!1,e&8&&(e|=e&32);var n=r.entangledLanes;if(n!==0)for(r=r.entanglements,n&=e;0<n;){var i=31-Ki(n),o=1<<i;e|=r[i],n&=~o}return Da=e,Eg(),t}function FT(r,e){Fe=null,Ae.H=Wp,e===Dd||e===Ag?(e=LC(),an=3):e===OE?(e=LC(),an=4):an=e===vT?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Ui=e,Ke===null&&(Un=1,Gp(r,ao(e,r.current)))}function zT(){var r=Ae.H;return Ae.H=Wp,r===null?Wp:r}function HT(){var r=Ae.A;return Ae.A=zR,r}function W0(){Un=4,vs||($e&4194048)!==$e&&co.current!==null||(vc=!0),!(ks&134217727)&&!(hl&134217727)||yn===null||gs(yn,$e,so,!1)}function uy(r,e,t){var n=sn;sn|=2;var i=zT(),o=HT();(yn!==r||$e!==e)&&($p=null,sc(r,e)),e=!1;var a=Un;t:do try{if(an!==0&&Ke!==null){var l=Ke,u=Ui;switch(an){case 8:Vb(),a=6;break t;case 3:case 2:case 9:case 6:co.current===null&&(e=!0);var c=an;if(an=0,Ui=null,wu(r,l,u,c),t&&vc){a=0;break t}break;default:c=an,an=0,Ui=null,wu(r,l,u,c)}}KR(),a=Un;break}catch(d){FT(r,d)}while(!0);return e&&r.shellSuspendCounter++,_a=Dl=null,sn=n,Ae.H=i,Ae.A=o,Ke===null&&(yn=null,$e=0,Eg()),a}function KR(){for(;Ke!==null;)WT(Ke)}function qR(r,e){var t=sn;sn|=2;var n=zT(),i=HT();yn!==r||$e!==e?($p=null,Zp=Fo()+500,sc(r,e)):vc=Sd(r,e);t:do try{if(an!==0&&Ke!==null){e=Ke;var o=Ui;e:switch(an){case 1:an=0,Ui=null,wu(r,e,o,1);break;case 2:case 9:if(RC(o)){an=0,Ui=null,rx(e);break}e=function(){an!==2&&an!==9||yn!==r||(an=7),Go(r)},o.then(e,e);break t;case 3:an=7;break t;case 4:an=5;break t;case 7:RC(o)?(an=0,Ui=null,rx(e)):(an=0,Ui=null,wu(r,e,o,7));break;case 5:var a=null;switch(Ke.tag){case 26:a=Ke.memoizedState;case 5:case 27:var l=Ke;if(!a||uA(a)){an=0,Ui=null;var u=l.sibling;if(u!==null)Ke=u;else{var c=l.return;c!==null?(Ke=c,Rg(c)):Ke=null}break e}}an=0,Ui=null,wu(r,e,o,5);break;case 6:an=0,Ui=null,wu(r,e,o,6);break;case 8:Vb(),Un=6;break t;default:throw Error(Zt(462))}}GR();break}catch(d){FT(r,d)}while(!0);return _a=Dl=null,Ae.H=n,Ae.A=i,sn=t,Ke!==null?0:(yn=null,$e=0,Eg(),Un)}function GR(){for(;Ke!==null&&!vM();)WT(Ke)}function WT(r){var e=bT(r.alternate,r,Da);r.memoizedProps=r.pendingProps,e===null?Rg(r):Ke=e}function rx(r){var e=r,t=e.alternate;switch(e.tag){case 15:case 0:e=ZC(t,e,e.pendingProps,e.type,void 0,$e);break;case 11:e=ZC(t,e,e.pendingProps,e.type.render,e.ref,$e);break;case 5:xb(e);default:wT(t,e),e=Ke=wE(e,Da),e=bT(t,e,Da)}r.memoizedProps=r.pendingProps,e===null?Rg(r):Ke=e}function wu(r,e,t,n){_a=Dl=null,xb(e),qu=null,od=0;var i=e.return;try{if(jR(r,i,e,t,$e)){Un=1,Gp(r,ao(t,r.current)),Ke=null;return}}catch(o){if(i!==null)throw Ke=i,o;Un=1,Gp(r,ao(t,r.current)),Ke=null;return}e.flags&32768?(tn||n===1?r=!0:vc||$e&536870912?r=!1:(vs=r=!0,(n===2||n===9||n===3||n===6)&&(n=co.current,n!==null&&n.tag===13&&(n.flags|=16384))),KT(e,r)):Rg(e)}function Rg(r){var e=r;do{if(e.flags&32768){KT(e,vs);return}r=e.return;var t=VR(e.alternate,e,Da);if(t!==null){Ke=t;return}if(e=e.sibling,e!==null){Ke=e;return}Ke=e=r}while(e!==null);Un===0&&(Un=5)}function KT(r,e){do{var t=UR(r.alternate,r);if(t!==null){t.flags&=32767,Ke=t;return}if(t=r.return,t!==null&&(t.flags|=32768,t.subtreeFlags=0,t.deletions=null),!e&&(r=r.sibling,r!==null)){Ke=r;return}Ke=r=t}while(r!==null);Un=6,Ke=null}function ix(r,e,t,n,i,o,a,l,u){r.cancelPendingCommit=null;do Lg();while(Or!==0);if(sn&6)throw Error(Zt(327));if(e!==null){if(e===r.current)throw Error(Zt(177));if(o=e.lanes|e.childLanes,o|=fb,OM(r,t,o,a,l,u),r===yn&&(Ke=yn=null,$e=0),ac=e,Ss=r,Gu=t,F0=o,z0=i,VT=n,e.subtreeFlags&10256||e.flags&10256?(r.callbackNode=null,r.callbackPriority=0,$R(Lp,function(){return ZT(),null})):(r.callbackNode=null,r.callbackPriority=0),n=(e.flags&13878)!==0,e.subtreeFlags&13878||n){n=Ae.T,Ae.T=null,i=en.p,en.p=2,a=sn,sn|=4;try{BR(r,e,t)}finally{sn=a,en.p=i,Ae.T=n}}Or=1,qT(),GT(),YT()}}function qT(){if(Or===1){Or=0;var r=Ss,e=ac,t=(e.flags&13878)!==0;if(e.subtreeFlags&13878||t){t=Ae.T,Ae.T=null;var n=en.p;en.p=2;var i=sn;sn|=4;try{PT(e,r);var o=Y0,a=hE(r.containerInfo),l=o.focusedElem,u=o.selectionRange;if(a!==l&&l&&l.ownerDocument&&dE(l.ownerDocument.documentElement,l)){if(u!==null&&cb(l)){var c=u.start,d=u.end;if(d===void 0&&(d=c),"selectionStart"in l)l.selectionStart=c,l.selectionEnd=Math.min(d,l.value.length);else{var h=l.ownerDocument||document,g=h&&h.defaultView||window;if(g.getSelection){var m=g.getSelection(),b=l.textContent.length,w=Math.min(u.start,b),x=u.end===void 0?w:Math.min(u.end,b);!m.extend&&w>x&&(a=x,x=w,w=a);var _=OC(l,w),C=OC(l,x);if(_&&C&&(m.rangeCount!==1||m.anchorNode!==_.node||m.anchorOffset!==_.offset||m.focusNode!==C.node||m.focusOffset!==C.offset)){var O=h.createRange();O.setStart(_.node,_.offset),m.removeAllRanges(),w>x?(m.addRange(O),m.extend(C.node,C.offset)):(O.setEnd(C.node,C.offset),m.addRange(O))}}}}for(h=[],m=l;m=m.parentNode;)m.nodeType===1&&h.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<h.length;l++){var A=h[l];A.element.scrollLeft=A.left,A.element.scrollTop=A.top}}ov=!!G0,Y0=G0=null}finally{sn=i,en.p=n,Ae.T=t}}r.current=e,Or=2}}function GT(){if(Or===2){Or=0;var r=Ss,e=ac,t=(e.flags&8772)!==0;if(e.subtreeFlags&8772||t){t=Ae.T,Ae.T=null;var n=en.p;en.p=2;var i=sn;sn|=4;try{TT(r,e.alternate,e)}finally{sn=i,en.p=n,Ae.T=t}}Or=3}}function YT(){if(Or===4||Or===3){Or=0,gM();var r=Ss,e=ac,t=Gu,n=VT;e.subtreeFlags&10256||e.flags&10256?Or=5:(Or=0,ac=Ss=null,XT(r,r.pendingLanes));var i=r.pendingLanes;if(i===0&&(ws=null),rb(t),e=e.stateNode,Wi&&typeof Wi.onCommitFiberRoot=="function")try{Wi.onCommitFiberRoot(wd,e,void 0,(e.current.flags&128)===128)}catch{}if(n!==null){e=Ae.T,i=en.p,en.p=2,Ae.T=null;try{for(var o=r.onRecoverableError,a=0;a<n.length;a++){var l=n[a];o(l.value,{componentStack:l.stack})}}finally{Ae.T=e,en.p=i}}Gu&3&&Lg(),Go(r),i=r.pendingLanes,t&4194090&&i&42?r===H0?Bf++:(Bf=0,H0=r):Bf=0,Rd(0)}}function XT(r,e){(r.pooledCacheLanes&=e)===0&&(e=r.pooledCache,e!=null&&(r.pooledCache=null,Ad(e)))}function Lg(r){return qT(),GT(),YT(),ZT()}function ZT(){if(Or!==5)return!1;var r=Ss,e=F0;F0=0;var t=rb(Gu),n=Ae.T,i=en.p;try{en.p=32>t?32:t,Ae.T=null,t=z0,z0=null;var o=Ss,a=Gu;if(Or=0,ac=Ss=null,Gu=0,sn&6)throw Error(Zt(331));var l=sn;if(sn|=4,jT(o.current),RT(o,o.current,a,t),sn=l,Rd(0,!1),Wi&&typeof Wi.onPostCommitFiberRoot=="function")try{Wi.onPostCommitFiberRoot(wd,o)}catch{}return!0}finally{en.p=i,Ae.T=n,XT(r,e)}}function ox(r,e,t){e=ao(t,e),e=j0(r.stateNode,e,2),r=bs(r,e,2),r!==null&&(Cd(r,2),Go(r))}function fn(r,e,t){if(r.tag===3)ox(r,r,t);else for(;e!==null;){if(e.tag===3){ox(e,r,t);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ws===null||!ws.has(n))){r=ao(t,r),t=hT(2),n=bs(e,t,2),n!==null&&(pT(t,n,e,r),Cd(n,2),Go(n));break}}e=e.return}}function cy(r,e,t){var n=r.pingCache;if(n===null){n=r.pingCache=new HR;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(t)||(Nb=!0,i.add(t),r=YR.bind(null,r,e,t),e.then(r,r))}function YR(r,e,t){var n=r.pingCache;n!==null&&n.delete(e),r.pingedLanes|=r.suspendedLanes&t,r.warmLanes&=~t,yn===r&&($e&t)===t&&(Un===4||Un===3&&($e&62914560)===$e&&300>Fo()-Ib?!(sn&2)&&sc(r,0):jb|=t,oc===$e&&(oc=0)),Go(r)}function $T(r,e){e===0&&(e=qO()),r=pc(r,e),r!==null&&(Cd(r,e),Go(r))}function XR(r){var e=r.memoizedState,t=0;e!==null&&(t=e.retryLane),$T(r,t)}function ZR(r,e){var t=0;switch(r.tag){case 13:var n=r.stateNode,i=r.memoizedState;i!==null&&(t=i.retryLane);break;case 19:n=r.stateNode;break;case 22:n=r.stateNode._retryCache;break;default:throw Error(Zt(314))}n!==null&&n.delete(e),$T(r,t)}function $R(r,e){return eb(r,e)}var Jp=null,su=null,K0=!1,Qp=!1,fy=!1,pl=0;function Go(r){r!==su&&r.next===null&&(su===null?Jp=su=r:su=su.next=r),Qp=!0,K0||(K0=!0,QR())}function Rd(r,e){if(!fy&&Qp){fy=!0;do for(var t=!1,n=Jp;n!==null;){if(r!==0){var i=n.pendingLanes;if(i===0)var o=0;else{var a=n.suspendedLanes,l=n.pingedLanes;o=(1<<31-Ki(42|r)+1)-1,o&=i&~(a&~l),o=o&201326741?o&201326741|1:o?o|2:0}o!==0&&(t=!0,ax(n,o))}else o=$e,o=Sg(n,n===yn?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),!(o&3)||Sd(n,o)||(t=!0,ax(n,o));n=n.next}while(t);fy=!1}}function JR(){JT()}function JT(){Qp=K0=!1;var r=0;pl!==0&&(sL()&&(r=pl),pl=0);for(var e=Fo(),t=null,n=Jp;n!==null;){var i=n.next,o=QT(n,e);o===0?(n.next=null,t===null?Jp=i:t.next=i,i===null&&(su=t)):(t=n,(r!==0||o&3)&&(Qp=!0)),n=i}Rd(r)}function QT(r,e){for(var t=r.suspendedLanes,n=r.pingedLanes,i=r.expirationTimes,o=r.pendingLanes&-62914561;0<o;){var a=31-Ki(o),l=1<<a,u=i[a];u===-1?(!(l&t)||l&n)&&(i[a]=xM(l,e)):u<=e&&(r.expiredLanes|=l),o&=~l}if(e=yn,t=$e,t=Sg(r,r===e?t:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),n=r.callbackNode,t===0||r===e&&(an===2||an===9)||r.cancelPendingCommit!==null)return n!==null&&n!==null&&Im(n),r.callbackNode=null,r.callbackPriority=0;if(!(t&3)||Sd(r,t)){if(e=t&-t,e===r.callbackPriority)return e;switch(n!==null&&Im(n),rb(t)){case 2:case 8:t=HO;break;case 32:t=Lp;break;case 268435456:t=WO;break;default:t=Lp}return n=tA.bind(null,r),t=eb(t,n),r.callbackPriority=e,r.callbackNode=t,e}return n!==null&&n!==null&&Im(n),r.callbackPriority=2,r.callbackNode=null,2}function tA(r,e){if(Or!==0&&Or!==5)return r.callbackNode=null,r.callbackPriority=0,null;var t=r.callbackNode;if(Lg()&&r.callbackNode!==t)return null;var n=$e;return n=Sg(r,r===yn?n:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),n===0?null:(BT(r,n,e),QT(r,Fo()),r.callbackNode!=null&&r.callbackNode===t?tA.bind(null,r):null)}function ax(r,e){if(Lg())return null;BT(r,e,!0)}function QR(){uL(function(){sn&6?eb(zO,JR):JT()})}function Ub(){return pl===0&&(pl=KO()),pl}function sx(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:rp(""+r)}function lx(r,e){var t=e.ownerDocument.createElement("input");return t.name=e.name,t.value=e.value,r.id&&t.setAttribute("form",r.id),e.parentNode.insertBefore(t,e),r=new FormData(r),t.parentNode.removeChild(t),r}function tL(r,e,t,n,i){if(e==="submit"&&t&&t.stateNode===i){var o=sx((i[Ci]||null).action),a=n.submitter;a&&(e=(e=a[Ci]||null)?sx(e.formAction):a.getAttribute("formAction"),e!==null&&(o=e,a=null));var l=new Cg("action","action",null,n,i);r.push({event:l,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(pl!==0){var u=a?lx(i,a):new FormData(i);L0(t,{pending:!0,data:u,method:i.method,action:o},null,u)}}else typeof o=="function"&&(l.preventDefault(),u=a?lx(i,a):new FormData(i),L0(t,{pending:!0,data:u,method:i.method,action:o},o,u))},currentTarget:i}]})}}for(var dy=0;dy<S0.length;dy++){var hy=S0[dy],eL=hy.toLowerCase(),nL=hy[0].toUpperCase()+hy.slice(1);Ao(eL,"on"+nL)}Ao(vE,"onAnimationEnd");Ao(gE,"onAnimationIteration");Ao(mE,"onAnimationStart");Ao("dblclick","onDoubleClick");Ao("focusin","onFocus");Ao("focusout","onBlur");Ao(_R,"onTransitionRun");Ao(bR,"onTransitionStart");Ao(wR,"onTransitionCancel");Ao(yE,"onTransitionEnd");Qu("onMouseEnter",["mouseout","mouseover"]);Qu("onMouseLeave",["mouseout","mouseover"]);Qu("onPointerEnter",["pointerout","pointerover"]);Qu("onPointerLeave",["pointerout","pointerover"]);El("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));El("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));El("onBeforeInput",["compositionend","keypress","textInput","paste"]);El("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));El("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));El("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ad="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rL=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ad));function eA(r,e){e=(e&4)!==0;for(var t=0;t<r.length;t++){var n=r[t],i=n.event;n=n.listeners;t:{var o=void 0;if(e)for(var a=n.length-1;0<=a;a--){var l=n[a],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==o&&i.isPropagationStopped())break t;o=l,i.currentTarget=c;try{o(i)}catch(d){qp(d)}i.currentTarget=null,o=u}else for(a=0;a<n.length;a++){if(l=n[a],u=l.instance,c=l.currentTarget,l=l.listener,u!==o&&i.isPropagationStopped())break t;o=l,i.currentTarget=c;try{o(i)}catch(d){qp(d)}i.currentTarget=null,o=u}}}}function We(r,e){var t=e[v0];t===void 0&&(t=e[v0]=new Set);var n=r+"__bubble";t.has(n)||(nA(e,r,2,!1),t.add(n))}function py(r,e,t){var n=0;e&&(n|=4),nA(t,r,n,e)}var Ih="_reactListening"+Math.random().toString(36).slice(2);function Bb(r){if(!r[Ih]){r[Ih]=!0,ZO.forEach(function(t){t!=="selectionchange"&&(rL.has(t)||py(t,!1,r),py(t,!0,r))});var e=r.nodeType===9?r:r.ownerDocument;e===null||e[Ih]||(e[Ih]=!0,py("selectionchange",!1,e))}}function nA(r,e,t,n){switch(pA(e)){case 2:var i=kL;break;case 8:i=PL;break;default:i=Wb}t=i.bind(null,e,t,r),i=void 0,!_0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?r.addEventListener(e,t,{capture:!0,passive:i}):r.addEventListener(e,t,!0):i!==void 0?r.addEventListener(e,t,{passive:i}):r.addEventListener(e,t,!1)}function vy(r,e,t,n,i){var o=n;if(!(e&1)&&!(e&2)&&n!==null)t:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var l=n.stateNode.containerInfo;if(l===i)break;if(a===4)for(a=n.return;a!==null;){var u=a.tag;if((u===3||u===4)&&a.stateNode.containerInfo===i)return;a=a.return}for(;l!==null;){if(a=du(l),a===null)return;if(u=a.tag,u===5||u===6||u===26||u===27){n=o=a;continue t}l=l.parentNode}}n=n.return}iE(function(){var c=o,d=ab(t),h=[];t:{var g=_E.get(r);if(g!==void 0){var m=Cg,b=r;switch(r){case"keypress":if(op(t)===0)break t;case"keydown":case"keyup":m=$M;break;case"focusin":b="focus",m=Km;break;case"focusout":b="blur",m=Km;break;case"beforeblur":case"afterblur":m=Km;break;case"click":if(t.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=vC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=UM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=tR;break;case vE:case gE:case mE:m=zM;break;case yE:m=nR;break;case"scroll":case"scrollend":m=IM;break;case"wheel":m=iR;break;case"copy":case"cut":case"paste":m=WM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=mC;break;case"toggle":case"beforetoggle":m=aR}var w=(e&4)!==0,x=!w&&(r==="scroll"||r==="scrollend"),_=w?g!==null?g+"Capture":null:g;w=[];for(var C=c,O;C!==null;){var A=C;if(O=A.stateNode,A=A.tag,A!==5&&A!==26&&A!==27||O===null||_===null||(A=td(C,_),A!=null&&w.push(sd(C,A,O))),x)break;C=C.return}0<w.length&&(g=new m(g,b,null,t,d),h.push({event:g,listeners:w}))}}if(!(e&7)){t:{if(g=r==="mouseover"||r==="pointerover",m=r==="mouseout"||r==="pointerout",g&&t!==y0&&(b=t.relatedTarget||t.fromElement)&&(du(b)||b[dc]))break t;if((m||g)&&(g=d.window===d?d:(g=d.ownerDocument)?g.defaultView||g.parentWindow:window,m?(b=t.relatedTarget||t.toElement,m=c,b=b?du(b):null,b!==null&&(x=bd(b),w=b.tag,b!==x||w!==5&&w!==27&&w!==6)&&(b=null)):(m=null,b=c),m!==b)){if(w=vC,A="onMouseLeave",_="onMouseEnter",C="mouse",(r==="pointerout"||r==="pointerover")&&(w=mC,A="onPointerLeave",_="onPointerEnter",C="pointer"),x=m==null?g:bf(m),O=b==null?g:bf(b),g=new w(A,C+"leave",m,t,d),g.target=x,g.relatedTarget=O,A=null,du(d)===c&&(w=new w(_,C+"enter",b,t,d),w.target=O,w.relatedTarget=x,A=w),x=A,m&&b)e:{for(w=m,_=b,C=0,O=w;O;O=tu(O))C++;for(O=0,A=_;A;A=tu(A))O++;for(;0<C-O;)w=tu(w),C--;for(;0<O-C;)_=tu(_),O--;for(;C--;){if(w===_||_!==null&&w===_.alternate)break e;w=tu(w),_=tu(_)}w=null}else w=null;m!==null&&ux(h,g,m,w,!1),b!==null&&x!==null&&ux(h,x,b,w,!0)}}t:{if(g=c?bf(c):window,m=g.nodeName&&g.nodeName.toLowerCase(),m==="select"||m==="input"&&g.type==="file")var I=wC;else if(bC(g))if(cE)I=gR;else{I=pR;var Q=hR}else m=g.nodeName,!m||m.toLowerCase()!=="input"||g.type!=="checkbox"&&g.type!=="radio"?c&&ob(c.elementType)&&(I=wC):I=vR;if(I&&(I=I(r,c))){uE(h,I,t,d);break t}Q&&Q(r,g,c),r==="focusout"&&c&&g.type==="number"&&c.memoizedProps.value!=null&&m0(g,"number",g.value)}switch(Q=c?bf(c):window,r){case"focusin":(bC(Q)||Q.contentEditable==="true")&&(vu=Q,b0=c,kf=null);break;case"focusout":kf=b0=vu=null;break;case"mousedown":w0=!0;break;case"contextmenu":case"mouseup":case"dragend":w0=!1,EC(h,t,d);break;case"selectionchange":if(yR)break;case"keydown":case"keyup":EC(h,t,d)}var $;if(ub)t:{switch(r){case"compositionstart":var Z="onCompositionStart";break t;case"compositionend":Z="onCompositionEnd";break t;case"compositionupdate":Z="onCompositionUpdate";break t}Z=void 0}else pu?sE(r,t)&&(Z="onCompositionEnd"):r==="keydown"&&t.keyCode===229&&(Z="onCompositionStart");Z&&(aE&&t.locale!=="ko"&&(pu||Z!=="onCompositionStart"?Z==="onCompositionEnd"&&pu&&($=oE()):(ps=d,sb="value"in ps?ps.value:ps.textContent,pu=!0)),Q=tv(c,Z),0<Q.length&&(Z=new gC(Z,r,null,t,d),h.push({event:Z,listeners:Q}),$?Z.data=$:($=lE(t),$!==null&&(Z.data=$)))),($=lR?uR(r,t):cR(r,t))&&(Z=tv(c,"onBeforeInput"),0<Z.length&&(Q=new gC("onBeforeInput","beforeinput",null,t,d),h.push({event:Q,listeners:Z}),Q.data=$)),tL(h,r,c,t,d)}eA(h,e)})}function sd(r,e,t){return{instance:r,listener:e,currentTarget:t}}function tv(r,e){for(var t=e+"Capture",n=[];r!==null;){var i=r,o=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||o===null||(i=td(r,t),i!=null&&n.unshift(sd(r,i,o)),i=td(r,e),i!=null&&n.push(sd(r,i,o))),r.tag===3)return n;r=r.return}return[]}function tu(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function ux(r,e,t,n,i){for(var o=e._reactName,a=[];t!==null&&t!==n;){var l=t,u=l.alternate,c=l.stateNode;if(l=l.tag,u!==null&&u===n)break;l!==5&&l!==26&&l!==27||c===null||(u=c,i?(c=td(t,o),c!=null&&a.unshift(sd(t,c,u))):i||(c=td(t,o),c!=null&&a.push(sd(t,c,u)))),t=t.return}a.length!==0&&r.push({event:e,listeners:a})}var iL=/\r\n?/g,oL=/\u0000|\uFFFD/g;function cx(r){return(typeof r=="string"?r:""+r).replace(iL,`
`).replace(oL,"")}function rA(r,e){return e=cx(e),cx(r)===e}function Ng(){}function un(r,e,t,n,i,o){switch(t){case"children":typeof n=="string"?e==="body"||e==="textarea"&&n===""||tc(r,n):(typeof n=="number"||typeof n=="bigint")&&e!=="body"&&tc(r,""+n);break;case"className":kh(r,"class",n);break;case"tabIndex":kh(r,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":kh(r,t,n);break;case"style":rE(r,n,o);break;case"data":if(e!=="object"){kh(r,"data",n);break}case"src":case"href":if(n===""&&(e!=="a"||t!=="href")){r.removeAttribute(t);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){r.removeAttribute(t);break}n=rp(""+n),r.setAttribute(t,n);break;case"action":case"formAction":if(typeof n=="function"){r.setAttribute(t,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof o=="function"&&(t==="formAction"?(e!=="input"&&un(r,e,"name",i.name,i,null),un(r,e,"formEncType",i.formEncType,i,null),un(r,e,"formMethod",i.formMethod,i,null),un(r,e,"formTarget",i.formTarget,i,null)):(un(r,e,"encType",i.encType,i,null),un(r,e,"method",i.method,i,null),un(r,e,"target",i.target,i,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){r.removeAttribute(t);break}n=rp(""+n),r.setAttribute(t,n);break;case"onClick":n!=null&&(r.onclick=Ng);break;case"onScroll":n!=null&&We("scroll",r);break;case"onScrollEnd":n!=null&&We("scrollend",r);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(Zt(61));if(t=n.__html,t!=null){if(i.children!=null)throw Error(Zt(60));r.innerHTML=t}}break;case"multiple":r.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":r.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){r.removeAttribute("xlink:href");break}t=rp(""+n),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",t);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?r.setAttribute(t,""+n):r.removeAttribute(t);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?r.setAttribute(t,""):r.removeAttribute(t);break;case"capture":case"download":n===!0?r.setAttribute(t,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?r.setAttribute(t,n):r.removeAttribute(t);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?r.setAttribute(t,n):r.removeAttribute(t);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?r.removeAttribute(t):r.setAttribute(t,n);break;case"popover":We("beforetoggle",r),We("toggle",r),np(r,"popover",n);break;case"xlinkActuate":la(r,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":la(r,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":la(r,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":la(r,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":la(r,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":la(r,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":la(r,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":la(r,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":la(r,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":np(r,"is",n);break;case"innerText":case"textContent":break;default:(!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(t=NM.get(t)||t,np(r,t,n))}}function q0(r,e,t,n,i,o){switch(t){case"style":rE(r,n,o);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(Zt(61));if(t=n.__html,t!=null){if(i.children!=null)throw Error(Zt(60));r.innerHTML=t}}break;case"children":typeof n=="string"?tc(r,n):(typeof n=="number"||typeof n=="bigint")&&tc(r,""+n);break;case"onScroll":n!=null&&We("scroll",r);break;case"onScrollEnd":n!=null&&We("scrollend",r);break;case"onClick":n!=null&&(r.onclick=Ng);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!$O.hasOwnProperty(t))t:{if(t[0]==="o"&&t[1]==="n"&&(i=t.endsWith("Capture"),e=t.slice(2,i?t.length-7:void 0),o=r[Ci]||null,o=o!=null?o[t]:null,typeof o=="function"&&r.removeEventListener(e,o,i),typeof n=="function")){typeof o!="function"&&o!==null&&(t in r?r[t]=null:r.hasAttribute(t)&&r.removeAttribute(t)),r.addEventListener(e,n,i);break t}t in r?r[t]=n:n===!0?r.setAttribute(t,""):np(r,t,n)}}}function Er(r,e,t){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":We("error",r),We("load",r);var n=!1,i=!1,o;for(o in t)if(t.hasOwnProperty(o)){var a=t[o];if(a!=null)switch(o){case"src":n=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(Zt(137,e));default:un(r,e,o,a,t,null)}}i&&un(r,e,"srcSet",t.srcSet,t,null),n&&un(r,e,"src",t.src,t,null);return;case"input":We("invalid",r);var l=o=a=i=null,u=null,c=null;for(n in t)if(t.hasOwnProperty(n)){var d=t[n];if(d!=null)switch(n){case"name":i=d;break;case"type":a=d;break;case"checked":u=d;break;case"defaultChecked":c=d;break;case"value":o=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(Zt(137,e));break;default:un(r,e,n,d,t,null)}}tE(r,o,l,u,c,a,i,!1),Np(r);return;case"select":We("invalid",r),n=a=o=null;for(i in t)if(t.hasOwnProperty(i)&&(l=t[i],l!=null))switch(i){case"value":o=l;break;case"defaultValue":a=l;break;case"multiple":n=l;default:un(r,e,i,l,t,null)}e=o,t=a,r.multiple=!!n,e!=null?Fu(r,!!n,e,!1):t!=null&&Fu(r,!!n,t,!0);return;case"textarea":We("invalid",r),o=i=n=null;for(a in t)if(t.hasOwnProperty(a)&&(l=t[a],l!=null))switch(a){case"value":n=l;break;case"defaultValue":i=l;break;case"children":o=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(Zt(91));break;default:un(r,e,a,l,t,null)}nE(r,n,i,o),Np(r);return;case"option":for(u in t)if(t.hasOwnProperty(u)&&(n=t[u],n!=null))switch(u){case"selected":r.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:un(r,e,u,n,t,null)}return;case"dialog":We("beforetoggle",r),We("toggle",r),We("cancel",r),We("close",r);break;case"iframe":case"object":We("load",r);break;case"video":case"audio":for(n=0;n<ad.length;n++)We(ad[n],r);break;case"image":We("error",r),We("load",r);break;case"details":We("toggle",r);break;case"embed":case"source":case"link":We("error",r),We("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in t)if(t.hasOwnProperty(c)&&(n=t[c],n!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(Zt(137,e));default:un(r,e,c,n,t,null)}return;default:if(ob(e)){for(d in t)t.hasOwnProperty(d)&&(n=t[d],n!==void 0&&q0(r,e,d,n,t,void 0));return}}for(l in t)t.hasOwnProperty(l)&&(n=t[l],n!=null&&un(r,e,l,n,t,null))}function aL(r,e,t,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,o=null,a=null,l=null,u=null,c=null,d=null;for(m in t){var h=t[m];if(t.hasOwnProperty(m)&&h!=null)switch(m){case"checked":break;case"value":break;case"defaultValue":u=h;default:n.hasOwnProperty(m)||un(r,e,m,null,n,h)}}for(var g in n){var m=n[g];if(h=t[g],n.hasOwnProperty(g)&&(m!=null||h!=null))switch(g){case"type":o=m;break;case"name":i=m;break;case"checked":c=m;break;case"defaultChecked":d=m;break;case"value":a=m;break;case"defaultValue":l=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(Zt(137,e));break;default:m!==h&&un(r,e,g,m,n,h)}}g0(r,a,l,u,c,d,o,i);return;case"select":m=a=l=g=null;for(o in t)if(u=t[o],t.hasOwnProperty(o)&&u!=null)switch(o){case"value":break;case"multiple":m=u;default:n.hasOwnProperty(o)||un(r,e,o,null,n,u)}for(i in n)if(o=n[i],u=t[i],n.hasOwnProperty(i)&&(o!=null||u!=null))switch(i){case"value":g=o;break;case"defaultValue":l=o;break;case"multiple":a=o;default:o!==u&&un(r,e,i,o,n,u)}e=l,t=a,n=m,g!=null?Fu(r,!!t,g,!1):!!n!=!!t&&(e!=null?Fu(r,!!t,e,!0):Fu(r,!!t,t?[]:"",!1));return;case"textarea":m=g=null;for(l in t)if(i=t[l],t.hasOwnProperty(l)&&i!=null&&!n.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:un(r,e,l,null,n,i)}for(a in n)if(i=n[a],o=t[a],n.hasOwnProperty(a)&&(i!=null||o!=null))switch(a){case"value":g=i;break;case"defaultValue":m=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(Zt(91));break;default:i!==o&&un(r,e,a,i,n,o)}eE(r,g,m);return;case"option":for(var b in t)if(g=t[b],t.hasOwnProperty(b)&&g!=null&&!n.hasOwnProperty(b))switch(b){case"selected":r.selected=!1;break;default:un(r,e,b,null,n,g)}for(u in n)if(g=n[u],m=t[u],n.hasOwnProperty(u)&&g!==m&&(g!=null||m!=null))switch(u){case"selected":r.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:un(r,e,u,g,n,m)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var w in t)g=t[w],t.hasOwnProperty(w)&&g!=null&&!n.hasOwnProperty(w)&&un(r,e,w,null,n,g);for(c in n)if(g=n[c],m=t[c],n.hasOwnProperty(c)&&g!==m&&(g!=null||m!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(Zt(137,e));break;default:un(r,e,c,g,n,m)}return;default:if(ob(e)){for(var x in t)g=t[x],t.hasOwnProperty(x)&&g!==void 0&&!n.hasOwnProperty(x)&&q0(r,e,x,void 0,n,g);for(d in n)g=n[d],m=t[d],!n.hasOwnProperty(d)||g===m||g===void 0&&m===void 0||q0(r,e,d,g,n,m);return}}for(var _ in t)g=t[_],t.hasOwnProperty(_)&&g!=null&&!n.hasOwnProperty(_)&&un(r,e,_,null,n,g);for(h in n)g=n[h],m=t[h],!n.hasOwnProperty(h)||g===m||g==null&&m==null||un(r,e,h,g,n,m)}var G0=null,Y0=null;function ev(r){return r.nodeType===9?r:r.ownerDocument}function fx(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function iA(r,e){if(r===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&e==="foreignObject"?0:r}function X0(r,e){return r==="textarea"||r==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var gy=null;function sL(){var r=window.event;return r&&r.type==="popstate"?r===gy?!1:(gy=r,!0):(gy=null,!1)}var oA=typeof setTimeout=="function"?setTimeout:void 0,lL=typeof clearTimeout=="function"?clearTimeout:void 0,dx=typeof Promise=="function"?Promise:void 0,uL=typeof queueMicrotask=="function"?queueMicrotask:typeof dx<"u"?function(r){return dx.resolve(null).then(r).catch(cL)}:oA;function cL(r){setTimeout(function(){throw r})}function Ls(r){return r==="head"}function hx(r,e){var t=e,n=0,i=0;do{var o=t.nextSibling;if(r.removeChild(t),o&&o.nodeType===8)if(t=o.data,t==="/$"){if(0<n&&8>n){t=n;var a=r.ownerDocument;if(t&1&&Ff(a.documentElement),t&2&&Ff(a.body),t&4)for(t=a.head,Ff(t),a=t.firstChild;a;){var l=a.nextSibling,u=a.nodeName;a[xd]||u==="SCRIPT"||u==="STYLE"||u==="LINK"&&a.rel.toLowerCase()==="stylesheet"||t.removeChild(a),a=l}}if(i===0){r.removeChild(o),dd(e);return}i--}else t==="$"||t==="$?"||t==="$!"?i++:n=t.charCodeAt(0)-48;else n=0;t=o}while(t);dd(e)}function Z0(r){var e=r.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var t=e;switch(e=e.nextSibling,t.nodeName){case"HTML":case"HEAD":case"BODY":Z0(t),ib(t);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(t.rel.toLowerCase()==="stylesheet")continue}r.removeChild(t)}}function fL(r,e,t,n){for(;r.nodeType===1;){var i=t;if(r.nodeName.toLowerCase()!==e.toLowerCase()){if(!n&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(n){if(!r[xd])switch(e){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(o=r.getAttribute("rel"),o==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(o!==i.rel||r.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||r.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||r.getAttribute("title")!==(i.title==null?null:i.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(o=r.getAttribute("src"),(o!==(i.src==null?null:i.src)||r.getAttribute("type")!==(i.type==null?null:i.type)||r.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&o&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(e==="input"&&r.type==="hidden"){var o=i.name==null?null:""+i.name;if(i.type==="hidden"&&r.getAttribute("name")===o)return r}else return r;if(r=To(r.nextSibling),r===null)break}return null}function dL(r,e,t){if(e==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!t||(r=To(r.nextSibling),r===null))return null;return r}function $0(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function hL(r,e){var t=r.ownerDocument;if(r.data!=="$?"||t.readyState==="complete")e();else{var n=function(){e(),t.removeEventListener("DOMContentLoaded",n)};t.addEventListener("DOMContentLoaded",n),r._reactRetry=n}}function To(r){for(;r!=null;r=r.nextSibling){var e=r.nodeType;if(e===1||e===3)break;if(e===8){if(e=r.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return r}var J0=null;function px(r){r=r.previousSibling;for(var e=0;r;){if(r.nodeType===8){var t=r.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return r;e--}else t==="/$"&&e++}r=r.previousSibling}return null}function aA(r,e,t){switch(e=ev(t),r){case"html":if(r=e.documentElement,!r)throw Error(Zt(452));return r;case"head":if(r=e.head,!r)throw Error(Zt(453));return r;case"body":if(r=e.body,!r)throw Error(Zt(454));return r;default:throw Error(Zt(451))}}function Ff(r){for(var e=r.attributes;e.length;)r.removeAttributeNode(e[0]);ib(r)}var fo=new Map,vx=new Set;function nv(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Ma=en.d;en.d={f:pL,r:vL,D:gL,C:mL,L:yL,m:_L,X:wL,S:bL,M:SL};function pL(){var r=Ma.f(),e=Mg();return r||e}function vL(r){var e=hc(r);e!==null&&e.tag===5&&e.type==="form"?QE(e):Ma.r(r)}var gc=typeof document>"u"?null:document;function sA(r,e,t){var n=gc;if(n&&typeof e=="string"&&e){var i=oo(e);i='link[rel="'+r+'"][href="'+i+'"]',typeof t=="string"&&(i+='[crossorigin="'+t+'"]'),vx.has(i)||(vx.add(i),r={rel:r,crossOrigin:t,href:e},n.querySelector(i)===null&&(e=n.createElement("link"),Er(e,"link",r),mr(e),n.head.appendChild(e)))}}function gL(r){Ma.D(r),sA("dns-prefetch",r,null)}function mL(r,e){Ma.C(r,e),sA("preconnect",r,e)}function yL(r,e,t){Ma.L(r,e,t);var n=gc;if(n&&r&&e){var i='link[rel="preload"][as="'+oo(e)+'"]';e==="image"&&t&&t.imageSrcSet?(i+='[imagesrcset="'+oo(t.imageSrcSet)+'"]',typeof t.imageSizes=="string"&&(i+='[imagesizes="'+oo(t.imageSizes)+'"]')):i+='[href="'+oo(r)+'"]';var o=i;switch(e){case"style":o=lc(r);break;case"script":o=mc(r)}fo.has(o)||(r=xn({rel:"preload",href:e==="image"&&t&&t.imageSrcSet?void 0:r,as:e},t),fo.set(o,r),n.querySelector(i)!==null||e==="style"&&n.querySelector(Ld(o))||e==="script"&&n.querySelector(Nd(o))||(e=n.createElement("link"),Er(e,"link",r),mr(e),n.head.appendChild(e)))}}function _L(r,e){Ma.m(r,e);var t=gc;if(t&&r){var n=e&&typeof e.as=="string"?e.as:"script",i='link[rel="modulepreload"][as="'+oo(n)+'"][href="'+oo(r)+'"]',o=i;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=mc(r)}if(!fo.has(o)&&(r=xn({rel:"modulepreload",href:r},e),fo.set(o,r),t.querySelector(i)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(t.querySelector(Nd(o)))return}n=t.createElement("link"),Er(n,"link",r),mr(n),t.head.appendChild(n)}}}function bL(r,e,t){Ma.S(r,e,t);var n=gc;if(n&&r){var i=Bu(n).hoistableStyles,o=lc(r);e=e||"default";var a=i.get(o);if(!a){var l={loading:0,preload:null};if(a=n.querySelector(Ld(o)))l.loading=5;else{r=xn({rel:"stylesheet",href:r,"data-precedence":e},t),(t=fo.get(o))&&Fb(r,t);var u=a=n.createElement("link");mr(u),Er(u,"link",r),u._p=new Promise(function(c,d){u.onload=c,u.onerror=d}),u.addEventListener("load",function(){l.loading|=1}),u.addEventListener("error",function(){l.loading|=2}),l.loading|=4,dp(a,e,n)}a={type:"stylesheet",instance:a,count:1,state:l},i.set(o,a)}}}function wL(r,e){Ma.X(r,e);var t=gc;if(t&&r){var n=Bu(t).hoistableScripts,i=mc(r),o=n.get(i);o||(o=t.querySelector(Nd(i)),o||(r=xn({src:r,async:!0},e),(e=fo.get(i))&&zb(r,e),o=t.createElement("script"),mr(o),Er(o,"link",r),t.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},n.set(i,o))}}function SL(r,e){Ma.M(r,e);var t=gc;if(t&&r){var n=Bu(t).hoistableScripts,i=mc(r),o=n.get(i);o||(o=t.querySelector(Nd(i)),o||(r=xn({src:r,async:!0,type:"module"},e),(e=fo.get(i))&&zb(r,e),o=t.createElement("script"),mr(o),Er(o,"link",r),t.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},n.set(i,o))}}function gx(r,e,t,n){var i=(i=ys.current)?nv(i):null;if(!i)throw Error(Zt(446));switch(r){case"meta":case"title":return null;case"style":return typeof t.precedence=="string"&&typeof t.href=="string"?(e=lc(t.href),t=Bu(i).hoistableStyles,n=t.get(e),n||(n={type:"style",instance:null,count:0,state:null},t.set(e,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(t.rel==="stylesheet"&&typeof t.href=="string"&&typeof t.precedence=="string"){r=lc(t.href);var o=Bu(i).hoistableStyles,a=o.get(r);if(a||(i=i.ownerDocument||i,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},o.set(r,a),(o=i.querySelector(Ld(r)))&&!o._p&&(a.instance=o,a.state.loading=5),fo.has(r)||(t={rel:"preload",as:"style",href:t.href,crossOrigin:t.crossOrigin,integrity:t.integrity,media:t.media,hrefLang:t.hrefLang,referrerPolicy:t.referrerPolicy},fo.set(r,t),o||CL(i,r,t,a.state))),e&&n===null)throw Error(Zt(528,""));return a}if(e&&n!==null)throw Error(Zt(529,""));return null;case"script":return e=t.async,t=t.src,typeof t=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=mc(t),t=Bu(i).hoistableScripts,n=t.get(e),n||(n={type:"script",instance:null,count:0,state:null},t.set(e,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(Zt(444,r))}}function lc(r){return'href="'+oo(r)+'"'}function Ld(r){return'link[rel="stylesheet"]['+r+"]"}function lA(r){return xn({},r,{"data-precedence":r.precedence,precedence:null})}function CL(r,e,t,n){r.querySelector('link[rel="preload"][as="style"]['+e+"]")?n.loading=1:(e=r.createElement("link"),n.preload=e,e.addEventListener("load",function(){return n.loading|=1}),e.addEventListener("error",function(){return n.loading|=2}),Er(e,"link",t),mr(e),r.head.appendChild(e))}function mc(r){return'[src="'+oo(r)+'"]'}function Nd(r){return"script[async]"+r}function mx(r,e,t){if(e.count++,e.instance===null)switch(e.type){case"style":var n=r.querySelector('style[data-href~="'+oo(t.href)+'"]');if(n)return e.instance=n,mr(n),n;var i=xn({},t,{"data-href":t.href,"data-precedence":t.precedence,href:null,precedence:null});return n=(r.ownerDocument||r).createElement("style"),mr(n),Er(n,"style",i),dp(n,t.precedence,r),e.instance=n;case"stylesheet":i=lc(t.href);var o=r.querySelector(Ld(i));if(o)return e.state.loading|=4,e.instance=o,mr(o),o;n=lA(t),(i=fo.get(i))&&Fb(n,i),o=(r.ownerDocument||r).createElement("link"),mr(o);var a=o;return a._p=new Promise(function(l,u){a.onload=l,a.onerror=u}),Er(o,"link",n),e.state.loading|=4,dp(o,t.precedence,r),e.instance=o;case"script":return o=mc(t.src),(i=r.querySelector(Nd(o)))?(e.instance=i,mr(i),i):(n=t,(i=fo.get(o))&&(n=xn({},t),zb(n,i)),r=r.ownerDocument||r,i=r.createElement("script"),mr(i),Er(i,"link",n),r.head.appendChild(i),e.instance=i);case"void":return null;default:throw Error(Zt(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(n=e.instance,e.state.loading|=4,dp(n,t.precedence,r));return e.instance}function dp(r,e,t){for(var n=t.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=n.length?n[n.length-1]:null,o=i,a=0;a<n.length;a++){var l=n[a];if(l.dataset.precedence===e)o=l;else if(o!==i)break}o?o.parentNode.insertBefore(r,o.nextSibling):(e=t.nodeType===9?t.head:t,e.insertBefore(r,e.firstChild))}function Fb(r,e){r.crossOrigin==null&&(r.crossOrigin=e.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=e.referrerPolicy),r.title==null&&(r.title=e.title)}function zb(r,e){r.crossOrigin==null&&(r.crossOrigin=e.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=e.referrerPolicy),r.integrity==null&&(r.integrity=e.integrity)}var hp=null;function yx(r,e,t){if(hp===null){var n=new Map,i=hp=new Map;i.set(t,n)}else i=hp,n=i.get(t),n||(n=new Map,i.set(t,n));if(n.has(r))return n;for(n.set(r,null),t=t.getElementsByTagName(r),i=0;i<t.length;i++){var o=t[i];if(!(o[xd]||o[jr]||r==="link"&&o.getAttribute("rel")==="stylesheet")&&o.namespaceURI!=="http://www.w3.org/2000/svg"){var a=o.getAttribute(e)||"";a=r+a;var l=n.get(a);l?l.push(o):n.set(a,[o])}}return n}function _x(r,e,t){r=r.ownerDocument||r,r.head.insertBefore(t,e==="title"?r.querySelector("head > title"):null)}function xL(r,e,t){if(t===1||e.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return r=e.disabled,typeof e.precedence=="string"&&r==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function uA(r){return!(r.type==="stylesheet"&&!(r.state.loading&3))}var ld=null;function OL(){}function EL(r,e,t){if(ld===null)throw Error(Zt(475));var n=ld;if(e.type==="stylesheet"&&(typeof t.media!="string"||matchMedia(t.media).matches!==!1)&&!(e.state.loading&4)){if(e.instance===null){var i=lc(t.href),o=r.querySelector(Ld(i));if(o){r=o._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(n.count++,n=rv.bind(n),r.then(n,n)),e.state.loading|=4,e.instance=o,mr(o);return}o=r.ownerDocument||r,t=lA(t),(i=fo.get(i))&&Fb(t,i),o=o.createElement("link"),mr(o);var a=o;a._p=new Promise(function(l,u){a.onload=l,a.onerror=u}),Er(o,"link",t),e.instance=o}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(e,r),(r=e.state.preload)&&!(e.state.loading&3)&&(n.count++,e=rv.bind(n),r.addEventListener("load",e),r.addEventListener("error",e))}}function TL(){if(ld===null)throw Error(Zt(475));var r=ld;return r.stylesheets&&r.count===0&&Q0(r,r.stylesheets),0<r.count?function(e){var t=setTimeout(function(){if(r.stylesheets&&Q0(r,r.stylesheets),r.unsuspend){var n=r.unsuspend;r.unsuspend=null,n()}},6e4);return r.unsuspend=e,function(){r.unsuspend=null,clearTimeout(t)}}:null}function rv(){if(this.count--,this.count===0){if(this.stylesheets)Q0(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var iv=null;function Q0(r,e){r.stylesheets=null,r.unsuspend!==null&&(r.count++,iv=new Map,e.forEach(AL,r),iv=null,rv.call(r))}function AL(r,e){if(!(e.state.loading&4)){var t=iv.get(r);if(t)var n=t.get(null);else{t=new Map,iv.set(r,t);for(var i=r.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<i.length;o++){var a=i[o];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(t.set(a.dataset.precedence,a),n=a)}n&&t.set(null,n)}i=e.instance,a=i.getAttribute("data-precedence"),o=t.get(a)||n,o===n&&t.set(null,i),t.set(a,i),this.count++,n=rv.bind(this),i.addEventListener("load",n),i.addEventListener("error",n),o?o.parentNode.insertBefore(i,o.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(i,r.firstChild)),e.state.loading|=4}}var ud={$$typeof:ga,Provider:null,Consumer:null,_currentValue:ll,_currentValue2:ll,_threadCount:0};function DL(r,e,t,n,i,o,a,l){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Vm(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vm(0),this.hiddenUpdates=Vm(null),this.identifierPrefix=n,this.onUncaughtError=i,this.onCaughtError=o,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function cA(r,e,t,n,i,o,a,l,u,c,d,h){return r=new DL(r,e,t,a,l,u,c,h),e=1,o===!0&&(e|=24),o=Fi(3,null,null,e),r.current=o,o.stateNode=r,e=gb(),e.refCount++,r.pooledCache=e,e.refCount++,o.memoizedState={element:n,isDehydrated:t,cache:e},yb(o),r}function fA(r){return r?(r=yu,r):yu}function dA(r,e,t,n,i,o){i=fA(i),n.context===null?n.context=i:n.pendingContext=i,n=_s(e),n.payload={element:t},o=o===void 0?null:o,o!==null&&(n.callback=o),t=bs(r,n,e),t!==null&&(Gi(t,r,e),Rf(t,r,e))}function bx(r,e){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var t=r.retryLane;r.retryLane=t!==0&&t<e?t:e}}function Hb(r,e){bx(r,e),(r=r.alternate)&&bx(r,e)}function hA(r){if(r.tag===13){var e=pc(r,67108864);e!==null&&Gi(e,r,67108864),Hb(r,67108864)}}var ov=!0;function kL(r,e,t,n){var i=Ae.T;Ae.T=null;var o=en.p;try{en.p=2,Wb(r,e,t,n)}finally{en.p=o,Ae.T=i}}function PL(r,e,t,n){var i=Ae.T;Ae.T=null;var o=en.p;try{en.p=8,Wb(r,e,t,n)}finally{en.p=o,Ae.T=i}}function Wb(r,e,t,n){if(ov){var i=t_(n);if(i===null)vy(r,e,n,av,t),wx(r,n);else if(RL(i,r,e,t,n))n.stopPropagation();else if(wx(r,n),e&4&&-1<ML.indexOf(r)){for(;i!==null;){var o=hc(i);if(o!==null)switch(o.tag){case 3:if(o=o.stateNode,o.current.memoizedState.isDehydrated){var a=$s(o.pendingLanes);if(a!==0){var l=o;for(l.pendingLanes|=2,l.entangledLanes|=2;a;){var u=1<<31-Ki(a);l.entanglements[1]|=u,a&=~u}Go(o),!(sn&6)&&(Zp=Fo()+500,Rd(0))}}break;case 13:l=pc(o,2),l!==null&&Gi(l,o,2),Mg(),Hb(o,2)}if(o=t_(n),o===null&&vy(r,e,n,av,t),o===i)break;i=o}i!==null&&n.stopPropagation()}else vy(r,e,n,null,t)}}function t_(r){return r=ab(r),Kb(r)}var av=null;function Kb(r){if(av=null,r=du(r),r!==null){var e=bd(r);if(e===null)r=null;else{var t=e.tag;if(t===13){if(r=VO(e),r!==null)return r;r=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;r=null}else e!==r&&(r=null)}}return av=r,null}function pA(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(mM()){case zO:return 2;case HO:return 8;case Lp:case yM:return 32;case WO:return 268435456;default:return 32}default:return 32}}var e_=!1,Cs=null,xs=null,Os=null,cd=new Map,fd=new Map,ds=[],ML="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function wx(r,e){switch(r){case"focusin":case"focusout":Cs=null;break;case"dragenter":case"dragleave":xs=null;break;case"mouseover":case"mouseout":Os=null;break;case"pointerover":case"pointerout":cd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":fd.delete(e.pointerId)}}function cf(r,e,t,n,i,o){return r===null||r.nativeEvent!==o?(r={blockedOn:e,domEventName:t,eventSystemFlags:n,nativeEvent:o,targetContainers:[i]},e!==null&&(e=hc(e),e!==null&&hA(e)),r):(r.eventSystemFlags|=n,e=r.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),r)}function RL(r,e,t,n,i){switch(e){case"focusin":return Cs=cf(Cs,r,e,t,n,i),!0;case"dragenter":return xs=cf(xs,r,e,t,n,i),!0;case"mouseover":return Os=cf(Os,r,e,t,n,i),!0;case"pointerover":var o=i.pointerId;return cd.set(o,cf(cd.get(o)||null,r,e,t,n,i)),!0;case"gotpointercapture":return o=i.pointerId,fd.set(o,cf(fd.get(o)||null,r,e,t,n,i)),!0}return!1}function vA(r){var e=du(r.target);if(e!==null){var t=bd(e);if(t!==null){if(e=t.tag,e===13){if(e=VO(t),e!==null){r.blockedOn=e,EM(r.priority,function(){if(t.tag===13){var n=qi();n=nb(n);var i=pc(t,n);i!==null&&Gi(i,t,n),Hb(t,n)}});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){r.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}r.blockedOn=null}function pp(r){if(r.blockedOn!==null)return!1;for(var e=r.targetContainers;0<e.length;){var t=t_(r.nativeEvent);if(t===null){t=r.nativeEvent;var n=new t.constructor(t.type,t);y0=n,t.target.dispatchEvent(n),y0=null}else return e=hc(t),e!==null&&hA(e),r.blockedOn=t,!1;e.shift()}return!0}function Sx(r,e,t){pp(r)&&t.delete(e)}function LL(){e_=!1,Cs!==null&&pp(Cs)&&(Cs=null),xs!==null&&pp(xs)&&(xs=null),Os!==null&&pp(Os)&&(Os=null),cd.forEach(Sx),fd.forEach(Sx)}function Vh(r,e){r.blockedOn===e&&(r.blockedOn=null,e_||(e_=!0,dr.unstable_scheduleCallback(dr.unstable_NormalPriority,LL)))}var Uh=null;function Cx(r){Uh!==r&&(Uh=r,dr.unstable_scheduleCallback(dr.unstable_NormalPriority,function(){Uh===r&&(Uh=null);for(var e=0;e<r.length;e+=3){var t=r[e],n=r[e+1],i=r[e+2];if(typeof n!="function"){if(Kb(n||t)===null)continue;break}var o=hc(t);o!==null&&(r.splice(e,3),e-=3,L0(o,{pending:!0,data:i,method:t.method,action:n},n,i))}}))}function dd(r){function e(u){return Vh(u,r)}Cs!==null&&Vh(Cs,r),xs!==null&&Vh(xs,r),Os!==null&&Vh(Os,r),cd.forEach(e),fd.forEach(e);for(var t=0;t<ds.length;t++){var n=ds[t];n.blockedOn===r&&(n.blockedOn=null)}for(;0<ds.length&&(t=ds[0],t.blockedOn===null);)vA(t),t.blockedOn===null&&ds.shift();if(t=(r.ownerDocument||r).$$reactFormReplay,t!=null)for(n=0;n<t.length;n+=3){var i=t[n],o=t[n+1],a=i[Ci]||null;if(typeof o=="function")a||Cx(t);else if(a){var l=null;if(o&&o.hasAttribute("formAction")){if(i=o,a=o[Ci]||null)l=a.formAction;else if(Kb(i)!==null)continue}else l=a.action;typeof l=="function"?t[n+1]=l:(t.splice(n,3),n-=3),Cx(t)}}}function qb(r){this._internalRoot=r}jg.prototype.render=qb.prototype.render=function(r){var e=this._internalRoot;if(e===null)throw Error(Zt(409));var t=e.current,n=qi();dA(t,n,r,e,null,null)};jg.prototype.unmount=qb.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var e=r.containerInfo;dA(r.current,2,null,r,null,null),Mg(),e[dc]=null}};function jg(r){this._internalRoot=r}jg.prototype.unstable_scheduleHydration=function(r){if(r){var e=XO();r={blockedOn:null,target:r,priority:e};for(var t=0;t<ds.length&&e!==0&&e<ds[t].priority;t++);ds.splice(t,0,r),t===0&&vA(r)}};var xx=jO.version;if(xx!=="19.1.0")throw Error(Zt(527,xx,"19.1.0"));en.findDOMNode=function(r){var e=r._reactInternals;if(e===void 0)throw typeof r.render=="function"?Error(Zt(188)):(r=Object.keys(r).join(","),Error(Zt(268,r)));return r=cM(e),r=r!==null?UO(r):null,r=r===null?null:r.stateNode,r};var NL={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Ae,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bh.isDisabled&&Bh.supportsFiber)try{wd=Bh.inject(NL),Wi=Bh}catch{}}bg.createRoot=function(r,e){if(!IO(r))throw Error(Zt(299));var t=!1,n="",i=cT,o=fT,a=dT,l=null;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onUncaughtError!==void 0&&(i=e.onUncaughtError),e.onCaughtError!==void 0&&(o=e.onCaughtError),e.onRecoverableError!==void 0&&(a=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(l=e.unstable_transitionCallbacks)),e=cA(r,1,!1,null,null,t,n,i,o,a,l,null),r[dc]=e.current,Bb(r),new qb(e)};bg.hydrateRoot=function(r,e,t){if(!IO(r))throw Error(Zt(299));var n=!1,i="",o=cT,a=fT,l=dT,u=null,c=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(a=t.onCaughtError),t.onRecoverableError!==void 0&&(l=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(u=t.unstable_transitionCallbacks),t.formState!==void 0&&(c=t.formState)),e=cA(r,1,!0,e,t??null,n,i,o,a,l,u,c),e.context=fA(null),t=e.current,n=qi(),n=nb(n),i=_s(n),i.callback=null,bs(t,i,n),t=n,e.current.lanes=t,Cd(e,t),Go(e),r[dc]=e.current,Bb(r),new jg(e)};bg.version="19.1.0";function gA(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(gA)}catch(r){console.error(r)}}gA(),kO.exports=bg;var jL=kO.exports,Gb={};Object.defineProperty(Gb,"__esModule",{value:!0});Gb.parse=HL;Gb.serialize=WL;const IL=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,VL=/^[\u0021-\u003A\u003C-\u007E]*$/,UL=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,BL=/^[\u0020-\u003A\u003D-\u007E]*$/,FL=Object.prototype.toString,zL=(()=>{const r=function(){};return r.prototype=Object.create(null),r})();function HL(r,e){const t=new zL,n=r.length;if(n<2)return t;const i=(e==null?void 0:e.decode)||KL;let o=0;do{const a=r.indexOf("=",o);if(a===-1)break;const l=r.indexOf(";",o),u=l===-1?n:l;if(a>u){o=r.lastIndexOf(";",a-1)+1;continue}const c=Ox(r,o,a),d=Ex(r,a,c),h=r.slice(c,d);if(t[h]===void 0){let g=Ox(r,a+1,u),m=Ex(r,u,g);const b=i(r.slice(g,m));t[h]=b}o=u+1}while(o<n);return t}function Ox(r,e,t){do{const n=r.charCodeAt(e);if(n!==32&&n!==9)return e}while(++e<t);return t}function Ex(r,e,t){for(;e>t;){const n=r.charCodeAt(--e);if(n!==32&&n!==9)return e+1}return t}function WL(r,e,t){const n=(t==null?void 0:t.encode)||encodeURIComponent;if(!IL.test(r))throw new TypeError(`argument name is invalid: ${r}`);const i=n(e);if(!VL.test(i))throw new TypeError(`argument val is invalid: ${e}`);let o=r+"="+i;if(!t)return o;if(t.maxAge!==void 0){if(!Number.isInteger(t.maxAge))throw new TypeError(`option maxAge is invalid: ${t.maxAge}`);o+="; Max-Age="+t.maxAge}if(t.domain){if(!UL.test(t.domain))throw new TypeError(`option domain is invalid: ${t.domain}`);o+="; Domain="+t.domain}if(t.path){if(!BL.test(t.path))throw new TypeError(`option path is invalid: ${t.path}`);o+="; Path="+t.path}if(t.expires){if(!qL(t.expires)||!Number.isFinite(t.expires.valueOf()))throw new TypeError(`option expires is invalid: ${t.expires}`);o+="; Expires="+t.expires.toUTCString()}if(t.httpOnly&&(o+="; HttpOnly"),t.secure&&(o+="; Secure"),t.partitioned&&(o+="; Partitioned"),t.priority)switch(typeof t.priority=="string"?t.priority.toLowerCase():void 0){case"low":o+="; Priority=Low";break;case"medium":o+="; Priority=Medium";break;case"high":o+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${t.priority}`)}if(t.sameSite)switch(typeof t.sameSite=="string"?t.sameSite.toLowerCase():t.sameSite){case!0:case"strict":o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"none":o+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${t.sameSite}`)}return o}function KL(r){if(r.indexOf("%")===-1)return r;try{return decodeURIComponent(r)}catch{return r}}function qL(r){return FL.call(r)==="[object Date]"}var Tx="popstate";function GL(r={}){function e(n,i){let{pathname:o,search:a,hash:l}=n.location;return n_("",{pathname:o,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(n,i){return typeof i=="string"?i:hd(i)}return XL(e,t,null,r)}function Rn(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Ho(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function YL(){return Math.random().toString(36).substring(2,10)}function Ax(r,e){return{usr:r.state,key:r.key,idx:e}}function n_(r,e,t=null,n){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?yc(e):e,state:t,key:e&&e.key||n||YL()}}function hd({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function yc(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let n=r.indexOf("?");n>=0&&(e.search=r.substring(n),r=r.substring(0,n)),r&&(e.pathname=r)}return e}function XL(r,e,t,n={}){let{window:i=document.defaultView,v5Compat:o=!1}=n,a=i.history,l="POP",u=null,c=d();c==null&&(c=0,a.replaceState({...a.state,idx:c},""));function d(){return(a.state||{idx:null}).idx}function h(){l="POP";let x=d(),_=x==null?null:x-c;c=x,u&&u({action:l,location:w.location,delta:_})}function g(x,_){l="PUSH";let C=n_(w.location,x,_);c=d()+1;let O=Ax(C,c),A=w.createHref(C);try{a.pushState(O,"",A)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;i.location.assign(A)}o&&u&&u({action:l,location:w.location,delta:1})}function m(x,_){l="REPLACE";let C=n_(w.location,x,_);c=d();let O=Ax(C,c),A=w.createHref(C);a.replaceState(O,"",A),o&&u&&u({action:l,location:w.location,delta:0})}function b(x){let _=i.location.origin!=="null"?i.location.origin:i.location.href,C=typeof x=="string"?x:hd(x);return C=C.replace(/ $/,"%20"),Rn(_,`No window.location.(origin|href) available to create URL for href: ${C}`),new URL(C,_)}let w={get action(){return l},get location(){return r(i,a)},listen(x){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(Tx,h),u=x,()=>{i.removeEventListener(Tx,h),u=null}},createHref(x){return e(i,x)},createURL:b,encodeLocation(x){let _=b(x);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:g,replace:m,go(x){return a.go(x)}};return w}function mA(r,e,t="/"){return ZL(r,e,t,!1)}function ZL(r,e,t,n){let i=typeof e=="string"?yc(e):e,o=ka(i.pathname||"/",t);if(o==null)return null;let a=yA(r);$L(a);let l=null;for(let u=0;l==null&&u<a.length;++u){let c=lN(o);l=aN(a[u],c,n)}return l}function yA(r,e=[],t=[],n=""){let i=(o,a,l)=>{let u={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};u.relativePath.startsWith("/")&&(Rn(u.relativePath.startsWith(n),`Absolute route path "${u.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(n.length));let c=xa([n,u.relativePath]),d=t.concat(u);o.children&&o.children.length>0&&(Rn(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),yA(o.children,e,d,c)),!(o.path==null&&!o.index)&&e.push({path:c,score:iN(c,o.index),routesMeta:d})};return r.forEach((o,a)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))i(o,a);else for(let u of _A(o.path))i(o,a,u)}),e}function _A(r){let e=r.split("/");if(e.length===0)return[];let[t,...n]=e,i=t.endsWith("?"),o=t.replace(/\?$/,"");if(n.length===0)return i?[o,""]:[o];let a=_A(n.join("/")),l=[];return l.push(...a.map(u=>u===""?o:[o,u].join("/"))),i&&l.push(...a),l.map(u=>r.startsWith("/")&&u===""?"/":u)}function $L(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:oN(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var JL=/^:[\w-]+$/,QL=3,tN=2,eN=1,nN=10,rN=-2,Dx=r=>r==="*";function iN(r,e){let t=r.split("/"),n=t.length;return t.some(Dx)&&(n+=rN),e&&(n+=tN),t.filter(i=>!Dx(i)).reduce((i,o)=>i+(JL.test(o)?QL:o===""?eN:nN),n)}function oN(r,e){return r.length===e.length&&r.slice(0,-1).every((n,i)=>n===e[i])?r[r.length-1]-e[e.length-1]:0}function aN(r,e,t=!1){let{routesMeta:n}=r,i={},o="/",a=[];for(let l=0;l<n.length;++l){let u=n[l],c=l===n.length-1,d=o==="/"?e:e.slice(o.length)||"/",h=sv({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},d),g=u.route;if(!h&&c&&t&&!n[n.length-1].route.index&&(h=sv({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),a.push({params:i,pathname:xa([o,h.pathname]),pathnameBase:dN(xa([o,h.pathnameBase])),route:g}),h.pathnameBase!=="/"&&(o=xa([o,h.pathnameBase]))}return a}function sv(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,n]=sN(r.path,r.caseSensitive,r.end),i=e.match(t);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((c,{paramName:d,isOptional:h},g)=>{if(d==="*"){let b=l[g]||"";a=o.slice(0,o.length-b.length).replace(/(.)\/+$/,"$1")}const m=l[g];return h&&!m?c[d]=void 0:c[d]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:a,pattern:r}}function sN(r,e=!1,t=!0){Ho(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let n=[],i="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,u)=>(n.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(n.push({paramName:"*"}),i+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":r!==""&&r!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function lN(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ho(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function ka(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=r.charAt(t);return n&&n!=="/"?null:r.slice(t)||"/"}function uN(r,e="/"){let{pathname:t,search:n="",hash:i=""}=typeof r=="string"?yc(r):r;return{pathname:t?t.startsWith("/")?t:cN(t,e):e,search:hN(n),hash:pN(i)}}function cN(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function my(r,e,t,n){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function fN(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function bA(r){let e=fN(r);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function wA(r,e,t,n=!1){let i;typeof r=="string"?i=yc(r):(i={...r},Rn(!i.pathname||!i.pathname.includes("?"),my("?","pathname","search",i)),Rn(!i.pathname||!i.pathname.includes("#"),my("#","pathname","hash",i)),Rn(!i.search||!i.search.includes("#"),my("#","search","hash",i)));let o=r===""||i.pathname==="",a=o?"/":i.pathname,l;if(a==null)l=t;else{let h=e.length-1;if(!n&&a.startsWith("..")){let g=a.split("/");for(;g[0]==="..";)g.shift(),h-=1;i.pathname=g.join("/")}l=h>=0?e[h]:"/"}let u=uN(i,l),c=a&&a!=="/"&&a.endsWith("/"),d=(o||a===".")&&t.endsWith("/");return!u.pathname.endsWith("/")&&(c||d)&&(u.pathname+="/"),u}var xa=r=>r.join("/").replace(/\/\/+/g,"/"),dN=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),hN=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,pN=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function vN(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var SA=["POST","PUT","PATCH","DELETE"];new Set(SA);var gN=["GET",...SA];new Set(gN);var _c=Ft.createContext(null);_c.displayName="DataRouter";var Ig=Ft.createContext(null);Ig.displayName="DataRouterState";var CA=Ft.createContext({isTransitioning:!1});CA.displayName="ViewTransition";var mN=Ft.createContext(new Map);mN.displayName="Fetchers";var yN=Ft.createContext(null);yN.displayName="Await";var Yo=Ft.createContext(null);Yo.displayName="Navigation";var jd=Ft.createContext(null);jd.displayName="Location";var Xo=Ft.createContext({outlet:null,matches:[],isDataRoute:!1});Xo.displayName="Route";var Yb=Ft.createContext(null);Yb.displayName="RouteError";function _N(r,{relative:e}={}){Rn(Id(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=Ft.useContext(Yo),{hash:i,pathname:o,search:a}=Vd(r,{relative:e}),l=o;return t!=="/"&&(l=o==="/"?t:xa([t,o])),n.createHref({pathname:l,search:a,hash:i})}function Id(){return Ft.useContext(jd)!=null}function Ns(){return Rn(Id(),"useLocation() may be used only in the context of a <Router> component."),Ft.useContext(jd).location}var xA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function OA(r){Ft.useContext(Yo).static||Ft.useLayoutEffect(r)}function Vg(){let{isDataRoute:r}=Ft.useContext(Xo);return r?RN():bN()}function bN(){Rn(Id(),"useNavigate() may be used only in the context of a <Router> component.");let r=Ft.useContext(_c),{basename:e,navigator:t}=Ft.useContext(Yo),{matches:n}=Ft.useContext(Xo),{pathname:i}=Ns(),o=JSON.stringify(bA(n)),a=Ft.useRef(!1);return OA(()=>{a.current=!0}),Ft.useCallback((u,c={})=>{if(Ho(a.current,xA),!a.current)return;if(typeof u=="number"){t.go(u);return}let d=wA(u,JSON.parse(o),i,c.relative==="path");r==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:xa([e,d.pathname])),(c.replace?t.replace:t.push)(d,c.state,c)},[e,t,o,i,r])}Ft.createContext(null);function wN(){let{matches:r}=Ft.useContext(Xo),e=r[r.length-1];return e?e.params:{}}function Vd(r,{relative:e}={}){let{matches:t}=Ft.useContext(Xo),{pathname:n}=Ns(),i=JSON.stringify(bA(t));return Ft.useMemo(()=>wA(r,JSON.parse(i),n,e==="path"),[r,i,n,e])}function SN(r,e){return EA(r,e)}function EA(r,e,t,n){var C;Rn(Id(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:o}=Ft.useContext(Yo),{matches:a}=Ft.useContext(Xo),l=a[a.length-1],u=l?l.params:{},c=l?l.pathname:"/",d=l?l.pathnameBase:"/",h=l&&l.route;{let O=h&&h.path||"";TA(c,!h||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let g=Ns(),m;if(e){let O=typeof e=="string"?yc(e):e;Rn(d==="/"||((C=O.pathname)==null?void 0:C.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${O.pathname}" was given in the \`location\` prop.`),m=O}else m=g;let b=m.pathname||"/",w=b;if(d!=="/"){let O=d.replace(/^\//,"").split("/");w="/"+b.replace(/^\//,"").split("/").slice(O.length).join("/")}let x=!o&&t&&t.matches&&t.matches.length>0?t.matches:mA(r,{pathname:w});Ho(h||x!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),Ho(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=TN(x&&x.map(O=>Object.assign({},O,{params:Object.assign({},u,O.params),pathname:xa([d,i.encodeLocation?i.encodeLocation(O.pathname).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?d:xa([d,i.encodeLocation?i.encodeLocation(O.pathnameBase).pathname:O.pathnameBase])})),a,t,n);return e&&_?Ft.createElement(jd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},_):_}function CN(){let r=MN(),e=vN(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},o={padding:"2px 4px",backgroundColor:n},a=null;return console.error("Error handled by React Router default ErrorBoundary:",r),a=Ft.createElement(Ft.Fragment,null,Ft.createElement("p",null,"💿 Hey developer 👋"),Ft.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Ft.createElement("code",{style:o},"ErrorBoundary")," or"," ",Ft.createElement("code",{style:o},"errorElement")," prop on your route.")),Ft.createElement(Ft.Fragment,null,Ft.createElement("h2",null,"Unexpected Application Error!"),Ft.createElement("h3",{style:{fontStyle:"italic"}},e),t?Ft.createElement("pre",{style:i},t):null,a)}var xN=Ft.createElement(CN,null),ON=class extends Ft.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?Ft.createElement(Xo.Provider,{value:this.props.routeContext},Ft.createElement(Yb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function EN({routeContext:r,match:e,children:t}){let n=Ft.useContext(_c);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),Ft.createElement(Xo.Provider,{value:r},t)}function TN(r,e=[],t=null,n=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let i=r,o=t==null?void 0:t.errors;if(o!=null){let u=i.findIndex(c=>c.route.id&&(o==null?void 0:o[c.route.id])!==void 0);Rn(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,u+1))}let a=!1,l=-1;if(t)for(let u=0;u<i.length;u++){let c=i[u];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(l=u),c.route.id){let{loaderData:d,errors:h}=t,g=c.route.loader&&!d.hasOwnProperty(c.route.id)&&(!h||h[c.route.id]===void 0);if(c.route.lazy||g){a=!0,l>=0?i=i.slice(0,l+1):i=[i[0]];break}}}return i.reduceRight((u,c,d)=>{let h,g=!1,m=null,b=null;t&&(h=o&&c.route.id?o[c.route.id]:void 0,m=c.route.errorElement||xN,a&&(l<0&&d===0?(TA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,b=null):l===d&&(g=!0,b=c.route.hydrateFallbackElement||null)));let w=e.concat(i.slice(0,d+1)),x=()=>{let _;return h?_=m:g?_=b:c.route.Component?_=Ft.createElement(c.route.Component,null):c.route.element?_=c.route.element:_=u,Ft.createElement(EN,{match:c,routeContext:{outlet:u,matches:w,isDataRoute:t!=null},children:_})};return t&&(c.route.ErrorBoundary||c.route.errorElement||d===0)?Ft.createElement(ON,{location:t.location,revalidation:t.revalidation,component:m,error:h,children:x(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):x()},null)}function Xb(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function AN(r){let e=Ft.useContext(_c);return Rn(e,Xb(r)),e}function DN(r){let e=Ft.useContext(Ig);return Rn(e,Xb(r)),e}function kN(r){let e=Ft.useContext(Xo);return Rn(e,Xb(r)),e}function Zb(r){let e=kN(r),t=e.matches[e.matches.length-1];return Rn(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function PN(){return Zb("useRouteId")}function MN(){var n;let r=Ft.useContext(Yb),e=DN("useRouteError"),t=Zb("useRouteError");return r!==void 0?r:(n=e.errors)==null?void 0:n[t]}function RN(){let{router:r}=AN("useNavigate"),e=Zb("useNavigate"),t=Ft.useRef(!1);return OA(()=>{t.current=!0}),Ft.useCallback(async(i,o={})=>{Ho(t.current,xA),t.current&&(typeof i=="number"?r.navigate(i):await r.navigate(i,{fromRouteId:e,...o}))},[r,e])}var kx={};function TA(r,e,t){!e&&!kx[r]&&(kx[r]=!0,Ho(!1,t))}Ft.memo(LN);function LN({routes:r,future:e,state:t}){return EA(r,void 0,t,e)}function vp(r){Rn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function NN({basename:r="/",children:e=null,location:t,navigationType:n="POP",navigator:i,static:o=!1}){Rn(!Id(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=r.replace(/^\/*/,"/"),l=Ft.useMemo(()=>({basename:a,navigator:i,static:o,future:{}}),[a,i,o]);typeof t=="string"&&(t=yc(t));let{pathname:u="/",search:c="",hash:d="",state:h=null,key:g="default"}=t,m=Ft.useMemo(()=>{let b=ka(u,a);return b==null?null:{location:{pathname:b,search:c,hash:d,state:h,key:g},navigationType:n}},[a,u,c,d,h,g,n]);return Ho(m!=null,`<Router basename="${a}"> is not able to match the URL "${u}${c}${d}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:Ft.createElement(Yo.Provider,{value:l},Ft.createElement(jd.Provider,{children:e,value:m}))}function jN({children:r,location:e}){return SN(r_(r),e)}function r_(r,e=[]){let t=[];return Ft.Children.forEach(r,(n,i)=>{if(!Ft.isValidElement(n))return;let o=[...e,i];if(n.type===Ft.Fragment){t.push.apply(t,r_(n.props.children,o));return}Rn(n.type===vp,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Rn(!n.props.index||!n.props.children,"An index route cannot have child routes.");let a={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=r_(n.props.children,o)),t.push(a)}),t}var gp="get",mp="application/x-www-form-urlencoded";function Ug(r){return r!=null&&typeof r.tagName=="string"}function IN(r){return Ug(r)&&r.tagName.toLowerCase()==="button"}function VN(r){return Ug(r)&&r.tagName.toLowerCase()==="form"}function UN(r){return Ug(r)&&r.tagName.toLowerCase()==="input"}function BN(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function FN(r,e){return r.button===0&&(!e||e==="_self")&&!BN(r)}var Fh=null;function zN(){if(Fh===null)try{new FormData(document.createElement("form"),0),Fh=!1}catch{Fh=!0}return Fh}var HN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function yy(r){return r!=null&&!HN.has(r)?(Ho(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${mp}"`),null):r}function WN(r,e){let t,n,i,o,a;if(VN(r)){let l=r.getAttribute("action");n=l?ka(l,e):null,t=r.getAttribute("method")||gp,i=yy(r.getAttribute("enctype"))||mp,o=new FormData(r)}else if(IN(r)||UN(r)&&(r.type==="submit"||r.type==="image")){let l=r.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=r.getAttribute("formaction")||l.getAttribute("action");if(n=u?ka(u,e):null,t=r.getAttribute("formmethod")||l.getAttribute("method")||gp,i=yy(r.getAttribute("formenctype"))||yy(l.getAttribute("enctype"))||mp,o=new FormData(l,r),!zN()){let{name:c,type:d,value:h}=r;if(d==="image"){let g=c?`${c}.`:"";o.append(`${g}x`,"0"),o.append(`${g}y`,"0")}else c&&o.append(c,h)}}else{if(Ug(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=gp,n=null,i=mp,a=r}return o&&i==="text/plain"&&(a=o,o=void 0),{action:n,method:t.toLowerCase(),encType:i,formData:o,body:a}}function $b(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function KN(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function qN(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function GN(r,e,t){let n=await Promise.all(r.map(async i=>{let o=e.routes[i.route.id];if(o){let a=await KN(o,t);return a.links?a.links():[]}return[]}));return $N(n.flat(1).filter(qN).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Px(r,e,t,n,i,o){let a=(u,c)=>t[c]?u.route.id!==t[c].route.id:!0,l=(u,c)=>{var d;return t[c].pathname!==u.pathname||((d=t[c].route.path)==null?void 0:d.endsWith("*"))&&t[c].params["*"]!==u.params["*"]};return o==="assets"?e.filter((u,c)=>a(u,c)||l(u,c)):o==="data"?e.filter((u,c)=>{var h;let d=n.routes[u.route.id];if(!d||!d.hasLoader)return!1;if(a(u,c)||l(u,c))return!0;if(u.route.shouldRevalidate){let g=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((h=t[0])==null?void 0:h.params)||{},nextUrl:new URL(r,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function YN(r,e,{includeHydrateFallback:t}={}){return XN(r.map(n=>{let i=e.routes[n.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function XN(r){return[...new Set(r)]}function ZN(r){let e={},t=Object.keys(r).sort();for(let n of t)e[n]=r[n];return e}function $N(r,e){let t=new Set;return new Set(e),r.reduce((n,i)=>{let o=JSON.stringify(ZN(i));return t.has(o)||(t.add(o),n.push({key:o,link:i})),n},[])}var JN=new Set([100,101,204,205]);function QN(r,e){let t=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return t.pathname==="/"?t.pathname="_root.data":e&&ka(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function AA(){let r=Ft.useContext(_c);return $b(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function tj(){let r=Ft.useContext(Ig);return $b(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Jb=Ft.createContext(void 0);Jb.displayName="FrameworkContext";function DA(){let r=Ft.useContext(Jb);return $b(r,"You must render this element inside a <HydratedRouter> element"),r}function ej(r,e){let t=Ft.useContext(Jb),[n,i]=Ft.useState(!1),[o,a]=Ft.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:c,onMouseLeave:d,onTouchStart:h}=e,g=Ft.useRef(null);Ft.useEffect(()=>{if(r==="render"&&a(!0),r==="viewport"){let w=_=>{_.forEach(C=>{a(C.isIntersecting)})},x=new IntersectionObserver(w,{threshold:.5});return g.current&&x.observe(g.current),()=>{x.disconnect()}}},[r]),Ft.useEffect(()=>{if(n){let w=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(w)}}},[n]);let m=()=>{i(!0)},b=()=>{i(!1),a(!1)};return t?r!=="intent"?[o,g,{}]:[o,g,{onFocus:ff(l,m),onBlur:ff(u,b),onMouseEnter:ff(c,m),onMouseLeave:ff(d,b),onTouchStart:ff(h,m)}]:[!1,g,{}]}function ff(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function nj({page:r,...e}){let{router:t}=AA(),n=Ft.useMemo(()=>mA(t.routes,r,t.basename),[t.routes,r,t.basename]);return n?Ft.createElement(ij,{page:r,matches:n,...e}):null}function rj(r){let{manifest:e,routeModules:t}=DA(),[n,i]=Ft.useState([]);return Ft.useEffect(()=>{let o=!1;return GN(r,e,t).then(a=>{o||i(a)}),()=>{o=!0}},[r,e,t]),n}function ij({page:r,matches:e,...t}){let n=Ns(),{manifest:i,routeModules:o}=DA(),{basename:a}=AA(),{loaderData:l,matches:u}=tj(),c=Ft.useMemo(()=>Px(r,e,u,i,n,"data"),[r,e,u,i,n]),d=Ft.useMemo(()=>Px(r,e,u,i,n,"assets"),[r,e,u,i,n]),h=Ft.useMemo(()=>{if(r===n.pathname+n.search+n.hash)return[];let b=new Set,w=!1;if(e.forEach(_=>{var O;let C=i.routes[_.route.id];!C||!C.hasLoader||(!c.some(A=>A.route.id===_.route.id)&&_.route.id in l&&((O=o[_.route.id])!=null&&O.shouldRevalidate)||C.hasClientLoader?w=!0:b.add(_.route.id))}),b.size===0)return[];let x=QN(r,a);return w&&b.size>0&&x.searchParams.set("_routes",e.filter(_=>b.has(_.route.id)).map(_=>_.route.id).join(",")),[x.pathname+x.search]},[a,l,n,i,c,e,r,o]),g=Ft.useMemo(()=>YN(d,i),[d,i]),m=rj(d);return Ft.createElement(Ft.Fragment,null,h.map(b=>Ft.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...t})),g.map(b=>Ft.createElement("link",{key:b,rel:"modulepreload",href:b,...t})),m.map(({key:b,link:w})=>Ft.createElement("link",{key:b,...w})))}function oj(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var kA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{kA&&(window.__reactRouterVersion="7.5.3")}catch{}function aj({basename:r,children:e,window:t}){let n=Ft.useRef();n.current==null&&(n.current=GL({window:t,v5Compat:!0}));let i=n.current,[o,a]=Ft.useState({action:i.action,location:i.location}),l=Ft.useCallback(u=>{Ft.startTransition(()=>a(u))},[a]);return Ft.useLayoutEffect(()=>i.listen(l),[i,l]),Ft.createElement(NN,{basename:r,children:e,location:o.location,navigationType:o.action,navigator:i})}var PA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qb=Ft.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:i,reloadDocument:o,replace:a,state:l,target:u,to:c,preventScrollReset:d,viewTransition:h,...g},m){let{basename:b}=Ft.useContext(Yo),w=typeof c=="string"&&PA.test(c),x,_=!1;if(typeof c=="string"&&w&&(x=c,kA))try{let P=new URL(window.location.href),tt=c.startsWith("//")?new URL(P.protocol+c):new URL(c),H=ka(tt.pathname,b);tt.origin===P.origin&&H!=null?c=H+tt.search+tt.hash:_=!0}catch{Ho(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let C=_N(c,{relative:i}),[O,A,I]=ej(n,g),Q=cj(c,{replace:a,state:l,target:u,preventScrollReset:d,relative:i,viewTransition:h});function $(P){e&&e(P),P.defaultPrevented||Q(P)}let Z=Ft.createElement("a",{...g,...I,href:x||C,onClick:_||o?e:$,ref:oj(m,A),target:u,"data-discover":!w&&t==="render"?"true":void 0});return O&&!w?Ft.createElement(Ft.Fragment,null,Z,Ft.createElement(nj,{page:C})):Z});Qb.displayName="Link";var sj=Ft.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:i=!1,style:o,to:a,viewTransition:l,children:u,...c},d){let h=Vd(a,{relative:c.relative}),g=Ns(),m=Ft.useContext(Ig),{navigator:b,basename:w}=Ft.useContext(Yo),x=m!=null&&vj(h)&&l===!0,_=b.encodeLocation?b.encodeLocation(h).pathname:h.pathname,C=g.pathname,O=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;t||(C=C.toLowerCase(),O=O?O.toLowerCase():null,_=_.toLowerCase()),O&&w&&(O=ka(O,w)||O);const A=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let I=C===_||!i&&C.startsWith(_)&&C.charAt(A)==="/",Q=O!=null&&(O===_||!i&&O.startsWith(_)&&O.charAt(_.length)==="/"),$={isActive:I,isPending:Q,isTransitioning:x},Z=I?e:void 0,P;typeof n=="function"?P=n($):P=[n,I?"active":null,Q?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let tt=typeof o=="function"?o($):o;return Ft.createElement(Qb,{...c,"aria-current":Z,className:P,ref:d,style:tt,to:a,viewTransition:l},typeof u=="function"?u($):u)});sj.displayName="NavLink";var lj=Ft.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:n,replace:i,state:o,method:a=gp,action:l,onSubmit:u,relative:c,preventScrollReset:d,viewTransition:h,...g},m)=>{let b=hj(),w=pj(l,{relative:c}),x=a.toLowerCase()==="get"?"get":"post",_=typeof l=="string"&&PA.test(l),C=O=>{if(u&&u(O),O.defaultPrevented)return;O.preventDefault();let A=O.nativeEvent.submitter,I=(A==null?void 0:A.getAttribute("formmethod"))||a;b(A||O.currentTarget,{fetcherKey:e,method:I,navigate:t,replace:i,state:o,relative:c,preventScrollReset:d,viewTransition:h})};return Ft.createElement("form",{ref:m,method:x,action:w,onSubmit:n?u:C,...g,"data-discover":!_&&r==="render"?"true":void 0})});lj.displayName="Form";function uj(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function MA(r){let e=Ft.useContext(_c);return Rn(e,uj(r)),e}function cj(r,{target:e,replace:t,state:n,preventScrollReset:i,relative:o,viewTransition:a}={}){let l=Vg(),u=Ns(),c=Vd(r,{relative:o});return Ft.useCallback(d=>{if(FN(d,e)){d.preventDefault();let h=t!==void 0?t:hd(u)===hd(c);l(r,{replace:h,state:n,preventScrollReset:i,relative:o,viewTransition:a})}},[u,l,c,t,n,e,r,i,o,a])}var fj=0,dj=()=>`__${String(++fj)}__`;function hj(){let{router:r}=MA("useSubmit"),{basename:e}=Ft.useContext(Yo),t=PN();return Ft.useCallback(async(n,i={})=>{let{action:o,method:a,encType:l,formData:u,body:c}=WN(n,e);if(i.navigate===!1){let d=i.fetcherKey||dj();await r.fetch(d,t,i.action||o,{preventScrollReset:i.preventScrollReset,formData:u,body:c,formMethod:i.method||a,formEncType:i.encType||l,flushSync:i.flushSync})}else await r.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:u,body:c,formMethod:i.method||a,formEncType:i.encType||l,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[r,e,t])}function pj(r,{relative:e}={}){let{basename:t}=Ft.useContext(Yo),n=Ft.useContext(Xo);Rn(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),o={...Vd(r||".",{relative:e})},a=Ns();if(r==null){o.search=a.search;let l=new URLSearchParams(o.search),u=l.getAll("index");if(u.some(d=>d==="")){l.delete("index"),u.filter(h=>h).forEach(h=>l.append("index",h));let d=l.toString();o.search=d?`?${d}`:""}}return(!r||r===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:xa([t,o.pathname])),hd(o)}function vj(r,e={}){let t=Ft.useContext(CA);Rn(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=MA("useViewTransitionState"),i=Vd(r,{relative:e.relative});if(!t.isTransitioning)return!1;let o=ka(t.currentLocation.pathname,n)||t.currentLocation.pathname,a=ka(t.nextLocation.pathname,n)||t.nextLocation.pathname;return sv(i.pathname,a)!=null||sv(i.pathname,o)!=null}new TextEncoder;[...JN];const bc="http://localhost:3000";function gj({isOpen:r,onConfirm:e,onCancel:t,message:n}){return r?Jt.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:Jt.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-96",children:[Jt.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Cerrar sesión"}),Jt.jsx("p",{className:"text-sm text-gray-700 mb-6",children:n}),Jt.jsxs("div",{className:"flex justify-end gap-3",children:[Jt.jsx("button",{onClick:t,className:"px-4 py-2 rounded bg-gray-200 text-gray-700 hover:bg-gray-300",children:"Cancelar"}),Jt.jsx("button",{onClick:e,className:"px-4 py-2 rounded bg-red-500 text-white hover:bg-red-600",children:"Cerrar sesión"})]})]})}):null}function RA(){const[r,e]=Ft.useState(null),[t,n]=Ft.useState(!1);Vg();const i=Ns();Ft.useEffect(()=>{const u=localStorage.getItem("user");u&&e(JSON.parse(u))},[]);const o=()=>n(!0),a=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/"},l=i.pathname.startsWith("/canvas")?"Estás en medio de la edición de un proyecto. Si cierras sesión ahora podrías perder los cambios. ¿Deseas continuar?":"¿Estás seguro que deseas cerrar sesión?";return Jt.jsxs(Jt.Fragment,{children:[Jt.jsxs("header",{className:"w-full h-16 bg-white shadow-md flex items-center justify-between px-8 border-b border-gray-200",children:[Jt.jsx(Qb,{to:"/",className:"text-xl font-semibold text-gray-800 hover:text-indigo-600 transition",children:"🏠 Inicio"}),Jt.jsx("h1",{className:"text-4xl font-bold tracking-tight text-black text-indigo-700",children:"MyEDITOR"}),Jt.jsx("div",{className:"flex items-center gap-4",children:r?Jt.jsxs(Jt.Fragment,{children:[Jt.jsxs("div",{className:"flex items-center gap-2",children:[Jt.jsx("img",{src:r.picture,alt:"avatar",className:"w-9 h-9 rounded-full object-cover border"}),Jt.jsx("span",{className:"text-sm font-medium text-gray-700",children:r.name})]}),Jt.jsx("button",{onClick:o,className:"text-sm px-4 py-2 rounded-md bg-red-500 text-white hover:bg-red-600 transition",children:"Cerrar sesión"})]}):Jt.jsx("a",{href:`${bc}/auth/google`,className:"text-sm px-4 py-2 rounded-md bg-blue-600 text-white hover:bg-blue-700 transition",children:"Iniciar con Google"})})]}),Jt.jsx(gj,{isOpen:t,onCancel:()=>n(!1),onConfirm:a,message:l})]})}function LA(r,e){return function(){return r.apply(e,arguments)}}const{toString:mj}=Object.prototype,{getPrototypeOf:tw}=Object,{iterator:Bg,toStringTag:NA}=Symbol,Fg=(r=>e=>{const t=mj.call(e);return r[t]||(r[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Do=r=>(r=r.toLowerCase(),e=>Fg(e)===r),zg=r=>e=>typeof e===r,{isArray:wc}=Array,pd=zg("undefined");function yj(r){return r!==null&&!pd(r)&&r.constructor!==null&&!pd(r.constructor)&&wi(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const jA=Do("ArrayBuffer");function _j(r){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(r):e=r&&r.buffer&&jA(r.buffer),e}const bj=zg("string"),wi=zg("function"),IA=zg("number"),Hg=r=>r!==null&&typeof r=="object",wj=r=>r===!0||r===!1,yp=r=>{if(Fg(r)!=="object")return!1;const e=tw(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(NA in r)&&!(Bg in r)},Sj=Do("Date"),Cj=Do("File"),xj=Do("Blob"),Oj=Do("FileList"),Ej=r=>Hg(r)&&wi(r.pipe),Tj=r=>{let e;return r&&(typeof FormData=="function"&&r instanceof FormData||wi(r.append)&&((e=Fg(r))==="formdata"||e==="object"&&wi(r.toString)&&r.toString()==="[object FormData]"))},Aj=Do("URLSearchParams"),[Dj,kj,Pj,Mj]=["ReadableStream","Request","Response","Headers"].map(Do),Rj=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ud(r,e,{allOwnKeys:t=!1}={}){if(r===null||typeof r>"u")return;let n,i;if(typeof r!="object"&&(r=[r]),wc(r))for(n=0,i=r.length;n<i;n++)e.call(null,r[n],n,r);else{const o=t?Object.getOwnPropertyNames(r):Object.keys(r),a=o.length;let l;for(n=0;n<a;n++)l=o[n],e.call(null,r[l],l,r)}}function VA(r,e){e=e.toLowerCase();const t=Object.keys(r);let n=t.length,i;for(;n-- >0;)if(i=t[n],e===i.toLowerCase())return i;return null}const ol=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,UA=r=>!pd(r)&&r!==ol;function i_(){const{caseless:r}=UA(this)&&this||{},e={},t=(n,i)=>{const o=r&&VA(e,i)||i;yp(e[o])&&yp(n)?e[o]=i_(e[o],n):yp(n)?e[o]=i_({},n):wc(n)?e[o]=n.slice():e[o]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&Ud(arguments[n],t);return e}const Lj=(r,e,t,{allOwnKeys:n}={})=>(Ud(e,(i,o)=>{t&&wi(i)?r[o]=LA(i,t):r[o]=i},{allOwnKeys:n}),r),Nj=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),jj=(r,e,t,n)=>{r.prototype=Object.create(e.prototype,n),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:e.prototype}),t&&Object.assign(r.prototype,t)},Ij=(r,e,t,n)=>{let i,o,a;const l={};if(e=e||{},r==null)return e;do{for(i=Object.getOwnPropertyNames(r),o=i.length;o-- >0;)a=i[o],(!n||n(a,r,e))&&!l[a]&&(e[a]=r[a],l[a]=!0);r=t!==!1&&tw(r)}while(r&&(!t||t(r,e))&&r!==Object.prototype);return e},Vj=(r,e,t)=>{r=String(r),(t===void 0||t>r.length)&&(t=r.length),t-=e.length;const n=r.indexOf(e,t);return n!==-1&&n===t},Uj=r=>{if(!r)return null;if(wc(r))return r;let e=r.length;if(!IA(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=r[e];return t},Bj=(r=>e=>r&&e instanceof r)(typeof Uint8Array<"u"&&tw(Uint8Array)),Fj=(r,e)=>{const n=(r&&r[Bg]).call(r);let i;for(;(i=n.next())&&!i.done;){const o=i.value;e.call(r,o[0],o[1])}},zj=(r,e)=>{let t;const n=[];for(;(t=r.exec(e))!==null;)n.push(t);return n},Hj=Do("HTMLFormElement"),Wj=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,n,i){return n.toUpperCase()+i}),Mx=(({hasOwnProperty:r})=>(e,t)=>r.call(e,t))(Object.prototype),Kj=Do("RegExp"),BA=(r,e)=>{const t=Object.getOwnPropertyDescriptors(r),n={};Ud(t,(i,o)=>{let a;(a=e(i,o,r))!==!1&&(n[o]=a||i)}),Object.defineProperties(r,n)},qj=r=>{BA(r,(e,t)=>{if(wi(r)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const n=r[t];if(wi(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},Gj=(r,e)=>{const t={},n=i=>{i.forEach(o=>{t[o]=!0})};return wc(r)?n(r):n(String(r).split(e)),t},Yj=()=>{},Xj=(r,e)=>r!=null&&Number.isFinite(r=+r)?r:e;function Zj(r){return!!(r&&wi(r.append)&&r[NA]==="FormData"&&r[Bg])}const $j=r=>{const e=new Array(10),t=(n,i)=>{if(Hg(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[i]=n;const o=wc(n)?[]:{};return Ud(n,(a,l)=>{const u=t(a,i+1);!pd(u)&&(o[l]=u)}),e[i]=void 0,o}}return n};return t(r,0)},Jj=Do("AsyncFunction"),Qj=r=>r&&(Hg(r)||wi(r))&&wi(r.then)&&wi(r.catch),FA=((r,e)=>r?setImmediate:e?((t,n)=>(ol.addEventListener("message",({source:i,data:o})=>{i===ol&&o===t&&n.length&&n.shift()()},!1),i=>{n.push(i),ol.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",wi(ol.postMessage)),t3=typeof queueMicrotask<"u"?queueMicrotask.bind(ol):typeof process<"u"&&process.nextTick||FA,e3=r=>r!=null&&wi(r[Bg]),Ut={isArray:wc,isArrayBuffer:jA,isBuffer:yj,isFormData:Tj,isArrayBufferView:_j,isString:bj,isNumber:IA,isBoolean:wj,isObject:Hg,isPlainObject:yp,isReadableStream:Dj,isRequest:kj,isResponse:Pj,isHeaders:Mj,isUndefined:pd,isDate:Sj,isFile:Cj,isBlob:xj,isRegExp:Kj,isFunction:wi,isStream:Ej,isURLSearchParams:Aj,isTypedArray:Bj,isFileList:Oj,forEach:Ud,merge:i_,extend:Lj,trim:Rj,stripBOM:Nj,inherits:jj,toFlatObject:Ij,kindOf:Fg,kindOfTest:Do,endsWith:Vj,toArray:Uj,forEachEntry:Fj,matchAll:zj,isHTMLForm:Hj,hasOwnProperty:Mx,hasOwnProp:Mx,reduceDescriptors:BA,freezeMethods:qj,toObjectSet:Gj,toCamelCase:Wj,noop:Yj,toFiniteNumber:Xj,findKey:VA,global:ol,isContextDefined:UA,isSpecCompliantForm:Zj,toJSONObject:$j,isAsyncFn:Jj,isThenable:Qj,setImmediate:FA,asap:t3,isIterable:e3};function Le(r,e,t,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}Ut.inherits(Le,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ut.toJSONObject(this.config),code:this.code,status:this.status}}});const zA=Le.prototype,HA={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{HA[r]={value:r}});Object.defineProperties(Le,HA);Object.defineProperty(zA,"isAxiosError",{value:!0});Le.from=(r,e,t,n,i,o)=>{const a=Object.create(zA);return Ut.toFlatObject(r,a,function(u){return u!==Error.prototype},l=>l!=="isAxiosError"),Le.call(a,r.message,e,t,n,i),a.cause=r,a.name=r.name,o&&Object.assign(a,o),a};const n3=null;function o_(r){return Ut.isPlainObject(r)||Ut.isArray(r)}function WA(r){return Ut.endsWith(r,"[]")?r.slice(0,-2):r}function Rx(r,e,t){return r?r.concat(e).map(function(i,o){return i=WA(i),!t&&o?"["+i+"]":i}).join(t?".":""):e}function r3(r){return Ut.isArray(r)&&!r.some(o_)}const i3=Ut.toFlatObject(Ut,{},null,function(e){return/^is[A-Z]/.test(e)});function Wg(r,e,t){if(!Ut.isObject(r))throw new TypeError("target must be an object");e=e||new FormData,t=Ut.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,x){return!Ut.isUndefined(x[w])});const n=t.metaTokens,i=t.visitor||d,o=t.dots,a=t.indexes,u=(t.Blob||typeof Blob<"u"&&Blob)&&Ut.isSpecCompliantForm(e);if(!Ut.isFunction(i))throw new TypeError("visitor must be a function");function c(b){if(b===null)return"";if(Ut.isDate(b))return b.toISOString();if(!u&&Ut.isBlob(b))throw new Le("Blob is not supported. Use a Buffer instead.");return Ut.isArrayBuffer(b)||Ut.isTypedArray(b)?u&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function d(b,w,x){let _=b;if(b&&!x&&typeof b=="object"){if(Ut.endsWith(w,"{}"))w=n?w:w.slice(0,-2),b=JSON.stringify(b);else if(Ut.isArray(b)&&r3(b)||(Ut.isFileList(b)||Ut.endsWith(w,"[]"))&&(_=Ut.toArray(b)))return w=WA(w),_.forEach(function(O,A){!(Ut.isUndefined(O)||O===null)&&e.append(a===!0?Rx([w],A,o):a===null?w:w+"[]",c(O))}),!1}return o_(b)?!0:(e.append(Rx(x,w,o),c(b)),!1)}const h=[],g=Object.assign(i3,{defaultVisitor:d,convertValue:c,isVisitable:o_});function m(b,w){if(!Ut.isUndefined(b)){if(h.indexOf(b)!==-1)throw Error("Circular reference detected in "+w.join("."));h.push(b),Ut.forEach(b,function(_,C){(!(Ut.isUndefined(_)||_===null)&&i.call(e,_,Ut.isString(C)?C.trim():C,w,g))===!0&&m(_,w?w.concat(C):[C])}),h.pop()}}if(!Ut.isObject(r))throw new TypeError("data must be an object");return m(r),e}function Lx(r){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function ew(r,e){this._pairs=[],r&&Wg(r,this,e)}const KA=ew.prototype;KA.append=function(e,t){this._pairs.push([e,t])};KA.toString=function(e){const t=e?function(n){return e.call(this,n,Lx)}:Lx;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function o3(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function qA(r,e,t){if(!e)return r;const n=t&&t.encode||o3;Ut.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let o;if(i?o=i(e,t):o=Ut.isURLSearchParams(e)?e.toString():new ew(e,t).toString(n),o){const a=r.indexOf("#");a!==-1&&(r=r.slice(0,a)),r+=(r.indexOf("?")===-1?"?":"&")+o}return r}class Nx{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Ut.forEach(this.handlers,function(n){n!==null&&e(n)})}}const GA={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},a3=typeof URLSearchParams<"u"?URLSearchParams:ew,s3=typeof FormData<"u"?FormData:null,l3=typeof Blob<"u"?Blob:null,u3={isBrowser:!0,classes:{URLSearchParams:a3,FormData:s3,Blob:l3},protocols:["http","https","file","blob","url","data"]},nw=typeof window<"u"&&typeof document<"u",a_=typeof navigator=="object"&&navigator||void 0,c3=nw&&(!a_||["ReactNative","NativeScript","NS"].indexOf(a_.product)<0),f3=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",d3=nw&&window.location.href||"http://localhost",h3=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:nw,hasStandardBrowserEnv:c3,hasStandardBrowserWebWorkerEnv:f3,navigator:a_,origin:d3},Symbol.toStringTag,{value:"Module"})),Nr={...h3,...u3};function p3(r,e){return Wg(r,new Nr.classes.URLSearchParams,Object.assign({visitor:function(t,n,i,o){return Nr.isNode&&Ut.isBuffer(t)?(this.append(n,t.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function v3(r){return Ut.matchAll(/\w+|\[(\w*)]/g,r).map(e=>e[0]==="[]"?"":e[1]||e[0])}function g3(r){const e={},t=Object.keys(r);let n;const i=t.length;let o;for(n=0;n<i;n++)o=t[n],e[o]=r[o];return e}function YA(r){function e(t,n,i,o){let a=t[o++];if(a==="__proto__")return!0;const l=Number.isFinite(+a),u=o>=t.length;return a=!a&&Ut.isArray(i)?i.length:a,u?(Ut.hasOwnProp(i,a)?i[a]=[i[a],n]:i[a]=n,!l):((!i[a]||!Ut.isObject(i[a]))&&(i[a]=[]),e(t,n,i[a],o)&&Ut.isArray(i[a])&&(i[a]=g3(i[a])),!l)}if(Ut.isFormData(r)&&Ut.isFunction(r.entries)){const t={};return Ut.forEachEntry(r,(n,i)=>{e(v3(n),i,t,0)}),t}return null}function m3(r,e,t){if(Ut.isString(r))try{return(e||JSON.parse)(r),Ut.trim(r)}catch(n){if(n.name!=="SyntaxError")throw n}return(t||JSON.stringify)(r)}const Bd={transitional:GA,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",i=n.indexOf("application/json")>-1,o=Ut.isObject(e);if(o&&Ut.isHTMLForm(e)&&(e=new FormData(e)),Ut.isFormData(e))return i?JSON.stringify(YA(e)):e;if(Ut.isArrayBuffer(e)||Ut.isBuffer(e)||Ut.isStream(e)||Ut.isFile(e)||Ut.isBlob(e)||Ut.isReadableStream(e))return e;if(Ut.isArrayBufferView(e))return e.buffer;if(Ut.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return p3(e,this.formSerializer).toString();if((l=Ut.isFileList(e))||n.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return Wg(l?{"files[]":e}:e,u&&new u,this.formSerializer)}}return o||i?(t.setContentType("application/json",!1),m3(e)):e}],transformResponse:[function(e){const t=this.transitional||Bd.transitional,n=t&&t.forcedJSONParsing,i=this.responseType==="json";if(Ut.isResponse(e)||Ut.isReadableStream(e))return e;if(e&&Ut.isString(e)&&(n&&!this.responseType||i)){const a=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(l){if(a)throw l.name==="SyntaxError"?Le.from(l,Le.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Nr.classes.FormData,Blob:Nr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ut.forEach(["delete","get","head","post","put","patch"],r=>{Bd.headers[r]={}});const y3=Ut.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),_3=r=>{const e={};let t,n,i;return r&&r.split(`
`).forEach(function(a){i=a.indexOf(":"),t=a.substring(0,i).trim().toLowerCase(),n=a.substring(i+1).trim(),!(!t||e[t]&&y3[t])&&(t==="set-cookie"?e[t]?e[t].push(n):e[t]=[n]:e[t]=e[t]?e[t]+", "+n:n)}),e},jx=Symbol("internals");function df(r){return r&&String(r).trim().toLowerCase()}function _p(r){return r===!1||r==null?r:Ut.isArray(r)?r.map(_p):String(r)}function b3(r){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=t.exec(r);)e[n[1]]=n[2];return e}const w3=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function _y(r,e,t,n,i){if(Ut.isFunction(n))return n.call(this,e,t);if(i&&(e=t),!!Ut.isString(e)){if(Ut.isString(n))return e.indexOf(n)!==-1;if(Ut.isRegExp(n))return n.test(e)}}function S3(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}function C3(r,e){const t=Ut.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(r,n+t,{value:function(i,o,a){return this[n].call(this,e,i,o,a)},configurable:!0})})}let Si=class{constructor(e){e&&this.set(e)}set(e,t,n){const i=this;function o(l,u,c){const d=df(u);if(!d)throw new Error("header name must be a non-empty string");const h=Ut.findKey(i,d);(!h||i[h]===void 0||c===!0||c===void 0&&i[h]!==!1)&&(i[h||u]=_p(l))}const a=(l,u)=>Ut.forEach(l,(c,d)=>o(c,d,u));if(Ut.isPlainObject(e)||e instanceof this.constructor)a(e,t);else if(Ut.isString(e)&&(e=e.trim())&&!w3(e))a(_3(e),t);else if(Ut.isObject(e)&&Ut.isIterable(e)){let l={},u,c;for(const d of e){if(!Ut.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[c=d[0]]=(u=l[c])?Ut.isArray(u)?[...u,d[1]]:[u,d[1]]:d[1]}a(l,t)}else e!=null&&o(t,e,n);return this}get(e,t){if(e=df(e),e){const n=Ut.findKey(this,e);if(n){const i=this[n];if(!t)return i;if(t===!0)return b3(i);if(Ut.isFunction(t))return t.call(this,i,n);if(Ut.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=df(e),e){const n=Ut.findKey(this,e);return!!(n&&this[n]!==void 0&&(!t||_y(this,this[n],n,t)))}return!1}delete(e,t){const n=this;let i=!1;function o(a){if(a=df(a),a){const l=Ut.findKey(n,a);l&&(!t||_y(n,n[l],l,t))&&(delete n[l],i=!0)}}return Ut.isArray(e)?e.forEach(o):o(e),i}clear(e){const t=Object.keys(this);let n=t.length,i=!1;for(;n--;){const o=t[n];(!e||_y(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const t=this,n={};return Ut.forEach(this,(i,o)=>{const a=Ut.findKey(n,o);if(a){t[a]=_p(i),delete t[o];return}const l=e?S3(o):String(o).trim();l!==o&&delete t[o],t[l]=_p(i),n[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return Ut.forEach(this,(n,i)=>{n!=null&&n!==!1&&(t[i]=e&&Ut.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[jx]=this[jx]={accessors:{}}).accessors,i=this.prototype;function o(a){const l=df(a);n[l]||(C3(i,a),n[l]=!0)}return Ut.isArray(e)?e.forEach(o):o(e),this}};Si.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ut.reduceDescriptors(Si.prototype,({value:r},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>r,set(n){this[t]=n}}});Ut.freezeMethods(Si);function by(r,e){const t=this||Bd,n=e||t,i=Si.from(n.headers);let o=n.data;return Ut.forEach(r,function(l){o=l.call(t,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function XA(r){return!!(r&&r.__CANCEL__)}function Sc(r,e,t){Le.call(this,r??"canceled",Le.ERR_CANCELED,e,t),this.name="CanceledError"}Ut.inherits(Sc,Le,{__CANCEL__:!0});function ZA(r,e,t){const n=t.config.validateStatus;!t.status||!n||n(t.status)?r(t):e(new Le("Request failed with status code "+t.status,[Le.ERR_BAD_REQUEST,Le.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function x3(r){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return e&&e[1]||""}function O3(r,e){r=r||10;const t=new Array(r),n=new Array(r);let i=0,o=0,a;return e=e!==void 0?e:1e3,function(u){const c=Date.now(),d=n[o];a||(a=c),t[i]=u,n[i]=c;let h=o,g=0;for(;h!==i;)g+=t[h++],h=h%r;if(i=(i+1)%r,i===o&&(o=(o+1)%r),c-a<e)return;const m=d&&c-d;return m?Math.round(g*1e3/m):void 0}}function E3(r,e){let t=0,n=1e3/e,i,o;const a=(c,d=Date.now())=>{t=d,i=null,o&&(clearTimeout(o),o=null),r.apply(null,c)};return[(...c)=>{const d=Date.now(),h=d-t;h>=n?a(c,d):(i=c,o||(o=setTimeout(()=>{o=null,a(i)},n-h)))},()=>i&&a(i)]}const lv=(r,e,t=3)=>{let n=0;const i=O3(50,250);return E3(o=>{const a=o.loaded,l=o.lengthComputable?o.total:void 0,u=a-n,c=i(u),d=a<=l;n=a;const h={loaded:a,total:l,progress:l?a/l:void 0,bytes:u,rate:c||void 0,estimated:c&&l&&d?(l-a)/c:void 0,event:o,lengthComputable:l!=null,[e?"download":"upload"]:!0};r(h)},t)},Ix=(r,e)=>{const t=r!=null;return[n=>e[0]({lengthComputable:t,total:r,loaded:n}),e[1]]},Vx=r=>(...e)=>Ut.asap(()=>r(...e)),T3=Nr.hasStandardBrowserEnv?((r,e)=>t=>(t=new URL(t,Nr.origin),r.protocol===t.protocol&&r.host===t.host&&(e||r.port===t.port)))(new URL(Nr.origin),Nr.navigator&&/(msie|trident)/i.test(Nr.navigator.userAgent)):()=>!0,A3=Nr.hasStandardBrowserEnv?{write(r,e,t,n,i,o){const a=[r+"="+encodeURIComponent(e)];Ut.isNumber(t)&&a.push("expires="+new Date(t).toGMTString()),Ut.isString(n)&&a.push("path="+n),Ut.isString(i)&&a.push("domain="+i),o===!0&&a.push("secure"),document.cookie=a.join("; ")},read(r){const e=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(r){this.write(r,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function D3(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function k3(r,e){return e?r.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):r}function $A(r,e,t){let n=!D3(e);return r&&(n||t==!1)?k3(r,e):e}const Ux=r=>r instanceof Si?{...r}:r;function bl(r,e){e=e||{};const t={};function n(c,d,h,g){return Ut.isPlainObject(c)&&Ut.isPlainObject(d)?Ut.merge.call({caseless:g},c,d):Ut.isPlainObject(d)?Ut.merge({},d):Ut.isArray(d)?d.slice():d}function i(c,d,h,g){if(Ut.isUndefined(d)){if(!Ut.isUndefined(c))return n(void 0,c,h,g)}else return n(c,d,h,g)}function o(c,d){if(!Ut.isUndefined(d))return n(void 0,d)}function a(c,d){if(Ut.isUndefined(d)){if(!Ut.isUndefined(c))return n(void 0,c)}else return n(void 0,d)}function l(c,d,h){if(h in e)return n(c,d);if(h in r)return n(void 0,c)}const u={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l,headers:(c,d,h)=>i(Ux(c),Ux(d),h,!0)};return Ut.forEach(Object.keys(Object.assign({},r,e)),function(d){const h=u[d]||i,g=h(r[d],e[d],d);Ut.isUndefined(g)&&h!==l||(t[d]=g)}),t}const JA=r=>{const e=bl({},r);let{data:t,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:o,headers:a,auth:l}=e;e.headers=a=Si.from(a),e.url=qA($A(e.baseURL,e.url,e.allowAbsoluteUrls),r.params,r.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let u;if(Ut.isFormData(t)){if(Nr.hasStandardBrowserEnv||Nr.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((u=a.getContentType())!==!1){const[c,...d]=u?u.split(";").map(h=>h.trim()).filter(Boolean):[];a.setContentType([c||"multipart/form-data",...d].join("; "))}}if(Nr.hasStandardBrowserEnv&&(n&&Ut.isFunction(n)&&(n=n(e)),n||n!==!1&&T3(e.url))){const c=i&&o&&A3.read(o);c&&a.set(i,c)}return e},P3=typeof XMLHttpRequest<"u",M3=P3&&function(r){return new Promise(function(t,n){const i=JA(r);let o=i.data;const a=Si.from(i.headers).normalize();let{responseType:l,onUploadProgress:u,onDownloadProgress:c}=i,d,h,g,m,b;function w(){m&&m(),b&&b(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let x=new XMLHttpRequest;x.open(i.method.toUpperCase(),i.url,!0),x.timeout=i.timeout;function _(){if(!x)return;const O=Si.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),I={data:!l||l==="text"||l==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:O,config:r,request:x};ZA(function($){t($),w()},function($){n($),w()},I),x=null}"onloadend"in x?x.onloadend=_:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(_)},x.onabort=function(){x&&(n(new Le("Request aborted",Le.ECONNABORTED,r,x)),x=null)},x.onerror=function(){n(new Le("Network Error",Le.ERR_NETWORK,r,x)),x=null},x.ontimeout=function(){let A=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const I=i.transitional||GA;i.timeoutErrorMessage&&(A=i.timeoutErrorMessage),n(new Le(A,I.clarifyTimeoutError?Le.ETIMEDOUT:Le.ECONNABORTED,r,x)),x=null},o===void 0&&a.setContentType(null),"setRequestHeader"in x&&Ut.forEach(a.toJSON(),function(A,I){x.setRequestHeader(I,A)}),Ut.isUndefined(i.withCredentials)||(x.withCredentials=!!i.withCredentials),l&&l!=="json"&&(x.responseType=i.responseType),c&&([g,b]=lv(c,!0),x.addEventListener("progress",g)),u&&x.upload&&([h,m]=lv(u),x.upload.addEventListener("progress",h),x.upload.addEventListener("loadend",m)),(i.cancelToken||i.signal)&&(d=O=>{x&&(n(!O||O.type?new Sc(null,r,x):O),x.abort(),x=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const C=x3(i.url);if(C&&Nr.protocols.indexOf(C)===-1){n(new Le("Unsupported protocol "+C+":",Le.ERR_BAD_REQUEST,r));return}x.send(o||null)})},R3=(r,e)=>{const{length:t}=r=r?r.filter(Boolean):[];if(e||t){let n=new AbortController,i;const o=function(c){if(!i){i=!0,l();const d=c instanceof Error?c:this.reason;n.abort(d instanceof Le?d:new Sc(d instanceof Error?d.message:d))}};let a=e&&setTimeout(()=>{a=null,o(new Le(`timeout ${e} of ms exceeded`,Le.ETIMEDOUT))},e);const l=()=>{r&&(a&&clearTimeout(a),a=null,r.forEach(c=>{c.unsubscribe?c.unsubscribe(o):c.removeEventListener("abort",o)}),r=null)};r.forEach(c=>c.addEventListener("abort",o));const{signal:u}=n;return u.unsubscribe=()=>Ut.asap(l),u}},L3=function*(r,e){let t=r.byteLength;if(t<e){yield r;return}let n=0,i;for(;n<t;)i=n+e,yield r.slice(n,i),n=i},N3=async function*(r,e){for await(const t of j3(r))yield*L3(t,e)},j3=async function*(r){if(r[Symbol.asyncIterator]){yield*r;return}const e=r.getReader();try{for(;;){const{done:t,value:n}=await e.read();if(t)break;yield n}}finally{await e.cancel()}},Bx=(r,e,t,n)=>{const i=N3(r,e);let o=0,a,l=u=>{a||(a=!0,n&&n(u))};return new ReadableStream({async pull(u){try{const{done:c,value:d}=await i.next();if(c){l(),u.close();return}let h=d.byteLength;if(t){let g=o+=h;t(g)}u.enqueue(new Uint8Array(d))}catch(c){throw l(c),c}},cancel(u){return l(u),i.return()}},{highWaterMark:2})},Kg=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",QA=Kg&&typeof ReadableStream=="function",I3=Kg&&(typeof TextEncoder=="function"?(r=>e=>r.encode(e))(new TextEncoder):async r=>new Uint8Array(await new Response(r).arrayBuffer())),t2=(r,...e)=>{try{return!!r(...e)}catch{return!1}},V3=QA&&t2(()=>{let r=!1;const e=new Request(Nr.origin,{body:new ReadableStream,method:"POST",get duplex(){return r=!0,"half"}}).headers.has("Content-Type");return r&&!e}),Fx=64*1024,s_=QA&&t2(()=>Ut.isReadableStream(new Response("").body)),uv={stream:s_&&(r=>r.body)};Kg&&(r=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!uv[e]&&(uv[e]=Ut.isFunction(r[e])?t=>t[e]():(t,n)=>{throw new Le(`Response type '${e}' is not supported`,Le.ERR_NOT_SUPPORT,n)})})})(new Response);const U3=async r=>{if(r==null)return 0;if(Ut.isBlob(r))return r.size;if(Ut.isSpecCompliantForm(r))return(await new Request(Nr.origin,{method:"POST",body:r}).arrayBuffer()).byteLength;if(Ut.isArrayBufferView(r)||Ut.isArrayBuffer(r))return r.byteLength;if(Ut.isURLSearchParams(r)&&(r=r+""),Ut.isString(r))return(await I3(r)).byteLength},B3=async(r,e)=>{const t=Ut.toFiniteNumber(r.getContentLength());return t??U3(e)},F3=Kg&&(async r=>{let{url:e,method:t,data:n,signal:i,cancelToken:o,timeout:a,onDownloadProgress:l,onUploadProgress:u,responseType:c,headers:d,withCredentials:h="same-origin",fetchOptions:g}=JA(r);c=c?(c+"").toLowerCase():"text";let m=R3([i,o&&o.toAbortSignal()],a),b;const w=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let x;try{if(u&&V3&&t!=="get"&&t!=="head"&&(x=await B3(d,n))!==0){let I=new Request(e,{method:"POST",body:n,duplex:"half"}),Q;if(Ut.isFormData(n)&&(Q=I.headers.get("content-type"))&&d.setContentType(Q),I.body){const[$,Z]=Ix(x,lv(Vx(u)));n=Bx(I.body,Fx,$,Z)}}Ut.isString(h)||(h=h?"include":"omit");const _="credentials"in Request.prototype;b=new Request(e,{...g,signal:m,method:t.toUpperCase(),headers:d.normalize().toJSON(),body:n,duplex:"half",credentials:_?h:void 0});let C=await fetch(b);const O=s_&&(c==="stream"||c==="response");if(s_&&(l||O&&w)){const I={};["status","statusText","headers"].forEach(P=>{I[P]=C[P]});const Q=Ut.toFiniteNumber(C.headers.get("content-length")),[$,Z]=l&&Ix(Q,lv(Vx(l),!0))||[];C=new Response(Bx(C.body,Fx,$,()=>{Z&&Z(),w&&w()}),I)}c=c||"text";let A=await uv[Ut.findKey(uv,c)||"text"](C,r);return!O&&w&&w(),await new Promise((I,Q)=>{ZA(I,Q,{data:A,headers:Si.from(C.headers),status:C.status,statusText:C.statusText,config:r,request:b})})}catch(_){throw w&&w(),_&&_.name==="TypeError"&&/Load failed|fetch/i.test(_.message)?Object.assign(new Le("Network Error",Le.ERR_NETWORK,r,b),{cause:_.cause||_}):Le.from(_,_&&_.code,r,b)}}),l_={http:n3,xhr:M3,fetch:F3};Ut.forEach(l_,(r,e)=>{if(r){try{Object.defineProperty(r,"name",{value:e})}catch{}Object.defineProperty(r,"adapterName",{value:e})}});const zx=r=>`- ${r}`,z3=r=>Ut.isFunction(r)||r===null||r===!1,e2={getAdapter:r=>{r=Ut.isArray(r)?r:[r];const{length:e}=r;let t,n;const i={};for(let o=0;o<e;o++){t=r[o];let a;if(n=t,!z3(t)&&(n=l_[(a=String(t)).toLowerCase()],n===void 0))throw new Le(`Unknown adapter '${a}'`);if(n)break;i[a||"#"+o]=n}if(!n){const o=Object.entries(i).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let a=e?o.length>1?`since :
`+o.map(zx).join(`
`):" "+zx(o[0]):"as no adapter specified";throw new Le("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return n},adapters:l_};function wy(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new Sc(null,r)}function Hx(r){return wy(r),r.headers=Si.from(r.headers),r.data=by.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),e2.getAdapter(r.adapter||Bd.adapter)(r).then(function(n){return wy(r),n.data=by.call(r,r.transformResponse,n),n.headers=Si.from(n.headers),n},function(n){return XA(n)||(wy(r),n&&n.response&&(n.response.data=by.call(r,r.transformResponse,n.response),n.response.headers=Si.from(n.response.headers))),Promise.reject(n)})}const n2="1.9.0",qg={};["object","boolean","number","function","string","symbol"].forEach((r,e)=>{qg[r]=function(n){return typeof n===r||"a"+(e<1?"n ":" ")+r}});const Wx={};qg.transitional=function(e,t,n){function i(o,a){return"[Axios v"+n2+"] Transitional option '"+o+"'"+a+(n?". "+n:"")}return(o,a,l)=>{if(e===!1)throw new Le(i(a," has been removed"+(t?" in "+t:"")),Le.ERR_DEPRECATED);return t&&!Wx[a]&&(Wx[a]=!0,console.warn(i(a," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(o,a,l):!0}};qg.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function H3(r,e,t){if(typeof r!="object")throw new Le("options must be an object",Le.ERR_BAD_OPTION_VALUE);const n=Object.keys(r);let i=n.length;for(;i-- >0;){const o=n[i],a=e[o];if(a){const l=r[o],u=l===void 0||a(l,o,r);if(u!==!0)throw new Le("option "+o+" must be "+u,Le.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Le("Unknown option "+o,Le.ERR_BAD_OPTION)}}const bp={assertOptions:H3,validators:qg},Lo=bp.validators;let vl=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Nx,response:new Nx}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?o&&!String(n.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+o):n.stack=o}catch{}}throw n}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=bl(this.defaults,t);const{transitional:n,paramsSerializer:i,headers:o}=t;n!==void 0&&bp.assertOptions(n,{silentJSONParsing:Lo.transitional(Lo.boolean),forcedJSONParsing:Lo.transitional(Lo.boolean),clarifyTimeoutError:Lo.transitional(Lo.boolean)},!1),i!=null&&(Ut.isFunction(i)?t.paramsSerializer={serialize:i}:bp.assertOptions(i,{encode:Lo.function,serialize:Lo.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),bp.assertOptions(t,{baseUrl:Lo.spelling("baseURL"),withXsrfToken:Lo.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=o&&Ut.merge(o.common,o[t.method]);o&&Ut.forEach(["delete","get","head","post","put","patch","common"],b=>{delete o[b]}),t.headers=Si.concat(a,o);const l=[];let u=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(t)===!1||(u=u&&w.synchronous,l.unshift(w.fulfilled,w.rejected))});const c=[];this.interceptors.response.forEach(function(w){c.push(w.fulfilled,w.rejected)});let d,h=0,g;if(!u){const b=[Hx.bind(this),void 0];for(b.unshift.apply(b,l),b.push.apply(b,c),g=b.length,d=Promise.resolve(t);h<g;)d=d.then(b[h++],b[h++]);return d}g=l.length;let m=t;for(h=0;h<g;){const b=l[h++],w=l[h++];try{m=b(m)}catch(x){w.call(this,x);break}}try{d=Hx.call(this,m)}catch(b){return Promise.reject(b)}for(h=0,g=c.length;h<g;)d=d.then(c[h++],c[h++]);return d}getUri(e){e=bl(this.defaults,e);const t=$A(e.baseURL,e.url,e.allowAbsoluteUrls);return qA(t,e.params,e.paramsSerializer)}};Ut.forEach(["delete","get","head","options"],function(e){vl.prototype[e]=function(t,n){return this.request(bl(n||{},{method:e,url:t,data:(n||{}).data}))}});Ut.forEach(["post","put","patch"],function(e){function t(n){return function(o,a,l){return this.request(bl(l||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:a}))}}vl.prototype[e]=t(),vl.prototype[e+"Form"]=t(!0)});let W3=class r2{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(o){t=o});const n=this;this.promise.then(i=>{if(!n._listeners)return;let o=n._listeners.length;for(;o-- >0;)n._listeners[o](i);n._listeners=null}),this.promise.then=i=>{let o;const a=new Promise(l=>{n.subscribe(l),o=l}).then(i);return a.cancel=function(){n.unsubscribe(o)},a},e(function(o,a,l){n.reason||(n.reason=new Sc(o,a,l),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=n=>{e.abort(n)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new r2(function(i){e=i}),cancel:e}}};function K3(r){return function(t){return r.apply(null,t)}}function q3(r){return Ut.isObject(r)&&r.isAxiosError===!0}const u_={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(u_).forEach(([r,e])=>{u_[e]=r});function i2(r){const e=new vl(r),t=LA(vl.prototype.request,e);return Ut.extend(t,vl.prototype,e,{allOwnKeys:!0}),Ut.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return i2(bl(r,i))},t}const On=i2(Bd);On.Axios=vl;On.CanceledError=Sc;On.CancelToken=W3;On.isCancel=XA;On.VERSION=n2;On.toFormData=Wg;On.AxiosError=Le;On.Cancel=On.CanceledError;On.all=function(e){return Promise.all(e)};On.spread=K3;On.isAxiosError=q3;On.mergeConfig=bl;On.AxiosHeaders=Si;On.formToJSON=r=>YA(Ut.isHTMLForm(r)?new FormData(r):r);On.getAdapter=e2.getAdapter;On.HttpStatusCode=u_;On.default=On;const{Axios:kK,AxiosError:PK,CanceledError:MK,isCancel:RK,CancelToken:LK,VERSION:NK,all:jK,Cancel:IK,isAxiosError:VK,spread:UK,toFormData:BK,AxiosHeaders:FK,HttpStatusCode:zK,formToJSON:HK,getAdapter:WK,mergeConfig:KK}=On,Sy=async r=>(await On.post(`${bc}/designs`,r)).data,G3=async r=>(await On.get(`${bc}/designs?email=${r}`)).data,o2=async r=>(await On.get(`${bc}/designs/${r}`)).data,Y3=async(r,e)=>(await On.put(`${bc}/designs/${r}`,e)).data,X3=async r=>(await On.delete(`${bc}/designs/${r}`)).data;var Z3={4729:(r,e,t)=>{var n,i,o;/*!
* Backbone.Undo.js v0.2
* 
* Copyright (c)2013 Oliver Sartun
* Released under the MIT License
*
* Documentation and full license available at
* https://github.com/osartun/Backbone.Undo.js
*/(function(a){i=[t(5706),t(4193)],n=a,o=typeof n=="function"?n.apply(e,i):n,o!==void 0&&(r.exports=o)})(function(a,l){var u=Array.prototype.slice;function c(P,tt,H){return H.length<=4?P.call(tt,H[0],H[1],H[2],H[3]):P.apply(tt,H)}function d(P,tt){return u.call(P,tt)}function h(P,tt){return P==null?!1:(a.isArray(tt)||(tt=d(arguments,1)),a.all(tt,function(H){return H in P}))}var g=function(){var P=!1,tt=-1;function H(){tt++,P=!0,a.defer(function(){P=!1})}return function(){return P||H(),tt}}();function m(){this.registeredObjects=[],this.cidIndexes=[]}m.prototype={isRegistered:function(P){return P&&P.cid?this.registeredObjects[P.cid]:a.contains(this.registeredObjects,P)},register:function(P){return this.isRegistered(P)?!1:(P&&P.cid?(this.registeredObjects[P.cid]=P,this.cidIndexes.push(P.cid)):this.registeredObjects.push(P),!0)},unregister:function(P){if(this.isRegistered(P)){if(P&&P.cid)delete this.registeredObjects[P.cid],this.cidIndexes.splice(a.indexOf(this.cidIndexes,P.cid),1);else{var tt=a.indexOf(this.registeredObjects,P);this.registeredObjects.splice(tt,1)}return!0}return!1},get:function(){return a.map(this.cidIndexes,function(P){return this.registeredObjects[P]},this).concat(this.registeredObjects)}};function b(P,tt,H,k){for(var F=0,T=tt.length,nt;F<T;F++)if(nt=tt[F],!!nt){if(P==="on"){if(!k.objectRegistry.register(nt))continue}else if(!k.objectRegistry.unregister(nt))continue;a.isFunction(nt[P])&&nt[P]("all",H,k)}}function w(P,tt){var H=tt.type,k=tt.undoTypes,F=!k[H]||k[H][P];a.isFunction(F)&&F(tt.object,tt.before,tt.after,tt.options)}function x(P,tt,H,k,F){if(!(H.isCurrentlyUndoRedoing||P==="undo"&&H.pointer===-1||P==="redo"&&H.pointer===H.length-1)){H.isCurrentlyUndoRedoing=!0;var T,nt,L=P==="undo";for(F?nt=L&&H.pointer===H.length-1||!L&&H.pointer===-1?a.clone(H.models):u.apply(H.models,L?[0,H.pointer]:[H.pointer,H.length-1]):(T=H.at(L?H.pointer:H.pointer+1),nt=k?H.where({magicFusionIndex:T.get("magicFusionIndex")}):[T]),H.pointer+=(L?-1:1)*nt.length;T=L?nt.pop():nt.shift();)T[P]();H.isCurrentlyUndoRedoing=!1,tt.trigger(P,tt)}}function _(P,tt){var H=P.condition,k=typeof H;return k==="function"?!!c(H,P,tt):k==="boolean"?H:!0}function C(P,tt,H,k){if(P.track&&!P.isCurrentlyUndoRedoing&&tt in k&&_(k[tt],H)){var F=c(k[tt].on,k[tt],H),T;if(h(F,"object","before","after")){if(F.type=tt,F.magicFusionIndex=g(),F.undoTypes=k,P.pointer<P.length-1)for(var T=P.length-P.pointer-1;T--;)P.pop();P.pointer=P.length,P.add(F),P.length>P.maximumStackLength&&(P.shift(),P.pointer--)}}}var O={add:{undo:function(P,tt,H,k){P.remove(H,k)},redo:function(P,tt,H,k){k.index&&(k.at=k.index),P.add(H,k)},on:function(P,tt,H){return{object:tt,before:void 0,after:P,options:a.clone(H)}}},remove:{undo:function(P,tt,H,k){"index"in k&&(k.at=k.index),P.add(tt,k)},redo:function(P,tt,H,k){P.remove(tt,k)},on:function(P,tt,H){return{object:tt,before:P,after:void 0,options:a.clone(H)}}},change:{undo:function(P,tt,H,k){a.isEmpty(tt)?a.each(a.keys(H),P.unset,P):(P.set(tt),k&&k.unsetData&&k.unsetData.before&&k.unsetData.before.length&&a.each(k.unsetData.before,P.unset,P))},redo:function(P,tt,H,k){a.isEmpty(H)?a.each(a.keys(tt),P.unset,P):(P.set(H),k&&k.unsetData&&k.unsetData.after&&k.unsetData.after.length&&a.each(k.unsetData.after,P.unset,P))},on:function(P,tt){var H=P.changedAttributes(),k=a.keys(H),F=a.pick(P.previousAttributes(),k),T=a.keys(F),nt=(tt||(tt={})).unsetData={after:[],before:[]};return k.length!=T.length&&(k.length>T.length?a.each(k,function(L){L in F||nt.before.push(L)},this):a.each(T,function(L){L in H||nt.after.push(L)})),{object:P,before:F,after:H,options:a.clone(tt)}}},reset:{undo:function(P,tt,H){P.reset(tt)},redo:function(P,tt,H){P.reset(H)},on:function(P,tt){return{object:P,before:tt.previousModels,after:a.clone(P.models)}}}};function A(){}A.prototype=O;function I(P,tt,H,k){if(typeof tt=="object")return a.each(tt,function(F,T){P===2?I(P,F,H,k):I(P,T,F,H)});switch(P){case 0:h(H,"undo","redo","on")&&a.all(a.pick(H,"undo","redo","on"),a.isFunction)&&(k[tt]=H);break;case 1:k[tt]&&a.isObject(H)&&(k[tt]=a.extend({},k[tt],H));break;case 2:delete k[tt];break}return this}var Q=l.Model.extend({defaults:{type:null,object:null,before:null,after:null,magicFusionIndex:null},undo:function(P){w("undo",this.attributes)},redo:function(P){w("redo",this.attributes)}}),$=l.Collection.extend({model:Q,pointer:-1,track:!1,isCurrentlyUndoRedoing:!1,maximumStackLength:1/0,setMaxLength:function(P){this.maximumStackLength=P}}),Z=l.Model.extend({defaults:{maximumStackLength:1/0,track:!1},initialize:function(P){this.stack=new $,this.objectRegistry=new m,this.undoTypes=new A,this.stack.setMaxLength(this.get("maximumStackLength")),this.on("change:maximumStackLength",function(tt,H){this.stack.setMaxLength(H)},this),P&&P.track&&this.startTracking(),P&&P.register&&(a.isArray(P.register)||a.isArguments(P.register)?c(this.register,this,P.register):this.register(P.register))},startTracking:function(){this.set("track",!0),this.stack.track=!0},stopTracking:function(){this.set("track",!1),this.stack.track=!1},isTracking:function(){return this.get("track")},_addToStack:function(P){C(this.stack,P,d(arguments,1),this.undoTypes)},register:function(){b("on",arguments,this._addToStack,this)},unregister:function(){b("off",arguments,this._addToStack,this)},unregisterAll:function(){c(this.unregister,this,this.objectRegistry.get())},undo:function(P){x("undo",this,this.stack,P)},undoAll:function(){x("undo",this,this.stack,!1,!0)},redo:function(P){x("redo",this,this.stack,P)},redoAll:function(){x("redo",this,this.stack,!1,!0)},isAvailable:function(P){var tt=this.stack,H=tt.length;switch(P){case"undo":return H>0&&tt.pointer>-1;case"redo":return H>0&&tt.pointer<H-1;default:return!1}},merge:function(P){for(var tt=a.isArray(P)?P:d(arguments),H;H=tt.pop();)H instanceof Z&&H.stack instanceof $&&(H.stack=this.stack)},addUndoType:function(P,tt){I(0,P,tt,this.undoTypes)},changeUndoType:function(P,tt){I(1,P,tt,this.undoTypes)},removeUndoType:function(P){I(2,P,void 0,this.undoTypes)},clear:function(){this.stack.reset(),this.stack.pointer=-1}});return a.extend(Z,{defaults:function(P){a.extend(Z.prototype.defaults,P)},addUndoType:function(P,tt){I(0,P,tt,O)},changeUndoType:function(P,tt){I(1,P,tt,O)},removeUndoType:function(P){I(2,P,void 0,O)}}),l.UndoManager=Z})},4193:(r,e,t)=>{var n,i;(function(o){var a=typeof self=="object"&&self.self===self&&self||typeof t.g=="object"&&t.g.global===t.g&&t.g;n=[t(5706),t(7774),e],i=(function(l,u,c){a.Backbone=o(a,c,l,u)}).apply(e,n),i!==void 0&&(r.exports=i)})(function(o,a,l,u){var c=o.Backbone,d=Array.prototype.slice;a.VERSION="1.4.1",a.$=u,a.noConflict=function(){return o.Backbone=c,this},a.emulateHTTP=!1,a.emulateJSON=!1;var h=a.Events={},g=/\s+/,m,b=function(E,N,Y,st,it){var X=0,dt;if(Y&&typeof Y=="object")for(st!==void 0&&("context"in it)&&it.context===void 0&&(it.context=st),dt=l.keys(Y);X<dt.length;X++)N=b(E,N,dt[X],Y[dt[X]],it);else if(Y&&g.test(Y))for(dt=Y.split(g);X<dt.length;X++)N=E(N,dt[X],st,it);else N=E(N,Y,st,it);return N};h.on=function(E,N,Y){if(this._events=b(w,this._events||{},E,N,{context:Y,ctx:this,listening:m}),m){var st=this._listeners||(this._listeners={});st[m.id]=m,m.interop=!1}return this},h.listenTo=function(E,N,Y){if(!E)return this;var st=E._listenId||(E._listenId=l.uniqueId("l")),it=this._listeningTo||(this._listeningTo={}),X=m=it[st];X||(this._listenId||(this._listenId=l.uniqueId("l")),X=m=it[st]=new I(this,E));var dt=x(E,N,Y,this);if(m=void 0,dt)throw dt;return X.interop&&X.on(N,Y),this};var w=function(E,N,Y,st){if(Y){var it=E[N]||(E[N]=[]),X=st.context,dt=st.ctx,ut=st.listening;ut&&ut.count++,it.push({callback:Y,context:X,ctx:X||dt,listening:ut})}return E},x=function(E,N,Y,st){try{E.on(N,Y,st)}catch(it){return it}};h.off=function(E,N,Y){return this._events?(this._events=b(_,this._events,E,N,{context:Y,listeners:this._listeners}),this):this},h.stopListening=function(E,N,Y){var st=this._listeningTo;if(!st)return this;for(var it=E?[E._listenId]:l.keys(st),X=0;X<it.length;X++){var dt=st[it[X]];if(!dt)break;dt.obj.off(N,Y,this),dt.interop&&dt.off(N,Y)}return l.isEmpty(st)&&(this._listeningTo=void 0),this};var _=function(E,N,Y,st){if(E){var it=st.context,X=st.listeners,dt=0,ut;if(!N&&!it&&!Y){for(ut=l.keys(X);dt<ut.length;dt++)X[ut[dt]].cleanup();return}for(ut=N?[N]:l.keys(E);dt<ut.length;dt++){N=ut[dt];var zt=E[N];if(!zt)break;for(var fe=[],se=0;se<zt.length;se++){var et=zt[se];if(Y&&Y!==et.callback&&Y!==et.callback._callback||it&&it!==et.context)fe.push(et);else{var bt=et.listening;bt&&bt.off(N,Y)}}fe.length?E[N]=fe:delete E[N]}return E}};h.once=function(E,N,Y){var st=b(C,{},E,N,this.off.bind(this));return typeof E=="string"&&Y==null&&(N=void 0),this.on(st,N,Y)},h.listenToOnce=function(E,N,Y){var st=b(C,{},N,Y,this.stopListening.bind(this,E));return this.listenTo(E,st)};var C=function(E,N,Y,st){if(Y){var it=E[N]=l.once(function(){st(N,it),Y.apply(this,arguments)});it._callback=Y}return E};h.trigger=function(E){if(!this._events)return this;for(var N=Math.max(0,arguments.length-1),Y=Array(N),st=0;st<N;st++)Y[st]=arguments[st+1];return b(O,this._events,E,void 0,Y),this};var O=function(E,N,Y,st){if(E){var it=E[N],X=E.all;it&&X&&(X=X.slice()),it&&A(it,st),X&&A(X,[N].concat(st))}return E},A=function(E,N){var Y,st=-1,it=E.length,X=N[0],dt=N[1],ut=N[2];switch(N.length){case 0:for(;++st<it;)(Y=E[st]).callback.call(Y.ctx);return;case 1:for(;++st<it;)(Y=E[st]).callback.call(Y.ctx,X);return;case 2:for(;++st<it;)(Y=E[st]).callback.call(Y.ctx,X,dt);return;case 3:for(;++st<it;)(Y=E[st]).callback.call(Y.ctx,X,dt,ut);return;default:for(;++st<it;)(Y=E[st]).callback.apply(Y.ctx,N);return}},I=function(E,N){this.id=E._listenId,this.listener=E,this.obj=N,this.interop=!0,this.count=0,this._events=void 0};I.prototype.on=h.on,I.prototype.off=function(E,N){var Y;this.interop?(this._events=b(_,this._events,E,N,{context:void 0,listeners:void 0}),Y=!this._events):(this.count--,Y=this.count===0),Y&&this.cleanup()},I.prototype.cleanup=function(){delete this.listener._listeningTo[this.obj._listenId],this.interop||delete this.obj._listeners[this.id]},h.bind=h.on,h.unbind=h.off,l.extend(a,h);var Q=a.Model=function(E,N){var Y=E||{};N||(N={}),this.preinitialize.apply(this,arguments),this.cid=l.uniqueId(this.cidPrefix),this.attributes={},N.collection&&(this.collection=N.collection),N.parse&&(Y=this.parse(Y,N)||{});var st=l.result(this,"defaults");Y=l.defaults(l.extend({},st,Y),st),this.set(Y,N),this.changed={},this.initialize.apply(this,arguments)};l.extend(Q.prototype,h,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",preinitialize:function(){},initialize:function(){},toJSON:function(E){return l.clone(this.attributes)},sync:function(){return a.sync.apply(this,arguments)},get:function(E){return this.attributes[E]},escape:function(E){return l.escape(this.get(E))},has:function(E){return this.get(E)!=null},matches:function(E){return!!l.iteratee(E,this)(this.attributes)},set:function(E,N,Y){if(E==null)return this;var st;if(typeof E=="object"?(st=E,Y=N):(st={})[E]=N,Y||(Y={}),!this._validate(st,Y))return!1;var it=Y.unset,X=Y.silent,dt=[],ut=this._changing;this._changing=!0,ut||(this._previousAttributes=l.clone(this.attributes),this.changed={});var zt=this.attributes,fe=this.changed,se=this._previousAttributes;for(var et in st)N=st[et],l.isEqual(zt[et],N)||dt.push(et),l.isEqual(se[et],N)?delete fe[et]:fe[et]=N,it?delete zt[et]:zt[et]=N;if(this.idAttribute in st){var bt=this.id;this.id=this.get(this.idAttribute),this.trigger("changeId",this,bt,Y)}if(!X){dt.length&&(this._pending=Y);for(var K=0;K<dt.length;K++)this.trigger("change:"+dt[K],this,zt[dt[K]],Y)}if(ut)return this;if(!X)for(;this._pending;)Y=this._pending,this._pending=!1,this.trigger("change",this,Y);return this._pending=!1,this._changing=!1,this},unset:function(E,N){return this.set(E,void 0,l.extend({},N,{unset:!0}))},clear:function(E){var N={};for(var Y in this.attributes)N[Y]=void 0;return this.set(N,l.extend({},E,{unset:!0}))},hasChanged:function(E){return E==null?!l.isEmpty(this.changed):l.has(this.changed,E)},changedAttributes:function(E){if(!E)return this.hasChanged()?l.clone(this.changed):!1;var N=this._changing?this._previousAttributes:this.attributes,Y={},st;for(var it in E){var X=E[it];l.isEqual(N[it],X)||(Y[it]=X,st=!0)}return st?Y:!1},previous:function(E){return E==null||!this._previousAttributes?null:this._previousAttributes[E]},previousAttributes:function(){return l.clone(this._previousAttributes)},fetch:function(E){E=l.extend({parse:!0},E);var N=this,Y=E.success;return E.success=function(st){var it=E.parse?N.parse(st,E):st;if(!N.set(it,E))return!1;Y&&Y.call(E.context,N,st,E),N.trigger("sync",N,st,E)},rt(this,E),this.sync("read",this,E)},save:function(E,N,Y){var st;E==null||typeof E=="object"?(st=E,Y=N):(st={})[E]=N,Y=l.extend({validate:!0,parse:!0},Y);var it=Y.wait;if(st&&!it){if(!this.set(st,Y))return!1}else if(!this._validate(st,Y))return!1;var X=this,dt=Y.success,ut=this.attributes;Y.success=function(se){X.attributes=ut;var et=Y.parse?X.parse(se,Y):se;if(it&&(et=l.extend({},st,et)),et&&!X.set(et,Y))return!1;dt&&dt.call(Y.context,X,se,Y),X.trigger("sync",X,se,Y)},rt(this,Y),st&&it&&(this.attributes=l.extend({},ut,st));var zt=this.isNew()?"create":Y.patch?"patch":"update";zt==="patch"&&!Y.attrs&&(Y.attrs=st);var fe=this.sync(zt,this,Y);return this.attributes=ut,fe},destroy:function(E){E=E?l.clone(E):{};var N=this,Y=E.success,st=E.wait,it=function(){N.stopListening(),N.trigger("destroy",N,N.collection,E)};E.success=function(dt){st&&it(),Y&&Y.call(E.context,N,dt,E),N.isNew()||N.trigger("sync",N,dt,E)};var X=!1;return this.isNew()?l.defer(E.success):(rt(this,E),X=this.sync("delete",this,E)),st||it(),X},url:function(){var E=l.result(this,"urlRoot")||l.result(this.collection,"url")||xt();if(this.isNew())return E;var N=this.get(this.idAttribute);return E.replace(/[^\/]$/,"$&/")+encodeURIComponent(N)},parse:function(E,N){return E},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(E){return this._validate({},l.extend({},E,{validate:!0}))},_validate:function(E,N){if(!N.validate||!this.validate)return!0;E=l.extend({},this.attributes,E);var Y=this.validationError=this.validate(E,N)||null;return Y?(this.trigger("invalid",this,Y,l.extend(N,{validationError:Y})),!1):!0}});var $=a.Collection=function(E,N){N||(N={}),this.preinitialize.apply(this,arguments),N.model&&(this.model=N.model),N.comparator!==void 0&&(this.comparator=N.comparator),this._reset(),this.initialize.apply(this,arguments),E&&this.reset(E,l.extend({silent:!0},N))},Z={add:!0,remove:!0,merge:!0},P={add:!0,remove:!1},tt=function(E,N,Y){Y=Math.min(Math.max(Y,0),E.length);var st=Array(E.length-Y),it=N.length,X;for(X=0;X<st.length;X++)st[X]=E[X+Y];for(X=0;X<it;X++)E[X+Y]=N[X];for(X=0;X<st.length;X++)E[X+it+Y]=st[X]};l.extend($.prototype,h,{model:Q,preinitialize:function(){},initialize:function(){},toJSON:function(E){return this.map(function(N){return N.toJSON(E)})},sync:function(){return a.sync.apply(this,arguments)},add:function(E,N){return this.set(E,l.extend({merge:!1},N,P))},remove:function(E,N){N=l.extend({},N);var Y=!l.isArray(E);E=Y?[E]:E.slice();var st=this._removeModels(E,N);return!N.silent&&st.length&&(N.changes={added:[],merged:[],removed:st},this.trigger("update",this,N)),Y?st[0]:st},set:function(E,N){if(E!=null){N=l.extend({},Z,N),N.parse&&!this._isModel(E)&&(E=this.parse(E,N)||[]);var Y=!l.isArray(E);E=Y?[E]:E.slice();var st=N.at;st!=null&&(st=+st),st>this.length&&(st=this.length),st<0&&(st+=this.length+1);var it=[],X=[],dt=[],ut=[],zt={},fe=N.add,se=N.merge,et=N.remove,bt=!1,K=this.comparator&&st==null&&N.sort!==!1,Bt=l.isString(this.comparator)?this.comparator:null,Ot,Gt;for(Gt=0;Gt<E.length;Gt++){Ot=E[Gt];var de=this.get(Ot);if(de){if(se&&Ot!==de){var re=this._isModel(Ot)?Ot.attributes:Ot;N.parse&&(re=de.parse(re,N)),de.set(re,N),dt.push(de),K&&!bt&&(bt=de.hasChanged(Bt))}zt[de.cid]||(zt[de.cid]=!0,it.push(de)),E[Gt]=de}else fe&&(Ot=E[Gt]=this._prepareModel(Ot,N),Ot&&(X.push(Ot),this._addReference(Ot,N),zt[Ot.cid]=!0,it.push(Ot)))}if(et){for(Gt=0;Gt<this.length;Gt++)Ot=this.models[Gt],zt[Ot.cid]||ut.push(Ot);ut.length&&this._removeModels(ut,N)}var ie=!1,ge=!K&&fe&&et;if(it.length&&ge?(ie=this.length!==it.length||l.some(this.models,function(Ee,Ne){return Ee!==it[Ne]}),this.models.length=0,tt(this.models,it,0),this.length=this.models.length):X.length&&(K&&(bt=!0),tt(this.models,X,st??this.length),this.length=this.models.length),bt&&this.sort({silent:!0}),!N.silent){for(Gt=0;Gt<X.length;Gt++)st!=null&&(N.index=st+Gt),Ot=X[Gt],Ot.trigger("add",Ot,this,N);(bt||ie)&&this.trigger("sort",this,N),(X.length||ut.length||dt.length)&&(N.changes={added:X,removed:ut,merged:dt},this.trigger("update",this,N))}return Y?E[0]:E}},reset:function(E,N){N=N?l.clone(N):{};for(var Y=0;Y<this.models.length;Y++)this._removeReference(this.models[Y],N);return N.previousModels=this.models,this._reset(),E=this.add(E,l.extend({silent:!0},N)),N.silent||this.trigger("reset",this,N),E},push:function(E,N){return this.add(E,l.extend({at:this.length},N))},pop:function(E){var N=this.at(this.length-1);return this.remove(N,E)},unshift:function(E,N){return this.add(E,l.extend({at:0},N))},shift:function(E){var N=this.at(0);return this.remove(N,E)},slice:function(){return d.apply(this.models,arguments)},get:function(E){if(E!=null)return this._byId[E]||this._byId[this.modelId(this._isModel(E)?E.attributes:E,E.idAttribute)]||E.cid&&this._byId[E.cid]},has:function(E){return this.get(E)!=null},at:function(E){return E<0&&(E+=this.length),this.models[E]},where:function(E,N){return this[N?"find":"filter"](E)},findWhere:function(E){return this.where(E,!0)},sort:function(E){var N=this.comparator;if(!N)throw new Error("Cannot sort a set without a comparator");E||(E={});var Y=N.length;return l.isFunction(N)&&(N=N.bind(this)),Y===1||l.isString(N)?this.models=this.sortBy(N):this.models.sort(N),E.silent||this.trigger("sort",this,E),this},pluck:function(E){return this.map(E+"")},fetch:function(E){E=l.extend({parse:!0},E);var N=E.success,Y=this;return E.success=function(st){var it=E.reset?"reset":"set";Y[it](st,E),N&&N.call(E.context,Y,st,E),Y.trigger("sync",Y,st,E)},rt(this,E),this.sync("read",this,E)},create:function(E,N){N=N?l.clone(N):{};var Y=N.wait;if(E=this._prepareModel(E,N),!E)return!1;Y||this.add(E,N);var st=this,it=N.success;return N.success=function(X,dt,ut){Y&&st.add(X,ut),it&&it.call(ut.context,X,dt,ut)},E.save(null,N),E},parse:function(E,N){return E},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(E,N){return E[N||this.model.prototype.idAttribute||"id"]},values:function(){return new k(this,F)},keys:function(){return new k(this,T)},entries:function(){return new k(this,nt)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(E,N){if(this._isModel(E))return E.collection||(E.collection=this),E;N=N?l.clone(N):{},N.collection=this;var Y;return this.model.prototype?Y=new this.model(E,N):Y=this.model(E,N),Y.validationError?(this.trigger("invalid",this,Y.validationError,N),!1):Y},_removeModels:function(E,N){for(var Y=[],st=0;st<E.length;st++){var it=this.get(E[st]);if(it){var X=this.indexOf(it);this.models.splice(X,1),this.length--,delete this._byId[it.cid];var dt=this.modelId(it.attributes,it.idAttribute);dt!=null&&delete this._byId[dt],N.silent||(N.index=X,it.trigger("remove",it,this,N)),Y.push(it),this._removeReference(it,N)}}return Y},_isModel:function(E){return E instanceof Q},_addReference:function(E,N){this._byId[E.cid]=E;var Y=this.modelId(E.attributes,E.idAttribute);Y!=null&&(this._byId[Y]=E),E.on("all",this._onModelEvent,this)},_removeReference:function(E,N){delete this._byId[E.cid];var Y=this.modelId(E.attributes,E.idAttribute);Y!=null&&delete this._byId[Y],this===E.collection&&delete E.collection,E.off("all",this._onModelEvent,this)},_onModelEvent:function(E,N,Y,st){if(N){if((E==="add"||E==="remove")&&Y!==this)return;if(E==="destroy"&&this.remove(N,st),E==="changeId"){var it=this.modelId(N.previousAttributes(),N.idAttribute),X=this.modelId(N.attributes,N.idAttribute);it!=null&&delete this._byId[it],X!=null&&(this._byId[X]=N)}}this.trigger.apply(this,arguments)}});var H=typeof Symbol=="function"&&Symbol.iterator;H&&($.prototype[H]=$.prototype.values);var k=function(E,N){this._collection=E,this._kind=N,this._index=0},F=1,T=2,nt=3;H&&(k.prototype[H]=function(){return this}),k.prototype.next=function(){if(this._collection){if(this._index<this._collection.length){var E=this._collection.at(this._index);this._index++;var N;if(this._kind===F)N=E;else{var Y=this._collection.modelId(E.attributes,E.idAttribute);this._kind===T?N=Y:N=[Y,E]}return{value:N,done:!1}}this._collection=void 0}return{value:void 0,done:!0}};var L=a.View=function(E){this.cid=l.uniqueId("view"),this.preinitialize.apply(this,arguments),l.extend(this,l.pick(E,pt)),this._ensureElement(),this.initialize.apply(this,arguments)},ot=/^(\S+)\s*(.*)$/,pt=["model","collection","el","id","attributes","className","tagName","events"];l.extend(L.prototype,h,{tagName:"div",$:function(E){return this.$el.find(E)},preinitialize:function(){},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(E){return this.undelegateEvents(),this._setElement(E),this.delegateEvents(),this},_setElement:function(E){this.$el=E instanceof a.$?E:a.$(E),this.el=this.$el[0]},delegateEvents:function(E){if(E||(E=l.result(this,"events")),!E)return this;this.undelegateEvents();for(var N in E){var Y=E[N];if(l.isFunction(Y)||(Y=this[Y]),!!Y){var st=N.match(ot);this.delegate(st[1],st[2],Y.bind(this))}}return this},delegate:function(E,N,Y){return this.$el.on(E+".delegateEvents"+this.cid,N,Y),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(E,N,Y){return this.$el.off(E+".delegateEvents"+this.cid,N,Y),this},_createElement:function(E){return document.createElement(E)},_ensureElement:function(){if(this.el)this.setElement(l.result(this,"el"));else{var E=l.extend({},l.result(this,"attributes"));this.id&&(E.id=l.result(this,"id")),this.className&&(E.class=l.result(this,"className")),this.setElement(this._createElement(l.result(this,"tagName"))),this._setAttributes(E)}},_setAttributes:function(E){this.$el.attr(E)}});var mt=function(E,N,Y,st){switch(N){case 1:return function(){return E[Y](this[st])};case 2:return function(it){return E[Y](this[st],it)};case 3:return function(it,X){return E[Y](this[st],St(it,this),X)};case 4:return function(it,X,dt){return E[Y](this[st],St(it,this),X,dt)};default:return function(){var it=d.call(arguments);return it.unshift(this[st]),E[Y].apply(E,it)}}},Lt=function(E,N,Y,st){l.each(Y,function(it,X){N[X]&&(E.prototype[X]=mt(N,it,X,st))})},St=function(E,N){return l.isFunction(E)?E:l.isObject(E)&&!N._isModel(E)?at(E):l.isString(E)?function(Y){return Y.get(E)}:E},at=function(E){var N=l.matches(E);return function(Y){return N(Y.attributes)}},Rt={forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},wt={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};l.each([[$,Rt,"models"],[Q,wt,"attributes"]],function(E){var N=E[0],Y=E[1],st=E[2];N.mixin=function(it){var X=l.reduce(l.functions(it),function(dt,ut){return dt[ut]=0,dt},{});Lt(N,it,X,st)},Lt(N,l,Y,st)}),a.sync=function(E,N,Y){var st=Mt[E];l.defaults(Y||(Y={}),{emulateHTTP:a.emulateHTTP,emulateJSON:a.emulateJSON});var it={type:st,dataType:"json"};if(Y.url||(it.url=l.result(N,"url")||xt()),Y.data==null&&N&&(E==="create"||E==="update"||E==="patch")&&(it.contentType="application/json",it.data=JSON.stringify(Y.attrs||N.toJSON(Y))),Y.emulateJSON&&(it.contentType="application/x-www-form-urlencoded",it.data=it.data?{model:it.data}:{}),Y.emulateHTTP&&(st==="PUT"||st==="DELETE"||st==="PATCH")){it.type="POST",Y.emulateJSON&&(it.data._method=st);var X=Y.beforeSend;Y.beforeSend=function(zt){if(zt.setRequestHeader("X-HTTP-Method-Override",st),X)return X.apply(this,arguments)}}it.type!=="GET"&&!Y.emulateJSON&&(it.processData=!1);var dt=Y.error;Y.error=function(zt,fe,se){Y.textStatus=fe,Y.errorThrown=se,dt&&dt.call(Y.context,zt,fe,se)};var ut=Y.xhr=a.ajax(l.extend(it,Y));return N.trigger("request",N,ut,Y),ut};var Mt={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};a.ajax=function(){return a.$.ajax.apply(a.$,arguments)};var Qt=a.Router=function(E){E||(E={}),this.preinitialize.apply(this,arguments),E.routes&&(this.routes=E.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},W=/\((.*?)\)/g,U=/(\(\?)?:\w+/g,Ct=/\*\w+/g,vt=/[\-{}\[\]+?.,\\\^$|#\s]/g;l.extend(Qt.prototype,h,{preinitialize:function(){},initialize:function(){},route:function(E,N,Y){l.isRegExp(E)||(E=this._routeToRegExp(E)),l.isFunction(N)&&(Y=N,N=""),Y||(Y=this[N]);var st=this;return a.history.route(E,function(it){var X=st._extractParameters(E,it);st.execute(Y,X,N)!==!1&&(st.trigger.apply(st,["route:"+N].concat(X)),st.trigger("route",N,X),a.history.trigger("route",st,N,X))}),this},execute:function(E,N,Y){E&&E.apply(this,N)},navigate:function(E,N){return a.history.navigate(E,N),this},_bindRoutes:function(){if(this.routes){this.routes=l.result(this,"routes");for(var E,N=l.keys(this.routes);(E=N.pop())!=null;)this.route(E,this.routes[E])}},_routeToRegExp:function(E){return E=E.replace(vt,"\\$&").replace(W,"(?:$1)?").replace(U,function(N,Y){return Y?N:"([^/?]+)"}).replace(Ct,"([^?]*?)"),new RegExp("^"+E+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(E,N){var Y=E.exec(N).slice(1);return l.map(Y,function(st,it){return it===Y.length-1?st||null:st?decodeURIComponent(st):null})}});var Wt=a.History=function(){this.handlers=[],this.checkUrl=this.checkUrl.bind(this),typeof window<"u"&&(this.location=window.location,this.history=window.history)},yt=/^[#\/]|\s+$/g,It=/^\/+|\/+$/g,R=/#.*$/;Wt.started=!1,l.extend(Wt.prototype,h,{interval:50,atRoot:function(){var E=this.location.pathname.replace(/[^\/]$/,"$&/");return E===this.root&&!this.getSearch()},matchRoot:function(){var E=this.decodeFragment(this.location.pathname),N=E.slice(0,this.root.length-1)+"/";return N===this.root},decodeFragment:function(E){return decodeURI(E.replace(/%25/g,"%2525"))},getSearch:function(){var E=this.location.href.replace(/#.*/,"").match(/\?.+/);return E?E[0]:""},getHash:function(E){var N=(E||this).location.href.match(/#(.*)$/);return N?N[1]:""},getPath:function(){var E=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return E.charAt(0)==="/"?E.slice(1):E},getFragment:function(E){return E==null&&(this._usePushState||!this._wantsHashChange?E=this.getPath():E=this.getHash()),E.replace(yt,"")},start:function(E){if(Wt.started)throw new Error("Backbone.history has already been started");if(Wt.started=!0,this.options=l.extend({root:"/"},this.options,E),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window&&(document.documentMode===void 0||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.history&&this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(It,"/"),this._wantsHashChange&&this._wantsPushState)if(!this._hasPushState&&!this.atRoot()){var N=this.root.slice(0,-1)||"/";return this.location.replace(N+"#"+this.getPath()),!0}else this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0});if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var Y=document.body,st=Y.insertBefore(this.iframe,Y.firstChild).contentWindow;st.document.open(),st.document.close(),st.location.hash="#"+this.fragment}var it=window.addEventListener||function(X,dt){return attachEvent("on"+X,dt)};if(this._usePushState?it("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?it("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var E=window.removeEventListener||function(N,Y){return detachEvent("on"+N,Y)};this._usePushState?E("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&E("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),Wt.started=!1},route:function(E,N){this.handlers.unshift({route:E,callback:N})},checkUrl:function(E){var N=this.getFragment();if(N===this.fragment&&this.iframe&&(N=this.getHash(this.iframe.contentWindow)),N===this.fragment)return!1;this.iframe&&this.navigate(N),this.loadUrl()},loadUrl:function(E){return this.matchRoot()?(E=this.fragment=this.getFragment(E),l.some(this.handlers,function(N){if(N.route.test(E))return N.callback(E),!0})):!1},navigate:function(E,N){if(!Wt.started)return!1;(!N||N===!0)&&(N={trigger:!!N}),E=this.getFragment(E||"");var Y=this.root;(E===""||E.charAt(0)==="?")&&(Y=Y.slice(0,-1)||"/");var st=Y+E;E=E.replace(R,"");var it=this.decodeFragment(E);if(this.fragment!==it){if(this.fragment=it,this._usePushState)this.history[N.replace?"replaceState":"pushState"]({},document.title,st);else if(this._wantsHashChange){if(this._updateHash(this.location,E,N.replace),this.iframe&&E!==this.getHash(this.iframe.contentWindow)){var X=this.iframe.contentWindow;N.replace||(X.document.open(),X.document.close()),this._updateHash(X.location,E,N.replace)}}else return this.location.assign(st);if(N.trigger)return this.loadUrl(E)}},_updateHash:function(E,N,Y){if(Y){var st=E.href.replace(/(javascript:|#).*$/,"");E.replace(st+"#"+N)}else E.hash="#"+N}}),a.history=new Wt;var Dt=function(E,N){var Y=this,st;return E&&l.has(E,"constructor")?st=E.constructor:st=function(){return Y.apply(this,arguments)},l.extend(st,Y,N),st.prototype=l.create(Y.prototype,E),st.prototype.constructor=st,st.__super__=Y.prototype,st};Q.extend=$.extend=Qt.extend=L.extend=Wt.extend=Dt;var xt=function(){throw new Error('A "url" property or function must be specified')},rt=function(E,N){var Y=N.error;N.error=function(st){Y&&Y.call(N.context,E,st,N),E.trigger("error",E,st,N)}};return a})},3640:(r,e,t)=>{(function(n){n(t(4408))})(function(n){n.extendMode("css",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(o,a){return/^[;{}]$/.test(a)}}),n.extendMode("javascript",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(o,a,l,u){return this.jsonMode?/^[\[,{]$/.test(a)||/^}/.test(l):a==";"&&u.lexical&&u.lexical.type==")"?!1:/^[;{}]$/.test(a)&&!/^;/.test(l)}});var i=/^(a|abbr|acronym|area|base|bdo|big|br|button|caption|cite|code|col|colgroup|dd|del|dfn|em|frame|hr|iframe|img|input|ins|kbd|label|legend|link|map|object|optgroup|option|param|q|samp|script|select|small|span|strong|sub|sup|textarea|tt|var)$/;n.extendMode("xml",{commentStart:"<!--",commentEnd:"-->",newlineAfterToken:function(o,a,l,u){var c=!1;return this.configuration=="html"&&(c=u.context?i.test(u.context.tagName):!1),!c&&(o=="tag"&&/>$/.test(a)&&u.context||/^</.test(l))}}),n.defineExtension("commentRange",function(o,a,l){var u=this,c=n.innerMode(u.getMode(),u.getTokenAt(a).state).mode;u.operation(function(){if(o)u.replaceRange(c.commentEnd,l),u.replaceRange(c.commentStart,a),a.line==l.line&&a.ch==l.ch&&u.setCursor(a.line,a.ch+c.commentStart.length);else{var d=u.getRange(a,l),h=d.indexOf(c.commentStart),g=d.lastIndexOf(c.commentEnd);h>-1&&g>-1&&g>h&&(d=d.substr(0,h)+d.substring(h+c.commentStart.length,g)+d.substr(g+c.commentEnd.length)),u.replaceRange(d,a,l)}})}),n.defineExtension("autoIndentRange",function(o,a){var l=this;this.operation(function(){for(var u=o.line;u<=a.line;u++)l.indentLine(u,"smart")})}),n.defineExtension("autoFormatRange",function(o,a){var l=this,u=l.getMode(),c=l.getRange(o,a).split(`
`),d=n.copyState(u,l.getTokenAt(o).state),h=l.getOption("tabSize"),g="",m=0,b=o.ch===0;function w(){g+=`
`,b=!0,++m}for(var x=0;x<c.length;++x){for(var _=new n.StringStream(c[x],h);!_.eol();){var C=n.innerMode(u,d),O=u.token(_,d),A=_.current();_.start=_.pos,(!b||/\S/.test(A))&&(g+=A,b=!1),!b&&C.mode.newlineAfterToken&&C.mode.newlineAfterToken(O,A,_.string.slice(_.pos)||c[x+1]||"",C.state)&&w()}!_.pos&&u.blankLine&&u.blankLine(d),!b&&x<c.length-1&&w()}l.operation(function(){l.replaceRange(g,o,a);for(var I=o.line+1,Q=o.line+m;I<=Q;++I)l.indentLine(I,"smart");l.setSelection(o,l.getCursor(!1))})})})},4408:function(r){(function(e,t){r.exports=t()})(this,function(){var e=navigator.userAgent,t=navigator.platform,n=/gecko\/\d/i.test(e),i=/MSIE \d/.test(e),o=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(e),a=/Edge\/(\d+)/.exec(e),l=i||o||a,u=l&&(i?document.documentMode||6:+(a||o)[1]),c=!a&&/WebKit\//.test(e),d=c&&/Qt\/\d+\.\d+/.test(e),h=!a&&/Chrome\//.test(e),g=/Opera\//.test(e),m=/Apple Computer/.test(navigator.vendor),b=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(e),w=/PhantomJS/.test(e),x=m&&(/Mobile\/\w+/.test(e)||navigator.maxTouchPoints>2),_=/Android/.test(e),C=x||_||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(e),O=x||/Mac/.test(t),A=/\bCrOS\b/.test(e),I=/win/i.test(t),Q=g&&e.match(/Version\/(\d*\.\d*)/);Q&&(Q=Number(Q[1])),Q&&Q>=15&&(g=!1,c=!0);var $=O&&(d||g&&(Q==null||Q<12.11)),Z=n||l&&u>=9;function P(s){return new RegExp("(^|\\s)"+s+"(?:$|\\s)\\s*")}var tt=function(s,f){var v=s.className,p=P(f).exec(v);if(p){var y=v.slice(p.index+p[0].length);s.className=v.slice(0,p.index)+(y?p[1]+y:"")}};function H(s){for(var f=s.childNodes.length;f>0;--f)s.removeChild(s.firstChild);return s}function k(s,f){return H(s).appendChild(f)}function F(s,f,v,p){var y=document.createElement(s);if(v&&(y.className=v),p&&(y.style.cssText=p),typeof f=="string")y.appendChild(document.createTextNode(f));else if(f)for(var S=0;S<f.length;++S)y.appendChild(f[S]);return y}function T(s,f,v,p){var y=F(s,f,v,p);return y.setAttribute("role","presentation"),y}var nt;document.createRange?nt=function(s,f,v,p){var y=document.createRange();return y.setEnd(p||s,v),y.setStart(s,f),y}:nt=function(s,f,v){var p=document.body.createTextRange();try{p.moveToElementText(s.parentNode)}catch{return p}return p.collapse(!0),p.moveEnd("character",v),p.moveStart("character",f),p};function L(s,f){if(f.nodeType==3&&(f=f.parentNode),s.contains)return s.contains(f);do if(f.nodeType==11&&(f=f.host),f==s)return!0;while(f=f.parentNode)}function ot(){var s;try{s=document.activeElement}catch{s=document.body||null}for(;s&&s.shadowRoot&&s.shadowRoot.activeElement;)s=s.shadowRoot.activeElement;return s}function pt(s,f){var v=s.className;P(f).test(v)||(s.className+=(v?" ":"")+f)}function mt(s,f){for(var v=s.split(" "),p=0;p<v.length;p++)v[p]&&!P(v[p]).test(f)&&(f+=" "+v[p]);return f}var Lt=function(s){s.select()};x?Lt=function(s){s.selectionStart=0,s.selectionEnd=s.value.length}:l&&(Lt=function(s){try{s.select()}catch{}});function St(s){var f=Array.prototype.slice.call(arguments,1);return function(){return s.apply(null,f)}}function at(s,f,v){f||(f={});for(var p in s)s.hasOwnProperty(p)&&(v!==!1||!f.hasOwnProperty(p))&&(f[p]=s[p]);return f}function Rt(s,f,v,p,y){f==null&&(f=s.search(/[^\s\u00a0]/),f==-1&&(f=s.length));for(var S=p||0,D=y||0;;){var M=s.indexOf("	",S);if(M<0||M>=f)return D+(f-S);D+=M-S,D+=v-D%v,S=M+1}}var wt=function(){this.id=null,this.f=null,this.time=0,this.handler=St(this.onTimeout,this)};wt.prototype.onTimeout=function(s){s.id=0,s.time<=+new Date?s.f():setTimeout(s.handler,s.time-+new Date)},wt.prototype.set=function(s,f){this.f=f;var v=+new Date+s;(!this.id||v<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,s),this.time=v)};function Mt(s,f){for(var v=0;v<s.length;++v)if(s[v]==f)return v;return-1}var Qt=50,W={toString:function(){return"CodeMirror.Pass"}},U={scroll:!1},Ct={origin:"*mouse"},vt={origin:"+move"};function Wt(s,f,v){for(var p=0,y=0;;){var S=s.indexOf("	",p);S==-1&&(S=s.length);var D=S-p;if(S==s.length||y+D>=f)return p+Math.min(D,f-y);if(y+=S-p,y+=v-y%v,p=S+1,y>=f)return p}}var yt=[""];function It(s){for(;yt.length<=s;)yt.push(R(yt)+" ");return yt[s]}function R(s){return s[s.length-1]}function Dt(s,f){for(var v=[],p=0;p<s.length;p++)v[p]=f(s[p],p);return v}function xt(s,f,v){for(var p=0,y=v(f);p<s.length&&v(s[p])<=y;)p++;s.splice(p,0,f)}function rt(){}function E(s,f){var v;return Object.create?v=Object.create(s):(rt.prototype=s,v=new rt),f&&at(f,v),v}var N=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function Y(s){return/\w/.test(s)||s>""&&(s.toUpperCase()!=s.toLowerCase()||N.test(s))}function st(s,f){return f?f.source.indexOf("\\w")>-1&&Y(s)?!0:f.test(s):Y(s)}function it(s){for(var f in s)if(s.hasOwnProperty(f)&&s[f])return!1;return!0}var X=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function dt(s){return s.charCodeAt(0)>=768&&X.test(s)}function ut(s,f,v){for(;(v<0?f>0:f<s.length)&&dt(s.charAt(f));)f+=v;return f}function zt(s,f,v){for(var p=f>v?-1:1;;){if(f==v)return f;var y=(f+v)/2,S=p<0?Math.ceil(y):Math.floor(y);if(S==f)return s(S)?f:v;s(S)?v=S:f=S+p}}function fe(s,f,v,p){if(!s)return p(f,v,"ltr",0);for(var y=!1,S=0;S<s.length;++S){var D=s[S];(D.from<v&&D.to>f||f==v&&D.to==f)&&(p(Math.max(D.from,f),Math.min(D.to,v),D.level==1?"rtl":"ltr",S),y=!0)}y||p(f,v,"ltr")}var se=null;function et(s,f,v){var p;se=null;for(var y=0;y<s.length;++y){var S=s[y];if(S.from<f&&S.to>f)return y;S.to==f&&(S.from!=S.to&&v=="before"?p=y:se=y),S.from==f&&(S.from!=S.to&&v!="before"?p=y:se=y)}return p??se}var bt=function(){var s="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",f="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function v(B){return B<=247?s.charAt(B):1424<=B&&B<=1524?"R":1536<=B&&B<=1785?f.charAt(B-1536):1774<=B&&B<=2220?"r":8192<=B&&B<=8203?"w":B==8204?"b":"L"}var p=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,y=/[stwN]/,S=/[LRr]/,D=/[Lb1n]/,M=/[1n]/;function j(B,lt,ht){this.level=B,this.from=lt,this.to=ht}return function(B,lt){var ht=lt=="ltr"?"L":"R";if(B.length==0||lt=="ltr"&&!p.test(B))return!1;for(var kt=B.length,Et=[],jt=0;jt<kt;++jt)Et.push(v(B.charCodeAt(jt)));for(var Yt=0,ee=ht;Yt<kt;++Yt){var ue=Et[Yt];ue=="m"?Et[Yt]=ee:ee=ue}for(var he=0,ce=ht;he<kt;++he){var ve=Et[he];ve=="1"&&ce=="r"?Et[he]="n":S.test(ve)&&(ce=ve,ve=="r"&&(Et[he]="R"))}for(var Se=1,be=Et[0];Se<kt-1;++Se){var Re=Et[Se];Re=="+"&&be=="1"&&Et[Se+1]=="1"?Et[Se]="1":Re==","&&be==Et[Se+1]&&(be=="1"||be=="n")&&(Et[Se]=be),be=Re}for(var ln=0;ln<kt;++ln){var sr=Et[ln];if(sr==",")Et[ln]="N";else if(sr=="%"){var En=void 0;for(En=ln+1;En<kt&&Et[En]=="%";++En);for(var ci=ln&&Et[ln-1]=="!"||En<kt&&Et[En]=="1"?"1":"N",Kr=ln;Kr<En;++Kr)Et[Kr]=ci;ln=En-1}}for(var Kn=0,qr=ht;Kn<kt;++Kn){var pr=Et[Kn];qr=="L"&&pr=="1"?Et[Kn]="L":S.test(pr)&&(qr=pr)}for(var Jn=0;Jn<kt;++Jn)if(y.test(Et[Jn])){var qn=void 0;for(qn=Jn+1;qn<kt&&y.test(Et[qn]);++qn);for(var Pn=(Jn?Et[Jn-1]:ht)=="L",Gr=(qn<kt?Et[qn]:ht)=="L",$l=Pn==Gr?Pn?"L":"R":ht,ts=Jn;ts<qn;++ts)Et[ts]=$l;Jn=qn-1}for(var Cr=[],Mo,lr=0;lr<kt;)if(D.test(Et[lr])){var Lm=lr;for(++lr;lr<kt&&D.test(Et[lr]);++lr);Cr.push(new j(0,Lm,lr))}else{var sa=lr,Gs=Cr.length,Ys=lt=="rtl"?1:0;for(++lr;lr<kt&&Et[lr]!="L";++lr);for(var Mr=sa;Mr<lr;)if(M.test(Et[Mr])){sa<Mr&&(Cr.splice(Gs,0,new j(1,sa,Mr)),Gs+=Ys);var Jl=Mr;for(++Mr;Mr<lr&&M.test(Et[Mr]);++Mr);Cr.splice(Gs,0,new j(2,Jl,Mr)),Gs+=Ys,sa=Mr}else++Mr;sa<lr&&Cr.splice(Gs,0,new j(1,sa,lr))}return lt=="ltr"&&(Cr[0].level==1&&(Mo=B.match(/^\s+/))&&(Cr[0].from=Mo[0].length,Cr.unshift(new j(0,0,Mo[0].length))),R(Cr).level==1&&(Mo=B.match(/\s+$/))&&(R(Cr).to-=Mo[0].length,Cr.push(new j(0,kt-Mo[0].length,kt)))),lt=="rtl"?Cr.reverse():Cr}}();function K(s,f){var v=s.order;return v==null&&(v=s.order=bt(s.text,f)),v}var Bt=[],Ot=function(s,f,v){if(s.addEventListener)s.addEventListener(f,v,!1);else if(s.attachEvent)s.attachEvent("on"+f,v);else{var p=s._handlers||(s._handlers={});p[f]=(p[f]||Bt).concat(v)}};function Gt(s,f){return s._handlers&&s._handlers[f]||Bt}function de(s,f,v){if(s.removeEventListener)s.removeEventListener(f,v,!1);else if(s.detachEvent)s.detachEvent("on"+f,v);else{var p=s._handlers,y=p&&p[f];if(y){var S=Mt(y,v);S>-1&&(p[f]=y.slice(0,S).concat(y.slice(S+1)))}}}function re(s,f){var v=Gt(s,f);if(v.length)for(var p=Array.prototype.slice.call(arguments,2),y=0;y<v.length;++y)v[y].apply(null,p)}function ie(s,f,v){return typeof f=="string"&&(f={type:f,preventDefault:function(){this.defaultPrevented=!0}}),re(s,v||f.type,s,f),_n(f)||f.codemirrorIgnore}function ge(s){var f=s._handlers&&s._handlers.cursorActivity;if(f)for(var v=s.curOp.cursorActivityHandlers||(s.curOp.cursorActivityHandlers=[]),p=0;p<f.length;++p)Mt(v,f[p])==-1&&v.push(f[p])}function Ee(s,f){return Gt(s,f).length>0}function Ne(s){s.prototype.on=function(f,v){Ot(this,f,v)},s.prototype.off=function(f,v){de(this,f,v)}}function Me(s){s.preventDefault?s.preventDefault():s.returnValue=!1}function nn(s){s.stopPropagation?s.stopPropagation():s.cancelBubble=!0}function _n(s){return s.defaultPrevented!=null?s.defaultPrevented:s.returnValue==!1}function J(s){Me(s),nn(s)}function gt(s){return s.target||s.srcElement}function Tt(s){var f=s.which;return f==null&&(s.button&1?f=1:s.button&2?f=3:s.button&4&&(f=2)),O&&s.ctrlKey&&f==1&&(f=3),f}var qt=function(){if(l&&u<9)return!1;var s=F("div");return"draggable"in s||"dragDrop"in s}(),ae;function _e(s){if(ae==null){var f=F("span","​");k(s,F("span",[f,document.createTextNode("x")])),s.firstChild.offsetHeight!=0&&(ae=f.offsetWidth<=1&&f.offsetHeight>2&&!(l&&u<8))}var v=ae?F("span","​"):F("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return v.setAttribute("cm-text",""),v}var Oe;function dn(s){if(Oe!=null)return Oe;var f=k(s,document.createTextNode("AخA")),v=nt(f,0,1).getBoundingClientRect(),p=nt(f,1,2).getBoundingClientRect();return H(s),!v||v.left==v.right?!1:Oe=p.right-v.right<3}var Nn=`

b`.split(/\n/).length!=3?function(s){for(var f=0,v=[],p=s.length;f<=p;){var y=s.indexOf(`
`,f);y==-1&&(y=s.length);var S=s.slice(f,s.charAt(y-1)=="\r"?y-1:y),D=S.indexOf("\r");D!=-1?(v.push(S.slice(0,D)),f+=D+1):(v.push(S),f=y+1)}return v}:function(s){return s.split(/\r\n?|\n/)},hn=window.getSelection?function(s){try{return s.selectionStart!=s.selectionEnd}catch{return!1}}:function(s){var f;try{f=s.ownerDocument.selection.createRange()}catch{}return!f||f.parentElement()!=s?!1:f.compareEndPoints("StartToEnd",f)!=0},Ei=function(){var s=F("div");return"oncopy"in s?!0:(s.setAttribute("oncopy","return;"),typeof s.oncopy=="function")}(),pn=null;function Tr(s){if(pn!=null)return pn;var f=k(s,F("span","x")),v=f.getBoundingClientRect(),p=nt(f,0,1).getBoundingClientRect();return pn=Math.abs(v.left-p.left)>1}var ri={},Xe={};function jn(s,f){arguments.length>2&&(f.dependencies=Array.prototype.slice.call(arguments,2)),ri[s]=f}function Ue(s,f){Xe[s]=f}function br(s){if(typeof s=="string"&&Xe.hasOwnProperty(s))s=Xe[s];else if(s&&typeof s.name=="string"&&Xe.hasOwnProperty(s.name)){var f=Xe[s.name];typeof f=="string"&&(f={name:f}),s=E(f,s),s.name=f.name}else{if(typeof s=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(s))return br("application/xml");if(typeof s=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(s))return br("application/json")}return typeof s=="string"?{name:s}:s||{name:"null"}}function Ce(s,f){f=br(f);var v=ri[f.name];if(!v)return Ce(s,"text/plain");var p=v(s,f);if(ii.hasOwnProperty(f.name)){var y=ii[f.name];for(var S in y)y.hasOwnProperty(S)&&(p.hasOwnProperty(S)&&(p["_"+S]=p[S]),p[S]=y[S])}if(p.name=f.name,f.helperType&&(p.helperType=f.helperType),f.modeProps)for(var D in f.modeProps)p[D]=f.modeProps[D];return p}var ii={};function Br(s,f){var v=ii.hasOwnProperty(s)?ii[s]:ii[s]={};at(f,v)}function Fn(s,f){if(f===!0)return f;if(s.copyState)return s.copyState(f);var v={};for(var p in f){var y=f[p];y instanceof Array&&(y=y.concat([])),v[p]=y}return v}function zn(s,f){for(var v;s.innerMode&&(v=s.innerMode(f),!(!v||v.mode==s));)f=v.state,s=v.mode;return v||{mode:s,state:f}}function Ar(s,f,v){return s.startState?s.startState(f,v):!0}var Ze=function(s,f,v){this.pos=this.start=0,this.string=s,this.tabSize=f||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=v};Ze.prototype.eol=function(){return this.pos>=this.string.length},Ze.prototype.sol=function(){return this.pos==this.lineStart},Ze.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Ze.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Ze.prototype.eat=function(s){var f=this.string.charAt(this.pos),v;if(typeof s=="string"?v=f==s:v=f&&(s.test?s.test(f):s(f)),v)return++this.pos,f},Ze.prototype.eatWhile=function(s){for(var f=this.pos;this.eat(s););return this.pos>f},Ze.prototype.eatSpace=function(){for(var s=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>s},Ze.prototype.skipToEnd=function(){this.pos=this.string.length},Ze.prototype.skipTo=function(s){var f=this.string.indexOf(s,this.pos);if(f>-1)return this.pos=f,!0},Ze.prototype.backUp=function(s){this.pos-=s},Ze.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Rt(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?Rt(this.string,this.lineStart,this.tabSize):0)},Ze.prototype.indentation=function(){return Rt(this.string,null,this.tabSize)-(this.lineStart?Rt(this.string,this.lineStart,this.tabSize):0)},Ze.prototype.match=function(s,f,v){if(typeof s=="string"){var p=function(D){return v?D.toLowerCase():D},y=this.string.substr(this.pos,s.length);if(p(y)==p(s))return f!==!1&&(this.pos+=s.length),!0}else{var S=this.string.slice(this.pos).match(s);return S&&S.index>0?null:(S&&f!==!1&&(this.pos+=S[0].length),S)}},Ze.prototype.current=function(){return this.string.slice(this.start,this.pos)},Ze.prototype.hideFirstChars=function(s,f){this.lineStart+=s;try{return f()}finally{this.lineStart-=s}},Ze.prototype.lookAhead=function(s){var f=this.lineOracle;return f&&f.lookAhead(s)},Ze.prototype.baseToken=function(){var s=this.lineOracle;return s&&s.baseToken(this.pos)};function pe(s,f){if(f-=s.first,f<0||f>=s.size)throw new Error("There is no line "+(f+s.first)+" in the document.");for(var v=s;!v.lines;)for(var p=0;;++p){var y=v.children[p],S=y.chunkSize();if(f<S){v=y;break}f-=S}return v.lines[f]}function nr(s,f,v){var p=[],y=f.line;return s.iter(f.line,v.line+1,function(S){var D=S.text;y==v.line&&(D=D.slice(0,v.ch)),y==f.line&&(D=D.slice(f.ch)),p.push(D),++y}),p}function bn(s,f,v){var p=[];return s.iter(f,v,function(y){p.push(y.text)}),p}function rr(s,f){var v=f-s.height;if(v)for(var p=s;p;p=p.parent)p.height+=v}function Ie(s){if(s.parent==null)return null;for(var f=s.parent,v=Mt(f.lines,s),p=f.parent;p;f=p,p=p.parent)for(var y=0;p.children[y]!=f;++y)v+=p.children[y].chunkSize();return v+f.first}function on(s,f){var v=s.first;t:do{for(var p=0;p<s.children.length;++p){var y=s.children[p],S=y.height;if(f<S){s=y;continue t}f-=S,v+=y.chunkSize()}return v}while(!s.lines);for(var D=0;D<s.lines.length;++D){var M=s.lines[D],j=M.height;if(f<j)break;f-=j}return v+D}function oi(s,f){return f>=s.first&&f<s.first+s.size}function Ti(s,f){return String(s.lineNumberFormatter(f+s.firstLineNumber))}function Xt(s,f,v){if(v===void 0&&(v=null),!(this instanceof Xt))return new Xt(s,f,v);this.line=s,this.ch=f,this.sticky=v}function we(s,f){return s.line-f.line||s.ch-f.ch}function Ai(s,f){return s.sticky==f.sticky&&we(s,f)==0}function q(s){return Xt(s.line,s.ch)}function ct(s,f){return we(s,f)<0?f:s}function Vt(s,f){return we(s,f)<0?s:f}function $t(s,f){return Math.max(s.first,Math.min(f,s.first+s.size-1))}function te(s,f){if(f.line<s.first)return Xt(s.first,0);var v=s.first+s.size-1;return f.line>v?Xt(v,pe(s,v).text.length):Pe(f,pe(s,f.line).text.length)}function Pe(s,f){var v=s.ch;return v==null||v>f?Xt(s.line,f):v<0?Xt(s.line,0):s}function je(s,f){for(var v=[],p=0;p<f.length;p++)v[p]=te(s,f[p]);return v}var vn=function(s,f){this.state=s,this.lookAhead=f},Je=function(s,f,v,p){this.state=f,this.doc=s,this.line=v,this.maxLookAhead=p||0,this.baseTokens=null,this.baseTokenPos=1};Je.prototype.lookAhead=function(s){var f=this.doc.getLine(this.line+s);return f!=null&&s>this.maxLookAhead&&(this.maxLookAhead=s),f},Je.prototype.baseToken=function(s){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=s;)this.baseTokenPos+=2;var f=this.baseTokens[this.baseTokenPos+1];return{type:f&&f.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-s}},Je.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},Je.fromSaved=function(s,f,v){return f instanceof vn?new Je(s,Fn(s.mode,f.state),v,f.lookAhead):new Je(s,Fn(s.mode,f),v)},Je.prototype.save=function(s){var f=s!==!1?Fn(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new vn(f,this.maxLookAhead):f};function ai(s,f,v,p){var y=[s.state.modeGen],S={};ko(s,f.text,s.doc.mode,v,function(B,lt){return y.push(B,lt)},S,p);for(var D=v.state,M=function(B){v.baseTokens=y;var lt=s.state.overlays[B],ht=1,kt=0;v.state=!0,ko(s,f.text,lt.mode,v,function(Et,jt){for(var Yt=ht;kt<Et;){var ee=y[ht];ee>Et&&y.splice(ht,1,Et,y[ht+1],ee),ht+=2,kt=Math.min(Et,ee)}if(jt)if(lt.opaque)y.splice(Yt,ht-Yt,Et,"overlay "+jt),ht=Yt+2;else for(;Yt<ht;Yt+=2){var ue=y[Yt+1];y[Yt+1]=(ue?ue+" ":"")+"overlay "+jt}},S),v.state=D,v.baseTokens=null,v.baseTokenPos=1},j=0;j<s.state.overlays.length;++j)M(j);return{styles:y,classes:S.bgClass||S.textClass?S:null}}function La(s,f,v){if(!f.styles||f.styles[0]!=s.state.modeGen){var p=Zo(s,Ie(f)),y=f.text.length>s.options.maxHighlightLength&&Fn(s.doc.mode,p.state),S=ai(s,f,p);y&&(p.state=y),f.stateAfter=p.save(!y),f.styles=S.styles,S.classes?f.styleClasses=S.classes:f.styleClasses&&(f.styleClasses=null),v===s.doc.highlightFrontier&&(s.doc.modeFrontier=Math.max(s.doc.modeFrontier,++s.doc.highlightFrontier))}return f.styles}function Zo(s,f,v){var p=s.doc,y=s.display;if(!p.mode.startState)return new Je(p,!0,f);var S=po(s,f,v),D=S>p.first&&pe(p,S-1).stateAfter,M=D?Je.fromSaved(p,D,S):new Je(p,Ar(p.mode),S);return p.iter(S,f,function(j){$o(s,j.text,M);var B=M.line;j.stateAfter=B==f-1||B%5==0||B>=y.viewFrom&&B<y.viewTo?M.save():null,M.nextLine()}),v&&(p.modeFrontier=M.line),M}function $o(s,f,v,p){var y=s.doc.mode,S=new Ze(f,s.options.tabSize,v);for(S.start=S.pos=p||0,f==""&&Jo(y,v.state);!S.eol();)js(y,S,v.state),S.start=S.pos}function Jo(s,f){if(s.blankLine)return s.blankLine(f);if(s.innerMode){var v=zn(s,f);if(v.mode.blankLine)return v.mode.blankLine(v.state)}}function js(s,f,v,p){for(var y=0;y<10;y++){p&&(p[0]=zn(s,v).mode);var S=s.token(f,v);if(f.pos>f.start)return S}throw new Error("Mode "+s.name+" failed to advance stream.")}var Na=function(s,f,v){this.start=s.start,this.end=s.pos,this.string=s.current(),this.type=f||null,this.state=v};function ja(s,f,v,p){var y=s.doc,S=y.mode,D;f=te(y,f);var M=pe(y,f.line),j=Zo(s,f.line,v),B=new Ze(M.text,s.options.tabSize,j),lt;for(p&&(lt=[]);(p||B.pos<f.ch)&&!B.eol();)B.start=B.pos,D=js(S,B,j.state),p&&lt.push(new Na(B,D,Fn(y.mode,j.state)));return p?lt:new Na(B,D,j.state)}function Qo(s,f){if(s)for(;;){var v=s.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!v)break;s=s.slice(0,v.index)+s.slice(v.index+v[0].length);var p=v[1]?"bgClass":"textClass";f[p]==null?f[p]=v[2]:new RegExp("(?:^|\\s)"+v[2]+"(?:$|\\s)").test(f[p])||(f[p]+=" "+v[2])}return s}function ko(s,f,v,p,y,S,D){var M=v.flattenSpans;M==null&&(M=s.options.flattenSpans);var j=0,B=null,lt=new Ze(f,s.options.tabSize,p),ht,kt=s.options.addModeClass&&[null];for(f==""&&Qo(Jo(v,p.state),S);!lt.eol();){if(lt.pos>s.options.maxHighlightLength?(M=!1,D&&$o(s,f,p,lt.pos),lt.pos=f.length,ht=null):ht=Qo(js(v,lt,p.state,kt),S),kt){var Et=kt[0].name;Et&&(ht="m-"+(ht?Et+" "+ht:Et))}if(!M||B!=ht){for(;j<lt.start;)j=Math.min(lt.start,j+5e3),y(j,B);B=ht}lt.start=lt.pos}for(;j<lt.pos;){var jt=Math.min(lt.pos,j+5e3);y(jt,B),j=jt}}function po(s,f,v){for(var p,y,S=s.doc,D=v?-1:f-(s.doc.mode.innerMode?1e3:100),M=f;M>D;--M){if(M<=S.first)return S.first;var j=pe(S,M-1),B=j.stateAfter;if(B&&(!v||M+(B instanceof vn?B.lookAhead:0)<=S.modeFrontier))return M;var lt=Rt(j.text,null,s.options.tabSize);(y==null||p>lt)&&(y=M-1,p=lt)}return y}function Ia(s,f){if(s.modeFrontier=Math.min(s.modeFrontier,f),!(s.highlightFrontier<f-10)){for(var v=s.first,p=f-1;p>v;p--){var y=pe(s,p).stateAfter;if(y&&(!(y instanceof vn)||p+y.lookAhead<f)){v=p+1;break}}s.highlightFrontier=Math.min(s.highlightFrontier,v)}}var Hn=!1,Xn=!1;function Is(){Hn=!0}function Di(){Xn=!0}function vo(s,f,v){this.marker=s,this.from=f,this.to=v}function Dr(s,f){if(s)for(var v=0;v<s.length;++v){var p=s[v];if(p.marker==f)return p}}function Zn(s,f){for(var v,p=0;p<s.length;++p)s[p]!=f&&(v||(v=[])).push(s[p]);return v}function Pl(s,f,v){var p=v&&window.WeakSet&&(v.markedSpans||(v.markedSpans=new WeakSet));p&&p.has(s.markedSpans)?s.markedSpans.push(f):(s.markedSpans=s.markedSpans?s.markedSpans.concat([f]):[f],p&&p.add(s.markedSpans)),f.marker.attachLine(s)}function go(s,f,v){var p;if(s)for(var y=0;y<s.length;++y){var S=s[y],D=S.marker,M=S.from==null||(D.inclusiveLeft?S.from<=f:S.from<f);if(M||S.from==f&&D.type=="bookmark"&&(!v||!S.marker.insertLeft)){var j=S.to==null||(D.inclusiveRight?S.to>=f:S.to>f);(p||(p=[])).push(new vo(D,S.from,j?null:S.to))}}return p}function ki(s,f,v){var p;if(s)for(var y=0;y<s.length;++y){var S=s[y],D=S.marker,M=S.to==null||(D.inclusiveRight?S.to>=f:S.to>f);if(M||S.from==f&&D.type=="bookmark"&&(!v||S.marker.insertLeft)){var j=S.from==null||(D.inclusiveLeft?S.from<=f:S.from<f);(p||(p=[])).push(new vo(D,j?null:S.from-f,S.to==null?null:S.to-f))}}return p}function ta(s,f){if(f.full)return null;var v=oi(s,f.from.line)&&pe(s,f.from.line).markedSpans,p=oi(s,f.to.line)&&pe(s,f.to.line).markedSpans;if(!v&&!p)return null;var y=f.from.ch,S=f.to.ch,D=we(f.from,f.to)==0,M=go(v,y,D),j=ki(p,S,D),B=f.text.length==1,lt=R(f.text).length+(B?y:0);if(M)for(var ht=0;ht<M.length;++ht){var kt=M[ht];if(kt.to==null){var Et=Dr(j,kt.marker);Et?B&&(kt.to=Et.to==null?null:Et.to+lt):kt.to=y}}if(j)for(var jt=0;jt<j.length;++jt){var Yt=j[jt];if(Yt.to!=null&&(Yt.to+=lt),Yt.from==null){var ee=Dr(M,Yt.marker);ee||(Yt.from=lt,B&&(M||(M=[])).push(Yt))}else Yt.from+=lt,B&&(M||(M=[])).push(Yt)}M&&(M=Pi(M)),j&&j!=M&&(j=Pi(j));var ue=[M];if(!B){var he=f.text.length-2,ce;if(he>0&&M)for(var ve=0;ve<M.length;++ve)M[ve].to==null&&(ce||(ce=[])).push(new vo(M[ve].marker,null,null));for(var Se=0;Se<he;++Se)ue.push(ce);ue.push(j)}return ue}function Pi(s){for(var f=0;f<s.length;++f){var v=s[f];v.from!=null&&v.from==v.to&&v.marker.clearWhenEmpty!==!1&&s.splice(f--,1)}return s.length?s:null}function Mi(s,f,v){var p=null;if(s.iter(f.line,v.line+1,function(Et){if(Et.markedSpans)for(var jt=0;jt<Et.markedSpans.length;++jt){var Yt=Et.markedSpans[jt].marker;Yt.readOnly&&(!p||Mt(p,Yt)==-1)&&(p||(p=[])).push(Yt)}}),!p)return null;for(var y=[{from:f,to:v}],S=0;S<p.length;++S)for(var D=p[S],M=D.find(0),j=0;j<y.length;++j){var B=y[j];if(!(we(B.to,M.from)<0||we(B.from,M.to)>0)){var lt=[j,1],ht=we(B.from,M.from),kt=we(B.to,M.to);(ht<0||!D.inclusiveLeft&&!ht)&&lt.push({from:B.from,to:M.from}),(kt>0||!D.inclusiveRight&&!kt)&&lt.push({from:M.to,to:B.to}),y.splice.apply(y,lt),j+=lt.length-3}}return y}function Vs(s){var f=s.markedSpans;if(f){for(var v=0;v<f.length;++v)f[v].marker.detachLine(s);s.markedSpans=null}}function Va(s,f){if(f){for(var v=0;v<f.length;++v)f[v].marker.attachLine(s);s.markedSpans=f}}function ea(s){return s.inclusiveLeft?-1:0}function Xi(s){return s.inclusiveRight?1:0}function na(s,f){var v=s.lines.length-f.lines.length;if(v!=0)return v;var p=s.find(),y=f.find(),S=we(p.from,y.from)||ea(s)-ea(f);if(S)return-S;var D=we(p.to,y.to)||Xi(s)-Xi(f);return D||f.id-s.id}function mo(s,f){var v=Xn&&s.markedSpans,p;if(v)for(var y=void 0,S=0;S<v.length;++S)y=v[S],y.marker.collapsed&&(f?y.from:y.to)==null&&(!p||na(p,y.marker)<0)&&(p=y.marker);return p}function ye(s){return mo(s,!0)}function me(s){return mo(s,!1)}function ze(s,f){var v=Xn&&s.markedSpans,p;if(v)for(var y=0;y<v.length;++y){var S=v[y];S.marker.collapsed&&(S.from==null||S.from<f)&&(S.to==null||S.to>f)&&(!p||na(p,S.marker)<0)&&(p=S.marker)}return p}function xe(s,f,v,p,y){var S=pe(s,f),D=Xn&&S.markedSpans;if(D)for(var M=0;M<D.length;++M){var j=D[M];if(j.marker.collapsed){var B=j.marker.find(0),lt=we(B.from,v)||ea(j.marker)-ea(y),ht=we(B.to,p)||Xi(j.marker)-Xi(y);if(!(lt>=0&&ht<=0||lt<=0&&ht>=0)&&(lt<=0&&(j.marker.inclusiveRight&&y.inclusiveLeft?we(B.to,v)>=0:we(B.to,v)>0)||lt>=0&&(j.marker.inclusiveRight&&y.inclusiveLeft?we(B.from,p)<=0:we(B.from,p)<0)))return!0}}}function wn(s){for(var f;f=ye(s);)s=f.find(-1,!0).line;return s}function Wn(s){for(var f;f=me(s);)s=f.find(1,!0).line;return s}function kr(s){for(var f,v;f=me(s);)s=f.find(1,!0).line,(v||(v=[])).push(s);return v}function Zi(s,f){var v=pe(s,f),p=wn(v);return v==p?f:Ie(p)}function Fr(s,f){if(f>s.lastLine())return f;var v=pe(s,f),p;if(!zr(s,v))return f;for(;p=me(v);)v=p.find(1,!0).line;return Ie(v)+1}function zr(s,f){var v=Xn&&f.markedSpans;if(v){for(var p=void 0,y=0;y<v.length;++y)if(p=v[y],!!p.marker.collapsed){if(p.from==null)return!0;if(!p.marker.widgetNode&&p.from==0&&p.marker.inclusiveLeft&&si(s,f,p))return!0}}}function si(s,f,v){if(v.to==null){var p=v.marker.find(1,!0);return si(s,p.line,Dr(p.line.markedSpans,v.marker))}if(v.marker.inclusiveRight&&v.to==f.text.length)return!0;for(var y=void 0,S=0;S<f.markedSpans.length;++S)if(y=f.markedSpans[S],y.marker.collapsed&&!y.marker.widgetNode&&y.from==v.to&&(y.to==null||y.to!=v.from)&&(y.marker.inclusiveLeft||v.marker.inclusiveRight)&&si(s,f,y))return!0}function $i(s){s=wn(s);for(var f=0,v=s.parent,p=0;p<v.lines.length;++p){var y=v.lines[p];if(y==s)break;f+=y.height}for(var S=v.parent;S;v=S,S=v.parent)for(var D=0;D<S.children.length;++D){var M=S.children[D];if(M==v)break;f+=M.height}return f}function ra(s){if(s.height==0)return 0;for(var f=s.text.length,v,p=s;v=ye(p);){var y=v.find(0,!0);p=y.from.line,f+=y.from.ch-y.to.ch}for(p=s;v=me(p);){var S=v.find(0,!0);f-=p.text.length-S.from.ch,p=S.to.line,f+=p.text.length-S.to.ch}return f}function Ua(s){var f=s.display,v=s.doc;f.maxLine=pe(v,v.first),f.maxLineLength=ra(f.maxLine),f.maxLineChanged=!0,v.iter(function(p){var y=ra(p);y>f.maxLineLength&&(f.maxLineLength=y,f.maxLine=p)})}var ir=function(s,f,v){this.text=s,Va(this,f),this.height=v?v(this):1};ir.prototype.lineNo=function(){return Ie(this)},Ne(ir);function Kd(s,f,v,p){s.text=f,s.stateAfter&&(s.stateAfter=null),s.styles&&(s.styles=null),s.order!=null&&(s.order=null),Vs(s),Va(s,v);var y=p?p(s):1;y!=s.height&&rr(s,y)}function Ml(s){s.parent=null,Vs(s)}var qd={},Oc={};function Ec(s,f){if(!s||/^\s*$/.test(s))return null;var v=f.addModeClass?Oc:qd;return v[s]||(v[s]=s.replace(/\S+/g,"cm-$&"))}function Rl(s,f){var v=T("span",null,null,c?"padding-right: .1px":null),p={pre:T("pre",[v],"CodeMirror-line"),content:v,col:0,pos:0,cm:s,trailingSpace:!1,splitSpaces:s.getOption("lineWrapping")};f.measure={};for(var y=0;y<=(f.rest?f.rest.length:0);y++){var S=y?f.rest[y-1]:f.line,D=void 0;p.pos=0,p.addToken=Yd,dn(s.display.measure)&&(D=K(S,s.doc.direction))&&(p.addToken=Xd(p.addToken,D)),p.map=[];var M=f!=s.display.externalMeasured&&Ie(S);Zd(S,p,La(s,S,M)),S.styleClasses&&(S.styleClasses.bgClass&&(p.bgClass=mt(S.styleClasses.bgClass,p.bgClass||"")),S.styleClasses.textClass&&(p.textClass=mt(S.styleClasses.textClass,p.textClass||""))),p.map.length==0&&p.map.push(0,0,p.content.appendChild(_e(s.display.measure))),y==0?(f.measure.map=p.map,f.measure.cache={}):((f.measure.maps||(f.measure.maps=[])).push(p.map),(f.measure.caches||(f.measure.caches=[])).push({}))}if(c){var j=p.content.lastChild;(/\bcm-tab\b/.test(j.className)||j.querySelector&&j.querySelector(".cm-tab"))&&(p.content.className="cm-tab-wrap-hack")}return re(s,"renderLine",s,f.line,p.pre),p.pre.className&&(p.textClass=mt(p.pre.className,p.textClass||"")),p}function Gd(s){var f=F("span","•","cm-invalidchar");return f.title="\\u"+s.charCodeAt(0).toString(16),f.setAttribute("aria-label",f.title),f}function Yd(s,f,v,p,y,S,D){if(f){var M=s.splitSpaces?Ll(f,s.trailingSpace):f,j=s.cm.state.specialChars,B=!1,lt;if(!j.test(f))s.col+=f.length,lt=document.createTextNode(M),s.map.push(s.pos,s.pos+f.length,lt),l&&u<9&&(B=!0),s.pos+=f.length;else{lt=document.createDocumentFragment();for(var ht=0;;){j.lastIndex=ht;var kt=j.exec(f),Et=kt?kt.index-ht:f.length-ht;if(Et){var jt=document.createTextNode(M.slice(ht,ht+Et));l&&u<9?lt.appendChild(F("span",[jt])):lt.appendChild(jt),s.map.push(s.pos,s.pos+Et,jt),s.col+=Et,s.pos+=Et}if(!kt)break;ht+=Et+1;var Yt=void 0;if(kt[0]=="	"){var ee=s.cm.options.tabSize,ue=ee-s.col%ee;Yt=lt.appendChild(F("span",It(ue),"cm-tab")),Yt.setAttribute("role","presentation"),Yt.setAttribute("cm-text","	"),s.col+=ue}else kt[0]=="\r"||kt[0]==`
`?(Yt=lt.appendChild(F("span",kt[0]=="\r"?"␍":"␤","cm-invalidchar")),Yt.setAttribute("cm-text",kt[0]),s.col+=1):(Yt=s.cm.options.specialCharPlaceholder(kt[0]),Yt.setAttribute("cm-text",kt[0]),l&&u<9?lt.appendChild(F("span",[Yt])):lt.appendChild(Yt),s.col+=1);s.map.push(s.pos,s.pos+1,Yt),s.pos++}}if(s.trailingSpace=M.charCodeAt(f.length-1)==32,v||p||y||B||S||D){var he=v||"";p&&(he+=p),y&&(he+=y);var ce=F("span",[lt],he,S);if(D)for(var ve in D)D.hasOwnProperty(ve)&&ve!="style"&&ve!="class"&&ce.setAttribute(ve,D[ve]);return s.content.appendChild(ce)}s.content.appendChild(lt)}}function Ll(s,f){if(s.length>1&&!/  /.test(s))return s;for(var v=f,p="",y=0;y<s.length;y++){var S=s.charAt(y);S==" "&&v&&(y==s.length-1||s.charCodeAt(y+1)==32)&&(S=" "),p+=S,v=S==" "}return p}function Xd(s,f){return function(v,p,y,S,D,M,j){y=y?y+" cm-force-border":"cm-force-border";for(var B=v.pos,lt=B+p.length;;){for(var ht=void 0,kt=0;kt<f.length&&(ht=f[kt],!(ht.to>B&&ht.from<=B));kt++);if(ht.to>=lt)return s(v,p,y,S,D,M,j);s(v,p.slice(0,ht.to-B),y,S,null,M,j),S=null,p=p.slice(ht.to-B),B=ht.to}}}function Tc(s,f,v,p){var y=!p&&v.widgetNode;y&&s.map.push(s.pos,s.pos+f,y),!p&&s.cm.display.input.needsContentAttribute&&(y||(y=s.content.appendChild(document.createElement("span"))),y.setAttribute("cm-marker",v.id)),y&&(s.cm.display.input.setUneditable(y),s.content.appendChild(y)),s.pos+=f,s.trailingSpace=!1}function Zd(s,f,v){var p=s.markedSpans,y=s.text,S=0;if(!p){for(var D=1;D<v.length;D+=2)f.addToken(f,y.slice(S,S=v[D]),Ec(v[D+1],f.cm.options));return}for(var M=y.length,j=0,B=1,lt="",ht,kt,Et=0,jt,Yt,ee,ue,he;;){if(Et==j){jt=Yt=ee=kt="",he=null,ue=null,Et=1/0;for(var ce=[],ve=void 0,Se=0;Se<p.length;++Se){var be=p[Se],Re=be.marker;if(Re.type=="bookmark"&&be.from==j&&Re.widgetNode)ce.push(Re);else if(be.from<=j&&(be.to==null||be.to>j||Re.collapsed&&be.to==j&&be.from==j)){if(be.to!=null&&be.to!=j&&Et>be.to&&(Et=be.to,Yt=""),Re.className&&(jt+=" "+Re.className),Re.css&&(kt=(kt?kt+";":"")+Re.css),Re.startStyle&&be.from==j&&(ee+=" "+Re.startStyle),Re.endStyle&&be.to==Et&&(ve||(ve=[])).push(Re.endStyle,be.to),Re.title&&((he||(he={})).title=Re.title),Re.attributes)for(var ln in Re.attributes)(he||(he={}))[ln]=Re.attributes[ln];Re.collapsed&&(!ue||na(ue.marker,Re)<0)&&(ue=be)}else be.from>j&&Et>be.from&&(Et=be.from)}if(ve)for(var sr=0;sr<ve.length;sr+=2)ve[sr+1]==Et&&(Yt+=" "+ve[sr]);if(!ue||ue.from==j)for(var En=0;En<ce.length;++En)Tc(f,0,ce[En]);if(ue&&(ue.from||0)==j){if(Tc(f,(ue.to==null?M+1:ue.to)-j,ue.marker,ue.from==null),ue.to==null)return;ue.to==j&&(ue=!1)}}if(j>=M)break;for(var ci=Math.min(M,Et);;){if(lt){var Kr=j+lt.length;if(!ue){var Kn=Kr>ci?lt.slice(0,ci-j):lt;f.addToken(f,Kn,ht?ht+jt:jt,ee,j+Kn.length==Et?Yt:"",kt,he)}if(Kr>=ci){lt=lt.slice(ci-j),j=ci;break}j=Kr,ee=""}lt=y.slice(S,S=v[B++]),ht=Ec(v[B++],f.cm.options)}}}function Ac(s,f,v){this.line=f,this.rest=kr(f),this.size=this.rest?Ie(R(this.rest))-v+1:1,this.node=this.text=null,this.hidden=zr(s,f)}function Nl(s,f,v){for(var p=[],y,S=f;S<v;S=y){var D=new Ac(s.doc,pe(s.doc,S),S);y=S+D.size,p.push(D)}return p}var ia=null;function $d(s){ia?ia.ops.push(s):s.ownsGroup=ia={ops:[s],delayedCallbacks:[]}}function em(s){var f=s.delayedCallbacks,v=0;do{for(;v<f.length;v++)f[v].call(null);for(var p=0;p<s.ops.length;p++){var y=s.ops[p];if(y.cursorActivityHandlers)for(;y.cursorActivityCalled<y.cursorActivityHandlers.length;)y.cursorActivityHandlers[y.cursorActivityCalled++].call(null,y.cm)}}while(v<f.length)}function Dc(s,f){var v=s.ownsGroup;if(v)try{em(v)}finally{ia=null,f(v)}}var Ba=null;function kn(s,f){var v=Gt(s,f);if(v.length){var p=Array.prototype.slice.call(arguments,2),y;ia?y=ia.delayedCallbacks:Ba?y=Ba:(y=Ba=[],setTimeout(Fa,0));for(var S=function(M){y.push(function(){return v[M].apply(null,p)})},D=0;D<v.length;++D)S(D)}}function Fa(){var s=Ba;Ba=null;for(var f=0;f<s.length;++f)s[f]()}function Po(s,f,v,p){for(var y=0;y<f.changes.length;y++){var S=f.changes[y];S=="text"?Pc(s,f):S=="gutter"?Ha(s,f,v,p):S=="class"?jl(s,f):S=="widget"&&Qd(s,f,p)}f.changes=null}function za(s){return s.node==s.text&&(s.node=F("div",null,null,"position: relative"),s.text.parentNode&&s.text.parentNode.replaceChild(s.node,s.text),s.node.appendChild(s.text),l&&u<8&&(s.node.style.zIndex=2)),s.node}function Jd(s,f){var v=f.bgClass?f.bgClass+" "+(f.line.bgClass||""):f.line.bgClass;if(v&&(v+=" CodeMirror-linebackground"),f.background)v?f.background.className=v:(f.background.parentNode.removeChild(f.background),f.background=null);else if(v){var p=za(f);f.background=p.insertBefore(F("div",null,v),p.firstChild),s.display.input.setUneditable(f.background)}}function kc(s,f){var v=s.display.externalMeasured;return v&&v.line==f.line?(s.display.externalMeasured=null,f.measure=v.measure,v.built):Rl(s,f)}function Pc(s,f){var v=f.text.className,p=kc(s,f);f.text==f.node&&(f.node=p.pre),f.text.parentNode.replaceChild(p.pre,f.text),f.text=p.pre,p.bgClass!=f.bgClass||p.textClass!=f.textClass?(f.bgClass=p.bgClass,f.textClass=p.textClass,jl(s,f)):v&&(f.text.className=v)}function jl(s,f){Jd(s,f),f.line.wrapClass?za(f).className=f.line.wrapClass:f.node!=f.text&&(f.node.className="");var v=f.textClass?f.textClass+" "+(f.line.textClass||""):f.line.textClass;f.text.className=v||""}function Ha(s,f,v,p){if(f.gutter&&(f.node.removeChild(f.gutter),f.gutter=null),f.gutterBackground&&(f.node.removeChild(f.gutterBackground),f.gutterBackground=null),f.line.gutterClass){var y=za(f);f.gutterBackground=F("div",null,"CodeMirror-gutter-background "+f.line.gutterClass,"left: "+(s.options.fixedGutter?p.fixedPos:-p.gutterTotalWidth)+"px; width: "+p.gutterTotalWidth+"px"),s.display.input.setUneditable(f.gutterBackground),y.insertBefore(f.gutterBackground,f.text)}var S=f.line.gutterMarkers;if(s.options.lineNumbers||S){var D=za(f),M=f.gutter=F("div",null,"CodeMirror-gutter-wrapper","left: "+(s.options.fixedGutter?p.fixedPos:-p.gutterTotalWidth)+"px");if(M.setAttribute("aria-hidden","true"),s.display.input.setUneditable(M),D.insertBefore(M,f.text),f.line.gutterClass&&(M.className+=" "+f.line.gutterClass),s.options.lineNumbers&&(!S||!S["CodeMirror-linenumbers"])&&(f.lineNumber=M.appendChild(F("div",Ti(s.options,v),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+p.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+s.display.lineNumInnerWidth+"px"))),S)for(var j=0;j<s.display.gutterSpecs.length;++j){var B=s.display.gutterSpecs[j].className,lt=S.hasOwnProperty(B)&&S[B];lt&&M.appendChild(F("div",[lt],"CodeMirror-gutter-elt","left: "+p.gutterLeft[B]+"px; width: "+p.gutterWidth[B]+"px"))}}}function Qd(s,f,v){f.alignable&&(f.alignable=null);for(var p=P("CodeMirror-linewidget"),y=f.node.firstChild,S=void 0;y;y=S)S=y.nextSibling,p.test(y.className)&&f.node.removeChild(y);Wa(s,f,v)}function th(s,f,v,p){var y=kc(s,f);return f.text=f.node=y.pre,y.bgClass&&(f.bgClass=y.bgClass),y.textClass&&(f.textClass=y.textClass),jl(s,f),Ha(s,f,v,p),Wa(s,f,p),f.node}function Wa(s,f,v){if(Mc(s,f.line,f,v,!0),f.rest)for(var p=0;p<f.rest.length;p++)Mc(s,f.rest[p],f,v,!1)}function Mc(s,f,v,p,y){if(f.widgets)for(var S=za(v),D=0,M=f.widgets;D<M.length;++D){var j=M[D],B=F("div",[j.node],"CodeMirror-linewidget"+(j.className?" "+j.className:""));j.handleMouseEvents||B.setAttribute("cm-ignore-events","true"),eh(j,B,v,p),s.display.input.setUneditable(B),y&&j.above?S.insertBefore(B,v.gutter||v.text):S.appendChild(B),kn(j,"redraw")}}function eh(s,f,v,p){if(s.noHScroll){(v.alignable||(v.alignable=[])).push(f);var y=p.wrapperWidth;f.style.left=p.fixedPos+"px",s.coverGutter||(y-=p.gutterTotalWidth,f.style.paddingLeft=p.gutterTotalWidth+"px"),f.style.width=y+"px"}s.coverGutter&&(f.style.zIndex=5,f.style.position="relative",s.noHScroll||(f.style.marginLeft=-p.gutterTotalWidth+"px"))}function Ka(s){if(s.height!=null)return s.height;var f=s.doc.cm;if(!f)return 0;if(!L(document.body,s.node)){var v="position: relative;";s.coverGutter&&(v+="margin-left: -"+f.display.gutters.offsetWidth+"px;"),s.noHScroll&&(v+="width: "+f.display.wrapper.clientWidth+"px;"),k(f.display.measure,F("div",[s.node],null,v))}return s.height=s.node.parentNode.offsetHeight}function Ji(s,f){for(var v=gt(f);v!=s.wrapper;v=v.parentNode)if(!v||v.nodeType==1&&v.getAttribute("cm-ignore-events")=="true"||v.parentNode==s.sizer&&v!=s.mover)return!0}function qa(s){return s.lineSpace.offsetTop}function Us(s){return s.mover.offsetHeight-s.lineSpace.offsetHeight}function nh(s){if(s.cachedPaddingH)return s.cachedPaddingH;var f=k(s.measure,F("pre","x","CodeMirror-line-like")),v=window.getComputedStyle?window.getComputedStyle(f):f.currentStyle,p={left:parseInt(v.paddingLeft),right:parseInt(v.paddingRight)};return!isNaN(p.left)&&!isNaN(p.right)&&(s.cachedPaddingH=p),p}function li(s){return Qt-s.display.nativeBarWidth}function oa(s){return s.display.scroller.clientWidth-li(s)-s.display.barWidth}function V(s){return s.display.scroller.clientHeight-li(s)-s.display.barHeight}function G(s,f,v){var p=s.options.lineWrapping,y=p&&oa(s);if(!f.measure.heights||p&&f.measure.width!=y){var S=f.measure.heights=[];if(p){f.measure.width=y;for(var D=f.text.firstChild.getClientRects(),M=0;M<D.length-1;M++){var j=D[M],B=D[M+1];Math.abs(j.bottom-B.bottom)>2&&S.push((j.bottom+B.top)/2-v.top)}}S.push(v.bottom-v.top)}}function ft(s,f,v){if(s.line==f)return{map:s.measure.map,cache:s.measure.cache};for(var p=0;p<s.rest.length;p++)if(s.rest[p]==f)return{map:s.measure.maps[p],cache:s.measure.caches[p]};for(var y=0;y<s.rest.length;y++)if(Ie(s.rest[y])>v)return{map:s.measure.maps[y],cache:s.measure.caches[y],before:!0}}function _t(s,f){f=wn(f);var v=Ie(f),p=s.display.externalMeasured=new Ac(s.doc,f,v);p.lineN=v;var y=p.built=Rl(s,p);return p.text=y.pre,k(s.display.lineMeasure,y.pre),p}function Pt(s,f,v,p){return oe(s,Kt(s,f),v,p)}function At(s,f){if(f>=s.display.viewFrom&&f<s.display.viewTo)return s.display.view[zs(s,f)];var v=s.display.externalMeasured;if(v&&f>=v.lineN&&f<v.lineN+v.size)return v}function Kt(s,f){var v=Ie(f),p=At(s,v);p&&!p.text?p=null:p&&p.changes&&(Po(s,p,v,am(s)),s.curOp.forceUpdate=!0),p||(p=_t(s,f));var y=ft(p,f,v);return{line:f,view:p,rect:null,map:y.map,cache:y.cache,before:y.before,hasHeights:!1}}function oe(s,f,v,p,y){f.before&&(v=-1);var S=v+(p||""),D;return f.cache.hasOwnProperty(S)?D=f.cache[S]:(f.rect||(f.rect=f.view.text.getBoundingClientRect()),f.hasHeights||(G(s,f.view,f.rect),f.hasHeights=!0),D=wr(s,f,v,p),D.bogus||(f.cache[S]=D)),{left:D.left,right:D.right,top:y?D.rtop:D.top,bottom:y?D.rbottom:D.bottom}}var De={left:0,right:0,top:0,bottom:0};function Te(s,f,v){for(var p,y,S,D,M,j,B=0;B<s.length;B+=3)if(M=s[B],j=s[B+1],f<M?(y=0,S=1,D="left"):f<j?(y=f-M,S=y+1):(B==s.length-3||f==j&&s[B+3]>f)&&(S=j-M,y=S-1,f>=j&&(D="right")),y!=null){if(p=s[B+2],M==j&&v==(p.insertLeft?"left":"right")&&(D=v),v=="left"&&y==0)for(;B&&s[B-2]==s[B-3]&&s[B-1].insertLeft;)p=s[(B-=3)+2],D="left";if(v=="right"&&y==j-M)for(;B<s.length-3&&s[B+3]==s[B+4]&&!s[B+5].insertLeft;)p=s[(B+=3)+2],D="right";break}return{node:p,start:y,end:S,collapse:D,coverStart:M,coverEnd:j}}function $n(s,f){var v=De;if(f=="left")for(var p=0;p<s.length&&(v=s[p]).left==v.right;p++);else for(var y=s.length-1;y>=0&&(v=s[y]).left==v.right;y--);return v}function wr(s,f,v,p){var y=Te(f.map,v,p),S=y.node,D=y.start,M=y.end,j=y.collapse,B;if(S.nodeType==3){for(var lt=0;lt<4;lt++){for(;D&&dt(f.line.text.charAt(y.coverStart+D));)--D;for(;y.coverStart+M<y.coverEnd&&dt(f.line.text.charAt(y.coverStart+M));)++M;if(l&&u<9&&D==0&&M==y.coverEnd-y.coverStart?B=S.parentNode.getBoundingClientRect():B=$n(nt(S,D,M).getClientRects(),p),B.left||B.right||D==0)break;M=D,D=D-1,j="right"}l&&u<11&&(B=rh(s.display.measure,B))}else{D>0&&(j=p="right");var ht;s.options.lineWrapping&&(ht=S.getClientRects()).length>1?B=ht[p=="right"?ht.length-1:0]:B=S.getBoundingClientRect()}if(l&&u<9&&!D&&(!B||!B.left&&!B.right)){var kt=S.parentNode.getClientRects()[0];kt?B={left:kt.left,right:kt.left+Vl(s.display),top:kt.top,bottom:kt.bottom}:B=De}for(var Et=B.top-f.rect.top,jt=B.bottom-f.rect.top,Yt=(Et+jt)/2,ee=f.view.measure.heights,ue=0;ue<ee.length-1&&!(Yt<ee[ue]);ue++);var he=ue?ee[ue-1]:0,ce=ee[ue],ve={left:(j=="right"?B.right:B.left)-f.rect.left,right:(j=="left"?B.left:B.right)-f.rect.left,top:he,bottom:ce};return!B.left&&!B.right&&(ve.bogus=!0),s.options.singleCursorHeightPerLine||(ve.rtop=Et,ve.rbottom=jt),ve}function rh(s,f){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!Tr(s))return f;var v=screen.logicalXDPI/screen.deviceXDPI,p=screen.logicalYDPI/screen.deviceYDPI;return{left:f.left*v,right:f.right*v,top:f.top*p,bottom:f.bottom*p}}function Rc(s){if(s.measure&&(s.measure.cache={},s.measure.heights=null,s.rest))for(var f=0;f<s.rest.length;f++)s.measure.caches[f]={}}function Pw(s){s.display.externalMeasure=null,H(s.display.lineMeasure);for(var f=0;f<s.display.view.length;f++)Rc(s.display.view[f])}function Lc(s){Pw(s),s.display.cachedCharWidth=s.display.cachedTextHeight=s.display.cachedPaddingH=null,s.options.lineWrapping||(s.display.maxLineChanged=!0),s.display.lineNumChars=null}function Mw(){return h&&_?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function Rw(){return h&&_?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function nm(s){var f=0;if(s.widgets)for(var v=0;v<s.widgets.length;++v)s.widgets[v].above&&(f+=Ka(s.widgets[v]));return f}function ih(s,f,v,p,y){if(!y){var S=nm(f);v.top+=S,v.bottom+=S}if(p=="line")return v;p||(p="local");var D=$i(f);if(p=="local"?D+=qa(s.display):D-=s.display.viewOffset,p=="page"||p=="window"){var M=s.display.lineSpace.getBoundingClientRect();D+=M.top+(p=="window"?0:Rw());var j=M.left+(p=="window"?0:Mw());v.left+=j,v.right+=j}return v.top+=D,v.bottom+=D,v}function Lw(s,f,v){if(v=="div")return f;var p=f.left,y=f.top;if(v=="page")p-=Mw(),y-=Rw();else if(v=="local"||!v){var S=s.display.sizer.getBoundingClientRect();p+=S.left,y+=S.top}var D=s.display.lineSpace.getBoundingClientRect();return{left:p-D.left,top:y-D.top}}function oh(s,f,v,p,y){return p||(p=pe(s.doc,f.line)),ih(s,p,Pt(s,p,f.ch,y),v)}function yo(s,f,v,p,y,S){p=p||pe(s.doc,f.line),y||(y=Kt(s,p));function D(jt,Yt){var ee=oe(s,y,jt,Yt?"right":"left",S);return Yt?ee.left=ee.right:ee.right=ee.left,ih(s,p,ee,v)}var M=K(p,s.doc.direction),j=f.ch,B=f.sticky;if(j>=p.text.length?(j=p.text.length,B="before"):j<=0&&(j=0,B="after"),!M)return D(B=="before"?j-1:j,B=="before");function lt(jt,Yt,ee){var ue=M[Yt],he=ue.level==1;return D(ee?jt-1:jt,he!=ee)}var ht=et(M,j,B),kt=se,Et=lt(j,ht,B=="before");return kt!=null&&(Et.other=lt(j,kt,B!="before")),Et}function Nw(s,f){var v=0;f=te(s.doc,f),s.options.lineWrapping||(v=Vl(s.display)*f.ch);var p=pe(s.doc,f.line),y=$i(p)+qa(s.display);return{left:v,right:v,top:y,bottom:y+p.height}}function rm(s,f,v,p,y){var S=Xt(s,f,v);return S.xRel=y,p&&(S.outside=p),S}function im(s,f,v){var p=s.doc;if(v+=s.display.viewOffset,v<0)return rm(p.first,0,null,-1,-1);var y=on(p,v),S=p.first+p.size-1;if(y>S)return rm(p.first+p.size-1,pe(p,S).text.length,null,1,1);f<0&&(f=0);for(var D=pe(p,y);;){var M=Ck(s,D,y,f,v),j=ze(D,M.ch+(M.xRel>0||M.outside>0?1:0));if(!j)return M;var B=j.find(1);if(B.line==y)return B;D=pe(p,y=B.line)}}function jw(s,f,v,p){p-=nm(f);var y=f.text.length,S=zt(function(D){return oe(s,v,D-1).bottom<=p},y,0);return y=zt(function(D){return oe(s,v,D).top>p},S,y),{begin:S,end:y}}function Iw(s,f,v,p){v||(v=Kt(s,f));var y=ih(s,f,oe(s,v,p),"line").top;return jw(s,f,v,y)}function om(s,f,v,p){return s.bottom<=v?!1:s.top>v?!0:(p?s.left:s.right)>f}function Ck(s,f,v,p,y){y-=$i(f);var S=Kt(s,f),D=nm(f),M=0,j=f.text.length,B=!0,lt=K(f,s.doc.direction);if(lt){var ht=(s.options.lineWrapping?Ok:xk)(s,f,v,S,lt,p,y);B=ht.level!=1,M=B?ht.from:ht.to-1,j=B?ht.to:ht.from-1}var kt=null,Et=null,jt=zt(function(Se){var be=oe(s,S,Se);return be.top+=D,be.bottom+=D,om(be,p,y,!1)?(be.top<=y&&be.left<=p&&(kt=Se,Et=be),!0):!1},M,j),Yt,ee,ue=!1;if(Et){var he=p-Et.left<Et.right-p,ce=he==B;jt=kt+(ce?0:1),ee=ce?"after":"before",Yt=he?Et.left:Et.right}else{!B&&(jt==j||jt==M)&&jt++,ee=jt==0?"after":jt==f.text.length?"before":oe(s,S,jt-(B?1:0)).bottom+D<=y==B?"after":"before";var ve=yo(s,Xt(v,jt,ee),"line",f,S);Yt=ve.left,ue=y<ve.top?-1:y>=ve.bottom?1:0}return jt=ut(f.text,jt,1),rm(v,jt,ee,ue,p-Yt)}function xk(s,f,v,p,y,S,D){var M=zt(function(ht){var kt=y[ht],Et=kt.level!=1;return om(yo(s,Xt(v,Et?kt.to:kt.from,Et?"before":"after"),"line",f,p),S,D,!0)},0,y.length-1),j=y[M];if(M>0){var B=j.level!=1,lt=yo(s,Xt(v,B?j.from:j.to,B?"after":"before"),"line",f,p);om(lt,S,D,!0)&&lt.top>D&&(j=y[M-1])}return j}function Ok(s,f,v,p,y,S,D){var M=jw(s,f,p,D),j=M.begin,B=M.end;/\s/.test(f.text.charAt(B-1))&&B--;for(var lt=null,ht=null,kt=0;kt<y.length;kt++){var Et=y[kt];if(!(Et.from>=B||Et.to<=j)){var jt=Et.level!=1,Yt=oe(s,p,jt?Math.min(B,Et.to)-1:Math.max(j,Et.from)).right,ee=Yt<S?S-Yt+1e9:Yt-S;(!lt||ht>ee)&&(lt=Et,ht=ee)}}return lt||(lt=y[y.length-1]),lt.from<j&&(lt={from:j,to:lt.to,level:lt.level}),lt.to>B&&(lt={from:lt.from,to:B,level:lt.level}),lt}var Bs;function Il(s){if(s.cachedTextHeight!=null)return s.cachedTextHeight;if(Bs==null){Bs=F("pre",null,"CodeMirror-line-like");for(var f=0;f<49;++f)Bs.appendChild(document.createTextNode("x")),Bs.appendChild(F("br"));Bs.appendChild(document.createTextNode("x"))}k(s.measure,Bs);var v=Bs.offsetHeight/50;return v>3&&(s.cachedTextHeight=v),H(s.measure),v||1}function Vl(s){if(s.cachedCharWidth!=null)return s.cachedCharWidth;var f=F("span","xxxxxxxxxx"),v=F("pre",[f],"CodeMirror-line-like");k(s.measure,v);var p=f.getBoundingClientRect(),y=(p.right-p.left)/10;return y>2&&(s.cachedCharWidth=y),y||10}function am(s){for(var f=s.display,v={},p={},y=f.gutters.clientLeft,S=f.gutters.firstChild,D=0;S;S=S.nextSibling,++D){var M=s.display.gutterSpecs[D].className;v[M]=S.offsetLeft+S.clientLeft+y,p[M]=S.clientWidth}return{fixedPos:sm(f),gutterTotalWidth:f.gutters.offsetWidth,gutterLeft:v,gutterWidth:p,wrapperWidth:f.wrapper.clientWidth}}function sm(s){return s.scroller.getBoundingClientRect().left-s.sizer.getBoundingClientRect().left}function Vw(s){var f=Il(s.display),v=s.options.lineWrapping,p=v&&Math.max(5,s.display.scroller.clientWidth/Vl(s.display)-3);return function(y){if(zr(s.doc,y))return 0;var S=0;if(y.widgets)for(var D=0;D<y.widgets.length;D++)y.widgets[D].height&&(S+=y.widgets[D].height);return v?S+(Math.ceil(y.text.length/p)||1)*f:S+f}}function lm(s){var f=s.doc,v=Vw(s);f.iter(function(p){var y=v(p);y!=p.height&&rr(p,y)})}function Fs(s,f,v,p){var y=s.display;if(!v&&gt(f).getAttribute("cm-not-content")=="true")return null;var S,D,M=y.lineSpace.getBoundingClientRect();try{S=f.clientX-M.left,D=f.clientY-M.top}catch{return null}var j=im(s,S,D),B;if(p&&j.xRel>0&&(B=pe(s.doc,j.line).text).length==j.ch){var lt=Rt(B,B.length,s.options.tabSize)-B.length;j=Xt(j.line,Math.max(0,Math.round((S-nh(s.display).left)/Vl(s.display))-lt))}return j}function zs(s,f){if(f>=s.display.viewTo||(f-=s.display.viewFrom,f<0))return null;for(var v=s.display.view,p=0;p<v.length;p++)if(f-=v[p].size,f<0)return p}function Hr(s,f,v,p){f==null&&(f=s.doc.first),v==null&&(v=s.doc.first+s.doc.size),p||(p=0);var y=s.display;if(p&&v<y.viewTo&&(y.updateLineNumbers==null||y.updateLineNumbers>f)&&(y.updateLineNumbers=f),s.curOp.viewChanged=!0,f>=y.viewTo)Xn&&Zi(s.doc,f)<y.viewTo&&Ya(s);else if(v<=y.viewFrom)Xn&&Fr(s.doc,v+p)>y.viewFrom?Ya(s):(y.viewFrom+=p,y.viewTo+=p);else if(f<=y.viewFrom&&v>=y.viewTo)Ya(s);else if(f<=y.viewFrom){var S=ah(s,v,v+p,1);S?(y.view=y.view.slice(S.index),y.viewFrom=S.lineN,y.viewTo+=p):Ya(s)}else if(v>=y.viewTo){var D=ah(s,f,f,-1);D?(y.view=y.view.slice(0,D.index),y.viewTo=D.lineN):Ya(s)}else{var M=ah(s,f,f,-1),j=ah(s,v,v+p,1);M&&j?(y.view=y.view.slice(0,M.index).concat(Nl(s,M.lineN,j.lineN)).concat(y.view.slice(j.index)),y.viewTo+=p):Ya(s)}var B=y.externalMeasured;B&&(v<B.lineN?B.lineN+=p:f<B.lineN+B.size&&(y.externalMeasured=null))}function Ga(s,f,v){s.curOp.viewChanged=!0;var p=s.display,y=s.display.externalMeasured;if(y&&f>=y.lineN&&f<y.lineN+y.size&&(p.externalMeasured=null),!(f<p.viewFrom||f>=p.viewTo)){var S=p.view[zs(s,f)];if(S.node!=null){var D=S.changes||(S.changes=[]);Mt(D,v)==-1&&D.push(v)}}}function Ya(s){s.display.viewFrom=s.display.viewTo=s.doc.first,s.display.view=[],s.display.viewOffset=0}function ah(s,f,v,p){var y=zs(s,f),S,D=s.display.view;if(!Xn||v==s.doc.first+s.doc.size)return{index:y,lineN:v};for(var M=s.display.viewFrom,j=0;j<y;j++)M+=D[j].size;if(M!=f){if(p>0){if(y==D.length-1)return null;S=M+D[y].size-f,y++}else S=M-f;f+=S,v+=S}for(;Zi(s.doc,v)!=v;){if(y==(p<0?0:D.length-1))return null;v+=p*D[y-(p<0?1:0)].size,y+=p}return{index:y,lineN:v}}function Ek(s,f,v){var p=s.display,y=p.view;y.length==0||f>=p.viewTo||v<=p.viewFrom?(p.view=Nl(s,f,v),p.viewFrom=f):(p.viewFrom>f?p.view=Nl(s,f,p.viewFrom).concat(p.view):p.viewFrom<f&&(p.view=p.view.slice(zs(s,f))),p.viewFrom=f,p.viewTo<v?p.view=p.view.concat(Nl(s,p.viewTo,v)):p.viewTo>v&&(p.view=p.view.slice(0,zs(s,v)))),p.viewTo=v}function Uw(s){for(var f=s.display.view,v=0,p=0;p<f.length;p++){var y=f[p];!y.hidden&&(!y.node||y.changes)&&++v}return v}function Nc(s){s.display.input.showSelection(s.display.input.prepareSelection())}function Bw(s,f){f===void 0&&(f=!0);for(var v=s.doc,p={},y=p.cursors=document.createDocumentFragment(),S=p.selection=document.createDocumentFragment(),D=0;D<v.sel.ranges.length;D++)if(!(!f&&D==v.sel.primIndex)){var M=v.sel.ranges[D];if(!(M.from().line>=s.display.viewTo||M.to().line<s.display.viewFrom)){var j=M.empty();(j||s.options.showCursorWhenSelecting)&&Fw(s,M.head,y),j||Tk(s,M,S)}}return p}function Fw(s,f,v){var p=yo(s,f,"div",null,null,!s.options.singleCursorHeightPerLine),y=v.appendChild(F("div"," ","CodeMirror-cursor"));if(y.style.left=p.left+"px",y.style.top=p.top+"px",y.style.height=Math.max(0,p.bottom-p.top)*s.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(s.getWrapperElement().className)){var S=oh(s,f,"div",null,null);S.right-S.left>0&&(y.style.width=S.right-S.left+"px")}if(p.other){var D=v.appendChild(F("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));D.style.display="",D.style.left=p.other.left+"px",D.style.top=p.other.top+"px",D.style.height=(p.other.bottom-p.other.top)*.85+"px"}}function sh(s,f){return s.top-f.top||s.left-f.left}function Tk(s,f,v){var p=s.display,y=s.doc,S=document.createDocumentFragment(),D=nh(s.display),M=D.left,j=Math.max(p.sizerWidth,oa(s)-p.sizer.offsetLeft)-D.right,B=y.direction=="ltr";function lt(ce,ve,Se,be){ve<0&&(ve=0),ve=Math.round(ve),be=Math.round(be),S.appendChild(F("div",null,"CodeMirror-selected","position: absolute; left: "+ce+`px;
                             top: `+ve+"px; width: "+(Se??j-ce)+`px;
                             height: `+(be-ve)+"px"))}function ht(ce,ve,Se){var be=pe(y,ce),Re=be.text.length,ln,sr;function En(Kn,qr){return oh(s,Xt(ce,Kn),"div",be,qr)}function ci(Kn,qr,pr){var Jn=Iw(s,be,null,Kn),qn=qr=="ltr"==(pr=="after")?"left":"right",Pn=pr=="after"?Jn.begin:Jn.end-(/\s/.test(be.text.charAt(Jn.end-1))?2:1);return En(Pn,qn)[qn]}var Kr=K(be,y.direction);return fe(Kr,ve||0,Se??Re,function(Kn,qr,pr,Jn){var qn=pr=="ltr",Pn=En(Kn,qn?"left":"right"),Gr=En(qr-1,qn?"right":"left"),$l=ve==null&&Kn==0,ts=Se==null&&qr==Re,Cr=Jn==0,Mo=!Kr||Jn==Kr.length-1;if(Gr.top-Pn.top<=3){var lr=(B?$l:ts)&&Cr,Lm=(B?ts:$l)&&Mo,sa=lr?M:(qn?Pn:Gr).left,Gs=Lm?j:(qn?Gr:Pn).right;lt(sa,Pn.top,Gs-sa,Pn.bottom)}else{var Ys,Mr,Jl,Nm;qn?(Ys=B&&$l&&Cr?M:Pn.left,Mr=B?j:ci(Kn,pr,"before"),Jl=B?M:ci(qr,pr,"after"),Nm=B&&ts&&Mo?j:Gr.right):(Ys=B?ci(Kn,pr,"before"):M,Mr=!B&&$l&&Cr?j:Pn.right,Jl=!B&&ts&&Mo?M:Gr.left,Nm=B?ci(qr,pr,"after"):j),lt(Ys,Pn.top,Mr-Ys,Pn.bottom),Pn.bottom<Gr.top&&lt(M,Pn.bottom,null,Gr.top),lt(Jl,Gr.top,Nm-Jl,Gr.bottom)}(!ln||sh(Pn,ln)<0)&&(ln=Pn),sh(Gr,ln)<0&&(ln=Gr),(!sr||sh(Pn,sr)<0)&&(sr=Pn),sh(Gr,sr)<0&&(sr=Gr)}),{start:ln,end:sr}}var kt=f.from(),Et=f.to();if(kt.line==Et.line)ht(kt.line,kt.ch,Et.ch);else{var jt=pe(y,kt.line),Yt=pe(y,Et.line),ee=wn(jt)==wn(Yt),ue=ht(kt.line,kt.ch,ee?jt.text.length+1:null).end,he=ht(Et.line,ee?0:null,Et.ch).start;ee&&(ue.top<he.top-2?(lt(ue.right,ue.top,null,ue.bottom),lt(M,he.top,he.left,he.bottom)):lt(ue.right,ue.top,he.left-ue.right,ue.bottom)),ue.bottom<he.top&&lt(M,ue.bottom,null,he.top)}v.appendChild(S)}function um(s){if(s.state.focused){var f=s.display;clearInterval(f.blinker);var v=!0;f.cursorDiv.style.visibility="",s.options.cursorBlinkRate>0?f.blinker=setInterval(function(){s.hasFocus()||Ul(s),f.cursorDiv.style.visibility=(v=!v)?"":"hidden"},s.options.cursorBlinkRate):s.options.cursorBlinkRate<0&&(f.cursorDiv.style.visibility="hidden")}}function zw(s){s.hasFocus()||(s.display.input.focus(),s.state.focused||fm(s))}function cm(s){s.state.delayingBlurEvent=!0,setTimeout(function(){s.state.delayingBlurEvent&&(s.state.delayingBlurEvent=!1,s.state.focused&&Ul(s))},100)}function fm(s,f){s.state.delayingBlurEvent&&!s.state.draggingText&&(s.state.delayingBlurEvent=!1),s.options.readOnly!="nocursor"&&(s.state.focused||(re(s,"focus",s,f),s.state.focused=!0,pt(s.display.wrapper,"CodeMirror-focused"),!s.curOp&&s.display.selForContextMenu!=s.doc.sel&&(s.display.input.reset(),c&&setTimeout(function(){return s.display.input.reset(!0)},20)),s.display.input.receivedFocus()),um(s))}function Ul(s,f){s.state.delayingBlurEvent||(s.state.focused&&(re(s,"blur",s,f),s.state.focused=!1,tt(s.display.wrapper,"CodeMirror-focused")),clearInterval(s.display.blinker),setTimeout(function(){s.state.focused||(s.display.shift=!1)},150))}function lh(s){for(var f=s.display,v=f.lineDiv.offsetTop,p=Math.max(0,f.scroller.getBoundingClientRect().top),y=f.lineDiv.getBoundingClientRect().top,S=0,D=0;D<f.view.length;D++){var M=f.view[D],j=s.options.lineWrapping,B=void 0,lt=0;if(!M.hidden){if(y+=M.line.height,l&&u<8){var ht=M.node.offsetTop+M.node.offsetHeight;B=ht-v,v=ht}else{var kt=M.node.getBoundingClientRect();B=kt.bottom-kt.top,!j&&M.text.firstChild&&(lt=M.text.firstChild.getBoundingClientRect().right-kt.left-1)}var Et=M.line.height-B;if((Et>.005||Et<-.005)&&(y<p&&(S-=Et),rr(M.line,B),Hw(M.line),M.rest))for(var jt=0;jt<M.rest.length;jt++)Hw(M.rest[jt]);if(lt>s.display.sizerWidth){var Yt=Math.ceil(lt/Vl(s.display));Yt>s.display.maxLineLength&&(s.display.maxLineLength=Yt,s.display.maxLine=M.line,s.display.maxLineChanged=!0)}}}Math.abs(S)>2&&(f.scroller.scrollTop+=S)}function Hw(s){if(s.widgets)for(var f=0;f<s.widgets.length;++f){var v=s.widgets[f],p=v.node.parentNode;p&&(v.height=p.offsetHeight)}}function uh(s,f,v){var p=v&&v.top!=null?Math.max(0,v.top):s.scroller.scrollTop;p=Math.floor(p-qa(s));var y=v&&v.bottom!=null?v.bottom:p+s.wrapper.clientHeight,S=on(f,p),D=on(f,y);if(v&&v.ensure){var M=v.ensure.from.line,j=v.ensure.to.line;M<S?(S=M,D=on(f,$i(pe(f,M))+s.wrapper.clientHeight)):Math.min(j,f.lastLine())>=D&&(S=on(f,$i(pe(f,j))-s.wrapper.clientHeight),D=j)}return{from:S,to:Math.max(D,S+1)}}function Ak(s,f){if(!ie(s,"scrollCursorIntoView")){var v=s.display,p=v.sizer.getBoundingClientRect(),y=null;if(f.top+p.top<0?y=!0:f.bottom+p.top>(window.innerHeight||document.documentElement.clientHeight)&&(y=!1),y!=null&&!w){var S=F("div","​",null,`position: absolute;
                         top: `+(f.top-v.viewOffset-qa(s.display))+`px;
                         height: `+(f.bottom-f.top+li(s)+v.barHeight)+`px;
                         left: `+f.left+"px; width: "+Math.max(2,f.right-f.left)+"px;");s.display.lineSpace.appendChild(S),S.scrollIntoView(y),s.display.lineSpace.removeChild(S)}}}function Dk(s,f,v,p){p==null&&(p=0);var y;!s.options.lineWrapping&&f==v&&(v=f.sticky=="before"?Xt(f.line,f.ch+1,"before"):f,f=f.ch?Xt(f.line,f.sticky=="before"?f.ch-1:f.ch,"after"):f);for(var S=0;S<5;S++){var D=!1,M=yo(s,f),j=!v||v==f?M:yo(s,v);y={left:Math.min(M.left,j.left),top:Math.min(M.top,j.top)-p,right:Math.max(M.left,j.left),bottom:Math.max(M.bottom,j.bottom)+p};var B=dm(s,y),lt=s.doc.scrollTop,ht=s.doc.scrollLeft;if(B.scrollTop!=null&&(Ic(s,B.scrollTop),Math.abs(s.doc.scrollTop-lt)>1&&(D=!0)),B.scrollLeft!=null&&(Hs(s,B.scrollLeft),Math.abs(s.doc.scrollLeft-ht)>1&&(D=!0)),!D)break}return y}function kk(s,f){var v=dm(s,f);v.scrollTop!=null&&Ic(s,v.scrollTop),v.scrollLeft!=null&&Hs(s,v.scrollLeft)}function dm(s,f){var v=s.display,p=Il(s.display);f.top<0&&(f.top=0);var y=s.curOp&&s.curOp.scrollTop!=null?s.curOp.scrollTop:v.scroller.scrollTop,S=V(s),D={};f.bottom-f.top>S&&(f.bottom=f.top+S);var M=s.doc.height+Us(v),j=f.top<p,B=f.bottom>M-p;if(f.top<y)D.scrollTop=j?0:f.top;else if(f.bottom>y+S){var lt=Math.min(f.top,(B?M:f.bottom)-S);lt!=y&&(D.scrollTop=lt)}var ht=s.options.fixedGutter?0:v.gutters.offsetWidth,kt=s.curOp&&s.curOp.scrollLeft!=null?s.curOp.scrollLeft:v.scroller.scrollLeft-ht,Et=oa(s)-v.gutters.offsetWidth,jt=f.right-f.left>Et;return jt&&(f.right=f.left+Et),f.left<10?D.scrollLeft=0:f.left<kt?D.scrollLeft=Math.max(0,f.left+ht-(jt?0:10)):f.right>Et+kt-3&&(D.scrollLeft=f.right+(jt?0:10)-Et),D}function hm(s,f){f!=null&&(ch(s),s.curOp.scrollTop=(s.curOp.scrollTop==null?s.doc.scrollTop:s.curOp.scrollTop)+f)}function Bl(s){ch(s);var f=s.getCursor();s.curOp.scrollToPos={from:f,to:f,margin:s.options.cursorScrollMargin}}function jc(s,f,v){(f!=null||v!=null)&&ch(s),f!=null&&(s.curOp.scrollLeft=f),v!=null&&(s.curOp.scrollTop=v)}function Pk(s,f){ch(s),s.curOp.scrollToPos=f}function ch(s){var f=s.curOp.scrollToPos;if(f){s.curOp.scrollToPos=null;var v=Nw(s,f.from),p=Nw(s,f.to);Ww(s,v,p,f.margin)}}function Ww(s,f,v,p){var y=dm(s,{left:Math.min(f.left,v.left),top:Math.min(f.top,v.top)-p,right:Math.max(f.right,v.right),bottom:Math.max(f.bottom,v.bottom)+p});jc(s,y.scrollLeft,y.scrollTop)}function Ic(s,f){Math.abs(s.doc.scrollTop-f)<2||(n||vm(s,{top:f}),Kw(s,f,!0),n&&vm(s),Bc(s,100))}function Kw(s,f,v){f=Math.max(0,Math.min(s.display.scroller.scrollHeight-s.display.scroller.clientHeight,f)),!(s.display.scroller.scrollTop==f&&!v)&&(s.doc.scrollTop=f,s.display.scrollbars.setScrollTop(f),s.display.scroller.scrollTop!=f&&(s.display.scroller.scrollTop=f))}function Hs(s,f,v,p){f=Math.max(0,Math.min(f,s.display.scroller.scrollWidth-s.display.scroller.clientWidth)),!((v?f==s.doc.scrollLeft:Math.abs(s.doc.scrollLeft-f)<2)&&!p)&&(s.doc.scrollLeft=f,Zw(s),s.display.scroller.scrollLeft!=f&&(s.display.scroller.scrollLeft=f),s.display.scrollbars.setScrollLeft(f))}function Vc(s){var f=s.display,v=f.gutters.offsetWidth,p=Math.round(s.doc.height+Us(s.display));return{clientHeight:f.scroller.clientHeight,viewHeight:f.wrapper.clientHeight,scrollWidth:f.scroller.scrollWidth,clientWidth:f.scroller.clientWidth,viewWidth:f.wrapper.clientWidth,barLeft:s.options.fixedGutter?v:0,docHeight:p,scrollHeight:p+li(s)+f.barHeight,nativeBarWidth:f.nativeBarWidth,gutterWidth:v}}var Ws=function(s,f,v){this.cm=v;var p=this.vert=F("div",[F("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),y=this.horiz=F("div",[F("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");p.tabIndex=y.tabIndex=-1,s(p),s(y),Ot(p,"scroll",function(){p.clientHeight&&f(p.scrollTop,"vertical")}),Ot(y,"scroll",function(){y.clientWidth&&f(y.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,l&&u<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Ws.prototype.update=function(s){var f=s.scrollWidth>s.clientWidth+1,v=s.scrollHeight>s.clientHeight+1,p=s.nativeBarWidth;if(v){this.vert.style.display="block",this.vert.style.bottom=f?p+"px":"0";var y=s.viewHeight-(f?p:0);this.vert.firstChild.style.height=Math.max(0,s.scrollHeight-s.clientHeight+y)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(f){this.horiz.style.display="block",this.horiz.style.right=v?p+"px":"0",this.horiz.style.left=s.barLeft+"px";var S=s.viewWidth-s.barLeft-(v?p:0);this.horiz.firstChild.style.width=Math.max(0,s.scrollWidth-s.clientWidth+S)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&s.clientHeight>0&&(p==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:v?p:0,bottom:f?p:0}},Ws.prototype.setScrollLeft=function(s){this.horiz.scrollLeft!=s&&(this.horiz.scrollLeft=s),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Ws.prototype.setScrollTop=function(s){this.vert.scrollTop!=s&&(this.vert.scrollTop=s),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Ws.prototype.zeroWidthHack=function(){var s=O&&!b?"12px":"18px";this.horiz.style.height=this.vert.style.width=s,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new wt,this.disableVert=new wt},Ws.prototype.enableZeroWidthBar=function(s,f,v){s.style.pointerEvents="auto";function p(){var y=s.getBoundingClientRect(),S=v=="vert"?document.elementFromPoint(y.right-1,(y.top+y.bottom)/2):document.elementFromPoint((y.right+y.left)/2,y.bottom-1);S!=s?s.style.pointerEvents="none":f.set(1e3,p)}f.set(1e3,p)},Ws.prototype.clear=function(){var s=this.horiz.parentNode;s.removeChild(this.horiz),s.removeChild(this.vert)};var Uc=function(){};Uc.prototype.update=function(){return{bottom:0,right:0}},Uc.prototype.setScrollLeft=function(){},Uc.prototype.setScrollTop=function(){},Uc.prototype.clear=function(){};function Fl(s,f){f||(f=Vc(s));var v=s.display.barWidth,p=s.display.barHeight;qw(s,f);for(var y=0;y<4&&v!=s.display.barWidth||p!=s.display.barHeight;y++)v!=s.display.barWidth&&s.options.lineWrapping&&lh(s),qw(s,Vc(s)),v=s.display.barWidth,p=s.display.barHeight}function qw(s,f){var v=s.display,p=v.scrollbars.update(f);v.sizer.style.paddingRight=(v.barWidth=p.right)+"px",v.sizer.style.paddingBottom=(v.barHeight=p.bottom)+"px",v.heightForcer.style.borderBottom=p.bottom+"px solid transparent",p.right&&p.bottom?(v.scrollbarFiller.style.display="block",v.scrollbarFiller.style.height=p.bottom+"px",v.scrollbarFiller.style.width=p.right+"px"):v.scrollbarFiller.style.display="",p.bottom&&s.options.coverGutterNextToScrollbar&&s.options.fixedGutter?(v.gutterFiller.style.display="block",v.gutterFiller.style.height=p.bottom+"px",v.gutterFiller.style.width=f.gutterWidth+"px"):v.gutterFiller.style.display=""}var Gw={native:Ws,null:Uc};function Yw(s){s.display.scrollbars&&(s.display.scrollbars.clear(),s.display.scrollbars.addClass&&tt(s.display.wrapper,s.display.scrollbars.addClass)),s.display.scrollbars=new Gw[s.options.scrollbarStyle](function(f){s.display.wrapper.insertBefore(f,s.display.scrollbarFiller),Ot(f,"mousedown",function(){s.state.focused&&setTimeout(function(){return s.display.input.focus()},0)}),f.setAttribute("cm-not-content","true")},function(f,v){v=="horizontal"?Hs(s,f):Ic(s,f)},s),s.display.scrollbars.addClass&&pt(s.display.wrapper,s.display.scrollbars.addClass)}var Mk=0;function Ks(s){s.curOp={cm:s,viewChanged:!1,startHeight:s.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Mk,markArrays:null},$d(s.curOp)}function qs(s){var f=s.curOp;f&&Dc(f,function(v){for(var p=0;p<v.ops.length;p++)v.ops[p].cm.curOp=null;Rk(v)})}function Rk(s){for(var f=s.ops,v=0;v<f.length;v++)Lk(f[v]);for(var p=0;p<f.length;p++)Nk(f[p]);for(var y=0;y<f.length;y++)jk(f[y]);for(var S=0;S<f.length;S++)Ik(f[S]);for(var D=0;D<f.length;D++)Vk(f[D])}function Lk(s){var f=s.cm,v=f.display;Bk(f),s.updateMaxLine&&Ua(f),s.mustUpdate=s.viewChanged||s.forceUpdate||s.scrollTop!=null||s.scrollToPos&&(s.scrollToPos.from.line<v.viewFrom||s.scrollToPos.to.line>=v.viewTo)||v.maxLineChanged&&f.options.lineWrapping,s.update=s.mustUpdate&&new fh(f,s.mustUpdate&&{top:s.scrollTop,ensure:s.scrollToPos},s.forceUpdate)}function Nk(s){s.updatedDisplay=s.mustUpdate&&pm(s.cm,s.update)}function jk(s){var f=s.cm,v=f.display;s.updatedDisplay&&lh(f),s.barMeasure=Vc(f),v.maxLineChanged&&!f.options.lineWrapping&&(s.adjustWidthTo=Pt(f,v.maxLine,v.maxLine.text.length).left+3,f.display.sizerWidth=s.adjustWidthTo,s.barMeasure.scrollWidth=Math.max(v.scroller.clientWidth,v.sizer.offsetLeft+s.adjustWidthTo+li(f)+f.display.barWidth),s.maxScrollLeft=Math.max(0,v.sizer.offsetLeft+s.adjustWidthTo-oa(f))),(s.updatedDisplay||s.selectionChanged)&&(s.preparedSelection=v.input.prepareSelection())}function Ik(s){var f=s.cm;s.adjustWidthTo!=null&&(f.display.sizer.style.minWidth=s.adjustWidthTo+"px",s.maxScrollLeft<f.doc.scrollLeft&&Hs(f,Math.min(f.display.scroller.scrollLeft,s.maxScrollLeft),!0),f.display.maxLineChanged=!1);var v=s.focus&&s.focus==ot();s.preparedSelection&&f.display.input.showSelection(s.preparedSelection,v),(s.updatedDisplay||s.startHeight!=f.doc.height)&&Fl(f,s.barMeasure),s.updatedDisplay&&mm(f,s.barMeasure),s.selectionChanged&&um(f),f.state.focused&&s.updateInput&&f.display.input.reset(s.typing),v&&zw(s.cm)}function Vk(s){var f=s.cm,v=f.display,p=f.doc;if(s.updatedDisplay&&Xw(f,s.update),v.wheelStartX!=null&&(s.scrollTop!=null||s.scrollLeft!=null||s.scrollToPos)&&(v.wheelStartX=v.wheelStartY=null),s.scrollTop!=null&&Kw(f,s.scrollTop,s.forceScroll),s.scrollLeft!=null&&Hs(f,s.scrollLeft,!0,!0),s.scrollToPos){var y=Dk(f,te(p,s.scrollToPos.from),te(p,s.scrollToPos.to),s.scrollToPos.margin);Ak(f,y)}var S=s.maybeHiddenMarkers,D=s.maybeUnhiddenMarkers;if(S)for(var M=0;M<S.length;++M)S[M].lines.length||re(S[M],"hide");if(D)for(var j=0;j<D.length;++j)D[j].lines.length&&re(D[j],"unhide");v.wrapper.offsetHeight&&(p.scrollTop=f.display.scroller.scrollTop),s.changeObjs&&re(f,"changes",f,s.changeObjs),s.update&&s.update.finish()}function ui(s,f){if(s.curOp)return f();Ks(s);try{return f()}finally{qs(s)}}function or(s,f){return function(){if(s.curOp)return f.apply(s,arguments);Ks(s);try{return f.apply(s,arguments)}finally{qs(s)}}}function Pr(s){return function(){if(this.curOp)return s.apply(this,arguments);Ks(this);try{return s.apply(this,arguments)}finally{qs(this)}}}function ar(s){return function(){var f=this.cm;if(!f||f.curOp)return s.apply(this,arguments);Ks(f);try{return s.apply(this,arguments)}finally{qs(f)}}}function Bc(s,f){s.doc.highlightFrontier<s.display.viewTo&&s.state.highlight.set(f,St(Uk,s))}function Uk(s){var f=s.doc;if(!(f.highlightFrontier>=s.display.viewTo)){var v=+new Date+s.options.workTime,p=Zo(s,f.highlightFrontier),y=[];f.iter(p.line,Math.min(f.first+f.size,s.display.viewTo+500),function(S){if(p.line>=s.display.viewFrom){var D=S.styles,M=S.text.length>s.options.maxHighlightLength?Fn(f.mode,p.state):null,j=ai(s,S,p,!0);M&&(p.state=M),S.styles=j.styles;var B=S.styleClasses,lt=j.classes;lt?S.styleClasses=lt:B&&(S.styleClasses=null);for(var ht=!D||D.length!=S.styles.length||B!=lt&&(!B||!lt||B.bgClass!=lt.bgClass||B.textClass!=lt.textClass),kt=0;!ht&&kt<D.length;++kt)ht=D[kt]!=S.styles[kt];ht&&y.push(p.line),S.stateAfter=p.save(),p.nextLine()}else S.text.length<=s.options.maxHighlightLength&&$o(s,S.text,p),S.stateAfter=p.line%5==0?p.save():null,p.nextLine();if(+new Date>v)return Bc(s,s.options.workDelay),!0}),f.highlightFrontier=p.line,f.modeFrontier=Math.max(f.modeFrontier,p.line),y.length&&ui(s,function(){for(var S=0;S<y.length;S++)Ga(s,y[S],"text")})}}var fh=function(s,f,v){var p=s.display;this.viewport=f,this.visible=uh(p,s.doc,f),this.editorIsHidden=!p.wrapper.offsetWidth,this.wrapperHeight=p.wrapper.clientHeight,this.wrapperWidth=p.wrapper.clientWidth,this.oldDisplayWidth=oa(s),this.force=v,this.dims=am(s),this.events=[]};fh.prototype.signal=function(s,f){Ee(s,f)&&this.events.push(arguments)},fh.prototype.finish=function(){for(var s=0;s<this.events.length;s++)re.apply(null,this.events[s])};function Bk(s){var f=s.display;!f.scrollbarsClipped&&f.scroller.offsetWidth&&(f.nativeBarWidth=f.scroller.offsetWidth-f.scroller.clientWidth,f.heightForcer.style.height=li(s)+"px",f.sizer.style.marginBottom=-f.nativeBarWidth+"px",f.sizer.style.borderRightWidth=li(s)+"px",f.scrollbarsClipped=!0)}function Fk(s){if(s.hasFocus())return null;var f=ot();if(!f||!L(s.display.lineDiv,f))return null;var v={activeElt:f};if(window.getSelection){var p=window.getSelection();p.anchorNode&&p.extend&&L(s.display.lineDiv,p.anchorNode)&&(v.anchorNode=p.anchorNode,v.anchorOffset=p.anchorOffset,v.focusNode=p.focusNode,v.focusOffset=p.focusOffset)}return v}function zk(s){if(!(!s||!s.activeElt||s.activeElt==ot())&&(s.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(s.activeElt.nodeName)&&s.anchorNode&&L(document.body,s.anchorNode)&&L(document.body,s.focusNode))){var f=window.getSelection(),v=document.createRange();v.setEnd(s.anchorNode,s.anchorOffset),v.collapse(!1),f.removeAllRanges(),f.addRange(v),f.extend(s.focusNode,s.focusOffset)}}function pm(s,f){var v=s.display,p=s.doc;if(f.editorIsHidden)return Ya(s),!1;if(!f.force&&f.visible.from>=v.viewFrom&&f.visible.to<=v.viewTo&&(v.updateLineNumbers==null||v.updateLineNumbers>=v.viewTo)&&v.renderedView==v.view&&Uw(s)==0)return!1;$w(s)&&(Ya(s),f.dims=am(s));var y=p.first+p.size,S=Math.max(f.visible.from-s.options.viewportMargin,p.first),D=Math.min(y,f.visible.to+s.options.viewportMargin);v.viewFrom<S&&S-v.viewFrom<20&&(S=Math.max(p.first,v.viewFrom)),v.viewTo>D&&v.viewTo-D<20&&(D=Math.min(y,v.viewTo)),Xn&&(S=Zi(s.doc,S),D=Fr(s.doc,D));var M=S!=v.viewFrom||D!=v.viewTo||v.lastWrapHeight!=f.wrapperHeight||v.lastWrapWidth!=f.wrapperWidth;Ek(s,S,D),v.viewOffset=$i(pe(s.doc,v.viewFrom)),s.display.mover.style.top=v.viewOffset+"px";var j=Uw(s);if(!M&&j==0&&!f.force&&v.renderedView==v.view&&(v.updateLineNumbers==null||v.updateLineNumbers>=v.viewTo))return!1;var B=Fk(s);return j>4&&(v.lineDiv.style.display="none"),Hk(s,v.updateLineNumbers,f.dims),j>4&&(v.lineDiv.style.display=""),v.renderedView=v.view,zk(B),H(v.cursorDiv),H(v.selectionDiv),v.gutters.style.height=v.sizer.style.minHeight=0,M&&(v.lastWrapHeight=f.wrapperHeight,v.lastWrapWidth=f.wrapperWidth,Bc(s,400)),v.updateLineNumbers=null,!0}function Xw(s,f){for(var v=f.viewport,p=!0;;p=!1){if(!p||!s.options.lineWrapping||f.oldDisplayWidth==oa(s)){if(v&&v.top!=null&&(v={top:Math.min(s.doc.height+Us(s.display)-V(s),v.top)}),f.visible=uh(s.display,s.doc,v),f.visible.from>=s.display.viewFrom&&f.visible.to<=s.display.viewTo)break}else p&&(f.visible=uh(s.display,s.doc,v));if(!pm(s,f))break;lh(s);var y=Vc(s);Nc(s),Fl(s,y),mm(s,y),f.force=!1}f.signal(s,"update",s),(s.display.viewFrom!=s.display.reportedViewFrom||s.display.viewTo!=s.display.reportedViewTo)&&(f.signal(s,"viewportChange",s,s.display.viewFrom,s.display.viewTo),s.display.reportedViewFrom=s.display.viewFrom,s.display.reportedViewTo=s.display.viewTo)}function vm(s,f){var v=new fh(s,f);if(pm(s,v)){lh(s),Xw(s,v);var p=Vc(s);Nc(s),Fl(s,p),mm(s,p),v.finish()}}function Hk(s,f,v){var p=s.display,y=s.options.lineNumbers,S=p.lineDiv,D=S.firstChild;function M(jt){var Yt=jt.nextSibling;return c&&O&&s.display.currentWheelTarget==jt?jt.style.display="none":jt.parentNode.removeChild(jt),Yt}for(var j=p.view,B=p.viewFrom,lt=0;lt<j.length;lt++){var ht=j[lt];if(!ht.hidden)if(!ht.node||ht.node.parentNode!=S){var kt=th(s,ht,B,v);S.insertBefore(kt,D)}else{for(;D!=ht.node;)D=M(D);var Et=y&&f!=null&&f<=B&&ht.lineNumber;ht.changes&&(Mt(ht.changes,"gutter")>-1&&(Et=!1),Po(s,ht,B,v)),Et&&(H(ht.lineNumber),ht.lineNumber.appendChild(document.createTextNode(Ti(s.options,B)))),D=ht.node.nextSibling}B+=ht.size}for(;D;)D=M(D)}function gm(s){var f=s.gutters.offsetWidth;s.sizer.style.marginLeft=f+"px",kn(s,"gutterChanged",s)}function mm(s,f){s.display.sizer.style.minHeight=f.docHeight+"px",s.display.heightForcer.style.top=f.docHeight+"px",s.display.gutters.style.height=f.docHeight+s.display.barHeight+li(s)+"px"}function Zw(s){var f=s.display,v=f.view;if(!(!f.alignWidgets&&(!f.gutters.firstChild||!s.options.fixedGutter))){for(var p=sm(f)-f.scroller.scrollLeft+s.doc.scrollLeft,y=f.gutters.offsetWidth,S=p+"px",D=0;D<v.length;D++)if(!v[D].hidden){s.options.fixedGutter&&(v[D].gutter&&(v[D].gutter.style.left=S),v[D].gutterBackground&&(v[D].gutterBackground.style.left=S));var M=v[D].alignable;if(M)for(var j=0;j<M.length;j++)M[j].style.left=S}s.options.fixedGutter&&(f.gutters.style.left=p+y+"px")}}function $w(s){if(!s.options.lineNumbers)return!1;var f=s.doc,v=Ti(s.options,f.first+f.size-1),p=s.display;if(v.length!=p.lineNumChars){var y=p.measure.appendChild(F("div",[F("div",v)],"CodeMirror-linenumber CodeMirror-gutter-elt")),S=y.firstChild.offsetWidth,D=y.offsetWidth-S;return p.lineGutter.style.width="",p.lineNumInnerWidth=Math.max(S,p.lineGutter.offsetWidth-D)+1,p.lineNumWidth=p.lineNumInnerWidth+D,p.lineNumChars=p.lineNumInnerWidth?v.length:-1,p.lineGutter.style.width=p.lineNumWidth+"px",gm(s.display),!0}return!1}function ym(s,f){for(var v=[],p=!1,y=0;y<s.length;y++){var S=s[y],D=null;if(typeof S!="string"&&(D=S.style,S=S.className),S=="CodeMirror-linenumbers")if(f)p=!0;else continue;v.push({className:S,style:D})}return f&&!p&&v.push({className:"CodeMirror-linenumbers",style:null}),v}function Jw(s){var f=s.gutters,v=s.gutterSpecs;H(f),s.lineGutter=null;for(var p=0;p<v.length;++p){var y=v[p],S=y.className,D=y.style,M=f.appendChild(F("div",null,"CodeMirror-gutter "+S));D&&(M.style.cssText=D),S=="CodeMirror-linenumbers"&&(s.lineGutter=M,M.style.width=(s.lineNumWidth||1)+"px")}f.style.display=v.length?"":"none",gm(s)}function Fc(s){Jw(s.display),Hr(s),Zw(s)}function Wk(s,f,v,p){var y=this;this.input=v,y.scrollbarFiller=F("div",null,"CodeMirror-scrollbar-filler"),y.scrollbarFiller.setAttribute("cm-not-content","true"),y.gutterFiller=F("div",null,"CodeMirror-gutter-filler"),y.gutterFiller.setAttribute("cm-not-content","true"),y.lineDiv=T("div",null,"CodeMirror-code"),y.selectionDiv=F("div",null,null,"position: relative; z-index: 1"),y.cursorDiv=F("div",null,"CodeMirror-cursors"),y.measure=F("div",null,"CodeMirror-measure"),y.lineMeasure=F("div",null,"CodeMirror-measure"),y.lineSpace=T("div",[y.measure,y.lineMeasure,y.selectionDiv,y.cursorDiv,y.lineDiv],null,"position: relative; outline: none");var S=T("div",[y.lineSpace],"CodeMirror-lines");y.mover=F("div",[S],null,"position: relative"),y.sizer=F("div",[y.mover],"CodeMirror-sizer"),y.sizerWidth=null,y.heightForcer=F("div",null,null,"position: absolute; height: "+Qt+"px; width: 1px;"),y.gutters=F("div",null,"CodeMirror-gutters"),y.lineGutter=null,y.scroller=F("div",[y.sizer,y.heightForcer,y.gutters],"CodeMirror-scroll"),y.scroller.setAttribute("tabIndex","-1"),y.wrapper=F("div",[y.scrollbarFiller,y.gutterFiller,y.scroller],"CodeMirror"),y.wrapper.setAttribute("translate","no"),l&&u<8&&(y.gutters.style.zIndex=-1,y.scroller.style.paddingRight=0),!c&&!(n&&C)&&(y.scroller.draggable=!0),s&&(s.appendChild?s.appendChild(y.wrapper):s(y.wrapper)),y.viewFrom=y.viewTo=f.first,y.reportedViewFrom=y.reportedViewTo=f.first,y.view=[],y.renderedView=null,y.externalMeasured=null,y.viewOffset=0,y.lastWrapHeight=y.lastWrapWidth=0,y.updateLineNumbers=null,y.nativeBarWidth=y.barHeight=y.barWidth=0,y.scrollbarsClipped=!1,y.lineNumWidth=y.lineNumInnerWidth=y.lineNumChars=null,y.alignWidgets=!1,y.cachedCharWidth=y.cachedTextHeight=y.cachedPaddingH=null,y.maxLine=null,y.maxLineLength=0,y.maxLineChanged=!1,y.wheelDX=y.wheelDY=y.wheelStartX=y.wheelStartY=null,y.shift=!1,y.selForContextMenu=null,y.activeTouch=null,y.gutterSpecs=ym(p.gutters,p.lineNumbers),Jw(y),v.init(y)}var dh=0,Ri=null;l?Ri=-.53:n?Ri=15:h?Ri=-.7:m&&(Ri=-1/3);function Qw(s){var f=s.wheelDeltaX,v=s.wheelDeltaY;return f==null&&s.detail&&s.axis==s.HORIZONTAL_AXIS&&(f=s.detail),v==null&&s.detail&&s.axis==s.VERTICAL_AXIS?v=s.detail:v==null&&(v=s.wheelDelta),{x:f,y:v}}function Kk(s){var f=Qw(s);return f.x*=Ri,f.y*=Ri,f}function tS(s,f){var v=Qw(f),p=v.x,y=v.y,S=s.display,D=S.scroller,M=D.scrollWidth>D.clientWidth,j=D.scrollHeight>D.clientHeight;if(p&&M||y&&j){if(y&&O&&c){t:for(var B=f.target,lt=S.view;B!=D;B=B.parentNode)for(var ht=0;ht<lt.length;ht++)if(lt[ht].node==B){s.display.currentWheelTarget=B;break t}}if(p&&!n&&!g&&Ri!=null){y&&j&&Ic(s,Math.max(0,D.scrollTop+y*Ri)),Hs(s,Math.max(0,D.scrollLeft+p*Ri)),(!y||y&&j)&&Me(f),S.wheelStartX=null;return}if(y&&Ri!=null){var kt=y*Ri,Et=s.doc.scrollTop,jt=Et+S.wrapper.clientHeight;kt<0?Et=Math.max(0,Et+kt-50):jt=Math.min(s.doc.height,jt+kt+50),vm(s,{top:Et,bottom:jt})}dh<20&&(S.wheelStartX==null?(S.wheelStartX=D.scrollLeft,S.wheelStartY=D.scrollTop,S.wheelDX=p,S.wheelDY=y,setTimeout(function(){if(S.wheelStartX!=null){var Yt=D.scrollLeft-S.wheelStartX,ee=D.scrollTop-S.wheelStartY,ue=ee&&S.wheelDY&&ee/S.wheelDY||Yt&&S.wheelDX&&Yt/S.wheelDX;S.wheelStartX=S.wheelStartY=null,ue&&(Ri=(Ri*dh+ue)/(dh+1),++dh)}},200)):(S.wheelDX+=p,S.wheelDY+=y))}}var Li=function(s,f){this.ranges=s,this.primIndex=f};Li.prototype.primary=function(){return this.ranges[this.primIndex]},Li.prototype.equals=function(s){if(s==this)return!0;if(s.primIndex!=this.primIndex||s.ranges.length!=this.ranges.length)return!1;for(var f=0;f<this.ranges.length;f++){var v=this.ranges[f],p=s.ranges[f];if(!Ai(v.anchor,p.anchor)||!Ai(v.head,p.head))return!1}return!0},Li.prototype.deepCopy=function(){for(var s=[],f=0;f<this.ranges.length;f++)s[f]=new Qe(q(this.ranges[f].anchor),q(this.ranges[f].head));return new Li(s,this.primIndex)},Li.prototype.somethingSelected=function(){for(var s=0;s<this.ranges.length;s++)if(!this.ranges[s].empty())return!0;return!1},Li.prototype.contains=function(s,f){f||(f=s);for(var v=0;v<this.ranges.length;v++){var p=this.ranges[v];if(we(f,p.from())>=0&&we(s,p.to())<=0)return v}return-1};var Qe=function(s,f){this.anchor=s,this.head=f};Qe.prototype.from=function(){return Vt(this.anchor,this.head)},Qe.prototype.to=function(){return ct(this.anchor,this.head)},Qe.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function _o(s,f,v){var p=s&&s.options.selectionsMayTouch,y=f[v];f.sort(function(kt,Et){return we(kt.from(),Et.from())}),v=Mt(f,y);for(var S=1;S<f.length;S++){var D=f[S],M=f[S-1],j=we(M.to(),D.from());if(p&&!D.empty()?j>0:j>=0){var B=Vt(M.from(),D.from()),lt=ct(M.to(),D.to()),ht=M.empty()?D.from()==D.head:M.from()==M.head;S<=v&&--v,f.splice(--S,2,new Qe(ht?lt:B,ht?B:lt))}}return new Li(f,v)}function Xa(s,f){return new Li([new Qe(s,f||s)],0)}function Za(s){return s.text?Xt(s.from.line+s.text.length-1,R(s.text).length+(s.text.length==1?s.from.ch:0)):s.to}function eS(s,f){if(we(s,f.from)<0)return s;if(we(s,f.to)<=0)return Za(f);var v=s.line+f.text.length-(f.to.line-f.from.line)-1,p=s.ch;return s.line==f.to.line&&(p+=Za(f).ch-f.to.ch),Xt(v,p)}function _m(s,f){for(var v=[],p=0;p<s.sel.ranges.length;p++){var y=s.sel.ranges[p];v.push(new Qe(eS(y.anchor,f),eS(y.head,f)))}return _o(s.cm,v,s.sel.primIndex)}function nS(s,f,v){return s.line==f.line?Xt(v.line,s.ch-f.ch+v.ch):Xt(v.line+(s.line-f.line),s.ch)}function qk(s,f,v){for(var p=[],y=Xt(s.first,0),S=y,D=0;D<f.length;D++){var M=f[D],j=nS(M.from,y,S),B=nS(Za(M),y,S);if(y=M.to,S=B,v=="around"){var lt=s.sel.ranges[D],ht=we(lt.head,lt.anchor)<0;p[D]=new Qe(ht?B:j,ht?j:B)}else p[D]=new Qe(j,j)}return new Li(p,s.sel.primIndex)}function bm(s){s.doc.mode=Ce(s.options,s.doc.modeOption),zc(s)}function zc(s){s.doc.iter(function(f){f.stateAfter&&(f.stateAfter=null),f.styles&&(f.styles=null)}),s.doc.modeFrontier=s.doc.highlightFrontier=s.doc.first,Bc(s,100),s.state.modeGen++,s.curOp&&Hr(s)}function rS(s,f){return f.from.ch==0&&f.to.ch==0&&R(f.text)==""&&(!s.cm||s.cm.options.wholeLineUpdateBefore)}function wm(s,f,v,p){function y(he){return v?v[he]:null}function S(he,ce,ve){Kd(he,ce,ve,p),kn(he,"change",he,f)}function D(he,ce){for(var ve=[],Se=he;Se<ce;++Se)ve.push(new ir(B[Se],y(Se),p));return ve}var M=f.from,j=f.to,B=f.text,lt=pe(s,M.line),ht=pe(s,j.line),kt=R(B),Et=y(B.length-1),jt=j.line-M.line;if(f.full)s.insert(0,D(0,B.length)),s.remove(B.length,s.size-B.length);else if(rS(s,f)){var Yt=D(0,B.length-1);S(ht,ht.text,Et),jt&&s.remove(M.line,jt),Yt.length&&s.insert(M.line,Yt)}else if(lt==ht)if(B.length==1)S(lt,lt.text.slice(0,M.ch)+kt+lt.text.slice(j.ch),Et);else{var ee=D(1,B.length-1);ee.push(new ir(kt+lt.text.slice(j.ch),Et,p)),S(lt,lt.text.slice(0,M.ch)+B[0],y(0)),s.insert(M.line+1,ee)}else if(B.length==1)S(lt,lt.text.slice(0,M.ch)+B[0]+ht.text.slice(j.ch),y(0)),s.remove(M.line+1,jt);else{S(lt,lt.text.slice(0,M.ch)+B[0],y(0)),S(ht,kt+ht.text.slice(j.ch),Et);var ue=D(1,B.length-1);jt>1&&s.remove(M.line+1,jt-1),s.insert(M.line+1,ue)}kn(s,"change",s,f)}function $a(s,f,v){function p(y,S,D){if(y.linked)for(var M=0;M<y.linked.length;++M){var j=y.linked[M];if(j.doc!=S){var B=D&&j.sharedHist;v&&!B||(f(j.doc,B),p(j.doc,y,B))}}}p(s,null,!0)}function iS(s,f){if(f.cm)throw new Error("This document is already in use.");s.doc=f,f.cm=s,lm(s),bm(s),oS(s),s.options.direction=f.direction,s.options.lineWrapping||Ua(s),s.options.mode=f.modeOption,Hr(s)}function oS(s){(s.doc.direction=="rtl"?pt:tt)(s.display.lineDiv,"CodeMirror-rtl")}function Gk(s){ui(s,function(){oS(s),Hr(s)})}function hh(s){this.done=[],this.undone=[],this.undoDepth=s?s.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=s?s.maxGeneration:1}function Sm(s,f){var v={from:q(f.from),to:Za(f),text:nr(s,f.from,f.to)};return lS(s,v,f.from.line,f.to.line+1),$a(s,function(p){return lS(p,v,f.from.line,f.to.line+1)},!0),v}function aS(s){for(;s.length;){var f=R(s);if(f.ranges)s.pop();else break}}function Yk(s,f){if(f)return aS(s.done),R(s.done);if(s.done.length&&!R(s.done).ranges)return R(s.done);if(s.done.length>1&&!s.done[s.done.length-2].ranges)return s.done.pop(),R(s.done)}function sS(s,f,v,p){var y=s.history;y.undone.length=0;var S=+new Date,D,M;if((y.lastOp==p||y.lastOrigin==f.origin&&f.origin&&(f.origin.charAt(0)=="+"&&y.lastModTime>S-(s.cm?s.cm.options.historyEventDelay:500)||f.origin.charAt(0)=="*"))&&(D=Yk(y,y.lastOp==p)))M=R(D.changes),we(f.from,f.to)==0&&we(f.from,M.to)==0?M.to=Za(f):D.changes.push(Sm(s,f));else{var j=R(y.done);for((!j||!j.ranges)&&ph(s.sel,y.done),D={changes:[Sm(s,f)],generation:y.generation},y.done.push(D);y.done.length>y.undoDepth;)y.done.shift(),y.done[0].ranges||y.done.shift()}y.done.push(v),y.generation=++y.maxGeneration,y.lastModTime=y.lastSelTime=S,y.lastOp=y.lastSelOp=p,y.lastOrigin=y.lastSelOrigin=f.origin,M||re(s,"historyAdded")}function Xk(s,f,v,p){var y=f.charAt(0);return y=="*"||y=="+"&&v.ranges.length==p.ranges.length&&v.somethingSelected()==p.somethingSelected()&&new Date-s.history.lastSelTime<=(s.cm?s.cm.options.historyEventDelay:500)}function Zk(s,f,v,p){var y=s.history,S=p&&p.origin;v==y.lastSelOp||S&&y.lastSelOrigin==S&&(y.lastModTime==y.lastSelTime&&y.lastOrigin==S||Xk(s,S,R(y.done),f))?y.done[y.done.length-1]=f:ph(f,y.done),y.lastSelTime=+new Date,y.lastSelOrigin=S,y.lastSelOp=v,p&&p.clearRedo!==!1&&aS(y.undone)}function ph(s,f){var v=R(f);v&&v.ranges&&v.equals(s)||f.push(s)}function lS(s,f,v,p){var y=f["spans_"+s.id],S=0;s.iter(Math.max(s.first,v),Math.min(s.first+s.size,p),function(D){D.markedSpans&&((y||(y=f["spans_"+s.id]={}))[S]=D.markedSpans),++S})}function $k(s){if(!s)return null;for(var f,v=0;v<s.length;++v)s[v].marker.explicitlyCleared?f||(f=s.slice(0,v)):f&&f.push(s[v]);return f?f.length?f:null:s}function Jk(s,f){var v=f["spans_"+s.id];if(!v)return null;for(var p=[],y=0;y<f.text.length;++y)p.push($k(v[y]));return p}function uS(s,f){var v=Jk(s,f),p=ta(s,f);if(!v)return p;if(!p)return v;for(var y=0;y<v.length;++y){var S=v[y],D=p[y];if(S&&D)t:for(var M=0;M<D.length;++M){for(var j=D[M],B=0;B<S.length;++B)if(S[B].marker==j.marker)continue t;S.push(j)}else D&&(v[y]=D)}return v}function zl(s,f,v){for(var p=[],y=0;y<s.length;++y){var S=s[y];if(S.ranges){p.push(v?Li.prototype.deepCopy.call(S):S);continue}var D=S.changes,M=[];p.push({changes:M});for(var j=0;j<D.length;++j){var B=D[j],lt=void 0;if(M.push({from:B.from,to:B.to,text:B.text}),f)for(var ht in B)(lt=ht.match(/^spans_(\d+)$/))&&Mt(f,Number(lt[1]))>-1&&(R(M)[ht]=B[ht],delete B[ht])}}return p}function Cm(s,f,v,p){if(p){var y=s.anchor;if(v){var S=we(f,y)<0;S!=we(v,y)<0?(y=f,f=v):S!=we(f,v)<0&&(f=v)}return new Qe(y,f)}else return new Qe(v||f,f)}function vh(s,f,v,p,y){y==null&&(y=s.cm&&(s.cm.display.shift||s.extend)),Sr(s,new Li([Cm(s.sel.primary(),f,v,y)],0),p)}function cS(s,f,v){for(var p=[],y=s.cm&&(s.cm.display.shift||s.extend),S=0;S<s.sel.ranges.length;S++)p[S]=Cm(s.sel.ranges[S],f[S],null,y);var D=_o(s.cm,p,s.sel.primIndex);Sr(s,D,v)}function xm(s,f,v,p){var y=s.sel.ranges.slice(0);y[f]=v,Sr(s,_o(s.cm,y,s.sel.primIndex),p)}function fS(s,f,v,p){Sr(s,Xa(f,v),p)}function Qk(s,f,v){var p={ranges:f.ranges,update:function(y){this.ranges=[];for(var S=0;S<y.length;S++)this.ranges[S]=new Qe(te(s,y[S].anchor),te(s,y[S].head))},origin:v&&v.origin};return re(s,"beforeSelectionChange",s,p),s.cm&&re(s.cm,"beforeSelectionChange",s.cm,p),p.ranges!=f.ranges?_o(s.cm,p.ranges,p.ranges.length-1):f}function dS(s,f,v){var p=s.history.done,y=R(p);y&&y.ranges?(p[p.length-1]=f,gh(s,f,v)):Sr(s,f,v)}function Sr(s,f,v){gh(s,f,v),Zk(s,s.sel,s.cm?s.cm.curOp.id:NaN,v)}function gh(s,f,v){(Ee(s,"beforeSelectionChange")||s.cm&&Ee(s.cm,"beforeSelectionChange"))&&(f=Qk(s,f,v));var p=v&&v.bias||(we(f.primary().head,s.sel.primary().head)<0?-1:1);hS(s,vS(s,f,p,!0)),!(v&&v.scroll===!1)&&s.cm&&s.cm.getOption("readOnly")!="nocursor"&&Bl(s.cm)}function hS(s,f){f.equals(s.sel)||(s.sel=f,s.cm&&(s.cm.curOp.updateInput=1,s.cm.curOp.selectionChanged=!0,ge(s.cm)),kn(s,"cursorActivity",s))}function pS(s){hS(s,vS(s,s.sel,null,!1))}function vS(s,f,v,p){for(var y,S=0;S<f.ranges.length;S++){var D=f.ranges[S],M=f.ranges.length==s.sel.ranges.length&&s.sel.ranges[S],j=mh(s,D.anchor,M&&M.anchor,v,p),B=mh(s,D.head,M&&M.head,v,p);(y||j!=D.anchor||B!=D.head)&&(y||(y=f.ranges.slice(0,S)),y[S]=new Qe(j,B))}return y?_o(s.cm,y,f.primIndex):f}function Hl(s,f,v,p,y){var S=pe(s,f.line);if(S.markedSpans)for(var D=0;D<S.markedSpans.length;++D){var M=S.markedSpans[D],j=M.marker,B="selectLeft"in j?!j.selectLeft:j.inclusiveLeft,lt="selectRight"in j?!j.selectRight:j.inclusiveRight;if((M.from==null||(B?M.from<=f.ch:M.from<f.ch))&&(M.to==null||(lt?M.to>=f.ch:M.to>f.ch))){if(y&&(re(j,"beforeCursorEnter"),j.explicitlyCleared))if(S.markedSpans){--D;continue}else break;if(!j.atomic)continue;if(v){var ht=j.find(p<0?1:-1),kt=void 0;if((p<0?lt:B)&&(ht=gS(s,ht,-p,ht&&ht.line==f.line?S:null)),ht&&ht.line==f.line&&(kt=we(ht,v))&&(p<0?kt<0:kt>0))return Hl(s,ht,f,p,y)}var Et=j.find(p<0?-1:1);return(p<0?B:lt)&&(Et=gS(s,Et,p,Et.line==f.line?S:null)),Et?Hl(s,Et,f,p,y):null}}return f}function mh(s,f,v,p,y){var S=p||1,D=Hl(s,f,v,S,y)||!y&&Hl(s,f,v,S,!0)||Hl(s,f,v,-S,y)||!y&&Hl(s,f,v,-S,!0);return D||(s.cantEdit=!0,Xt(s.first,0))}function gS(s,f,v,p){return v<0&&f.ch==0?f.line>s.first?te(s,Xt(f.line-1)):null:v>0&&f.ch==(p||pe(s,f.line)).text.length?f.line<s.first+s.size-1?Xt(f.line+1,0):null:new Xt(f.line,f.ch+v)}function mS(s){s.setSelection(Xt(s.firstLine(),0),Xt(s.lastLine()),U)}function yS(s,f,v){var p={canceled:!1,from:f.from,to:f.to,text:f.text,origin:f.origin,cancel:function(){return p.canceled=!0}};return v&&(p.update=function(y,S,D,M){y&&(p.from=te(s,y)),S&&(p.to=te(s,S)),D&&(p.text=D),M!==void 0&&(p.origin=M)}),re(s,"beforeChange",s,p),s.cm&&re(s.cm,"beforeChange",s.cm,p),p.canceled?(s.cm&&(s.cm.curOp.updateInput=2),null):{from:p.from,to:p.to,text:p.text,origin:p.origin}}function Wl(s,f,v){if(s.cm){if(!s.cm.curOp)return or(s.cm,Wl)(s,f,v);if(s.cm.state.suppressEdits)return}if(!((Ee(s,"beforeChange")||s.cm&&Ee(s.cm,"beforeChange"))&&(f=yS(s,f,!0),!f))){var p=Hn&&!v&&Mi(s,f.from,f.to);if(p)for(var y=p.length-1;y>=0;--y)_S(s,{from:p[y].from,to:p[y].to,text:y?[""]:f.text,origin:f.origin});else _S(s,f)}}function _S(s,f){if(!(f.text.length==1&&f.text[0]==""&&we(f.from,f.to)==0)){var v=_m(s,f);sS(s,f,v,s.cm?s.cm.curOp.id:NaN),Hc(s,f,v,ta(s,f));var p=[];$a(s,function(y,S){!S&&Mt(p,y.history)==-1&&(CS(y.history,f),p.push(y.history)),Hc(y,f,null,ta(y,f))})}}function yh(s,f,v){var p=s.cm&&s.cm.state.suppressEdits;if(!(p&&!v)){for(var y=s.history,S,D=s.sel,M=f=="undo"?y.done:y.undone,j=f=="undo"?y.undone:y.done,B=0;B<M.length&&(S=M[B],!(v?S.ranges&&!S.equals(s.sel):!S.ranges));B++);if(B!=M.length){for(y.lastOrigin=y.lastSelOrigin=null;;)if(S=M.pop(),S.ranges){if(ph(S,j),v&&!S.equals(s.sel)){Sr(s,S,{clearRedo:!1});return}D=S}else if(p){M.push(S);return}else break;var lt=[];ph(D,j),j.push({changes:lt,generation:y.generation}),y.generation=S.generation||++y.maxGeneration;for(var ht=Ee(s,"beforeChange")||s.cm&&Ee(s.cm,"beforeChange"),kt=function(Yt){var ee=S.changes[Yt];if(ee.origin=f,ht&&!yS(s,ee,!1))return M.length=0,{};lt.push(Sm(s,ee));var ue=Yt?_m(s,ee):R(M);Hc(s,ee,ue,uS(s,ee)),!Yt&&s.cm&&s.cm.scrollIntoView({from:ee.from,to:Za(ee)});var he=[];$a(s,function(ce,ve){!ve&&Mt(he,ce.history)==-1&&(CS(ce.history,ee),he.push(ce.history)),Hc(ce,ee,null,uS(ce,ee))})},Et=S.changes.length-1;Et>=0;--Et){var jt=kt(Et);if(jt)return jt.v}}}}function bS(s,f){if(f!=0&&(s.first+=f,s.sel=new Li(Dt(s.sel.ranges,function(y){return new Qe(Xt(y.anchor.line+f,y.anchor.ch),Xt(y.head.line+f,y.head.ch))}),s.sel.primIndex),s.cm)){Hr(s.cm,s.first,s.first-f,f);for(var v=s.cm.display,p=v.viewFrom;p<v.viewTo;p++)Ga(s.cm,p,"gutter")}}function Hc(s,f,v,p){if(s.cm&&!s.cm.curOp)return or(s.cm,Hc)(s,f,v,p);if(f.to.line<s.first){bS(s,f.text.length-1-(f.to.line-f.from.line));return}if(!(f.from.line>s.lastLine())){if(f.from.line<s.first){var y=f.text.length-1-(s.first-f.from.line);bS(s,y),f={from:Xt(s.first,0),to:Xt(f.to.line+y,f.to.ch),text:[R(f.text)],origin:f.origin}}var S=s.lastLine();f.to.line>S&&(f={from:f.from,to:Xt(S,pe(s,S).text.length),text:[f.text[0]],origin:f.origin}),f.removed=nr(s,f.from,f.to),v||(v=_m(s,f)),s.cm?tP(s.cm,f,p):wm(s,f,p),gh(s,v,U),s.cantEdit&&mh(s,Xt(s.firstLine(),0))&&(s.cantEdit=!1)}}function tP(s,f,v){var p=s.doc,y=s.display,S=f.from,D=f.to,M=!1,j=S.line;s.options.lineWrapping||(j=Ie(wn(pe(p,S.line))),p.iter(j,D.line+1,function(Et){if(Et==y.maxLine)return M=!0,!0})),p.sel.contains(f.from,f.to)>-1&&ge(s),wm(p,f,v,Vw(s)),s.options.lineWrapping||(p.iter(j,S.line+f.text.length,function(Et){var jt=ra(Et);jt>y.maxLineLength&&(y.maxLine=Et,y.maxLineLength=jt,y.maxLineChanged=!0,M=!1)}),M&&(s.curOp.updateMaxLine=!0)),Ia(p,S.line),Bc(s,400);var B=f.text.length-(D.line-S.line)-1;f.full?Hr(s):S.line==D.line&&f.text.length==1&&!rS(s.doc,f)?Ga(s,S.line,"text"):Hr(s,S.line,D.line+1,B);var lt=Ee(s,"changes"),ht=Ee(s,"change");if(ht||lt){var kt={from:S,to:D,text:f.text,removed:f.removed,origin:f.origin};ht&&kn(s,"change",s,kt),lt&&(s.curOp.changeObjs||(s.curOp.changeObjs=[])).push(kt)}s.display.selForContextMenu=null}function Kl(s,f,v,p,y){var S;p||(p=v),we(p,v)<0&&(S=[p,v],v=S[0],p=S[1]),typeof f=="string"&&(f=s.splitLines(f)),Wl(s,{from:v,to:p,text:f,origin:y})}function wS(s,f,v,p){v<s.line?s.line+=p:f<s.line&&(s.line=f,s.ch=0)}function SS(s,f,v,p){for(var y=0;y<s.length;++y){var S=s[y],D=!0;if(S.ranges){S.copied||(S=s[y]=S.deepCopy(),S.copied=!0);for(var M=0;M<S.ranges.length;M++)wS(S.ranges[M].anchor,f,v,p),wS(S.ranges[M].head,f,v,p);continue}for(var j=0;j<S.changes.length;++j){var B=S.changes[j];if(v<B.from.line)B.from=Xt(B.from.line+p,B.from.ch),B.to=Xt(B.to.line+p,B.to.ch);else if(f<=B.to.line){D=!1;break}}D||(s.splice(0,y+1),y=0)}}function CS(s,f){var v=f.from.line,p=f.to.line,y=f.text.length-(p-v)-1;SS(s.done,v,p,y),SS(s.undone,v,p,y)}function Wc(s,f,v,p){var y=f,S=f;return typeof f=="number"?S=pe(s,$t(s,f)):y=Ie(f),y==null?null:(p(S,y)&&s.cm&&Ga(s.cm,y,v),S)}function Kc(s){this.lines=s,this.parent=null;for(var f=0,v=0;v<s.length;++v)s[v].parent=this,f+=s[v].height;this.height=f}Kc.prototype={chunkSize:function(){return this.lines.length},removeInner:function(s,f){for(var v=s,p=s+f;v<p;++v){var y=this.lines[v];this.height-=y.height,Ml(y),kn(y,"delete")}this.lines.splice(s,f)},collapse:function(s){s.push.apply(s,this.lines)},insertInner:function(s,f,v){this.height+=v,this.lines=this.lines.slice(0,s).concat(f).concat(this.lines.slice(s));for(var p=0;p<f.length;++p)f[p].parent=this},iterN:function(s,f,v){for(var p=s+f;s<p;++s)if(v(this.lines[s]))return!0}};function qc(s){this.children=s;for(var f=0,v=0,p=0;p<s.length;++p){var y=s[p];f+=y.chunkSize(),v+=y.height,y.parent=this}this.size=f,this.height=v,this.parent=null}qc.prototype={chunkSize:function(){return this.size},removeInner:function(s,f){this.size-=f;for(var v=0;v<this.children.length;++v){var p=this.children[v],y=p.chunkSize();if(s<y){var S=Math.min(f,y-s),D=p.height;if(p.removeInner(s,S),this.height-=D-p.height,y==S&&(this.children.splice(v--,1),p.parent=null),(f-=S)==0)break;s=0}else s-=y}if(this.size-f<25&&(this.children.length>1||!(this.children[0]instanceof Kc))){var M=[];this.collapse(M),this.children=[new Kc(M)],this.children[0].parent=this}},collapse:function(s){for(var f=0;f<this.children.length;++f)this.children[f].collapse(s)},insertInner:function(s,f,v){this.size+=f.length,this.height+=v;for(var p=0;p<this.children.length;++p){var y=this.children[p],S=y.chunkSize();if(s<=S){if(y.insertInner(s,f,v),y.lines&&y.lines.length>50){for(var D=y.lines.length%25+25,M=D;M<y.lines.length;){var j=new Kc(y.lines.slice(M,M+=25));y.height-=j.height,this.children.splice(++p,0,j),j.parent=this}y.lines=y.lines.slice(0,D),this.maybeSpill()}break}s-=S}},maybeSpill:function(){if(!(this.children.length<=10)){var s=this;do{var f=s.children.splice(s.children.length-5,5),v=new qc(f);if(s.parent){s.size-=v.size,s.height-=v.height;var y=Mt(s.parent.children,s);s.parent.children.splice(y+1,0,v)}else{var p=new qc(s.children);p.parent=s,s.children=[p,v],s=p}v.parent=s.parent}while(s.children.length>10);s.parent.maybeSpill()}},iterN:function(s,f,v){for(var p=0;p<this.children.length;++p){var y=this.children[p],S=y.chunkSize();if(s<S){var D=Math.min(f,S-s);if(y.iterN(s,D,v))return!0;if((f-=D)==0)break;s=0}else s-=S}}};var Gc=function(s,f,v){if(v)for(var p in v)v.hasOwnProperty(p)&&(this[p]=v[p]);this.doc=s,this.node=f};Gc.prototype.clear=function(){var s=this.doc.cm,f=this.line.widgets,v=this.line,p=Ie(v);if(!(p==null||!f)){for(var y=0;y<f.length;++y)f[y]==this&&f.splice(y--,1);f.length||(v.widgets=null);var S=Ka(this);rr(v,Math.max(0,v.height-S)),s&&(ui(s,function(){xS(s,v,-S),Ga(s,p,"widget")}),kn(s,"lineWidgetCleared",s,this,p))}},Gc.prototype.changed=function(){var s=this,f=this.height,v=this.doc.cm,p=this.line;this.height=null;var y=Ka(this)-f;y&&(zr(this.doc,p)||rr(p,p.height+y),v&&ui(v,function(){v.curOp.forceUpdate=!0,xS(v,p,y),kn(v,"lineWidgetChanged",v,s,Ie(p))}))},Ne(Gc);function xS(s,f,v){$i(f)<(s.curOp&&s.curOp.scrollTop||s.doc.scrollTop)&&hm(s,v)}function eP(s,f,v,p){var y=new Gc(s,v,p),S=s.cm;return S&&y.noHScroll&&(S.display.alignWidgets=!0),Wc(s,f,"widget",function(D){var M=D.widgets||(D.widgets=[]);if(y.insertAt==null?M.push(y):M.splice(Math.min(M.length,Math.max(0,y.insertAt)),0,y),y.line=D,S&&!zr(s,D)){var j=$i(D)<s.scrollTop;rr(D,D.height+Ka(y)),j&&hm(S,y.height),S.curOp.forceUpdate=!0}return!0}),S&&kn(S,"lineWidgetAdded",S,y,typeof f=="number"?f:Ie(f)),y}var OS=0,Ja=function(s,f){this.lines=[],this.type=f,this.doc=s,this.id=++OS};Ja.prototype.clear=function(){if(!this.explicitlyCleared){var s=this.doc.cm,f=s&&!s.curOp;if(f&&Ks(s),Ee(this,"clear")){var v=this.find();v&&kn(this,"clear",v.from,v.to)}for(var p=null,y=null,S=0;S<this.lines.length;++S){var D=this.lines[S],M=Dr(D.markedSpans,this);s&&!this.collapsed?Ga(s,Ie(D),"text"):s&&(M.to!=null&&(y=Ie(D)),M.from!=null&&(p=Ie(D))),D.markedSpans=Zn(D.markedSpans,M),M.from==null&&this.collapsed&&!zr(this.doc,D)&&s&&rr(D,Il(s.display))}if(s&&this.collapsed&&!s.options.lineWrapping)for(var j=0;j<this.lines.length;++j){var B=wn(this.lines[j]),lt=ra(B);lt>s.display.maxLineLength&&(s.display.maxLine=B,s.display.maxLineLength=lt,s.display.maxLineChanged=!0)}p!=null&&s&&this.collapsed&&Hr(s,p,y+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,s&&pS(s.doc)),s&&kn(s,"markerCleared",s,this,p,y),f&&qs(s),this.parent&&this.parent.clear()}},Ja.prototype.find=function(s,f){s==null&&this.type=="bookmark"&&(s=1);for(var v,p,y=0;y<this.lines.length;++y){var S=this.lines[y],D=Dr(S.markedSpans,this);if(D.from!=null&&(v=Xt(f?S:Ie(S),D.from),s==-1))return v;if(D.to!=null&&(p=Xt(f?S:Ie(S),D.to),s==1))return p}return v&&{from:v,to:p}},Ja.prototype.changed=function(){var s=this,f=this.find(-1,!0),v=this,p=this.doc.cm;!f||!p||ui(p,function(){var y=f.line,S=Ie(f.line),D=At(p,S);if(D&&(Rc(D),p.curOp.selectionChanged=p.curOp.forceUpdate=!0),p.curOp.updateMaxLine=!0,!zr(v.doc,y)&&v.height!=null){var M=v.height;v.height=null;var j=Ka(v)-M;j&&rr(y,y.height+j)}kn(p,"markerChanged",p,s)})},Ja.prototype.attachLine=function(s){if(!this.lines.length&&this.doc.cm){var f=this.doc.cm.curOp;(!f.maybeHiddenMarkers||Mt(f.maybeHiddenMarkers,this)==-1)&&(f.maybeUnhiddenMarkers||(f.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(s)},Ja.prototype.detachLine=function(s){if(this.lines.splice(Mt(this.lines,s),1),!this.lines.length&&this.doc.cm){var f=this.doc.cm.curOp;(f.maybeHiddenMarkers||(f.maybeHiddenMarkers=[])).push(this)}},Ne(Ja);function ql(s,f,v,p,y){if(p&&p.shared)return nP(s,f,v,p,y);if(s.cm&&!s.cm.curOp)return or(s.cm,ql)(s,f,v,p,y);var S=new Ja(s,y),D=we(f,v);if(p&&at(p,S,!1),D>0||D==0&&S.clearWhenEmpty!==!1)return S;if(S.replacedWith&&(S.collapsed=!0,S.widgetNode=T("span",[S.replacedWith],"CodeMirror-widget"),p.handleMouseEvents||S.widgetNode.setAttribute("cm-ignore-events","true"),p.insertLeft&&(S.widgetNode.insertLeft=!0)),S.collapsed){if(xe(s,f.line,f,v,S)||f.line!=v.line&&xe(s,v.line,f,v,S))throw new Error("Inserting collapsed marker partially overlapping an existing one");Di()}S.addToHistory&&sS(s,{from:f,to:v,origin:"markText"},s.sel,NaN);var M=f.line,j=s.cm,B;if(s.iter(M,v.line+1,function(ht){j&&S.collapsed&&!j.options.lineWrapping&&wn(ht)==j.display.maxLine&&(B=!0),S.collapsed&&M!=f.line&&rr(ht,0),Pl(ht,new vo(S,M==f.line?f.ch:null,M==v.line?v.ch:null),s.cm&&s.cm.curOp),++M}),S.collapsed&&s.iter(f.line,v.line+1,function(ht){zr(s,ht)&&rr(ht,0)}),S.clearOnEnter&&Ot(S,"beforeCursorEnter",function(){return S.clear()}),S.readOnly&&(Is(),(s.history.done.length||s.history.undone.length)&&s.clearHistory()),S.collapsed&&(S.id=++OS,S.atomic=!0),j){if(B&&(j.curOp.updateMaxLine=!0),S.collapsed)Hr(j,f.line,v.line+1);else if(S.className||S.startStyle||S.endStyle||S.css||S.attributes||S.title)for(var lt=f.line;lt<=v.line;lt++)Ga(j,lt,"text");S.atomic&&pS(j.doc),kn(j,"markerAdded",j,S)}return S}var Yc=function(s,f){this.markers=s,this.primary=f;for(var v=0;v<s.length;++v)s[v].parent=this};Yc.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var s=0;s<this.markers.length;++s)this.markers[s].clear();kn(this,"clear")}},Yc.prototype.find=function(s,f){return this.primary.find(s,f)},Ne(Yc);function nP(s,f,v,p,y){p=at(p),p.shared=!1;var S=[ql(s,f,v,p,y)],D=S[0],M=p.widgetNode;return $a(s,function(j){M&&(p.widgetNode=M.cloneNode(!0)),S.push(ql(j,te(j,f),te(j,v),p,y));for(var B=0;B<j.linked.length;++B)if(j.linked[B].isParent)return;D=R(S)}),new Yc(S,D)}function ES(s){return s.findMarks(Xt(s.first,0),s.clipPos(Xt(s.lastLine())),function(f){return f.parent})}function rP(s,f){for(var v=0;v<f.length;v++){var p=f[v],y=p.find(),S=s.clipPos(y.from),D=s.clipPos(y.to);if(we(S,D)){var M=ql(s,S,D,p.primary,p.primary.type);p.markers.push(M),M.parent=p}}}function iP(s){for(var f=function(p){var y=s[p],S=[y.primary.doc];$a(y.primary.doc,function(j){return S.push(j)});for(var D=0;D<y.markers.length;D++){var M=y.markers[D];Mt(S,M.doc)==-1&&(M.parent=null,y.markers.splice(D--,1))}},v=0;v<s.length;v++)f(v)}var oP=0,Wr=function(s,f,v,p,y){if(!(this instanceof Wr))return new Wr(s,f,v,p,y);v==null&&(v=0),qc.call(this,[new Kc([new ir("",null)])]),this.first=v,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=v;var S=Xt(v,0);this.sel=Xa(S),this.history=new hh(null),this.id=++oP,this.modeOption=f,this.lineSep=p,this.direction=y=="rtl"?"rtl":"ltr",this.extend=!1,typeof s=="string"&&(s=this.splitLines(s)),wm(this,{from:S,to:S,text:s}),Sr(this,Xa(S),U)};Wr.prototype=E(qc.prototype,{constructor:Wr,iter:function(s,f,v){v?this.iterN(s-this.first,f-s,v):this.iterN(this.first,this.first+this.size,s)},insert:function(s,f){for(var v=0,p=0;p<f.length;++p)v+=f[p].height;this.insertInner(s-this.first,f,v)},remove:function(s,f){this.removeInner(s-this.first,f)},getValue:function(s){var f=bn(this,this.first,this.first+this.size);return s===!1?f:f.join(s||this.lineSeparator())},setValue:ar(function(s){var f=Xt(this.first,0),v=this.first+this.size-1;Wl(this,{from:f,to:Xt(v,pe(this,v).text.length),text:this.splitLines(s),origin:"setValue",full:!0},!0),this.cm&&jc(this.cm,0,0),Sr(this,Xa(f),U)}),replaceRange:function(s,f,v,p){f=te(this,f),v=v?te(this,v):f,Kl(this,s,f,v,p)},getRange:function(s,f,v){var p=nr(this,te(this,s),te(this,f));return v===!1?p:v===""?p.join(""):p.join(v||this.lineSeparator())},getLine:function(s){var f=this.getLineHandle(s);return f&&f.text},getLineHandle:function(s){if(oi(this,s))return pe(this,s)},getLineNumber:function(s){return Ie(s)},getLineHandleVisualStart:function(s){return typeof s=="number"&&(s=pe(this,s)),wn(s)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(s){return te(this,s)},getCursor:function(s){var f=this.sel.primary(),v;return s==null||s=="head"?v=f.head:s=="anchor"?v=f.anchor:s=="end"||s=="to"||s===!1?v=f.to():v=f.from(),v},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:ar(function(s,f,v){fS(this,te(this,typeof s=="number"?Xt(s,f||0):s),null,v)}),setSelection:ar(function(s,f,v){fS(this,te(this,s),te(this,f||s),v)}),extendSelection:ar(function(s,f,v){vh(this,te(this,s),f&&te(this,f),v)}),extendSelections:ar(function(s,f){cS(this,je(this,s),f)}),extendSelectionsBy:ar(function(s,f){var v=Dt(this.sel.ranges,s);cS(this,je(this,v),f)}),setSelections:ar(function(s,f,v){if(s.length){for(var p=[],y=0;y<s.length;y++)p[y]=new Qe(te(this,s[y].anchor),te(this,s[y].head||s[y].anchor));f==null&&(f=Math.min(s.length-1,this.sel.primIndex)),Sr(this,_o(this.cm,p,f),v)}}),addSelection:ar(function(s,f,v){var p=this.sel.ranges.slice(0);p.push(new Qe(te(this,s),te(this,f||s))),Sr(this,_o(this.cm,p,p.length-1),v)}),getSelection:function(s){for(var f=this.sel.ranges,v,p=0;p<f.length;p++){var y=nr(this,f[p].from(),f[p].to());v=v?v.concat(y):y}return s===!1?v:v.join(s||this.lineSeparator())},getSelections:function(s){for(var f=[],v=this.sel.ranges,p=0;p<v.length;p++){var y=nr(this,v[p].from(),v[p].to());s!==!1&&(y=y.join(s||this.lineSeparator())),f[p]=y}return f},replaceSelection:function(s,f,v){for(var p=[],y=0;y<this.sel.ranges.length;y++)p[y]=s;this.replaceSelections(p,f,v||"+input")},replaceSelections:ar(function(s,f,v){for(var p=[],y=this.sel,S=0;S<y.ranges.length;S++){var D=y.ranges[S];p[S]={from:D.from(),to:D.to(),text:this.splitLines(s[S]),origin:v}}for(var M=f&&f!="end"&&qk(this,p,f),j=p.length-1;j>=0;j--)Wl(this,p[j]);M?dS(this,M):this.cm&&Bl(this.cm)}),undo:ar(function(){yh(this,"undo")}),redo:ar(function(){yh(this,"redo")}),undoSelection:ar(function(){yh(this,"undo",!0)}),redoSelection:ar(function(){yh(this,"redo",!0)}),setExtending:function(s){this.extend=s},getExtending:function(){return this.extend},historySize:function(){for(var s=this.history,f=0,v=0,p=0;p<s.done.length;p++)s.done[p].ranges||++f;for(var y=0;y<s.undone.length;y++)s.undone[y].ranges||++v;return{undo:f,redo:v}},clearHistory:function(){var s=this;this.history=new hh(this.history),$a(this,function(f){return f.history=s.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(s){return s&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(s){return this.history.generation==(s||this.cleanGeneration)},getHistory:function(){return{done:zl(this.history.done),undone:zl(this.history.undone)}},setHistory:function(s){var f=this.history=new hh(this.history);f.done=zl(s.done.slice(0),null,!0),f.undone=zl(s.undone.slice(0),null,!0)},setGutterMarker:ar(function(s,f,v){return Wc(this,s,"gutter",function(p){var y=p.gutterMarkers||(p.gutterMarkers={});return y[f]=v,!v&&it(y)&&(p.gutterMarkers=null),!0})}),clearGutter:ar(function(s){var f=this;this.iter(function(v){v.gutterMarkers&&v.gutterMarkers[s]&&Wc(f,v,"gutter",function(){return v.gutterMarkers[s]=null,it(v.gutterMarkers)&&(v.gutterMarkers=null),!0})})}),lineInfo:function(s){var f;if(typeof s=="number"){if(!oi(this,s)||(f=s,s=pe(this,s),!s))return null}else if(f=Ie(s),f==null)return null;return{line:f,handle:s,text:s.text,gutterMarkers:s.gutterMarkers,textClass:s.textClass,bgClass:s.bgClass,wrapClass:s.wrapClass,widgets:s.widgets}},addLineClass:ar(function(s,f,v){return Wc(this,s,f=="gutter"?"gutter":"class",function(p){var y=f=="text"?"textClass":f=="background"?"bgClass":f=="gutter"?"gutterClass":"wrapClass";if(!p[y])p[y]=v;else{if(P(v).test(p[y]))return!1;p[y]+=" "+v}return!0})}),removeLineClass:ar(function(s,f,v){return Wc(this,s,f=="gutter"?"gutter":"class",function(p){var y=f=="text"?"textClass":f=="background"?"bgClass":f=="gutter"?"gutterClass":"wrapClass",S=p[y];if(S)if(v==null)p[y]=null;else{var D=S.match(P(v));if(!D)return!1;var M=D.index+D[0].length;p[y]=S.slice(0,D.index)+(!D.index||M==S.length?"":" ")+S.slice(M)||null}else return!1;return!0})}),addLineWidget:ar(function(s,f,v){return eP(this,s,f,v)}),removeLineWidget:function(s){s.clear()},markText:function(s,f,v){return ql(this,te(this,s),te(this,f),v,v&&v.type||"range")},setBookmark:function(s,f){var v={replacedWith:f&&(f.nodeType==null?f.widget:f),insertLeft:f&&f.insertLeft,clearWhenEmpty:!1,shared:f&&f.shared,handleMouseEvents:f&&f.handleMouseEvents};return s=te(this,s),ql(this,s,s,v,"bookmark")},findMarksAt:function(s){s=te(this,s);var f=[],v=pe(this,s.line).markedSpans;if(v)for(var p=0;p<v.length;++p){var y=v[p];(y.from==null||y.from<=s.ch)&&(y.to==null||y.to>=s.ch)&&f.push(y.marker.parent||y.marker)}return f},findMarks:function(s,f,v){s=te(this,s),f=te(this,f);var p=[],y=s.line;return this.iter(s.line,f.line+1,function(S){var D=S.markedSpans;if(D)for(var M=0;M<D.length;M++){var j=D[M];!(j.to!=null&&y==s.line&&s.ch>=j.to||j.from==null&&y!=s.line||j.from!=null&&y==f.line&&j.from>=f.ch)&&(!v||v(j.marker))&&p.push(j.marker.parent||j.marker)}++y}),p},getAllMarks:function(){var s=[];return this.iter(function(f){var v=f.markedSpans;if(v)for(var p=0;p<v.length;++p)v[p].from!=null&&s.push(v[p].marker)}),s},posFromIndex:function(s){var f,v=this.first,p=this.lineSeparator().length;return this.iter(function(y){var S=y.text.length+p;if(S>s)return f=s,!0;s-=S,++v}),te(this,Xt(v,f))},indexFromPos:function(s){s=te(this,s);var f=s.ch;if(s.line<this.first||s.ch<0)return 0;var v=this.lineSeparator().length;return this.iter(this.first,s.line,function(p){f+=p.text.length+v}),f},copy:function(s){var f=new Wr(bn(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return f.scrollTop=this.scrollTop,f.scrollLeft=this.scrollLeft,f.sel=this.sel,f.extend=!1,s&&(f.history.undoDepth=this.history.undoDepth,f.setHistory(this.getHistory())),f},linkedDoc:function(s){s||(s={});var f=this.first,v=this.first+this.size;s.from!=null&&s.from>f&&(f=s.from),s.to!=null&&s.to<v&&(v=s.to);var p=new Wr(bn(this,f,v),s.mode||this.modeOption,f,this.lineSep,this.direction);return s.sharedHist&&(p.history=this.history),(this.linked||(this.linked=[])).push({doc:p,sharedHist:s.sharedHist}),p.linked=[{doc:this,isParent:!0,sharedHist:s.sharedHist}],rP(p,ES(this)),p},unlinkDoc:function(s){if(s instanceof Sn&&(s=s.doc),this.linked)for(var f=0;f<this.linked.length;++f){var v=this.linked[f];if(v.doc==s){this.linked.splice(f,1),s.unlinkDoc(this),iP(ES(this));break}}if(s.history==this.history){var p=[s.id];$a(s,function(y){return p.push(y.id)},!0),s.history=new hh(null),s.history.done=zl(this.history.done,p),s.history.undone=zl(this.history.undone,p)}},iterLinkedDocs:function(s){$a(this,s)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(s){return this.lineSep?s.split(this.lineSep):Nn(s)},lineSeparator:function(){return this.lineSep||`
`},setDirection:ar(function(s){s!="rtl"&&(s="ltr"),s!=this.direction&&(this.direction=s,this.iter(function(f){return f.order=null}),this.cm&&Gk(this.cm))})}),Wr.prototype.eachLine=Wr.prototype.iter;var TS=0;function aP(s){var f=this;if(AS(f),!(ie(f,s)||Ji(f.display,s))){Me(s),l&&(TS=+new Date);var v=Fs(f,s,!0),p=s.dataTransfer.files;if(!(!v||f.isReadOnly()))if(p&&p.length&&window.FileReader&&window.File)for(var y=p.length,S=Array(y),D=0,M=function(){++D==y&&or(f,function(){v=te(f.doc,v);var Et={from:v,to:v,text:f.doc.splitLines(S.filter(function(jt){return jt!=null}).join(f.doc.lineSeparator())),origin:"paste"};Wl(f.doc,Et),dS(f.doc,Xa(te(f.doc,v),te(f.doc,Za(Et))))})()},j=function(Et,jt){if(f.options.allowDropFileTypes&&Mt(f.options.allowDropFileTypes,Et.type)==-1){M();return}var Yt=new FileReader;Yt.onerror=function(){return M()},Yt.onload=function(){var ee=Yt.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(ee)){M();return}S[jt]=ee,M()},Yt.readAsText(Et)},B=0;B<p.length;B++)j(p[B],B);else{if(f.state.draggingText&&f.doc.sel.contains(v)>-1){f.state.draggingText(s),setTimeout(function(){return f.display.input.focus()},20);return}try{var lt=s.dataTransfer.getData("Text");if(lt){var ht;if(f.state.draggingText&&!f.state.draggingText.copy&&(ht=f.listSelections()),gh(f.doc,Xa(v,v)),ht)for(var kt=0;kt<ht.length;++kt)Kl(f.doc,"",ht[kt].anchor,ht[kt].head,"drag");f.replaceSelection(lt,"around","paste"),f.display.input.focus()}}catch{}}}}function sP(s,f){if(l&&(!s.state.draggingText||+new Date-TS<100)){J(f);return}if(!(ie(s,f)||Ji(s.display,f))&&(f.dataTransfer.setData("Text",s.getSelection()),f.dataTransfer.effectAllowed="copyMove",f.dataTransfer.setDragImage&&!m)){var v=F("img",null,null,"position: fixed; left: 0; top: 0;");v.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",g&&(v.width=v.height=1,s.display.wrapper.appendChild(v),v._top=v.offsetTop),f.dataTransfer.setDragImage(v,0,0),g&&v.parentNode.removeChild(v)}}function lP(s,f){var v=Fs(s,f);if(v){var p=document.createDocumentFragment();Fw(s,v,p),s.display.dragCursor||(s.display.dragCursor=F("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),s.display.lineSpace.insertBefore(s.display.dragCursor,s.display.cursorDiv)),k(s.display.dragCursor,p)}}function AS(s){s.display.dragCursor&&(s.display.lineSpace.removeChild(s.display.dragCursor),s.display.dragCursor=null)}function DS(s){if(document.getElementsByClassName){for(var f=document.getElementsByClassName("CodeMirror"),v=[],p=0;p<f.length;p++){var y=f[p].CodeMirror;y&&v.push(y)}v.length&&v[0].operation(function(){for(var S=0;S<v.length;S++)s(v[S])})}}var kS=!1;function uP(){kS||(cP(),kS=!0)}function cP(){var s;Ot(window,"resize",function(){s==null&&(s=setTimeout(function(){s=null,DS(fP)},100))}),Ot(window,"blur",function(){return DS(Ul)})}function fP(s){var f=s.display;f.cachedCharWidth=f.cachedTextHeight=f.cachedPaddingH=null,f.scrollbarsClipped=!1,s.setSize()}for(var Qa={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Xc=0;Xc<10;Xc++)Qa[Xc+48]=Qa[Xc+96]=String(Xc);for(var _h=65;_h<=90;_h++)Qa[_h]=String.fromCharCode(_h);for(var Zc=1;Zc<=12;Zc++)Qa[Zc+111]=Qa[Zc+63235]="F"+Zc;var aa={};aa.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},aa.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},aa.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},aa.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},aa.default=O?aa.macDefault:aa.pcDefault;function dP(s){var f=s.split(/-(?!$)/);s=f[f.length-1];for(var v,p,y,S,D=0;D<f.length-1;D++){var M=f[D];if(/^(cmd|meta|m)$/i.test(M))S=!0;else if(/^a(lt)?$/i.test(M))v=!0;else if(/^(c|ctrl|control)$/i.test(M))p=!0;else if(/^s(hift)?$/i.test(M))y=!0;else throw new Error("Unrecognized modifier name: "+M)}return v&&(s="Alt-"+s),p&&(s="Ctrl-"+s),S&&(s="Cmd-"+s),y&&(s="Shift-"+s),s}function hP(s){var f={};for(var v in s)if(s.hasOwnProperty(v)){var p=s[v];if(/^(name|fallthrough|(de|at)tach)$/.test(v))continue;if(p=="..."){delete s[v];continue}for(var y=Dt(v.split(" "),dP),S=0;S<y.length;S++){var D=void 0,M=void 0;S==y.length-1?(M=y.join(" "),D=p):(M=y.slice(0,S+1).join(" "),D="...");var j=f[M];if(!j)f[M]=D;else if(j!=D)throw new Error("Inconsistent bindings for "+M)}delete s[v]}for(var B in f)s[B]=f[B];return s}function Gl(s,f,v,p){f=bh(f);var y=f.call?f.call(s,p):f[s];if(y===!1)return"nothing";if(y==="...")return"multi";if(y!=null&&v(y))return"handled";if(f.fallthrough){if(Object.prototype.toString.call(f.fallthrough)!="[object Array]")return Gl(s,f.fallthrough,v,p);for(var S=0;S<f.fallthrough.length;S++){var D=Gl(s,f.fallthrough[S],v,p);if(D)return D}}}function PS(s){var f=typeof s=="string"?s:Qa[s.keyCode];return f=="Ctrl"||f=="Alt"||f=="Shift"||f=="Mod"}function MS(s,f,v){var p=s;return f.altKey&&p!="Alt"&&(s="Alt-"+s),($?f.metaKey:f.ctrlKey)&&p!="Ctrl"&&(s="Ctrl-"+s),($?f.ctrlKey:f.metaKey)&&p!="Mod"&&(s="Cmd-"+s),!v&&f.shiftKey&&p!="Shift"&&(s="Shift-"+s),s}function RS(s,f){if(g&&s.keyCode==34&&s.char)return!1;var v=Qa[s.keyCode];return v==null||s.altGraphKey?!1:(s.keyCode==3&&s.code&&(v=s.code),MS(v,s,f))}function bh(s){return typeof s=="string"?aa[s]:s}function Yl(s,f){for(var v=s.doc.sel.ranges,p=[],y=0;y<v.length;y++){for(var S=f(v[y]);p.length&&we(S.from,R(p).to)<=0;){var D=p.pop();if(we(D.from,S.from)<0){S.from=D.from;break}}p.push(S)}ui(s,function(){for(var M=p.length-1;M>=0;M--)Kl(s.doc,"",p[M].from,p[M].to,"+delete");Bl(s)})}function Om(s,f,v){var p=ut(s.text,f+v,v);return p<0||p>s.text.length?null:p}function Em(s,f,v){var p=Om(s,f.ch,v);return p==null?null:new Xt(f.line,p,v<0?"after":"before")}function Tm(s,f,v,p,y){if(s){f.doc.direction=="rtl"&&(y=-y);var S=K(v,f.doc.direction);if(S){var D=y<0?R(S):S[0],M=y<0==(D.level==1),j=M?"after":"before",B;if(D.level>0||f.doc.direction=="rtl"){var lt=Kt(f,v);B=y<0?v.text.length-1:0;var ht=oe(f,lt,B).top;B=zt(function(kt){return oe(f,lt,kt).top==ht},y<0==(D.level==1)?D.from:D.to-1,B),j=="before"&&(B=Om(v,B,1))}else B=y<0?D.to:D.from;return new Xt(p,B,j)}}return new Xt(p,y<0?v.text.length:0,y<0?"before":"after")}function pP(s,f,v,p){var y=K(f,s.doc.direction);if(!y)return Em(f,v,p);v.ch>=f.text.length?(v.ch=f.text.length,v.sticky="before"):v.ch<=0&&(v.ch=0,v.sticky="after");var S=et(y,v.ch,v.sticky),D=y[S];if(s.doc.direction=="ltr"&&D.level%2==0&&(p>0?D.to>v.ch:D.from<v.ch))return Em(f,v,p);var M=function(ue,he){return Om(f,ue instanceof Xt?ue.ch:ue,he)},j,B=function(ue){return s.options.lineWrapping?(j=j||Kt(s,f),Iw(s,f,j,ue)):{begin:0,end:f.text.length}},lt=B(v.sticky=="before"?M(v,-1):v.ch);if(s.doc.direction=="rtl"||D.level==1){var ht=D.level==1==p<0,kt=M(v,ht?1:-1);if(kt!=null&&(ht?kt<=D.to&&kt<=lt.end:kt>=D.from&&kt>=lt.begin)){var Et=ht?"before":"after";return new Xt(v.line,kt,Et)}}var jt=function(ue,he,ce){for(var ve=function(ln,sr){return sr?new Xt(v.line,M(ln,1),"before"):new Xt(v.line,ln,"after")};ue>=0&&ue<y.length;ue+=he){var Se=y[ue],be=he>0==(Se.level!=1),Re=be?ce.begin:M(ce.end,-1);if(Se.from<=Re&&Re<Se.to||(Re=be?Se.from:M(Se.to,-1),ce.begin<=Re&&Re<ce.end))return ve(Re,be)}},Yt=jt(S+p,p,lt);if(Yt)return Yt;var ee=p>0?lt.end:M(lt.begin,-1);return ee!=null&&!(p>0&&ee==f.text.length)&&(Yt=jt(p>0?0:y.length-1,p,B(ee)),Yt)?Yt:null}var $c={selectAll:mS,singleSelection:function(s){return s.setSelection(s.getCursor("anchor"),s.getCursor("head"),U)},killLine:function(s){return Yl(s,function(f){if(f.empty()){var v=pe(s.doc,f.head.line).text.length;return f.head.ch==v&&f.head.line<s.lastLine()?{from:f.head,to:Xt(f.head.line+1,0)}:{from:f.head,to:Xt(f.head.line,v)}}else return{from:f.from(),to:f.to()}})},deleteLine:function(s){return Yl(s,function(f){return{from:Xt(f.from().line,0),to:te(s.doc,Xt(f.to().line+1,0))}})},delLineLeft:function(s){return Yl(s,function(f){return{from:Xt(f.from().line,0),to:f.from()}})},delWrappedLineLeft:function(s){return Yl(s,function(f){var v=s.charCoords(f.head,"div").top+5,p=s.coordsChar({left:0,top:v},"div");return{from:p,to:f.from()}})},delWrappedLineRight:function(s){return Yl(s,function(f){var v=s.charCoords(f.head,"div").top+5,p=s.coordsChar({left:s.display.lineDiv.offsetWidth+100,top:v},"div");return{from:f.from(),to:p}})},undo:function(s){return s.undo()},redo:function(s){return s.redo()},undoSelection:function(s){return s.undoSelection()},redoSelection:function(s){return s.redoSelection()},goDocStart:function(s){return s.extendSelection(Xt(s.firstLine(),0))},goDocEnd:function(s){return s.extendSelection(Xt(s.lastLine()))},goLineStart:function(s){return s.extendSelectionsBy(function(f){return LS(s,f.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(s){return s.extendSelectionsBy(function(f){return NS(s,f.head)},{origin:"+move",bias:1})},goLineEnd:function(s){return s.extendSelectionsBy(function(f){return vP(s,f.head.line)},{origin:"+move",bias:-1})},goLineRight:function(s){return s.extendSelectionsBy(function(f){var v=s.cursorCoords(f.head,"div").top+5;return s.coordsChar({left:s.display.lineDiv.offsetWidth+100,top:v},"div")},vt)},goLineLeft:function(s){return s.extendSelectionsBy(function(f){var v=s.cursorCoords(f.head,"div").top+5;return s.coordsChar({left:0,top:v},"div")},vt)},goLineLeftSmart:function(s){return s.extendSelectionsBy(function(f){var v=s.cursorCoords(f.head,"div").top+5,p=s.coordsChar({left:0,top:v},"div");return p.ch<s.getLine(p.line).search(/\S/)?NS(s,f.head):p},vt)},goLineUp:function(s){return s.moveV(-1,"line")},goLineDown:function(s){return s.moveV(1,"line")},goPageUp:function(s){return s.moveV(-1,"page")},goPageDown:function(s){return s.moveV(1,"page")},goCharLeft:function(s){return s.moveH(-1,"char")},goCharRight:function(s){return s.moveH(1,"char")},goColumnLeft:function(s){return s.moveH(-1,"column")},goColumnRight:function(s){return s.moveH(1,"column")},goWordLeft:function(s){return s.moveH(-1,"word")},goGroupRight:function(s){return s.moveH(1,"group")},goGroupLeft:function(s){return s.moveH(-1,"group")},goWordRight:function(s){return s.moveH(1,"word")},delCharBefore:function(s){return s.deleteH(-1,"codepoint")},delCharAfter:function(s){return s.deleteH(1,"char")},delWordBefore:function(s){return s.deleteH(-1,"word")},delWordAfter:function(s){return s.deleteH(1,"word")},delGroupBefore:function(s){return s.deleteH(-1,"group")},delGroupAfter:function(s){return s.deleteH(1,"group")},indentAuto:function(s){return s.indentSelection("smart")},indentMore:function(s){return s.indentSelection("add")},indentLess:function(s){return s.indentSelection("subtract")},insertTab:function(s){return s.replaceSelection("	")},insertSoftTab:function(s){for(var f=[],v=s.listSelections(),p=s.options.tabSize,y=0;y<v.length;y++){var S=v[y].from(),D=Rt(s.getLine(S.line),S.ch,p);f.push(It(p-D%p))}s.replaceSelections(f)},defaultTab:function(s){s.somethingSelected()?s.indentSelection("add"):s.execCommand("insertTab")},transposeChars:function(s){return ui(s,function(){for(var f=s.listSelections(),v=[],p=0;p<f.length;p++)if(f[p].empty()){var y=f[p].head,S=pe(s.doc,y.line).text;if(S){if(y.ch==S.length&&(y=new Xt(y.line,y.ch-1)),y.ch>0)y=new Xt(y.line,y.ch+1),s.replaceRange(S.charAt(y.ch-1)+S.charAt(y.ch-2),Xt(y.line,y.ch-2),y,"+transpose");else if(y.line>s.doc.first){var D=pe(s.doc,y.line-1).text;D&&(y=new Xt(y.line,1),s.replaceRange(S.charAt(0)+s.doc.lineSeparator()+D.charAt(D.length-1),Xt(y.line-1,D.length-1),y,"+transpose"))}}v.push(new Qe(y,y))}s.setSelections(v)})},newlineAndIndent:function(s){return ui(s,function(){for(var f=s.listSelections(),v=f.length-1;v>=0;v--)s.replaceRange(s.doc.lineSeparator(),f[v].anchor,f[v].head,"+input");f=s.listSelections();for(var p=0;p<f.length;p++)s.indentLine(f[p].from().line,null,!0);Bl(s)})},openLine:function(s){return s.replaceSelection(`
`,"start")},toggleOverwrite:function(s){return s.toggleOverwrite()}};function LS(s,f){var v=pe(s.doc,f),p=wn(v);return p!=v&&(f=Ie(p)),Tm(!0,s,p,f,1)}function vP(s,f){var v=pe(s.doc,f),p=Wn(v);return p!=v&&(f=Ie(p)),Tm(!0,s,v,f,-1)}function NS(s,f){var v=LS(s,f.line),p=pe(s.doc,v.line),y=K(p,s.doc.direction);if(!y||y[0].level==0){var S=Math.max(v.ch,p.text.search(/\S/)),D=f.line==v.line&&f.ch<=S&&f.ch;return Xt(v.line,D?0:S,v.sticky)}return v}function wh(s,f,v){if(typeof f=="string"&&(f=$c[f],!f))return!1;s.display.input.ensurePolled();var p=s.display.shift,y=!1;try{s.isReadOnly()&&(s.state.suppressEdits=!0),v&&(s.display.shift=!1),y=f(s)!=W}finally{s.display.shift=p,s.state.suppressEdits=!1}return y}function gP(s,f,v){for(var p=0;p<s.state.keyMaps.length;p++){var y=Gl(f,s.state.keyMaps[p],v,s);if(y)return y}return s.options.extraKeys&&Gl(f,s.options.extraKeys,v,s)||Gl(f,s.options.keyMap,v,s)}var mP=new wt;function Jc(s,f,v,p){var y=s.state.keySeq;if(y){if(PS(f))return"handled";if(/\'$/.test(f)?s.state.keySeq=null:mP.set(50,function(){s.state.keySeq==y&&(s.state.keySeq=null,s.display.input.reset())}),jS(s,y+" "+f,v,p))return!0}return jS(s,f,v,p)}function jS(s,f,v,p){var y=gP(s,f,p);return y=="multi"&&(s.state.keySeq=f),y=="handled"&&kn(s,"keyHandled",s,f,v),(y=="handled"||y=="multi")&&(Me(v),um(s)),!!y}function IS(s,f){var v=RS(f,!0);return v?f.shiftKey&&!s.state.keySeq?Jc(s,"Shift-"+v,f,function(p){return wh(s,p,!0)})||Jc(s,v,f,function(p){if(typeof p=="string"?/^go[A-Z]/.test(p):p.motion)return wh(s,p)}):Jc(s,v,f,function(p){return wh(s,p)}):!1}function yP(s,f,v){return Jc(s,"'"+v+"'",f,function(p){return wh(s,p,!0)})}var Am=null;function VS(s){var f=this;if(!(s.target&&s.target!=f.display.input.getField())&&(f.curOp.focus=ot(),!ie(f,s))){l&&u<11&&s.keyCode==27&&(s.returnValue=!1);var v=s.keyCode;f.display.shift=v==16||s.shiftKey;var p=IS(f,s);g&&(Am=p?v:null,!p&&v==88&&!Ei&&(O?s.metaKey:s.ctrlKey)&&f.replaceSelection("",null,"cut")),n&&!O&&!p&&v==46&&s.shiftKey&&!s.ctrlKey&&document.execCommand&&document.execCommand("cut"),v==18&&!/\bCodeMirror-crosshair\b/.test(f.display.lineDiv.className)&&_P(f)}}function _P(s){var f=s.display.lineDiv;pt(f,"CodeMirror-crosshair");function v(p){(p.keyCode==18||!p.altKey)&&(tt(f,"CodeMirror-crosshair"),de(document,"keyup",v),de(document,"mouseover",v))}Ot(document,"keyup",v),Ot(document,"mouseover",v)}function US(s){s.keyCode==16&&(this.doc.sel.shift=!1),ie(this,s)}function BS(s){var f=this;if(!(s.target&&s.target!=f.display.input.getField())&&!(Ji(f.display,s)||ie(f,s)||s.ctrlKey&&!s.altKey||O&&s.metaKey)){var v=s.keyCode,p=s.charCode;if(g&&v==Am){Am=null,Me(s);return}if(!(g&&(!s.which||s.which<10)&&IS(f,s))){var y=String.fromCharCode(p??v);y!="\b"&&(yP(f,s,y)||f.display.input.onKeyPress(s))}}}var bP=400,Dm=function(s,f,v){this.time=s,this.pos=f,this.button=v};Dm.prototype.compare=function(s,f,v){return this.time+bP>s&&we(f,this.pos)==0&&v==this.button};var Qc,tf;function wP(s,f){var v=+new Date;return tf&&tf.compare(v,s,f)?(Qc=tf=null,"triple"):Qc&&Qc.compare(v,s,f)?(tf=new Dm(v,s,f),Qc=null,"double"):(Qc=new Dm(v,s,f),tf=null,"single")}function FS(s){var f=this,v=f.display;if(!(ie(f,s)||v.activeTouch&&v.input.supportsTouch())){if(v.input.ensurePolled(),v.shift=s.shiftKey,Ji(v,s)){c||(v.scroller.draggable=!1,setTimeout(function(){return v.scroller.draggable=!0},100));return}if(!km(f,s)){var p=Fs(f,s),y=Tt(s),S=p?wP(p,y):"single";window.focus(),y==1&&f.state.selectingText&&f.state.selectingText(s),!(p&&SP(f,y,p,S,s))&&(y==1?p?xP(f,p,S,s):gt(s)==v.scroller&&Me(s):y==2?(p&&vh(f.doc,p),setTimeout(function(){return v.input.focus()},20)):y==3&&(Z?f.display.input.onContextMenu(s):cm(f)))}}}function SP(s,f,v,p,y){var S="Click";return p=="double"?S="Double"+S:p=="triple"&&(S="Triple"+S),S=(f==1?"Left":f==2?"Middle":"Right")+S,Jc(s,MS(S,y),y,function(D){if(typeof D=="string"&&(D=$c[D]),!D)return!1;var M=!1;try{s.isReadOnly()&&(s.state.suppressEdits=!0),M=D(s,v)!=W}finally{s.state.suppressEdits=!1}return M})}function CP(s,f,v){var p=s.getOption("configureMouse"),y=p?p(s,f,v):{};if(y.unit==null){var S=A?v.shiftKey&&v.metaKey:v.altKey;y.unit=S?"rectangle":f=="single"?"char":f=="double"?"word":"line"}return(y.extend==null||s.doc.extend)&&(y.extend=s.doc.extend||v.shiftKey),y.addNew==null&&(y.addNew=O?v.metaKey:v.ctrlKey),y.moveOnDrag==null&&(y.moveOnDrag=!(O?v.altKey:v.ctrlKey)),y}function xP(s,f,v,p){l?setTimeout(St(zw,s),0):s.curOp.focus=ot();var y=CP(s,v,p),S=s.doc.sel,D;s.options.dragDrop&&qt&&!s.isReadOnly()&&v=="single"&&(D=S.contains(f))>-1&&(we((D=S.ranges[D]).from(),f)<0||f.xRel>0)&&(we(D.to(),f)>0||f.xRel<0)?OP(s,p,f,y):EP(s,p,f,y)}function OP(s,f,v,p){var y=s.display,S=!1,D=or(s,function(B){c&&(y.scroller.draggable=!1),s.state.draggingText=!1,s.state.delayingBlurEvent&&(s.hasFocus()?s.state.delayingBlurEvent=!1:cm(s)),de(y.wrapper.ownerDocument,"mouseup",D),de(y.wrapper.ownerDocument,"mousemove",M),de(y.scroller,"dragstart",j),de(y.scroller,"drop",D),S||(Me(B),p.addNew||vh(s.doc,v,null,null,p.extend),c&&!m||l&&u==9?setTimeout(function(){y.wrapper.ownerDocument.body.focus({preventScroll:!0}),y.input.focus()},20):y.input.focus())}),M=function(B){S=S||Math.abs(f.clientX-B.clientX)+Math.abs(f.clientY-B.clientY)>=10},j=function(){return S=!0};c&&(y.scroller.draggable=!0),s.state.draggingText=D,D.copy=!p.moveOnDrag,Ot(y.wrapper.ownerDocument,"mouseup",D),Ot(y.wrapper.ownerDocument,"mousemove",M),Ot(y.scroller,"dragstart",j),Ot(y.scroller,"drop",D),s.state.delayingBlurEvent=!0,setTimeout(function(){return y.input.focus()},20),y.scroller.dragDrop&&y.scroller.dragDrop()}function zS(s,f,v){if(v=="char")return new Qe(f,f);if(v=="word")return s.findWordAt(f);if(v=="line")return new Qe(Xt(f.line,0),te(s.doc,Xt(f.line+1,0)));var p=v(s,f);return new Qe(p.from,p.to)}function EP(s,f,v,p){l&&cm(s);var y=s.display,S=s.doc;Me(f);var D,M,j=S.sel,B=j.ranges;if(p.addNew&&!p.extend?(M=S.sel.contains(v),M>-1?D=B[M]:D=new Qe(v,v)):(D=S.sel.primary(),M=S.sel.primIndex),p.unit=="rectangle")p.addNew||(D=new Qe(v,v)),v=Fs(s,f,!0,!0),M=-1;else{var lt=zS(s,v,p.unit);p.extend?D=Cm(D,lt.anchor,lt.head,p.extend):D=lt}p.addNew?M==-1?(M=B.length,Sr(S,_o(s,B.concat([D]),M),{scroll:!1,origin:"*mouse"})):B.length>1&&B[M].empty()&&p.unit=="char"&&!p.extend?(Sr(S,_o(s,B.slice(0,M).concat(B.slice(M+1)),0),{scroll:!1,origin:"*mouse"}),j=S.sel):xm(S,M,D,Ct):(M=0,Sr(S,new Li([D],0),Ct),j=S.sel);var ht=v;function kt(ce){if(we(ht,ce)!=0)if(ht=ce,p.unit=="rectangle"){for(var ve=[],Se=s.options.tabSize,be=Rt(pe(S,v.line).text,v.ch,Se),Re=Rt(pe(S,ce.line).text,ce.ch,Se),ln=Math.min(be,Re),sr=Math.max(be,Re),En=Math.min(v.line,ce.line),ci=Math.min(s.lastLine(),Math.max(v.line,ce.line));En<=ci;En++){var Kr=pe(S,En).text,Kn=Wt(Kr,ln,Se);ln==sr?ve.push(new Qe(Xt(En,Kn),Xt(En,Kn))):Kr.length>Kn&&ve.push(new Qe(Xt(En,Kn),Xt(En,Wt(Kr,sr,Se))))}ve.length||ve.push(new Qe(v,v)),Sr(S,_o(s,j.ranges.slice(0,M).concat(ve),M),{origin:"*mouse",scroll:!1}),s.scrollIntoView(ce)}else{var qr=D,pr=zS(s,ce,p.unit),Jn=qr.anchor,qn;we(pr.anchor,Jn)>0?(qn=pr.head,Jn=Vt(qr.from(),pr.anchor)):(qn=pr.anchor,Jn=ct(qr.to(),pr.head));var Pn=j.ranges.slice(0);Pn[M]=TP(s,new Qe(te(S,Jn),qn)),Sr(S,_o(s,Pn,M),Ct)}}var Et=y.wrapper.getBoundingClientRect(),jt=0;function Yt(ce){var ve=++jt,Se=Fs(s,ce,!0,p.unit=="rectangle");if(Se)if(we(Se,ht)!=0){s.curOp.focus=ot(),kt(Se);var be=uh(y,S);(Se.line>=be.to||Se.line<be.from)&&setTimeout(or(s,function(){jt==ve&&Yt(ce)}),150)}else{var Re=ce.clientY<Et.top?-20:ce.clientY>Et.bottom?20:0;Re&&setTimeout(or(s,function(){jt==ve&&(y.scroller.scrollTop+=Re,Yt(ce))}),50)}}function ee(ce){s.state.selectingText=!1,jt=1/0,ce&&(Me(ce),y.input.focus()),de(y.wrapper.ownerDocument,"mousemove",ue),de(y.wrapper.ownerDocument,"mouseup",he),S.history.lastSelOrigin=null}var ue=or(s,function(ce){ce.buttons===0||!Tt(ce)?ee(ce):Yt(ce)}),he=or(s,ee);s.state.selectingText=he,Ot(y.wrapper.ownerDocument,"mousemove",ue),Ot(y.wrapper.ownerDocument,"mouseup",he)}function TP(s,f){var v=f.anchor,p=f.head,y=pe(s.doc,v.line);if(we(v,p)==0&&v.sticky==p.sticky)return f;var S=K(y);if(!S)return f;var D=et(S,v.ch,v.sticky),M=S[D];if(M.from!=v.ch&&M.to!=v.ch)return f;var j=D+(M.from==v.ch==(M.level!=1)?0:1);if(j==0||j==S.length)return f;var B;if(p.line!=v.line)B=(p.line-v.line)*(s.doc.direction=="ltr"?1:-1)>0;else{var lt=et(S,p.ch,p.sticky),ht=lt-D||(p.ch-v.ch)*(M.level==1?-1:1);lt==j-1||lt==j?B=ht<0:B=ht>0}var kt=S[j+(B?-1:0)],Et=B==(kt.level==1),jt=Et?kt.from:kt.to,Yt=Et?"after":"before";return v.ch==jt&&v.sticky==Yt?f:new Qe(new Xt(v.line,jt,Yt),p)}function HS(s,f,v,p){var y,S;if(f.touches)y=f.touches[0].clientX,S=f.touches[0].clientY;else try{y=f.clientX,S=f.clientY}catch{return!1}if(y>=Math.floor(s.display.gutters.getBoundingClientRect().right))return!1;p&&Me(f);var D=s.display,M=D.lineDiv.getBoundingClientRect();if(S>M.bottom||!Ee(s,v))return _n(f);S-=M.top-D.viewOffset;for(var j=0;j<s.display.gutterSpecs.length;++j){var B=D.gutters.childNodes[j];if(B&&B.getBoundingClientRect().right>=y){var lt=on(s.doc,S),ht=s.display.gutterSpecs[j];return re(s,v,s,lt,ht.className,f),_n(f)}}}function km(s,f){return HS(s,f,"gutterClick",!0)}function WS(s,f){Ji(s.display,f)||AP(s,f)||ie(s,f,"contextmenu")||Z||s.display.input.onContextMenu(f)}function AP(s,f){return Ee(s,"gutterContextMenu")?HS(s,f,"gutterContextMenu",!1):!1}function KS(s){s.display.wrapper.className=s.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+s.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Lc(s)}var Xl={toString:function(){return"CodeMirror.Init"}},qS={},Sh={};function DP(s){var f=s.optionHandlers;function v(p,y,S,D){s.defaults[p]=y,S&&(f[p]=D?function(M,j,B){B!=Xl&&S(M,j,B)}:S)}s.defineOption=v,s.Init=Xl,v("value","",function(p,y){return p.setValue(y)},!0),v("mode",null,function(p,y){p.doc.modeOption=y,bm(p)},!0),v("indentUnit",2,bm,!0),v("indentWithTabs",!1),v("smartIndent",!0),v("tabSize",4,function(p){zc(p),Lc(p),Hr(p)},!0),v("lineSeparator",null,function(p,y){if(p.doc.lineSep=y,!!y){var S=[],D=p.doc.first;p.doc.iter(function(j){for(var B=0;;){var lt=j.text.indexOf(y,B);if(lt==-1)break;B=lt+y.length,S.push(Xt(D,lt))}D++});for(var M=S.length-1;M>=0;M--)Kl(p.doc,y,S[M],Xt(S[M].line,S[M].ch+y.length))}}),v("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,function(p,y,S){p.state.specialChars=new RegExp(y.source+(y.test("	")?"":"|	"),"g"),S!=Xl&&p.refresh()}),v("specialCharPlaceholder",Gd,function(p){return p.refresh()},!0),v("electricChars",!0),v("inputStyle",C?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),v("spellcheck",!1,function(p,y){return p.getInputField().spellcheck=y},!0),v("autocorrect",!1,function(p,y){return p.getInputField().autocorrect=y},!0),v("autocapitalize",!1,function(p,y){return p.getInputField().autocapitalize=y},!0),v("rtlMoveVisually",!I),v("wholeLineUpdateBefore",!0),v("theme","default",function(p){KS(p),Fc(p)},!0),v("keyMap","default",function(p,y,S){var D=bh(y),M=S!=Xl&&bh(S);M&&M.detach&&M.detach(p,D),D.attach&&D.attach(p,M||null)}),v("extraKeys",null),v("configureMouse",null),v("lineWrapping",!1,PP,!0),v("gutters",[],function(p,y){p.display.gutterSpecs=ym(y,p.options.lineNumbers),Fc(p)},!0),v("fixedGutter",!0,function(p,y){p.display.gutters.style.left=y?sm(p.display)+"px":"0",p.refresh()},!0),v("coverGutterNextToScrollbar",!1,function(p){return Fl(p)},!0),v("scrollbarStyle","native",function(p){Yw(p),Fl(p),p.display.scrollbars.setScrollTop(p.doc.scrollTop),p.display.scrollbars.setScrollLeft(p.doc.scrollLeft)},!0),v("lineNumbers",!1,function(p,y){p.display.gutterSpecs=ym(p.options.gutters,y),Fc(p)},!0),v("firstLineNumber",1,Fc,!0),v("lineNumberFormatter",function(p){return p},Fc,!0),v("showCursorWhenSelecting",!1,Nc,!0),v("resetSelectionOnContextMenu",!0),v("lineWiseCopyCut",!0),v("pasteLinesPerSelection",!0),v("selectionsMayTouch",!1),v("readOnly",!1,function(p,y){y=="nocursor"&&(Ul(p),p.display.input.blur()),p.display.input.readOnlyChanged(y)}),v("screenReaderLabel",null,function(p,y){y=y===""?null:y,p.display.input.screenReaderLabelChanged(y)}),v("disableInput",!1,function(p,y){y||p.display.input.reset()},!0),v("dragDrop",!0,kP),v("allowDropFileTypes",null),v("cursorBlinkRate",530),v("cursorScrollMargin",0),v("cursorHeight",1,Nc,!0),v("singleCursorHeightPerLine",!0,Nc,!0),v("workTime",100),v("workDelay",100),v("flattenSpans",!0,zc,!0),v("addModeClass",!1,zc,!0),v("pollInterval",100),v("undoDepth",200,function(p,y){return p.doc.history.undoDepth=y}),v("historyEventDelay",1250),v("viewportMargin",10,function(p){return p.refresh()},!0),v("maxHighlightLength",1e4,zc,!0),v("moveInputWithCursor",!0,function(p,y){y||p.display.input.resetPosition()}),v("tabindex",null,function(p,y){return p.display.input.getField().tabIndex=y||""}),v("autofocus",null),v("direction","ltr",function(p,y){return p.doc.setDirection(y)},!0),v("phrases",null)}function kP(s,f,v){var p=v&&v!=Xl;if(!f!=!p){var y=s.display.dragFunctions,S=f?Ot:de;S(s.display.scroller,"dragstart",y.start),S(s.display.scroller,"dragenter",y.enter),S(s.display.scroller,"dragover",y.over),S(s.display.scroller,"dragleave",y.leave),S(s.display.scroller,"drop",y.drop)}}function PP(s){s.options.lineWrapping?(pt(s.display.wrapper,"CodeMirror-wrap"),s.display.sizer.style.minWidth="",s.display.sizerWidth=null):(tt(s.display.wrapper,"CodeMirror-wrap"),Ua(s)),lm(s),Hr(s),Lc(s),setTimeout(function(){return Fl(s)},100)}function Sn(s,f){var v=this;if(!(this instanceof Sn))return new Sn(s,f);this.options=f=f?at(f):{},at(qS,f,!1);var p=f.value;typeof p=="string"?p=new Wr(p,f.mode,null,f.lineSeparator,f.direction):f.mode&&(p.modeOption=f.mode),this.doc=p;var y=new Sn.inputStyles[f.inputStyle](this),S=this.display=new Wk(s,p,y,f);S.wrapper.CodeMirror=this,KS(this),f.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Yw(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new wt,keySeq:null,specialChars:null},f.autofocus&&!C&&S.input.focus(),l&&u<11&&setTimeout(function(){return v.display.input.reset(!0)},20),MP(this),uP(),Ks(this),this.curOp.forceUpdate=!0,iS(this,p),f.autofocus&&!C||this.hasFocus()?setTimeout(function(){v.hasFocus()&&!v.state.focused&&fm(v)},20):Ul(this);for(var D in Sh)Sh.hasOwnProperty(D)&&Sh[D](this,f[D],Xl);$w(this),f.finishInit&&f.finishInit(this);for(var M=0;M<Pm.length;++M)Pm[M](this);qs(this),c&&f.lineWrapping&&getComputedStyle(S.lineDiv).textRendering=="optimizelegibility"&&(S.lineDiv.style.textRendering="auto")}Sn.defaults=qS,Sn.optionHandlers=Sh;function MP(s){var f=s.display;Ot(f.scroller,"mousedown",or(s,FS)),l&&u<11?Ot(f.scroller,"dblclick",or(s,function(j){if(!ie(s,j)){var B=Fs(s,j);if(!(!B||km(s,j)||Ji(s.display,j))){Me(j);var lt=s.findWordAt(B);vh(s.doc,lt.anchor,lt.head)}}})):Ot(f.scroller,"dblclick",function(j){return ie(s,j)||Me(j)}),Ot(f.scroller,"contextmenu",function(j){return WS(s,j)}),Ot(f.input.getField(),"contextmenu",function(j){f.scroller.contains(j.target)||WS(s,j)});var v,p={end:0};function y(){f.activeTouch&&(v=setTimeout(function(){return f.activeTouch=null},1e3),p=f.activeTouch,p.end=+new Date)}function S(j){if(j.touches.length!=1)return!1;var B=j.touches[0];return B.radiusX<=1&&B.radiusY<=1}function D(j,B){if(B.left==null)return!0;var lt=B.left-j.left,ht=B.top-j.top;return lt*lt+ht*ht>20*20}Ot(f.scroller,"touchstart",function(j){if(!ie(s,j)&&!S(j)&&!km(s,j)){f.input.ensurePolled(),clearTimeout(v);var B=+new Date;f.activeTouch={start:B,moved:!1,prev:B-p.end<=300?p:null},j.touches.length==1&&(f.activeTouch.left=j.touches[0].pageX,f.activeTouch.top=j.touches[0].pageY)}}),Ot(f.scroller,"touchmove",function(){f.activeTouch&&(f.activeTouch.moved=!0)}),Ot(f.scroller,"touchend",function(j){var B=f.activeTouch;if(B&&!Ji(f,j)&&B.left!=null&&!B.moved&&new Date-B.start<300){var lt=s.coordsChar(f.activeTouch,"page"),ht;!B.prev||D(B,B.prev)?ht=new Qe(lt,lt):!B.prev.prev||D(B,B.prev.prev)?ht=s.findWordAt(lt):ht=new Qe(Xt(lt.line,0),te(s.doc,Xt(lt.line+1,0))),s.setSelection(ht.anchor,ht.head),s.focus(),Me(j)}y()}),Ot(f.scroller,"touchcancel",y),Ot(f.scroller,"scroll",function(){f.scroller.clientHeight&&(Ic(s,f.scroller.scrollTop),Hs(s,f.scroller.scrollLeft,!0),re(s,"scroll",s))}),Ot(f.scroller,"mousewheel",function(j){return tS(s,j)}),Ot(f.scroller,"DOMMouseScroll",function(j){return tS(s,j)}),Ot(f.wrapper,"scroll",function(){return f.wrapper.scrollTop=f.wrapper.scrollLeft=0}),f.dragFunctions={enter:function(j){ie(s,j)||J(j)},over:function(j){ie(s,j)||(lP(s,j),J(j))},start:function(j){return sP(s,j)},drop:or(s,aP),leave:function(j){ie(s,j)||AS(s)}};var M=f.input.getField();Ot(M,"keyup",function(j){return US.call(s,j)}),Ot(M,"keydown",or(s,VS)),Ot(M,"keypress",or(s,BS)),Ot(M,"focus",function(j){return fm(s,j)}),Ot(M,"blur",function(j){return Ul(s,j)})}var Pm=[];Sn.defineInitHook=function(s){return Pm.push(s)};function ef(s,f,v,p){var y=s.doc,S;v==null&&(v="add"),v=="smart"&&(y.mode.indent?S=Zo(s,f).state:v="prev");var D=s.options.tabSize,M=pe(y,f),j=Rt(M.text,null,D);M.stateAfter&&(M.stateAfter=null);var B=M.text.match(/^\s*/)[0],lt;if(!p&&!/\S/.test(M.text))lt=0,v="not";else if(v=="smart"&&(lt=y.mode.indent(S,M.text.slice(B.length),M.text),lt==W||lt>150)){if(!p)return;v="prev"}v=="prev"?f>y.first?lt=Rt(pe(y,f-1).text,null,D):lt=0:v=="add"?lt=j+s.options.indentUnit:v=="subtract"?lt=j-s.options.indentUnit:typeof v=="number"&&(lt=j+v),lt=Math.max(0,lt);var ht="",kt=0;if(s.options.indentWithTabs)for(var Et=Math.floor(lt/D);Et;--Et)kt+=D,ht+="	";if(kt<lt&&(ht+=It(lt-kt)),ht!=B)return Kl(y,ht,Xt(f,0),Xt(f,B.length),"+input"),M.stateAfter=null,!0;for(var jt=0;jt<y.sel.ranges.length;jt++){var Yt=y.sel.ranges[jt];if(Yt.head.line==f&&Yt.head.ch<B.length){var ee=Xt(f,B.length);xm(y,jt,new Qe(ee,ee));break}}}var bo=null;function Ch(s){bo=s}function Mm(s,f,v,p,y){var S=s.doc;s.display.shift=!1,p||(p=S.sel);var D=+new Date-200,M=y=="paste"||s.state.pasteIncoming>D,j=Nn(f),B=null;if(M&&p.ranges.length>1)if(bo&&bo.text.join(`
`)==f){if(p.ranges.length%bo.text.length==0){B=[];for(var lt=0;lt<bo.text.length;lt++)B.push(S.splitLines(bo.text[lt]))}}else j.length==p.ranges.length&&s.options.pasteLinesPerSelection&&(B=Dt(j,function(ue){return[ue]}));for(var ht=s.curOp.updateInput,kt=p.ranges.length-1;kt>=0;kt--){var Et=p.ranges[kt],jt=Et.from(),Yt=Et.to();Et.empty()&&(v&&v>0?jt=Xt(jt.line,jt.ch-v):s.state.overwrite&&!M?Yt=Xt(Yt.line,Math.min(pe(S,Yt.line).text.length,Yt.ch+R(j).length)):M&&bo&&bo.lineWise&&bo.text.join(`
`)==j.join(`
`)&&(jt=Yt=Xt(jt.line,0)));var ee={from:jt,to:Yt,text:B?B[kt%B.length]:j,origin:y||(M?"paste":s.state.cutIncoming>D?"cut":"+input")};Wl(s.doc,ee),kn(s,"inputRead",s,ee)}f&&!M&&YS(s,f),Bl(s),s.curOp.updateInput<2&&(s.curOp.updateInput=ht),s.curOp.typing=!0,s.state.pasteIncoming=s.state.cutIncoming=-1}function GS(s,f){var v=s.clipboardData&&s.clipboardData.getData("Text");if(v)return s.preventDefault(),!f.isReadOnly()&&!f.options.disableInput&&ui(f,function(){return Mm(f,v,0,null,"paste")}),!0}function YS(s,f){if(!(!s.options.electricChars||!s.options.smartIndent))for(var v=s.doc.sel,p=v.ranges.length-1;p>=0;p--){var y=v.ranges[p];if(!(y.head.ch>100||p&&v.ranges[p-1].head.line==y.head.line)){var S=s.getModeAt(y.head),D=!1;if(S.electricChars){for(var M=0;M<S.electricChars.length;M++)if(f.indexOf(S.electricChars.charAt(M))>-1){D=ef(s,y.head.line,"smart");break}}else S.electricInput&&S.electricInput.test(pe(s.doc,y.head.line).text.slice(0,y.head.ch))&&(D=ef(s,y.head.line,"smart"));D&&kn(s,"electricInput",s,y.head.line)}}}function XS(s){for(var f=[],v=[],p=0;p<s.doc.sel.ranges.length;p++){var y=s.doc.sel.ranges[p].head.line,S={anchor:Xt(y,0),head:Xt(y+1,0)};v.push(S),f.push(s.getRange(S.anchor,S.head))}return{text:f,ranges:v}}function ZS(s,f,v,p){s.setAttribute("autocorrect",v?"":"off"),s.setAttribute("autocapitalize",p?"":"off"),s.setAttribute("spellcheck",!!f)}function $S(){var s=F("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),f=F("div",[s],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return c?s.style.width="1000px":s.setAttribute("wrap","off"),x&&(s.style.border="1px solid black"),ZS(s),f}function RP(s){var f=s.optionHandlers,v=s.helpers={};s.prototype={constructor:s,focus:function(){window.focus(),this.display.input.focus()},setOption:function(p,y){var S=this.options,D=S[p];S[p]==y&&p!="mode"||(S[p]=y,f.hasOwnProperty(p)&&or(this,f[p])(this,y,D),re(this,"optionChange",this,p))},getOption:function(p){return this.options[p]},getDoc:function(){return this.doc},addKeyMap:function(p,y){this.state.keyMaps[y?"push":"unshift"](bh(p))},removeKeyMap:function(p){for(var y=this.state.keyMaps,S=0;S<y.length;++S)if(y[S]==p||y[S].name==p)return y.splice(S,1),!0},addOverlay:Pr(function(p,y){var S=p.token?p:s.getMode(this.options,p);if(S.startState)throw new Error("Overlays may not be stateful.");xt(this.state.overlays,{mode:S,modeSpec:p,opaque:y&&y.opaque,priority:y&&y.priority||0},function(D){return D.priority}),this.state.modeGen++,Hr(this)}),removeOverlay:Pr(function(p){for(var y=this.state.overlays,S=0;S<y.length;++S){var D=y[S].modeSpec;if(D==p||typeof p=="string"&&D.name==p){y.splice(S,1),this.state.modeGen++,Hr(this);return}}}),indentLine:Pr(function(p,y,S){typeof y!="string"&&typeof y!="number"&&(y==null?y=this.options.smartIndent?"smart":"prev":y=y?"add":"subtract"),oi(this.doc,p)&&ef(this,p,y,S)}),indentSelection:Pr(function(p){for(var y=this.doc.sel.ranges,S=-1,D=0;D<y.length;D++){var M=y[D];if(M.empty())M.head.line>S&&(ef(this,M.head.line,p,!0),S=M.head.line,D==this.doc.sel.primIndex&&Bl(this));else{var j=M.from(),B=M.to(),lt=Math.max(S,j.line);S=Math.min(this.lastLine(),B.line-(B.ch?0:1))+1;for(var ht=lt;ht<S;++ht)ef(this,ht,p);var kt=this.doc.sel.ranges;j.ch==0&&y.length==kt.length&&kt[D].from().ch>0&&xm(this.doc,D,new Qe(j,kt[D].to()),U)}}}),getTokenAt:function(p,y){return ja(this,p,y)},getLineTokens:function(p,y){return ja(this,Xt(p),y,!0)},getTokenTypeAt:function(p){p=te(this.doc,p);var y=La(this,pe(this.doc,p.line)),S=0,D=(y.length-1)/2,M=p.ch,j;if(M==0)j=y[2];else for(;;){var B=S+D>>1;if((B?y[B*2-1]:0)>=M)D=B;else if(y[B*2+1]<M)S=B+1;else{j=y[B*2+2];break}}var lt=j?j.indexOf("overlay "):-1;return lt<0?j:lt==0?null:j.slice(0,lt-1)},getModeAt:function(p){var y=this.doc.mode;return y.innerMode?s.innerMode(y,this.getTokenAt(p).state).mode:y},getHelper:function(p,y){return this.getHelpers(p,y)[0]},getHelpers:function(p,y){var S=[];if(!v.hasOwnProperty(y))return S;var D=v[y],M=this.getModeAt(p);if(typeof M[y]=="string")D[M[y]]&&S.push(D[M[y]]);else if(M[y])for(var j=0;j<M[y].length;j++){var B=D[M[y][j]];B&&S.push(B)}else M.helperType&&D[M.helperType]?S.push(D[M.helperType]):D[M.name]&&S.push(D[M.name]);for(var lt=0;lt<D._global.length;lt++){var ht=D._global[lt];ht.pred(M,this)&&Mt(S,ht.val)==-1&&S.push(ht.val)}return S},getStateAfter:function(p,y){var S=this.doc;return p=$t(S,p??S.first+S.size-1),Zo(this,p+1,y).state},cursorCoords:function(p,y){var S,D=this.doc.sel.primary();return p==null?S=D.head:typeof p=="object"?S=te(this.doc,p):S=p?D.from():D.to(),yo(this,S,y||"page")},charCoords:function(p,y){return oh(this,te(this.doc,p),y||"page")},coordsChar:function(p,y){return p=Lw(this,p,y||"page"),im(this,p.left,p.top)},lineAtHeight:function(p,y){return p=Lw(this,{top:p,left:0},y||"page").top,on(this.doc,p+this.display.viewOffset)},heightAtLine:function(p,y,S){var D=!1,M;if(typeof p=="number"){var j=this.doc.first+this.doc.size-1;p<this.doc.first?p=this.doc.first:p>j&&(p=j,D=!0),M=pe(this.doc,p)}else M=p;return ih(this,M,{top:0,left:0},y||"page",S||D).top+(D?this.doc.height-$i(M):0)},defaultTextHeight:function(){return Il(this.display)},defaultCharWidth:function(){return Vl(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(p,y,S,D,M){var j=this.display;p=yo(this,te(this.doc,p));var B=p.bottom,lt=p.left;if(y.style.position="absolute",y.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(y),j.sizer.appendChild(y),D=="over")B=p.top;else if(D=="above"||D=="near"){var ht=Math.max(j.wrapper.clientHeight,this.doc.height),kt=Math.max(j.sizer.clientWidth,j.lineSpace.clientWidth);(D=="above"||p.bottom+y.offsetHeight>ht)&&p.top>y.offsetHeight?B=p.top-y.offsetHeight:p.bottom+y.offsetHeight<=ht&&(B=p.bottom),lt+y.offsetWidth>kt&&(lt=kt-y.offsetWidth)}y.style.top=B+"px",y.style.left=y.style.right="",M=="right"?(lt=j.sizer.clientWidth-y.offsetWidth,y.style.right="0px"):(M=="left"?lt=0:M=="middle"&&(lt=(j.sizer.clientWidth-y.offsetWidth)/2),y.style.left=lt+"px"),S&&kk(this,{left:lt,top:B,right:lt+y.offsetWidth,bottom:B+y.offsetHeight})},triggerOnKeyDown:Pr(VS),triggerOnKeyPress:Pr(BS),triggerOnKeyUp:US,triggerOnMouseDown:Pr(FS),execCommand:function(p){if($c.hasOwnProperty(p))return $c[p].call(null,this)},triggerElectric:Pr(function(p){YS(this,p)}),findPosH:function(p,y,S,D){var M=1;y<0&&(M=-1,y=-y);for(var j=te(this.doc,p),B=0;B<y&&(j=Rm(this.doc,j,M,S,D),!j.hitSide);++B);return j},moveH:Pr(function(p,y){var S=this;this.extendSelectionsBy(function(D){return S.display.shift||S.doc.extend||D.empty()?Rm(S.doc,D.head,p,y,S.options.rtlMoveVisually):p<0?D.from():D.to()},vt)}),deleteH:Pr(function(p,y){var S=this.doc.sel,D=this.doc;S.somethingSelected()?D.replaceSelection("",null,"+delete"):Yl(this,function(M){var j=Rm(D,M.head,p,y,!1);return p<0?{from:j,to:M.head}:{from:M.head,to:j}})}),findPosV:function(p,y,S,D){var M=1,j=D;y<0&&(M=-1,y=-y);for(var B=te(this.doc,p),lt=0;lt<y;++lt){var ht=yo(this,B,"div");if(j==null?j=ht.left:ht.left=j,B=JS(this,ht,M,S),B.hitSide)break}return B},moveV:Pr(function(p,y){var S=this,D=this.doc,M=[],j=!this.display.shift&&!D.extend&&D.sel.somethingSelected();if(D.extendSelectionsBy(function(lt){if(j)return p<0?lt.from():lt.to();var ht=yo(S,lt.head,"div");lt.goalColumn!=null&&(ht.left=lt.goalColumn),M.push(ht.left);var kt=JS(S,ht,p,y);return y=="page"&&lt==D.sel.primary()&&hm(S,oh(S,kt,"div").top-ht.top),kt},vt),M.length)for(var B=0;B<D.sel.ranges.length;B++)D.sel.ranges[B].goalColumn=M[B]}),findWordAt:function(p){var y=this.doc,S=pe(y,p.line).text,D=p.ch,M=p.ch;if(S){var j=this.getHelper(p,"wordChars");(p.sticky=="before"||M==S.length)&&D?--D:++M;for(var B=S.charAt(D),lt=st(B,j)?function(ht){return st(ht,j)}:/\s/.test(B)?function(ht){return/\s/.test(ht)}:function(ht){return!/\s/.test(ht)&&!st(ht)};D>0&&lt(S.charAt(D-1));)--D;for(;M<S.length&&lt(S.charAt(M));)++M}return new Qe(Xt(p.line,D),Xt(p.line,M))},toggleOverwrite:function(p){p!=null&&p==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?pt(this.display.cursorDiv,"CodeMirror-overwrite"):tt(this.display.cursorDiv,"CodeMirror-overwrite"),re(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==ot()},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:Pr(function(p,y){jc(this,p,y)}),getScrollInfo:function(){var p=this.display.scroller;return{left:p.scrollLeft,top:p.scrollTop,height:p.scrollHeight-li(this)-this.display.barHeight,width:p.scrollWidth-li(this)-this.display.barWidth,clientHeight:V(this),clientWidth:oa(this)}},scrollIntoView:Pr(function(p,y){p==null?(p={from:this.doc.sel.primary().head,to:null},y==null&&(y=this.options.cursorScrollMargin)):typeof p=="number"?p={from:Xt(p,0),to:null}:p.from==null&&(p={from:p,to:null}),p.to||(p.to=p.from),p.margin=y||0,p.from.line!=null?Pk(this,p):Ww(this,p.from,p.to,p.margin)}),setSize:Pr(function(p,y){var S=this,D=function(j){return typeof j=="number"||/^\d+$/.test(String(j))?j+"px":j};p!=null&&(this.display.wrapper.style.width=D(p)),y!=null&&(this.display.wrapper.style.height=D(y)),this.options.lineWrapping&&Pw(this);var M=this.display.viewFrom;this.doc.iter(M,this.display.viewTo,function(j){if(j.widgets){for(var B=0;B<j.widgets.length;B++)if(j.widgets[B].noHScroll){Ga(S,M,"widget");break}}++M}),this.curOp.forceUpdate=!0,re(this,"refresh",this)}),operation:function(p){return ui(this,p)},startOperation:function(){return Ks(this)},endOperation:function(){return qs(this)},refresh:Pr(function(){var p=this.display.cachedTextHeight;Hr(this),this.curOp.forceUpdate=!0,Lc(this),jc(this,this.doc.scrollLeft,this.doc.scrollTop),gm(this.display),(p==null||Math.abs(p-Il(this.display))>.5||this.options.lineWrapping)&&lm(this),re(this,"refresh",this)}),swapDoc:Pr(function(p){var y=this.doc;return y.cm=null,this.state.selectingText&&this.state.selectingText(),iS(this,p),Lc(this),this.display.input.reset(),jc(this,p.scrollLeft,p.scrollTop),this.curOp.forceScroll=!0,kn(this,"swapDoc",this,y),y}),phrase:function(p){var y=this.options.phrases;return y&&Object.prototype.hasOwnProperty.call(y,p)?y[p]:p},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Ne(s),s.registerHelper=function(p,y,S){v.hasOwnProperty(p)||(v[p]=s[p]={_global:[]}),v[p][y]=S},s.registerGlobalHelper=function(p,y,S,D){s.registerHelper(p,y,D),v[p]._global.push({pred:S,val:D})}}function Rm(s,f,v,p,y){var S=f,D=v,M=pe(s,f.line),j=y&&s.direction=="rtl"?-v:v;function B(){var he=f.line+j;return he<s.first||he>=s.first+s.size?!1:(f=new Xt(he,f.ch,f.sticky),M=pe(s,he))}function lt(he){var ce;if(p=="codepoint"){var ve=M.text.charCodeAt(f.ch+(v>0?0:-1));if(isNaN(ve))ce=null;else{var Se=v>0?ve>=55296&&ve<56320:ve>=56320&&ve<57343;ce=new Xt(f.line,Math.max(0,Math.min(M.text.length,f.ch+v*(Se?2:1))),-v)}}else y?ce=pP(s.cm,M,f,v):ce=Em(M,f,v);if(ce==null)if(!he&&B())f=Tm(y,s.cm,M,f.line,j);else return!1;else f=ce;return!0}if(p=="char"||p=="codepoint")lt();else if(p=="column")lt(!0);else if(p=="word"||p=="group")for(var ht=null,kt=p=="group",Et=s.cm&&s.cm.getHelper(f,"wordChars"),jt=!0;!(v<0&&!lt(!jt));jt=!1){var Yt=M.text.charAt(f.ch)||`
`,ee=st(Yt,Et)?"w":kt&&Yt==`
`?"n":!kt||/\s/.test(Yt)?null:"p";if(kt&&!jt&&!ee&&(ee="s"),ht&&ht!=ee){v<0&&(v=1,lt(),f.sticky="after");break}if(ee&&(ht=ee),v>0&&!lt(!jt))break}var ue=mh(s,f,S,D,!0);return Ai(S,ue)&&(ue.hitSide=!0),ue}function JS(s,f,v,p){var y=s.doc,S=f.left,D;if(p=="page"){var M=Math.min(s.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),j=Math.max(M-.5*Il(s.display),3);D=(v>0?f.bottom:f.top)+v*j}else p=="line"&&(D=v>0?f.bottom+3:f.top-3);for(var B;B=im(s,S,D),!!B.outside;){if(v<0?D<=0:D>=y.height){B.hitSide=!0;break}D+=v*5}return B}var rn=function(s){this.cm=s,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new wt,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};rn.prototype.init=function(s){var f=this,v=this,p=v.cm,y=v.div=s.lineDiv;y.contentEditable=!0,ZS(y,p.options.spellcheck,p.options.autocorrect,p.options.autocapitalize);function S(M){for(var j=M.target;j;j=j.parentNode){if(j==y)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(j.className))break}return!1}Ot(y,"paste",function(M){!S(M)||ie(p,M)||GS(M,p)||u<=11&&setTimeout(or(p,function(){return f.updateFromDOM()}),20)}),Ot(y,"compositionstart",function(M){f.composing={data:M.data,done:!1}}),Ot(y,"compositionupdate",function(M){f.composing||(f.composing={data:M.data,done:!1})}),Ot(y,"compositionend",function(M){f.composing&&(M.data!=f.composing.data&&f.readFromDOMSoon(),f.composing.done=!0)}),Ot(y,"touchstart",function(){return v.forceCompositionEnd()}),Ot(y,"input",function(){f.composing||f.readFromDOMSoon()});function D(M){if(!(!S(M)||ie(p,M))){if(p.somethingSelected())Ch({lineWise:!1,text:p.getSelections()}),M.type=="cut"&&p.replaceSelection("",null,"cut");else if(p.options.lineWiseCopyCut){var j=XS(p);Ch({lineWise:!0,text:j.text}),M.type=="cut"&&p.operation(function(){p.setSelections(j.ranges,0,U),p.replaceSelection("",null,"cut")})}else return;if(M.clipboardData){M.clipboardData.clearData();var B=bo.text.join(`
`);if(M.clipboardData.setData("Text",B),M.clipboardData.getData("Text")==B){M.preventDefault();return}}var lt=$S(),ht=lt.firstChild;p.display.lineSpace.insertBefore(lt,p.display.lineSpace.firstChild),ht.value=bo.text.join(`
`);var kt=ot();Lt(ht),setTimeout(function(){p.display.lineSpace.removeChild(lt),kt.focus(),kt==y&&v.showPrimarySelection()},50)}}Ot(y,"copy",D),Ot(y,"cut",D)},rn.prototype.screenReaderLabelChanged=function(s){s?this.div.setAttribute("aria-label",s):this.div.removeAttribute("aria-label")},rn.prototype.prepareSelection=function(){var s=Bw(this.cm,!1);return s.focus=ot()==this.div,s},rn.prototype.showSelection=function(s,f){!s||!this.cm.display.view.length||((s.focus||f)&&this.showPrimarySelection(),this.showMultipleSelections(s))},rn.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},rn.prototype.showPrimarySelection=function(){var s=this.getSelection(),f=this.cm,v=f.doc.sel.primary(),p=v.from(),y=v.to();if(f.display.viewTo==f.display.viewFrom||p.line>=f.display.viewTo||y.line<f.display.viewFrom){s.removeAllRanges();return}var S=xh(f,s.anchorNode,s.anchorOffset),D=xh(f,s.focusNode,s.focusOffset);if(!(S&&!S.bad&&D&&!D.bad&&we(Vt(S,D),p)==0&&we(ct(S,D),y)==0)){var M=f.display.view,j=p.line>=f.display.viewFrom&&QS(f,p)||{node:M[0].measure.map[2],offset:0},B=y.line<f.display.viewTo&&QS(f,y);if(!B){var lt=M[M.length-1].measure,ht=lt.maps?lt.maps[lt.maps.length-1]:lt.map;B={node:ht[ht.length-1],offset:ht[ht.length-2]-ht[ht.length-3]}}if(!j||!B){s.removeAllRanges();return}var kt=s.rangeCount&&s.getRangeAt(0),Et;try{Et=nt(j.node,j.offset,B.offset,B.node)}catch{}Et&&(!n&&f.state.focused?(s.collapse(j.node,j.offset),Et.collapsed||(s.removeAllRanges(),s.addRange(Et))):(s.removeAllRanges(),s.addRange(Et)),kt&&s.anchorNode==null?s.addRange(kt):n&&this.startGracePeriod()),this.rememberSelection()}},rn.prototype.startGracePeriod=function(){var s=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){s.gracePeriod=!1,s.selectionChanged()&&s.cm.operation(function(){return s.cm.curOp.selectionChanged=!0})},20)},rn.prototype.showMultipleSelections=function(s){k(this.cm.display.cursorDiv,s.cursors),k(this.cm.display.selectionDiv,s.selection)},rn.prototype.rememberSelection=function(){var s=this.getSelection();this.lastAnchorNode=s.anchorNode,this.lastAnchorOffset=s.anchorOffset,this.lastFocusNode=s.focusNode,this.lastFocusOffset=s.focusOffset},rn.prototype.selectionInEditor=function(){var s=this.getSelection();if(!s.rangeCount)return!1;var f=s.getRangeAt(0).commonAncestorContainer;return L(this.div,f)},rn.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||ot()!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},rn.prototype.blur=function(){this.div.blur()},rn.prototype.getField=function(){return this.div},rn.prototype.supportsTouch=function(){return!0},rn.prototype.receivedFocus=function(){var s=this,f=this;this.selectionInEditor()?setTimeout(function(){return s.pollSelection()},20):ui(this.cm,function(){return f.cm.curOp.selectionChanged=!0});function v(){f.cm.state.focused&&(f.pollSelection(),f.polling.set(f.cm.options.pollInterval,v))}this.polling.set(this.cm.options.pollInterval,v)},rn.prototype.selectionChanged=function(){var s=this.getSelection();return s.anchorNode!=this.lastAnchorNode||s.anchorOffset!=this.lastAnchorOffset||s.focusNode!=this.lastFocusNode||s.focusOffset!=this.lastFocusOffset},rn.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var s=this.getSelection(),f=this.cm;if(_&&h&&this.cm.display.gutterSpecs.length&&LP(s.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var v=xh(f,s.anchorNode,s.anchorOffset),p=xh(f,s.focusNode,s.focusOffset);v&&p&&ui(f,function(){Sr(f.doc,Xa(v,p),U),(v.bad||p.bad)&&(f.curOp.selectionChanged=!0)})}}},rn.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var s=this.cm,f=s.display,v=s.doc.sel.primary(),p=v.from(),y=v.to();if(p.ch==0&&p.line>s.firstLine()&&(p=Xt(p.line-1,pe(s.doc,p.line-1).length)),y.ch==pe(s.doc,y.line).text.length&&y.line<s.lastLine()&&(y=Xt(y.line+1,0)),p.line<f.viewFrom||y.line>f.viewTo-1)return!1;var S,D,M;p.line==f.viewFrom||(S=zs(s,p.line))==0?(D=Ie(f.view[0].line),M=f.view[0].node):(D=Ie(f.view[S].line),M=f.view[S-1].node.nextSibling);var j=zs(s,y.line),B,lt;if(j==f.view.length-1?(B=f.viewTo-1,lt=f.lineDiv.lastChild):(B=Ie(f.view[j+1].line)-1,lt=f.view[j+1].node.previousSibling),!M)return!1;for(var ht=s.doc.splitLines(NP(s,M,lt,D,B)),kt=nr(s.doc,Xt(D,0),Xt(B,pe(s.doc,B).text.length));ht.length>1&&kt.length>1;)if(R(ht)==R(kt))ht.pop(),kt.pop(),B--;else if(ht[0]==kt[0])ht.shift(),kt.shift(),D++;else break;for(var Et=0,jt=0,Yt=ht[0],ee=kt[0],ue=Math.min(Yt.length,ee.length);Et<ue&&Yt.charCodeAt(Et)==ee.charCodeAt(Et);)++Et;for(var he=R(ht),ce=R(kt),ve=Math.min(he.length-(ht.length==1?Et:0),ce.length-(kt.length==1?Et:0));jt<ve&&he.charCodeAt(he.length-jt-1)==ce.charCodeAt(ce.length-jt-1);)++jt;if(ht.length==1&&kt.length==1&&D==p.line)for(;Et&&Et>p.ch&&he.charCodeAt(he.length-jt-1)==ce.charCodeAt(ce.length-jt-1);)Et--,jt++;ht[ht.length-1]=he.slice(0,he.length-jt).replace(/^\u200b+/,""),ht[0]=ht[0].slice(Et).replace(/\u200b+$/,"");var Se=Xt(D,Et),be=Xt(B,kt.length?R(kt).length-jt:0);if(ht.length>1||ht[0]||we(Se,be))return Kl(s.doc,ht,Se,be,"+input"),!0},rn.prototype.ensurePolled=function(){this.forceCompositionEnd()},rn.prototype.reset=function(){this.forceCompositionEnd()},rn.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},rn.prototype.readFromDOMSoon=function(){var s=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(s.readDOMTimeout=null,s.composing)if(s.composing.done)s.composing=null;else return;s.updateFromDOM()},80))},rn.prototype.updateFromDOM=function(){var s=this;(this.cm.isReadOnly()||!this.pollContent())&&ui(this.cm,function(){return Hr(s.cm)})},rn.prototype.setUneditable=function(s){s.contentEditable="false"},rn.prototype.onKeyPress=function(s){s.charCode==0||this.composing||(s.preventDefault(),this.cm.isReadOnly()||or(this.cm,Mm)(this.cm,String.fromCharCode(s.charCode==null?s.keyCode:s.charCode),0))},rn.prototype.readOnlyChanged=function(s){this.div.contentEditable=String(s!="nocursor")},rn.prototype.onContextMenu=function(){},rn.prototype.resetPosition=function(){},rn.prototype.needsContentAttribute=!0;function QS(s,f){var v=At(s,f.line);if(!v||v.hidden)return null;var p=pe(s.doc,f.line),y=ft(v,p,f.line),S=K(p,s.doc.direction),D="left";if(S){var M=et(S,f.ch);D=M%2?"right":"left"}var j=Te(y.map,f.ch,D);return j.offset=j.collapse=="right"?j.end:j.start,j}function LP(s){for(var f=s;f;f=f.parentNode)if(/CodeMirror-gutter-wrapper/.test(f.className))return!0;return!1}function Zl(s,f){return f&&(s.bad=!0),s}function NP(s,f,v,p,y){var S="",D=!1,M=s.doc.lineSeparator(),j=!1;function B(Et){return function(jt){return jt.id==Et}}function lt(){D&&(S+=M,j&&(S+=M),D=j=!1)}function ht(Et){Et&&(lt(),S+=Et)}function kt(Et){if(Et.nodeType==1){var jt=Et.getAttribute("cm-text");if(jt){ht(jt);return}var Yt=Et.getAttribute("cm-marker"),ee;if(Yt){var ue=s.findMarks(Xt(p,0),Xt(y+1,0),B(+Yt));ue.length&&(ee=ue[0].find(0))&&ht(nr(s.doc,ee.from,ee.to).join(M));return}if(Et.getAttribute("contenteditable")=="false")return;var he=/^(pre|div|p|li|table|br)$/i.test(Et.nodeName);if(!/^br$/i.test(Et.nodeName)&&Et.textContent.length==0)return;he&&lt();for(var ce=0;ce<Et.childNodes.length;ce++)kt(Et.childNodes[ce]);/^(pre|p)$/i.test(Et.nodeName)&&(j=!0),he&&(D=!0)}else Et.nodeType==3&&ht(Et.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;kt(f),f!=v;)f=f.nextSibling,j=!1;return S}function xh(s,f,v){var p;if(f==s.display.lineDiv){if(p=s.display.lineDiv.childNodes[v],!p)return Zl(s.clipPos(Xt(s.display.viewTo-1)),!0);f=null,v=0}else for(p=f;;p=p.parentNode){if(!p||p==s.display.lineDiv)return null;if(p.parentNode&&p.parentNode==s.display.lineDiv)break}for(var y=0;y<s.display.view.length;y++){var S=s.display.view[y];if(S.node==p)return jP(S,f,v)}}function jP(s,f,v){var p=s.text.firstChild,y=!1;if(!f||!L(p,f))return Zl(Xt(Ie(s.line),0),!0);if(f==p&&(y=!0,f=p.childNodes[v],v=0,!f)){var S=s.rest?R(s.rest):s.line;return Zl(Xt(Ie(S),S.text.length),y)}var D=f.nodeType==3?f:null,M=f;for(!D&&f.childNodes.length==1&&f.firstChild.nodeType==3&&(D=f.firstChild,v&&(v=D.nodeValue.length));M.parentNode!=p;)M=M.parentNode;var j=s.measure,B=j.maps;function lt(ee,ue,he){for(var ce=-1;ce<(B?B.length:0);ce++)for(var ve=ce<0?j.map:B[ce],Se=0;Se<ve.length;Se+=3){var be=ve[Se+2];if(be==ee||be==ue){var Re=Ie(ce<0?s.line:s.rest[ce]),ln=ve[Se]+he;return(he<0||be!=ee)&&(ln=ve[Se+(he?1:0)]),Xt(Re,ln)}}}var ht=lt(D,M,v);if(ht)return Zl(ht,y);for(var kt=M.nextSibling,Et=D?D.nodeValue.length-v:0;kt;kt=kt.nextSibling){if(ht=lt(kt,kt.firstChild,0),ht)return Zl(Xt(ht.line,ht.ch-Et),y);Et+=kt.textContent.length}for(var jt=M.previousSibling,Yt=v;jt;jt=jt.previousSibling){if(ht=lt(jt,jt.firstChild,-1),ht)return Zl(Xt(ht.line,ht.ch+Yt),y);Yt+=jt.textContent.length}}var In=function(s){this.cm=s,this.prevInput="",this.pollingFast=!1,this.polling=new wt,this.hasSelection=!1,this.composing=null};In.prototype.init=function(s){var f=this,v=this,p=this.cm;this.createField(s);var y=this.textarea;s.wrapper.insertBefore(this.wrapper,s.wrapper.firstChild),x&&(y.style.width="0px"),Ot(y,"input",function(){l&&u>=9&&f.hasSelection&&(f.hasSelection=null),v.poll()}),Ot(y,"paste",function(D){ie(p,D)||GS(D,p)||(p.state.pasteIncoming=+new Date,v.fastPoll())});function S(D){if(!ie(p,D)){if(p.somethingSelected())Ch({lineWise:!1,text:p.getSelections()});else if(p.options.lineWiseCopyCut){var M=XS(p);Ch({lineWise:!0,text:M.text}),D.type=="cut"?p.setSelections(M.ranges,null,U):(v.prevInput="",y.value=M.text.join(`
`),Lt(y))}else return;D.type=="cut"&&(p.state.cutIncoming=+new Date)}}Ot(y,"cut",S),Ot(y,"copy",S),Ot(s.scroller,"paste",function(D){if(!(Ji(s,D)||ie(p,D))){if(!y.dispatchEvent){p.state.pasteIncoming=+new Date,v.focus();return}var M=new Event("paste");M.clipboardData=D.clipboardData,y.dispatchEvent(M)}}),Ot(s.lineSpace,"selectstart",function(D){Ji(s,D)||Me(D)}),Ot(y,"compositionstart",function(){var D=p.getCursor("from");v.composing&&v.composing.range.clear(),v.composing={start:D,range:p.markText(D,p.getCursor("to"),{className:"CodeMirror-composing"})}}),Ot(y,"compositionend",function(){v.composing&&(v.poll(),v.composing.range.clear(),v.composing=null)})},In.prototype.createField=function(s){this.wrapper=$S(),this.textarea=this.wrapper.firstChild},In.prototype.screenReaderLabelChanged=function(s){s?this.textarea.setAttribute("aria-label",s):this.textarea.removeAttribute("aria-label")},In.prototype.prepareSelection=function(){var s=this.cm,f=s.display,v=s.doc,p=Bw(s);if(s.options.moveInputWithCursor){var y=yo(s,v.sel.primary().head,"div"),S=f.wrapper.getBoundingClientRect(),D=f.lineDiv.getBoundingClientRect();p.teTop=Math.max(0,Math.min(f.wrapper.clientHeight-10,y.top+D.top-S.top)),p.teLeft=Math.max(0,Math.min(f.wrapper.clientWidth-10,y.left+D.left-S.left))}return p},In.prototype.showSelection=function(s){var f=this.cm,v=f.display;k(v.cursorDiv,s.cursors),k(v.selectionDiv,s.selection),s.teTop!=null&&(this.wrapper.style.top=s.teTop+"px",this.wrapper.style.left=s.teLeft+"px")},In.prototype.reset=function(s){if(!(this.contextMenuPending||this.composing)){var f=this.cm;if(f.somethingSelected()){this.prevInput="";var v=f.getSelection();this.textarea.value=v,f.state.focused&&Lt(this.textarea),l&&u>=9&&(this.hasSelection=v)}else s||(this.prevInput=this.textarea.value="",l&&u>=9&&(this.hasSelection=null))}},In.prototype.getField=function(){return this.textarea},In.prototype.supportsTouch=function(){return!1},In.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!C||ot()!=this.textarea))try{this.textarea.focus()}catch{}},In.prototype.blur=function(){this.textarea.blur()},In.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},In.prototype.receivedFocus=function(){this.slowPoll()},In.prototype.slowPoll=function(){var s=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){s.poll(),s.cm.state.focused&&s.slowPoll()})},In.prototype.fastPoll=function(){var s=!1,f=this;f.pollingFast=!0;function v(){var p=f.poll();!p&&!s?(s=!0,f.polling.set(60,v)):(f.pollingFast=!1,f.slowPoll())}f.polling.set(20,v)},In.prototype.poll=function(){var s=this,f=this.cm,v=this.textarea,p=this.prevInput;if(this.contextMenuPending||!f.state.focused||hn(v)&&!p&&!this.composing||f.isReadOnly()||f.options.disableInput||f.state.keySeq)return!1;var y=v.value;if(y==p&&!f.somethingSelected())return!1;if(l&&u>=9&&this.hasSelection===y||O&&/[\uf700-\uf7ff]/.test(y))return f.display.input.reset(),!1;if(f.doc.sel==f.display.selForContextMenu){var S=y.charCodeAt(0);if(S==8203&&!p&&(p="​"),S==8666)return this.reset(),this.cm.execCommand("undo")}for(var D=0,M=Math.min(p.length,y.length);D<M&&p.charCodeAt(D)==y.charCodeAt(D);)++D;return ui(f,function(){Mm(f,y.slice(D),p.length-D,null,s.composing?"*compose":null),y.length>1e3||y.indexOf(`
`)>-1?v.value=s.prevInput="":s.prevInput=y,s.composing&&(s.composing.range.clear(),s.composing.range=f.markText(s.composing.start,f.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},In.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},In.prototype.onKeyPress=function(){l&&u>=9&&(this.hasSelection=null),this.fastPoll()},In.prototype.onContextMenu=function(s){var f=this,v=f.cm,p=v.display,y=f.textarea;f.contextMenuPending&&f.contextMenuPending();var S=Fs(v,s),D=p.scroller.scrollTop;if(!S||g)return;var M=v.options.resetSelectionOnContextMenu;M&&v.doc.sel.contains(S)==-1&&or(v,Sr)(v.doc,Xa(S),U);var j=y.style.cssText,B=f.wrapper.style.cssText,lt=f.wrapper.offsetParent.getBoundingClientRect();f.wrapper.style.cssText="position: static",y.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(s.clientY-lt.top-5)+"px; left: "+(s.clientX-lt.left-5)+`px;
      z-index: 1000; background: `+(l?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var ht;c&&(ht=window.scrollY),p.input.focus(),c&&window.scrollTo(null,ht),p.input.reset(),v.somethingSelected()||(y.value=f.prevInput=" "),f.contextMenuPending=Et,p.selForContextMenu=v.doc.sel,clearTimeout(p.detectingSelectAll);function kt(){if(y.selectionStart!=null){var Yt=v.somethingSelected(),ee="​"+(Yt?y.value:"");y.value="⇚",y.value=ee,f.prevInput=Yt?"":"​",y.selectionStart=1,y.selectionEnd=ee.length,p.selForContextMenu=v.doc.sel}}function Et(){if(f.contextMenuPending==Et&&(f.contextMenuPending=!1,f.wrapper.style.cssText=B,y.style.cssText=j,l&&u<9&&p.scrollbars.setScrollTop(p.scroller.scrollTop=D),y.selectionStart!=null)){(!l||l&&u<9)&&kt();var Yt=0,ee=function(){p.selForContextMenu==v.doc.sel&&y.selectionStart==0&&y.selectionEnd>0&&f.prevInput=="​"?or(v,mS)(v):Yt++<10?p.detectingSelectAll=setTimeout(ee,500):(p.selForContextMenu=null,p.input.reset())};p.detectingSelectAll=setTimeout(ee,200)}}if(l&&u>=9&&kt(),Z){J(s);var jt=function(){de(window,"mouseup",jt),setTimeout(Et,20)};Ot(window,"mouseup",jt)}else setTimeout(Et,50)},In.prototype.readOnlyChanged=function(s){s||this.reset(),this.textarea.disabled=s=="nocursor",this.textarea.readOnly=!!s},In.prototype.setUneditable=function(){},In.prototype.needsContentAttribute=!1;function IP(s,f){if(f=f?at(f):{},f.value=s.value,!f.tabindex&&s.tabIndex&&(f.tabindex=s.tabIndex),!f.placeholder&&s.placeholder&&(f.placeholder=s.placeholder),f.autofocus==null){var v=ot();f.autofocus=v==s||s.getAttribute("autofocus")!=null&&v==document.body}function p(){s.value=M.getValue()}var y;if(s.form&&(Ot(s.form,"submit",p),!f.leaveSubmitMethodAlone)){var S=s.form;y=S.submit;try{var D=S.submit=function(){p(),S.submit=y,S.submit(),S.submit=D}}catch{}}f.finishInit=function(j){j.save=p,j.getTextArea=function(){return s},j.toTextArea=function(){j.toTextArea=isNaN,p(),s.parentNode.removeChild(j.getWrapperElement()),s.style.display="",s.form&&(de(s.form,"submit",p),!f.leaveSubmitMethodAlone&&typeof s.form.submit=="function"&&(s.form.submit=y))}},s.style.display="none";var M=Sn(function(j){return s.parentNode.insertBefore(j,s.nextSibling)},f);return M}function VP(s){s.off=de,s.on=Ot,s.wheelEventPixels=Kk,s.Doc=Wr,s.splitLines=Nn,s.countColumn=Rt,s.findColumn=Wt,s.isWordChar=Y,s.Pass=W,s.signal=re,s.Line=ir,s.changeEnd=Za,s.scrollbarModel=Gw,s.Pos=Xt,s.cmpPos=we,s.modes=ri,s.mimeModes=Xe,s.resolveMode=br,s.getMode=Ce,s.modeExtensions=ii,s.extendMode=Br,s.copyState=Fn,s.startState=Ar,s.innerMode=zn,s.commands=$c,s.keyMap=aa,s.keyName=RS,s.isModifierKey=PS,s.lookupKey=Gl,s.normalizeKeyMap=hP,s.StringStream=Ze,s.SharedTextMarker=Yc,s.TextMarker=Ja,s.LineWidget=Gc,s.e_preventDefault=Me,s.e_stopPropagation=nn,s.e_stop=J,s.addClass=pt,s.contains=L,s.rmClass=tt,s.keyNames=Qa}DP(Sn),RP(Sn);var UP="iter insert remove copy getEditor constructor".split(" ");for(var Oh in Wr.prototype)Wr.prototype.hasOwnProperty(Oh)&&Mt(UP,Oh)<0&&(Sn.prototype[Oh]=function(s){return function(){return s.apply(this.doc,arguments)}}(Wr.prototype[Oh]));return Ne(Wr),Sn.inputStyles={textarea:In,contenteditable:rn},Sn.defineMode=function(s){!Sn.defaults.mode&&s!="null"&&(Sn.defaults.mode=s),jn.apply(this,arguments)},Sn.defineMIME=Ue,Sn.defineMode("null",function(){return{token:function(s){return s.skipToEnd()}}}),Sn.defineMIME("text/plain","null"),Sn.defineExtension=function(s,f){Sn.prototype[s]=f},Sn.defineDocExtension=function(s,f){Wr.prototype[s]=f},Sn.fromTextArea=IP,VP(Sn),Sn.version="5.63.0",Sn})},7389:(r,e,t)=>{(function(n){n(t(4408))})(function(n){n.defineMode("css",function(H,k){var F=k.inline;k.propertyKeywords||(k=n.resolveMode("text/css"));var T=H.indentUnit,nt=k.tokenHooks,L=k.documentTypes||{},ot=k.mediaTypes||{},pt=k.mediaFeatures||{},mt=k.mediaValueKeywords||{},Lt=k.propertyKeywords||{},St=k.nonStandardPropertyKeywords||{},at=k.fontProperties||{},Rt=k.counterDescriptors||{},wt=k.colorKeywords||{},Mt=k.valueKeywords||{},Qt=k.allowNested,W=k.lineComment,U=k.supportsAtComponent===!0,Ct=H.highlightNonStandardPropertyKeywords!==!1,vt,Wt;function yt(X,dt){return vt=dt,X}function It(X,dt){var ut=X.next();if(nt[ut]){var zt=nt[ut](X,dt);if(zt!==!1)return zt}if(ut=="@")return X.eatWhile(/[\w\\\-]/),yt("def",X.current());if(ut=="="||(ut=="~"||ut=="|")&&X.eat("="))return yt(null,"compare");if(ut=='"'||ut=="'")return dt.tokenize=R(ut),dt.tokenize(X,dt);if(ut=="#")return X.eatWhile(/[\w\\\-]/),yt("atom","hash");if(ut=="!")return X.match(/^\s*\w*/),yt("keyword","important");if(/\d/.test(ut)||ut=="."&&X.eat(/\d/))return X.eatWhile(/[\w.%]/),yt("number","unit");if(ut==="-"){if(/[\d.]/.test(X.peek()))return X.eatWhile(/[\w.%]/),yt("number","unit");if(X.match(/^-[\w\\\-]*/))return X.eatWhile(/[\w\\\-]/),X.match(/^\s*:/,!1)?yt("variable-2","variable-definition"):yt("variable-2","variable");if(X.match(/^\w+-/))return yt("meta","meta")}else return/[,+>*\/]/.test(ut)?yt(null,"select-op"):ut=="."&&X.match(/^-?[_a-z][_a-z0-9-]*/i)?yt("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(ut)?yt(null,ut):X.match(/^[\w-.]+(?=\()/)?(/^(url(-prefix)?|domain|regexp)$/i.test(X.current())&&(dt.tokenize=Dt),yt("variable callee","variable")):/[\w\\\-]/.test(ut)?(X.eatWhile(/[\w\\\-]/),yt("property","word")):yt(null,null)}function R(X){return function(dt,ut){for(var zt=!1,fe;(fe=dt.next())!=null;){if(fe==X&&!zt){X==")"&&dt.backUp(1);break}zt=!zt&&fe=="\\"}return(fe==X||!zt&&X!=")")&&(ut.tokenize=null),yt("string","string")}}function Dt(X,dt){return X.next(),X.match(/^\s*[\"\')]/,!1)?dt.tokenize=null:dt.tokenize=R(")"),yt(null,"(")}function xt(X,dt,ut){this.type=X,this.indent=dt,this.prev=ut}function rt(X,dt,ut,zt){return X.context=new xt(ut,dt.indentation()+(zt===!1?0:T),X.context),ut}function E(X){return X.context.prev&&(X.context=X.context.prev),X.context.type}function N(X,dt,ut){return it[ut.context.type](X,dt,ut)}function Y(X,dt,ut,zt){for(var fe=zt||1;fe>0;fe--)ut.context=ut.context.prev;return N(X,dt,ut)}function st(X){var dt=X.current().toLowerCase();Mt.hasOwnProperty(dt)?Wt="atom":wt.hasOwnProperty(dt)?Wt="keyword":Wt="variable"}var it={};return it.top=function(X,dt,ut){if(X=="{")return rt(ut,dt,"block");if(X=="}"&&ut.context.prev)return E(ut);if(U&&/@component/i.test(X))return rt(ut,dt,"atComponentBlock");if(/^@(-moz-)?document$/i.test(X))return rt(ut,dt,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/i.test(X))return rt(ut,dt,"atBlock");if(/^@(font-face|counter-style)/i.test(X))return ut.stateArg=X,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(X))return"keyframes";if(X&&X.charAt(0)=="@")return rt(ut,dt,"at");if(X=="hash")Wt="builtin";else if(X=="word")Wt="tag";else{if(X=="variable-definition")return"maybeprop";if(X=="interpolation")return rt(ut,dt,"interpolation");if(X==":")return"pseudo";if(Qt&&X=="(")return rt(ut,dt,"parens")}return ut.context.type},it.block=function(X,dt,ut){if(X=="word"){var zt=dt.current().toLowerCase();return Lt.hasOwnProperty(zt)?(Wt="property","maybeprop"):St.hasOwnProperty(zt)?(Wt=Ct?"string-2":"property","maybeprop"):Qt?(Wt=dt.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(Wt+=" error","maybeprop")}else return X=="meta"?"block":!Qt&&(X=="hash"||X=="qualifier")?(Wt="error","block"):it.top(X,dt,ut)},it.maybeprop=function(X,dt,ut){return X==":"?rt(ut,dt,"prop"):N(X,dt,ut)},it.prop=function(X,dt,ut){if(X==";")return E(ut);if(X=="{"&&Qt)return rt(ut,dt,"propBlock");if(X=="}"||X=="{")return Y(X,dt,ut);if(X=="(")return rt(ut,dt,"parens");if(X=="hash"&&!/^#([0-9a-fA-f]{3,4}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/.test(dt.current()))Wt+=" error";else if(X=="word")st(dt);else if(X=="interpolation")return rt(ut,dt,"interpolation");return"prop"},it.propBlock=function(X,dt,ut){return X=="}"?E(ut):X=="word"?(Wt="property","maybeprop"):ut.context.type},it.parens=function(X,dt,ut){return X=="{"||X=="}"?Y(X,dt,ut):X==")"?E(ut):X=="("?rt(ut,dt,"parens"):X=="interpolation"?rt(ut,dt,"interpolation"):(X=="word"&&st(dt),"parens")},it.pseudo=function(X,dt,ut){return X=="meta"?"pseudo":X=="word"?(Wt="variable-3",ut.context.type):N(X,dt,ut)},it.documentTypes=function(X,dt,ut){return X=="word"&&L.hasOwnProperty(dt.current())?(Wt="tag",ut.context.type):it.atBlock(X,dt,ut)},it.atBlock=function(X,dt,ut){if(X=="(")return rt(ut,dt,"atBlock_parens");if(X=="}"||X==";")return Y(X,dt,ut);if(X=="{")return E(ut)&&rt(ut,dt,Qt?"block":"top");if(X=="interpolation")return rt(ut,dt,"interpolation");if(X=="word"){var zt=dt.current().toLowerCase();zt=="only"||zt=="not"||zt=="and"||zt=="or"?Wt="keyword":ot.hasOwnProperty(zt)?Wt="attribute":pt.hasOwnProperty(zt)?Wt="property":mt.hasOwnProperty(zt)?Wt="keyword":Lt.hasOwnProperty(zt)?Wt="property":St.hasOwnProperty(zt)?Wt=Ct?"string-2":"property":Mt.hasOwnProperty(zt)?Wt="atom":wt.hasOwnProperty(zt)?Wt="keyword":Wt="error"}return ut.context.type},it.atComponentBlock=function(X,dt,ut){return X=="}"?Y(X,dt,ut):X=="{"?E(ut)&&rt(ut,dt,Qt?"block":"top",!1):(X=="word"&&(Wt="error"),ut.context.type)},it.atBlock_parens=function(X,dt,ut){return X==")"?E(ut):X=="{"||X=="}"?Y(X,dt,ut,2):it.atBlock(X,dt,ut)},it.restricted_atBlock_before=function(X,dt,ut){return X=="{"?rt(ut,dt,"restricted_atBlock"):X=="word"&&ut.stateArg=="@counter-style"?(Wt="variable","restricted_atBlock_before"):N(X,dt,ut)},it.restricted_atBlock=function(X,dt,ut){return X=="}"?(ut.stateArg=null,E(ut)):X=="word"?(ut.stateArg=="@font-face"&&!at.hasOwnProperty(dt.current().toLowerCase())||ut.stateArg=="@counter-style"&&!Rt.hasOwnProperty(dt.current().toLowerCase())?Wt="error":Wt="property","maybeprop"):"restricted_atBlock"},it.keyframes=function(X,dt,ut){return X=="word"?(Wt="variable","keyframes"):X=="{"?rt(ut,dt,"top"):N(X,dt,ut)},it.at=function(X,dt,ut){return X==";"?E(ut):X=="{"||X=="}"?Y(X,dt,ut):(X=="word"?Wt="tag":X=="hash"&&(Wt="builtin"),"at")},it.interpolation=function(X,dt,ut){return X=="}"?E(ut):X=="{"||X==";"?Y(X,dt,ut):(X=="word"?Wt="variable":X!="variable"&&X!="("&&X!=")"&&(Wt="error"),"interpolation")},{startState:function(X){return{tokenize:null,state:F?"block":"top",stateArg:null,context:new xt(F?"block":"top",X||0,null)}},token:function(X,dt){if(!dt.tokenize&&X.eatSpace())return null;var ut=(dt.tokenize||It)(X,dt);return ut&&typeof ut=="object"&&(vt=ut[1],ut=ut[0]),Wt=ut,vt!="comment"&&(dt.state=it[dt.state](vt,X,dt)),Wt},indent:function(X,dt){var ut=X.context,zt=dt&&dt.charAt(0),fe=ut.indent;return ut.type=="prop"&&(zt=="}"||zt==")")&&(ut=ut.prev),ut.prev&&(zt=="}"&&(ut.type=="block"||ut.type=="top"||ut.type=="interpolation"||ut.type=="restricted_atBlock")?(ut=ut.prev,fe=ut.indent):(zt==")"&&(ut.type=="parens"||ut.type=="atBlock_parens")||zt=="{"&&(ut.type=="at"||ut.type=="atBlock"))&&(fe=Math.max(0,ut.indent-T))),fe},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:W,fold:"brace"}});function i(H){for(var k={},F=0;F<H.length;++F)k[H[F].toLowerCase()]=!0;return k}var o=["domain","regexp","url","url-prefix"],a=i(o),l=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],u=i(l),c=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover","prefers-color-scheme"],d=i(c),h=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive","dark","light"],g=i(h),m=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","all","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","binding","bleed","block-size","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-content","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","inset","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","left","letter-spacing","line-break","line-height","line-height-step","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","place-content","place-items","place-self","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotate","rotation","rotation-point","row-gap","ruby-align","ruby-overhang","ruby-position","ruby-span","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-type","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-orientation","text-outline","text-overflow","text-rendering","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","touch-action","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","paint-order","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],b=i(m),w=["accent-color","aspect-ratio","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","content-visibility","margin-block","margin-block-end","margin-block-start","margin-inline","margin-inline-end","margin-inline-start","overflow-anchor","overscroll-behavior","padding-block","padding-block-end","padding-block-start","padding-inline","padding-inline-end","padding-inline-start","scroll-snap-stop","scrollbar-3d-light-color","scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-track-color","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","shape-inside","zoom"],x=i(w),_=["font-display","font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],C=i(_),O=["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"],A=i(O),I=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],Q=i(I),$=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","blur","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","brightness","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","contrast","copy","counter","counters","cover","crop","cross","crosshair","cubic-bezier","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","drop-shadow","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","grayscale","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","hue-rotate","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","manipulation","match","matrix","matrix3d","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiple_mask_images","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturate","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","self-start","self-end","semi-condensed","semi-expanded","separate","sepia","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","square-button","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],Z=i($),P=o.concat(l).concat(c).concat(h).concat(m).concat(w).concat(I).concat($);n.registerHelper("hintWords","css",P);function tt(H,k){for(var F=!1,T;(T=H.next())!=null;){if(F&&T=="/"){k.tokenize=null;break}F=T=="*"}return["comment","comment"]}n.defineMIME("text/css",{documentTypes:a,mediaTypes:u,mediaFeatures:d,mediaValueKeywords:g,propertyKeywords:b,nonStandardPropertyKeywords:x,fontProperties:C,counterDescriptors:A,colorKeywords:Q,valueKeywords:Z,tokenHooks:{"/":function(H,k){return H.eat("*")?(k.tokenize=tt,tt(H,k)):!1}},name:"css"}),n.defineMIME("text/x-scss",{mediaTypes:u,mediaFeatures:d,mediaValueKeywords:g,propertyKeywords:b,nonStandardPropertyKeywords:x,colorKeywords:Q,valueKeywords:Z,fontProperties:C,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(H,k){return H.eat("/")?(H.skipToEnd(),["comment","comment"]):H.eat("*")?(k.tokenize=tt,tt(H,k)):["operator","operator"]},":":function(H){return H.match(/^\s*\{/,!1)?[null,null]:!1},$:function(H){return H.match(/^[\w-]+/),H.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(H){return H.eat("{")?[null,"interpolation"]:!1}},name:"css",helperType:"scss"}),n.defineMIME("text/x-less",{mediaTypes:u,mediaFeatures:d,mediaValueKeywords:g,propertyKeywords:b,nonStandardPropertyKeywords:x,colorKeywords:Q,valueKeywords:Z,fontProperties:C,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(H,k){return H.eat("/")?(H.skipToEnd(),["comment","comment"]):H.eat("*")?(k.tokenize=tt,tt(H,k)):["operator","operator"]},"@":function(H){return H.eat("{")?[null,"interpolation"]:H.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/i,!1)?!1:(H.eatWhile(/[\w\\\-]/),H.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),n.defineMIME("text/x-gss",{documentTypes:a,mediaTypes:u,mediaFeatures:d,propertyKeywords:b,nonStandardPropertyKeywords:x,fontProperties:C,counterDescriptors:A,colorKeywords:Q,valueKeywords:Z,supportsAtComponent:!0,tokenHooks:{"/":function(H,k){return H.eat("*")?(k.tokenize=tt,tt(H,k)):!1}},name:"css",helperType:"gss"})})},8253:(r,e,t)=>{(function(n){n(t(4408),t(9701),t(6061),t(7389))})(function(n){var i={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]};function o(g,m,b){var w=g.current(),x=w.search(m);return x>-1?g.backUp(w.length-x):w.match(/<\/?$/)&&(g.backUp(w.length),g.match(m,!1)||g.match(w)),b}var a={};function l(g){var m=a[g];return m||(a[g]=new RegExp("\\s+"+g+`\\s*=\\s*('|")?([^'"]+)('|")?\\s*`))}function u(g,m){var b=g.match(l(m));return b?/^\s*(.*?)\s*$/.exec(b[2])[1]:""}function c(g,m){return new RegExp((m?"^":"")+"</s*"+g+"s*>","i")}function d(g,m){for(var b in g)for(var w=m[b]||(m[b]=[]),x=g[b],_=x.length-1;_>=0;_--)w.unshift(x[_])}function h(g,m){for(var b=0;b<g.length;b++){var w=g[b];if(!w[0]||w[1].test(u(m,w[0])))return w[2]}}n.defineMode("htmlmixed",function(g,m){var b=n.getMode(g,{name:"xml",htmlMode:!0,multilineTagIndentFactor:m.multilineTagIndentFactor,multilineTagIndentPastTag:m.multilineTagIndentPastTag,allowMissingTagName:m.allowMissingTagName}),w={},x=m&&m.tags,_=m&&m.scriptTypes;if(d(i,w),x&&d(x,w),_)for(var C=_.length-1;C>=0;C--)w.script.unshift(["type",_[C].matches,_[C].mode]);function O(A,I){var Q=b.token(A,I.htmlState),$=/\btag\b/.test(Q),Z;if($&&!/[<>\s\/]/.test(A.current())&&(Z=I.htmlState.tagName&&I.htmlState.tagName.toLowerCase())&&w.hasOwnProperty(Z))I.inTag=Z+" ";else if(I.inTag&&$&&/>$/.test(A.current())){var P=/^([\S]+) (.*)/.exec(I.inTag);I.inTag=null;var tt=A.current()==">"&&h(w[P[1]],P[2]),H=n.getMode(g,tt),k=c(P[1],!0),F=c(P[1],!1);I.token=function(T,nt){return T.match(k,!1)?(nt.token=O,nt.localState=nt.localMode=null,null):o(T,F,nt.localMode.token(T,nt.localState))},I.localMode=H,I.localState=n.startState(H,b.indent(I.htmlState,"",""))}else I.inTag&&(I.inTag+=A.current(),A.eol()&&(I.inTag+=" "));return Q}return{startState:function(){var A=n.startState(b);return{token:O,inTag:null,localMode:null,localState:null,htmlState:A}},copyState:function(A){var I;return A.localState&&(I=n.copyState(A.localMode,A.localState)),{token:A.token,inTag:A.inTag,localMode:A.localMode,localState:I,htmlState:n.copyState(b,A.htmlState)}},token:function(A,I){return I.token(A,I)},indent:function(A,I,Q){return!A.localMode||/^\s*<\//.test(I)?b.indent(A.htmlState,I,Q):A.localMode.indent?A.localMode.indent(A.localState,I,Q):n.Pass},innerMode:function(A){return{state:A.localState||A.htmlState,mode:A.localMode||b}}}},"xml","javascript","css"),n.defineMIME("text/html","htmlmixed")})},6061:(r,e,t)=>{(function(n){n(t(4408))})(function(n){n.defineMode("javascript",function(i,o){var a=i.indentUnit,l=o.statementIndent,u=o.jsonld,c=o.json||u,d=o.trackScope!==!1,h=o.typescript,g=o.wordCharacters||/[\w$\xa1-\uffff]/,m=function(){function q(vn){return{type:vn,style:"keyword"}}var ct=q("keyword a"),Vt=q("keyword b"),$t=q("keyword c"),te=q("keyword d"),Pe=q("operator"),je={type:"atom",style:"atom"};return{if:q("if"),while:ct,with:ct,else:Vt,do:Vt,try:Vt,finally:Vt,return:te,break:te,continue:te,new:q("new"),delete:$t,void:$t,throw:$t,debugger:q("debugger"),var:q("var"),const:q("var"),let:q("var"),function:q("function"),catch:q("catch"),for:q("for"),switch:q("switch"),case:q("case"),default:q("default"),in:Pe,typeof:Pe,instanceof:Pe,true:je,false:je,null:je,undefined:je,NaN:je,Infinity:je,this:q("this"),class:q("class"),super:q("atom"),yield:$t,export:q("export"),import:q("import"),extends:$t,await:$t}}(),b=/[+\-*&%=<>!?|~^@]/,w=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function x(q){for(var ct=!1,Vt,$t=!1;(Vt=q.next())!=null;){if(!ct){if(Vt=="/"&&!$t)return;Vt=="["?$t=!0:$t&&Vt=="]"&&($t=!1)}ct=!ct&&Vt=="\\"}}var _,C;function O(q,ct,Vt){return _=q,C=Vt,ct}function A(q,ct){var Vt=q.next();if(Vt=='"'||Vt=="'")return ct.tokenize=I(Vt),ct.tokenize(q,ct);if(Vt=="."&&q.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return O("number","number");if(Vt=="."&&q.match(".."))return O("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(Vt))return O(Vt);if(Vt=="="&&q.eat(">"))return O("=>","operator");if(Vt=="0"&&q.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return O("number","number");if(/\d/.test(Vt))return q.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),O("number","number");if(Vt=="/")return q.eat("*")?(ct.tokenize=Q,Q(q,ct)):q.eat("/")?(q.skipToEnd(),O("comment","comment")):Ai(q,ct,1)?(x(q),q.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),O("regexp","string-2")):(q.eat("="),O("operator","operator",q.current()));if(Vt=="`")return ct.tokenize=$,$(q,ct);if(Vt=="#"&&q.peek()=="!")return q.skipToEnd(),O("meta","meta");if(Vt=="#"&&q.eatWhile(g))return O("variable","property");if(Vt=="<"&&q.match("!--")||Vt=="-"&&q.match("->")&&!/\S/.test(q.string.slice(0,q.start)))return q.skipToEnd(),O("comment","comment");if(b.test(Vt))return(Vt!=">"||!ct.lexical||ct.lexical.type!=">")&&(q.eat("=")?(Vt=="!"||Vt=="=")&&q.eat("="):/[<>*+\-|&?]/.test(Vt)&&(q.eat(Vt),Vt==">"&&q.eat(Vt))),Vt=="?"&&q.eat(".")?O("."):O("operator","operator",q.current());if(g.test(Vt)){q.eatWhile(g);var $t=q.current();if(ct.lastType!="."){if(m.propertyIsEnumerable($t)){var te=m[$t];return O(te.type,te.style,$t)}if($t=="async"&&q.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return O("async","keyword",$t)}return O("variable","variable",$t)}}function I(q){return function(ct,Vt){var $t=!1,te;if(u&&ct.peek()=="@"&&ct.match(w))return Vt.tokenize=A,O("jsonld-keyword","meta");for(;(te=ct.next())!=null&&!(te==q&&!$t);)$t=!$t&&te=="\\";return $t||(Vt.tokenize=A),O("string","string")}}function Q(q,ct){for(var Vt=!1,$t;$t=q.next();){if($t=="/"&&Vt){ct.tokenize=A;break}Vt=$t=="*"}return O("comment","comment")}function $(q,ct){for(var Vt=!1,$t;($t=q.next())!=null;){if(!Vt&&($t=="`"||$t=="$"&&q.eat("{"))){ct.tokenize=A;break}Vt=!Vt&&$t=="\\"}return O("quasi","string-2",q.current())}var Z="([{}])";function P(q,ct){ct.fatArrowAt&&(ct.fatArrowAt=null);var Vt=q.string.indexOf("=>",q.start);if(!(Vt<0)){if(h){var $t=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(q.string.slice(q.start,Vt));$t&&(Vt=$t.index)}for(var te=0,Pe=!1,je=Vt-1;je>=0;--je){var vn=q.string.charAt(je),Je=Z.indexOf(vn);if(Je>=0&&Je<3){if(!te){++je;break}if(--te==0){vn=="("&&(Pe=!0);break}}else if(Je>=3&&Je<6)++te;else if(g.test(vn))Pe=!0;else if(/["'\/`]/.test(vn))for(;;--je){if(je==0)return;var ai=q.string.charAt(je-1);if(ai==vn&&q.string.charAt(je-2)!="\\"){je--;break}}else if(Pe&&!te){++je;break}}Pe&&!te&&(ct.fatArrowAt=je)}}var tt={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function H(q,ct,Vt,$t,te,Pe){this.indented=q,this.column=ct,this.type=Vt,this.prev=te,this.info=Pe,$t!=null&&(this.align=$t)}function k(q,ct){if(!d)return!1;for(var Vt=q.localVars;Vt;Vt=Vt.next)if(Vt.name==ct)return!0;for(var $t=q.context;$t;$t=$t.prev)for(var Vt=$t.vars;Vt;Vt=Vt.next)if(Vt.name==ct)return!0}function F(q,ct,Vt,$t,te){var Pe=q.cc;for(T.state=q,T.stream=te,T.marked=null,T.cc=Pe,T.style=ct,q.lexical.hasOwnProperty("align")||(q.lexical.align=!0);;){var je=Pe.length?Pe.pop():c?yt:vt;if(je(Vt,$t)){for(;Pe.length&&Pe[Pe.length-1].lex;)Pe.pop()();return T.marked?T.marked:Vt=="variable"&&k(q,$t)?"variable-2":ct}}}var T={state:null,marked:null,cc:null};function nt(){for(var q=arguments.length-1;q>=0;q--)T.cc.push(arguments[q])}function L(){return nt.apply(null,arguments),!0}function ot(q,ct){for(var Vt=ct;Vt;Vt=Vt.next)if(Vt.name==q)return!0;return!1}function pt(q){var ct=T.state;if(T.marked="def",!!d){if(ct.context){if(ct.lexical.info=="var"&&ct.context&&ct.context.block){var Vt=mt(q,ct.context);if(Vt!=null){ct.context=Vt;return}}else if(!ot(q,ct.localVars)){ct.localVars=new at(q,ct.localVars);return}}o.globalVars&&!ot(q,ct.globalVars)&&(ct.globalVars=new at(q,ct.globalVars))}}function mt(q,ct){if(ct)if(ct.block){var Vt=mt(q,ct.prev);return Vt?Vt==ct.prev?ct:new St(Vt,ct.vars,!0):null}else return ot(q,ct.vars)?ct:new St(ct.prev,new at(q,ct.vars),!1);else return null}function Lt(q){return q=="public"||q=="private"||q=="protected"||q=="abstract"||q=="readonly"}function St(q,ct,Vt){this.prev=q,this.vars=ct,this.block=Vt}function at(q,ct){this.name=q,this.next=ct}var Rt=new at("this",new at("arguments",null));function wt(){T.state.context=new St(T.state.context,T.state.localVars,!1),T.state.localVars=Rt}function Mt(){T.state.context=new St(T.state.context,T.state.localVars,!0),T.state.localVars=null}function Qt(){T.state.localVars=T.state.context.vars,T.state.context=T.state.context.prev}Qt.lex=!0;function W(q,ct){var Vt=function(){var $t=T.state,te=$t.indented;if($t.lexical.type=="stat")te=$t.lexical.indented;else for(var Pe=$t.lexical;Pe&&Pe.type==")"&&Pe.align;Pe=Pe.prev)te=Pe.indented;$t.lexical=new H(te,T.stream.column(),q,null,$t.lexical,ct)};return Vt.lex=!0,Vt}function U(){var q=T.state;q.lexical.prev&&(q.lexical.type==")"&&(q.indented=q.lexical.indented),q.lexical=q.lexical.prev)}U.lex=!0;function Ct(q){function ct(Vt){return Vt==q?L():q==";"||Vt=="}"||Vt==")"||Vt=="]"?nt():L(ct)}return ct}function vt(q,ct){return q=="var"?L(W("vardef",ct),_e,Ct(";"),U):q=="keyword a"?L(W("form"),R,vt,U):q=="keyword b"?L(W("form"),vt,U):q=="keyword d"?T.stream.match(/^\s*$/,!1)?L():L(W("stat"),xt,Ct(";"),U):q=="debugger"?L(Ct(";")):q=="{"?L(W("}"),Mt,Ot,U,Qt):q==";"?L():q=="if"?(T.state.lexical.info=="else"&&T.state.cc[T.state.cc.length-1]==U&&T.state.cc.pop()(),L(W("form"),R,vt,U,pn)):q=="function"?L(jn):q=="for"?L(W("form"),Mt,Tr,vt,Qt,U):q=="class"||h&&ct=="interface"?(T.marked="keyword",L(W("form",q=="class"?q:ct),Br,U)):q=="variable"?h&&ct=="declare"?(T.marked="keyword",L(vt)):h&&(ct=="module"||ct=="enum"||ct=="type")&&T.stream.match(/^\s*\w/,!1)?(T.marked="keyword",ct=="enum"?L(Ti):ct=="type"?L(br,Ct("operator"),ge,Ct(";")):L(W("form"),Oe,Ct("{"),W("}"),Ot,U,U)):h&&ct=="namespace"?(T.marked="keyword",L(W("form"),yt,vt,U)):h&&ct=="abstract"?(T.marked="keyword",L(vt)):L(W("stat"),zt):q=="switch"?L(W("form"),R,Ct("{"),W("}","switch"),Mt,Ot,U,U,Qt):q=="case"?L(yt,Ct(":")):q=="default"?L(Ct(":")):q=="catch"?L(W("form"),wt,Wt,vt,U,Qt):q=="export"?L(W("stat"),Ze,U):q=="import"?L(W("stat"),nr,U):q=="async"?L(vt):ct=="@"?L(yt,vt):nt(W("stat"),yt,Ct(";"),U)}function Wt(q){if(q=="(")return L(Ce,Ct(")"))}function yt(q,ct){return Dt(q,ct,!1)}function It(q,ct){return Dt(q,ct,!0)}function R(q){return q!="("?nt():L(W(")"),xt,Ct(")"),U)}function Dt(q,ct,Vt){if(T.state.fatArrowAt==T.stream.start){var $t=Vt?it:st;if(q=="(")return L(wt,W(")"),K(Ce,")"),U,Ct("=>"),$t,Qt);if(q=="variable")return nt(wt,Oe,Ct("=>"),$t,Qt)}var te=Vt?E:rt;return tt.hasOwnProperty(q)?L(te):q=="function"?L(jn,te):q=="class"||h&&ct=="interface"?(T.marked="keyword",L(W("form"),ii,U)):q=="keyword c"||q=="async"?L(Vt?It:yt):q=="("?L(W(")"),xt,Ct(")"),U,te):q=="operator"||q=="spread"?L(Vt?It:yt):q=="["?L(W("]"),oi,U,te):q=="{"?Bt(se,"}",null,te):q=="quasi"?nt(N,te):q=="new"?L(X(Vt)):L()}function xt(q){return q.match(/[;\}\)\],]/)?nt():nt(yt)}function rt(q,ct){return q==","?L(xt):E(q,ct,!1)}function E(q,ct,Vt){var $t=Vt==!1?rt:E,te=Vt==!1?yt:It;if(q=="=>")return L(wt,Vt?it:st,Qt);if(q=="operator")return/\+\+|--/.test(ct)||h&&ct=="!"?L($t):h&&ct=="<"&&T.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?L(W(">"),K(ge,">"),U,$t):ct=="?"?L(yt,Ct(":"),te):L(te);if(q=="quasi")return nt(N,$t);if(q!=";"){if(q=="(")return Bt(It,")","call",$t);if(q==".")return L(fe,$t);if(q=="[")return L(W("]"),xt,Ct("]"),U,$t);if(h&&ct=="as")return T.marked="keyword",L(ge,$t);if(q=="regexp")return T.state.lastType=T.marked="operator",T.stream.backUp(T.stream.pos-T.stream.start-1),L(te)}}function N(q,ct){return q!="quasi"?nt():ct.slice(ct.length-2)!="${"?L(N):L(xt,Y)}function Y(q){if(q=="}")return T.marked="string-2",T.state.tokenize=$,L(N)}function st(q){return P(T.stream,T.state),nt(q=="{"?vt:yt)}function it(q){return P(T.stream,T.state),nt(q=="{"?vt:It)}function X(q){return function(ct){return ct=="."?L(q?ut:dt):ct=="variable"&&h?L(Tt,q?E:rt):nt(q?It:yt)}}function dt(q,ct){if(ct=="target")return T.marked="keyword",L(rt)}function ut(q,ct){if(ct=="target")return T.marked="keyword",L(E)}function zt(q){return q==":"?L(U,vt):nt(rt,Ct(";"),U)}function fe(q){if(q=="variable")return T.marked="property",L()}function se(q,ct){if(q=="async")return T.marked="property",L(se);if(q=="variable"||T.style=="keyword"){if(T.marked="property",ct=="get"||ct=="set")return L(et);var Vt;return h&&T.state.fatArrowAt==T.stream.start&&(Vt=T.stream.match(/^\s*:\s*/,!1))&&(T.state.fatArrowAt=T.stream.pos+Vt[0].length),L(bt)}else{if(q=="number"||q=="string")return T.marked=u?"property":T.style+" property",L(bt);if(q=="jsonld-keyword")return L(bt);if(h&&Lt(ct))return T.marked="keyword",L(se);if(q=="[")return L(yt,Gt,Ct("]"),bt);if(q=="spread")return L(It,bt);if(ct=="*")return T.marked="keyword",L(se);if(q==":")return nt(bt)}}function et(q){return q!="variable"?nt(bt):(T.marked="property",L(jn))}function bt(q){if(q==":")return L(It);if(q=="(")return nt(jn)}function K(q,ct,Vt){function $t(te,Pe){if(Vt?Vt.indexOf(te)>-1:te==","){var je=T.state.lexical;return je.info=="call"&&(je.pos=(je.pos||0)+1),L(function(vn,Je){return vn==ct||Je==ct?nt():nt(q)},$t)}return te==ct||Pe==ct?L():Vt&&Vt.indexOf(";")>-1?nt(q):L(Ct(ct))}return function(te,Pe){return te==ct||Pe==ct?L():nt(q,$t)}}function Bt(q,ct,Vt){for(var $t=3;$t<arguments.length;$t++)T.cc.push(arguments[$t]);return L(W(ct,Vt),K(q,ct),U)}function Ot(q){return q=="}"?L():nt(vt,Ot)}function Gt(q,ct){if(h){if(q==":")return L(ge);if(ct=="?")return L(Gt)}}function de(q,ct){if(h&&(q==":"||ct=="in"))return L(ge)}function re(q){if(h&&q==":")return T.stream.match(/^\s*\w+\s+is\b/,!1)?L(yt,ie,ge):L(ge)}function ie(q,ct){if(ct=="is")return T.marked="keyword",L()}function ge(q,ct){if(ct=="keyof"||ct=="typeof"||ct=="infer"||ct=="readonly")return T.marked="keyword",L(ct=="typeof"?It:ge);if(q=="variable"||ct=="void")return T.marked="type",L(gt);if(ct=="|"||ct=="&")return L(ge);if(q=="string"||q=="number"||q=="atom")return L(gt);if(q=="[")return L(W("]"),K(ge,"]",","),U,gt);if(q=="{")return L(W("}"),Ne,U,gt);if(q=="(")return L(K(J,")"),Ee,gt);if(q=="<")return L(K(ge,">"),ge);if(q=="quasi")return nt(nn,gt)}function Ee(q){if(q=="=>")return L(ge)}function Ne(q){return q.match(/[\}\)\]]/)?L():q==","||q==";"?L(Ne):nt(Me,Ne)}function Me(q,ct){if(q=="variable"||T.style=="keyword")return T.marked="property",L(Me);if(ct=="?"||q=="number"||q=="string")return L(Me);if(q==":")return L(ge);if(q=="[")return L(Ct("variable"),de,Ct("]"),Me);if(q=="(")return nt(Ue,Me);if(!q.match(/[;\}\)\],]/))return L()}function nn(q,ct){return q!="quasi"?nt():ct.slice(ct.length-2)!="${"?L(nn):L(ge,_n)}function _n(q){if(q=="}")return T.marked="string-2",T.state.tokenize=$,L(nn)}function J(q,ct){return q=="variable"&&T.stream.match(/^\s*[?:]/,!1)||ct=="?"?L(J):q==":"?L(ge):q=="spread"?L(J):nt(ge)}function gt(q,ct){if(ct=="<")return L(W(">"),K(ge,">"),U,gt);if(ct=="|"||q=="."||ct=="&")return L(ge);if(q=="[")return L(ge,Ct("]"),gt);if(ct=="extends"||ct=="implements")return T.marked="keyword",L(ge);if(ct=="?")return L(ge,Ct(":"),ge)}function Tt(q,ct){if(ct=="<")return L(W(">"),K(ge,">"),U,gt)}function qt(){return nt(ge,ae)}function ae(q,ct){if(ct=="=")return L(ge)}function _e(q,ct){return ct=="enum"?(T.marked="keyword",L(Ti)):nt(Oe,Gt,hn,Ei)}function Oe(q,ct){if(h&&Lt(ct))return T.marked="keyword",L(Oe);if(q=="variable")return pt(ct),L();if(q=="spread")return L(Oe);if(q=="[")return Bt(Nn,"]");if(q=="{")return Bt(dn,"}")}function dn(q,ct){return q=="variable"&&!T.stream.match(/^\s*:/,!1)?(pt(ct),L(hn)):(q=="variable"&&(T.marked="property"),q=="spread"?L(Oe):q=="}"?nt():q=="["?L(yt,Ct("]"),Ct(":"),dn):L(Ct(":"),Oe,hn))}function Nn(){return nt(Oe,hn)}function hn(q,ct){if(ct=="=")return L(It)}function Ei(q){if(q==",")return L(_e)}function pn(q,ct){if(q=="keyword b"&&ct=="else")return L(W("form","else"),vt,U)}function Tr(q,ct){if(ct=="await")return L(Tr);if(q=="(")return L(W(")"),ri,U)}function ri(q){return q=="var"?L(_e,Xe):q=="variable"?L(Xe):nt(Xe)}function Xe(q,ct){return q==")"?L():q==";"?L(Xe):ct=="in"||ct=="of"?(T.marked="keyword",L(yt,Xe)):nt(yt,Xe)}function jn(q,ct){if(ct=="*")return T.marked="keyword",L(jn);if(q=="variable")return pt(ct),L(jn);if(q=="(")return L(wt,W(")"),K(Ce,")"),U,re,vt,Qt);if(h&&ct=="<")return L(W(">"),K(qt,">"),U,jn)}function Ue(q,ct){if(ct=="*")return T.marked="keyword",L(Ue);if(q=="variable")return pt(ct),L(Ue);if(q=="(")return L(wt,W(")"),K(Ce,")"),U,re,Qt);if(h&&ct=="<")return L(W(">"),K(qt,">"),U,Ue)}function br(q,ct){if(q=="keyword"||q=="variable")return T.marked="type",L(br);if(ct=="<")return L(W(">"),K(qt,">"),U)}function Ce(q,ct){return ct=="@"&&L(yt,Ce),q=="spread"?L(Ce):h&&Lt(ct)?(T.marked="keyword",L(Ce)):h&&q=="this"?L(Gt,hn):nt(Oe,Gt,hn)}function ii(q,ct){return q=="variable"?Br(q,ct):Fn(q,ct)}function Br(q,ct){if(q=="variable")return pt(ct),L(Fn)}function Fn(q,ct){if(ct=="<")return L(W(">"),K(qt,">"),U,Fn);if(ct=="extends"||ct=="implements"||h&&q==",")return ct=="implements"&&(T.marked="keyword"),L(h?ge:yt,Fn);if(q=="{")return L(W("}"),zn,U)}function zn(q,ct){if(q=="async"||q=="variable"&&(ct=="static"||ct=="get"||ct=="set"||h&&Lt(ct))&&T.stream.match(/^\s+[\w$\xa1-\uffff]/,!1))return T.marked="keyword",L(zn);if(q=="variable"||T.style=="keyword")return T.marked="property",L(Ar,zn);if(q=="number"||q=="string")return L(Ar,zn);if(q=="[")return L(yt,Gt,Ct("]"),Ar,zn);if(ct=="*")return T.marked="keyword",L(zn);if(h&&q=="(")return nt(Ue,zn);if(q==";"||q==",")return L(zn);if(q=="}")return L();if(ct=="@")return L(yt,zn)}function Ar(q,ct){if(ct=="!"||ct=="?")return L(Ar);if(q==":")return L(ge,hn);if(ct=="=")return L(It);var Vt=T.state.lexical.prev,$t=Vt&&Vt.info=="interface";return nt($t?Ue:jn)}function Ze(q,ct){return ct=="*"?(T.marked="keyword",L(on,Ct(";"))):ct=="default"?(T.marked="keyword",L(yt,Ct(";"))):q=="{"?L(K(pe,"}"),on,Ct(";")):nt(vt)}function pe(q,ct){if(ct=="as")return T.marked="keyword",L(Ct("variable"));if(q=="variable")return nt(It,pe)}function nr(q){return q=="string"?L():q=="("?nt(yt):q=="."?nt(rt):nt(bn,rr,on)}function bn(q,ct){return q=="{"?Bt(bn,"}"):(q=="variable"&&pt(ct),ct=="*"&&(T.marked="keyword"),L(Ie))}function rr(q){if(q==",")return L(bn,rr)}function Ie(q,ct){if(ct=="as")return T.marked="keyword",L(bn)}function on(q,ct){if(ct=="from")return T.marked="keyword",L(yt)}function oi(q){return q=="]"?L():nt(K(It,"]"))}function Ti(){return nt(W("form"),Oe,Ct("{"),W("}"),K(Xt,"}"),U,U)}function Xt(){return nt(Oe,hn)}function we(q,ct){return q.lastType=="operator"||q.lastType==","||b.test(ct.charAt(0))||/[,.]/.test(ct.charAt(0))}function Ai(q,ct,Vt){return ct.tokenize==A&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(ct.lastType)||ct.lastType=="quasi"&&/\{\s*$/.test(q.string.slice(0,q.pos-(Vt||0)))}return{startState:function(q){var ct={tokenize:A,lastType:"sof",cc:[],lexical:new H((q||0)-a,0,"block",!1),localVars:o.localVars,context:o.localVars&&new St(null,null,!1),indented:q||0};return o.globalVars&&typeof o.globalVars=="object"&&(ct.globalVars=o.globalVars),ct},token:function(q,ct){if(q.sol()&&(ct.lexical.hasOwnProperty("align")||(ct.lexical.align=!1),ct.indented=q.indentation(),P(q,ct)),ct.tokenize!=Q&&q.eatSpace())return null;var Vt=ct.tokenize(q,ct);return _=="comment"?Vt:(ct.lastType=_=="operator"&&(C=="++"||C=="--")?"incdec":_,F(ct,Vt,_,C,q))},indent:function(q,ct){if(q.tokenize==Q||q.tokenize==$)return n.Pass;if(q.tokenize!=A)return 0;var Vt=ct&&ct.charAt(0),$t=q.lexical,te;if(!/^\s*else\b/.test(ct))for(var Pe=q.cc.length-1;Pe>=0;--Pe){var je=q.cc[Pe];if(je==U)$t=$t.prev;else if(je!=pn&&je!=Qt)break}for(;($t.type=="stat"||$t.type=="form")&&(Vt=="}"||(te=q.cc[q.cc.length-1])&&(te==rt||te==E)&&!/^[,\.=+\-*:?[\(]/.test(ct));)$t=$t.prev;l&&$t.type==")"&&$t.prev.type=="stat"&&($t=$t.prev);var vn=$t.type,Je=Vt==vn;return vn=="vardef"?$t.indented+(q.lastType=="operator"||q.lastType==","?$t.info.length+1:0):vn=="form"&&Vt=="{"?$t.indented:vn=="form"?$t.indented+a:vn=="stat"?$t.indented+(we(q,ct)?l||a:0):$t.info=="switch"&&!Je&&o.doubleIndentSwitch!=!1?$t.indented+(/^(?:case|default)\b/.test(ct)?a:2*a):$t.align?$t.column+(Je?0:1):$t.indented+(Je?0:a)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:c?null:"/*",blockCommentEnd:c?null:"*/",blockCommentContinue:c?null:" * ",lineComment:c?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:c?"json":"javascript",jsonldMode:u,jsonMode:c,expressionAllowed:Ai,skipExpression:function(q){F(q,"atom","atom","true",new n.StringStream("",2,null))}}}),n.registerHelper("wordChars","javascript",/[\w$]/),n.defineMIME("text/javascript","javascript"),n.defineMIME("text/ecmascript","javascript"),n.defineMIME("application/javascript","javascript"),n.defineMIME("application/x-javascript","javascript"),n.defineMIME("application/ecmascript","javascript"),n.defineMIME("application/json",{name:"javascript",json:!0}),n.defineMIME("application/x-json",{name:"javascript",json:!0}),n.defineMIME("application/manifest+json",{name:"javascript",json:!0}),n.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),n.defineMIME("text/typescript",{name:"javascript",typescript:!0}),n.defineMIME("application/typescript",{name:"javascript",typescript:!0})})},9701:(r,e,t)=>{(function(n){n(t(4408))})(function(n){var i={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},o={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};n.defineMode("xml",function(a,l){var u=a.indentUnit,c={},d=l.htmlMode?i:o;for(var h in d)c[h]=d[h];for(var h in l)c[h]=l[h];var g,m;function b(L,ot){function pt(St){return ot.tokenize=St,St(L,ot)}var mt=L.next();if(mt=="<")return L.eat("!")?L.eat("[")?L.match("CDATA[")?pt(_("atom","]]>")):null:L.match("--")?pt(_("comment","-->")):L.match("DOCTYPE",!0,!0)?(L.eatWhile(/[\w\._\-]/),pt(C(1))):null:L.eat("?")?(L.eatWhile(/[\w\._\-]/),ot.tokenize=_("meta","?>"),"meta"):(g=L.eat("/")?"closeTag":"openTag",ot.tokenize=w,"tag bracket");if(mt=="&"){var Lt;return L.eat("#")?L.eat("x")?Lt=L.eatWhile(/[a-fA-F\d]/)&&L.eat(";"):Lt=L.eatWhile(/[\d]/)&&L.eat(";"):Lt=L.eatWhile(/[\w\.\-:]/)&&L.eat(";"),Lt?"atom":"error"}else return L.eatWhile(/[^&<]/),null}b.isInText=!0;function w(L,ot){var pt=L.next();if(pt==">"||pt=="/"&&L.eat(">"))return ot.tokenize=b,g=pt==">"?"endTag":"selfcloseTag","tag bracket";if(pt=="=")return g="equals",null;if(pt=="<"){ot.tokenize=b,ot.state=$,ot.tagName=ot.tagStart=null;var mt=ot.tokenize(L,ot);return mt?mt+" tag error":"tag error"}else return/[\'\"]/.test(pt)?(ot.tokenize=x(pt),ot.stringStartCol=L.column(),ot.tokenize(L,ot)):(L.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function x(L){var ot=function(pt,mt){for(;!pt.eol();)if(pt.next()==L){mt.tokenize=w;break}return"string"};return ot.isInAttribute=!0,ot}function _(L,ot){return function(pt,mt){for(;!pt.eol();){if(pt.match(ot)){mt.tokenize=b;break}pt.next()}return L}}function C(L){return function(ot,pt){for(var mt;(mt=ot.next())!=null;){if(mt=="<")return pt.tokenize=C(L+1),pt.tokenize(ot,pt);if(mt==">")if(L==1){pt.tokenize=b;break}else return pt.tokenize=C(L-1),pt.tokenize(ot,pt)}return"meta"}}function O(L){return L&&L.toLowerCase()}function A(L,ot,pt){this.prev=L.context,this.tagName=ot||"",this.indent=L.indented,this.startOfLine=pt,(c.doNotIndent.hasOwnProperty(ot)||L.context&&L.context.noIndent)&&(this.noIndent=!0)}function I(L){L.context&&(L.context=L.context.prev)}function Q(L,ot){for(var pt;;){if(!L.context||(pt=L.context.tagName,!c.contextGrabbers.hasOwnProperty(O(pt))||!c.contextGrabbers[O(pt)].hasOwnProperty(O(ot))))return;I(L)}}function $(L,ot,pt){return L=="openTag"?(pt.tagStart=ot.column(),Z):L=="closeTag"?P:$}function Z(L,ot,pt){return L=="word"?(pt.tagName=ot.current(),m="tag",k):c.allowMissingTagName&&L=="endTag"?(m="tag bracket",k(L,ot,pt)):(m="error",Z)}function P(L,ot,pt){if(L=="word"){var mt=ot.current();return pt.context&&pt.context.tagName!=mt&&c.implicitlyClosed.hasOwnProperty(O(pt.context.tagName))&&I(pt),pt.context&&pt.context.tagName==mt||c.matchClosing===!1?(m="tag",tt):(m="tag error",H)}else return c.allowMissingTagName&&L=="endTag"?(m="tag bracket",tt(L,ot,pt)):(m="error",H)}function tt(L,ot,pt){return L!="endTag"?(m="error",tt):(I(pt),$)}function H(L,ot,pt){return m="error",tt(L,ot,pt)}function k(L,ot,pt){if(L=="word")return m="attribute",F;if(L=="endTag"||L=="selfcloseTag"){var mt=pt.tagName,Lt=pt.tagStart;return pt.tagName=pt.tagStart=null,L=="selfcloseTag"||c.autoSelfClosers.hasOwnProperty(O(mt))?Q(pt,mt):(Q(pt,mt),pt.context=new A(pt,mt,Lt==pt.indented)),$}return m="error",k}function F(L,ot,pt){return L=="equals"?T:(c.allowMissing||(m="error"),k(L,ot,pt))}function T(L,ot,pt){return L=="string"?nt:L=="word"&&c.allowUnquoted?(m="string",k):(m="error",k(L,ot,pt))}function nt(L,ot,pt){return L=="string"?nt:k(L,ot,pt)}return{startState:function(L){var ot={tokenize:b,state:$,indented:L||0,tagName:null,tagStart:null,context:null};return L!=null&&(ot.baseIndent=L),ot},token:function(L,ot){if(!ot.tagName&&L.sol()&&(ot.indented=L.indentation()),L.eatSpace())return null;g=null;var pt=ot.tokenize(L,ot);return(pt||g)&&pt!="comment"&&(m=null,ot.state=ot.state(g||pt,L,ot),m&&(pt=m=="error"?pt+" error":m)),pt},indent:function(L,ot,pt){var mt=L.context;if(L.tokenize.isInAttribute)return L.tagStart==L.indented?L.stringStartCol+1:L.indented+u;if(mt&&mt.noIndent)return n.Pass;if(L.tokenize!=w&&L.tokenize!=b)return pt?pt.match(/^(\s*)/)[0].length:0;if(L.tagName)return c.multilineTagIndentPastTag!==!1?L.tagStart+L.tagName.length+2:L.tagStart+u*(c.multilineTagIndentFactor||1);if(c.alignCDATA&&/<!\[CDATA\[/.test(ot))return 0;var Lt=ot&&/^<(\/)?([\w_:\.-]*)/.exec(ot);if(Lt&&Lt[1])for(;mt;)if(mt.tagName==Lt[2]){mt=mt.prev;break}else if(c.implicitlyClosed.hasOwnProperty(O(mt.tagName)))mt=mt.prev;else break;else if(Lt)for(;mt;){var St=c.contextGrabbers[O(mt.tagName)];if(St&&St.hasOwnProperty(O(Lt[2])))mt=mt.prev;else break}for(;mt&&mt.prev&&!mt.startOfLine;)mt=mt.prev;return mt?mt.indent+u:L.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:c.htmlMode?"html":"xml",helperType:c.htmlMode?"html":"xml",skipAttribute:function(L){L.state==T&&(L.state=k)},xmlCurrentTag:function(L){return L.tagName?{name:L.tagName,close:L.type=="closeTag"}:null},xmlCurrentContext:function(L){for(var ot=[],pt=L.context;pt;pt=pt.prev)ot.push(pt.tagName);return ot.reverse()}}}),n.defineMIME("text/xml","xml"),n.defineMIME("application/xml","xml"),n.mimeModes.hasOwnProperty("text/html")||n.defineMIME("text/html",{name:"xml",htmlMode:!0})})},7058:(r,e,t)=>{t.d(e,{A:()=>a});var n=t(9156),i=function(){var l=function(u,c){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var g in h)Object.prototype.hasOwnProperty.call(h,g)&&(d[g]=h[g])},l(u,c)};return function(u,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");l(u,c);function d(){this.constructor=u}u.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d)}}(),o=function(l){i(u,l);function u(c,d,h){var g=l.call(this,d,h)||this;return g._module=c,g}return Object.defineProperty(u.prototype,"module",{get:function(){return this._module},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"config",{get:function(){return this._module.config},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"em",{get:function(){return this._module.em},enumerable:!1,configurable:!0}),u}(n.Kx);const a=o},179:(r,e,t)=>{t.d(e,{A:()=>l,F:()=>o});var n=t(7058),i=function(){var u=function(c,d){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,g){h.__proto__=g}||function(h,g){for(var m in g)Object.prototype.hasOwnProperty.call(g,m)&&(h[m]=g[m])},u(c,d)};return function(c,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");u(c,d);function h(){this.constructor=c}c.prototype=d===null?Object.create(d):(h.prototype=d.prototype,new h)}}(),o;(function(u){u.Select="select",u.Hover="hover",u.Spacing="spacing",u.Target="target",u.Resize="resize"})(o||(o={}));var a=function(u){i(c,u);function c(){return u!==null&&u.apply(this,arguments)||this}return c.prototype.defaults=function(){return{id:"",type:""}},Object.defineProperty(c.prototype,"type",{get:function(){return this.get("type")||""},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"component",{get:function(){var d,h=this.get("component");return h||((d=this.get("componentView"))===null||d===void 0?void 0:d.model)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"componentView",{get:function(){var d,h=this.get("componentView");return h||((d=this.get("component"))===null||d===void 0?void 0:d.getView())},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"el",{get:function(){var d;return(d=this.componentView)===null||d===void 0?void 0:d.el},enumerable:!1,configurable:!0}),c.prototype.getBoxRect=function(d){var h=this,g=h.el,m=h.em,b=m.Canvas.getCanvasView(),w=this.get("boxRect");return w||(g&&b?b.getElBoxRect(g,d):{x:0,y:0,width:0,height:0})},c.prototype.getStyle=function(d){d===void 0&&(d={});var h=d.boxRect||this.getBoxRect(d),g=h.width,m=h.height,b=h.x,w=h.y;return{width:"".concat(g,"px"),height:"".concat(m,"px"),top:"0",left:"0",position:"absolute",translate:"".concat(b,"px ").concat(w,"px")}},c.prototype.isType=function(d){return this.type===d},c}(n.A);const l=a},1738:(r,e,t)=>{t.d(e,{A:()=>i});var n;(function(o){o.run="command:run",o.runCommand="command:run:",o.runBeforeCommand="command:run:before:",o.abort="command:abort:",o.stop="command:stop",o.stopCommand="command:stop:",o.stopBeforeCommand="command:stop:before:",o.call="command:call",o.callCommand="command:call:"})(n||(n={}));const i=n},9484:(r,e,t)=>{t.r(e),t.d(e,{default:()=>n});const n={run:function(i){i.Components.clear(),i.Css.clear()}}},9516:(r,e,t)=>{t.r(e),t.d(e,{default:()=>a});var n=t(5706),i=t(9966),o=t(6294);const a={run:function(l){(0,n.bindAll)(this,"onKeyUp","enableDragger","disableDragger"),this.editor=l,this.canvasModel=this.canvas.getCanvasView().model,this.toggleMove(1)},stop:function(l){this.toggleMove(),this.disableDragger()},onKeyUp:function(l){(0,o.Ch)(l)===" "&&this.editor.stopCommand(this.id)},enableDragger:function(l){this.toggleDragger(1,l)},disableDragger:function(l){this.toggleDragger(0,l)},toggleDragger:function(l,u){var c=this,d=c.canvasModel,h=c.em,g=this.dragger,m=l?"add":"remove";this.getCanvas().classList[m]("".concat(this.ppfx,"is__grabbing")),g||(g=new i.A({getPosition:function(){return{x:d.get("x"),y:d.get("y")}},setPosition:function(b){var w=b.x,x=b.y;d.set({x:w,y:x})},onStart:function(b,w){h.trigger("canvas:move:start",w)},onDrag:function(b,w){h.trigger("canvas:move",w)},onEnd:function(b,w){h.trigger("canvas:move:end",w)}}),this.dragger=g),l?g.start(u):g.stop()},toggleMove:function(l){var u=this.ppfx,c=l?"add":"remove",d=l?"on":"off",h={on:o.on,off:o.AU},g=this.getCanvas(),m=["".concat(u,"is__grab")];!l&&m.push("".concat(u,"is__grabbing")),m.forEach(function(b){return g.classList[c](b)}),h[d](document,"keyup",this.onKeyUp),h[d](g,"mousedown",this.enableDragger),h[d](document,"mouseup",this.disableDragger)}}},9946:(r,e,t)=>{t.r(e),t.d(e,{default:()=>c,defineCommand:()=>l});var n=t(9156),i=t(1738),o=function(){var d=function(h,g){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,b){m.__proto__=b}||function(m,b){for(var w in b)Object.prototype.hasOwnProperty.call(b,w)&&(m[w]=b[w])},d(h,g)};return function(h,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");d(h,g);function m(){this.constructor=h}h.prototype=g===null?Object.create(g):(m.prototype=g.prototype,new m)}}(),a=function(){return a=Object.assign||function(d){for(var h,g=1,m=arguments.length;g<m;g++){h=arguments[g];for(var b in h)Object.prototype.hasOwnProperty.call(h,b)&&(d[b]=h[b])}return d},a.apply(this,arguments)};function l(d){return d}var u=function(d){o(h,d);function h(g){var m=d.call(this,0)||this;m.config=g||{},m.em=m.config.em||{};var b=m.config.stylePrefix;return m.pfx=b,m.ppfx=m.config.pStylePrefix,m.hoverClass="".concat(b,"hover"),m.badgeClass="".concat(b,"badge"),m.plhClass="".concat(b,"placeholder"),m.freezClass="".concat(m.ppfx,"freezed"),m.canvas=m.em.Canvas,m.init(m.config),m}return h.prototype.onFrameScroll=function(g){},h.prototype.getCanvas=function(){return this.canvas.getElement()},h.prototype.getCanvasBody=function(){return this.canvas.getBody()},h.prototype.getCanvasTools=function(){return this.canvas.getToolsEl()},h.prototype.offset=function(g){var m=g.getBoundingClientRect();return{top:m.top+g.ownerDocument.body.scrollTop,left:m.left+g.ownerDocument.body.scrollLeft}},h.prototype.init=function(g){},h.prototype.callRun=function(g,m){m===void 0&&(m={});var b=this.id;if(g.trigger("".concat(i.A.runBeforeCommand).concat(b),{options:m}),m.abort){g.trigger("".concat(i.A.abort).concat(b),{options:m});return}var w=m.sender||g,x=this.run(g,w,m),_={id:b,result:x,options:m},C=a(a({},_),{type:"run"});return this.noStop||(g.Commands.active[b]=x),g.trigger("".concat(i.A.runCommand).concat(b),_),g.trigger("".concat(i.A.callCommand).concat(b),C),g.trigger(i.A.run,_),g.trigger(i.A.call,C),x},h.prototype.callStop=function(g,m){m===void 0&&(m={});var b=this.id,w=m.sender||g;g.trigger("".concat(i.A.stopBeforeCommand).concat(b),{options:m});var x=this.stop(g,w,m),_={id:b,result:x,options:m},C=a(a({},_),{type:"stop"});return delete g.Commands.active[b],g.trigger("".concat(i.A.stopCommand).concat(b),_),g.trigger("".concat(i.A.callCommand).concat(b),C),g.trigger(i.A.stop,_),g.trigger(i.A.call,C),x},h.prototype.stopCommand=function(g){this.em.Commands.stop(this.id,g)},h.prototype.run=function(g,m,b){},h.prototype.stop=function(g,m,b){},h}(n.Kx);const c=u},7801:(r,e,t)=>{t.r(e),t.d(e,{default:()=>a});var n=t(5706),i=function(l,u,c){if(c||arguments.length===2)for(var d=0,h=u.length,g;d<h;d++)(g||!(d in u))&&(g||(g=Array.prototype.slice.call(u,0,d)),g[d]=u[d]);return l.concat(g||Array.prototype.slice.call(u))},o={run:function(l,u,c){var d=this;c===void 0&&(c={});var h=[],g=c.component||l.getSelectedAll();return g=(0,n.isArray)(g)?i([],g,!0):[g],g.filter(Boolean).forEach(function(m){var b,w;if(!m.get("removable"))return d.em.logWarning("The element is not removable",{component:m});h.push(m);var x=((w=(b=m.delegate)===null||b===void 0?void 0:b.remove)===null||w===void 0?void 0:w.call(b,m))||m;x.remove()}),l.selectRemove(h),h}};const a=o},4864:(r,e,t)=>{t.r(e),t.d(e,{default:()=>u});var n=t(5706),i=t(9966),o=t(1166),a=function(){return a=Object.assign||function(c){for(var d,h=1,g=arguments.length;h<g;h++){d=arguments[h];for(var m in d)Object.prototype.hasOwnProperty.call(d,m)&&(c[m]=d[m])}return c},a.apply(this,arguments)},l="dmode";const u={run:function(c,d,h){var g=this,m,b;if(h===void 0&&(h={}),(0,n.bindAll)(this,"setPosition","onStart","onDrag","onEnd","getPosition","getGuidesStatic","renderGuide","getGuidesTarget"),!h.target)throw new Error("Target option is required");var w=a({doc:(m=h.target.getEl())===null||m===void 0?void 0:m.ownerDocument,onStart:this.onStart,onEnd:this.onEnd,onDrag:this.onDrag,getPosition:this.getPosition,setPosition:this.setPosition,guidesStatic:function(){var _;return(_=g.guidesStatic)!==null&&_!==void 0?_:[]},guidesTarget:function(){var _;return(_=g.guidesTarget)!==null&&_!==void 0?_:[]}},(b=h.dragger)!==null&&b!==void 0?b:{});this.setupGuides(),this.opts=h,this.editor=c,this.em=c.getModel(),this.target=h.target,this.isTran=h.mode=="translate",this.guidesContainer=this.getGuidesContainer(),this.guidesTarget=this.getGuidesTarget(),this.guidesStatic=this.getGuidesStatic();var x=this.dragger;return x?x.setOptions(w):(x=new i.A(w),this.dragger=x),h.event&&x.start(h.event),this.toggleDrag(!0),this.em.trigger("".concat(l,":start"),this.getEventOpts()),x},getEventOpts:function(){var c,d,h=(d=(c=this.guidesTarget)===null||c===void 0?void 0:c.filter(function(g){return g.active}))!==null&&d!==void 0?d:[];return{mode:this.opts.mode,component:this.target,target:this.target,guidesTarget:this.guidesTarget,guidesStatic:this.guidesStatic,guidesMatched:this.getGuidesMatched(h),command:this}},stop:function(){this.toggleDrag()},setupGuides:function(){var c;((c=this.guides)!==null&&c!==void 0?c:[]).forEach(function(d){var h,g=d.guide;(h=g==null?void 0:g.parentNode)===null||h===void 0||h.removeChild(g)}),this.guides=[]},getGuidesContainer:function(){var c=this,d,h,g,m,b=this.guidesEl;if(!b){var w=this,x=w.editor,_=w.em,C=w.opts,O=(d=x.getConfig().stylePrefix)!==null&&d!==void 0?d:"",A=document.createElement("div"),I=document.createElement("div"),Q='<div class="'.concat(O,"guide-info__line ").concat(O,`danger-bg">
        <div class="`).concat(O,"guide-info__content ").concat(O,`danger-color"></div>
      </div>`);b=document.createElement("div"),b.className="".concat(O,"guides"),A.className="".concat(O,"guide-info ").concat(O,"guide-info__x"),I.className="".concat(O,"guide-info ").concat(O,"guide-info__y"),A.innerHTML=Q,I.innerHTML=Q,b.appendChild(A),b.appendChild(I),(h=x.Canvas.getGlobalToolsEl())===null||h===void 0||h.appendChild(b),this.guidesEl=b,this.elGuideInfoX=A,this.elGuideInfoY=I,this.elGuideInfoContentX=(g=A.querySelector(".".concat(O,"guide-info__content")))!==null&&g!==void 0?g:void 0,this.elGuideInfoContentY=(m=I.querySelector(".".concat(O,"guide-info__content")))!==null&&m!==void 0?m:void 0,_.on("canvas:update frame:scroll",(0,n.debounce)(function(){var $;c.updateGuides(),C.debug&&(($=c.guides)===null||$===void 0||$.forEach(function(Z){return c.renderGuide(Z)}))},200))}return b},getGuidesStatic:function(){var c=this,d=[],h=this.target.getEl(),g=h==null?void 0:h.parentElement;return g?((0,n.each)(g.children,function(m){return d=d.concat(h!==m?c.getElementGuides(m):[])}),d.concat(this.getElementGuides(g))):[]},getGuidesTarget:function(){return this.getElementGuides(this.target.getEl())},updateGuides:function(c){var d=this,h,g,m,b=(h=c??this.guides)!==null&&h!==void 0?h:[];b.forEach(function(w){var x=w.origin,_=g===x?m:d.getElementPos(x);g=x,m=_,(0,n.each)(d.getGuidePosUpdate(w,_),function(C,O){w[O]=C}),w.originRect=_})},getGuidePosUpdate:function(c,d){var h={},g=d.top,m=d.height,b=d.left,w=d.width;switch(c.type){case"t":h.y=g;break;case"b":h.y=g+m;break;case"l":h.x=b;break;case"r":h.x=b+w;break;case"x":h.x=b+w/2;break;case"y":h.y=g+m/2;break}return h},renderGuide:function(c){var d,h;if(!this.opts.skipGuidesRender){var g=(d=c.guide)!==null&&d!==void 0?d:document.createElement("div"),m="px",b=c.active?2:1;if(g.style.cssText="position: absolute; background-color: ".concat(c.active?"green":"red",";"),!g.children.length){var w=document.createElement("div");w.style.cssText="position: absolute; color: red; padding: 5px; top: 0; left: 0;",g.appendChild(w)}return c.y?(g.style.width="100%",g.style.height="".concat(b).concat(m),g.style.top="".concat(c.y).concat(m),g.style.left="0"):(g.style.width="".concat(b).concat(m),g.style.height="100%",g.style.left="".concat(c.x).concat(m),g.style.top="0".concat(m)),!c.guide&&((h=this.guidesContainer)===null||h===void 0||h.appendChild(g)),g}},getElementPos:function(c){return this.editor.Canvas.getElementPos(c,{noScroll:1})},getElementGuides:function(c){var d=this,h=this.opts,g=c,m=this.getElementPos(c),b=(0,o.getComponentModel)(c),w=(0,o.getComponentView)(c),x=m.top,_=m.height,C=m.left,O=m.width,A=[{type:"t",y:x},{type:"b",y:x+_},{type:"l",x:C},{type:"r",x:C+O},{type:"x",x:C+O/2},{type:"y",y:x+_/2}],I=A.map(function(Q){var $=h.debug?d.renderGuide(Q):void 0;return a(a({},Q),{component:b,componentView:w,componentEl:g,origin:g,componentElRect:m,originRect:m,guideEl:$,guide:$})});return I.forEach(function(Q){var $;return($=d.guides)===null||$===void 0?void 0:$.push(Q)}),I},getTranslate:function(c,d){d===void 0&&(d="x");var h=0;return(c||"").split(" ").forEach(function(g){var m=g.trim(),b="translate".concat(d.toUpperCase(),"(");m.indexOf(b)===0&&(h=parseFloat(m.replace(b,"")))}),h},setTranslate:function(c,d,h){var g="translate".concat(d.toUpperCase(),"("),m="".concat(g).concat(h,")"),b=(c||"").split(" ").map(function(w){var x=w.trim();return x.indexOf(g)===0&&(w=m),w}).join(" ");return b.indexOf(g)<0&&(b+=" ".concat(m)),b},getPosition:function(){var c=this,d=c.target,h=c.isTran,g=d.getStyle(),m=g.transform,b=g.left,w=g.top,x=0,_=0;return h&&m?(x=this.getTranslate(m),_=this.getTranslate(m,"y")):(x=parseFloat(b??"0"),_=parseFloat(w??"0")),{x,y:_}},setPosition:function(c){var d,h,g=c.x,m=c.y,b=c.end,w=c.position,x=c.width,_=c.height,C=this,O=C.target,A=C.isTran,I=C.em,Q=C.opts,$="px",Z=!b,P="".concat(parseInt("".concat(g),10)).concat($),tt="".concat(parseInt("".concat(m),10)).concat($),H={};if(A){var k=(h=(d=O.getStyle())===null||d===void 0?void 0:d.transform)!==null&&h!==void 0?h:"";k=this.setTranslate(k,"x",P),k=this.setTranslate(k,"y",tt),H={transform:k,__p:Z}}else{var F={position:w,width:x,height:_},T={left:P,top:tt,__p:Z};(0,n.keys)(F).forEach(function(nt){var L=F[nt];L&&(T[nt]=L)}),H=T}Q.addStyle?Q.addStyle({component:O,styles:H,partial:!b}):O.addStyle(H,{avoidStore:!b}),I.Styles.__emitCmpStyleUpdate(H,{components:I.getSelected()})},_getDragData:function(){var c=this.target;return{target:c,parent:c.parent(),index:c.index()}},onStart:function(c){var d,h=this,g=h.target,m=h.editor,b=h.isTran,w=h.opts,x=m.Canvas,_=g.getStyle(),C="absolute",O=[C,"relative"];if((d=w.onStart)===null||d===void 0||d.call(w,this._getDragData()),!b){if(_.position!==C){var A=x.offset(g.getEl()),I=A.left,Q=A.top,$=A.width,Z=A.height,P=g.parent(),tt=null;do{var H=P==null?void 0:P.getStyle(),k=H==null?void 0:H.position;k&&(tt=O.indexOf(k)>=0?P:null),P=P==null?void 0:P.parent()}while(P&&!tt);if(w.center){var F=x.getMouseRelativeCanvas(c),T=F.x,nt=F.y;I=T,Q=nt}else if(tt){var L=x.offset(tt.getEl());I=I-L.left,Q=Q-L.top}this.setPosition({x:I,y:Q,width:"".concat($,"px"),height:"".concat(Z,"px"),position:C})}this.guidesStatic=this.getGuidesStatic()}},onDrag:function(c){var d=this,h,g,m=this,b=m.guidesTarget,w=m.opts;this.updateGuides(b),w.debug&&(b==null||b.forEach(function(x){return d.renderGuide(x)})),w.guidesInfo&&this.renderGuideInfo((h=b==null?void 0:b.filter(function(x){return x.active}))!==null&&h!==void 0?h:[]),(g=w.onDrag)===null||g===void 0||g.call(w,this._getDragData()),this.opts.event=c,this.em.trigger("".concat(l,":move"),this.getEventOpts())},onEnd:function(c,d,h){var g,m=this,b=m.editor,w=m.opts,x=m.id;(g=w.onEnd)===null||g===void 0||g.call(w,c,h,a(a({event:c},h),this._getDragData())),b.stopCommand("".concat(x)),this.hideGuidesInfo(),this.em.trigger("".concat(l,":end"),this.getEventOpts())},hideGuidesInfo:function(){var c=this;["X","Y"].forEach(function(d){var h=c["elGuideInfo".concat(d)];h&&(h.style.display="none")})},renderGuideInfo:function(c){var d=this;c===void 0&&(c=[]),this.hideGuidesInfo();var h=this.getGuidesMatched(c);h.forEach(function(g){d.opts.skipGuidesRender||d.renderSingleGuideInfo(g),d.em.trigger("".concat(l,":active"),a(a({},d.getEventOpts()),g))})},renderSingleGuideInfo:function(c){var d=c.posFirst,h=c.posSecond,g=c.size,m=c.sizeRaw,b=c.guide,w=c.elGuideInfo,x=c.elGuideInfoCnt,_=(0,n.isUndefined)(b.x)?"y":"x",C=_==="y",O=w.style;O.display="",O[C?"top":"left"]="".concat(d,"px"),O[C?"left":"top"]="".concat(h,"px"),O[C?"width":"height"]="".concat(g,"px"),x.innerHTML="".concat(Math.round(m),"px")},getGuidesMatched:function(c){var d=this;c===void 0&&(c=[]);var h=this.guidesStatic,g=h===void 0?[]:h;return c.map(function(m){var b=m.origin,w=m.x,x=d.getElementPos(b),_=(0,n.isUndefined)(w)?"y":"x",C=_==="y",O=x[C?"left":"top"],A=x.rect[C?"left":"top"],I=C?O+x.width:O+x.height,Q=C?A+x.rect.width:A+x.rect.height,$=g.filter(function(Qt){var W,U={l:["r","x"],r:["l","x"],x:["l","r"],t:["b","y"],b:["t","y"],y:["t","b"]};return Qt.type===m.type||((W=U[m.type])===null||W===void 0?void 0:W.includes(Qt.type))}).map(function(Qt){var W=Qt.originRect,U=W.left,Ct=W.width,vt=W.top,Wt=W.height,yt=C?U:vt,It=C?U+Ct:vt+Wt;return{gap:It<O?O-It:yt-I,guide:Qt}}).filter(function(Qt){return Qt.gap>0}).sort(function(Qt,W){return Qt.gap-W.gap}).map(function(Qt){return Qt.guide}).filter(function(Qt){switch(m.type){case"l":case"r":case"x":return Math.abs(Qt.x-m.x)<1;case"t":case"b":case"y":return Math.abs(Qt.y-m.y)<1;default:return!1}}),Z=$[0];if(Z){var P=Z.originRect,tt=P.left,H=P.width,k=P.top,F=P.height,T=P.rect,nt=C?tt<x.left:k<x.top,L=C?tt:k,ot=C?T.left:T.top,pt=C?tt+H:k+F,mt=C?T.left+T.width:T.top+T.height,Lt=C?m.y:m.x,St=nt?pt:I,at=nt?O-pt:L-I,Rt=nt?A-mt:ot-Q,wt=d["elGuideInfo".concat(_.toUpperCase())],Mt=d["elGuideInfoContent".concat(_.toUpperCase())];return{guide:m,guidesStatic:g,matched:Z,posFirst:Lt,posSecond:St,size:at,sizeRaw:Rt,elGuideInfo:wt,elGuideInfoCnt:Mt}}else return null}).filter(Boolean)},toggleDrag:function(c){var d=this,h=d.ppfx,g=d.editor,m=c?"add":"remove",b=["".concat(h,"is__grabbing")],w=g.Canvas,x=w.getBody();b.forEach(function(_){return x.classList[m](_)}),w[c?"startAutoscroll":"stopAutoscroll"]()},editor:void 0,em:void 0,opts:void 0,target:void 0}},6134:(r,e,t)=>{t.r(e),t.d(e,{default:()=>n});const n={run:function(i){if(i.Canvas.hasFocus()){var o=[];i.getSelectedAll().forEach(function(a){var l=a.components(),u=l&&l.filter(function(c){return c.get("selectable")})[0];u&&o.push(u)}),o.length&&i.select(o)}}}},914:(r,e,t)=>{t.r(e),t.d(e,{default:()=>n});const n={run:function(i,o,a){if(a===void 0&&(a={}),!(!i.Canvas.hasFocus()&&!a.force)){var l=[];i.getSelectedAll().forEach(function(u){for(var c=u.parent();c&&!c.get("selectable");)c=c.parent();c&&l.push(c)}),l.length&&i.select(l)}}}},5547:(r,e,t)=>{t.r(e),t.d(e,{default:()=>n});const n={run:function(i){if(i.Canvas.hasFocus()){var o=[];i.getSelectedAll().forEach(function(a){var l=a.parent();if(l){var u=l.components().length,c=0,d=0,h;do c++,d=a.index()+c,h=d<=u?l.getChildAt(d):null;while(h&&!h.get("selectable"));o.push(h||a)}}),o.length&&i.select(o)}}}},8655:(r,e,t)=>{t.r(e),t.d(e,{default:()=>n});const n={run:function(i){if(i.Canvas.hasFocus()){var o=[];i.getSelectedAll().forEach(function(a){var l=a.parent();if(l){var u=0,c=0,d;do u++,c=a.index()-u,d=c>=0?l.getChildAt(c):null;while(d&&!d.get("selectable"));o.push(d||a)}}),o.length&&i.select(o)}}}},7640:(r,e,t)=>{t.r(e),t.d(e,{default:()=>i});var n=t(5706);const i={run:function(o,a,l){l===void 0&&(l={});var u=l.target,c=[];if(!u.get("styles"))return c;var d=u.get("type"),h=o.Pages.getAllWrappers(),g=(0,n.flatten)(h.map(function(b){return b.findType(d)})).length;if(!g){var m=o.CssComposer.getAll();c=m.filter(function(b){return b.get("group")==="cmp:".concat(d)}),m.remove(c)}return c}}},5837:(r,e,t)=>{t.r(e),t.d(e,{default:()=>i});var n=function(o,a,l){if(l||arguments.length===2)for(var u=0,c=a.length,d;u<c;u++)(d||!(u in a))&&(d||(d=Array.prototype.slice.call(a,0,u)),d[u]=a[u]);return o.concat(d||Array.prototype.slice.call(a))};const i={run:function(o){var a=o.getModel(),l=n([],o.getSelectedAll(),!0).map(function(u){var c,d;return((d=(c=u.delegate)===null||c===void 0?void 0:c.copy)===null||d===void 0?void 0:d.call(c,u))||u}).filter(Boolean);l.length&&a.set("clipboard",l)}}},6477:(r,e,t)=>{t.r(e),t.d(e,{default:()=>i});var n=t(6294);const i={run:function(o,a,l){var u=this;l===void 0&&(l={}),a&&a.set&&a.set("active",0);var c=o.getConfig(),d=o.Modal,h=c.stylePrefix;if(this.cm=o.CodeManager||null,!this.editors){var g=this.buildEditor("htmlmixed","hopscotch","HTML"),m=this.buildEditor("css","hopscotch","CSS");this.htmlEditor=g.model,this.cssEditor=m.model;var b=(0,n.a_)("div",{class:"".concat(h,"export-dl")});b.appendChild(g.el),b.appendChild(m.el),this.editors=b}d.open({title:c.textViewCode,content:this.editors}).getModel().once("change:open",function(){return o.stopCommand("".concat(u.id))}),this.htmlEditor.setContent(o.getHtml(l.optsHtml)),this.cssEditor.setContent(o.getCss(l.optsCss))},stop:function(o){var a=o.Modal;a&&a.close()},buildEditor:function(o,a,l){var u=this.em.CodeManager,c=u.createViewer({label:l,codeName:o,theme:a}),d=new u.EditorView({model:c,config:u.getConfig()}).render().el;return{model:c,el:d}}}},1772:(r,e,t)=>{t.r(e),t.d(e,{default:()=>i});var n=t(5706);const i={isEnabled:function(){var o=document;return!!(o.fullscreenElement||o.webkitFullscreenElement||o.mozFullScreenElement)},enable:function(o){var a="";return o.requestFullscreen?o.requestFullscreen():o.webkitRequestFullscreen?(a="webkit",o.webkitRequestFullscreen()):o.mozRequestFullScreen?(a="moz",o.mozRequestFullScreen()):o.msRequestFullscreen&&o.msRequestFullscreen(),a},disable:function(){var o=document;this.isEnabled()&&(o.exitFullscreen?o.exitFullscreen():o.webkitExitFullscreen?o.webkitExitFullscreen():o.mozCancelFullScreen?o.mozCancelFullScreen():o.msExitFullscreen&&o.msExitFullscreen())},fsChanged:function(o){this.isEnabled()||(this.stopCommand({sender:this.sender}),document.removeEventListener("".concat(o||"","fullscreenchange"),this.fsChanged))},run:function(o,a,l){l===void 0&&(l={}),this.sender=a;var u=l.target,c=(0,n.isElement)(u)?u:document.querySelector(u),d=this.enable(c||o.getContainer());this.fsChanged=this.fsChanged.bind(this,d),document.addEventListener(d+"fullscreenchange",this.fsChanged)},stop:function(o,a){a&&a.set&&a.set("active",!1),this.disable()}}},741:(r,e,t)=>{t.r(e),t.d(e,{default:()=>u});var n=t(5706),i=t(7774),o=t(6294),a=t(9317),l=t(1406);const u=(0,n.extend)({},l.default,a.default,{init:function(c){a.default.init.apply(this,arguments),(0,n.bindAll)(this,"initSorter","rollback","onEndMove"),this.opt=c,this.hoverClass=this.ppfx+"highlighter-warning",this.badgeClass=this.ppfx+"badge-warning",this.noSelClass=this.ppfx+"no-select"},enable:function(){for(var c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];a.default.enable.apply(this,c),this.getBadgeEl().addClass(this.badgeClass),this.getHighlighterEl().addClass(this.hoverClass);var h=this.$wrapper;h.css("cursor","move"),h.on("mousedown",this.initSorter),h.addClass(this.noSelClass)},toggleClipboard:function(){},initSorter:function(c){var d=(0,i.default)(c.target).data("model"),h=d.get("draggable");h&&(this.cacheEl=null,this.startSelectPosition(c.target,this.frameEl.contentDocument),this.sorter.draggable=h,this.sorter.eventHandlers.legacyOnEndMove=this.onEndMove.bind(this),this.stopSelectComponent(),this.$wrapper.off("mousedown",this.initSorter),(0,o.on)(this.getContentWindow(),"keydown",this.rollback))},initSorterFromModel:function(c){var d=c.get("draggable");if(d){this.cacheEl=null;var h=c.view.el;this.startSelectPosition(h,this.frameEl.contentDocument),this.sorter.draggable=d,this.sorter.eventHandlers.legacyOnEndMove=this.onEndMoveFromModel.bind(this),this.stopSelectComponent(),(0,o.on)(this.getContentWindow(),"keydown",this.rollback)}},initSorterFromModels:function(c){this.cacheEl=null;var d=c[c.length-1],h=this.em.getCurrentFrame(),g=d.getEl(h==null?void 0:h.model),m=g.ownerDocument,b=c.map(function(w){var x;return(x=w==null?void 0:w.view)===null||x===void 0?void 0:x.el});this.startSelectPosition(b,m,{onStart:this.onStart}),this.sorter.eventHandlers.legacyOnMoveClb=this.onDrag,this.sorter.eventHandlers.legacyOnEndMove=this.onEndMoveFromModel.bind(this),this.stopSelectComponent(),(0,o.on)(this.getContentWindow(),"keydown",this.rollback)},onEndMoveFromModel:function(){(0,o.AU)(this.getContentWindow(),"keydown",this.rollback)},onEndMove:function(){this.enable(),(0,o.AU)(this.getContentWindow(),"keydown",this.rollback)},onSelect:function(c,d){},rollback:function(c,d){var h=c.which||c.keyCode;(h==27||d)&&this.sorter.cancelDrag()},getBadgeEl:function(){return this.$badge||(this.$badge=(0,i.default)(this.getBadge())),this.$badge},getHighlighterEl:function(){return this.$hl||(this.$hl=(0,i.default)(this.canvas.getHighlighter())),this.$hl},stop:function(){for(var c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];a.default.stop.apply(this,c),this.getBadgeEl().removeClass(this.badgeClass),this.getHighlighterEl().removeClass(this.hoverClass);var h=this.$wrapper;h.css("cursor","").unbind().removeClass(this.noSelClass)}})},2924:(r,e,t)=>{t.r(e),t.d(e,{default:()=>o});var n=t(5706),i=t(6294);const o={open:function(a){var l=this,u=this,c=u.editor,d=u.title,h=u.config,g=u.am,m=h.custom;if((0,n.isFunction)(m.open))return m.open(g.__customData());var b=c.Modal;b.open({title:d,content:a}).onceClose(function(){return c.stopCommand(l.id)})},close:function(){var a=this.config.custom;if((0,n.isFunction)(a.close))return a.close(this.am.__customData());var l=this.editor.Modal;l&&l.close()},run:function(a,l,u){u===void 0&&(u={});var c=a.AssetManager,d=c.getConfig(),h=u.types,g=h===void 0?[]:h,m=u.accept,b=u.select;if(this.title=u.modalTitle||a.t("assetManager.modalTitle")||"",this.editor=a,this.config=d,this.am=c,c.setTarget(u.target),c.onClick(u.onClick),c.onDblClick(u.onDblClick),c.onSelect(u.onSelect),c.__behaviour({select:b,types:g,options:u}),d.custom)this.rendered=this.rendered||(0,i.a_)("div"),this.rendered.className="".concat(d.stylePrefix,"custom-wrp"),c.__behaviour({container:this.rendered}),c.__trgCustom();else{if(!this.rendered||g){var w=c.getAll().filter(function(_){return _});g&&g.length&&(w=w.filter(function(_){return g.indexOf(_.get("type"))!==-1})),c.render(w),this.rendered=c.getContainer()}if(m){var x=this.rendered.querySelector("input#".concat(d.stylePrefix,"uploadFile"));x&&x.setAttribute("accept",m)}}return this.open(this.rendered),this},stop:function(a){this.editor=a,this.close(this.rendered)}}},3963:(r,e,t)=>{t.r(e),t.d(e,{default:()=>o});var n=t(5706),i=t(6294);const o={open:function(){var a=this,l=a.container,u=a.editor,c=a.bm,d=a.config,h=d.custom,g=d.appendTo;if((0,n.isFunction)(h.open))return h.open(c.__customData());if(this.firstRender&&!g){var m="views-container",b=u.Panels,w=b.getPanel(m)||b.addPanel({id:m});w.set("appendContent",l).trigger("change:appendContent"),h||l.appendChild(c.render())}l&&(l.style.display="block")},close:function(){var a=this,l=a.container,u=a.config,c=u.custom;if((0,n.isFunction)(c.close))return c.close(this.bm.__customData());l&&(l.style.display="none")},run:function(a){var l=a.Blocks;this.config=l.getConfig(),this.firstRender=!this.container,this.container=this.container||(0,i.a_)("div"),this.editor=a,this.bm=l;var u=this.container;l.__behaviour({container:u}),this.config.custom&&l.__trgCustom(),this.open()},stop:function(){this.close()}}},1479:(r,e,t)=>{t.r(e),t.d(e,{default:()=>n});const n={run:function(i){var o=i.LayerManager,a=i.Panels,l=o.getConfig();if(!l.appendTo){if(!this.layers){var u="views-container",c=document.createElement("div"),d=a.getPanel(u)||a.addPanel({id:u});l.custom?o.__trgCustom({container:c}):c.appendChild(o.render()),d.set("appendContent",c).trigger("change:appendContent"),this.layers=c}this.layers.style.display="block"}},stop:function(){var i=this.layers;i&&(i.style.display="none")}}},3473:(r,e,t)=>{t.r(e),t.d(e,{default:()=>i});var n=t(7774);const i={run:function(o,a){if(this.sender=a,!this.$cnt){var l=o.getConfig(),u=o.Panels,c=o.DeviceManager,d=o.SelectorManager,h=o.StyleManager,g="change:appendContent",m=(0,n.default)("<div></div>"),b=(0,n.default)("<div></div>"),w=(0,n.default)("<div></div>"),x=(0,n.default)("<div></div>");if(this.$cnt=m,this.$cntInner=b,b.append(w),b.append(x),m.append(b),c&&l.showDevices){var _=u.addPanel({id:"devices-c"}),C=c.render();_.set("appendContent",C).trigger(g)}var O=d.getConfig();O.custom?d.__trgCustom({container:w.get(0)}):O.appendTo||w.append(d.render([])),this.sm=h;var A=h.getConfig(),I=A.stylePrefix;this.$header=(0,n.default)('<div class="'.concat(I,'header">').concat(o.t("styleManager.empty"),"</div>")),m.append(this.$header),A.custom?h.__trgCustom({container:x.get(0)}):A.appendTo||x.append(h.render());var Q="views-container",$=u.getPanel(Q)||u.addPanel({id:Q});$.set("appendContent",m).trigger(g);var Z=o.getModel();this.listenTo(Z,h.events.target,this.toggleSm)}this.toggleSm()},toggleSm:function(){var o=this,a=o.sender,l=o.sm,u=o.$cntInner,c=o.$header;a&&a.get&&!a.get("active")||!l||(l.getSelected()?(u==null||u.show(),c==null||c.hide()):(u==null||u.hide(),c==null||c.show()))},stop:function(){var o,a;(o=this.$cntInner)===null||o===void 0||o.hide(),(a=this.$header)===null||a===void 0||a.hide()}}},5054:(r,e,t)=>{t.r(e),t.d(e,{default:()=>i});var n=t(7774);const i={run:function(o,a){this.sender=a;var l=o.getModel(),u=o.Config,c=u.stylePrefix,d=o.TraitManager,h=d.getConfig(),g;if(!h.appendTo){if(!this.$cn){this.$cn=(0,n.default)("<div></div>"),this.$cn2=(0,n.default)("<div></div>"),this.$cn.append(this.$cn2),this.$header=(0,n.default)("<div>").append('<div class="'.concat(h.stylePrefix,'header">').concat(l.t("traitManager.empty"),"</div>")),this.$cn.append(this.$header),h.custom?d.__trgCustom({container:this.$cn2.get(0)}):(this.$cn2.append('<div class="'.concat(c,'traits-label">').concat(l.t("traitManager.label"),"</div>")),this.$cn2.append(d.render()));var m=o.Panels;m.getPanel("views-container")?g=m.getPanel("views-container"):g=m.addPanel({id:"views-container"}),g==null||g.set("appendContent",this.$cn.get(0)).trigger("change:appendContent"),this.target=o.getModel(),this.listenTo(this.target,"component:toggled",this.toggleTm)}this.toggleTm()}},toggleTm:function(){var o=this.sender;o&&o.get&&!o.get("active")||(this.target.getSelectedAll().length===1?(this.$cn2.show(),this.$header.hide()):(this.$cn2.hide(),this.$header.show()))},stop:function(){this.$cn2&&this.$cn2.hide(),this.$header&&this.$header.hide()}}},6979:(r,e,t)=>{t.r(e),t.d(e,{default:()=>i});var n=t(5706);const i={run:function(a,l,u){u===void 0&&(u={});var c=a.getModel(),d=c.get("clipboard"),h=a.getSelected();d!=null&&d.length&&h&&(a.getSelectedAll().forEach(function(g){var m,b,w,x=((b=(m=g.delegate)===null||m===void 0?void 0:m.copy)===null||b===void 0?void 0:b.call(m,g))||g,_=x.collection,C;if(_){var O=x.index()+1,A={at:O,action:u.action||"paste-component"};(0,n.contains)(d,x)&&x.get("copyable")?C=_.add(x.clone(),A):C=o(a,d,x.parent(),A)}else{var I=(w=c.Pages.getSelected())===null||w===void 0?void 0:w.getMainComponent(),A={at:(I==null?void 0:I.components().length)||0,action:u.action||"paste-component"};C=o(a,d,I,A)}C=(0,n.isArray)(C)?C:[C],C.forEach(function(Q){return a.trigger("component:paste",Q)})}),h.emitUpdate())}};function o(a,l,u,c){var d=l.filter(function(g){return g.get("copyable")}),h=d.filter(function(g){return a.Components.canMove(u,g).result});return u.components().add(h.map(function(g){return g.clone()}),c)}},4457:(r,e,t)=>{t.r(e),t.d(e,{default:()=>a});var n=t(5706),i=function(l,u,c){if(c||arguments.length===2)for(var d=0,h=u.length,g;d<h;d++)(g||!(d in u))&&(g||(g=Array.prototype.slice.call(u,0,d)),g[d]=u[d]);return l.concat(g||Array.prototype.slice.call(u))},o="core:component-outline";const a={getPanels:function(l){return this.panels||(this.panels=l.Panels.getPanels()),this.panels},preventDrag:function(l){l.abort=1},tglEffects:function(l){var u=this.em,c=l?"on":"off";if(u){var d=u.Canvas,h=d.getBody(),g=d.getToolbarEl();g&&(g.style.display=l?"none":"");var m=h.querySelectorAll(".".concat(this.ppfx,"no-pointer"));(0,n.each)(m,function(b){return b.style.pointerEvents=l?"all":""}),u[c]("run:tlb-move:before",this.preventDrag)}},run:function(l,u){var c=this;this.sender=u,this.selected=i([],l.getSelectedAll(),!0),l.select(),this.shouldRunSwVisibility||(this.shouldRunSwVisibility=l.Commands.isActive(o)),this.shouldRunSwVisibility&&l.stopCommand(o),l.getModel().stopDefault();var d=this.getPanels(l),h=l.Canvas.getElement(),g=l.getEl(),m=l.Config.stylePrefix;if(!this.helper){var b=document.createElement("span");b.className="".concat(m,"off-prv fa fa-eye-slash"),g.appendChild(b),b.onclick=function(){return c.stopCommand()},this.helper=b}this.helper.style.display="inline-block",d.forEach(function(x){return x.set("visible",!1)});var w=h.style;w.width="100%",w.height="100%",w.top="0",w.left="0",w.padding="0",w.margin="0",l.refresh(),this.tglEffects(1)},stop:function(l){var u=this,c=u.sender,d=c===void 0?{}:c,h=u.selected;d.set&&d.set("active",0);var g=this.getPanels(l);this.shouldRunSwVisibility&&(l.runCommand(o),this.shouldRunSwVisibility=!1),l.getModel().runDefault(),g.forEach(function(b){return b.set("visible",!0)});var m=l.Canvas.getElement();m.setAttribute("style",""),h&&l.select(h),delete this.selected,this.helper&&(this.helper.style.display="none"),l.refresh(),this.tglEffects()}}},5493:(r,e,t)=>{t.r(e),t.d(e,{default:()=>i});var n=function(){return n=Object.assign||function(o){for(var a,l=1,u=arguments.length;l<u;l++){a=arguments[l];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(o[c]=a[c])}return o},n.apply(this,arguments)};const i={run:function(o,a,l){var u=l||{},c=o.Canvas,d=c.getCanvasView(),h=n({appendTo:c.getResizerEl(),prefix:o.getConfig().stylePrefix,posFetcher:d.getElementPos.bind(d),mousePosFetcher:c.getMouseRelativePos.bind(c)},u.options||{}),g=this.canvasResizer;return(!g||u.forceNew)&&(this.canvasResizer=new o.Utils.Resizer(h),g=this.canvasResizer),g.setOptions(h,!0),g.blur(),g.focus(u.el),g},stop:function(){var o;(o=this.canvasResizer)===null||o===void 0||o.blur()}}},9317:(r,e,t)=>{t.r(e),t.d(e,{default:()=>tt});var n=t(5706),i=t(9156),o=function(){var H=function(k,F){return H=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,nt){T.__proto__=nt}||function(T,nt){for(var L in nt)Object.prototype.hasOwnProperty.call(nt,L)&&(T[L]=nt[L])},H(k,F)};return function(k,F){if(typeof F!="function"&&F!==null)throw new TypeError("Class extends value "+String(F)+" is not a constructor or null");H(k,F);function T(){this.constructor=k}k.prototype=F===null?Object.create(F):(T.prototype=F.prototype,new T)}}(),a=function(H){o(k,H);function k(){return H!==null&&H.apply(this,arguments)||this}return k.prototype.defaults=function(){return{command:"",attributes:{}}},k}(i.Kx);const l=a;var u=function(){var H=function(k,F){return H=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,nt){T.__proto__=nt}||function(T,nt){for(var L in nt)Object.prototype.hasOwnProperty.call(nt,L)&&(T[L]=nt[L])},H(k,F)};return function(k,F){if(typeof F!="function"&&F!==null)throw new TypeError("Class extends value "+String(F)+" is not a constructor or null");H(k,F);function T(){this.constructor=k}k.prototype=F===null?Object.create(F):(T.prototype=F.prototype,new T)}}(),c=function(H){u(k,H);function k(){return H!==null&&H.apply(this,arguments)||this}return k}(i.pM);const d=c;c.prototype.model=l;var h=t(8242),g=function(){var H=function(k,F){return H=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,nt){T.__proto__=nt}||function(T,nt){for(var L in nt)Object.prototype.hasOwnProperty.call(nt,L)&&(T[L]=nt[L])},H(k,F)};return function(k,F){if(typeof F!="function"&&F!==null)throw new TypeError("Class extends value "+String(F)+" is not a constructor or null");H(k,F);function T(){this.constructor=k}k.prototype=F===null?Object.create(F):(T.prototype=F.prototype,new T)}}(),m=function(){return m=Object.assign||function(H){for(var k,F=1,T=arguments.length;F<T;F++){k=arguments[F];for(var nt in k)Object.prototype.hasOwnProperty.call(k,nt)&&(H[nt]=k[nt])}return H},m.apply(this,arguments)},b=function(H){g(k,H);function k(F){var T=H.call(this,F)||this;return T.em=F.config.em,T}return k.prototype.events=function(){return this.model.get("events")||{mousedown:"handleClick"}},k.prototype.attributes=function(){return this.model.get("attributes")},k.prototype.handleClick=function(F){F.preventDefault(),F.stopPropagation();var T=this.em,nt=T.Canvas.getFrameEl().getBoundingClientRect(),L=nt.left,ot=nt.top,pt=m(m({},F),{clientX:F.clientX-L,clientY:F.clientY-ot});T.trigger("toolbar:run:before",{event:pt}),this.execCommand(pt)},k.prototype.execCommand=function(F){var T=this,nt=T.em,L=T.model,ot={event:F},pt=L.get("command"),mt=nt.Editor;(0,n.isFunction)(pt)&&pt(mt,null,ot),(0,n.isString)(pt)&&mt.runCommand(pt,ot)},k.prototype.render=function(){var F=this,T=F.em,nt=F.$el,L=F.model,ot=L.get("id"),pt=L.get("label"),mt=T.getConfig().stylePrefix;return nt.addClass("".concat(mt,"toolbar-item")),ot&&nt.addClass("".concat(mt,"toolbar-item__").concat(ot)),pt&&nt.append(pt),this},k}(i.Ss);const w=b;var x=function(){var H=function(k,F){return H=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,nt){T.__proto__=nt}||function(T,nt){for(var L in nt)Object.prototype.hasOwnProperty.call(nt,L)&&(T[L]=nt[L])},H(k,F)};return function(k,F){if(typeof F!="function"&&F!==null)throw new TypeError("Class extends value "+String(F)+" is not a constructor or null");H(k,F);function T(){this.constructor=k}k.prototype=F===null?Object.create(F):(T.prototype=F.prototype,new T)}}(),_=function(H){x(k,H);function k(F){var T=H.call(this,F)||this,nt=F.em;return T.em=nt,T.config={em:nt},T.listenTo(T.collection,"reset",T.render),T}return k.prototype.onRender=function(){var F=this.em.config.stylePrefix;this.el.className="".concat(F,"toolbar-items")},k}(h.A);const C=_;_.prototype.itemView=w;var O=t(6294),A=t(1166),I=t(179),Q=t(2225),$=function(){return $=Object.assign||function(H){for(var k,F=1,T=arguments.length;F<T;F++){k=arguments[F];for(var nt in k)Object.prototype.hasOwnProperty.call(k,nt)&&(H[nt]=k[nt])}return H},$.apply(this,arguments)},Z=function(H,k){var F={};for(var T in H)Object.prototype.hasOwnProperty.call(H,T)&&k.indexOf(T)<0&&(F[T]=H[T]);if(H!=null&&typeof Object.getOwnPropertySymbols=="function")for(var nt=0,T=Object.getOwnPropertySymbols(H);nt<T.length;nt++)k.indexOf(T[nt])<0&&Object.prototype.propertyIsEnumerable.call(H,T[nt])&&(F[T[nt]]=H[T[nt]]);return F},P;const tt={activeResizer:!1,init:function(){this.onSelect=(0,n.debounce)(this.onSelect,0),(0,n.bindAll)(this,"onHover","onOut","onClick","onCanvasScroll","onFrameScroll","onFrameResize","onFrameUpdated","onContainerChange")},enable:function(){this.frameOff=this.canvasOff=this.adjScroll=null,this.startSelectComponent(),P=!0},startSelectComponent:function(){this.toggleSelectComponent(1),this.em.getSelected()&&this.onSelect()},stopSelectComponent:function(){this.toggleSelectComponent()},toggleSelectComponent:function(H){var k=this,F=this,T=F.em,nt=F.canvas,L=nt.getCanvasView().el,ot=T.getConfig().listenToEl,pt=T.getContainer().parentNode,mt=H?"on":"off",Lt={on:O.on,off:O.AU},St=Q.I.update;!ot.length&&pt&&ot.push(pt);var at=function(Rt,wt,Mt){Lt[mt](Mt,"scroll",k.onCanvasScroll,!0),Lt[mt](wt,"mouseover",k.onHover),Lt[mt](wt,"mouseleave",k.onOut),Lt[mt](wt,"click",k.onClick),Lt[mt](Rt,"scroll",k.onFrameScroll,!0),Lt[mt](Rt,"resize",k.onFrameResize)};Lt[mt](window,"resize",this.onFrameUpdated),Lt[mt](ot,"scroll",this.onContainerChange),T[mt]("component:toggled ".concat(St," undo redo"),this.onSelect,this),T[mt]("change:componentHovered",this.onHovered,this),T[mt]("".concat(Q.I.resize," styleable:change component:input"),this.updateGlobalPos,this),T[mt]("".concat(St,":toolbar"),this._upToolbar,this),T[mt]("frame:updated",this.onFrameUpdated,this),T[mt]("canvas:updateTools",this.onFrameUpdated,this),T[mt](T.Canvas.events.refresh,this.updateAttached,this),T.Canvas.getFrames().forEach(function(Rt){var wt=Rt.view,Mt=wt==null?void 0:wt.getWindow();Mt&&at(Mt,wt==null?void 0:wt.getBody(),L)})},onHover:function(H){H.stopPropagation();var k=this.em,F=H.target,T=(0,A.getComponentView)(F),nt=T==null?void 0:T.frameView,L=T==null?void 0:T.model;if(!L)for(var ot=F.parentNode;!L&&ot&&!(0,O.ZQ)(ot);)L=(0,A.getComponentModel)(ot),ot=ot.parentNode;this.currentDoc=F.ownerDocument,k.setHovered(L,{useValid:!0}),nt&&k.setCurrentFrame(nt)},onFrameUpdated:function(){this.updateLocalPos(),this.updateGlobalPos()},onHovered:function(H,k){var F=this,T,nt={};k?(T=k.views)===null||T===void 0||T.forEach(function(L){var ot=L.el,pt=F.getElementPos(ot);nt={el:ot,pos:pt,component:k,view:L},ot.ownerDocument===F.currentDoc&&(F.elHovered=nt),F.updateToolsLocal(nt)}):(this.currentDoc=null,this.elHovered=0,this.updateToolsLocal(),this.canvas.getFrames().forEach(function(L){var ot=L.view,pt=ot&&ot.getToolsEl();pt&&F.toggleToolsEl(0,0,{el:pt})}))},onSelect:function(){var H=this.em,k=H.getSelected(),F=H.getCurrentFrame(),T=k&&k.getView(F==null?void 0:F.model),nt=T==null?void 0:T.el,L={};if(nt&&(0,O.zN)(nt)){var ot=this.getElementPos(nt);L={el:nt,pos:ot,component:k,view:T}}this.elSelected=L,this.updateToolsGlobal(),this.updateLocalPos(L),this.initResize(k)},updateGlobalPos:function(){var H=this.getElSelected();H.el&&(H.pos=this.getElementPos(H.el),this.updateToolsGlobal())},updateLocalPos:function(H){var k=this.getElHovered();k.el&&(k.pos=this.getElementPos(k.el),this.updateToolsLocal(H))},getElHovered:function(){return this.elHovered||{}},getElSelected:function(){return this.elSelected||{}},onOut:function(){this.em.setHovered()},toggleToolsEl:function(H,k,F){F===void 0&&(F={});var T=F.el||this.canvas.getToolsEl(k);return T&&(T.style.display=H?"":"none"),T||{}},showElementOffset:function(H,k,F){F===void 0&&(F={}),P&&this.editor.runCommand("show-offset",{el:H,elPos:k,view:F.view,force:1,top:0,left:0})},hideElementOffset:function(H){this.editor.stopCommand("show-offset",{view:H})},showFixedElementOffset:function(H,k){this.editor.runCommand("show-offset",{el:H,elPos:k,state:"Fixed"})},hideFixedElementOffset:function(){this.editor&&this.editor.stopCommand("show-offset",{state:"Fixed"})},hideHighlighter:function(H){this.canvas.getHighlighter(H).style.opacity=0},onClick:function(H){H.stopPropagation(),H.preventDefault();var k=this.em;if(k.get("_cmpDrag"))return k.set("_cmpDrag");var F=H.target,T=(0,A.getComponentModel)(F);if(!T)for(var nt=F.parentNode;!T&&nt&&!(0,O.ZQ)(nt);)T=(0,A.getComponentModel)(nt),nt=nt.parentNode;if(T){if(k.isEditing()&&(!T.get("textable")&&T.isChildOf("text")||k.getEditing()!==T))return;this.select(T,H)}},select:function(H,k){if(k===void 0&&(k={}),!!H){var F=this.em;F.setSelected(H,{event:k,useValid:!0}),this.initResize(F.getSelected())}},updateBadge:function(H,k,F){F===void 0&&(F={});var T=this.canvas,nt=(0,A.getComponentModel)(H),L=this.getBadge(F),ot=L.style;if(!nt||!nt.get("badgable")){ot.display="none";return}if(!F.posOnly){var pt=this.canvas.getConfig(),mt=nt.getIcon(),Lt=pt.pStylePrefix||"",St="".concat(Lt,"badge"),at=pt.customBadgeLabel,Rt="".concat(mt?'<div class="'.concat(St,'__icon">').concat(mt,"</div>"):"",`
        <div class="`).concat(St,'__name">').concat(nt.getName(),"</div>");L.innerHTML=at?at(nt):Rt}var wt="px";ot.display="block";var Mt=T.getTargetToElementFixed(H,L,{pos:k}),Qt=Mt.top,W=F.leftOff<0?-F.leftOff:0;ot.top=Qt+wt,ot.left=W+wt},showHighlighter:function(H){this.canvas.getHighlighter(H).style.opacity=""},initResize:function(H){var k=this,F=k.em,T=k.canvas,nt=F.Editor,L=!(0,n.isElement)(H)&&(0,O.GW)(H)?H:F.getSelected(),ot=L==null?void 0:L.get("resizable"),pt=I.F.Resize,mt=T.hasCustomSpot(pt);T.removeSpots({type:pt});var Lt={component:L,hasCustomResize:mt,resizable:ot};L&&F.trigger(Q.I.resizeInit,Lt);var St=Lt.resizable;if(L&&St){T.addSpot({type:pt,component:L});var at=(0,n.isElement)(H)?H:L.getEl(),Rt=(0,A.isObject)(St)?St:{},wt=Rt.onStart,Mt=wt===void 0?function(){}:wt,Qt=Rt.onMove,W=Qt===void 0?function(){}:Qt,U=Rt.onEnd,Ct=U===void 0?function(){}:U,vt=Rt.updateTarget,Wt=vt===void 0?function(){}:vt,yt=Z(Rt,["onStart","onMove","onEnd","updateTarget"]);if(mt||!at||this.activeResizer)return;var It,R=F.config,Dt=R.stylePrefix||"",xt="".concat(Dt,"resizing"),rt=this,E={component:L,el:at},N=function(st,it,X){var dt=X.docs;dt&&dt.forEach(function(ut){var zt=ut.body,fe=zt.className||"";zt.className=(st=="add"?"".concat(fe," ").concat(xt):fe.replace(xt,"")).trim()})},Y=$({onStart:function(st,it){Mt(st,it);var X=it.el,dt=it.config,ut=it.resizer,zt=dt.keyHeight,fe=dt.keyWidth,se=dt.currentUnit,et=dt.keepAutoHeight,bt=dt.keepAutoWidth;N("add",st,it),It=F.Styles.getModelToStyle(L);var K=getComputedStyle(X),Bt=It.getStyle(),Ot=Bt[fe];dt.autoWidth=bt&&Ot==="auto",isNaN(parseFloat(Ot))&&(Ot=K[fe]);var Gt=Bt[zt];dt.autoHeight=et&&Gt==="auto",isNaN(parseFloat(Gt))&&(Gt=K[zt]),ut.startDim.w=parseFloat(Ot),ut.startDim.h=parseFloat(Gt),P=!1,se&&(dt.unitHeight=(0,A.getUnitFromValue)(Gt),dt.unitWidth=(0,A.getUnitFromValue)(Ot)),rt.activeResizer=!0,nt.trigger(Q.I.resize,$($({},E),{type:"start"}))},onMove:function(st){W(st),nt.trigger(Q.I.resize,$($({},E),{type:"move"}))},onEnd:function(st,it){Ct(st,it),N("remove",st,it),nt.trigger(Q.I.resize,$($({},E),{type:"end"})),P=!0,rt.activeResizer=!1},updateTarget:function(st,it,X){var dt;if(Wt(st,it,X),!!It){var ut=X.store,zt=X.selectedHandler,fe=X.config,se=fe.keyHeight,et=fe.keyWidth,bt=fe.autoHeight,K=fe.autoWidth,Bt=fe.unitWidth,Ot=fe.unitHeight,Gt=["tc","bc"].indexOf(zt)>=0,de=["cl","cr"].indexOf(zt)>=0,re={};if(!Gt){var ie=((dt=T.getBody())===null||dt===void 0?void 0:dt.offsetWidth)||0,ge=it.w<ie?it.w:ie;re[et]=K?"auto":"".concat(ge).concat(Bt)}de||(re[se]=bt?"auto":"".concat(it.h).concat(Ot)),F.getDragMode(L)&&(re.top="".concat(it.t).concat(Ot),re.left="".concat(it.l).concat(Bt));var Ee=$($({},re),{__p:!ut});It.addStyle(Ee,{avoidStore:!ut}),F.Styles.__emitCmpStyleUpdate(Ee,{components:F.getSelected()})}}},yt);this.resizer=nt.runCommand("resize",{el:at,options:Y,force:1})}else{if(mt)return;nt.stopCommand("resize"),this.resizer=null}},updateToolbar:function(H){var k=this.canvas,F=this.config.em,T=H===F?F.getSelected():H,nt=k.getToolbarEl(),L=nt.style,ot=T.get("toolbar"),pt=F.config.showToolbar,mt=!k.hasCustomSpot(I.F.Select);if(T&&pt&&ot&&ot.length&&mt){if(L.display="",!this.toolbar){nt.innerHTML="",this.toolbar=new d(ot);var Lt=new C({collection:this.toolbar,em:F});nt.appendChild(Lt.render().el)}this.toolbar.reset(ot),L.top="-100px",L.left="0"}else L.display="none"},updateToolbarPos:function(H){var k="px",F=this.canvas.getToolbarEl().style;F.top="".concat(H.top).concat(k),F.left="".concat(H.left).concat(k),F.opacity=""},getCanvasPosition:function(){return this.canvas.getCanvasView().getPosition()},getBadge:function(H){return H===void 0&&(H={}),this.canvas.getBadgeEl(H.view)},onCanvasScroll:function(H){this.onFrameScroll(H),this.onContainerChange()},onFrameScroll:function(){this.updateTools(),this.canvas.refreshSpots()},onFrameResize:function(){this.canvas.refresh({all:!0})},updateTools:function(){this.updateLocalPos(),this.updateGlobalPos()},isCompSelected:function(H){return H&&H.get("status")==="selected"},updateToolsLocal:function(H){var k=this.em.getConfig(),F=H||this.getElHovered(),T=F.el,nt=F.pos,L=F.view,ot=F.component;if(!T){this.lastHovered=0;return}var pt=ot.get("hoverable"),mt=this.lastHovered!==T,Lt=mt?{}:{posOnly:1},St=this.canvas.hasCustomSpot(I.F.Hover);mt&&pt&&(this.lastHovered=T,St?this.hideHighlighter(L):this.showHighlighter(L),this.showElementOffset(T,nt,{view:L})),this.isCompSelected(ot)&&(this.hideHighlighter(L),!k.showOffsetsSelected&&this.hideElementOffset(L));var at="px",Rt=this.toggleToolsEl(1,L),wt=Rt.style,Mt=this.canvas.canvasRectOffset(T,nt),Qt=Mt.top,W=Mt.left;!St&&this.updateBadge(T,nt,$($({},Lt),{view:L,topOff:Qt,leftOff:W})),wt.top=Qt+at,wt.left=W+at,wt.width=nt.width+at,wt.height=nt.height+at,this._trgToolUp("local",{component:ot,el:Rt,top:Qt,left:W,width:nt.width,height:nt.height})},_upToolbar:(0,n.debounce)(function(){this.updateToolsGlobal({force:1})},0),_trgToolUp:function(H,k){k===void 0&&(k={}),this.em.trigger("canvas:tools:update",$({type:H},k))},updateToolsGlobal:function(H){H===void 0&&(H={});var k=this.getElSelected(),F=k.el,T=k.pos,nt=k.component;if(!F){this.toggleToolsEl(),this.lastSelected=0;return}var L=this.canvas,ot=this.lastSelected!==F;(ot||H.force)&&(this.lastSelected=F,this.updateToolbar(nt));var pt="px",mt=this.toggleToolsEl(1),Lt=mt.style,St=L.getTargetToElementFixed(F,L.getToolbarEl(),{pos:T}),at=St.canvasOffsetTop,Rt=St.canvasOffsetLeft;Lt.top=at+pt,Lt.left=Rt+pt,Lt.width=T.width+pt,Lt.height=T.height+pt,this.updateToolbarPos({top:St.top,left:St.left}),this._trgToolUp("global",{component:nt,el:mt,top:at,left:Rt,width:T.width,height:T.height})},updateAttached:(0,n.debounce)(function(){this.updateGlobalPos()},0),onContainerChange:(0,n.debounce)(function(){this.em.refreshCanvas()},150),getElementPos:function(H){return this.canvas.getCanvasView().getElementPos(H,{noScroll:!0})},hideBadge:function(){this.getBadge().style.display="none"},cleanPrevious:function(H){H&&H.set({status:"",state:""})},getContentWindow:function(){return this.canvas.getWindow()},run:function(H){(0,A.hasWin)()&&(this.editor=H&&H.get("Editor"),this.enable())},stop:function(H,k,F){if(F===void 0&&(F={}),!!(0,A.hasWin)()){var T=this,nt=T.em,L=T.editor;this.onHovered(),this.stopSelectComponent(),!F.preserveSelected&&nt.setSelected(),this.toggleToolsEl(),this.updateAttached.cancel(),L&&L.stopCommand("resize")}}}},1406:(r,e,t)=>{t.r(e),t.d(e,{default:()=>a});var n=t(7774),i=t(1447),o=t(8433);const a={startSelectPosition:function(l,u,c){c===void 0&&(c={}),this.isPointed=!1;var d=this.em.Utils,h=l[0].ownerDocument.body;d&&(this.sorter=new d.ComponentSorter({em:this.em,treeClass:i.A,containerContext:{container:h,containerSel:"*",itemSel:"*",pfx:this.ppfx,document:u,placeholderElement:this.canvas.getPlacerEl()},positionOptions:{windowMargin:1,canvasRelative:!0},dragBehavior:{dragDirection:o.A.BothDirections,nested:!0}})),c.onStart&&(this.sorter.eventHandlers.legacyOnStartSort=c.onStart),l&&l.length>0&&this.sorter.startSort(l.map(function(g){return{element:g}}))},getOffsetDim:function(){var l=this.offset(this.canvas.getFrameEl()),u=this.offset(this.canvas.getElement()),c=l.top-u.top,d=l.left-u.left;return{top:c,left:d}},stopSelectPosition:function(){this.posTargetCollection=null,this.posIndex=this.posMethod=="after"&&this.cDim.length!==0?this.posIndex+1:this.posIndex,this.sorter&&this.sorter.cancelDrag(),this.cDim&&(this.posIsLastEl=this.cDim.length!==0&&this.posMethod=="after"&&this.posIndex==this.cDim.length,this.posTargetEl=this.cDim.length===0?(0,n.default)(this.outsideElem):!this.posIsLastEl&&this.cDim[this.posIndex]?(0,n.default)(this.cDim[this.posIndex][5]).parent():(0,n.default)(this.outsideElem),this.posTargetModel=this.posTargetEl.data("model"),this.posTargetCollection=this.posTargetEl.data("model-comp"))},enable:function(){this.startSelectPosition()},nearFloat:function(l,u,c){var d=l||0,h=u||"before",g=c.length,m=g!==0&&h=="after"&&d==g;return g!==0&&(!m&&!c[d][4]||c[d-1]&&!c[d-1][4]||m&&!c[d-1][4])?1:0},run:function(){this.enable()},stop:function(){this.stopSelectPosition(),this.$wrapper.css("cursor",""),this.$wrapper.unbind()}}},9395:(r,e,t)=>{t.r(e),t.d(e,{default:()=>l});var n=t(5706),i=t(179),o=t(7774),a=function(){return a=Object.assign||function(u){for(var c,d=1,h=arguments.length;d<h;d++){c=arguments[d];for(var g in c)Object.prototype.hasOwnProperty.call(c,g)&&(u[g]=c[g])}return u},a.apply(this,arguments)};const l={getOffsetMethod:function(u){var c=u||"";return"get"+c+"OffsetViewerEl"},run:function(u,c,d){var h=this.canvas,g=d||{},m=g.state||"",b=u.getConfig(),w=this.em.getZoomDecimal(),x=g.el;if(!b.showOffsets||!(x instanceof HTMLElement)||!b.showOffsetsSelected&&m=="Fixed"){u.stopCommand("".concat(this.id),d);return}if(!h.hasCustomSpot(i.F.Spacing)){var _=a({},g.elPos||h.getElementPos(x));(0,n.isUndefined)(g.top)||(_.top=g.top),(0,n.isUndefined)(g.left)||(_.left=g.left);var C=window.getComputedStyle(x),O=this.ppfx,A=m+"State",I=this.getOffsetMethod(m),Q=h[I](d.view);Q.style.opacity="";var $=this["marginT"+m],Z=this["marginB"+m],P=this["marginL"+m],tt=this["marginR"+m],H=this["padT"+m],k=this["padB"+m],F=this["padL"+m],T=this["padR"+m];if(Q.childNodes.length&&(this[A]="1",$=Q.querySelector("[data-offset-m-t]"),Z=Q.querySelector("[data-offset-m-b]"),P=Q.querySelector("[data-offset-m-l]"),tt=Q.querySelector("[data-offset-m-r]"),H=Q.querySelector("[data-offset-p-t]"),k=Q.querySelector("[data-offset-p-b]"),F=Q.querySelector("[data-offset-p-l]"),T=Q.querySelector("[data-offset-p-r]")),!this[A]){var nt=m.toLowerCase(),L=nt+"margin-v",ot=nt+"padding-v",pt=(0,o.default)('<div class="'.concat(O,'marginName">')).get(0),mt=(0,o.default)('<div class="'.concat(O,'paddingName">')).get(0),Lt=O+L+"-el",St=O+ot+"-el",at="".concat(Lt," ").concat(O+L),Rt="".concat(St," ").concat(O+ot);$=(0,o.default)('<div class="'.concat(at,'-top"></div>')).get(0),Z=(0,o.default)('<div class="'.concat(at,'-bottom"></div>')).get(0),P=(0,o.default)('<div class="'.concat(at,'-left"></div>')).get(0),tt=(0,o.default)('<div class="'.concat(at,'-right"></div>')).get(0),H=(0,o.default)('<div class="'.concat(Rt,'-top"></div>')).get(0),k=(0,o.default)('<div class="'.concat(Rt,'-bottom"></div>')).get(0),F=(0,o.default)('<div class="'.concat(Rt,'-left"></div>')).get(0),T=(0,o.default)('<div class="'.concat(Rt,'-right"></div>')).get(0),this["marginT"+m]=$,this["marginB"+m]=Z,this["marginL"+m]=P,this["marginR"+m]=tt,this["padT"+m]=H,this["padB"+m]=k,this["padL"+m]=F,this["padR"+m]=T,pt.appendChild($),pt.appendChild(Z),pt.appendChild(P),pt.appendChild(tt),mt.appendChild(H),mt.appendChild(k),mt.appendChild(F),mt.appendChild(T),Q.appendChild(pt),Q.appendChild(mt),this[A]="1"}var wt="px",Mt=parseFloat(C.marginLeft.replace(wt,""))*w,Qt=parseFloat(C.marginRight.replace(wt,""))*w,W=parseFloat(C.marginTop.replace(wt,""))*w,U=parseFloat(C.marginBottom.replace(wt,""))*w,Ct=$.style,vt=Z.style,Wt=P.style,yt=tt.style,It=H.style,R=k.style,Dt=F.style,xt=T.style,rt=parseFloat(_.left),E=parseFloat(C.width)*w+wt;Ct.height=W+wt,Ct.width=E,Ct.top=_.top-W+wt,Ct.left=rt+wt,vt.height=U+wt,vt.width=E,vt.top=_.top+_.height+wt,vt.left=rt+wt;var N=_.height+W+U+wt,Y=_.top-W+wt;Wt.height=N,Wt.width=Mt+wt,Wt.top=Y,Wt.left=rt-Mt+wt,yt.height=N,yt.width=Qt+wt,yt.top=Y,yt.left=rt+_.width+wt;var st=parseFloat(C.paddingTop)*w;It.height=st+wt;var it=parseFloat(C.paddingBottom)*w;R.height=it+wt;var X=_.height-it-st+wt,dt=_.top+st+wt;Dt.height=X,Dt.width=parseFloat(C.paddingLeft)*w+wt,Dt.top=dt;var ut=parseFloat(C.paddingRight)*w;xt.height=X,xt.width=ut+wt,xt.top=dt}},stop:function(u,c,d){d===void 0&&(d={});var h=d||{},g=h.state||"",m=this.getOffsetMethod(g),b=d.view,w=this.canvas,x=w[m](b);x.style.opacity=0}}},7285:(r,e,t)=>{t.r(e),t.d(e,{default:()=>o});var n=t(5706),i=t(1166);const o={init:function(){(0,n.bindAll)(this,"_onFramesChange")},run:function(a){this.toggleVis(a,!0)},stop:function(a){this.toggleVis(a,!1)},toggleVis:function(a,l){if(l===void 0&&(l=!0),!a.Commands.isActive("preview")){var u=a.Canvas,c=l?"on":"off",d=u.getModel();d[c]("change:frames",this._onFramesChange),this.handleFrames(u.getFrames(),l)}},handleFrames:function(a,l){var u=this;a.forEach(function(c){var d;!((d=c.view)===null||d===void 0)&&d.loaded&&u._upFrame(c,l),c.__ol||(c.on("loaded",function(){return u._upFrame(c)}),c.__ol=!0)})},_onFramesChange:function(a,l){this.handleFrames(l)},_upFrame:function(a,l){var u,c=this,d=c.ppfx,h=c.em,g=c.id,m=(0,i.isDef)(l)?l:h.Commands.isActive(g),b=m?"add":"remove",w="".concat(d,"dashed");(u=a.view)===null||u===void 0||u.getBody().classList[b](w)}}},9156:(r,e,t)=>{t.d(e,{Kx:()=>u,Ss:()=>d,e2:()=>l,lK:()=>g,pM:()=>c,x2:()=>h});var n=t(4193),i=t.n(n),o=function(){var m=function(b,w){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,_){x.__proto__=_}||function(x,_){for(var C in _)Object.prototype.hasOwnProperty.call(_,C)&&(x[C]=_[C])},m(b,w)};return function(b,w){if(typeof w!="function"&&w!==null)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");m(b,w);function x(){this.constructor=b}b.prototype=w===null?Object.create(w):(x.prototype=w.prototype,new x)}}(),a=function(){return a=Object.assign||function(m){for(var b,w=1,x=arguments.length;w<x;w++){b=arguments[w];for(var _ in b)Object.prototype.hasOwnProperty.call(b,_)&&(m[_]=b[_])}return m},a.apply(this,arguments)},l="add remove reset change",u=function(m){o(b,m);function b(){return m!==null&&m.apply(this,arguments)||this}return b}(i().Model),c=function(m){o(b,m);function b(){return m!==null&&m.apply(this,arguments)||this}return b}(i().Collection),d=function(m){o(b,m);function b(){return m!==null&&m.apply(this,arguments)||this}return b}(i().View),h;(function(m){m.Screen="screen",m.World="world"})(h||(h={}));var g={x:0,y:0};a(a({},g),{width:0,height:0})},2225:(r,e,t)=>{t.d(e,{I:()=>i,t:()=>n});var n;(function(o){o.remove="component:remove",o.add="component:add",o.move="component:move"})(n||(n={}));var i;(function(o){o.add="component:add",o.remove="component:remove",o.removeBefore="component:remove:before",o.removed="component:removed",o.create="component:create",o.update="component:update",o.updateInside="component:update-inside",o.select="component:select",o.selectBefore="component:select:before",o.scriptMount="component:script:mount",o.scriptMountBefore="component:script:mount:before",o.scriptUnmount="component:script:unmount",o.render="component:render",o.resize="component:resize",o.resizeInit="component:resize:init",o.symbolMainAdd="symbol:main:add",o.symbolMainUpdate="symbol:main:update",o.symbolMainUpdateDeep="symbol:main:update-deep",o.symbolMainRemove="symbol:main:remove",o.symbolMain="symbol:main",o.symbolInstanceAdd="symbol:instance:add",o.symbolInstanceRemove="symbol:instance:remove",o.symbolInstance="symbol:instance",o.symbol="symbol"})(i||(i={}))},8242:(r,e,t)=>{t.d(e,{A:()=>l});var n=t(5706),i=t(9156),o=function(){var u=function(c,d){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,g){h.__proto__=g}||function(h,g){for(var m in g)Object.prototype.hasOwnProperty.call(g,m)&&(h[m]=g[m])},u(c,d)};return function(c,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");u(c,d);function h(){this.constructor=c}c.prototype=d===null?Object.create(d):(h.prototype=d.prototype,new h)}}(),a=function(u){o(c,u);function c(d,h,g){d===void 0&&(d={}),g===void 0&&(g=!1);var m=u.call(this,d)||this;return m.itemsView="",m.itemType="type",m.reuseView=!1,m.config=h||d.config||{},g&&m.listenTo(m.collection,"add",m.addTo),m.items=[],m}return c.prototype.addTo=function(d){this.add(d)},c.prototype.itemViewNotFound=function(d){var h=this,g=h.config,m=h.ns,b=g.em,w="".concat(m?"[".concat(m,"]: "):"","'").concat(d,"' type not found");b&&b.logWarning(w)},c.prototype.add=function(d,h){var g=this,m=g.config,b=g.reuseView,w=g.items,x=this.itemsView||{},_=["button","checkbox","color","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"],C=h||null,O=this.itemView,A=d.get(this.itemType),I;x[A]?O=x[A]:A&&!x[A]&&!(0,n.includes)(_,A)&&this.itemViewNotFound(A),d.view&&b?I=d.view:I=new O({model:d,config:m},m),w&&w.push(I);var Q=I.render().el;C?C.appendChild(Q):this.$el.append(Q)},c.prototype.render=function(){var d=document.createDocumentFragment();return this.clearItems(),this.$el.empty(),this.collection.length&&this.collection.each(function(h){this.add(h,d)},this),this.$el.append(d),this.onRender(),this},c.prototype.onRender=function(){},c.prototype.onRemoveBefore=function(d,h){},c.prototype.onRemove=function(d,h){},c.prototype.remove=function(d){d===void 0&&(d={});var h=this.items;return this.onRemoveBefore(h,d),this.clearItems(),u.prototype.remove.call(this),this.onRemove(h,d),this},c.prototype.clearItems=function(){this.items},c}(i.Ss);const l=a;a.prototype.itemView=""},9966:(r,e,t)=>{t.d(e,{A:()=>c});var n=t(5706),i=t(6294),o=function(){return o=Object.assign||function(d){for(var h,g=1,m=arguments.length;g<m;g++){h=arguments[g];for(var b in h)Object.prototype.hasOwnProperty.call(h,b)&&(d[b]=h[b])}return d},o.apply(this,arguments)},a=function(){return{x:0,y:0}},l=["x","y"],u=function(){function d(h){return h===void 0&&(h={}),this.opts={snapGuides:{x:5,y:5},snapOffset:5,scale:1},(0,n.bindAll)(this,"drag","stop","keyHandle","handleScroll"),this.setOptions(h),this.delta=a(),this.lastScroll=a(),this.lastScrollDiff=a(),this.startPointer=a(),this.startPosition=a(),this.globScrollDiff=a(),this.currentPointer=a(),this.position=a(),this.guidesStatic=[],this.guidesTarget=[],this.docs=[],this}return d.prototype.setOptions=function(h){h===void 0&&(h={}),this.opts=o(o({},this.opts),h)},d.prototype.toggleDrag=function(h){var g=this.getDocumentEl(),m=this.getContainerEl(),b=this.getWindowEl(),w=h?"on":"off",x={on:i.on,off:i.AU};x[w](m,"mousemove dragover",this.drag),x[w](g,"mouseup dragend touchend",this.stop),x[w](g,"keydown",this.keyHandle),x[w](b,"scroll",this.handleScroll)},d.prototype.handleScroll=function(){var h=this,g=h.lastScroll,m=h.delta,b=this.getScrollInfo(),w={x:b.x-g.x,y:b.y-g.y};this.move(m.x+w.x,m.y+w.y),this.lastScrollDiff=w},d.prototype.start=function(h){var g=this.opts,m=g.onStart;this.toggleDrag(!0),this.startPointer=this.getPointerPos(h),this.guidesStatic=(0,n.result)(g,"guidesStatic")||[],this.guidesTarget=(0,n.result)(g,"guidesTarget")||[],(0,n.isFunction)(m)&&m(h,this),this.startPosition=this.getStartPosition(),this.lastScrollDiff=a(),this.globScrollDiff=a(),this.drag(h)},d.prototype.drag=function(h){var g=this,m=this,b=m.opts,w=m.lastScrollDiff,x=m.globScrollDiff,_=b.onDrag,C=this.startPointer,O=this.getPointerPos(h),A={x:x.x+w.x,y:x.y+w.y};this.globScrollDiff=A;var I={x:O.x-C.x+A.x,y:O.y-C.y+A.y};this.lastScrollDiff=a();var Q=function(k){l.forEach(function(F){return k[F]=k[F]*(0,n.result)(b,"scale")}),g.delta=k,g.move(k.x,k.y),(0,n.isFunction)(_)&&_(h,g)},$=o({},I);if(this.currentPointer=O,this.lastScroll=this.getScrollInfo(),Q(I),this.guidesTarget.length){var Z=this.snapGuides($),P=Z.newDelta,tt=Z.trgX,H=Z.trgY;(tt||H)&&Q(P)}h.which===0&&this.stop(h)},d.prototype.snapGuides=function(h){var g=this,m=o({},h),b=this,w=b.trgX,x=b.trgY;return this.guidesTarget.forEach(function(_){_.x&&g.trgX||_.y&&g.trgY||(_.active=!1,g.guidesStatic.forEach(function(C){if(!(_.y&&C.x||_.x&&C.y)){var O=_.y&&C.y,A=O?"y":"x",I=_[A],Q=C[A],$=h[A],Z=O?x:w;if(g.isPointIn(I,Q,{axis:A})&&(0,n.isUndefined)(Z)){var P=$-(I-Q);g.setGuideLock(_,P)}}}))}),w=this.trgX,x=this.trgY,l.forEach(function(_){var C=_.toUpperCase(),O=g["trg".concat(C)];O&&!g.isPointIn(h[_],O.lock,{axis:_})&&(g.setGuideLock(O,null),O=null),O&&!(0,n.isUndefined)(O.lock)&&(m[_]=O.lock)}),{newDelta:m,trgX:this.trgX,trgY:this.trgY}},d.prototype.isPointIn=function(h,g,m){var b,w=m===void 0?{}:m,x=w.offset,_=w.axis,C=this.opts,O=C.snapGuides,A=O===void 0?{}:O,I=C.snapOffset,Q=I===void 0?0:I,$=_==="x"?A.x:_==="y"?A.y:void 0,Z=$===0?0:(b=x??$)!==null&&b!==void 0?b:Q;return Z===0?!1:h>=g&&h<=g+Z||h<=g&&h>=g-Z},d.prototype.setGuideLock=function(h,g){var m=(0,n.isUndefined)(h.x)?"Y":"X",b="trg".concat(m);return g!==null?(h.active=!0,h.lock=g,this[b]=h):(delete h.active,delete h.lock,delete this[b]),h},d.prototype.stop=function(h,g){g===void 0&&(g={});var m=this.delta,b=!!g.cancel,w=b?0:m.x,x=b?0:m.y;this.toggleDrag(),this.move(w,x,!0);var _=this.opts.onEnd;(0,n.isFunction)(_)&&_(h,this,{cancelled:b})},d.prototype.keyHandle=function(h){(0,i.v$)(h)&&this.stop(h,{cancel:!0})},d.prototype.move=function(h,g,m){var b=this,w=b.el,x=b.opts,_=this.startPosition;if(_){var C=x.setPosition,O=_.x+h,A=_.y+g;this.position={x:O,y:A,end:m},(0,n.isFunction)(C)&&C(this.position),w&&(w.style.left="".concat(O,"px"),w.style.top="".concat(A,"px"))}},d.prototype.getContainerEl=function(){var h=this.opts.container;return h?[h]:this.getDocumentEl()},d.prototype.getWindowEl=function(){var h=this.getContainerEl();return h.map(function(g){var m=g.ownerDocument||g;return m.defaultView||m.parentWindow})},d.prototype.getDocumentEl=function(h){var g=this.opts.doc;if(h=h||this.el,!this.docs.length){var m=[document];h&&m.push(h.ownerDocument),g&&m.push(g),this.docs=m}return this.docs},d.prototype.getPointerPos=function(h){var g=this.opts.getPointerPosition,m=(0,i.G2)(h);return g?g(h):{x:m.clientX,y:m.clientY}},d.prototype.getStartPosition=function(){var h=this,g=h.el,m=h.opts,b=m.getPosition,w=a();return(0,n.isFunction)(b)?w=b():g&&(w={x:parseFloat(g.style.left),y:parseFloat(g.style.top)}),w},d.prototype.getScrollInfo=function(){var h=this.opts.doc,g=h&&h.body;return{y:g?g.scrollTop:0,x:g?g.scrollLeft:0}},d.prototype.detectAxisLock=function(h,g){var m=h,b=g,w=Math.abs(m),x=Math.abs(b);if(b>=w||b<=-w)return"x";if(m>x||m<-x)return"y"},d}();const c=u},7774:(r,e,t)=>{t.r(e),t.d(e,{default:()=>_n});var n=typeof document<"u"?document:null,i=typeof window<"u"?window:null,o=Array.prototype,a=o.filter,l=o.indexOf,u=o.map,c=o.push,d=o.reverse,h=o.slice,g=o.splice,m=/^#[\w-]*$/,b=/^\.[\w-]*$/,w=/<.+>/,x=/^\w+$/;function _(J,gt){return gt===void 0&&(gt=n),b.test(J)?gt.getElementsByClassName(J.slice(1)):x.test(J)?gt.getElementsByTagName(J):gt.querySelectorAll(J)}function C(J,gt){if(gt===void 0&&(gt=n),!!J){if(J.__cash)return J;var Tt=J;if(F(J)){if(gt.__cash&&(gt=gt[0]),Tt=m.test(J)?gt.getElementById(J.slice(1)):w.test(J)?Ee(J):_(J,gt),!Tt)return}else if(k(J))return this.ready(J);(Tt.nodeType||Tt===i)&&(Tt=[Tt]),this.length=Tt.length;for(var qt=0,ae=this.length;qt<ae;qt++)this[qt]=Tt[qt]}}function O(J,gt){return new C(J,gt)}var A=O.fn=O.prototype=C.prototype={constructor:O,__cash:!0,length:0,splice:g};A.get=function(J){return J===void 0?h.call(this):this[J<0?J+this.length:J]},A.eq=function(J){return O(this.get(J))},A.first=function(){return this.eq(0)},A.last=function(){return this.eq(-1)},A.map=function(J){return O(u.call(this,function(gt,Tt){return J.call(gt,Tt,gt)}))},A.slice=function(){return O(h.apply(this,arguments))};var I=/(?:^\w|[A-Z]|\b\w)/g,Q=/[\s-_]+/g;function $(J){return J.replace(I,function(gt,Tt){return gt[Tt?"toUpperCase":"toLowerCase"]()}).replace(Q,"")}O.camelCase=$;function Z(J,gt){for(var Tt=0,qt=J.length;Tt<qt&&gt.call(J[Tt],J[Tt],Tt,J)!==!1;Tt++);}O.each=Z,A.each=function(J){return Z(this,function(gt,Tt){return J.call(gt,Tt,gt)}),this},A.removeProp=function(J){return this.each(function(gt,Tt){delete Tt[J]})};function P(J){J===void 0&&(J=this);for(var gt=arguments,Tt=gt.length,qt=Tt<2?0:1;qt<Tt;qt++)for(var ae in gt[qt])J[ae]=gt[qt][ae];return J}O.extend=A.extend=P;var tt=1;O.guid=tt;function H(J,gt){var Tt=J&&(J.matches||J.webkitMatchesSelector||J.mozMatchesSelector||J.msMatchesSelector||J.oMatchesSelector);return!!Tt&&Tt.call(J,gt)}O.matches=H;function k(J){return typeof J=="function"}O.isFunction=k;function F(J){return typeof J=="string"}O.isString=F;function T(J){return!isNaN(parseFloat(J))&&isFinite(J)}O.isNumeric=T;var nt=Array.isArray;O.isArray=nt,A.prop=function(J,gt){if(J){if(F(J))return arguments.length<2?this[0]&&this[0][J]:this.each(function(qt,ae){ae[J]=gt});for(var Tt in J)this.prop(Tt,J[Tt]);return this}};function L(J){return F(J)?function(gt,Tt){return H(Tt,J)}:J.__cash?function(gt,Tt){return J.is(Tt)}:function(gt,Tt,qt){return Tt===qt}}A.filter=function(J){if(!J)return O();var gt=k(J)?J:L(J);return O(a.call(this,function(Tt,qt){return gt.call(Tt,qt,Tt,J)}))};var ot=/\S+/g;function pt(J){return F(J)?J.match(ot)||[]:[]}A.hasClass=function(J){var gt=pt(J),Tt=!1;return gt.length&&this.each(function(qt,ae){return Tt=ae.classList.contains(gt[0]),!Tt}),Tt},A.removeAttr=function(J){var gt=pt(J);return gt.length?this.each(function(Tt,qt){Z(gt,function(ae){qt.removeAttribute(ae)})}):this},A.attr=function(J,gt){if(J){if(F(J)){if(arguments.length<2){if(!this[0])return;var Tt=this[0].getAttribute(J);return Tt===null?void 0:Tt}return gt===null?this.removeAttr(J):this.each(function(ae,_e){_e.setAttribute(J,gt)})}for(var qt in J)this.attr(qt,J[qt]);return this}},A.toggleClass=function(J,gt){var Tt=pt(J),qt=gt!==void 0;return Tt.length?this.each(function(ae,_e){Z(Tt,function(Oe){qt?gt?_e.classList.add(Oe):_e.classList.remove(Oe):_e.classList.toggle(Oe)})}):this},A.addClass=function(J){return this.toggleClass(J,!0)},A.removeClass=function(J){return arguments.length?this.toggleClass(J,!1):this.attr("class","")};function mt(J){return J.filter(function(gt,Tt,qt){return qt.indexOf(gt)===Tt})}O.unique=mt,A.add=function(J,gt){return O(mt(this.get().concat(O(J,gt).get())))};function Lt(J,gt,Tt){if(J.nodeType===1){var qt=i.getComputedStyle(J,null);return gt?Tt?qt.getPropertyValue(gt):qt[gt]:qt}}function St(J,gt){return parseInt(Lt(J,gt),10)||0}var at=/^--/;function Rt(J){return at.test(J)}var wt={},Mt=n&&n.createElement("div"),Qt=Mt?Mt.style:{},W=["webkit","moz","ms","o"];function U(J,gt){if(gt===void 0&&(gt=Rt(J)),gt)return J;if(!wt[J]){var Tt=$(J),qt=""+Tt.charAt(0).toUpperCase()+Tt.slice(1),ae=(Tt+" "+W.join(qt+" ")+qt).split(" ");Z(ae,function(_e){if(_e in Qt)return wt[J]=_e,!1})}return wt[J]}O.prefixedProp=U;var Ct={animationIterationCount:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0};function vt(J,gt,Tt){return Tt===void 0&&(Tt=Rt(J)),!Tt&&!Ct[J]&&T(gt)?gt+"px":gt}A.css=function(J,gt){if(F(J)){var Tt=Rt(J);return J=U(J,Tt),arguments.length<2?this[0]&&Lt(this[0],J,Tt):J?(gt=vt(J,gt,Tt),this.each(function(ae,_e){_e.nodeType===1&&(Tt?_e.style.setProperty(J,gt):_e.style[J]=gt)})):this}for(var qt in J)this.css(qt,J[qt]);return this};var Wt="__cashData",yt=/^data-(.*)/;O.hasData=function(J){return Wt in J};function It(J){return J[Wt]=J[Wt]||{}}function R(J,gt){var Tt=It(J);if(gt){if(!(gt in Tt)){var qt=J.dataset?J.dataset[gt]||J.dataset[$(gt)]:O(J).attr("data-"+gt);if(qt!==void 0){try{qt=JSON.parse(qt)}catch{}Tt[gt]=qt}}return Tt[gt]}return Tt}function Dt(J,gt){gt===void 0?delete J[Wt]:delete It(J)[gt]}function xt(J,gt,Tt){It(J)[gt]=Tt}A.data=function(J,gt){var Tt=this;if(!J)return this[0]?(Z(this[0].attributes,function(ae){var _e=ae.name.match(yt);_e&&Tt.data(_e[1])}),R(this[0])):void 0;if(F(J))return gt===void 0?this[0]&&R(this[0],J):this.each(function(ae,_e){return xt(_e,J,gt)});for(var qt in J)this.data(qt,J[qt]);return this},A.removeData=function(J){return this.each(function(gt,Tt){return Dt(Tt,J)})};function rt(J,gt){return St(J,"border"+(gt?"Left":"Top")+"Width")+St(J,"padding"+(gt?"Left":"Top"))+St(J,"padding"+(gt?"Right":"Bottom"))+St(J,"border"+(gt?"Right":"Bottom")+"Width")}Z(["Width","Height"],function(J){A["inner"+J]=function(){if(this[0])return this[0]===i?i["inner"+J]:this[0]["client"+J]}}),Z(["width","height"],function(J,gt){A[J]=function(Tt){return this[0]?arguments.length?(Tt=parseInt(Tt,10),this.each(function(qt,ae){if(ae.nodeType===1){var _e=Lt(ae,"boxSizing");ae.style[J]=vt(J,Tt+(_e==="border-box"?rt(ae,!gt):0))}})):this[0]===i?this[0][$("outer-"+J)]:this[0].getBoundingClientRect()[J]-rt(this[0],!gt):Tt===void 0?void 0:this}}),Z(["Width","Height"],function(J,gt){A["outer"+J]=function(Tt){if(this[0])return this[0]===i?i["outer"+J]:this[0]["offset"+J]+(Tt?St(this[0],"margin"+(gt?"Top":"Left"))+St(this[0],"margin"+(gt?"Bottom":"Right")):0)}});function E(J,gt){for(var Tt=0,qt=gt.length;Tt<qt;Tt++)if(J.indexOf(gt[Tt])<0)return!1;return!0}function N(J,gt,Tt){Z(J[Tt],function(qt){qt[0];var ae=qt[1];gt.removeEventListener(Tt,ae)}),delete J[Tt]}var Y="__cashEvents",st=".";function it(J){return J[Y]=J[Y]||{}}function X(J,gt,Tt,qt){qt.guid=qt.guid||tt++;var ae=it(J);ae[gt]=ae[gt]||[],ae[gt].push([Tt,qt]),J.addEventListener(gt,qt)}function dt(J){var gt=J.split(st);return[gt[0],gt.slice(1).sort()]}function ut(J,gt,Tt,qt){var ae=it(J);if(gt){var _e=ae[gt];if(!_e)return;qt&&(qt.guid=qt.guid||tt++),ae[gt]=_e.filter(function(Oe){var dn=Oe[0],Nn=Oe[1];if(qt&&Nn.guid!==qt.guid||!E(dn,Tt))return!0;J.removeEventListener(gt,Nn)})}else if(!Tt||!Tt.length)for(gt in ae)N(ae,J,gt);else for(gt in ae)ut(J,gt,Tt,qt)}A.off=function(J,gt){var Tt=this;return J===void 0?this.each(function(qt,ae){return ut(ae)}):Z(pt(J),function(qt){var ae=dt(qt),_e=ae[0],Oe=ae[1];Tt.each(function(dn,Nn){return ut(Nn,_e,Oe,gt)})}),this},A.on=function(J,gt,Tt,qt){var ae=this;if(!F(J)){for(var _e in J)this.on(_e,gt,J[_e]);return this}return k(gt)&&(Tt=gt,gt=!1),Z(pt(J),function(Oe){var dn=dt(Oe),Nn=dn[0],hn=dn[1];ae.each(function(Ei,pn){var Tr=function ri(Xe){if(!(Xe.namespace&&!E(hn,Xe.namespace.split(st)))){var jn=pn;if(gt){for(var Ue=Xe.target;!H(Ue,gt);)if(Ue===pn||(Ue=Ue.parentNode,!Ue))return;jn=Ue}Xe.namespace=Xe.namespace||"";var br=Tt.call(jn,Xe,Xe.data);qt&&ut(pn,Nn,hn,ri),br===!1&&(Xe.preventDefault(),Xe.stopPropagation())}};Tr.guid=Tt.guid=Tt.guid||tt++,X(pn,Nn,hn,Tr)})}),this},A.one=function(J,gt,Tt){return this.on(J,gt,Tt,!0)},A.ready=function(J){var gt=function(){return J(O)};return n.readyState!=="loading"?setTimeout(gt):n.addEventListener("DOMContentLoaded",gt),this},A.trigger=function(J,gt){var Tt=J;if(F(J)){var qt=dt(J),ae=qt[0],_e=qt[1];Tt=n.createEvent("HTMLEvents"),Tt.initEvent(ae,!0,!0),Tt.namespace=_e.join(st)}return Tt.data=gt,this.each(function(Oe,dn){dn.dispatchEvent(Tt)})};function zt(J){var gt=[];return Z(J.options,function(Tt){Tt.selected&&!Tt.disabled&&!Tt.parentNode.disabled&&gt.push(Tt.value)}),gt}function fe(J){return J.selectedIndex<0?null:J.options[J.selectedIndex].value}var se=/select-one/i,et=/select-multiple/i;function bt(J){var gt=J.type;return se.test(gt)?fe(J):et.test(gt)?zt(J):J.value}var K=/%20/g;function Bt(J,gt){return"&"+encodeURIComponent(J)+"="+encodeURIComponent(gt).replace(K,"+")}var Ot=/file|reset|submit|button|image/i,Gt=/radio|checkbox/i;A.serialize=function(){var J="";return this.each(function(gt,Tt){Z(Tt.elements||[Tt],function(qt){if(!(qt.disabled||!qt.name||qt.tagName==="FIELDSET")&&!Ot.test(qt.type)&&!(Gt.test(qt.type)&&!qt.checked)){var ae=bt(qt);if(ae!==void 0){var _e=nt(ae)?ae:[ae];Z(_e,function(Oe){J+=Bt(qt.name,Oe)})}}})}),J.substr(1)},A.val=function(J){return J===void 0?this[0]&&bt(this[0]):this.each(function(gt,Tt){var qt=et.test(Tt.type),ae=J===null?qt?[]:"":J;qt&&nt(ae)?Z(Tt.options,function(_e){_e.selected=ae.indexOf(_e.value)>=0}):Tt.value=ae})},A.clone=function(){return this.map(function(J,gt){return gt.cloneNode(!0)})},A.detach=function(){return this.each(function(J,gt){gt.parentNode&&gt.parentNode.removeChild(gt)})};var de=/^\s*<(\w+)[^>]*>/,re=/^\s*<(\w+)\s*\/?>(?:<\/\1>)?\s*$/,ie;function ge(){if(!ie){var J=n.createElement("table"),gt=n.createElement("tr");ie={"*":n.createElement("div"),tr:n.createElement("tbody"),td:gt,th:gt,thead:J,tbody:J,tfoot:J}}}function Ee(J){if(ge(),!F(J))return[];if(re.test(J))return[n.createElement(RegExp.$1)];var gt=de.test(J)&&RegExp.$1,Tt=ie[gt]||ie["*"];return Tt.innerHTML=J,O(Tt.childNodes).detach().get()}O.parseHTML=Ee,A.empty=function(){var J=this[0];if(J)for(;J.firstChild;)J.removeChild(J.firstChild);return this};function Ne(J,gt,Tt){Tt?J.insertBefore(gt,J.childNodes[0]):J.appendChild(gt)}function Me(J,gt,Tt){if(gt!==void 0){var qt=F(gt);!qt&&gt.length?Z(gt,function(ae){return Me(J,ae,Tt)}):Z(J,qt?function(ae){ae.insertAdjacentHTML(Tt?"afterbegin":"beforeend",gt)}:function(ae,_e){return Ne(ae,_e?gt.cloneNode(!0):gt,Tt)})}}A.append=function(){var J=this;return Z(arguments,function(gt){Me(J,gt)}),this},A.appendTo=function(J){return Me(O(J),this),this},A.html=function(J){if(J===void 0)return this[0]&&this[0].innerHTML;var gt=J.nodeType?J[0].outerHTML:J;return this.each(function(Tt,qt){qt.innerHTML=gt})},A.insertAfter=function(J){var gt=this;return O(J).each(function(Tt,qt){var ae=qt.parentNode;gt.each(function(_e,Oe){ae.insertBefore(Tt?Oe.cloneNode(!0):Oe,qt.nextSibling)})}),this},A.after=function(){var J=this;return Z(d.apply(arguments),function(gt){d.apply(O(gt).slice()).insertAfter(J)}),this},A.insertBefore=function(J){var gt=this;return O(J).each(function(Tt,qt){var ae=qt.parentNode;gt.each(function(_e,Oe){ae.insertBefore(Tt?Oe.cloneNode(!0):Oe,qt)})}),this},A.before=function(){var J=this;return Z(arguments,function(gt){O(gt).insertBefore(J)}),this},A.prepend=function(){var J=this;return Z(arguments,function(gt){Me(J,gt,!0)}),this},A.prependTo=function(J){return Me(O(J),d.apply(this.slice()),!0),this},A.remove=function(){return this.detach().off()},A.replaceWith=function(J){var gt=this;return this.each(function(Tt,qt){var ae=qt.parentNode;if(ae){var _e=Tt?O(J).clone():O(J);if(!_e[0])return gt.remove(),!1;ae.replaceChild(_e[0],qt),O(_e[0]).after(_e.slice(1))}})},A.replaceAll=function(J){return O(J).replaceWith(this),this},A.text=function(J){return J===void 0?this[0]?this[0].textContent:"":this.each(function(gt,Tt){Tt.textContent=J})};var nn=n&&n.documentElement;A.offset=function(){var J=this[0];if(J){var gt=J.getBoundingClientRect();return{top:gt.top+i.pageYOffset-nn.clientTop,left:gt.left+i.pageXOffset-nn.clientLeft}}},A.offsetParent=function(){return O(this[0]&&this[0].offsetParent)},A.position=function(){var J=this[0];if(J)return{left:J.offsetLeft,top:J.offsetTop}},A.children=function(J){var gt=[];return this.each(function(Tt,qt){c.apply(gt,qt.children)}),gt=O(mt(gt)),J?gt.filter(function(Tt,qt){return H(qt,J)}):gt},A.contents=function(){var J=[];return this.each(function(gt,Tt){c.apply(J,Tt.tagName==="IFRAME"?[Tt.contentDocument]:Tt.childNodes)}),O(J.length&&mt(J))},A.find=function(J){for(var gt=[],Tt=0,qt=this.length;Tt<qt;Tt++){var ae=_(J,this[Tt]);ae.length&&c.apply(gt,ae)}return O(gt.length&&mt(gt))},A.has=function(J){var gt=F(J)?function(Tt,qt){return!!_(J,qt).length}:function(Tt,qt){return qt.contains(J)};return this.filter(gt)},A.is=function(J){if(!J||!this[0])return!1;var gt=L(J),Tt=!1;return this.each(function(qt,ae){return Tt=gt(qt,ae,J),!Tt}),Tt},A.next=function(){return O(this[0]&&this[0].nextElementSibling)},A.not=function(J){if(!J||!this[0])return this;var gt=L(J);return this.filter(function(Tt,qt){return!gt(Tt,qt,J)})},A.parent=function(){var J=[];return this.each(function(gt,Tt){Tt&&Tt.parentNode&&J.push(Tt.parentNode)}),O(mt(J))},A.index=function(J){var gt=J?O(J)[0]:this[0],Tt=J?this:O(gt).parent().children();return l.call(Tt,gt)},A.closest=function(J){return!J||!this[0]?O():this.is(J)?this.filter(J):this.parent().closest(J)},A.parents=function(J){var gt=[],Tt;return this.each(function(qt,ae){for(Tt=ae;Tt&&Tt.parentNode&&Tt!==n.body.parentNode;)Tt=Tt.parentNode,(!J||J&&H(Tt,J))&&gt.push(Tt)}),O(mt(gt))},A.prev=function(){return O(this[0]&&this[0].previousElementSibling)},A.siblings=function(){var J=this[0];return this.parent().children().filter(function(gt,Tt){return Tt!==J})};const _n=O},6294:(r,e,t)=>{t.d(e,{AU:()=>Lt,BC:()=>x,C8:()=>Z,Ch:()=>H,Ci:()=>T,D8:()=>l,G2:()=>k,GW:()=>$,GZ:()=>C,I6:()=>h,LJ:()=>ot,Sc:()=>w,X6:()=>g,Xy:()=>P,YZ:()=>c,ZQ:()=>u,_I:()=>St,a_:()=>_,af:()=>A,bG:()=>b,cx:()=>d,ir:()=>I,kk:()=>pt,on:()=>mt,rp:()=>L,v$:()=>F,yL:()=>O,zN:()=>m});var n=t(5706),i=function(at,Rt,wt){if(wt||arguments.length===2)for(var Mt=0,Qt=Rt.length,W;Mt<Qt;Mt++)(W||!(Mt in Rt))&&(W||(W=Array.prototype.slice.call(Rt,0,Mt)),W[Mt]=Rt[Mt]);return at.concat(W||Array.prototype.slice.call(Rt))},o="tag",a="attributes",l="transitionend oTransitionEnd transitionend webkitTransitionEnd",u=function(at){return(at==null?void 0:at.nodeType)===Node.DOCUMENT_NODE},c=function(at){var Rt=at&&at.parentNode;Rt&&Rt.removeChild(at)};function d(){for(var at=[],Rt=0;Rt<arguments.length;Rt++)at[Rt]=arguments[Rt];var wt=Array.isArray(at[0])?at[0]:i([],at,!0);return wt.filter(Boolean).join(" ")}var h=function(at,Rt){return at.querySelectorAll(Rt)},g=function(at,Rt){return Rt===void 0&&(Rt={}),at&&at.setAttribute&&(0,n.each)(Rt,function(wt,Mt){return at.setAttribute(Mt,wt)})},m=function(at){var Rt;return at&&!!(at.offsetWidth||at.offsetHeight||!((Rt=at.getClientRects)===null||Rt===void 0)&&Rt.call(at).length)},b=function(at,Rt){var wt;(wt=at.parentNode)===null||wt===void 0||wt.replaceChild(Rt,at)},w=function(at,Rt,wt){var Mt=at.childNodes,Qt=Mt.length,W=(0,n.isUndefined)(wt)?Qt:wt;(0,n.isString)(Rt)&&(at.insertAdjacentHTML("beforeEnd",Rt),Rt=at.lastChild,at.removeChild(Rt)),W>=Qt?at.appendChild(Rt):at.insertBefore(Rt,Mt[W])},x=function(at,Rt){return w(at,Rt)},_=function(at,Rt,wt){Rt===void 0&&(Rt={});var Mt=document.createElement(at);return Rt&&(0,n.each)(Rt,function(Qt,W){return Mt.setAttribute(W,Qt)}),wt&&((0,n.isString)(wt)?Mt.innerHTML=wt:Mt.appendChild(wt)),Mt},C=function(at){return document.createTextNode(at)},O=function(at,Rt){var wt,Mt=at.type;try{wt=new window[Rt](Mt,at)}catch{wt=document.createEvent(Rt),wt.initEvent(Mt,!0,!0)}return wt._parentEvent=at,Mt.indexOf("key")===0&&(wt.keyCodeVal=at.keyCode,["keyCode","which"].forEach(function(Qt){Object.defineProperty(wt,Qt,{get:function(){return this.keyCodeVal}})})),wt},A=function(at,Rt){Rt===void 0&&(Rt=[]);var wt=Array.isArray(Rt)?Rt:[Rt];wt.forEach(function(Mt){var Qt=Mt[o]||"div",W=Mt[a]||{},U=document.createElement(Qt);(0,n.each)(W,function(Ct,vt){U.setAttribute(vt,Ct)}),at.appendChild(U)})},I=function(at){return(at==null?void 0:at.nodeType)===Node.TEXT_NODE},Q=function(at){return(at==null?void 0:at.nodeType)===Node.COMMENT_NODE},$=function(at){return at&&!I(at)&&!Q(at)},Z=function(at){var Rt={top:0,left:0,width:0,height:0};if(!at)return Rt;var wt;if(I(at)){var Mt=document.createRange();Mt.selectNode(at),wt=Mt.getBoundingClientRect(),Mt.detach()}return wt||(at.getBoundingClientRect?at.getBoundingClientRect():Rt)},P=function(at){var Rt=(at==null?void 0:at.ownerDocument)||document,wt=Rt.documentElement,Mt=Rt.defaultView||window;return{x:(Mt.pageXOffset||wt.scrollLeft||0)-(wt.clientLeft||0),y:(Mt.pageYOffset||wt.scrollTop||0)-(wt.clientTop||0)}},tt=function(at){return at.which||at.keyCode},H=function(at){return String.fromCharCode(tt(at))},k=function(at){return at.touches&&at.touches[0]?at.touches[0]:at},F=function(at){return tt(at)===27},T=function(at){return tt(at)===13},nt=function(at){return at.ctrlKey},L=function(at){return nt(at)||at.metaKey},ot=function(at){if(!at)return"";var Rt=at.name,wt=at.publicId,Mt=at.systemId,Qt=wt?' PUBLIC "'.concat(wt,'"'):"",W=!wt&&Mt?' SYSTEM "'.concat(Mt,'"'):"";return"<!DOCTYPE ".concat(Rt).concat(Qt).concat(W,">")},pt=function(at){at===void 0&&(at={});var Rt=[];return(0,n.each)(at,function(wt,Mt){return Rt.push("".concat(Mt,'="').concat(wt,'"'))}),Rt.join(" ")},mt=function(at,Rt,wt,Mt){var Qt=Rt.split(/\s+/),W=(0,n.isArray)(at)?at:[at];Qt.forEach(function(U){W.forEach(function(Ct){return Ct==null?void 0:Ct.addEventListener(U,wt,Mt)})})},Lt=function(at,Rt,wt,Mt){var Qt=Rt.split(/\s+/),W=(0,n.isArray)(at)?at:[at];Qt.forEach(function(U){W.forEach(function(Ct){return Ct==null?void 0:Ct.removeEventListener(U,wt,Mt)})})},St=function(at){var Rt=at.replace(/-([a-zA-Z0-9])/g,function(wt,Mt){return Mt.toUpperCase()});return Rt}},1166:(r,e,t)=>{t.r(e),t.d(e,{appendStyles:()=>Z,buildBase64UrlFromSvg:()=>Wt,camelCase:()=>k,capitalize:()=>Rt,createId:()=>vt,deepMerge:()=>mt,escape:()=>ot,escapeNodeContent:()=>pt,find:()=>L,get:()=>g,getComponentModel:()=>U,getComponentView:()=>W,getElement:()=>nt,getGlobal:()=>O,getModel:()=>Lt,getUiClass:()=>$,getUnitFromValue:()=>tt,getViewEl:()=>Mt,hasDnd:()=>T,hasWin:()=>C,isBultInMethod:()=>b,isComponent:()=>Qt,isDef:()=>_,isEmptyObj:()=>at,isObject:()=>St,isRule:()=>wt,matches:()=>Q,normalizeFloat:()=>F,normalizeKey:()=>w,serialize:()=>m,setViewEl:()=>Ct,shallowDiff:()=>P,stringToPath:()=>d,toLowerCase:()=>A,upFirst:()=>H,wait:()=>x});var n=t(5706),i=t(6294),o=function(){return o=Object.assign||function(yt){for(var It,R=1,Dt=arguments.length;R<Dt;R++){It=arguments[R];for(var xt in It)Object.prototype.hasOwnProperty.call(It,xt)&&(yt[xt]=It[xt])}return yt},o.apply(this,arguments)},a=function(yt,It,R){if(R||arguments.length===2)for(var Dt=0,xt=It.length,rt;Dt<xt;Dt++)(rt||!(Dt in It))&&(rt||(rt=Array.prototype.slice.call(It,0,Dt)),rt[Dt]=It[Dt]);return yt.concat(rt||Array.prototype.slice.call(It))},l={},u=/\\(\\)?/g,c=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,d=function(yt){var It=[];return yt.charCodeAt(0)===46&&It.push(""),yt.replace(c,function(R,Dt,xt,rt){return It.push(xt?rt.replace(u,"$1"):Dt||R),""}),It};function h(yt,It){return(0,n.isArray)(yt)?yt:It.hasOwnProperty(yt)?[yt]:d(yt)}var g=function(yt,It,R){for(var Dt,xt=h(It,yt),rt=xt.length,E=0;yt!=null&&E<rt;)yt=yt["".concat(xt[E++])];return(Dt=E&&E==rt?yt:void 0)!==null&&Dt!==void 0?Dt:R},m=function(yt){return JSON.parse(JSON.stringify(yt))},b=function(yt){return(0,n.isFunction)(l[yt])},w=function(yt){return b(yt)?"_".concat(yt):yt},x=function(yt){return yt===void 0&&(yt=0),new Promise(function(It){return setTimeout(It,yt)})},_=function(yt){return typeof yt<"u"},C=function(){return typeof window<"u"},O=function(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:t.g},A=function(yt){return(yt||"").toLowerCase()},I=C()?window.Element.prototype:{},Q=I.matches||I.webkitMatchesSelector||I.mozMatchesSelector||I.msMatchesSelector,$=function(yt,It){var R=yt.getConfig(),Dt=R.stylePrefix,xt=R.customUI;return[xt&&"".concat(Dt,"cui"),It].filter(function(rt){return rt}).join(" ")},Z=function(yt,It){It===void 0&&(It={});var R=(0,n.isArray)(yt)?a([],yt,!0):[yt];if(R.length){var Dt=R.shift();if(Dt&&(!It.unique||!document.querySelector('link[href="'.concat(Dt,'"]')))){var xt=document.head,rt=document.createElement("link");rt.href=Dt,rt.rel="stylesheet",It.prepand?xt.insertBefore(rt,xt.firstChild):xt.appendChild(rt)}Z(R)}},P=function(yt,It){var R={},Dt=(0,n.keys)(It);for(var xt in yt)if(yt.hasOwnProperty(xt)){var rt=yt[xt],E=It[xt];Dt.indexOf(xt)>=0?rt!==E&&(R[xt]=E):R[xt]=null}for(var xt in It)It.hasOwnProperty(xt)&&(0,n.isUndefined)(yt[xt])&&(R[xt]=It[xt]);return R},tt=function(yt){return yt.replace(parseFloat(yt),"")},H=function(yt){return yt[0].toUpperCase()+yt.toLowerCase().slice(1)},k=function(yt){return yt.replace(/-./g,function(It){return It[1].toUpperCase()})},F=function(yt,It,R){It===void 0&&(It=1),R===void 0&&(R=0);var Dt=0;if(isNaN(yt))return R;if(yt=parseFloat(yt),Math.floor(yt)!==yt){var xt=It.toString().split(".")[1];Dt=xt?xt.length:0}return Dt?parseFloat(yt.toFixed(Dt)):yt},T=function(yt){return"draggable"in document.createElement("i")&&(yt?yt.config.nativeDnD:!0)},nt=function(yt){if((0,n.isElement)(yt)||(0,i.ir)(yt))return yt;if(yt&&yt.getEl)return yt.getEl()},L=function(yt,It){var R=null;return yt.some(function(Dt,xt){return It(Dt,xt,yt)?(R=Dt,1):0}),R},ot=function(yt){return yt===void 0&&(yt=""),"".concat(yt).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;").replace(/`/g,"&#96;")},pt=function(yt){return yt===void 0&&(yt=""),"".concat(yt).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},mt=function(){for(var yt=[],It=0;It<arguments.length;It++)yt[It]=arguments[It];for(var R=o({},yt[0]),Dt=1;Dt<yt.length;Dt++){var xt=o({},yt[Dt]);for(var rt in xt){var E=R[rt],N=xt[rt];St(E)&&St(N)?R[rt]=mt(E,N):R[rt]=N}}return R},Lt=function(yt,It){var R;return!It&&yt&&yt.__cashData?R=yt.__cashData.model:It&&(0,n.isElement)(yt)&&(R=It(yt).data("model")),R},St=function(yt){return yt&&!Array.isArray(yt)&&typeof yt=="object"},at=function(yt){return Object.keys(yt).length<=0},Rt=function(yt){return yt===void 0&&(yt=""),yt&&yt.charAt(0).toUpperCase()+yt.substring(1)},wt=function(yt){return yt&&yt.toCSS},Mt=function(yt){return yt==null?void 0:yt.__gjsv},Qt=function(yt){return!!(yt!=null&&yt.toHTML)},W=function(yt){return Mt(yt)},U=function(yt){var It;return(It=W(yt))===null||It===void 0?void 0:It.model},Ct=function(yt,It){yt.__gjsv=It},vt=function(yt){yt===void 0&&(yt=16);for(var It="",R="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",Dt=R.length,xt=0;xt<yt;xt++)It+=R.charAt(Math.floor(Math.random()*Dt));return It},Wt=function(yt){if(yt&&yt.substr(0,4)==="<svg"){var It="";return C()?It=window.btoa(yt):typeof Buffer<"u"&&(It=Buffer.from(yt,"utf8").toString("base64")),It?"data:image/svg+xml;base64,".concat(It):yt}return yt}},6756:(r,e,t)=>{t.d(e,{h:()=>o});var n=t(3178),i=function(){var l=function(u,c){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var g in h)Object.prototype.hasOwnProperty.call(h,g)&&(d[g]=h[g])},l(u,c)};return function(u,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");l(u,c);function d(){this.constructor=u}u.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d)}}(),o=function(l){i(u,l);function u(){var c=l!==null&&l.apply(this,arguments)||this;return c.displayCache=new Map,c}return u.prototype.getChildren=function(){return this.getDisplayedChildren()},u.prototype.getDisplayedChildren=function(){var c=this,d=this.model.components(),h=d.filter(function(g){return c.isChildDisplayed(g)});return h.map(function(g){return new c.constructor(g)})},u.prototype.isChildDisplayed=function(c){if(this.displayCache.has(c))return this.displayCache.get(c);var d=c.getEl(),h=a(d);return this.displayCache.set(c,h),h},u.prototype.getParent=function(){var c=this.model.parent();return c?new this.constructor(c):null},u.prototype.addChildAt=function(c,d,h){var g,m,b,w,x,_,C,O;h===void 0&&(h={action:"add-component"});var A=((m=(g=this.model)===null||g===void 0?void 0:g.isInstanceOf)===null||m===void 0?void 0:m.call(g,"text"))&&((w=(b=c==null?void 0:c.model)===null||b===void 0?void 0:b.get)===null||w===void 0?void 0:w.call(b,"textable"));if(A)return(O=(C=(_=(x=this.model)===null||x===void 0?void 0:x.getView)===null||_===void 0?void 0:_.call(x))===null||C===void 0?void 0:C.insertComponent)===null||O===void 0?void 0:O.call(C,c==null?void 0:c.model,{action:h.action});var I=this.model.components().add(c.model,{at:this.getRealIndex(d),action:h.action});return new this.constructor(I)},u.prototype.removeChildAt=function(c,d){d===void 0&&(d={temporary:!1});var h=this.model.components().at(this.getRealIndex(c));h&&this.model.components().remove(h,d)},u.prototype.indexOfChild=function(c){return this.getDisplayIndex(c)},u.prototype.getDisplayIndex=function(c){var d=this.getDisplayedChildren();return d?d.findIndex(function(h){return h.model===c.model}):-1},u.prototype.getRealIndex=function(c){if(c===-1)return-1;for(var d=0,h=this.model.components(),g=0;g<h.length;g++){var m=h.at(g),b=this.isChildDisplayed(m);if(b&&d++,d===c+1)return g}return-1},u.prototype.canMove=function(c,d){return this.model.em.Components.canMove(this.model,c.model,this.getRealIndex(d)).result},u.prototype.restNodeState=function(){this.clearState();var c=this.model;this.setContentEditable(!1),c.em.getEditing()===c&&this.disableEditing()},u.prototype.setContentEditable=function(c){this.element&&this.isTextNode()&&(this.element.contentEditable=c?"true":"false")},u.prototype.disableEditing=function(){var c,d;(d=(c=this.view)===null||c===void 0?void 0:c.disableEditing)===null||d===void 0||d.call(c)},u.prototype.clearState=function(){var c,d;(d=(c=this.model).set)===null||d===void 0||d.call(c,"status","")},u.prototype.setSelectedParentState=function(){var c,d;(d=(c=this.model).set)===null||d===void 0||d.call(c,"status","selected-parent")},u.prototype.isTextNode=function(){var c,d;return(d=(c=this.model).isInstanceOf)===null||d===void 0?void 0:d.call(c,"text")},u.prototype.isTextable=function(){var c,d;return(d=(c=this.model).get)===null||d===void 0?void 0:d.call(c,"textable")},u}(n.$);function a(l){return l?typeof l=="object"&&l.nodeType===Node.ELEMENT_NODE&&window.getComputedStyle(l).display!=="none"&&l.offsetWidth>0&&l.offsetHeight>0:!1}},1447:(r,e,t)=>{t.d(e,{A:()=>a});var n=t(6756),i=function(){var l=function(u,c){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var g in h)Object.prototype.hasOwnProperty.call(h,g)&&(d[g]=h[g])},l(u,c)};return function(u,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");l(u,c);function d(){this.constructor=u}u.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d)}}(),o=function(l){i(u,l);function u(){var c=l!==null&&l.apply(this,arguments)||this;return c._dropAreaConfig={ratio:.8,minUndroppableDimension:1,maxUndroppableDimension:15},c}return Object.defineProperty(u.prototype,"view",{get:function(){var c,d;return(d=(c=this.model).getView)===null||d===void 0?void 0:d.call(c)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"element",{get:function(){var c,d;return(d=(c=this.model).getEl)===null||d===void 0?void 0:d.call(c)},enumerable:!1,configurable:!0}),u}(n.h);const a=o},3178:(r,e,t)=>{t.d(e,{$:()=>n});var n=function(){function i(o,a){a===void 0&&(a={}),this._dropAreaConfig={ratio:1,minUndroppableDimension:0,maxUndroppableDimension:0},this._model=o,this._dragSource=a}return Object.defineProperty(i.prototype,"model",{get:function(){return this._model},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"dragSource",{get:function(){return this._dragSource},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"dropArea",{get:function(){var o,a;return this.getParent()?(a=this.nodeDimensions)===null||a===void 0?void 0:a.getDropArea(this._dropAreaConfig):(o=this.nodeDimensions)===null||o===void 0?void 0:o.clone()},enumerable:!1,configurable:!0}),i.prototype.isWithinDropBounds=function(o,a){return!!this.dropArea&&this.dropArea.isWithinBounds(o,a)},i.prototype.equals=function(o){return!!(o!=null&&o._model)&&this._model===o._model},i.prototype.adjustDimensions=function(o){var a,l;o.topDifference===0&&o.leftDifference===0||((a=this.nodeDimensions)===null||a===void 0||a.adjustDimensions(o),(l=this.childrenDimensions)===null||l===void 0||l.forEach(function(u){return u.adjustDimensions(o)}))},i}()},8433:(r,e,t)=>{t.d(e,{A:()=>n});var n;(function(i){i.Vertical="Vertical",i.Horizontal="Horizontal",i.BothDirections="BothDirections"})(n||(n={}))},585:(r,e,t)=>{var n={"./CanvasClear":9484,"./CanvasClear.ts":9484,"./CanvasMove":9516,"./CanvasMove.ts":9516,"./CommandAbstract":9946,"./CommandAbstract.ts":9946,"./ComponentDelete":7801,"./ComponentDelete.ts":7801,"./ComponentDrag":4864,"./ComponentDrag.ts":4864,"./ComponentEnter":6134,"./ComponentEnter.ts":6134,"./ComponentExit":914,"./ComponentExit.ts":914,"./ComponentNext":5547,"./ComponentNext.ts":5547,"./ComponentPrev":8655,"./ComponentPrev.ts":8655,"./ComponentStyleClear":7640,"./ComponentStyleClear.ts":7640,"./CopyComponent":5837,"./CopyComponent.ts":5837,"./ExportTemplate":6477,"./ExportTemplate.ts":6477,"./Fullscreen":1772,"./Fullscreen.ts":1772,"./MoveComponent":741,"./MoveComponent.ts":741,"./OpenAssets":2924,"./OpenAssets.ts":2924,"./OpenBlocks":3963,"./OpenBlocks.ts":3963,"./OpenLayers":1479,"./OpenLayers.ts":1479,"./OpenStyleManager":3473,"./OpenStyleManager.ts":3473,"./OpenTraitManager":5054,"./OpenTraitManager.ts":5054,"./PasteComponent":6979,"./PasteComponent.ts":6979,"./Preview":4457,"./Preview.ts":4457,"./Resize":5493,"./Resize.ts":5493,"./SelectComponent":9317,"./SelectComponent.ts":9317,"./SelectPosition":1406,"./SelectPosition.ts":1406,"./ShowOffset":9395,"./ShowOffset.ts":9395,"./SwitchVisibility":7285,"./SwitchVisibility.ts":7285};function i(a){var l=o(a);return t(l)}function o(a){if(!t.o(n,a)){var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}return n[a]}i.keys=function(){return Object.keys(n)},i.resolve=o,r.exports=i,i.id=585},5706:(r,e,t)=>{t.r(e),t.d(e,{VERSION:()=>i,after:()=>Pi,all:()=>ra,allKeys:()=>ie,any:()=>Ua,assign:()=>Tr,before:()=>Mi,bind:()=>Ia,bindAll:()=>Is,chain:()=>ja,chunk:()=>Ji,clone:()=>br,collect:()=>kr,compact:()=>Jd,compose:()=>ta,constant:()=>rt,contains:()=>ir,countBy:()=>Zd,create:()=>Ue,debounce:()=>Pl,default:()=>oa,defaults:()=>ri,defer:()=>Dr,delay:()=>vo,detect:()=>xe,difference:()=>Pc,drop:()=>Po,each:()=>Wn,escape:()=>$t,every:()=>ra,extend:()=>pn,extendOwn:()=>Tr,filter:()=>si,find:()=>xe,findIndex:()=>Xi,findKey:()=>Va,findLastIndex:()=>na,findWhere:()=>wn,first:()=>Fa,flatten:()=>kc,foldl:()=>Fr,foldr:()=>zr,forEach:()=>Wn,functions:()=>hn,get:()=>zn,groupBy:()=>Xd,has:()=>Ar,head:()=>Fa,identity:()=>Ze,include:()=>ir,includes:()=>ir,indexBy:()=>Tc,indexOf:()=>me,initial:()=>kn,inject:()=>Fr,intersection:()=>th,invert:()=>Nn,invoke:()=>Kd,isArguments:()=>R,isArray:()=>Wt,isArrayBuffer:()=>St,isBoolean:()=>k,isDataView:()=>vt,isDate:()=>ot,isElement:()=>F,isEmpty:()=>et,isEqual:()=>re,isError:()=>mt,isFinite:()=>Dt,isFunction:()=>wt,isMap:()=>Tt,isMatch:()=>bt,isNaN:()=>xt,isNull:()=>tt,isNumber:()=>L,isObject:()=>P,isRegExp:()=>pt,isSet:()=>ae,isString:()=>nt,isSymbol:()=>Lt,isTypedArray:()=>dt,isUndefined:()=>H,isWeakMap:()=>qt,isWeakSet:()=>_e,iteratee:()=>Ie,keys:()=>se,last:()=>za,lastIndexOf:()=>ze,map:()=>kr,mapObject:()=>oi,matcher:()=>pe,matches:()=>pe,max:()=>Oc,memoize:()=>Di,methods:()=>hn,min:()=>Ec,mixin:()=>Us,negate:()=>ki,noop:()=>Ti,now:()=>q,object:()=>eh,omit:()=>Ba,once:()=>Vs,pairs:()=>dn,partial:()=>po,partition:()=>Ac,pick:()=>Dc,pluck:()=>Ml,property:()=>nr,propertyOf:()=>Xt,random:()=>Ai,range:()=>Ka,reduce:()=>Fr,reduceRight:()=>zr,reject:()=>$i,rest:()=>Po,restArguments:()=>Z,result:()=>Jo,sample:()=>Rl,select:()=>si,shuffle:()=>Gd,size:()=>$d,some:()=>Ua,sortBy:()=>Yd,sortedIndex:()=>mo,tail:()=>Po,take:()=>Fa,tap:()=>Ce,template:()=>$o,templateSettings:()=>je,throttle:()=>Zn,times:()=>we,toArray:()=>ia,toPath:()=>ii,transpose:()=>Wa,unescape:()=>Pe,union:()=>Qd,uniq:()=>Ha,unique:()=>Ha,uniqueId:()=>Na,unzip:()=>Wa,values:()=>Oe,where:()=>qd,without:()=>jl,wrap:()=>go,zip:()=>Mc});var n={};t.r(n),t.d(n,{VERSION:()=>i,after:()=>Pi,all:()=>ra,allKeys:()=>ie,any:()=>Ua,assign:()=>Tr,before:()=>Mi,bind:()=>Ia,bindAll:()=>Is,chain:()=>ja,chunk:()=>Ji,clone:()=>br,collect:()=>kr,compact:()=>Jd,compose:()=>ta,constant:()=>rt,contains:()=>ir,countBy:()=>Zd,create:()=>Ue,debounce:()=>Pl,default:()=>nh,defaults:()=>ri,defer:()=>Dr,delay:()=>vo,detect:()=>xe,difference:()=>Pc,drop:()=>Po,each:()=>Wn,escape:()=>$t,every:()=>ra,extend:()=>pn,extendOwn:()=>Tr,filter:()=>si,find:()=>xe,findIndex:()=>Xi,findKey:()=>Va,findLastIndex:()=>na,findWhere:()=>wn,first:()=>Fa,flatten:()=>kc,foldl:()=>Fr,foldr:()=>zr,forEach:()=>Wn,functions:()=>hn,get:()=>zn,groupBy:()=>Xd,has:()=>Ar,head:()=>Fa,identity:()=>Ze,include:()=>ir,includes:()=>ir,indexBy:()=>Tc,indexOf:()=>me,initial:()=>kn,inject:()=>Fr,intersection:()=>th,invert:()=>Nn,invoke:()=>Kd,isArguments:()=>R,isArray:()=>Wt,isArrayBuffer:()=>St,isBoolean:()=>k,isDataView:()=>vt,isDate:()=>ot,isElement:()=>F,isEmpty:()=>et,isEqual:()=>re,isError:()=>mt,isFinite:()=>Dt,isFunction:()=>wt,isMap:()=>Tt,isMatch:()=>bt,isNaN:()=>xt,isNull:()=>tt,isNumber:()=>L,isObject:()=>P,isRegExp:()=>pt,isSet:()=>ae,isString:()=>nt,isSymbol:()=>Lt,isTypedArray:()=>dt,isUndefined:()=>H,isWeakMap:()=>qt,isWeakSet:()=>_e,iteratee:()=>Ie,keys:()=>se,last:()=>za,lastIndexOf:()=>ze,map:()=>kr,mapObject:()=>oi,matcher:()=>pe,matches:()=>pe,max:()=>Oc,memoize:()=>Di,methods:()=>hn,min:()=>Ec,mixin:()=>Us,negate:()=>ki,noop:()=>Ti,now:()=>q,object:()=>eh,omit:()=>Ba,once:()=>Vs,pairs:()=>dn,partial:()=>po,partition:()=>Ac,pick:()=>Dc,pluck:()=>Ml,property:()=>nr,propertyOf:()=>Xt,random:()=>Ai,range:()=>Ka,reduce:()=>Fr,reduceRight:()=>zr,reject:()=>$i,rest:()=>Po,restArguments:()=>Z,result:()=>Jo,sample:()=>Rl,select:()=>si,shuffle:()=>Gd,size:()=>$d,some:()=>Ua,sortBy:()=>Yd,sortedIndex:()=>mo,tail:()=>Po,take:()=>Fa,tap:()=>Ce,template:()=>$o,templateSettings:()=>je,throttle:()=>Zn,times:()=>we,toArray:()=>ia,toPath:()=>ii,transpose:()=>Wa,unescape:()=>Pe,union:()=>Qd,uniq:()=>Ha,unique:()=>Ha,uniqueId:()=>Na,unzip:()=>Wa,values:()=>Oe,where:()=>qd,without:()=>jl,wrap:()=>go,zip:()=>Mc});var i="1.13.1",o=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||Function("return this")()||{},a=Array.prototype,l=Object.prototype,u=typeof Symbol<"u"?Symbol.prototype:null,c=a.push,d=a.slice,h=l.toString,g=l.hasOwnProperty,m=typeof ArrayBuffer<"u",b=typeof DataView<"u",w=Array.isArray,x=Object.keys,_=Object.create,C=m&&ArrayBuffer.isView,O=isNaN,A=isFinite,I=!{toString:null}.propertyIsEnumerable("toString"),Q=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],$=Math.pow(2,53)-1;function Z(V,G){return G=G==null?V.length-1:+G,function(){for(var ft=Math.max(arguments.length-G,0),_t=Array(ft),Pt=0;Pt<ft;Pt++)_t[Pt]=arguments[Pt+G];switch(G){case 0:return V.call(this,_t);case 1:return V.call(this,arguments[0],_t);case 2:return V.call(this,arguments[0],arguments[1],_t)}var At=Array(G+1);for(Pt=0;Pt<G;Pt++)At[Pt]=arguments[Pt];return At[G]=_t,V.apply(this,At)}}function P(V){var G=typeof V;return G==="function"||G==="object"&&!!V}function tt(V){return V===null}function H(V){return V===void 0}function k(V){return V===!0||V===!1||h.call(V)==="[object Boolean]"}function F(V){return!!(V&&V.nodeType===1)}function T(V){var G="[object "+V+"]";return function(ft){return h.call(ft)===G}}const nt=T("String"),L=T("Number"),ot=T("Date"),pt=T("RegExp"),mt=T("Error"),Lt=T("Symbol"),St=T("ArrayBuffer");var at=T("Function"),Rt=o.document&&o.document.childNodes;typeof Int8Array!="object"&&typeof Rt!="function"&&(at=function(V){return typeof V=="function"||!1});const wt=at,Mt=T("Object");var Qt=b&&Mt(new DataView(new ArrayBuffer(8))),W=typeof Map<"u"&&Mt(new Map),U=T("DataView");function Ct(V){return V!=null&&wt(V.getInt8)&&St(V.buffer)}const vt=Qt?Ct:U,Wt=w||T("Array");function yt(V,G){return V!=null&&g.call(V,G)}var It=T("Arguments");(function(){It(arguments)||(It=function(V){return yt(V,"callee")})})();const R=It;function Dt(V){return!Lt(V)&&A(V)&&!isNaN(parseFloat(V))}function xt(V){return L(V)&&O(V)}function rt(V){return function(){return V}}function E(V){return function(G){var ft=V(G);return typeof ft=="number"&&ft>=0&&ft<=$}}function N(V){return function(G){return G==null?void 0:G[V]}}const Y=N("byteLength"),st=E(Y);var it=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;function X(V){return C?C(V)&&!vt(V):st(V)&&it.test(h.call(V))}const dt=m?X:rt(!1),ut=N("length");function zt(V){for(var G={},ft=V.length,_t=0;_t<ft;++_t)G[V[_t]]=!0;return{contains:function(Pt){return G[Pt]},push:function(Pt){return G[Pt]=!0,V.push(Pt)}}}function fe(V,G){G=zt(G);var ft=Q.length,_t=V.constructor,Pt=wt(_t)&&_t.prototype||l,At="constructor";for(yt(V,At)&&!G.contains(At)&&G.push(At);ft--;)At=Q[ft],At in V&&V[At]!==Pt[At]&&!G.contains(At)&&G.push(At)}function se(V){if(!P(V))return[];if(x)return x(V);var G=[];for(var ft in V)yt(V,ft)&&G.push(ft);return I&&fe(V,G),G}function et(V){if(V==null)return!0;var G=ut(V);return typeof G=="number"&&(Wt(V)||nt(V)||R(V))?G===0:ut(se(V))===0}function bt(V,G){var ft=se(G),_t=ft.length;if(V==null)return!_t;for(var Pt=Object(V),At=0;At<_t;At++){var Kt=ft[At];if(G[Kt]!==Pt[Kt]||!(Kt in Pt))return!1}return!0}function K(V){if(V instanceof K)return V;if(!(this instanceof K))return new K(V);this._wrapped=V}K.VERSION=i,K.prototype.value=function(){return this._wrapped},K.prototype.valueOf=K.prototype.toJSON=K.prototype.value,K.prototype.toString=function(){return String(this._wrapped)};function Bt(V){return new Uint8Array(V.buffer||V,V.byteOffset||0,Y(V))}var Ot="[object DataView]";function Gt(V,G,ft,_t){if(V===G)return V!==0||1/V===1/G;if(V==null||G==null)return!1;if(V!==V)return G!==G;var Pt=typeof V;return Pt!=="function"&&Pt!=="object"&&typeof G!="object"?!1:de(V,G,ft,_t)}function de(V,G,ft,_t){V instanceof K&&(V=V._wrapped),G instanceof K&&(G=G._wrapped);var Pt=h.call(V);if(Pt!==h.call(G))return!1;if(Qt&&Pt=="[object Object]"&&vt(V)){if(!vt(G))return!1;Pt=Ot}switch(Pt){case"[object RegExp]":case"[object String]":return""+V==""+G;case"[object Number]":return+V!=+V?+G!=+G:+V==0?1/+V===1/G:+V==+G;case"[object Date]":case"[object Boolean]":return+V==+G;case"[object Symbol]":return u.valueOf.call(V)===u.valueOf.call(G);case"[object ArrayBuffer]":case Ot:return de(Bt(V),Bt(G),ft,_t)}var At=Pt==="[object Array]";if(!At&&dt(V)){var Kt=Y(V);if(Kt!==Y(G))return!1;if(V.buffer===G.buffer&&V.byteOffset===G.byteOffset)return!0;At=!0}if(!At){if(typeof V!="object"||typeof G!="object")return!1;var oe=V.constructor,De=G.constructor;if(oe!==De&&!(wt(oe)&&oe instanceof oe&&wt(De)&&De instanceof De)&&"constructor"in V&&"constructor"in G)return!1}ft=ft||[],_t=_t||[];for(var Te=ft.length;Te--;)if(ft[Te]===V)return _t[Te]===G;if(ft.push(V),_t.push(G),At){if(Te=V.length,Te!==G.length)return!1;for(;Te--;)if(!Gt(V[Te],G[Te],ft,_t))return!1}else{var $n=se(V),wr;if(Te=$n.length,se(G).length!==Te)return!1;for(;Te--;)if(wr=$n[Te],!(yt(G,wr)&&Gt(V[wr],G[wr],ft,_t)))return!1}return ft.pop(),_t.pop(),!0}function re(V,G){return Gt(V,G)}function ie(V){if(!P(V))return[];var G=[];for(var ft in V)G.push(ft);return I&&fe(V,G),G}function ge(V){var G=ut(V);return function(ft){if(ft==null)return!1;var _t=ie(ft);if(ut(_t))return!1;for(var Pt=0;Pt<G;Pt++)if(!wt(ft[V[Pt]]))return!1;return V!==J||!wt(ft[Ee])}}var Ee="forEach",Ne="has",Me=["clear","delete"],nn=["get",Ne,"set"],_n=Me.concat(Ee,nn),J=Me.concat(nn),gt=["add"].concat(Me,Ee,Ne);const Tt=W?ge(_n):T("Map"),qt=W?ge(J):T("WeakMap"),ae=W?ge(gt):T("Set"),_e=T("WeakSet");function Oe(V){for(var G=se(V),ft=G.length,_t=Array(ft),Pt=0;Pt<ft;Pt++)_t[Pt]=V[G[Pt]];return _t}function dn(V){for(var G=se(V),ft=G.length,_t=Array(ft),Pt=0;Pt<ft;Pt++)_t[Pt]=[G[Pt],V[G[Pt]]];return _t}function Nn(V){for(var G={},ft=se(V),_t=0,Pt=ft.length;_t<Pt;_t++)G[V[ft[_t]]]=ft[_t];return G}function hn(V){var G=[];for(var ft in V)wt(V[ft])&&G.push(ft);return G.sort()}function Ei(V,G){return function(ft){var _t=arguments.length;if(G&&(ft=Object(ft)),_t<2||ft==null)return ft;for(var Pt=1;Pt<_t;Pt++)for(var At=arguments[Pt],Kt=V(At),oe=Kt.length,De=0;De<oe;De++){var Te=Kt[De];(!G||ft[Te]===void 0)&&(ft[Te]=At[Te])}return ft}}const pn=Ei(ie),Tr=Ei(se),ri=Ei(ie,!0);function Xe(){return function(){}}function jn(V){if(!P(V))return{};if(_)return _(V);var G=Xe();G.prototype=V;var ft=new G;return G.prototype=null,ft}function Ue(V,G){var ft=jn(V);return G&&Tr(ft,G),ft}function br(V){return P(V)?Wt(V)?V.slice():pn({},V):V}function Ce(V,G){return G(V),V}function ii(V){return Wt(V)?V:[V]}K.toPath=ii;function Br(V){return K.toPath(V)}function Fn(V,G){for(var ft=G.length,_t=0;_t<ft;_t++){if(V==null)return;V=V[G[_t]]}return ft?V:void 0}function zn(V,G,ft){var _t=Fn(V,Br(G));return H(_t)?ft:_t}function Ar(V,G){G=Br(G);for(var ft=G.length,_t=0;_t<ft;_t++){var Pt=G[_t];if(!yt(V,Pt))return!1;V=V[Pt]}return!!ft}function Ze(V){return V}function pe(V){return V=Tr({},V),function(G){return bt(G,V)}}function nr(V){return V=Br(V),function(G){return Fn(G,V)}}function bn(V,G,ft){if(G===void 0)return V;switch(ft??3){case 1:return function(_t){return V.call(G,_t)};case 3:return function(_t,Pt,At){return V.call(G,_t,Pt,At)};case 4:return function(_t,Pt,At,Kt){return V.call(G,_t,Pt,At,Kt)}}return function(){return V.apply(G,arguments)}}function rr(V,G,ft){return V==null?Ze:wt(V)?bn(V,G,ft):P(V)&&!Wt(V)?pe(V):nr(V)}function Ie(V,G){return rr(V,G,1/0)}K.iteratee=Ie;function on(V,G,ft){return K.iteratee!==Ie?K.iteratee(V,G):rr(V,G,ft)}function oi(V,G,ft){G=on(G,ft);for(var _t=se(V),Pt=_t.length,At={},Kt=0;Kt<Pt;Kt++){var oe=_t[Kt];At[oe]=G(V[oe],oe,V)}return At}function Ti(){}function Xt(V){return V==null?Ti:function(G){return zn(V,G)}}function we(V,G,ft){var _t=Array(Math.max(0,V));G=bn(G,ft,1);for(var Pt=0;Pt<V;Pt++)_t[Pt]=G(Pt);return _t}function Ai(V,G){return G==null&&(G=V,V=0),V+Math.floor(Math.random()*(G-V+1))}const q=Date.now||function(){return new Date().getTime()};function ct(V){var G=function(At){return V[At]},ft="(?:"+se(V).join("|")+")",_t=RegExp(ft),Pt=RegExp(ft,"g");return function(At){return At=At==null?"":""+At,_t.test(At)?At.replace(Pt,G):At}}const Vt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},$t=ct(Vt),te=Nn(Vt),Pe=ct(te),je=K.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var vn=/(.)^/,Je={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},ai=/\\|'|\r|\n|\u2028|\u2029/g;function La(V){return"\\"+Je[V]}var Zo=/^\s*(\w|\$)+\s*$/;function $o(V,G,ft){!G&&ft&&(G=ft),G=ri({},G,K.templateSettings);var _t=RegExp([(G.escape||vn).source,(G.interpolate||vn).source,(G.evaluate||vn).source].join("|")+"|$","g"),Pt=0,At="__p+='";V.replace(_t,function(Te,$n,wr,rh,Rc){return At+=V.slice(Pt,Rc).replace(ai,La),Pt=Rc+Te.length,$n?At+=`'+
((__t=(`+$n+`))==null?'':_.escape(__t))+
'`:wr?At+=`'+
((__t=(`+wr+`))==null?'':__t)+
'`:rh&&(At+=`';
`+rh+`
__p+='`),Te}),At+=`';
`;var Kt=G.variable;if(Kt){if(!Zo.test(Kt))throw new Error("variable is not a bare identifier: "+Kt)}else At=`with(obj||{}){
`+At+`}
`,Kt="obj";At=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+At+`return __p;
`;var oe;try{oe=new Function(Kt,"_",At)}catch(Te){throw Te.source=At,Te}var De=function(Te){return oe.call(this,Te,K)};return De.source="function("+Kt+`){
`+At+"}",De}function Jo(V,G,ft){G=Br(G);var _t=G.length;if(!_t)return wt(ft)?ft.call(V):ft;for(var Pt=0;Pt<_t;Pt++){var At=V==null?void 0:V[G[Pt]];At===void 0&&(At=ft,Pt=_t),V=wt(At)?At.call(V):At}return V}var js=0;function Na(V){var G=++js+"";return V?V+G:G}function ja(V){var G=K(V);return G._chain=!0,G}function Qo(V,G,ft,_t,Pt){if(!(_t instanceof G))return V.apply(ft,Pt);var At=jn(V.prototype),Kt=V.apply(At,Pt);return P(Kt)?Kt:At}var ko=Z(function(V,G){var ft=ko.placeholder,_t=function(){for(var Pt=0,At=G.length,Kt=Array(At),oe=0;oe<At;oe++)Kt[oe]=G[oe]===ft?arguments[Pt++]:G[oe];for(;Pt<arguments.length;)Kt.push(arguments[Pt++]);return Qo(V,_t,this,this,Kt)};return _t});ko.placeholder=K;const po=ko,Ia=Z(function(V,G,ft){if(!wt(V))throw new TypeError("Bind must be called on a function");var _t=Z(function(Pt){return Qo(V,_t,G,this,ft.concat(Pt))});return _t}),Hn=E(ut);function Xn(V,G,ft,_t){if(_t=_t||[],!G&&G!==0)G=1/0;else if(G<=0)return _t.concat(V);for(var Pt=_t.length,At=0,Kt=ut(V);At<Kt;At++){var oe=V[At];if(Hn(oe)&&(Wt(oe)||R(oe)))if(G>1)Xn(oe,G-1,ft,_t),Pt=_t.length;else for(var De=0,Te=oe.length;De<Te;)_t[Pt++]=oe[De++];else ft||(_t[Pt++]=oe)}return _t}const Is=Z(function(V,G){G=Xn(G,!1,!1);var ft=G.length;if(ft<1)throw new Error("bindAll must be passed function names");for(;ft--;){var _t=G[ft];V[_t]=Ia(V[_t],V)}return V});function Di(V,G){var ft=function(_t){var Pt=ft.cache,At=""+(G?G.apply(this,arguments):_t);return yt(Pt,At)||(Pt[At]=V.apply(this,arguments)),Pt[At]};return ft.cache={},ft}const vo=Z(function(V,G,ft){return setTimeout(function(){return V.apply(null,ft)},G)}),Dr=po(vo,K,1);function Zn(V,G,ft){var _t,Pt,At,Kt,oe=0;ft||(ft={});var De=function(){oe=ft.leading===!1?0:q(),_t=null,Kt=V.apply(Pt,At),_t||(Pt=At=null)},Te=function(){var $n=q();!oe&&ft.leading===!1&&(oe=$n);var wr=G-($n-oe);return Pt=this,At=arguments,wr<=0||wr>G?(_t&&(clearTimeout(_t),_t=null),oe=$n,Kt=V.apply(Pt,At),_t||(Pt=At=null)):!_t&&ft.trailing!==!1&&(_t=setTimeout(De,wr)),Kt};return Te.cancel=function(){clearTimeout(_t),oe=0,_t=Pt=At=null},Te}function Pl(V,G,ft){var _t,Pt,At,Kt,oe,De=function(){var $n=q()-Pt;G>$n?_t=setTimeout(De,G-$n):(_t=null,ft||(Kt=V.apply(oe,At)),_t||(At=oe=null))},Te=Z(function($n){return oe=this,At=$n,Pt=q(),_t||(_t=setTimeout(De,G),ft&&(Kt=V.apply(oe,At))),Kt});return Te.cancel=function(){clearTimeout(_t),_t=At=oe=null},Te}function go(V,G){return po(G,V)}function ki(V){return function(){return!V.apply(this,arguments)}}function ta(){var V=arguments,G=V.length-1;return function(){for(var ft=G,_t=V[G].apply(this,arguments);ft--;)_t=V[ft].call(this,_t);return _t}}function Pi(V,G){return function(){if(--V<1)return G.apply(this,arguments)}}function Mi(V,G){var ft;return function(){return--V>0&&(ft=G.apply(this,arguments)),V<=1&&(G=null),ft}}const Vs=po(Mi,2);function Va(V,G,ft){G=on(G,ft);for(var _t=se(V),Pt,At=0,Kt=_t.length;At<Kt;At++)if(Pt=_t[At],G(V[Pt],Pt,V))return Pt}function ea(V){return function(G,ft,_t){ft=on(ft,_t);for(var Pt=ut(G),At=V>0?0:Pt-1;At>=0&&At<Pt;At+=V)if(ft(G[At],At,G))return At;return-1}}const Xi=ea(1),na=ea(-1);function mo(V,G,ft,_t){ft=on(ft,_t,1);for(var Pt=ft(G),At=0,Kt=ut(V);At<Kt;){var oe=Math.floor((At+Kt)/2);ft(V[oe])<Pt?At=oe+1:Kt=oe}return At}function ye(V,G,ft){return function(_t,Pt,At){var Kt=0,oe=ut(_t);if(typeof At=="number")V>0?Kt=At>=0?At:Math.max(At+oe,Kt):oe=At>=0?Math.min(At+1,oe):At+oe+1;else if(ft&&At&&oe)return At=ft(_t,Pt),_t[At]===Pt?At:-1;if(Pt!==Pt)return At=G(d.call(_t,Kt,oe),xt),At>=0?At+Kt:-1;for(At=V>0?Kt:oe-1;At>=0&&At<oe;At+=V)if(_t[At]===Pt)return At;return-1}}const me=ye(1,Xi,mo),ze=ye(-1,na);function xe(V,G,ft){var _t=Hn(V)?Xi:Va,Pt=_t(V,G,ft);if(Pt!==void 0&&Pt!==-1)return V[Pt]}function wn(V,G){return xe(V,pe(G))}function Wn(V,G,ft){G=bn(G,ft);var _t,Pt;if(Hn(V))for(_t=0,Pt=V.length;_t<Pt;_t++)G(V[_t],_t,V);else{var At=se(V);for(_t=0,Pt=At.length;_t<Pt;_t++)G(V[At[_t]],At[_t],V)}return V}function kr(V,G,ft){G=on(G,ft);for(var _t=!Hn(V)&&se(V),Pt=(_t||V).length,At=Array(Pt),Kt=0;Kt<Pt;Kt++){var oe=_t?_t[Kt]:Kt;At[Kt]=G(V[oe],oe,V)}return At}function Zi(V){var G=function(ft,_t,Pt,At){var Kt=!Hn(ft)&&se(ft),oe=(Kt||ft).length,De=V>0?0:oe-1;for(At||(Pt=ft[Kt?Kt[De]:De],De+=V);De>=0&&De<oe;De+=V){var Te=Kt?Kt[De]:De;Pt=_t(Pt,ft[Te],Te,ft)}return Pt};return function(ft,_t,Pt,At){var Kt=arguments.length>=3;return G(ft,bn(_t,At,4),Pt,Kt)}}const Fr=Zi(1),zr=Zi(-1);function si(V,G,ft){var _t=[];return G=on(G,ft),Wn(V,function(Pt,At,Kt){G(Pt,At,Kt)&&_t.push(Pt)}),_t}function $i(V,G,ft){return si(V,ki(on(G)),ft)}function ra(V,G,ft){G=on(G,ft);for(var _t=!Hn(V)&&se(V),Pt=(_t||V).length,At=0;At<Pt;At++){var Kt=_t?_t[At]:At;if(!G(V[Kt],Kt,V))return!1}return!0}function Ua(V,G,ft){G=on(G,ft);for(var _t=!Hn(V)&&se(V),Pt=(_t||V).length,At=0;At<Pt;At++){var Kt=_t?_t[At]:At;if(G(V[Kt],Kt,V))return!0}return!1}function ir(V,G,ft,_t){return Hn(V)||(V=Oe(V)),(typeof ft!="number"||_t)&&(ft=0),me(V,G,ft)>=0}const Kd=Z(function(V,G,ft){var _t,Pt;return wt(G)?Pt=G:(G=Br(G),_t=G.slice(0,-1),G=G[G.length-1]),kr(V,function(At){var Kt=Pt;if(!Kt){if(_t&&_t.length&&(At=Fn(At,_t)),At==null)return;Kt=At[G]}return Kt==null?Kt:Kt.apply(At,ft)})});function Ml(V,G){return kr(V,nr(G))}function qd(V,G){return si(V,pe(G))}function Oc(V,G,ft){var _t=-1/0,Pt=-1/0,At,Kt;if(G==null||typeof G=="number"&&typeof V[0]!="object"&&V!=null){V=Hn(V)?V:Oe(V);for(var oe=0,De=V.length;oe<De;oe++)At=V[oe],At!=null&&At>_t&&(_t=At)}else G=on(G,ft),Wn(V,function(Te,$n,wr){Kt=G(Te,$n,wr),(Kt>Pt||Kt===-1/0&&_t===-1/0)&&(_t=Te,Pt=Kt)});return _t}function Ec(V,G,ft){var _t=1/0,Pt=1/0,At,Kt;if(G==null||typeof G=="number"&&typeof V[0]!="object"&&V!=null){V=Hn(V)?V:Oe(V);for(var oe=0,De=V.length;oe<De;oe++)At=V[oe],At!=null&&At<_t&&(_t=At)}else G=on(G,ft),Wn(V,function(Te,$n,wr){Kt=G(Te,$n,wr),(Kt<Pt||Kt===1/0&&_t===1/0)&&(_t=Te,Pt=Kt)});return _t}function Rl(V,G,ft){if(G==null||ft)return Hn(V)||(V=Oe(V)),V[Ai(V.length-1)];var _t=Hn(V)?br(V):Oe(V),Pt=ut(_t);G=Math.max(Math.min(G,Pt),0);for(var At=Pt-1,Kt=0;Kt<G;Kt++){var oe=Ai(Kt,At),De=_t[Kt];_t[Kt]=_t[oe],_t[oe]=De}return _t.slice(0,G)}function Gd(V){return Rl(V,1/0)}function Yd(V,G,ft){var _t=0;return G=on(G,ft),Ml(kr(V,function(Pt,At,Kt){return{value:Pt,index:_t++,criteria:G(Pt,At,Kt)}}).sort(function(Pt,At){var Kt=Pt.criteria,oe=At.criteria;if(Kt!==oe){if(Kt>oe||Kt===void 0)return 1;if(Kt<oe||oe===void 0)return-1}return Pt.index-At.index}),"value")}function Ll(V,G){return function(ft,_t,Pt){var At=G?[[],[]]:{};return _t=on(_t,Pt),Wn(ft,function(Kt,oe){var De=_t(Kt,oe,ft);V(At,Kt,De)}),At}}const Xd=Ll(function(V,G,ft){yt(V,ft)?V[ft].push(G):V[ft]=[G]}),Tc=Ll(function(V,G,ft){V[ft]=G}),Zd=Ll(function(V,G,ft){yt(V,ft)?V[ft]++:V[ft]=1}),Ac=Ll(function(V,G,ft){V[ft?0:1].push(G)},!0);var Nl=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function ia(V){return V?Wt(V)?d.call(V):nt(V)?V.match(Nl):Hn(V)?kr(V,Ze):Oe(V):[]}function $d(V){return V==null?0:Hn(V)?V.length:se(V).length}function em(V,G,ft){return G in ft}const Dc=Z(function(V,G){var ft={},_t=G[0];if(V==null)return ft;wt(_t)?(G.length>1&&(_t=bn(_t,G[1])),G=ie(V)):(_t=em,G=Xn(G,!1,!1),V=Object(V));for(var Pt=0,At=G.length;Pt<At;Pt++){var Kt=G[Pt],oe=V[Kt];_t(oe,Kt,V)&&(ft[Kt]=oe)}return ft}),Ba=Z(function(V,G){var ft=G[0],_t;return wt(ft)?(ft=ki(ft),G.length>1&&(_t=G[1])):(G=kr(Xn(G,!1,!1),String),ft=function(Pt,At){return!ir(G,At)}),Dc(V,ft,_t)});function kn(V,G,ft){return d.call(V,0,Math.max(0,V.length-(G==null||ft?1:G)))}function Fa(V,G,ft){return V==null||V.length<1?G==null||ft?void 0:[]:G==null||ft?V[0]:kn(V,V.length-G)}function Po(V,G,ft){return d.call(V,G==null||ft?1:G)}function za(V,G,ft){return V==null||V.length<1?G==null||ft?void 0:[]:G==null||ft?V[V.length-1]:Po(V,Math.max(0,V.length-G))}function Jd(V){return si(V,Boolean)}function kc(V,G){return Xn(V,G,!1)}const Pc=Z(function(V,G){return G=Xn(G,!0,!0),si(V,function(ft){return!ir(G,ft)})}),jl=Z(function(V,G){return Pc(V,G)});function Ha(V,G,ft,_t){k(G)||(_t=ft,ft=G,G=!1),ft!=null&&(ft=on(ft,_t));for(var Pt=[],At=[],Kt=0,oe=ut(V);Kt<oe;Kt++){var De=V[Kt],Te=ft?ft(De,Kt,V):De;G&&!ft?((!Kt||At!==Te)&&Pt.push(De),At=Te):ft?ir(At,Te)||(At.push(Te),Pt.push(De)):ir(Pt,De)||Pt.push(De)}return Pt}const Qd=Z(function(V){return Ha(Xn(V,!0,!0))});function th(V){for(var G=[],ft=arguments.length,_t=0,Pt=ut(V);_t<Pt;_t++){var At=V[_t];if(!ir(G,At)){var Kt;for(Kt=1;Kt<ft&&ir(arguments[Kt],At);Kt++);Kt===ft&&G.push(At)}}return G}function Wa(V){for(var G=V&&Oc(V,ut).length||0,ft=Array(G),_t=0;_t<G;_t++)ft[_t]=Ml(V,_t);return ft}const Mc=Z(Wa);function eh(V,G){for(var ft={},_t=0,Pt=ut(V);_t<Pt;_t++)G?ft[V[_t]]=G[_t]:ft[V[_t][0]]=V[_t][1];return ft}function Ka(V,G,ft){G==null&&(G=V||0,V=0),ft||(ft=G<V?-1:1);for(var _t=Math.max(Math.ceil((G-V)/ft),0),Pt=Array(_t),At=0;At<_t;At++,V+=ft)Pt[At]=V;return Pt}function Ji(V,G){if(G==null||G<1)return[];for(var ft=[],_t=0,Pt=V.length;_t<Pt;)ft.push(d.call(V,_t,_t+=G));return ft}function qa(V,G){return V._chain?K(G).chain():G}function Us(V){return Wn(hn(V),function(G){var ft=K[G]=V[G];K.prototype[G]=function(){var _t=[this._wrapped];return c.apply(_t,arguments),qa(this,ft.apply(K,_t))}}),K}Wn(["pop","push","reverse","shift","sort","splice","unshift"],function(V){var G=a[V];K.prototype[V]=function(){var ft=this._wrapped;return ft!=null&&(G.apply(ft,arguments),(V==="shift"||V==="splice")&&ft.length===0&&delete ft[0]),qa(this,ft)}}),Wn(["concat","join","slice"],function(V){var G=a[V];K.prototype[V]=function(){var ft=this._wrapped;return ft!=null&&(ft=G.apply(ft,arguments)),qa(this,ft)}});const nh=K;var li=Us(n);li._=li;const oa=li}},Kx={};function Ye(r){var e=Kx[r];if(e!==void 0)return e.exports;var t=Kx[r]={exports:{}};return Z3[r].call(t.exports,t,t.exports,Ye),t.exports}Ye.n=r=>{var e=r&&r.__esModule?()=>r.default:()=>r;return Ye.d(e,{a:e}),e};Ye.d=(r,e)=>{for(var t in e)Ye.o(e,t)&&!Ye.o(r,t)&&Object.defineProperty(r,t,{enumerable:!0,get:e[t]})};Ye.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();Ye.o=(r,e)=>Object.prototype.hasOwnProperty.call(r,e);Ye.r=r=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})};var Gg={};Ye.d(Gg,{Ay:()=>j7,I0:()=>qD,nu:()=>KD});var z=Ye(5706),Ht=Ye(1166);function yi(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];var n=r.raw;return n.reduce(function(i,o,a){var l=e[a-1],u=n[a-1];return Array.isArray(l)?l=l.join(""):u&&u.slice(-1)==="$"?i=i.slice(0,-1):l=(0,Ht.escape)(l),i+l+o})}var $3=function(){return{stylePrefix:"gjs-",components:"",style:"",fromElement:!1,projectData:void 0,noticeOnUnload:!0,showOffsets:!1,showOffsetsSelected:!1,forceClass:!0,height:"900px",width:"100%",log:["warning","error"],baseCss:"",protectedCss:"* { box-sizing: border-box; } body {margin: 0;}",canvasCss:"",defaultCommand:"select-comp",showToolbar:!0,showDevices:!0,devicePreviewMode:!1,mediaCondition:"max-width",tagVarStart:"{[ ",tagVarEnd:" ]}",keepEmptyTextNodes:!1,jsInHtml:!0,nativeDnD:!0,multipleSelection:!0,optsHtml:{},optsCss:{},avoidInlineStyle:!0,avoidDefaults:!0,clearStyles:!1,listenToEl:[],cssIcons:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css",icons:{close:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>',move:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M13,6V11H18V7.75L22.25,12L18,16.25V13H13V18H16.25L12,22.25L7.75,18H11V13H6V16.25L1.75,12L6,7.75V11H11V6H7.75L12,1.75L16.25,6H13Z"/></svg>',plus:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z" /></svg>',caret:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M7,10L12,15L17,10H7Z" /></svg>',delete:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z" /></svg>',copy:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z" /></svg>',arrowUp:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M13,20H11V8L5.5,13.5L4.08,12.08L12,4.16L19.92,12.08L18.5,13.5L13,8V20Z" /></svg>',chevron:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z" /></svg>',eye:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z" /></svg>',eyeOff:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M11.83,9L15,12.16C15,12.11 15,12.05 15,12A3,3 0 0,0 12,9C11.94,9 11.89,9 11.83,9M7.53,9.8L9.08,11.35C9.03,11.56 9,11.77 9,12A3,3 0 0,0 12,15C12.22,15 12.44,14.97 12.65,14.92L14.2,16.47C13.53,16.8 12.79,17 12,17A5,5 0 0,1 7,12C7,11.21 7.2,10.47 7.53,9.8M2,4.27L4.28,6.55L4.73,7C3.08,8.3 1.78,10 1,12C2.73,16.39 7,19.5 12,19.5C13.55,19.5 15.03,19.2 16.38,18.66L16.81,19.08L19.73,22L21,20.73L3.27,3M12,7A5,5 0 0,1 17,12C17,12.64 16.87,13.26 16.64,13.82L19.57,16.75C21.07,15.5 22.27,13.86 23,12C21.27,7.61 17,4.5 12,4.5C10.6,4.5 9.26,4.75 8,5.2L10.17,7.35C10.74,7.13 11.35,7 12,7Z" /></svg>'},i18n:{},undoManager:{},assetManager:{},canvas:{},layerManager:{},storageManager:{},richTextEditor:{},domComponents:{},modal:{},codeManager:{},panels:{},commands:{},cssComposer:{},selectorManager:{},deviceManager:{},styleManager:{},blockManager:{},traitManager:{},textViewCode:"Code",keepUnusedStyles:!1,customUI:!1,telemetry:!0}};const J3=$3;var cv=Ye(4193),Q3=Ye.n(cv),hr=Ye(7774);const t5=function(r){var e=r.$;if(e&&e.prototype&&e.prototype.constructor.name!=="jQuery"){var t=e.fn;t.hide=function(){return this.css("display","none")},t.show=function(){return this.css("display","block")},t.focus=function(){var o=this.get(0);return o&&o.focus(),this},t.bind=function(o,a){return this.on(o,a)},t.unbind=function(o,a){if((0,z.isObject)(o)){for(var l in o)o.hasOwnProperty(l)&&this.off(l,o[l]);return this}else return this.off(o,a)},t.click=function(o){return o?this.on("click",o):this.trigger("click")},t.change=function(o){return o?this.on("change",o):this.trigger("change")},t.keydown=function(o){return o?this.on("keydown",o):this.trigger("keydown")},t.delegate=function(o,a,l,u){return u||(u=l),this.on(a,o,function(c){c.data=l,u(c)})},t.scrollLeft=function(){var o=this.get(0);o=o.nodeType==9?o.defaultView:o;var a=o instanceof Window?o:null;return a?a.pageXOffset:o.scrollLeft||0},t.scrollTop=function(){var o=this.get(0);o=o.nodeType==9?o.defaultView:o;var a=o instanceof Window?o:null;return a?a.pageYOffset:o.scrollTop||0};var n=e.prototype.offset;t.offset=function(o){var a,l;return o&&(a=o.top,l=o.left),typeof a<"u"&&this.css("top","".concat(a,"px")),typeof l<"u"&&this.css("left","".concat(l,"px")),n.call(this)},e.map=function(o,a){for(var l=[],u=0;u<o.length;u++)l.push(a(o[u],u));return l};var i=Array.prototype.indexOf;e.inArray=function(o,a,l){return a==null?-1:i.call(a,o,l)},e.Event=function(o,a){if(!(this instanceof e.Event))return new e.Event(o,a);this.type=o,this.isDefaultPrevented=function(){return!1}}}};var ne=Ye(9156),a2=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),e5=function(r){a2(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e}(ne.Kx),n5=function(r){a2(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getByComponent=function(t){var n=this;return this.filter(function(i){return n.getComponent(i)===t})[0]},e.prototype.addComponent=function(t,n){var i=this,o=((0,z.isArray)(t)?t:[t]).filter(function(a){return!i.hasComponent(a)}).map(function(a){return new e5({component:a})})[0];return this.push(o,n)},e.prototype.getComponent=function(t){return t.get("component")},e.prototype.hasComponent=function(t){var n=this.getByComponent(t);return n&&this.contains(n)},e.prototype.lastComponent=function(){var t=this.last();return t?this.getComponent(t):void 0},e.prototype.allComponents=function(){var t=this;return this.map(function(n){return t.getComponent(n)}).filter(function(n){return n})},e.prototype.removeComponent=function(t,n){var i=this,o=((0,z.isArray)(t)?t:[t]).map(function(a){return i.getByComponent(a)});return this.remove(o,n)},e}(ne.pM);const r5=n5;var i5=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),c_=function(){return c_=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},c_.apply(this,arguments)},o5=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))},s2=function(){function r(e,t,n){this.debounced=[],this.collections=[],this.cls=[],this._em=e,this._name=t;var i=this.name.charAt(0).toLowerCase()+this.name.slice(1),o=(0,z.isUndefined)(e.config[i])?e.config[this.name]:e.config[i],a=o===!0?{}:o||{};a.pStylePrefix=e.config.pStylePrefix||"",!(0,z.isUndefined)(o)&&!o&&(a._disable=1),a.em=e,this._config=(0,Ht.deepMerge)(n||{},a)}return Object.defineProperty(r.prototype,"em",{get:function(){return this._em},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),r.prototype.render=function(e){},r.prototype.postLoad=function(e){},r.prototype.onInit=function(){},Object.defineProperty(r.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),r.prototype.getConfig=function(e){return e?this.config[e]:this.config},r.prototype.__logWarn=function(e,t){t===void 0&&(t={}),this.em.logWarning("[".concat(this.name,"]: ").concat(e),t)},r.prototype.destroy=function(){this.__destroy()},r.prototype.__destroy=function(){var e,t,n;(e=this.view)===null||e===void 0||e.remove(),(t=this.state)===null||t===void 0||t.stopListening(),(n=this.state)===null||n===void 0||n.clear(),this.debounced.forEach(function(i){return i.cancel()}),this.collections.forEach(function(i){i.stopListening(),i.reset()})},r.prototype.__appendTo=function(){var e=this.getConfig().appendTo;if(e){var t=(0,z.isElement)(e)?e:document.querySelector(e);if(!t)return this.__logWarn('"appendTo" element not found');t.appendChild(this.render())}},r}();const Oi=s2;var Ra=function(r){i5(e,r);function e(t,n,i,o,a,l){l===void 0&&(l={});var u=r.call(this,t,n,a)||this;return u.cls=[],u.private=!1,u.all=i,u.events=o,!l.skipListen&&u.__initListen(),u}return e.prototype.postLoad=function(t){},e.prototype.render=function(t){},e.prototype.getProjectData=function(t){var n={},i=this.storageKey;return i&&(n[i]=t||this.getAll()),n},e.prototype.loadProjectData=function(t,n){t===void 0&&(t={}),n===void 0&&(n={});var i=n.all,o=n.onResult,a=n.reset,l=this.storageKey,u={action:"load"},c=i||this.all,d=t[l];if(typeof d=="string")try{d=JSON.parse(d)}catch{this.__logWarn("Data parsing failed",{input:d})}return a&&d&&c.reset(void 0,u),o?d&&o(d,u):d&&(0,Ht.isDef)(d.length)&&c.reset(d,u),d},e.prototype.clear=function(t){t===void 0&&(t={});var n=this.all;return n&&n.reset(void 0,t),this},e.prototype.getAll=function(){return o5([],this.all.models,!0)},e.prototype.getAllMap=function(){return this.getAll().reduce(function(t,n){return t[n.get(n.idAttribute)]=n,t},{})},e.prototype.__initListen=function(t){t===void 0&&(t={});var n=this,i=n.all,o=n.em,a=n.events;i&&o&&i.on("add",function(l,u,c){return o.trigger(a.add,l,c)}).on("remove",function(l,u,c){return o.trigger(a.remove,l,c)}).on("change",function(l,u){return o.trigger(a.update,l,l.changedAttributes(),u)}).on("all",this.__catchAllEvent,this),this.cls=[i].concat(t.collections||[]),(t.propagate||[]).forEach(function(l){var u=l.entity,c=l.event;u.on("all",function(d,h,g,m){var b=m||g,w=c_({event:d},b);[o,i].map(function(x){return x.trigger(c,h,w)})})})},e.prototype.__remove=function(t,n){var i=this;n===void 0&&(n={});var o=this.em,a=(0,z.isString)(t)?this.get(t):t,l=function(){return a&&i.all.remove(a,n),a};return!n.silent&&(o==null||o.trigger(this.events.removeBefore,a,l,n)),!n.abort&&l()},e.prototype.__catchAllEvent=function(t,n,i,o){var a=this,l=a.em,u=a.events,c=o||i;l&&u.all&&l.trigger(u.all,{event:t,model:n,options:c}),this.__onAllEvent()},e.prototype.__appendTo=function(t){var n=this.config.appendTo;if(n){var i=(0,z.isElement)(n)?n:document.querySelector(n);if(!i)return this.__logWarn('"appendTo" element not found');i.appendChild(this.render(t))}},e.prototype.__onAllEvent=function(){},e.prototype._createId=function(t){t===void 0&&(t=16);var n=this.getAll(),i=n.length+t,o=this.getAllMap(),a;do a=(0,Ht.createId)(i);while(o[a]);return a},e.prototype.__listenAdd=function(t,n){var i=this;t.on("add",function(o,a,l){return i.em.trigger(n,o,l)})},e.prototype.__listenRemove=function(t,n){var i=this;t.on("remove",function(o,a,l){return i.em.trigger(n,o,l)})},e.prototype.__listenUpdate=function(t,n){var i=this;t.on("change",function(o,a){return i.em.trigger(n,o,o.changedAttributes(),a)})},e.prototype.__destroy=function(){var t;this.cls.forEach(function(n){n.stopListening(),n.reset()}),(t=this.view)===null||t===void 0||t.remove(),this.view=void 0},e}(s2),a5=function(){return{stylePrefix:"cv-",scripts:[],styles:[],customBadgeLabel:void 0,autoscrollLimit:50,extHl:!1,frameContent:"<!DOCTYPE html>",frameStyle:`
    body { background-color: #fff }
    * ::-webkit-scrollbar-track { background: rgba(0, 0, 0, 0.1) }
    * ::-webkit-scrollbar-thumb { background: rgba(255, 255, 255, 0.2) }
    * ::-webkit-scrollbar { width: 10px }
  `,notTextable:["button","a","input[type=checkbox]","input[type=radio]"],allowExternalDrop:!0}};const s5=a5;var Ps=Ye(7058),l5=function(){return{default:"",devices:[{id:"desktop",name:"Desktop",width:""},{id:"tablet",name:"Tablet",width:"770px",widthMedia:"992px"},{id:"mobileLandscape",name:"Mobile landscape",width:"568px",widthMedia:"768px"},{id:"mobilePortrait",name:"Mobile portrait",width:"320px",widthMedia:"480px"}]}};const u5=l5;var c5=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),f5=function(r){c5(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.defaults=function(){return{name:"",width:null,height:"",widthMedia:null,priority:null}},e.prototype.initialize=function(){var t=this;this.get("widthMedia")===null&&this.set("widthMedia",this.get("width")),this.get("width")===null&&this.set("width",this.get("widthMedia")),!this.get("priority")&&this.set("priority",parseFloat(this.get("widthMedia"))||0);var n=["width","height","widthMedia"];n.forEach(function(i){return t.checkUnit(i)})},e.prototype.checkUnit=function(t){var n=this.get(t)||"",i=(parseFloat(n)||0).toString()===n.toString();i&&this.set(t,"".concat(n,"px"))},e.prototype.getName=function(){return this.get("name")||this.get("id")},e.prototype.getWidthMedia=function(){return this.get("widthMedia")||""},e}(ne.Kx);const l2=f5;var d5=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),u2=function(r){d5(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e}(ne.pM);const qx=u2;u2.prototype.model=l2;var h5=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),p5=function(r,e){return Object.defineProperty?Object.defineProperty(r,"raw",{value:e}):r.raw=e,r},v5=function(r){h5(e,r);function e(t){var n=r.call(this,t)||this;return n.config=t.config||{},n.em=n.config.em,n.ppfx=n.config.pStylePrefix||"",n.listenTo(n.em,"change:device",n.updateSelect),n}return e.prototype.template=function(t){var n=t.ppfx,i=t.label;return yi(Gx||(Gx=p5([`
      <div class="`,'device-label">',`</div>
      <div class="`,"field ",`select">
        <span id="`,`input-holder">
          <select class="`,`devices"></select>
        </span>
        <div class="`,`sel-arrow">
          <div class="`,`d-s-arrow"></div>
        </div>
      </div>
      <button style="display:none" class="`,`add-trasp" data-add-trasp>+</button>
    `],[`
      <div class="`,'device-label">',`</div>
      <div class="`,"field ",`select">
        <span id="`,`input-holder">
          <select class="`,`devices"></select>
        </span>
        <div class="`,`sel-arrow">
          <div class="`,`d-s-arrow"></div>
        </div>
      </div>
      <button style="display:none" class="`,`add-trasp" data-add-trasp>+</button>
    `])),n,i,n,n,n,n,n,n,n)},e.prototype.events=function(){return{change:"updateDevice","click [data-add-trasp]":"startAdd"}},e.prototype.startAdd=function(){},e.prototype.updateDevice=function(){var t=this.em;if(t){var n=this.devicesEl;t.set("device",n?n.val():"")}},e.prototype.updateSelect=function(){var t=this,n=t.em,i=t.devicesEl;if(n&&n.getDeviceModel&&i){var o=n.getDeviceModel();i.val(o?o.get("id"):"")}},e.prototype.getOptions=function(){var t=this,n=t.collection,i=t.em,o="";return n.forEach(function(a){var l=a.attributes,u=l.name,c=l.id,d=i&&i.t&&i.t("deviceManager.devices.".concat(c))||u;o+='<option value="'.concat(c||u,'">').concat(d,"</option>")}),o},e.prototype.render=function(){var t=this,n=t.em,i=t.ppfx,o=t.$el,a=t.el,l=n&&n.t&&n.t("deviceManager.device");return o.html(this.template({ppfx:i,label:l})),this.devicesEl=o.find(".".concat(i,"devices")),this.devicesEl.append(this.getOptions()),this.devicesEl.val(n.get("device")),a.className="".concat(i,"devices-c"),this},e}(ne.Ss);const g5=v5;var Gx,m5=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),zf=function(){return zf=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},zf.apply(this,arguments)},c2="device",Yg="".concat(c2,":"),y5="".concat(Yg,"select"),f2="".concat(Yg,"update"),_5="".concat(Yg,"add"),d2="".concat(Yg,"remove"),b5="".concat(d2,":before"),w5="change:device",S5={all:c2,select:y5,update:f2,add:_5,remove:d2,removeBefore:b5},C5=function(r){m5(e,r);function e(t){var n,i=r.call(this,t,"DeviceManager",new qx,S5,u5())||this;return i.Device=l2,i.Devices=qx,i.storageKey="",i.devices=i.all,(n=i.config.devices)===null||n===void 0||n.forEach(function(o){return i.add(o,{silent:!0})}),i.select(i.config.default||i.devices.at(0)),t.on(w5,i._onSelect,i),i}return e.prototype._onSelect=function(t,n,i){var o=this,a=o.em,l=o.events,u=t.previous("device"),c=this.get(n),d=l.select;a.trigger(d,c,this.get(u)),this.__catchAllEvent(d,c,i)},e.prototype.add=function(t,n){n===void 0&&(n={});var i,o=n;if((0,z.isString)(t)){var a=n;o=arguments[2]||{},i=zf(zf({},o),{id:t,name:o.name||t,width:a})}else i=t;return i.id||(i.id=i.name||this._createId()),this.devices.add(i,o)},e.prototype.get=function(t){var n=this.getAll().filter(function(i){return i.get("name")===t})[0];return n||this.devices.get(t)||null},e.prototype.remove=function(t,n){return n===void 0&&(n={}),this.__remove(t,n)},e.prototype.getDevices=function(){return this.devices.models},e.prototype.select=function(t,n){n===void 0&&(n={});var i=(0,z.isString)(t)?this.get(t):t;return i&&this.em.set("device",i.get("id"),n),this},e.prototype.getSelected=function(){return this.get(this.em.get("device"))},e.prototype.getAll=function(){return this.devices},e.prototype.render=function(){var t,n=this.em;return(t=this.view)===null||t===void 0||t.remove(),this.view=new g5({collection:this.devices,config:zf({em:n},this.config)}),this.view.render().el},e.prototype.destroy=function(){this.__destroy()},e}(Ra);const x5=C5;var f_;(function(r){r.add="page:add",r.addBefore="page:add:before",r.remove="page:remove",r.removeBefore="page:remove:before",r.select="page:select",r.selectBefore="page:select:before",r.update="page:update",r.all="page"})(f_||(f_={}));const d_=f_;var O5=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),E5=function(r){O5(e,r);function e(t,n,i){return r.call(this,n,{module:t,modelConstructor:i})||this}return e.prototype.add=function(t,n){var i=this,o,a=(0,z.isArray)(t)?t:(0,z.isUndefined)(t)?void 0:[t];return a=(o=a==null?void 0:a.map(function(l){return l instanceof i.newModel?l:new i.newModel(i.module,l)}))!==null&&o!==void 0?o:[void 0],r.prototype.add.call(this,(0,z.isArray)(t)?a:a[0],n)},e.prototype.preinitialize=function(t,n){this.newModel=n.modelConstructor,this.module=n.module},e}(ne.pM);const Xg=E5;var T5=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),h_=function(){return h_=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},h_.apply(this,arguments)},Yx=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))},Xx="__aw",Zx="__ah",$x=function(r,e){var t,n=r.get(e),i=(t=r.view)===null||t===void 0?void 0:t.el[e==="width"?"offsetWidth":"offsetHeight"];return(0,z.isNumber)(n)?n:(0,z.isString)(n)&&n.endsWith("px")?parseFloat(n):i||0},A5=function(r){T5(e,r);function e(t,n){var i=r.call(this,t,n)||this,o=i.em,a=i.attributes,l=a.styles,u=a.component,c=o.Components,d=c.getConfig(),h=o.Css.getAll(),g={},m={em:o,config:d,frame:i,idMap:g};if(!(0,Ht.isComponent)(u)){var b=(0,Ht.isObject)(u)?u:{components:u};!b.type&&(b.type="wrapper");var w=c.getType("wrapper").model;i.set("component",new w(b,m))}if(!l)i.set("styles",h);else if(!(0,Ht.isObject)(l)){var x=l;(0,z.keys)(g).length&&(x=(0,z.isString)(x)?o.Parser.parseCss(x):x,o.Css.checkId(x,{idMap:g})),h.add(x),i.set("styles",h)}return!n.width&&i.set(Xx,1),!n.height&&i.set(Zx,1),!i.id&&i.set("id",(0,Ht.createId)()),i}return e.prototype.defaults=function(){return{x:0,y:0,changesCount:0,attributes:{},width:null,height:null,head:[],component:"",styles:"",refFrame:null,_undo:!0,_undoexc:["changesCount"]}},Object.defineProperty(e.prototype,"width",{get:function(){return $x(this,"width")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return $x(this,"height")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"head",{get:function(){return this.get("head")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"refFrame",{get:function(){return this.get("refFrame")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){var t=this.refFrame;return(t==null?void 0:t.getComponent())||this.getComponent()},enumerable:!1,configurable:!0}),e.prototype.initRefs=function(){var t=this.refFrame;if((0,z.isString)(t)){var n=this.module.framesById[t];n&&this.set({refFrame:n},{silent:!0})}},e.prototype.getBoxRect=function(){var t=this.attributes,n=t.x,i=t.y,o=this,a=o.width,l=o.height;return{x:n,y:i,width:a,height:l}},e.prototype.onRemove=function(){!this.refFrame&&this.getComponent().remove({root:1})},e.prototype.changesUp=function(t){t===void 0&&(t={}),!(t.temporary||t.noCount||t.avoidStore)&&this.set("changesCount",this.get("changesCount")+1)},e.prototype.getComponent=function(){return this.get("component")},e.prototype.getStyles=function(){return this.get("styles")},e.prototype.disable=function(){this.trigger("disable")},e.prototype.remove=function(){var t;(t=this.view)===null||t===void 0||t.remove(),this.view=void 0;var n=this.collection;return n&&n.remove(this)},e.prototype.getHead=function(){return Yx([],this.head,!0)},e.prototype.setHead=function(t){return this.set("head",Yx([],t,!0))},e.prototype.addHeadItem=function(t){this.head.push(t)},e.prototype.getHeadByAttr=function(t,n,i){return this.head.filter(function(o){return o.attributes&&o.attributes[t]==n&&(!i||i===o.tag)})[0]},e.prototype.removeHeadByAttr=function(t,n,i){var o=this.getHeadByAttr(t,n,i),a=this.head.indexOf(o);a>=0&&this.head.splice(a,1)},e.prototype.addLink=function(t){var n="link";!this.getHeadByAttr("href",t,n)&&this.addHeadItem({tag:n,attributes:{href:t,rel:"stylesheet"}})},e.prototype.removeLink=function(t){this.removeHeadByAttr("href",t,"link")},e.prototype.addScript=function(t){var n="script";!this.getHeadByAttr("src",t,n)&&this.addHeadItem({tag:n,attributes:{src:t}})},e.prototype.removeScript=function(t){this.removeHeadByAttr("src",t,"script")},e.prototype.getPage=function(){var t;return(t=this.collection)===null||t===void 0?void 0:t.page},e.prototype._emitUpdated=function(t){t===void 0&&(t={}),this.em.trigger("frame:updated",h_({frame:this},t))},e.prototype.hasAutoHeight=function(){var t=this.attributes.height;return!!(t==="auto"||this.config.infiniteCanvas)},e.prototype.toJSON=function(t){t===void 0&&(t={});var n=Ps.A.prototype.toJSON.call(this,t),i=(0,z.result)(this,"defaults");return t.fromUndo&&delete n.component,delete n.styles,delete n.changesCount,n[Xx]&&delete n.width,n[Zx]&&delete n.height,n.refFrame&&(n.refFrame=n.refFrame.id,delete n.component),(0,z.forEach)(n,function(o,a){a.indexOf("_")===0&&delete n[a]}),(0,z.forEach)(i,function(o,a){n[a]===o&&delete n[a]}),(0,z.forEach)(["attributes","head"],function(o){(0,z.isEmpty)(n[o])&&delete n[o]}),n},e}(Ps.A);const h2=A5;var D5=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),k5=function(r){D5(e,r);function e(t,n){n===void 0&&(n=[]);var i=r.call(this,t,n,h2)||this;return i.loadedItems=0,i.itemsToLoad=0,(0,z.bindAll)(i,"itemLoaded"),i.on("add",i.onAdd),i.on("reset",i.onReset),i.on("remove",i.onRemove),i.forEach(function(o){return i.onAdd(o)}),i}return e.prototype.onAdd=function(t){this.module.framesById[t.id]=t},e.prototype.onReset=function(t,n){var i=this,o=(n==null?void 0:n.previousModels)||[];o.map(function(a){return i.onRemove(a)})},e.prototype.onRemove=function(t){t.onRemove(),delete this.module.framesById[t.id]},e.prototype.initRefs=function(){this.forEach(function(t){return t.initRefs()})},e.prototype.itemLoaded=function(){this.loadedItems++,this.loadedItems>=this.itemsToLoad&&(this.trigger("loaded:all"),this.listenToLoadItems(!1))},e.prototype.listenToLoad=function(){this.loadedItems=0,this.itemsToLoad=this.length,this.listenToLoadItems(!0)},e.prototype.listenToLoadItems=function(t){var n=this;this.forEach(function(i){return i[t?"on":"off"]("loaded",n.itemLoaded)})},e}(Xg);const p2=k5;var P5=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),M5=function(r){P5(e,r);function e(t){var n=this,i=t.em,o=t.config,a=o.scripts,l=o.styles;return n=r.call(this,t,{scripts:a,styles:l})||this,n.set("frames",new p2(t)),n.on("change:zoom",n.onZoomChange),n.on("change:x change:y",n.onCoordsChange),n.on("change:pointer change:pointerScreen",n.onPointerChange),n.listenTo(i,"change:device ".concat(f2),n.updateDevice),n.listenTo(i,d_.select,n._pageUpdated),n}return e.prototype.defaults=function(){return{frame:"",frames:[],rulers:!1,zoom:100,x:0,y:0,scripts:[],styles:[],pointer:ne.lK,pointerScreen:ne.lK}},Object.defineProperty(e.prototype,"frames",{get:function(){return this.get("frames")},enumerable:!1,configurable:!0}),e.prototype.init=function(){var t=this.em,n=t.Pages._initPage();this.set("frames",n.getFrames()),this.updateDevice({frame:n.getMainFrame()})},e.prototype._pageUpdated=function(t,n){var i=this.em;i.setSelected(),i.get("readyCanvas")&&i.stopDefault(),n==null||n.getFrames().map(function(o){return o.disable()}),this.set("frames",t.getFrames()),this.updateDevice({frame:t.getMainFrame()})},e.prototype.updateDevice=function(t){t===void 0&&(t={});var n=this.em,i=n.getDeviceModel(),o=t.frame||n.getCurrentFrameModel();if(o&&i){var a=i.attributes,l=a.width,u=a.height,c=a.minHeight;o.set({width:l,height:u,minHeight:c},{noUndo:1})}},e.prototype.onZoomChange=function(t,n,i){var o=this,a=o.em,l=o.module,u=this.get("zoom");u<1&&this.set("zoom",1),a.trigger(l.events.zoom,{options:i})},e.prototype.onCoordsChange=function(){var t=this,n=t.em,i=t.module;n.trigger(i.events.coords)},e.prototype.onPointerChange=function(){var t=this,n=t.em,i=t.module;n.trigger(i.events.pointer)},e.prototype.getPointerCoords=function(t){t===void 0&&(t=ne.x2.World);var n=this.attributes,i=n.pointer,o=n.pointerScreen;return t===ne.x2.World?i:o},e}(Ps.A);const R5=M5;var lo=Ye(179),mn=Ye(2225),L5=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),N5=function(r){L5(e,r);function e(t,n){n===void 0&&(n=[]);var i=r.call(this,t,n,lo.A)||this;i.on("add",i.onAdd),i.on("change",i.onChange),i.on("remove",i.onRemove);var o=i.em;i.refreshDbn=(0,z.debounce)(function(){return i.refresh()},0);var a="".concat(mn.I.resize," styleable:change component:input ").concat(mn.I.update," frame:updated undo redo");return i.listenTo(o,a,function(){return i.refreshDbn()}),i}return Object.defineProperty(e.prototype,"em",{get:function(){return this.module.em},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"events",{get:function(){return this.module.events},enumerable:!1,configurable:!0}),e.prototype.refresh=function(){var t=this,n=t.em,i=t.events;n.trigger(i.spot)},e.prototype.onAdd=function(t){this.__trgEvent(this.events.spotAdd,{spot:t})},e.prototype.onChange=function(t){this.__trgEvent(this.events.spotUpdate,{spot:t})},e.prototype.onRemove=function(t){this.__trgEvent(this.events.spotRemove,{spot:t})},e.prototype.__trgEvent=function(t,n){var i=this.module,o=i.em;o.trigger(t,n),this.refreshDbn()},e}(Xg);const j5=N5;var fv;(function(r){r.dragEnter="canvas:dragenter",r.dragOver="canvas:dragover",r.dragEnd="canvas:dragend",r.dragData="canvas:dragdata",r.drop="canvas:drop",r.spot="canvas:spot",r.spotAdd="canvas:spot:add",r.spotUpdate="canvas:spot:update",r.spotRemove="canvas:spot:remove",r.coords="canvas:coords",r.zoom="canvas:zoom",r.pointer="canvas:pointer",r.refresh="canvas:refresh",r.frameLoad="canvas:frame:load",r.frameLoadHead="canvas:frame:load:head",r.frameLoadBody="canvas:frame:load:body"})(fv||(fv={}));const wp=fv;var I5=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),V5=function(r){I5(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"pfx",{get:function(){return this.ppfx+this.config.stylePrefix||""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ppfx",{get:function(){return this.em.config.stylePrefix||""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"module",{get:function(){var t,n;return(n=(t=this.model)===null||t===void 0?void 0:t.module)!==null&&n!==void 0?n:this.collection.module},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"em",{get:function(){return this.module.em},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"config",{get:function(){return this.module.config},enumerable:!1,configurable:!0}),e.prototype.preinitialize=function(t){this.className=""},e}(ne.Ss);const ho=V5;var le=Ye(6294),U5=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),B5=function(r){U5(e,r);function e(t,n){t===void 0&&(t={}),n===void 0&&(n=!1);var i=r.call(this,t)||this;return i.itemsView="",i.itemType="type",i.reuseView=!1,i.viewCollection=[],n&&i.listenTo(i.collection,"add",i.addTo),i}return e.prototype.addTo=function(t){this.add(t)},e.prototype.itemViewNotFound=function(t){},e.prototype.add=function(t,n){var i=this,o=i.reuseView,a=i.viewCollection,l=n||null,u=t.get(this.itemType),c;t.view&&o?c=t.view:c=this.renderView(t,u),a.push(c);var d=c.render().el;l?l.appendChild(d):this.$el.append(d)},e.prototype.render=function(){var t=this,n=document.createDocumentFragment();return this.clearItems(),this.$el.empty(),this.collection.length&&this.collection.each(function(i){return t.add(i,n)}),this.$el.append(n),this.onRender(),this},e.prototype.onRender=function(){},e.prototype.onRemoveBefore=function(t,n){},e.prototype.onRemove=function(t,n){},e.prototype.remove=function(t){t===void 0&&(t={});var n=this.viewCollection;return this.onRemoveBefore(n,t),this.clearItems(),ne.Ss.prototype.remove.apply(this,t),this.onRemove(n,t),this},e.prototype.clearItems=function(){this.viewCollection},e}(ho);const F5=B5;var z5=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),H5=function(r){z5(e,r);function e(t){t===void 0&&(t={});var n=r.call(this,t)||this;n.config=t.config||{};var i=n.model;return n.listenTo(i,"change",n.render),n.listenTo(i,"destroy remove",n.remove),n.listenTo(i.get("selectors"),"change",n.render),i.setView(n),n}return Object.defineProperty(e.prototype,"frameView",{get:function(){return this.config.frameView},enumerable:!1,configurable:!0}),e.prototype.remove=function(){return r.prototype.remove.call(this),this.model.removeView(this),this},e.prototype.updateStyles=function(){this.render()},e.prototype.tagName=function(){return"style"},e.prototype.render=function(){var t=this,n=t.model,i=t.el,o=n.get("important");return i.innerHTML=n.toCSS({important:o}),this},e}(ne.Ss);const v2=H5;var W5=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),K5=function(r){W5(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype._createElement=function(){return document.createTextNode("")},e.prototype.render=function(){var t=this.model,n=t.get("important");return this.el.textContent=t.getDeclaration({important:n}),this},e}(v2);const q5=K5;var G5=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Cy=function(r,e){return"".concat(r).concat(e?"-".concat(parseFloat(e)):"")},Y5=function(r){G5(e,r);function e(t){var n=r.call(this,t)||this;(0,z.bindAll)(n,"sortRules");var i=t.config||{};n.atRules={},n.config=i,n.em=i.em,n.pfx=i.stylePrefix||"",n.className=n.pfx+"rules";var o=n.collection;return n.listenTo(o,"add",n.addTo),n.listenTo(o,"reset",n.render),n}return e.prototype.addTo=function(t){this.addToCollection(t)},e.prototype.addToCollection=function(t,n){if(this.renderStarted){var i=n||null,o=this.config,a={model:t,config:o},l,u;if(t.get("atRuleType")==="keyframes"){var c=t.getAtRule(),d=this.atRules[c];if(!d){var h=document.createElement("style");d=document.createTextNode(""),h.appendChild(document.createTextNode("".concat(c,"{"))),h.appendChild(d),h.appendChild(document.createTextNode("}")),this.atRules[c]=d,l=h}u=new q5(a),d.appendData(u.render().el.textContent)}else u=new v2(a),l=u.render().el;var g=this.className,m=t.get("mediaText"),b=Cy(g),w=b;if(m&&(w=Cy(g,this.getMediaWidth(m))),l){var x=i||this.el,_=void 0;try{_=x.querySelector("#".concat(w))}catch{}_||(_=x.querySelector("#".concat(b))),_==null||_.appendChild(l)}return l}},e.prototype.getMediaWidth=function(t){return t&&t.replace("(".concat(this.em.getConfig().mediaCondition,": "),"").replace(")","")},e.prototype.sortRules=function(t,n){var i=this.em,o=(i.getConfig().mediaCondition||"").indexOf("min-width")!==-1;if(!o)return 0;var a=o?t:n,l=o?n:t;return a-l},e.prototype.render=function(){var t=this;this.renderStarted=!0,this.atRules={};var n=this,i=n.em,o=n.$el,a=n.collection,l=this.className,u=document.createDocumentFragment();o.empty();var c=i.Devices.getAll().pluck("priority").sort(this.sortRules);return c.every(function(d){return d})&&c.unshift(0),c.forEach(function(d){return u.appendChild((0,le.a_)("div",{id:Cy(l,d)}))}),a.each(function(d){return t.addToCollection(d,u)}),o.append(u),o.attr("class",l),this},e}(ne.Ss);const g2=Y5;var m2="text/html",X5=m2;const Z5=function(r,e){e===void 0&&(e={});var t=new DOMParser,n=e.htmlType||X5,i=n===m2,o=i?r:"<div>".concat(r,"</div>"),a=t.parseFromString(o,n),l;if(i){if(e.asDocument)return a;var u=a.head,c=a.body,d=u.querySelectorAll("script");(0,z.each)(d,function(g){return c.appendChild(g)});var h=[];(0,z.each)(u.children,function(g){return h.push(g)}),(0,z.each)(h,function(g,m){return c.insertBefore(g,c.children[m])}),l=c}else l=a.firstChild;return l};var Es;(function(r){r.html="parse:html",r.htmlRoot="parse:html:root",r.htmlBefore="parse:html:before",r.css="parse:css",r.cssBefore="parse:css:before",r.all="parse"})(Es||(Es={}));var Co=function(){return Co=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Co.apply(this,arguments)},$5="data-gjs-",J5=function(r,e){return e===void 0&&(e={}),{compTypes:[],modelAttrStart:$5,getPropAttribute:function(t,n){var i=t.replace(this.modelAttrStart,""),o=(n==null?void 0:n.length)||0,a=n==null?void 0:n.substring(0,1),l=n==null?void 0:n.substring(o-1),u=n==="true"?!0:n==="false"?!1:n;try{u=a=="{"&&l=="}"||a=="["&&l=="]"?JSON.parse(u):u}catch{}return{name:i,value:u}},splitPropsFromAttr:function(t){var n=this;t===void 0&&(t={});var i={},o={};return(0,z.each)(t,function(a,l){if(l.indexOf(n.modelAttrStart)===0){var u=n.getPropAttribute(l,a);i[u.name]=u.value}else o[l]=a}),{props:i,attrs:o}},parseStyle:function(t){for(var n={};t.indexOf("/*")>=0;){var i=t.indexOf("/*"),o=t.indexOf("*/")+2;t=t.replace(t.slice(i,o),"")}for(var a=t.split(";"),l=0,u=a.length;l<u;l++){var c=a[l].trim();if(c){var d=c.split(":"),h=d[0].trim(),g=d.slice(1).join(":").trim();n[h]?((0,z.isArray)(n[h])||(n[h]=[n[h]]),n[h].push(g)):n[h]=g}}return n},parseClass:function(t){for(var n=[],i=t.split(" "),o=0,a=i.length;o<a;o++){var l=i[o].trim();l&&n.push(l)}return n},parseNodeAttr:function(t,n){for(var i,o,a=n||{},l=t.attributes||[],u=l.length,c=!!(!((i=e==null?void 0:e.optionsHtml)===null||i===void 0)&&i.convertDataGjsAttributesHyphens),d=c&&!!a.type&&(0,z.result)((o=r==null?void 0:r.Components.getType(a.type))===null||o===void 0?void 0:o.model.prototype,"defaults")||{},h=0;h<u;h++){var g=l[h].nodeName,m=l[h].nodeValue;if(g=="style")a.style=this.parseStyle(m);else if(g=="class")a.classes=this.parseClass(m);else{if(g=="contenteditable")continue;if(g.indexOf(this.modelAttrStart)===0){var b=this.getPropAttribute(g,m),w=b.name;if(c&&!(w in d)){var x=(0,le._I)(w);w=x in d?x:w}a[w]=b.value}else m===""&&t[g]===!0&&(m=!0),a.attributes||(a.attributes={}),a.attributes[g]=m}}return a},detectNode:function(t,n){var i;n===void 0&&(n={});var o=this.compTypes,a={};if(o){var l=(i=t.getAttribute)===null||i===void 0?void 0:i.call(t,"".concat(this.modelAttrStart,"type"));if(l)a={type:l};else for(var u=0;u<o.length;u++){var c=o[u],d=c.model.isComponent(t,n);if(d){typeof d!="object"&&(d={type:c.id}),a=d;break}}}return a},parseNode:function(t,n){var i;n===void 0&&(n={});var o=((i=t.content)===null||i===void 0?void 0:i.childNodes)||t.childNodes,a=o.length,l=this.detectNode(t,n);if(!l.tagName){var u=t.tagName||"",c=t.namespaceURI||"";l.tagName=u&&c==="http://www.w3.org/1999/xhtml"?u.toLowerCase():u}if(l=this.parseNodeAttr(t,l),!a&&"".concat(t.outerHTML).slice(-2)==="/>"&&(l.void=!0),a&&!l.components&&!n.skipChildren){var d=o[0];a===1&&d.nodeType===3?(!l.type&&(l.type="text"),l.components={type:"textnode",content:d.nodeValue}):l.components=this.parseNodes(t,Co(Co({},n),{inSvg:n.inSvg||l.type==="svg"}))}var h=l.components;if(!l.type&&(h!=null&&h.length)){for(var g=e.textTypes,m=g===void 0?[]:g,b=e.textTags,w=b===void 0?[]:b,x=!0,_=!1,C=0;C<h.length;C++){var O=h[C],A=O.type;if(!m.includes(A)&&!w.includes(O.tagName)){x=!1;break}A==="textnode"&&(_=!0)}x&&_&&(l.type="text")}return l},parseNodes:function(t,n){var i;n===void 0&&(n={});for(var o=[],a=((i=t.content)===null||i===void 0?void 0:i.childNodes)||t.childNodes,l=a.length,u=0;u<l;u++){var c=a[u],d=o[o.length-1],h=this.parseNode(c,n);if(h.type==="textnode"){if((d==null?void 0:d.type)==="textnode"){d.content+=h.content;continue}if(!n.keepEmptyTextNodes){var g=c.nodeValue||"",m=u===0||u===l-1,b=g.includes(`
`);if(g!=" "&&!g.trim()&&(m||b))continue}}!h.tagName&&(0,z.isUndefined)(h.content)||o.push(h)}return o},parse:function(t,n,i){var o,a,l;i===void 0&&(i={});var u=(r==null?void 0:r.get("Config"))||{},c=r==null?void 0:r.Parser,d={html:[]},h=Co(Co({},e),i),g=Co(Co(Co({},e.optionsHtml),{htmlType:((o=e.optionsHtml)===null||o===void 0?void 0:o.htmlType)||e.htmlType}),i),m=Co(Co({},g),{asDocument:this.__checkAsDocument(t,g)}),b=m.preParser,w=m.asDocument,x={input:(0,z.isFunction)(b)?b(t,{editor:r==null?void 0:r.getEditor()}):t};c==null||c.__emitEvent(Es.htmlBefore,x);var _=x.input,C=(0,z.isFunction)(h.parserHtml)?h.parserHtml(_,m):Z5(_,m),O=C,A=C;w&&(O=A.documentElement,d.doctype=(0,le.LJ)(A.doctype));var I=O.querySelectorAll("script"),Q=I.length,$=(0,z.isUndefined)(u.allowScripts)?m.allowScripts:u.allowScripts;if(!$)for(;Q--;)(a=I[Q].parentNode)===null||a===void 0||a.removeChild(I[Q]);if((!m.allowUnsafeAttr||!m.allowUnsafeAttrValue)&&this.__sanitizeNode(O,m),n){for(var Z=O.querySelectorAll("style"),P=Z.length,tt="";P--;)tt=Z[P].innerHTML+tt,(l=Z[P].parentNode)===null||l===void 0||l.removeChild(Z[P]);tt&&(d.css=n.parse(tt))}c==null||c.__emitEvent(Es.htmlRoot,{input:_,root:O});var H=[];if(w)d.head=this.parseNode(A.head,h),d.root=this.parseNodeAttr(O),H=this.parseNode(A.body,h);else{var k=this.parseNodes(O,h);H=k.length===1&&!h.returnArray?k[0]:k}return d.html=H,c==null||c.__emitEvent(Es.html,{input:_,output:d,options:m}),d},__sanitizeNode:function(t,n){var i=this,o=t.attributes||[],a=t.childNodes||[],l=[];(0,z.each)(o,function(u){var c=u.nodeName||"",d=u.nodeValue||"";!n.allowUnsafeAttr&&c.startsWith("on")&&l.push(c),!n.allowUnsafeAttrValue&&d.startsWith("javascript:")&&l.push(c)}),l.map(function(u){return t.removeAttribute(u)}),(0,z.each)(a,function(u){return i.__sanitizeNode(u,n)})},__checkAsDocument:function(t,n){if((0,Ht.isDef)(n.asDocument))return n.asDocument;if((0,z.isFunction)(n.detectDocument))return!!n.detectDocument(t);if(n.detectDocument)return t.toLowerCase().trim().startsWith("<!doctype")}}};const y2=J5;var uc;(function(r){r.add="data:add",r.addBefore="data:add:before",r.remove="data:remove",r.removeBefore="data:remove:before",r.update="data:update",r.path="data:path",r.all="data"})(uc||(uc={}));var p_="data-collection",Hf="data-collection-item",lu="dataResolver",Jx=function(){function r(e,t,n){this.operator=e,this.statements=t,this.opts=n}return r.prototype.evaluate=function(){var e=this,t=this.statements.map(function(n){var i=new _2({condition:n},e.opts);return i.evaluate()});return this.operator.evaluate(t)},r}(),Zg=function(){function r(e,t){this.operationString=e,this.em=t.em}return r.prototype.getOperations=function(){return g4(this.operationsEnum)},r}(),Q5=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),dv;(function(r){r.equals="equals",r.isTruthy="isTruthy",r.isFalsy="isFalsy",r.isDefined="isDefined",r.isNull="isNull",r.isUndefined="isUndefined",r.isArray="isArray",r.isObject="isObject",r.isString="isString",r.isNumber="isNumber",r.isBoolean="isBoolean",r.isDefaultValue="isDefaultValue"})(dv||(dv={}));var t4=function(r){Q5(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.operationsEnum=dv,t}return e.prototype.evaluate=function(t,n){var i;switch(this.operationString){case"equals":return t===n;case"isTruthy":return!!t;case"isFalsy":return!t;case"isDefined":return t!=null;case"isNull":return t===null;case"isUndefined":return t===void 0;case"isArray":return Array.isArray(t);case"isObject":return typeof t=="object"&&t!==null;case"isString":return typeof t=="string";case"isNumber":return typeof t=="number";case"isBoolean":return typeof t=="boolean";case"isDefaultValue":return t instanceof kl&&t.get("defaultValue")===n;default:return(i=this.em)===null||i===void 0||i.logWarning("Unsupported generic operation: ".concat(this.operationString)),!1}},e}(Zg),e4=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Su;(function(r){r.and="and",r.or="or",r.xor="xor"})(Su||(Su={}));var n4=function(r){e4(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.operationsEnum=Su,t}return e.prototype.evaluate=function(t){if(!(t!=null&&t.length))return!1;switch(this.operationString){case Su.and:return t.every(Boolean);case Su.or:return t.some(Boolean);case Su.xor:return t.filter(Boolean).length===1;default:return this.em.logWarning("Unsupported boolean operation: ".concat(this.operationString)),!1}},e}(Zg),r4=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),fa;(function(r){r.greaterThan=">",r.lessThan="<",r.greaterThanOrEqual=">=",r.lessThanOrEqual="<=",r.equals="=",r.notEquals="!="})(fa||(fa={}));var i4=function(r){r4(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.operationsEnum=fa,t}return e.prototype.evaluate=function(t,n){if(typeof t!="number")return!1;switch(this.operationString){case fa.greaterThan:return t>n;case fa.lessThan:return t<n;case fa.greaterThanOrEqual:return t>=n;case fa.lessThanOrEqual:return t<=n;case fa.equals:return t===n;case fa.notEquals:return t!==n;default:return this.em.logWarning("Unsupported number operation: ".concat(this.operationString)),!1}},e}(Zg),o4=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Oo;(function(r){r.contains="contains",r.startsWith="startsWith",r.endsWith="endsWith",r.matchesRegex="matchesRegex",r.equalsIgnoreCase="equalsIgnoreCase",r.trimEquals="trimEquals"})(Oo||(Oo={}));var a4=function(r){o4(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.operationsEnum=Oo,t}return e.prototype.evaluate=function(t,n){if(typeof t!="string")return!1;switch(this.operationString){case Oo.contains:return t.includes(n);case Oo.startsWith:return t.startsWith(n);case Oo.endsWith:return t.endsWith(n);case Oo.matchesRegex:return n||this.em.logWarning("Regex pattern must be provided."),new RegExp(n??"").test(t);case Oo.equalsIgnoreCase:return t.toLowerCase()===n.toLowerCase();case Oo.trimEquals:return t.trim()===n.trim();default:return this.em.logWarning("Unsupported string operation: ".concat(this.operationString)),!1}},e}(Zg),s4=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),_2=function(r){s4(e,r);function e(t,n){var i,o=r.call(this,t)||this;return o.collectionsStateMap={},o.em=n.em,o.collectionsStateMap=(i=n.collectionsStateMap)!==null&&i!==void 0?i:{},o}return e.prototype.evaluate=function(){var t=this.get("condition");if(!t||(0,z.isBoolean)(t))return!!t;var n=this.getOperator();return n?n.evaluate(this.getResolvedLeftValue(),this.getResolvedRightValue()):!1},e.prototype.getDependentDataVariables=function(){var t=this.get("condition");return t?this.extractDataVariables(t):[]},e.prototype.getOperations=function(){var t=this.getOperator();return!t||t instanceof Jx?[]:t.getOperations()},e.prototype.updateCollectionStateMap=function(t){this.collectionsStateMap=t},e.prototype.getOperator=function(){var t={em:this.em,collectionsStateMap:this.collectionsStateMap},n=this.get("condition");if(!(!n||(0,z.isBoolean)(n))){var i;if(this.isLogicGroup(n)){var o=n.logicalOperator,a=n.statements,l=new n4(o,t);i=new Jx(l,a,t)}if(this.isExpression(n)){var u=n.left,l=n.operator,c=pv(u,t);i=this.resolveOperator(c,l)}return i}},e.prototype.resolveOperator=function(t,n){var i=this.em;if(this.isOperatorInEnum(n,dv))return new t4(n,{em:i});if(typeof t=="number")return new i4(n,{em:i});if(typeof t=="string")return new a4(n,{em:i})},e.prototype.extractDataVariables=function(t){var n=this,i=[];return this.isExpression(t)?(Sl(t.left)&&i.push(t.left),Sl(t.right)&&i.push(t.right)):this.isLogicGroup(t)&&t.statements.forEach(function(o){return i.push.apply(i,n.extractDataVariables(o))}),i},e.prototype.isLogicGroup=function(t){return t&&typeof t.logicalOperator<"u"&&Array.isArray(t.statements)},e.prototype.isExpression=function(t){return t&&typeof t.left<"u"&&typeof t.operator=="string"},e.prototype.isOperatorInEnum=function(t,n){return Object.values(n).includes(t)},e.prototype.resolveExpressionSide=function(t){var n=this.get("condition"),i=this,o=i.em,a=i.collectionsStateMap;if(!n||typeof n=="boolean")return n;if(n&&typeof n=="object"&&t in n){var l=n[t];return pv(l,{em:o,collectionsStateMap:a})}},e.prototype.getResolvedLeftValue=function(){return this.resolveExpressionSide("left")},e.prototype.getResolvedRightValue=function(){return this.resolveExpressionSide("right")},e.prototype.toJSON=function(t){var n=this.get("condition");if(typeof n=="object"){var i=JSON.parse(JSON.stringify(n));return i}return n},e}(ne.Kx),l4=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ms="data-condition",u4="data-condition-evaluation-changed",Sp="data-condition-output-changed",rw=function(r){l4(e,r);function e(t,n){var i,o=r.call(this,t,n)||this;o.collectionsStateMap={},o.resolverListeners=[],o._previousEvaluationResult=null,o.em=n.em,o.collectionsStateMap=(i=n.collectionsStateMap)!==null&&i!==void 0?i:{};var a=t.condition,l=a===void 0?{}:a,u=new _2({condition:l},{em:o.em});return o._conditionEvaluator=u,o.listenToDataVariables(),o.listenToPropsChange(),o}return e.prototype.defaults=function(){return{type:Ms,condition:{left:"",operator:Oo.equalsIgnoreCase,right:""},ifTrue:{},ifFalse:{}}},e.prototype.getCondition=function(){return this._conditionEvaluator.get("condition")},e.prototype.getIfTrue=function(){return this.get("ifTrue")},e.prototype.getIfFalse=function(){return this.get("ifFalse")},e.prototype.getOperations=function(){return this._conditionEvaluator.getOperations()},e.prototype.setCondition=function(t){this.set("condition",t),this._conditionEvaluator.set("condition",t),this.trigger(Sp,this.getDataValue())},e.prototype.setIfTrue=function(t){this.set("ifTrue",t)},e.prototype.setIfFalse=function(t){this.set("ifFalse",t)},e.prototype.isTrue=function(){return this._conditionEvaluator.evaluate()},e.prototype.getDataValue=function(t){t===void 0&&(t=!1);var n=this,i=n.em,o=n.collectionsStateMap,a={em:i,collectionsStateMap:o},l=this.getIfTrue(),u=this.getIfFalse(),c=this.isTrue();return t?c?l:u:pv(c?l:u,a)},e.prototype.resolvesFromCollection=function(){return!1},e.prototype.updateCollectionsStateMap=function(t){this.collectionsStateMap=t,this._conditionEvaluator.updateCollectionStateMap(t),this.listenToDataVariables(),this.emitConditionEvaluationChange()},e.prototype.listenToPropsChange=function(){var t=this;this.on("change:condition",this.handleConditionChange.bind(this)),this.on("change:condition change:ifTrue change:ifFalse",function(){t.listenToDataVariables()})},e.prototype.handleConditionChange=function(){this.setCondition(this.get("condition"))},e.prototype.listenToDataVariables=function(){this.cleanupListeners(),this.setupConditionDataVariableListeners(),this.setupOutputDataVariableListeners()},e.prototype.setupConditionDataVariableListeners=function(){var t=this;this._conditionEvaluator.getDependentDataVariables().forEach(function(n){t.addListener(n,function(){t.emitConditionEvaluationChange()})})},e.prototype.setupOutputDataVariableListeners=function(){var t=this.isTrue();this.setupOutputVariableListener(this.getIfTrue(),t),this.setupOutputVariableListener(this.getIfFalse(),!t)},e.prototype.setupOutputVariableListener=function(t,n){var i=this;Sl(t)&&this.addListener(t,function(){n&&i.trigger(Sp,t)})},e.prototype.addListener=function(t,n){var i=new Cc({em:this.em,resolver:new kl(t,{em:this.em,collectionsStateMap:this.collectionsStateMap}),onUpdate:n});this.resolverListeners.push(i)},e.prototype.emitConditionEvaluationChange=function(){var t=this.isTrue();this._previousEvaluationResult!==t&&(this._previousEvaluationResult=t,this.trigger(u4,t),this.emitOutputValueChange())},e.prototype.emitOutputValueChange=function(){var t=this.getDataValue();this.trigger(Sp,t)},e.prototype.cleanupListeners=function(){this.resolverListeners.forEach(function(t){return t.destroy()}),this.resolverListeners=[]},e.prototype.toJSON=function(){var t=this.getIfTrue(),n=this.getIfFalse();return{type:Ms,condition:this._conditionEvaluator.toJSON(),ifTrue:t,ifFalse:n}},e}(ne.Kx),iw="data-condition-true-content",ow="data-condition-false-content",Lr=function(){return Lr=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Lr.apply(this,arguments)},b2=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))},al=function(r){return(0,z.isArray)(r.get(Zr))},hv=function(r){return!!r.get(gi)},Wo=function(r){return!!(al(r)||hv(r))},wl=function(r){var e=r.parent();return Wo(r)&&(!e||!Wo(e))},hf=function(r){r.__symbReady||(r.on("change",r.__upSymbProps),r.__symbReady=!0)},uo=function(r){var e=r.get(gi);if(e&&(0,z.isString)(e)){var t=r.__getAllById()[e];t?(e=t,r.set(gi,t)):e=0}return e||void 0},bi=function(r){var e=r==null?void 0:r.get(Zr);return e&&(0,z.isArray)(e)&&(e.forEach(function(t,n){t&&(0,z.isString)(t)&&(e[n]=r.__getAllById()[t])}),e=e.filter(function(t){return t&&!(0,z.isString)(t)})),e||void 0},vd=function(r,e){e===void 0&&(e="");var t=r==null?void 0:r.get(xu),n=e.split(":")[0],i=e!==n?[e,n]:[e];return t===!0||(0,z.isArray)(t)&&i.some(function(o){return t.indexOf(o)>=0})},wa=function(r,e){e===void 0&&(e={});var t=[],n=e.changed;if(e.fromInstance||e.noPropagate||e.fromUndo||n&&vd(r,n))return t;var i=bi(r)||[],o=uo(r),a=o?b2([o],bi(o)||[],!0):i;return t=a.filter(function(l){return l!==r}).filter(function(l){return!(n&&vd(l,n))}),t},gd=function(r,e){for(var t=r,n=r.parent(e);n&&Wo(n);)t=n,n=n.parent(e);return t},$g=function(r,e){e===void 0&&(e={});var t=uo(r),n=t&&bi(t);!e.skipRefs&&n&&t.set(Zr,n.filter(function(i){return i!==r})),r.set(gi,0),r.components().forEach(function(i){return $g(i,e)})},Wf=function(r,e,t,n){n===void 0&&(n={});var i=uo(r),o=bi(r);!i&&!o||r.em.log(e,{model:r,toUp:t,context:"symbols",opts:n})},c4=function(r,e){e===void 0&&(e={});var t=r.dataResolverWatchers.getPropsDefsOrValues(Lr({},r.changedAttributes())),n=r.dataResolverWatchers.getAttributesDefsOrValues(Lr({},t.attributes));if(f4(t,n),!(0,Ht.isEmptyObj)(t)){var i=wa(r,e);Qx(t,r),Wf(r,"props",i,{opts:e,changed:t}),i.forEach(function(o){var a=Lr({},t);Qx(a,o),o.set(a,Lr({fromInstance:r},e))})}},f4=function(r,e){var t=["status","open",Zr,gi,xu,"attributes"];t.forEach(function(n){return delete r[n]}),delete e.id,(0,Ht.isEmptyObj)(e)||(r.attributes=e)},Qx=function(r,e){(0,z.keys)(r).forEach(function(t){d4(r,t,e)||delete r[t]})},d4=function(r,e,t){var n=function(){var i;if(e==="attributes"){var o=r.attributes;return Object.values(o).some(function(a){return!!(a!=null&&a.collectionId)})}return!!(!((i=r[e])===null||i===void 0)&&i.collectionId)}();return!vd(t,e)||n},h4=function(r,e){e===void 0&&(e={});var t=wa(r,e);Wf(r,"classes",t,{opts:e}),t.forEach(function(n){n.set("classes",r.get("classes"),{fromInstance:r})}),r.__changesUp(e)},w2=function(r,e,t,n){var i=n||t||{},o=i.fromInstance,a=i.fromUndo,l={fromInstance:o,fromUndo:a},u=e.opt.temporary;if(n)if(n.add){var m=[],b=!!bi(r),d=wa(r,Lr(Lr({},l),{changed:"components:add"}));if(d.length){var w=uo(e);m=bi(w||e)||[],m=b2([],m,!0),m.push(w||e)}!u&&Wf(r,"add",d,{opts:n,addedInstances:m.map(function(Z){return Z.cid}),added:e.cid}),d.forEach(function(Z){var P=gd(Z),tt=m.filter(function(k){var F=gd(k,{prev:1});return P&&F&&F===P})[0],H=tt||e.clone({symbol:!0,symbolInv:b});Z.append(H,Lr({fromInstance:r},n))})}else{var x=uo(e);if(x&&!n.temporary&&x.set(Zr,bi(x).filter(function($){return $!==e})),!wl(e)&&!n.skipRefsUp){var _="components:remove",C=n.index,O=e.parent(),A=Lr({fromInstance:e},n),I=wl(e),Q=function(Z){var P=Z.parent();P&&!vd(P,_)&&Z.remove(A)},d=vd(O,_)?[]:wa(e,l);I&&(d=O&&wa(O,Lr(Lr({},l),{changed:_})),Q=function(Z){var P=Z.components().at(C);P&&P.remove(Lr({fromInstance:O},A))}),!u&&Wf(r,"remove",d,{opts:n,removed:e.cid,isSymbNested:I}),d.forEach(Q)}}else{var c=e,d=wa(r,Lr(Lr({},l),{changed:"components:reset"})),h=c.models,g=new Set;Wf(r,"reset",d,{components:h}),d.forEach(function($){var Z=$.components(),P=h.map(function(tt,H){return r.get(lu)?tt.clone({symbol:Wo(tt)}):!Wo(tt)||g.has(tt)?(g.add(tt),tt.clone({symbol:!0})):Z.at(H)});Z.reset(P,Lr({fromInstance:r},t))})}r.__changesUp(i)};function md(r){return typeof r=="object"&&[zi,Ms].includes(r==null?void 0:r.type)}function p4(r){return r instanceof kl||r instanceof rw}function Sl(r){return(r==null?void 0:r.type)===zi}function pv(r,e){return md(r)?(Sl(r)&&kl.resolveDataResolver(r,e),sw(r,e)):r}function aw(r,e){var t,n=r.type,i;switch(n){case zi:i=new kl(r,e);break;case Ms:{i=new rw(r,e);break}default:(t=e.em)===null||t===void 0||t.logWarning("Unsupported dynamic type: ".concat(n));return}return i}function sw(r,e){var t=aw(r,e);return t==null?void 0:t.getDataValue()}var v4=function(r){return!!r&&[Hf,iw,ow].includes(r)};function g4(r){return Object.keys(r).filter(function(e){return isNaN(Number(e))}).map(function(e){return r[e]})}function m4(r){var e=r.collectionsStateMap;if(!e)return!1;var t=Object.keys(e);if(!t.length)return!1;var n=uo(r);if(!n||n===r)return!1;var i=n.collectionsStateMap,o=Object.keys(i),a=o.every(function(l){return t.includes(l)});return a}function y4(r){var e=uo(r);return e?e.getId():""}function _4(r){var e=m4(r),t=e?y4(r):null;return{shouldSync:e,itemId:t}}var b4=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),vv=function(){return vv=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},vv.apply(this,arguments)},zi="data-variable",w4=function(r){b4(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.em=n.em,i.collectionsStateMap=n.collectionsStateMap,i}return e.prototype.defaults=function(){return{type:zi,defaultValue:"",path:"",collectionId:void 0,variableType:void 0}},Object.defineProperty(e.prototype,"path",{get:function(){var t;return(t=this.get("path"))!==null&&t!==void 0?t:""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultValue",{get:function(){var t;return(t=this.get("defaultValue"))!==null&&t!==void 0?t:""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"collectionId",{get:function(){return this.get("collectionId")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"variableType",{get:function(){return this.get("variableType")},enumerable:!1,configurable:!0}),e.prototype.resolvesFromCollection=function(){return!!this.collectionId},e.prototype.updateCollectionsStateMap=function(t){this.collectionsStateMap=t,this.trigger("change")},e.prototype.getResolverPath=function(){var t;if(this.resolvesFromCollection()){var n=this.resolveCollectionVariable();return Sl(n)?(t=n.path)!==null&&t!==void 0?t:"":!1}return this.path},e.prototype.toJSON=function(t){var n=this.defaults(),i=r.prototype.toJSON.call(this,t),o=Object.fromEntries(Object.entries(i).filter(function(a){var l=a[0],u=a[1];return u!==n[l]}));return vv(vv({},o),{type:zi})},e.prototype.getDataValue=function(){var t={em:this.em,collectionsStateMap:this.collectionsStateMap};return e.resolveDataResolver({path:this.path,defaultValue:this.defaultValue,collectionId:this.collectionId,variableType:this.variableType},t)},e.resolveDataSourceVariable=function(t,n){var i,o;return n.em.DataSources.getValue((i=t.path)!==null&&i!==void 0?i:"",(o=t.defaultValue)!==null&&o!==void 0?o:"")},e.resolveDataResolver=function(t,n){var i,o,a,l;if(t.collectionId){var u=e.resolveCollectionVariable(t,n);return Sl(u)?e.resolveDataSourceVariable({path:(i=u.path)!==null&&i!==void 0?i:"",defaultValue:(o=t.defaultValue)!==null&&o!==void 0?o:""},{em:n.em}):u}return e.resolveDataSourceVariable({path:(a=t.path)!==null&&a!==void 0?a:"",defaultValue:(l=t.defaultValue)!==null&&l!==void 0?l:""},{em:n.em})},e.prototype.resolveCollectionVariable=function(){var t=this,n=t.em,i=t.collectionsStateMap;return e.resolveCollectionVariable(this.attributes,{em:n,collectionsStateMap:i})},e.resolveCollectionVariable=function(t,n){var i=t.collectionId,o=i===void 0?"":i,a=t.variableType,l=t.path,u=t.defaultValue,c=u===void 0?"":u,d=n.em,h=n.collectionsStateMap;if(!h)return c;var g=h[o];return g?a?a==="currentItem"?e.resolveCurrentItem(g,l,o,d):g[a]:(d.logError("Missing collection variable type for collection: ".concat(o)),c):c},e.resolveCurrentItem=function(t,n,i,o){var a=t.currentItem;if(!a)return o.logError("Current item is missing for collection: ".concat(i)),"";if(a.type===zi){var l=a.path?"".concat(a.path,".").concat(n):n;return{type:zi,path:l}}return n&&!a[n]?(o.logError("Path not found in current item: ".concat(n," for collection: ").concat(i)),""):n?a[n]:a},e}(ne.Kx);const kl=w4;var S4=function(){function r(e){var t=this;this.listeners=[],this.model=new ne.Kx,this.onChange=function(){var n=t.resolver.getDataValue();t.onUpdate(n)},this.em=e.em,this.resolver=e.resolver,this.onUpdate=e.onUpdate,this.listenToResolver()}return r.prototype.createListener=function(e,t,n){return n===void 0&&(n=this.onChange),{obj:e,event:t,callback:n}},r.prototype.listenToResolver=function(){var e=this,t=e.resolver,n=e.model;this.removeListeners();var i=[],o=t.attributes.type;switch(o){case zi:i=this.listenToDataVariable(t);break;case Ms:i=this.listenToConditionalVariable(t);break}i.forEach(function(a){return n.listenTo(a.obj,a.event,a.callback)}),this.listeners=i},r.prototype.listenToConditionalVariable=function(e){return[{obj:e,event:Sp,callback:this.onChange}]},r.prototype.listenToDataVariable=function(e){var t=this,n=this.em,i=[];i.push(this.createListener(e,"change",function(){t.listenToResolver(),t.onChange()}));var o=e.getResolverPath();if(!o)return i;var a=(0,Ht.stringToPath)(o||"").join("."),l=n.DataSources.fromPath(o),u=l[0],c=l[1];return u&&i.push(this.createListener(u.records,"add remove reset")),c&&i.push(this.createListener(c,"change")),i.push(this.createListener(n.DataSources.all,"add remove reset"),this.createListener(n,"".concat(uc.path,":").concat(a))),i},r.prototype.removeListeners=function(){var e=this;this.listeners.forEach(function(t){return e.model.stopListening(t.obj,t.event,t.callback)}),this.listeners=[]},r.prototype.destroy=function(){this.removeListeners()},r}();const Cc=S4;var C4=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),da=function(){return da=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},da.apply(this,arguments)},x4=y2(),v_=function(r){return(0,z.isArray)(r)?r[r.length-1]:r},O4=function(r){C4(e,r);function e(t,n){n===void 0&&(n={});var i=r.call(this,t,n)||this;return i.views=[],i.styleResolverListeners={},i.em=n.em,i}return e.prototype.parseStyle=function(t){return x4.parseStyle(t)},e.prototype.extendStyle=function(t){return da(da({},this.getStyle("",{skipResolve:!0})),t)},e.prototype.getStyle=function(t,n){n===void 0&&(n={});var i=this.get("style")||{},o=da({},i);if(this.em&&!n.skipResolve){var a=this.getResolvedStyles(da({},o));return t&&(0,z.isString)(t)?a[t]:a}return t&&(0,z.isString)(t)?o[t]:o},e.prototype.setStyle=function(t,n){var i=this;t===void 0&&(t={}),n===void 0&&(n={}),(0,z.isString)(t)&&(t=this.parseStyle(t));var o=this.getStyle(n);n.partial||n.avoidStore?(n.avoidStore=!0,t.__p=!0):delete t.__p;var a=da({},t),l=da({},a);(0,z.keys)(l).forEach(function(c){if(l[c]===""){delete l[c];return}var d=l[c];if(md(d)){var h=aw(d,{em:i.em,collectionsStateMap:{}});h&&(l[c]=h,i.listenToDataResolver(h,c))}}),this.set("style",l,n);var u=(0,Ht.shallowDiff)(o,l);return delete u.__p,(0,z.keys)(u).forEach(function(c){var d=i.em;n.noEvent||(i.trigger("change:style:".concat(c)),d&&(d.trigger("styleable:change",i,c,n),d.trigger("styleable:change:".concat(c),i,c,n)))}),l},e.prototype.listenToDataResolver=function(t,n){var i=this,o=this.styleResolverListeners[n];o?o.listenToResolver():this.styleResolverListeners[n]=new Cc({em:this.em,resolver:t,onUpdate:function(){return i.updateView()}})},e.prototype.getView=function(t){var n=this,i=n.views,o=n.em,a=t||(o==null?void 0:o.getCurrentFrameModel());return a?i.find(function(l){return l.frameView===a.view}):i[0]},e.prototype.setView=function(t){var n=this.views;!n.includes(t)&&n.push(t)},e.prototype.removeView=function(t){var n=this.views;n.splice(n.indexOf(t),1)},e.prototype.updateView=function(){this.views.forEach(function(t){return t.updateStyles()})},e.prototype.getResolvedStyles=function(t){var n=this,i=da({},t);return(0,z.keys)(i).forEach(function(o){var a=i[o];typeof a=="string"||Array.isArray(a)||(md(a)&&(i[o]=sw(a,{em:n.em,collectionsStateMap:{}})),p4(a)&&(i[o]=a.getDataValue()))}),i},e.prototype.addStyle=function(t,n,i){var o;n===void 0&&(n=""),i===void 0&&(i={}),typeof t=="string"?t=(o={},o[t]=n,o):i=n||{},i.addStyle=t,t=this.extendStyle(t),this.setStyle(t,i)},e.prototype.removeStyle=function(t){var n=this.getStyle();delete n[t],this.setStyle(n)},e.prototype.styleToString=function(t){t===void 0&&(t={});var n=[],i=this.getStyle(t),o=t.important,a=function(u){var c=(0,z.isArray)(o)?o.indexOf(u)>=0:o,d=u.substring(0,2),h=d==="__";if(h)return"continue";var g=i[u],m=(0,z.isArray)(g)?g:[g];m.forEach(function(b){var w="".concat(b).concat(c?" !important":"");w&&n.push("".concat(u,":").concat(w,";"))})};for(var l in i)a(l);return n.join("")},e.prototype.getSelectors=function(){return this.get("selectors")||this.get("classes")},e.prototype.getSelectorsString=function(t){return this.selectorsToString?this.selectorsToString(t):this.getSelectors().getFullString()},e}(ne.Kx);const S2=O4;var E4=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Bi=function(){return Bi=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Bi.apply(this,arguments)},Cp=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t},t1=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))},Cu=function(r,e){if(e===void 0&&(e=[]),!r)return[];var t=(0,z.isArray)(r)||(0,z.isFunction)(r.map)?r:[r];return t.map(function(n){e.push(n.getId()),Cu(n.components().models,e)}),e},C2=function(r,e,t){e===void 0&&(e={}),t===void 0&&(t={}),t.visitedCmps=t.visitedCmps||{};var n=t.visitedCmps,i=(0,z.isArray)(r)?r:[r];return i.map(function(o){var a=o.attributes,l=a===void 0?{}:a,u=o.components,c=o.tagName,d=o.style,h=l.id;l.draggable;var g=Cp(l,["id","draggable"]),m=o;if(h){if(n[h])n[h].push(m),h=Bn.getNewId(e),m.attributes.id=h;else if(n[h]=[],e[h]){m=e[h];var b=m;c&&b.set({tagName:c},Bi(Bi({},t),{silent:!0})),(0,z.keys)(g).length&&b.addAttributes(g,Bi({},t)),(0,z.keys)(d).length&&b.addStyle(d,t)}}var w=(0,z.isFunction)(m.components)?m:null;if(u){var x=C2(u,e,t);w?w.components().reset(x,t):m.components=x}else w&&w.components().reset([],t);return m})},T4=function(r){E4(e,r);function e(t,n){var i=r.call(this,t,n)||this;i.opt=n,i.listenTo(i,"add",i.onAdd),i.listenTo(i,"remove",i.removeChildren),i.listenTo(i,"reset",i.resetChildren);var o=n.em,a=n.config;return i.config=a,i.em=o,i.domc=n.domc||(o==null?void 0:o.Components),i}return Object.defineProperty(e.prototype,"events",{get:function(){var t;return(t=this.domc)===null||t===void 0?void 0:t.events},enumerable:!1,configurable:!0}),e.prototype.resetChildren=function(t,n){var i=this;n===void 0&&(n={});var o=this,a=n.previousModels||[],l=a.filter(function(d){return!t.get(d.cid)}),u=Cu(t),c=Cu(a).filter(function(d){return u.indexOf(d)>=0});n.keepIds=(n.keepIds||[]).concat(c),l.forEach(function(d){return i.removeChildren(d,o,n)}),t.each(function(d){return i.onAdd(d)})},e.prototype.resetFromString=function(t,n){var i,o;t===void 0&&(t=""),n===void 0&&(n={}),n.keepIds=Cu(this);var a=this,l=a.domc,u=a.em,c=a.parent,d=u==null?void 0:u.Css,h=(l==null?void 0:l.allById())||{},g=this.parseString(t,n),m=C2(g,h,n),b=n.visitedCmps,w=b===void 0?{}:b;Object.keys(w).forEach(function(x){var _=w[x];if(_.length){var C=(d==null?void 0:d.getRules("#".concat(x)))||[];C.length&&_.forEach(function(O){C.forEach(function(A){var I=A.clone();I.set("selectors",["#".concat(O.attributes.id)]),d.getAll().add(I)})})}}),this.reset(m,n),u==null||u.trigger("component:content",c,n,t),(o=(i=c).__checkInnerChilds)===null||o===void 0||o.call(i)},e.prototype.removeChildren=function(t,n,i){var o=this;if(i===void 0&&(i={}),!!t){var a=this,l=a.domc,u=a.em,c=i.temporary||i.fromUndo;if(t.prevColl=this,!c){var d=t.getId(),h=u.Selectors.getAll(),g=u.Css.getAll(),m=(i.keepIds||[]).indexOf(d)<0,b=l?l.allById():{};delete b[d];var w=m?g.remove(g.filter(function(O){return O.getSelectors().getFullString()==="#".concat(d)}),i):[];h.remove(w.map(function(O){return O.getSelectors().at(0)})),t.opt.temporary||(u.Commands.run("core:component-style-clear",{target:t}),t.views.forEach(function(O){O.scriptContainer&&t.emitWithEditor(mn.I.scriptUnmount,{component:t,view:O,el:O.el})}),t.removed(),t.trigger("removed"),u.trigger(mn.I.remove,t),l&&hv(t)&&wl(t)&&l.symbols.__trgEvent(l.events.symbolInstanceRemove,{component:t},!0));var x=t.components();x.forEach(function(O){w2(O,O,x,Bi(Bi({},i),{skipRefsUp:!0})),o.removeChildren(O,n,i)})}var _=t.components();if(u.stopListening(_),u.stopListening(t),u.stopListening(t.get("classes")),t.__postRemove(),!t.opt.temporary){var C=function(O){O.emitWithEditor(mn.I.removed,O,{removeOptions:i}),O.components().forEach(function(A){return C(A)})};C(t)}}},e.prototype.model=function(t,n){var i=n.collection.opt,o=i.em,a,l=o.Components.componentTypes;n.em=o,n.config=i.config,n.componentTypes=l,n.domc=i.domc;for(var u=0;u<l.length;u++){var c=l[u].id;if(c==t.type){a=l[u].model;break}}return a||(a=l[l.length-1].model,o&&t.type&&o.logWarning("Component type '".concat(t.type,"' not found"),{attrs:t,options:n})),new a(t,n)},e.prototype.parseString=function(t,n){n===void 0&&(n={});var i=this,o=i.em,a=i.domc,l=i.parent,u=l==null?void 0:l.is("wrapper"),c=n.asDocument&&u,d=o.Css,h=o.Parser.parseHtml(t,Bi({asDocument:c},n.parserOptions)),g=h.html;if(u&&h.doctype){var m=l,b=h.html||{},w=b.components,x=w===void 0?[]:w,_=Cp(b,["components"]),C=h.head||{},O=C.components,A=Cp(C,["components"]);g=x,m.set(_,n),m.head.set(A,n),m.head.components(O,n),m.docEl.set(h.root,n),m.set({doctype:h.doctype})}if(Bn.checkId(g,h.css,a.componentsById,n),h.css&&d&&!n.temporary){n.at;var I=Cp(n,["at"]);d.addCollection(h.css,Bi(Bi({},I),{extend:1}))}return g},e.prototype.add=function(t,n){var i=this;if(n===void 0&&(n={}),t!=null){n.keepIds=t1(t1([],n.keepIds||[],!0),Cu(n.previousModels),!0),(0,z.isString)(t)?t=this.parseString(t,n):(0,z.isArray)(t)&&t.forEach(function(a,l){if((0,z.isString)(a)){var u=i.parseString(a,n);t[l]=(0,z.isArray)(u)&&!u.length?null:u}});var o=((0,z.isArray)(t)?t:[t]).filter(Boolean).map(function(a){return i.processDef(a)});return t=(0,z.isArray)(t)?(0,z.flatten)(o,1):o[0],r.prototype.add.call(this,t,n)}},e.prototype.processDef=function(t){if(t.cid&&t.ccid)return t;var n=this,i=n.em,o=n.config,a=o===void 0?{}:o,l=a.processor,u=t;if(l){u=Bi({},u);var c=l(u);c&&((0,z.each)(u,function(x,_){return delete u[_]}),(0,z.extend)(u,c))}if(u.$$typeof&&typeof u.props=="object"){u=Bi({},u),u.props=Bi({},u.props);var d=i.Components,h=i.Parser,g=h.parserHtml;(0,z.each)(u,function(x,_){(0,z.includes)(["props","type"],_)||delete u[_]});var m=u.props,b=m.children;delete m.children,delete u.props;var w=g.splitPropsFromAttr(m);u.attributes=w.attrs,b&&(u.components=b),u.type?d.getType(u.type)||(u.tagName=u.type,delete u.type):u.type="textnode",(0,z.extend)(u,w.props)}return u},e.prototype.onAdd=function(t,n,i){i===void 0&&(i={});var o=this,a=o.domc,l=o.em,u=t.getStyle(),c=l&&l.getConfig().avoidInlineStyle;if(a&&a.Component.ensureInList(t),!(0,z.isEmpty)(u)&&!c&&l&&l.getConfig().forceClass&&!i.temporary){var d=t.cid;l.Css.setClassRule(d,u),t.setStyle({}),t.addClass(d)}if(t.__postAdd({recursive:!0}),l&&!i.temporary){var h=function(g){l.trigger(mn.I.add,g,i),g.components().forEach(function(m){return h(m)})};h(t),a&&hv(t)&&wl(t)&&a.symbols.__trgEvent(a.events.symbolInstanceAdd,{component:t},!0)}},e}(ne.pM);const yd=T4;var A4=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),zh=1,xy=2,x2=function(r){A4(e,r);function e(t,n){n===void 0&&(n={});var i=r.call(this,t,n)||this,o=n.config,a=o===void 0?{}:o,l=i.get("name"),u=i.get("label");l?u||i.set("label",l):i.set("name",u);var c=i.get("name"),d=a.escapeName,h=d?d(c):e.escapeName(c);return i.set("name",h),i.em=n.em,i}return e.prototype.defaults=function(){return{name:"",label:"",type:zh,active:!0,private:!1,protected:!1,_undo:!0}},e.prototype.isId=function(){return this.get("type")===xy},e.prototype.isClass=function(){return this.get("type")===zh},e.prototype.getFullName=function(t){t===void 0&&(t={});var n=t.escape,i=this.get("name"),o="";switch(this.get("type")){case zh:o=".";break;case xy:o="#";break}return o+(n?n(i):i)},e.prototype.toString=function(){return this.getFullName()},e.prototype.getName=function(){return this.get("name")||""},e.prototype.getLabel=function(){return this.get("label")||""},e.prototype.setLabel=function(t){return this.set("label",t)},e.prototype.getActive=function(){return!!this.get("active")},e.prototype.setActive=function(t){return this.set("active",t)},e.prototype.toJSON=function(t){t===void 0&&(t={});var n=this.em,i=ne.Kx.prototype.toJSON.call(this,[t]),o=(0,z.result)(this,"defaults");if(n!=null&&n.getConfig().avoidDefaults){(0,z.forEach)(o,function(l,u){i[u]===l&&delete i[u]}),i.label===i.name&&delete i.label;var a=(0,z.keys)(i).length;a===1&&i.name&&(i=i.name),a===2&&i.name&&i.type&&(i=this.getFullName())}return i},e.escapeName=function(t){return"".concat(t).trim().replace(/\s+/g,"-")},e.TYPE_CLASS=zh,e.TYPE_ID=xy,e}(ne.Kx);const Jr=x2;x2.prototype.idAttribute="name";var D4=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),O2=function(r,e){return r.reduce(function(t,n,i){return t.concat(O2(r.slice(i+1),"".concat(e).concat(n)))},[e])},E2=function(r){D4(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.modelId=function(t){return"".concat(t.name,"_").concat(t.type||Jr.TYPE_CLASS)},e.prototype.getStyleable=function(){return(0,z.filter)(this.models,function(t){return t.getActive()&&!t.get("private")})},e.prototype.getValid=function(t){var n=t===void 0?{}:t,i=n.noDisabled;return(0,z.filter)(this.models,function(o){return!o.get("private")}).filter(function(o){return i?o.get("active"):1})},e.prototype.getFullString=function(t,n){n===void 0&&(n={});var i=[],o=t||this;return o.forEach(function(a){return i.push(a.getFullName(n))}),n.sort&&i.sort(),i.join("").trim()},e.prototype.getFullName=function(t){t===void 0&&(t={});var n=t.combination,i=t.array,o=[],a=this.map(function(l){return l.getFullName(t)}).sort();return n?a.forEach(function(l,u){o=o.concat(O2(a.slice(u+1),l))}):o=a,i?o:n?o.join(","):o.join("")},e}(ne.pM);const ms=E2;E2.prototype.model=Jr;var k4=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),e1=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))},P4=function(r){k4(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.defaults=function(){return{id:"",label:"",open:!0,attributes:{}}},e.prototype.getId=function(){return this.get("id")},e.prototype.getLabel=function(){return this.get("label")},e}(ne.Kx);const Fd=P4;function T2(r){var e=new Set,t=new Map,n={items:[]};r.forEach(function(o){var a=o.category;if(a){e.add(a);var l=t.get(a);l?l.push(o):t.set(a,[o])}else n.items.push(o)});var i=Array.from(e).map(function(o){return{category:o,items:t.get(o)||[]}});return e1(e1([],i,!0),[n],!1)}var M4=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),n1="category",A2=function(r){M4(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.initCategory=function(t){var n=t.get(n1),i=n instanceof Fd;if(n&&!i){(0,z.isString)(n)?n={id:n,label:n}:(0,Ht.isObject)(n)&&!n.id&&(n.id=n.label);var o=this.getCategories().add(n);return t.set(n1,o,{silent:!0}),o}else if(i){var o=n;return this.getCategories().add(o),o}},e}(ne.pM),R4=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),D2=function(r){R4(e,r);function e(t,n){n===void 0&&(n={});var i=r.call(this,t,n)||this,o=n.events,a=n.em,l=o==null?void 0:o.update;return a&&l&&i.on("change",function(u,c){return a.trigger(l,{category:u,changes:u.changedAttributes(),options:c})}),i}return e.prototype.add=function(t,n){var i=(0,z.isArray)(t)?t:[t];return i.forEach(function(o){return o&&(o.id=(0,Ht.normalizeKey)("".concat(o.id)))}),r.prototype.add.call(this,t,n)},e.prototype.get=function(t){return r.prototype.get.call(this,(0,z.isString)(t)?(0,Ht.normalizeKey)(t):t)},e}(ne.pM);const gv=D2;D2.prototype.model=Fd;var mv;(function(r){r.select="trait:select",r.value="trait:value",r.categoryUpdate="trait:category:update",r.custom="trait:custom",r.all="trait"})(mv||(mv={}));const g_=mv;var L4=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),yv=function(){return yv=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},yv.apply(this,arguments)},N4=function(r){L4(e,r);function e(t,n){var i=r.call(this,t)||this,o=i.attributes,a=o.target,l=o.name;return!i.get("id")&&i.set("id",l),a&&i.setTarget(a),i.em=n,i}return e.prototype.defaults=function(){return{type:"text",label:"",name:"",unit:"",step:1,value:"",default:"",placeholder:"",category:"",changeProp:!1,options:[]}},Object.defineProperty(e.prototype,"parent",{get:function(){return this.collection},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"category",{get:function(){var t=this.get("category");return t instanceof Fd?t:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"component",{get:function(){return this.target},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"changeProp",{get:function(){return!!this.get("changeProp")},enumerable:!1,configurable:!0}),e.prototype.setTarget=function(t){if(t){var n=this.attributes,i=n.name,o=n.changeProp,a=n.value,l=n.getValue;this.target=t,this.unset("target");var u=o?"change:".concat(i):"change:attributes:".concat(i);this.listenTo(t,u,this.targetUpdated);var c=a||(l?void 0:this.getValue());!(0,z.isUndefined)(c)&&this.set({value:c},{silent:!0})}},e.prototype.getId=function(){return this.get("id")},e.prototype.getType=function(){return this.get("type")},e.prototype.getName=function(){return this.get("name")},e.prototype.getLabel=function(t){var n;t===void 0&&(t={});var i=t.locale,o=i===void 0?!0:i,a=this.getId(),l=this.get("label")||this.getName();return o&&((n=this.em)===null||n===void 0?void 0:n.t("traitManager.traits.labels.".concat(a)))||l},e.prototype.getValue=function(t){return this.getTargetValue(t)},e.prototype.setValue=function(t,n){var i=this;n===void 0&&(n={});var o=this,a=o.component,l=o.em,u=n.partial,c={},d=this.attributes.setValue;if(d){d({value:t,component:a,editor:l==null?void 0:l.getEditor(),trait:this,partial:!!u,options:n,emitUpdate:function(){return i.targetUpdated()}});return}u&&(c.avoidStore=!0),this.setTargetValue(t,c)},e.prototype.getDefault=function(){return this.get("default")},e.prototype.getOptions=function(){return this.get("options")||[]},e.prototype.getOption=function(t){var n=this,i=(0,Ht.isDef)(t)?t:this.getValue();return this.getOptions().filter(function(o){return n.getOptionId(o)===i})[0]},e.prototype.getOptionId=function(t){return t.id||t.value},e.prototype.getOptionLabel=function(t,n){var i;n===void 0&&(n={});var o=n.locale,a=o===void 0?!0:o,l=(0,z.isString)(t)?this.getOption(t):t,u=this.getOptionId(l),c=l.label||l.name||u,d=this.getName();return a&&((i=this.em)===null||i===void 0?void 0:i.t("traitManager.traits.options.".concat(d,".").concat(u)))||c},e.prototype.getCategoryLabel=function(t){t===void 0&&(t={});var n=this,i=n.em,o=n.category,a=t.locale,l=a===void 0?!0:a,u=o==null?void 0:o.getId(),c=o==null?void 0:o.getLabel();return l&&(i==null?void 0:i.t("traitManager.categories.".concat(u)))||c||""},e.prototype.runCommand=function(){var t=this.em,n=this.attributes.command;if(n&&t)return(0,z.isString)(n)?t.Commands.run(n):n(t.Editor,this)},e.prototype.props=function(){return this.attributes},e.prototype.targetUpdated=function(){var t=this,n=t.component,i=t.em,o=this.getTargetValue({useType:!0});this.set({value:o},{fromTarget:1});var a={trait:this,component:n,value:o};n.trigger(g_.value,a),i==null||i.trigger(g_.value,a),i==null||i.trigger("trait:update",a)},e.prototype.getTargetValue=function(t){t===void 0&&(t={});var n=this,i=n.component,o=n.em,a=this.getName(),l=this.get("getValue"),u;if(l?u=l({editor:o==null?void 0:o.getEditor(),trait:this,component:i}):this.changeProp?u=i.get(a):u=i.getAttributes()[a],t.useType){var c=this.getType();if(c==="checkbox"){var d=this.attributes,h=d.valueTrue,g=d.valueFalse;!(0,z.isUndefined)(h)&&h===u?u=!0:!(0,z.isUndefined)(g)&&g===u&&(u=!1)}}return(0,z.isUndefined)(u)?"":u},e.prototype.setTargetValue=function(t,n){var i;n===void 0&&(n={});var o=this,a=o.component,l=o.attributes,u=this.getName();if(!(0,z.isUndefined)(t)){var c=t;if(t==="false"?c=!1:t==="true"&&(c=!0),this.getType()==="checkbox"){var d=l.valueTrue,h=l.valueFalse;c&&!(0,z.isUndefined)(d)&&(c=d),!c&&!(0,z.isUndefined)(h)&&(c=h)}var g=(i={},i[u]=c,i);g.__p=n.avoidStore?null:void 0,this.changeProp?a.set(g,n):a.addAttributes(g,n)}},e.prototype.setValueFromInput=function(t,n,i){n===void 0&&(n=!0),i===void 0&&(i={});var o={value:t};this.set(o,yv(yv({},i),{avoidStore:1})),n&&(this.set("value","",i),this.set(o,i))},e.prototype.getInitValue=function(){var t=this.component,n=this.getName(),i;if(t){var o=t.get("attributes");i=this.changeProp?t.get(n):o[n]}return i||this.get("value")||this.get("default")},e}(ne.Kx);const _v=N4;var j4=function(){function r(e){e===void 0&&(e={}),this.config=e}return r.prototype.build=function(e,t){return(0,z.isString)(e)?this.buildFromString(e,t):new _v(e,t)},r.prototype.buildFromString=function(e,t){var n={name:e,type:"text"};switch(e){case"target":n.type="select",n.default=!1,n.options=this.config.optionsTarget;break}return new _v(n,t)},r}();const I4=j4;var V4=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),U4=function(r){V4(e,r);function e(t,n){var i=r.call(this,t)||this;i.categories=new gv;var o=n.em;i.em=o,i.categories=new gv([],{em:o,events:{update:g_.categoryUpdate}}),i.on("add",i.handleAdd),i.on("reset",i.handleReset);var a=i.module,l=a==null?void 0:a.getConfig();return i.tf=new I4(l),i}return Object.defineProperty(e.prototype,"module",{get:function(){return this.em.Traits},enumerable:!1,configurable:!0}),e.prototype.getCategories=function(){return this.categories},e.prototype.handleReset=function(t,n){var i=n===void 0?{}:n,o=i.previousModels,a=o===void 0?[]:o;a.forEach(function(l){return l.trigger("remove")})},e.prototype.handleAdd=function(t){t.em=this.em;var n=this.target;n&&(t.target=n),this.initCategory(t)},e.prototype.setTarget=function(t){this.target=t,this.models.forEach(function(n){return n.setTarget(t)})},e.prototype.add=function(t,n){if(t!=null){var i=this,o=i.target,a=i.em;if((0,z.isArray)(t)){for(var l=[],u=0,c=t.length;u<c;u++){var d=t[u];l[u]=d instanceof _v?d:this.tf.build(d,a),l[u].setTarget(o)}return r.prototype.add.call(this,l,n)}var h=t instanceof _v?t:this.tf.build(t,a);return h.setTarget(o),r.prototype.add.call(this,h,n)}},e}(A2);const bv=U4;var wv=function(){return wv=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},wv.apply(this,arguments)},r1=function(){function r(e,t,n){this.component=e,this.updateFn=t,this.resolverListeners={},this.em=n.em}return r.prototype.bindComponent=function(e){this.component=e},r.prototype.setDynamicValues=function(e,t){t===void 0&&(t={});var n=t.skipWatcherUpdates||t.fromDataSource;return n||this.removeListeners(),this.addDynamicValues(e,t)},r.prototype.addDynamicValues=function(e,t){if(t===void 0&&(t={}),!e)return{};var n=this.evaluateValues(e),i=t.skipWatcherUpdates||t.fromDataSource;return i||this.updateListeners(e),n},r.prototype.onCollectionsStateMapUpdate=function(){var e=this,t=this.getValuesResolvingFromCollections();if(t.length){t.forEach(function(i){return e.resolverListeners[i].resolver.updateCollectionsStateMap(e.collectionsStateMap)});var n=this.addDynamicValues(this.getSerializableValues(Object.fromEntries(t.map(function(i){return[i,null]}))));Object.entries(n).forEach(function(i){var o=i[0],a=i[1];return e.updateFn(e.component,o,a)})}},Object.defineProperty(r.prototype,"collectionsStateMap",{get:function(){var e=this.component;return e?e.collectionsStateMap:{}},enumerable:!1,configurable:!0}),r.prototype.updateListeners=function(e){var t=this,n=this,i=n.em,o=n.collectionsStateMap;this.removeListeners(Object.keys(e));for(var a=Object.keys(e),l=function(d){var h=a[d],g=e[h];if(!md(g))return"continue";var m=aw(g,{em:i,collectionsStateMap:o});u.resolverListeners[h]=new Cc({em:i,resolver:m,onUpdate:function(b){return t.updateFn.bind(t)(t.component,h,b)}})},u=this,c=0;c<a.length;c++)l(c)},r.prototype.evaluateValues=function(e){for(var t=this,n=t.em,i=t.collectionsStateMap,o=wv({},e),a=Object.keys(e),l=0;l<a.length;l++){var u=a[l],c=e[u];md(c)&&(o[u]=sw(c,{em:n,collectionsStateMap:i}))}return o},r.prototype.removeListeners=function(e){var t=this,n=e||Object.keys(this.resolverListeners);return n.forEach(function(i){var o,a;t.resolverListeners[i]&&((a=(o=t.resolverListeners[i]).destroy)===null||a===void 0||a.call(o),delete t.resolverListeners[i])}),n},r.prototype.getSerializableValues=function(e){if(!e)return{};for(var t=wv({},e),n=Object.keys(t),i=0;i<n.length;i++){var o=n[i],a=this.resolverListeners[o];a&&(t[o]=a.resolver.toJSON())}return t},r.prototype.getAllSerializableValues=function(){for(var e={},t=Object.keys(this.resolverListeners),n=0;n<t.length;n++){var i=t[n];e[i]=this.resolverListeners[i].resolver.toJSON()}return e},r.prototype.getValuesResolvingFromCollections=function(){var e=this,t=Object.keys(this.resolverListeners).filter(function(n){return e.resolverListeners[n].resolver.resolvesFromCollection()});return t},r.prototype.destroy=function(){this.removeListeners()},r}(),B4=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))},m_={fromDataSource:!0,avoidStore:!0},F4=function(){function r(e,t){this.component=e,this.propertyWatcher=new r1(e,this.onPropertyUpdate,t),this.attributeWatcher=new r1(e,this.onAttributeUpdate,t)}return r.prototype.onPropertyUpdate=function(e,t,n){e==null||e.set(t,n,m_)},r.prototype.onAttributeUpdate=function(e,t,n){var i;e==null||e.addAttributes((i={},i[t]=n,i),m_)},r.prototype.bindComponent=function(e){this.component=e,this.propertyWatcher.bindComponent(e),this.attributeWatcher.bindComponent(e),this.updateSymbolOverride()},r.prototype.addProps=function(e,t){var n=this;t===void 0&&(t={});var i=["components"],o=Object.fromEntries(Object.entries(e).map(function(u){var c,d=u[0],h=u[1];return i.includes(d)?[d,h]:[d,n.propertyWatcher.addDynamicValues((c={},c[d]=h,c),t)[d]]}));if(e.attributes){var a=this.attributeWatcher.setDynamicValues(e.attributes,t);o.attributes=a}var l=t.skipWatcherUpdates||t.fromDataSource;return l||this.updateSymbolOverride(),o},r.prototype.removeAttributes=function(e){this.attributeWatcher.removeListeners(e),this.updateSymbolOverride()},r.prototype.updateSymbolOverride=function(){var e,t,n=!!Object.keys((t=(e=this.component)===null||e===void 0?void 0:e.collectionsStateMap)!==null&&t!==void 0?t:{}).length;if(!(!this.component||!n)){var i=this.propertyWatcher.getValuesResolvingFromCollections(),o=this.attributeWatcher.getValuesResolvingFromCollections(),a=B4(["locked","layerable"],i,!0),l=Object.keys(o).length;l&&a.push("attributes");var u=wa(this.component);u.forEach(function(c){c.setSymbolOverride(a,{fromDataSource:!0})}),this.component.setSymbolOverride(a,{fromDataSource:!0})}},r.prototype.onCollectionsStateMapUpdate=function(){this.propertyWatcher.onCollectionsStateMapUpdate(),this.attributeWatcher.onCollectionsStateMapUpdate()},r.prototype.getDynamicPropsDefs=function(){return this.propertyWatcher.getAllSerializableValues()},r.prototype.getDynamicAttributesDefs=function(){return this.attributeWatcher.getAllSerializableValues()},r.prototype.getPropsDefsOrValues=function(e){return this.propertyWatcher.getSerializableValues(e)},r.prototype.getAttributesDefsOrValues=function(e){return this.attributeWatcher.getSerializableValues(e)},r.prototype.destroy=function(){this.propertyWatcher.destroy(),this.attributeWatcher.destroy()},r}(),z4=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),qe=function(){return qe=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},qe.apply(this,arguments)},H4=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t},wo=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))},i1=function(r){return r.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")},Sf=function(r){return!!(r!=null&&r.getConfig().avoidInlineStyle)},lw="component:drag",Zr="__symbols",gi="__symbol",xu="__symbol_ovrd",xp=mn.I.update,y_=mn.I.updateInside,W4=function(r){z4(e,r);function e(t,n){t===void 0&&(t={});var i=this,o=n.em,a=new F4(void 0,{em:o});i=r.call(this,t,qe(qe({},n),{dataResolverWatchers:a}))||this,i.collectionsStateMap={},a.bindComponent(i),i.dataResolverWatchers=a,(0,z.bindAll)(i,"__upSymbProps","__upSymbCls","__upSymbComps","syncOnComponentChange");var l=i.parent(),u=l==null?void 0:l.attributes,c=i.get("propagate");if(c&&i.set("propagate",(0,z.isArray)(c)?c:[c]),u&&u.propagate&&!c){var d={},h=u.propagate;h.forEach(function(_){return d[_]=l.get(_)}),d.propagate=h,i.set(qe(qe({},d),t))}n&&n.config&&n.config.voidElements.indexOf(i.get("tagName"))>=0&&i.set("void",!0),n.em=o,i.opt=n,i.em=o,i.config=n.config||{};var g=i.dataResolverWatchers.getDynamicAttributesDefs();if(i.setAttributes(qe(qe(qe({},(0,z.result)(i,"defaults").attributes||{}),i.get("attributes")||{}),g)),i.ccid=e.createId(i,n),i.preInit(),i.initClasses(),i.initComponents(),i.initTraits(),i.initToolbar(),i.initScriptProps(),i.listenTo(i,"change:script",i.scriptUpdated),i.listenTo(i,"change:tagName",i.tagUpdated),i.listenTo(i,"change:attributes",i.attrUpdated),i.listenTo(i,"change:attributes:id",i._idUpdated),i.on("change:toolbar",i.__emitUpdateTlb),i.on("change",i.__onChange),i.on(y_,i.__propToParent),i.set("status",""),i.views=[],["classes","traits","components"].forEach(function(_){var C="add remove ".concat(_!=="components"?"change":"");i.listenTo(i.get(_),C.trim(),function(){for(var O=[],A=0;A<arguments.length;A++)O[A]=arguments[A];return i.emitUpdate.apply(i,wo([_],O,!1))})}),!n.temporary){var m=o&&o.Css,b=i.attributes,w=b.styles,x=b.type;w&&m&&m.addCollection(w,{avoidUpdateStyle:!0},{group:"cmp:".concat(x)}),i.__postAdd(),i.init(),Wo(i)&&hf(i),o==null||o.trigger(mn.I.create,i,n)}return i}return Object.defineProperty(e.prototype,"defaults",{get:function(){var t;return t={tagName:"div",type:"",name:"",removable:!0,draggable:!0,droppable:!0,badgable:!0,stylable:!0,"stylable-require":"","style-signature":"",unstylable:"",highlightable:!0,copyable:!0,resizable:!1,editable:!1,layerable:!0,selectable:!0,hoverable:!0,void:!1,state:"",status:"",content:"",icon:"",style:"",styles:"",classes:"",script:"","script-props":"","script-export":"",attributes:{},traits:["id","title"],propagate:"",dmode:"",toolbar:null,delegate:null},t[gi]=0,t[Zr]=0,t[xu]=0,t._undo=!0,t._undoexc=["status","open"],t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tagName",{get:function(){return this.get("tagName")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"classes",{get:function(){return this.get("classes")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"traits",{get:function(){return this.get("traits")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"content",{get:function(){var t;return(t=this.get("content"))!==null&&t!==void 0?t:""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"toolbar",{get:function(){return this.get("toolbar")||[]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resizable",{get:function(){return this.get("resizable")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"delegate",{get:function(){return this.get("delegate")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"locked",{get:function(){return this.get("locked")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"frame",{get:function(){return this.opt.frame},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"page",{get:function(){var t;return(t=this.frame)===null||t===void 0?void 0:t.getPage()},enumerable:!1,configurable:!0}),e.prototype.preInit=function(){},e.prototype.init=function(){},e.prototype.updated=function(t,n,i){},e.prototype.removed=function(){},e.prototype.set=function(t,n,i){var o,a,l={skipWatcherUpdates:!1,fromDataSource:!1};typeof t=="object"?(a=t,l=n||l):typeof t=="string"?(a=(o={},o[t]=n,o),l=i||l):(a={},l=i||l),this.dataResolverWatchers=this.dataResolverWatchers||l.dataResolverWatchers;var u=this.dataResolverWatchers.addProps(a,l);return r.prototype.set.call(this,u,l)},e.prototype.onCollectionsStateMapUpdate=function(t){this.collectionsStateMap=t,this.dataResolverWatchers.onCollectionsStateMapUpdate();var n=this.components();n.forEach(function(i){return i.onCollectionsStateMapUpdate(t)})},e.prototype.syncComponentsCollectionState=function(){this.stopListening(this.components(),"add remove reset",this.syncOnComponentChange),this.listenTo(this.components(),"add remove reset",this.syncOnComponentChange),this.components().forEach(function(t){return t.syncComponentsCollectionState()})},e.prototype.stopSyncComponentCollectionState=function(){this.stopListening(this.components(),"add remove reset",this.syncOnComponentChange),this.collectionsStateMap={},this.components().forEach(function(t){return t.stopSyncComponentCollectionState()})},e.prototype.syncOnComponentChange=function(t,n,i){var o=this;if(!(!this.collectionsStateMap||!Object.keys(this.collectionsStateMap).length)){var a=i||n||{};if(i)if(a.add){var u=t;u.syncComponentsCollectionState(),u.onCollectionsStateMapUpdate(this.collectionsStateMap)}else{var c=t;c.stopSyncComponentCollectionState()}else{var l=a.previousModels||[];l.forEach(function(d){return d.stopSyncComponentCollectionState()}),this.components().forEach(function(d){d.syncComponentsCollectionState(),d.onCollectionsStateMapUpdate(o.collectionsStateMap)})}}},e.prototype.__postAdd=function(t){t===void 0&&(t={});var n=this.em,i=n==null?void 0:n.UndoManager,o=this.components();i&&!this.__hasUm&&(i.add(o),i.add(this.getSelectors()),this.__hasUm=!0),t.recursive&&o.map(function(a){return a.__postAdd(t)})},e.prototype.__postRemove=function(){var t=this.em,n=t==null?void 0:t.UndoManager;n&&(n.remove(this.components()),n.remove(this.getSelectors()),delete this.__hasUm)},e.prototype.__onChange=function(t,n){var i=this,o=this.changedAttributes()||{};(0,z.keys)(o).forEach(function(a){return i.emitUpdate(a)}),["status","open","toolbar","traits"].forEach(function(a){return delete o[a]}),(0,Ht.isEmptyObj)(o)||(this.__changesUp(n),this.__propSelfToParent({component:this,changed:o,options:n}))},e.prototype.__onStyleChange=function(t){var n=this,i=this.em;if(i){var o="component:styleUpdate",a=(0,z.keys)(t),l={style:t};i.trigger(o,this,l),a.forEach(function(g){return i.trigger("".concat(o,":").concat(g),n,l)});var u=this.collectionsStateMap,c=Object.keys(u);if(c.length){var d=c.every(function(g){return u[g].currentIndex===u[g].startIndex});if(d){var h=wa(this);h.forEach(function(g){var m=g.collectionsStateMap,b=Object.keys(m),w=b.every(function(x){return c.includes(x)});w&&g.addStyle(t)})}}}},e.prototype.__changesUp=function(t){var n=this,i=n.em,o=n.frame;[o,i].forEach(function(a){return a&&a.changesUp(t)})},e.prototype.__propSelfToParent=function(t){this.trigger(xp,t),this.__propToParent(t)},e.prototype.__propToParent=function(t){var n=this.parent();n&&n.trigger(y_,t)},e.prototype.__emitUpdateTlb=function(){this.emitUpdate("toolbar")},e.prototype.__getAllById=function(){var t=this.em;return t?t.Components.allById():{}},e.prototype.__upSymbProps=function(t,n){n===void 0&&(n={}),c4(this,n)},e.prototype.__upSymbCls=function(t,n,i){i===void 0&&(i={}),h4(this,i)},e.prototype.__upSymbComps=function(t,n,i){w2(this,t,n,i)},e.prototype.__onDestroy=function(){},e.prototype.is=function(t){return this.get("type")==t},e.prototype.props=function(){return this.attributes},e.prototype.index=function(){var t=this.collection;return t?t.indexOf(this):0},e.prototype.setDragMode=function(t){return this.set("dmode",t)},e.prototype.getDragMode=function(){return this.get("dmode")||""},e.prototype.setSymbolOverride=function(t,n){var i,o;n===void 0&&(n={}),this.set((i={},i[xu]=(o=(0,z.isString)(t)?[t]:t)!==null&&o!==void 0?o:0,i),n)},e.prototype.getSymbolOverride=function(){return this.get(xu)},e.prototype.find=function(t){var n,i=[],o=(n=this.view)===null||n===void 0?void 0:n.$el.find(t);return o==null||o.each(function(a){var l=o.eq(a),u=l.data("model");u&&i.push(u)}),i},e.prototype.findType=function(t){var n=[],i=function(o){return o.forEach(function(a){a.is(t)&&n.push(a),i(a.components())})};return i(this.components()),n},e.prototype.findFirstType=function(t){return this.findType(t).at(0)},e.prototype.closest=function(t){var n,i=(n=this.view)===null||n===void 0?void 0:n.$el.closest(t);return i!=null&&i.length?i.data("model"):void 0},e.prototype.closestType=function(t){for(var n=this.parent();n&&!n.is(t);)n=n.parent();return n},e.prototype.contains=function(t){var n=!1;if(!t)return n;var i=function(o){!n&&o.forEach(function(a){a===t&&(n=!0),!n&&i(a.components())})};return i(this.components()),n},e.prototype.tagUpdated=function(){this.trigger("rerender")},e.prototype.replaceWith=function(t,n){n===void 0&&(n={});var i=this.collection,o=i.indexOf(this);i.remove(this);var a=i.add(t,qe(qe({},n),{at:o}));return(0,z.isArray)(a)?a:[a]},e.prototype.attrUpdated=function(t,n,i){var o=this;i===void 0&&(i={});var a=this.get("attributes"),l=a.class;l&&this.setClass(l),delete a.class;var u=a.style;u&&this.setStyle(u,i),delete a.style;var c=qe({},this.previous("attributes")),d=(0,Ht.shallowDiff)(c,this.get("attributes"));(0,z.keys)(d).forEach(function(h){var g,m="attributes:".concat(h);o.trigger("change:".concat(m),o,d[h],i),(g=o.em)===null||g===void 0||g.trigger("".concat(xp,":").concat(m),o,d[h],i)})},e.prototype.setAttributes=function(t,n){return n===void 0&&(n={skipWatcherUpdates:!1,fromDataSource:!1}),this.set("attributes",qe({},t),n),this},e.prototype.addAttributes=function(t,n){n===void 0&&(n={});var i=this.dataResolverWatchers.getDynamicAttributesDefs();return this.setAttributes(qe(qe(qe({},this.getAttributes({noClass:!0})),i),t),n)},e.prototype.removeAttributes=function(t,n){t===void 0&&(t=[]),n===void 0&&(n={});var i=Array.isArray(t)?t:[t];this.dataResolverWatchers.removeAttributes(i);var o=this.getAttributes();return i.map(function(a){return delete o[a]}),this.setAttributes(o,n)},e.prototype.getStyle=function(t,n){t===void 0&&(t={}),n===void 0&&(n={});var i=this.em,o=(0,z.isString)(t)?t:"",a=o?n:t;if(Sf(i)&&!a.inline){var l=i.get("state"),u=i.Css,c=u.getIdRule(this.getId(),qe({state:l},a));return this.rule=c,c?c.getStyle(o):{}}return r.prototype.getStyle.call(this,o)},e.prototype.setStyle=function(t,n){var i=this;t===void 0&&(t={}),n===void 0&&(n={});var o=this,a=o.opt,l=o.em;if(Sf(l)&&!a.temporary&&!n.inline){var u=this.get("style")||{};t=(0,z.isString)(t)?this.parseStyle(t):t,t=qe(qe({},t),u);var c=l.get("state"),d=l.Css,h=this.getStyle(n);this.rule=d.setIdRule(this.getId(),t,qe({state:c},n));var g=(0,Ht.shallowDiff)(h,t);this.set("style","",{silent:!0}),(0,z.keys)(g).forEach(function(m){return i.trigger("change:style:".concat(m))})}else t=r.prototype.setStyle.apply(this,arguments);return a.temporary||this.__onStyleChange(n.addStyle||t),t},e.prototype.getAttributes=function(t){t===void 0&&(t={});var n=this.em,i=[],o=qe({},this.get("attributes")),a=n==null?void 0:n.Selectors,l=this.getId();if(t.noClass?delete o.class:(this.classes.forEach(function(d){return i.push((0,z.isString)(d)?d:d.getName())}),i.length&&(o.class=i.join(" "))),!t.noStyle){var u=this.getStyle({inline:!0});(0,Ht.isObject)(u)&&!(0,Ht.isEmptyObj)(u)&&(o.style=this.styleToString({inline:!0}))}if(!(0,z.has)(o,"id")){var c=!1;(Sf(n)||!(0,z.isEmpty)(this.getStyle()))&&(c=!!(a!=null&&a.get(l,a.Selector.TYPE_ID))),(Wo(this)||this.get("script-export")||this.get("script"))&&(c=!0),c&&(o.id=l)}return o},e.prototype.addClass=function(t){var n=this.em.Selectors.addClass(t);return this.classes.add(n)},e.prototype.setClass=function(t){return this.classes.reset(),this.addClass(t)},e.prototype.removeClass=function(t){var n=[];t=(0,z.isArray)(t)?t:[t];var i=this.classes,o=Jr.TYPE_CLASS;return t.forEach(function(a){var l=a.split(" ");l.forEach(function(u){var c=i.where({name:u,type:o})[0];c&&n.push(i.remove(c))})}),n},e.prototype.getClasses=function(){var t=this.getAttributes(),n=t.class;return n?n.split(" "):[]},e.prototype.initClasses=function(t,n,i){i===void 0&&(i={});var o="change:classes",a=this.get("attributes")||{},l=a.class,u=H4(a,["class"]),c=[this,o,this.initClasses],d=this.get("classes")||l||[],h=(0,z.isString)(d)?d.split(" "):d;this.stopListening.apply(this,c);var g=this.normalizeClasses(h),m=new ms([]);return this.set("classes",m,i),m.add(g),m.on("add remove reset",this.__upSymbCls),l&&g.length&&this.set("attributes",u),this.listenTo.apply(this,c),this},e.prototype.initComponents=function(){var t="change:components",n=[this,t,this.initComponents];this.stopListening.apply(this,n);var i=new yd([],this.opt);i.parent=this;var o=this.get("components"),a=!this.opt.avoidChildren;return this.set("components",i),a&&o&&i.add((0,z.isFunction)(o)?o(this):o,this.opt),i.on("add remove reset",this.__upSymbComps),this.listenTo.apply(this,n),this},e.prototype.initTraits=function(t){var n=this,i=this.em,o="change:traits";this.off(o,this.initTraits),this.__loadTraits();var a=qe({},this.get("attributes")),l=this.traits;l.each(function(c){var d=c.getName(),h=c.getInitValue();c.changeProp?(0,z.isUndefined)(n.get(d))&&n.set(d,h):d&&h&&(a[d]=h)});var u=this.dataResolverWatchers.getDynamicAttributesDefs();return l.length&&this.setAttributes(qe(qe({},a),u)),this.on(o,this.initTraits),t&&i&&i.trigger("component:toggled"),this},e.prototype.initScriptProps=function(){if(!this.opt.temporary){var t="script-props",n=["change:".concat(t),this.initScriptProps];this.off.apply(this,n);var i=this.previous(t)||[],o=this.get(t)||[],a=i.map(function(u){return"change:".concat(u)}).join(" "),l=o.map(function(u){return"change:".concat(u)}).join(" ");a&&this.off(a,this.__scriptPropsChange),l&&this.on(l,this.__scriptPropsChange),this.on.apply(this,n)}},e.prototype.__scriptPropsChange=function(t,n,i){i===void 0&&(i={}),!i.avoidStore&&this.trigger("rerender")},e.prototype.append=function(t,n){n===void 0&&(n={});var i=(0,z.isArray)(t)?wo([],t,!0):[t],o=i.map(function(l){return(0,z.isString)(l)||l.collection&&l.collection.remove(l,{temporary:!0}),l}),a=this.components().add(o,qe({action:mn.t.add},n));return a},e.prototype.components=function(t,n){n===void 0&&(n={});var i=this.get("components");return(0,z.isUndefined)(t)?i:(i.reset(void 0,n),t?this.append(t,n):[])},e.prototype.getChildAt=function(t){return this.components().at(t||0)||void 0},e.prototype.getLastChild=function(){var t=this.components();return t.at(t.length-1)||null},e.prototype.empty=function(t){return t===void 0&&(t={}),this.components().reset(void 0,t),this},e.prototype.parent=function(t){t===void 0&&(t={});var n=this.collection||t.prev&&this.prevColl;return n?n.parent:void 0},e.prototype.parents=function(){var t=this.parent();return t?[t].concat(t.parents()):[]},e.prototype.scriptUpdated=function(){this.set("scriptUpdated",1)},e.prototype.initToolbar=function(){var t=this.em,n=this,i=t&&t.getConfig().stylePrefix||"";if(!n.get("toolbar")&&t){var o=[];n.collection&&o.push({label:t.getIcon("arrowUp"),command:function(a){return a.runCommand("core:component-exit",{force:1})}}),n.get("draggable")&&o.push({attributes:{class:"".concat(i,"no-touch-actions"),draggable:!0},label:t.getIcon("move"),command:"tlb-move"}),n.get("copyable")&&o.push({label:t.getIcon("copy"),command:"tlb-clone"}),n.get("removable")&&o.push({label:t.getIcon("delete"),command:"tlb-delete"}),n.set("toolbar",o)}},e.prototype.__loadTraits=function(t,n){n===void 0&&(n={});var i=t||this.traits;if(!(i instanceof bv)){i=(0,z.isFunction)(i)?i(this):i;var o=new bv([],this.opt);o.setTarget(this),i.length&&o.add(i),this.set({traits:o},n)}return this},e.prototype.getTraits=function(){return this.__loadTraits(),wo([],this.traits.models,!0)},e.prototype.setTraits=function(t){var n=(0,z.isArray)(t)?t:[t];return this.set({traits:n}),this.getTraits()},e.prototype.getTrait=function(t){return this.getTraits().filter(function(n){return n.get("id")===t||n.get("name")===t})[0]||null},e.prototype.updateTrait=function(t,n){var i,o=this.getTrait(t);return o&&o.set(n),(i=this.em)===null||i===void 0||i.trigger("component:toggled"),this},e.prototype.getTraitIndex=function(t){var n=this.getTrait(t);return n?this.traits.indexOf(n):-1},e.prototype.removeTrait=function(t){var n=this,i,o=(0,z.isArray)(t)?t:[t],a=o.map(function(c){return n.getTrait(c)}),l=this.traits,u=a.length?l.remove(a):[];return(i=this.em)===null||i===void 0||i.trigger("component:toggled"),(0,z.isArray)(u)?u:[u]},e.prototype.addTrait=function(t,n){var i;n===void 0&&(n={}),this.__loadTraits();var o=this.traits.add(t,n);return(i=this.em)===null||i===void 0||i.trigger("component:toggled"),(0,z.isArray)(o)?o:[o]},e.prototype.normalizeClasses=function(t){var n=[],i=this.em,o=i==null?void 0:i.Selectors;return o?t.models?wo([],t.models,!0):(t.forEach(function(a){return n.push(o.add(a))}),n):[]},e.prototype.clone=function(t){var n;t===void 0&&(t={});var i=this.em,o=qe(qe({},this.attributes),this.dataResolverWatchers.getDynamicPropsDefs()),a=qe({},this.opt),l=this.getId(),u=i==null?void 0:i.Css;o.attributes=qe({},o.attributes?this.dataResolverWatchers.getAttributesDefsOrValues(o.attributes):void 0),o.components=[],o.classes=[],o.traits=[],wl(this)&&(t.symbol=!0),this.get("components").each(function(x,_){o.components[_]=x.clone(qe(qe({},t),{_inner:1}))}),this.get("traits").each(function(x,_){o.traits[_]=x.clone()}),this.get("classes").each(function(x,_){o.classes[_]=x.get("name")}),o.status="",a.collection=null,a.forCloning=!0;var c=new this.constructor(o,a),d="#".concat(c.getId()),h=u?u.getRules("#".concat(l)):[];h.forEach(function(x){var _=x.clone();_.set("selectors",[d]),u.getAll().add(_)}),c.set(Zr,0);var g=uo(this),m=bi(this);if(!t.symbol&&(g||m))c.set(gi,0),c.set(Zr,0);else if(g){var b=(n=bi(g))!==null&&n!==void 0?n:[];g.set(Zr,wo(wo([],b,!0),[c],!1)),hf(c)}else t.symbol&&(al(this)?(this.set(Zr,wo(wo([],m,!0),[c],!1)),c.set(gi,this),hf(c)):t.symbolInv?(this.set(Zr,[c]),c.set(gi,this),[this,c].map(function(x){return hf(x)})):(c.set(Zr,[this]),[this,c].map(function(x){return hf(x)}),this.set(gi,c)));var w="component:clone";return i&&i.trigger(w,c),this.trigger(w,c),c},e.prototype.getName=function(t){t===void 0&&(t={});var n=this.em,i=this.attributes,o=i.type,a=i.tagName,l=i.name,u=o||a,c=o?"":a,d="domComponents.names.",h=l&&(n==null?void 0:n.t("".concat(d).concat(l))),g=c&&(n==null?void 0:n.t("".concat(d).concat(c))),m=n&&(n.t("".concat(d).concat(o))||n.t("".concat(d).concat(a))),b=this.get("custom-name");return(t.noCustom?"":b)||h||l||g||(0,Ht.capitalize)(c)||m||(0,Ht.capitalize)(u)},e.prototype.setName=function(t,n){n===void 0&&(n={}),this.set("custom-name",t,n)},e.prototype.getIcon=function(){var t=this.get("icon");return t?t+" ":""},e.prototype.toHTML=function(t){t===void 0&&(t={});var n=t.tag,i=n||this.get("tagName");delete t.tag;var o=this.__attrToString(t),a=o?" ".concat(o):"",l=this.getInnerHTML(t),u=!l&&this.get("void"),c="<".concat(i).concat(a).concat(u?"/":"",">").concat(l);return!u&&(c+="</".concat(i,">")),c},e.prototype.getInnerHTML=function(t){return this.__innerHTML(t)},e.prototype.__innerHTML=function(t){t===void 0&&(t={});var n=this.components();return n.length?n.map(function(i){return i.toHTML(t)}).join(""):this.content},e.prototype.__attrToString=function(t){t===void 0&&(t={});var n=[],i=t.attributes,o=this.getAttrToHTML(t);if(i&&((0,z.isFunction)(i)?o=i(this,o)||{}:(0,Ht.isObject)(i)&&(o=i)),t.withProps){var a=this.toJSON();(0,z.forEach)(a,function(h,g){var m=["classes","attributes","components"];g[0]!=="_"&&m.indexOf(g)<0&&(o["data-gjs-".concat(g)]=(0,z.isArray)(h)||(0,Ht.isObject)(h)?JSON.stringify(h):(0,z.isBoolean)(h)?"".concat(h):h)})}for(var l in o){var u=o[l];if(!(0,z.isUndefined)(u)&&u!==null)if((0,z.isBoolean)(u))u&&n.push(l);else{var c="";if(t.altQuoteAttr&&(0,z.isString)(u)&&u.indexOf('"')>=0)c="'".concat(u.replace(/'/g,"&apos;"),"'");else{var d=(0,z.isString)(u)?u.replace(/"/g,"&quot;"):u;c='"'.concat(d,'"')}n.push("".concat(l,"=").concat(c))}}return n.join(" ")},e.prototype.getAttrToHTML=function(t){var n=this.getAttributes();return Sf(this.em)&&(t==null?void 0:t.keepInlineStyle)!==!0&&delete n.style,n},e.prototype.toJSON=function(t){t===void 0&&(t={});var n=cv.Model.prototype.toJSON.call(this,t);if(n=qe(qe({},n),this.dataResolverWatchers.getDynamicPropsDefs()),n.attributes=this.dataResolverWatchers.getAttributesDefsOrValues(this.getAttributes()),delete n.dataResolverWatchers,delete n.attributes.class,delete n.toolbar,delete n.traits,delete n.status,delete n.open,delete n._undoexc,delete n.delegate,this.collectionsStateMap&&Object.getOwnPropertyNames(this.collectionsStateMap).length>0&&(delete n[gi],delete n[xu],delete n[Zr],delete n.attributes.id),!t.fromUndo){var i=n[gi],o=n[Zr];o&&(0,z.isArray)(o)&&(n[Zr]=o.filter(function(a){return a}).map(function(a){return a.getId?a.getId():a})),i&&!(0,z.isString)(i)&&(n[gi]=i.getId())}return this.em.getConfig().avoidDefaults&&this.getChangedProps(n),n},e.prototype.getChangedProps=function(t){var n=t||cv.Model.prototype.toJSON.apply(this),i=(0,z.result)(this,"defaults");return(0,z.forEach)(i,function(o,a){["type"].indexOf(a)===-1&&n[a]===o&&delete n[a]}),(0,z.isEmpty)(n.type)&&delete n.type,(0,z.forEach)(["attributes","style"],function(o){(0,z.isEmpty)(i[o])&&(0,z.isEmpty)(n[o])&&delete n[o]}),(0,z.forEach)(["classes","components"],function(o){(!n[o]||(0,z.isEmpty)(i[o])&&!n[o].length)&&delete n[o]}),n},e.prototype.getId=function(){var t=this.get("attributes")||{},n=_4(this),i=n.shouldSync,o=n.itemId;return i&&(t.id=o),t.id||this.ccid||this.cid},e.prototype.setId=function(t,n){return this.addAttributes({id:t},n),this},e.prototype.getEl=function(t){var n=this.getView(t);return n&&n.el},e.prototype.getView=function(t){var n=this,i=n.view,o=n.views,a=n.em,l=t||(a==null?void 0:a.getCurrentFrameModel());return l&&(i=o.filter(function(u){return u.frameView===l.view})[0]),i},e.prototype.getCurrentView=function(){var t=this.em.getCurrentFrame(),n=t==null?void 0:t.model;return this.getView(n)},e.prototype.__getScriptProps=function(){var t=this.props(),n=this.get("script-props")||[];return n.reduce(function(i,o){return i[o]=t[o],i},{})},e.prototype.getScriptString=function(t){var n=this,i=t||this.get("script")||"";if(!i)return i;if(this.get("script-props"))i=i.toString().trim();else{if((0,z.isFunction)(i)){var o=i.toString().trim();o=o.slice(o.indexOf("{")+1,o.lastIndexOf("}")),i=o.trim()}var a=this.em.getConfig(),l=i1(a.tagVarStart||"{[ "),u=i1(a.tagVarEnd||" ]}"),c=new RegExp("".concat(l,"([\\w\\d-]*)").concat(u),"g");i=i.replace(c,function(d,h){n.scriptUpdated();var g=n.attributes[h]||"";return(0,z.isArray)(g)||typeof g=="object"?JSON.stringify(g):g})}return i},e.prototype.emitUpdate=function(t){for(var n,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];var a=this.em,l=xp+(t?":".concat(t):""),u=t&&this.get(t);t&&this.updated.apply(this,wo([t,u,t&&this.previous(t)],i,!1)),this.trigger.apply(this,wo([l],i,!1)),a&&a.trigger.apply(a,wo([l,this],i,!1)),["components","classes"].indexOf(t)>=0&&this.__propSelfToParent({component:this,changed:(n={},n[t]=u,n),options:i[2]||i[1]||{}})},e.prototype.emitWithEditor=function(t,n,i){[this.em,this].forEach(function(o){return o==null?void 0:o.trigger(t,n,i)})},e.prototype.onAll=function(t){return(0,z.isFunction)(t)&&(t(this),this.components().forEach(function(n){return n.onAll(t)})),this},e.prototype.forEachChild=function(t){(0,z.isFunction)(t)&&this.components().forEach(function(n){t(n),n.forEachChild(t)})},e.prototype.remove=function(t){var n=this;t===void 0&&(t={});var i=this.em,o=this.collection,a=function(){o&&o.remove(n,qe({action:mn.t.remove},t)),o||(n.components("",t),n.components().removeChildren(n,void 0,t))},l=qe({},t);return[this,i].map(function(u){return u.trigger(mn.I.removeBefore,n,a,l)}),!l.abort&&a(),this},e.prototype.destroy=function(t){return this.stopListening(this.components(),"add remove reset",this.syncOnComponentChange),this.dataResolverWatchers.destroy(),this.__onDestroy(),r.prototype.destroy.call(this,t)},e.prototype.move=function(t,n){if(n===void 0&&(n={}),t){var i=n.at,o=this.index(),a=t===this.parent(),l=o===i||o===i-1;if(!a||!l){a&&i&&i>o&&(n.at=i-1);var u=mn.t.move;this.remove({action:u,temporary:1}),t.append(this,qe({action:u},n)),this.emitUpdate()}}return this},e.prototype.isInstanceOf=function(t){var n,i,o=(i=(n=this.em)===null||n===void 0?void 0:n.Components.getType(t))===null||i===void 0?void 0:i.model;if(!o)return!1;var a=this.constructor.typeExtends;return this instanceof o||a.has(t)},e.prototype.isChildOf=function(t){for(var n=(0,z.isString)(t),i=this.parent();i;){if(n){if(i.isInstanceOf(t))return!0}else if(i===t)return!0;i=i.parent()}return!1},e.prototype.resetId=function(t){var n=this.em,i=this.getId();if(!i)return this;var o=e.createId(this);this.setId(o);var a=n==null?void 0:n.Css.getIdRule(i),l=a==null?void 0:a.get("selectors").at(0);return l==null||l.set("name",o),this},e.prototype._getStyleRule=function(t){var n=t===void 0?{}:t,i=n.id,o=this.em,a=i||this.getId();return o==null?void 0:o.Css.getIdRule(a)},e.prototype._getStyleSelector=function(t){var n=this._getStyleRule(t);return n==null?void 0:n.get("selectors").at(0)},e.prototype._idUpdated=function(t,n,i){if(i===void 0&&(i={}),!i.idUpdate){var o=this.ccid,a=(this.get("attributes")||{}).id,l=(this.previous("attributes")||{}).id||o,u=e.getList(this);if(u[a]||!a&&l)return this.setId(l,{idUpdate:!0});delete u[l],u[a]=this,this.ccid=a;var c=this._getStyleSelector({id:l});c&&c.set({name:a,label:a})}},e.getDefaults=function(){return(0,z.result)(this.prototype,"defaults")},e.isComponent=function(t,n){return{tagName:(0,Ht.toLowerCase)(t.tagName)}},e.ensureInList=function(t){var n=e.getList(t),i=t.getId(),o=n[i];if(!o)n[i]=t;else if(o!==t){var a=e.getIncrementId(i,n);t.setId(a),n[a]=t}t.components().forEach(function(l){return e.ensureInList(l)})},e.createId=function(t,n){n===void 0&&(n={});var i=e.getList(t),o=n.idMap,a=o===void 0?{}:o,l=t.get("attributes").id,u;return l?(u=e.getIncrementId(l,i,n),t.setId(u),l!==u&&(a[l]=u)):u=e.getNewId(i),i[u]=t,u},e.getNewId=function(t){for(var n=Object.keys(t).length,i=n.toString().length+2,o=(Math.random()+1.1).toString(36).slice(-i),a="i".concat(o);t[a];)a=e.getNewId(t);return a},e.getIncrementId=function(t,n,i){i===void 0&&(i={});var o=i.keepIds,a=o===void 0?[]:o,l=1,u=t;if(a.indexOf(t)<0)for(;n[u];)l++,u="".concat(t,"-").concat(l);return u},e.getList=function(t){var n,i=t.em,o=i==null?void 0:i.Components;return(n=o==null?void 0:o.componentsById)!==null&&n!==void 0?n:{}},e.checkId=function(t,n,i,o){n===void 0&&(n=[]),i===void 0&&(i={}),o===void 0&&(o={});var a=(0,z.isArray)(t)?t:[t],l=o.keepIds,u=l===void 0?[]:l,c=o.idMap,d=c===void 0?{}:c;a.forEach(function(h){h.attributes;var g=h.attributes,m=g===void 0?{}:g,b=h.components,w=m.id;if(w&&i[w]&&u.indexOf(w)<0){var x=e.getIncrementId(w,i);d[w]=x,m.id=x,(0,z.isArray)(n)&&n.forEach(function(_){var C=_.selectors;C.forEach(function(O,A){O==="#".concat(w)&&(C[A]="#".concat(x))})})}b&&e.checkId(b,n,i,o)})},e.typeExtends=new Set,e}(S2);const Bn=W4;var K4=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Sv=function(){return Sv=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Sv.apply(this,arguments)},Yu="head",q4=["title","style","base","link","meta","script","noscript"],G4=function(r){K4(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"defaults",{get:function(){return Sv(Sv({},r.prototype.defaults),{type:Yu,tagName:Yu,draggable:!1,highlightable:!1,droppable:function(t){var n=t.tagName;return!n||q4.includes((0,Ht.toLowerCase)(n))}})},enumerable:!1,configurable:!0}),e.isComponent=function(t){return(0,Ht.toLowerCase)(t.tagName)===Yu},e}(Bn);const Y4=G4;var Cl=Ye(8433),X4=Ye(1447),Z4=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),$4=function(r){Z4(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.canMove=function(t,n){var i=this,o=this.getRealIndex(n),a=t._dragSource,l=a.model,u=a.content,c=a.dragDef,d=!l||!this.isSourceSameSymbol(l),h=((0,z.isFunction)(u)?c:u)||t.model;return Array.isArray(h)?d&&h.every(function(g,m){return i.canMoveSingleContent(g,o+m)}):d&&this.canMoveSingleContent(h,o)},e.prototype.canMoveSingleContent=function(t,n){return this.model.em.Components.canMove(this.model,t,n).result},e.prototype.addChildAt=function(t,n){var i=t._dragSource,o=i.content,a=this.isTextNode()&&t.isTextable(),l=(0,z.isFunction)(o)?o():o;return Array.isArray(l)?this.addMultipleChildren(l,n,a):this.addSingleChild(l,n,a)},e.prototype.addSingleChild=function(t,n,i){var o,a,l,u,c;return i?c=(u=(l=(a=(o=this.model)===null||o===void 0?void 0:o.getView)===null||a===void 0?void 0:a.call(o))===null||l===void 0?void 0:l.insertComponent)===null||u===void 0?void 0:u.call(l,t,{action:"add-component"}):c=this.model.components().add(t,{at:this.getRealIndex(n),action:"add-component"}),new this.constructor(c)},e.prototype.addMultipleChildren=function(t,n,i){var o=this,a;return t.forEach(function(l,u){a=o.addSingleChild(l,n+u,i)}),a},e.prototype.isSourceSameSymbol=function(t){if(Wo(this.model)){var n=gd(this.model),i=al(n)?n:uo(n);if(i===t)return!0}return!1},Object.defineProperty(e.prototype,"content",{set:function(t){this._dragSource.content=t},enumerable:!1,configurable:!0}),e}(X4.A);const k2=$4;var Ou=function(){return Ou=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Ou.apply(this,arguments)},J4=function(){function r(e,t){var n=this;this.em=e,this.canvas=e.Canvas;var i=t||this.canvas.getFrames().map(function(a){return a.getComponent().getEl()}),o=Array.isArray(i)?i:[i];this.el=o[0],this.counter=0,(0,z.bindAll)(this,"handleDragEnter","handleDragOver","handleDrop","handleDragLeave","handleDragEnd"),o.forEach(function(a){return n.toggleEffects(a,!0)})}return r.prototype.toggleEffects=function(e,t){var n={on:le.on,off:le.AU},i=t?"on":"off";n[i](e,"dragenter",this.handleDragEnter),n[i](e,"dragover",this.handleDragOver),n[i](e,"drop",this.handleDrop),n[i](e,"dragleave",this.handleDragLeave)},r.prototype.__customTglEff=function(e){var t,n=e?le.on:le.AU,i=this.el.ownerDocument,o=(t=i.defaultView)===null||t===void 0?void 0:t.frameElement,a=function(l){return{legacyOnStartSort:function(){(0,le.on)(o,"pointermove",l.onMove)},legacyOnEnd:function(){(0,le.AU)(o,"pointermove",l.onMove)},customTarget:function(u){var c=u.event;return i.elementFromPoint(c.clientX,c.clientY)}}};this.getSorterOptions=e?a:void 0,n(o,"pointerenter",this.handleDragEnter),n(o,"pointermove",this.handleDragOver),n(document,"pointerup",this.handleDrop),n(o,"pointerout",this.handleDragLeave)},r.prototype.startCustom=function(){this.__customTglEff(!0)},r.prototype.endCustom=function(e){this.over?this.endDrop(e):this.__customTglEff(!1)},r.prototype.endDrop=function(e,t){var n=this,i=n.em,o=n.dragStop;this.counter=0,o&&o(e||!this.over),this.__customTglEff(!1),i.trigger("canvas:dragend",t)},r.prototype.handleDragLeave=function(e){this.updateCounter(-1,e)},r.prototype.updateCounter=function(e,t){this.counter+=e,this.counter===0&&this.endDrop(!0,t)},r.prototype.handleDragEnter=function(e){var t=this,n,i,o,a=this,l=a.em,u=a.canvas,c=e.dataTransfer,d=l.get("dragSource");if(!(!(d!=null&&d.content)&&!u.getConfig().allowExternalDrop)&&(this.updateCounter(1,e),!this.over)){this.over=!0;var h=l.Utils,g=(d==null?void 0:d.content)||"<br>",m;if(l.stopDefault(),l.inAbsoluteMode()){var b=l.Components.getWrapper(),w=b.append({})[0],x=l.Commands.run("core:component-drag",{event:e,guidesInfo:1,center:1,target:w,onEnd:function(Q,$,Z){var P=Z.cancelled,tt;if(!P&&g){tt=b.append(g)[0];var H=u.getOffset(),k=w.getStyle(),F=k.top,T=k.left,nt=k.position,L=(0,le.Xy)(Q.target),ot=parseInt("".concat(parseFloat(T)+L.x-H.left),10),pt=parseInt("".concat(parseFloat(F)+L.y-H.top),10);tt.addStyle({left:ot+"px",top:pt+"px",position:nt})}t.handleDragEnd(tt,c),w.remove()}});m=function(Q){return x.stop(e,{cancel:Q})},this.setAbsoluteDragContent=function(Q){return g=Q}}else{var _=new h.ComponentSorter({em:l,treeClass:k2,containerContext:{container:this.el,containerSel:"*",itemSel:"*",pfx:"gjs-",placeholderElement:u.getPlacerEl(),document:this.el.ownerDocument},dragBehavior:{dragDirection:Cl.A.BothDirections,nested:!0},positionOptions:{windowMargin:1,canvasRelative:!0},eventHandlers:{legacyOnEndMove:this.handleDragEnd}}),C=(n=this.getSorterOptions)===null||n===void 0?void 0:n.call(this,_);C&&(_.eventHandlers.legacyOnStartSort=C.legacyOnStart,_.eventHandlers.legacyOnEnd=C.legacyOnEnd,_.containerContext.customTarget=C.customTarget);var O=this.getTempDropModel(g),A=(i=O.view)===null||i===void 0?void 0:i.el,I=A?[{element:A,dragSource:d}]:[];_.startSort(I),this.sorter=_,this.draggedNode=(o=_.sourceNodes)===null||o===void 0?void 0:o[0],m=function(Q){Q?_.cancelDrag():_.endDrag()}}this.dragStop=m,l.trigger("canvas:dragenter",c,g)}},r.prototype.getTempDropModel=function(e){var t,n=this.em.Components.getComponents(),i={avoidChildren:1,avoidStore:1,avoidUpdateStyle:1},o=n.add(e,Ou(Ou({},i),{temporary:!0})),a=n.remove(o,Ou(Ou({},i),{temporary:!0}));return a=a instanceof Array?a[0]:a,(t=a.view)===null||t===void 0||t.$el.data("model",a),a},r.prototype.handleDragEnd=function(e,t){var n=this.em;this.over=!1,e&&(n.set("dragResult",e),n.trigger("canvas:drop",t,e)),n.runDefault({preserveSelected:1})},r.prototype.handleDragOver=function(e){e.preventDefault(),this.em.trigger("canvas:dragover",e)},r.prototype.handleDrop=function(e){var t;e.preventDefault();var n=e.dataTransfer,i=this.getContentByData(n).content;this.draggedNode&&(this.draggedNode.content=i),(t=this.setAbsoluteDragContent)===null||t===void 0||t.call(this,i),this.endDrop(!i,e)},r.prototype.getContentByData=function(e){var t=this.em,n=e&&e.types,i=e&&e.files||[],o=t.get("dragSource"),a=e&&e.getData("text");if(i.length){a=[];for(var l=0;l<i.length;l++){var u=i[l],c=u.type.split("/")[0];c=="image"&&a.push({type:c,file:u,attributes:{alt:u.name}})}}else if(o!=null&&o.content)a=o.content;else if((0,z.indexOf)(n,"text/html")>=0)a=e&&e.getData("text/html").replace(/<\/?meta[^>]*>/g,"");else if((0,z.indexOf)(n,"text/uri-list")>=0)a={type:"link",attributes:{href:a},content:a};else if((0,z.indexOf)(n,"text/json")>=0){var d=e&&e.getData("text/json");d&&(a=JSON.parse(d))}else n.length===1&&n[0]==="text/plain"&&(a="<div>".concat(a,"</div>"));var h={content:a};return t.trigger("canvas:dragdata",e,h),h},r}();const Q4=J4;var tI=function(){function r(e,t){e===void 0&&(e=50);var n;this.dragging=!1,this.lastMaxHeight=0,this.zoom=1,this.rectIsInScrollIframe=!1,this.autoscrollLimit=e,this.lastMaxHeight=(n=t==null?void 0:t.lastMaxHeight)!==null&&n!==void 0?n:0,this.onScroll=t==null?void 0:t.onScroll,this.rectIsInScrollIframe=!!(t!=null&&t.rectIsInScrollIframe),(0,z.bindAll)(this,"start","autoscroll","updateClientY","stop")}return r.prototype.start=function(e,t,n){var i=this;this.eventEl=e,this.scrollEl=t,this.lastMaxHeight=(n==null?void 0:n.lastMaxHeight)||Number.POSITIVE_INFINITY,this.zoom=(n==null?void 0:n.zoom)||1,setTimeout(function(){i.toggleAutoscrollFx(!0),requestAnimationFrame(i.autoscroll)},0)},r.prototype.autoscroll=function(){var e,t,n=this.scrollEl;if(this.dragging&&n){var i=(e=this.lastClientY)!==null&&e!==void 0?e:0,o=this.autoscrollLimit,a=this.getEventElHeight(),l=a-o,u=0;i<o&&(u+=i-o),i>l&&(u+=i-l);var c=this.getElScrollTop(n);this.lastClientY!==void 0&&u!==0&&this.lastMaxHeight-u>c&&(n.scrollBy({top:u,left:0,behavior:"auto"}),(t=this.onScroll)===null||t===void 0||t.call(this)),requestAnimationFrame(this.autoscroll)}},r.prototype.getEventElHeight=function(){var e=this.eventEl;if(!e)return 0;var t=e.getBoundingClientRect();return t.height},r.prototype.updateClientY=function(e){var t=this.scrollEl;e.preventDefault();var n=this.rectIsInScrollIframe?0:this.getElScrollTop(t);this.lastClientY=(0,le.G2)(e).clientY*this.zoom-n},r.prototype.getElScrollTop=function(e){return(e instanceof HTMLElement?e.scrollTop:e==null?void 0:e.scrollY)||0},r.prototype.toggleAutoscrollFx=function(e){this.dragging=e;var t=this.eventEl;if(t){var n=e?"on":"off",i={on:le.on,off:le.AU};i[n](t,"mousemove dragover",this.updateClientY),i[n](t,"mouseup",this.stop)}},r.prototype.stop=function(){this.toggleAutoscrollFx(!1)},r}();const P2=tI;var eI=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Qi=function(){return Qi=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Qi.apply(this,arguments)},nI=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))},rI=function(r){eI(e,r);function e(t,n){var i=r.call(this,{model:t})||this;i.dragging=!1,i.loaded=!1,i.lastMaxHeight=0,i.tools={},(0,z.bindAll)(i,"startAutoscroll","stopAutoscroll","_emitUpdate");var o=i.el;i.module._config=Qi(Qi({},i.config||{}),{frameView:i}),i.frameWrapView=n,i.showGlobalTools=(0,z.debounce)(i.showGlobalTools.bind(i),50);var a=i.getCanvasModel();return i.listenTo(t,"change:head",i.updateHead),i.listenTo(a,"change:styles",i.renderStyles),t.view=i,(0,Ht.setViewEl)(o,i),i.autoScroller=new P2(i.config.autoscrollLimit,{rectIsInScrollIframe:!0,onScroll:function(){var l=i.getGlobalToolsEl();l.style.opacity="0",i.showGlobalTools(),i.em.Canvas.spots.refreshDbn()}}),i}return Object.defineProperty(e.prototype,"tagName",{get:function(){return"iframe"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"attributes",{get:function(){return{allowfullscreen:"allowfullscreen"}},enumerable:!1,configurable:!0}),e.prototype.getBoxRect=function(){var t=this,n=t.el,i=t.module,o=i.getCanvasView(),a=i.getCoords(),l=n.getBoundingClientRect(),u=o.getCanvasOffset(),c=o.getViewportDelta(),d=i.getZoomMultiplier(),h=(l.x-u.left-c.x-a.x)*d,g=(l.y-u.top-c.y-a.y)*d,m=l.width*d,b=l.height*d;return{x:h,y:g,width:m,height:b}},e.prototype.updateHead=function(){var t=this.model,n=this.getHead(),i=[],o=[],a=t.head,l=t.previous("head"),u=function(d){return d===void 0&&(d={}),Object.keys(d).sort().map(function(h){return"[".concat(h,'="').concat(d[h],'"]')}).join("")},c=function(d,h,g){d.forEach(function(m){var b=m.tag,w=m.attributes,x=h.some(function(_){return _.tag===b&&u(_.attributes)===u(w)});!x&&g.push(m)})};c(a,l,o),c(l,a,i),i.forEach(function(d){var h,g=n.querySelector("".concat(d.tag).concat(u(d.attributes)));(h=g==null?void 0:g.parentNode)===null||h===void 0||h.removeChild(g)}),(0,le.af)(n,o)},e.prototype.getEl=function(){return this.el},e.prototype.getCanvasModel=function(){var t;return(t=this===null||this===void 0?void 0:this.em.Canvas)===null||t===void 0?void 0:t.getModel()},e.prototype.getWindow=function(){return this.getEl().contentWindow},e.prototype.getDoc=function(){return this.getEl().contentDocument},e.prototype.getHead=function(){return this.getDoc().querySelector("head")},e.prototype.getBody=function(){return this.getDoc().querySelector("body")},e.prototype.getWrapper=function(){return this.getBody().querySelector("[data-gjs-type=wrapper]")},e.prototype.getJsContainer=function(){return this.jsContainer||(this.jsContainer=(0,le.a_)("div",{class:"".concat(this.ppfx,"js-cont")})),this.jsContainer},e.prototype.getToolsEl=function(){var t;return(t=this.frameWrapView)===null||t===void 0?void 0:t.elTools},e.prototype.getGlobalToolsEl=function(){return this.em.Canvas.getGlobalToolsEl()},e.prototype.getHighlighter=function(){return this._getTool("[data-hl]")},e.prototype.getBadgeEl=function(){return this._getTool("[data-badge]")},e.prototype.getOffsetViewerEl=function(){return this._getTool("[data-offset]")},e.prototype.getRect=function(){return this.rect||(this.rect=this.el.getBoundingClientRect()),this.rect},e.prototype.getOffsetRect=function(){var t=this.el,n=this.getBody(),i=n.scrollTop,o=n.scrollLeft,a=t.offsetHeight,l=t.offsetWidth;return{top:t.offsetTop,left:t.offsetLeft,height:a,width:l,scrollTop:i,scrollLeft:o,scrollBottom:i+a,scrollRight:o+l}},e.prototype._getTool=function(t){var n=this.tools,i=this.getToolsEl();return n[t]||(n[t]=i.querySelector(t)),n[t]},e.prototype.remove=function(){for(var t,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return this._toggleEffects(!1),this.tools={},(t=this.wrapper)===null||t===void 0||t.remove(),ho.prototype.remove.apply(this,n),this},e.prototype.startAutoscroll=function(){this.autoScroller.start(this.el,this.getWindow(),{lastMaxHeight:this.getWrapper().offsetHeight-this.el.offsetHeight,zoom:this.em.getZoomDecimal()})},e.prototype.stopAutoscroll=function(){this.autoScroller.stop()},e.prototype.showGlobalTools=function(){this.getGlobalToolsEl().style.opacity=""},e.prototype.render=function(){var t=this,n=t.$el,i=t.ppfx,o=t.em;return n.attr({class:"".concat(i,"frame")}),this.renderScripts(),o.trigger("frame:render",this),this},e.prototype.renderScripts=function(){var t=this,n=this,i=n.el,o=n.model,a=n.em,l="frame:load",u={el:i,model:o,view:this},c=this.getCanvasModel(),d=function(h){var g;if(h.length>0){var m=h.shift(),b=(0,le.a_)("script",Qi({type:"text/javascript"},(0,z.isString)(m)?{src:m}:m));(g=i.contentDocument)===null||g===void 0||g.head.appendChild(b),b.hasAttribute("nomodule")&&"noModule"in HTMLScriptElement.prototype?d(h):b.onerror=b.onload=d.bind(null,h)}else a==null||a.trigger(wp.frameLoadHead,u),t.renderBody(),a==null||a.trigger(wp.frameLoadBody,u),a==null||a.trigger(l,u)};i.onload=function(){var h=t.config.frameContent;if(h){var g=t.getDoc();g.open(),g.write(h),g.close()}u.window=t.getWindow(),a==null||a.trigger("".concat(l,":before"),u),a==null||a.trigger(wp.frameLoad,u),t.renderHead(),d(nI([],c.get("scripts"),!0))}},e.prototype.renderStyles=function(t){t===void 0&&(t={});var n=this.getHead(),i=this.getCanvasModel(),o=function(h){return h===void 0&&(h=[]),h.map(function(g){return{tag:"link",attributes:Qi({rel:"stylesheet"},(0,z.isString)(g)?{href:g}:g)}})},a=o(t.prev||i.previous("styles")),l=o(i==null?void 0:i.get("styles")),u=[],c=[],d=function(h,g,m){h.forEach(function(b){var w=b.attributes.href,x=g.some(function(_){return _.attributes.href===w});!x&&m.push(b)})};d(l,a,c),d(a,l,u),u.forEach(function(h){var g,m=n.querySelector('link[href="'.concat(h.attributes.href,'"]'));(g=m==null?void 0:m.parentNode)===null||g===void 0||g.removeChild(m)}),(0,le.af)(n,c)},e.prototype.renderHead=function(){var t,n=this,i=n.model,o=n.em,a=i.root,l=(t=o==null?void 0:o.Components)===null||t===void 0?void 0:t.getType(Yu).view;l&&(this.headView=new l({el:this.getHead(),model:a.head,config:Qi(Qi({},a.config),{frameView:this})}).render())},e.prototype.renderBody=function(){var t=this,n,i,o,a=this,l=a.config,u=a.em,c=a.model,d=a.ppfx,h=this.getDoc(),g=this.getBody(),m=this.getWindow(),b=c.hasAutoHeight(),w=u.config;m._isEditor=!0,this.renderStyles({prev:[]});var x="#ffca6f";(0,le.BC)(g,`<style>
      `.concat(w.baseCss||l.frameStyle||"",`

      `).concat(b?"body { overflow: hidden }":"",`

      [data-gjs-type="wrapper"] {
        `).concat(b?"":"min-height: 100vh;",`
        padding-top: 0.001em;
      }

      .`).concat(d,`dashed *[data-gjs-highlightable] {
        outline: 1px dashed rgba(170,170,170,0.7);
        outline-offset: -2px;
      }

      .`).concat(d,`selected {
        outline: 2px solid #3b97e3 !important;
        outline-offset: -2px;
      }

      .`).concat(d,`selected-parent {
        outline: 2px solid `).concat(x,` !important
      }

      .`).concat(d,`no-select {
        user-select: none;
        -webkit-user-select:none;
        -moz-user-select: none;
      }

      .`).concat(d,`freezed {
        opacity: 0.5;
        pointer-events: none;
      }

      .`).concat(d,`no-pointer {
        pointer-events: none;
      }

      .`).concat(d,`pointer-init {
        pointer-events: initial;
      }

      .`).concat(d,`plh-image {
        background: #f5f5f5;
        border: none;
        height: 100px;
        width: 100px;
        display: block;
        outline: 3px solid #ffca6f;
        cursor: pointer;
        outline-offset: -2px
      }

      .`).concat(d,`grabbing {
        cursor: grabbing;
        cursor: -webkit-grabbing;
      }

      .`).concat(d,`is__grabbing {
        overflow-x: hidden;
      }

      .`).concat(d,`is__grabbing,
      .`).concat(d,`is__grabbing * {
        cursor: grabbing !important;
      }

      `).concat(w.canvasCss||"",`
      `).concat(w.protectedCss||"",`
    </style>`));var _=c.root,C=(((n=u==null?void 0:u.Components)===null||n===void 0?void 0:n.getType("wrapper"))||{}).view;C&&(typeof l.customRenderer=="function"?this.wrapper=l.customRenderer({editor:u.Editor,frame:c,window:m,frameView:this}):this.wrapper=new C({model:_,config:Qi(Qi({},_.config),{em:u,frameView:this})}).render(),(0,le.BC)(g,(i=this.wrapper)===null||i===void 0?void 0:i.el),(0,le.BC)(g,new g2({collection:c.getStyles(),config:Qi(Qi({},u.Css.getConfig()),{frameView:this})}).render().el),(0,le.BC)(g,this.getJsContainer()),(0,le.on)(g,"click",function(O){var A;return O&&((A=O.target)===null||A===void 0?void 0:A.tagName)=="A"&&O.preventDefault()}),(0,le.on)(g,"submit",function(O){return O&&O.preventDefault()}),[{event:"keydown keyup keypress",class:"KeyboardEvent"},{event:"mousedown mousemove mouseup",class:"MouseEvent"},{event:"pointerdown pointermove pointerup",class:"PointerEvent"},{event:"wheel",class:"WheelEvent",opts:{passive:!l.infiniteCanvas}}].forEach(function(O){return O.event.split(" ").forEach(function(A){h.addEventListener(A,function(I){return t.el.dispatchEvent((0,le.yL)(I,O.class))},O.opts)})}),this._toggleEffects(!0),(0,Ht.hasDnd)(u)&&(this.droppable=new Q4(u,(o=this.wrapper)===null||o===void 0?void 0:o.el)),this.loaded=!0,c.trigger("loaded"))},e.prototype._toggleEffects=function(t){var n=t?le.on:le.AU,i=this.getWindow();i&&n(i,"".concat(le.D8," resize"),this._emitUpdate)},e.prototype._emitUpdate=function(){this.model._emitUpdated()},e}(ho);const iI=rI;var M2=Ye(9966),oI=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Eu=function(){return Eu=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Eu.apply(this,arguments)},aI=function(r){oI(e,r);function e(t,n){var i=r.call(this,{model:t})||this;return(0,z.bindAll)(i,"onScroll","frameLoaded","updateOffset","remove","startDrag"),Eu(Eu({},t.config),{frameWrapView:i}),i.cv=n,i.frame=new iI(t,i),i.classAnim="".concat(i.ppfx,"frame-wrapper--anim"),i.updateOffset=(0,z.debounce)(i.updateOffset.bind(i),0),i.updateSize=(0,z.debounce)(i.updateSize.bind(i),0),i.listenTo(t,"loaded",i.frameLoaded),i.listenTo(t,"change:x change:y",i.updatePos),i.listenTo(t,"change:width change:height",i.updateSize),i.listenTo(t,"destroy remove",i.remove),i.updatePos(),i.setupDragger(),i}return e.prototype.events=function(){return{"click [data-action-remove]":"remove","mousedown [data-action-move]":"startDrag"}},e.prototype.setupDragger=function(){var t=this,n=this,i=n.module,o=n.model,a,l,u,c=function(d){i.toggleFramesEvents(d)};this.dragger=new M2.A({onStart:function(){var d=o.attributes,h=d.x,g=d.y;u=t.em.getZoomMultiplier(),a=h,l=g,c(!1)},onEnd:function(){return c(!0)},setPosition:function(d){o.set({x:a+d.x*u,y:l+d.y*u})}})},e.prototype.startDrag=function(t){var n;t&&((n=this.dragger)===null||n===void 0||n.start(t))},e.prototype.__clear=function(t){var n=this.frame;n&&n.remove(t),(0,le.YZ)(this.elTools)},e.prototype.remove=function(t){var n=this,i;return(i=this.sizeObserver)===null||i===void 0||i.disconnect(),this.__clear(t),ho.prototype.remove.apply(this,t),["frame","dragger","cv","elTools"].forEach(function(o){return n[o]=0}),this},e.prototype.updateOffset=function(){var t,n=this,i=n.em,o=n.$el,a=n.frame;!i||i.destroyed||(i.runDefault({preserveSelected:1}),o.removeClass(this.classAnim),(t=a==null?void 0:a.model)===null||t===void 0||t._emitUpdated())},e.prototype.updatePos=function(t){var n=this,i=n.model,o=n.el,a=i.attributes,l=a.x,u=a.y,c=o.style;this.frame.rect=void 0,c.left=isNaN(l)?l:"".concat(l,"px"),c.top=isNaN(u)?u:"".concat(u,"px"),t&&this.updateOffset()},e.prototype.updateSize=function(){this.updateDim()},e.prototype.updateDim=function(){var t=this,n=t.em,i=t.el,o=t.$el,a=t.model,l=t.classAnim,u=t.frame;if(u){u.rect=void 0,o.addClass(l);var c=this.__handleSize(),d=c.noChanges,h=c.width,g=c.height;((0,z.isNull)(h)||(0,z.isNull)(g))&&a.set(Eu(Eu({},h?{}:{width:i.offsetWidth}),g?{}:{height:i.offsetHeight}),{silent:1}),n.stopDefault({preserveSelected:1}),d?this.updateOffset():setTimeout(this.updateOffset,350)}},e.prototype.onScroll=function(){var t=this,n=t.frame,i=t.em;i.trigger("frame:scroll",{frame:n,body:n.getBody(),target:n.getWindow()})},e.prototype.frameLoaded=function(){var t=this,n=t.frame;t.config,n.getWindow().onscroll=this.onScroll,this.updateDim()},e.prototype.__handleSize=function(){var t,n="px",i=this,o=i.model,a=i.el,l=a.style,u=o.attributes,c=u.width,d=u.height,h=l.width||"",g=l.height||"",m=c||"",b=d||"",w=h==m&&g==b,x=(0,z.isNumber)(m)?"".concat(m).concat(n):m,_=(0,z.isNumber)(b)?"".concat(b).concat(n):b;if(l.width=x,(t=this.sizeObserver)===null||t===void 0||t.disconnect(),o.hasAutoHeight()){var C=this.frame.el,O=C.contentDocument;if(O){var A=new ResizeObserver(function(){var I=parseFloat(o.get("minHeight"))||0,Q=Math.max(O.body.scrollHeight,I);l.height="".concat(Q,"px")});A.observe(O.body),this.sizeObserver=A}}else l.height=_,delete this.sizeObserver;return{noChanges:w,width:c,height:d,newW:m,newH:b}},e.prototype.render=function(){var t=this,n=t.frame,i=t.$el,o=t.ppfx,a=t.cv,l=t.model,u=t.el,c=l.attributes.onRender;this.__clear(),this.__handleSize(),n.render(),i.empty().attr({class:"".concat(o,"frame-wrapper")}).append(`
      <div class="`.concat(o,`frame-wrapper__top gjs-two-color" data-frame-top>
        <div class="`).concat(o,`frame-wrapper__name" data-action-move>
          `).concat(l.get("name")||"",`
        </div>
        <div class="`).concat(o,`frame-wrapper__top-r">
          <div class="`).concat(o,`frame-wrapper__icon" data-action-remove style="display: none">
            <svg viewBox="0 0 24 24"><path d="M19 4h-3.5l-1-1h-5l-1 1H5v2h14M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12z"></path></svg>
          </div>
        </div>
      </div>
      <div class="`).concat(o,`frame-wrapper__right" data-frame-right></div>
      <div class="`).concat(o,`frame-wrapper__left" data-frame-left></div>
      <div class="`).concat(o,`frame-wrapper__bottom" data-frame-bottom></div>
      `)).append(n.el);var d=(0,le.a_)("div",{class:"".concat(o,"tools"),style:"pointer-events:none; display: none"},`
      <div class="`.concat(o,`highlighter" data-hl></div>
      <div class="`).concat(o,`badge" data-badge></div>
      <div class="`).concat(o,`placeholder">
        <div class="`).concat(o,`placeholder-int"></div>
      </div>
      <div class="`).concat(o,`ghost"></div>
      <div class="`).concat(o,`toolbar" style="pointer-events:all"></div>
      <div class="`).concat(o,`resizer"></div>
      <div class="`).concat(o,`offset-v" data-offset>
        <div class="gjs-marginName" data-offset-m>
          <div class="gjs-margin-v-el gjs-margin-v-top" data-offset-m-t></div>
          <div class="gjs-margin-v-el gjs-margin-v-bottom" data-offset-m-b></div>
          <div class="gjs-margin-v-el gjs-margin-v-left" data-offset-m-l></div>
          <div class="gjs-margin-v-el gjs-margin-v-right" data-offset-m-r></div>
        </div>
        <div class="gjs-paddingName" data-offset-m>
          <div class="gjs-padding-v-el gjs-padding-v-top" data-offset-p-t></div>
          <div class="gjs-padding-v-el gjs-padding-v-bottom" data-offset-p-b></div>
          <div class="gjs-padding-v-el gjs-padding-v-left" data-offset-p-l></div>
          <div class="gjs-padding-v-el gjs-padding-v-right" data-offset-p-r></div>
        </div>
      </div>
      <div class="`).concat(o,`offset-fixed-v"></div>
    `));this.elTools=d;var h=a==null?void 0:a.toolsWrapper;return h&&h.appendChild(d),c&&c({el:u,elTop:u.querySelector("[data-frame-top]"),elRight:u.querySelector("[data-frame-right]"),elBottom:u.querySelector("[data-frame-bottom]"),elLeft:u.querySelector("[data-frame-left]"),frame:l,frameWrapperView:this,remove:this.remove,startDrag:this.startDrag}),this},e}(ho);const sI=aI;var lI=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),uI=function(r){lI(e,r);function e(t,n){t===void 0&&(t={});var i=r.call(this,t,!0)||this;return i.listenTo(i.collection,"reset",i.render),i.canvasView=n.canvasView,i._module=n.module,i}return e.prototype.onRemoveBefore=function(t,n){n===void 0&&(n={}),t.forEach(function(i){return i.remove(n)})},e.prototype.onRender=function(){var t=this,n=t.$el,i=t.ppfx;n.attr({class:"".concat(i,"frames")})},e.prototype.clearItems=function(){var t=this.viewCollection||[];t.forEach(function(n){return n.remove()}),this.viewCollection=[]},e.prototype.renderView=function(t,n){return new sI(t,this.canvasView)},e}(F5);const cI=uI;var fI=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Cv=function(){return Cv=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Cv.apply(this,arguments)},dI=function(r){fI(e,r);function e(t){var n=r.call(this,{model:t})||this;n.ready=!1,(0,z.bindAll)(n,"clearOff","onKeyPress","onWheel","onPointer");var i=n,o=i.em,a=i.pfx,l=i.ppfx,u=n.module.events;return n.className="".concat(a,"canvas ").concat(l,"no-touch-actions").concat(o.config.customUI?"":" ".concat(a,"canvas-bg")),n.clsUnscale="".concat(a,"unscale"),n._initFrames(),n.listenTo(o,u.refresh,n.clearOff),n.listenTo(o,"component:selected",n.checkSelected),n.listenTo(o,"".concat(u.coords," ").concat(u.zoom),n.updateFrames),n.listenTo(t,"change:frames",n._onFramesUpdate),n.toggleListeners(!0),n}return e.prototype.template=function(){var t=this.pfx;return`
      <div class="`.concat(t,`canvas__frames" data-frames>
        <div class="`).concat(t,`canvas__spots" data-spots></div>
      </div>
      <div id="`).concat(t,'tools" class="').concat(t,`canvas__tools" data-tools></div>
      <style data-canvas-style></style>
    `)},e.prototype._onFramesUpdate=function(){this._initFrames(),this._renderFrames()},e.prototype._initFrames=function(){var t=this,n=t.frames,i=t.model,o=t.config,a=t.em,l=i.frames;a.set("readyCanvas",0),l.once("loaded:all",function(){return a.set("readyCanvas",1)}),n==null||n.remove(),this.frames=new cI({collection:l},Cv(Cv({},o),{canvasView:this}))},e.prototype.checkSelected=function(t,n){var i;n===void 0&&(n={});var o=n.scroll,a=this.em.getCurrentFrame();o&&((i=t.views)===null||i===void 0||i.forEach(function(l){l.frameView===a&&l.scrollIntoView(o)}))},e.prototype.remove=function(){for(var t,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return clearTimeout(this.timerZoom),(t=this.frames)===null||t===void 0||t.remove(),this.frames=void 0,ho.prototype.remove.apply(this,n),this.toggleListeners(!1),this},e.prototype.preventDefault=function(t){var n;t&&(t.preventDefault(),(n=t._parentEvent)===null||n===void 0||n.preventDefault())},e.prototype.toggleListeners=function(t){var n=this,i=n.el,o=n.config,a=t?le.on:le.AU;a(document,"keypress",this.onKeyPress),a(window,"scroll resize",this.clearOff),a(i,"wheel",this.onWheel,{passive:!o.infiniteCanvas}),a(i,"pointermove",this.onPointer)},e.prototype.screenToWorld=function(t,n){var i=this.module,o=i.getCoords(),a=i.getZoomMultiplier(),l=this.getViewportDelta();return{x:(t-o.x-l.x)*a,y:(n-o.y-l.y)*a}},e.prototype.onPointer=function(t){if(this.config.infiniteCanvas){var n=this.getCanvasOffset(),i=(0,le.Xy)(),o={x:t.clientX-n.left+i.x,y:t.clientY-n.top+i.y};if(t._parentEvent){var a=t.target.getBoundingClientRect(),l=this.module.getZoomDecimal();o.x=a.left-n.left+i.x+t.clientX*l,o.y=a.top-n.top+i.y+t.clientY*l}this.model.set({pointerScreen:o,pointer:this.screenToWorld(o.x,o.y)})}},e.prototype.onKeyPress=function(t){var n=this.em,i=(0,le.Ch)(t);i===" "&&n.getZoomDecimal()!==1&&!n.Canvas.isInputFocused()&&(this.preventDefault(t),n.Editor.runCommand("core:canvas-move"))},e.prototype.onWheel=function(t){var n=this,i=n.module,o=n.config;if(o.infiniteCanvas){this.preventDefault(t);var a=t.deltaX,l=t.deltaY,u=i.getZoomDecimal(),c=(0,le.rp)(t),d=i.getCoords();if(c){var h=u-l*u*.01;i.setZoom(h*100);var g=this.model.getPointerCoords(ne.x2.Screen),m=this.getCanvasOffset(),b=g.x-m.width/2,w=g.y-m.height/2,x=h/u,_=b-(b-d.x)*x,C=w-(w-d.y)*x;i.setCoords(_,C)}else this.onPointer(t),i.setCoords(d.x-a,d.y-l)}},e.prototype.updateFrames=function(t){var n=this.em,i=this.toolsWrapper,o={preserveSelected:1};this.updateFramesArea(),this.clearOff(),i.style.display="none",n.trigger("canvas:update",t),clearTimeout(this.timerZoom),this.timerZoom=setTimeout(function(){n.stopDefault(o),n.runDefault(o),i.style.display=""},300)},e.prototype.updateFramesArea=function(){var t=this,n=t.framesArea,i=t.model,o=t.module,a=t.cvStyle,l=t.clsUnscale,u=o.getZoomMultiplier();if(n){var c=i.attributes,d=c.x,h=c.y,g=o.getZoomDecimal();n.style.transform="scale(".concat(g,") translate(").concat(d*u,"px, ").concat(h*u,"px)")}a&&(a.innerHTML=`
        .`.concat(l," { scale: ").concat(u,` }
      `))},e.prototype.fitViewport=function(t){var n,i,o;t===void 0&&(t={});var a=this,l=a.em,u=a.module,c=a.model;this.clearOff();var d=this.getCanvasOffset(),h=t.el,g=h&&((n=(0,Ht.getComponentView)(h))===null||n===void 0?void 0:n.frameView),m=g?g.model:t.frame||l.getCurrentFrameModel()||c.frames.at(0),b=m.attributes,w=b.x,x=b.y,_={x:w??0,y:x??0,width:m.width,height:m.height};if(h){var C=this.getElBoxRect(h);_.x=_.x+C.x,_.y=_.y+C.y,_.width=C.width,_.height=C.height}var O=t.ignoreHeight,A=(i=t.gap)!==null&&i!==void 0?i:0,I=(0,z.isNumber)(A),Q=I?A:A.x,$=I?A:A.y,Z=_.width+Q*2,P=_.height+$*2,tt=d.width,H=d.height,k=tt/Z,F=H/P,T=O?k:Math.min(k,F),nt=T*100,L=(o=(0,z.isFunction)(t.zoom)?t.zoom(nt):t.zoom)!==null&&o!==void 0?o:nt;u.setZoom(L,{from:"fitViewport"});var ot=-_.x+(m.width>=tt?tt/2-Z/2:-Q),pt=-_.y+H/2-P/2,mt=u.getZoomDecimal(),Lt={x:(ot+Q)*mt,y:(pt+$)*mt};if(O){var St=u.getZoomMultiplier(),at=H*St,Rt=at-H,wt=Rt/2;Lt.y=(-_.y+$)*mt-wt/St}u.setCoords(Lt.x,Lt.y)},e.prototype.isElInViewport=function(t){var n=(0,Ht.getElement)(t),i=(0,le.C8)(n),o=this.getFrameOffset(n),a=i.top,l=i.left;return a>=0&&l>=0&&a<=o.height&&l<=o.width},e.prototype.offset=function(t,n){n===void 0&&(n={});var i=n.noScroll,o=(0,le.C8)(t),a=i?{x:0,y:0}:(0,le.Xy)(t);return{top:o.top+a.y,left:o.left+a.x,width:o.width,height:o.height}},e.prototype.getRectToScreen=function(t){var n,i,o,a,l=this.getCanvasScroll(),u=this.module.getZoomDecimal(),c=this.module.getCoords(),d=this.getViewportDelta(),h=((n=t.x)!==null&&n!==void 0?n:0)*u-l.scrollLeft+c.x+d.x||0,g=((i=t.y)!==null&&i!==void 0?i:0)*u-l.scrollTop+c.y+d.y||0;return{x:h,y:g,width:((o=t.width)!==null&&o!==void 0?o:0)*u,height:((a=t.height)!==null&&a!==void 0?a:0)*u}},e.prototype.getElBoxRect=function(t,n){var i,o,a;n===void 0&&(n={});var l=this.module,u=(0,le.C8)(t),c=u.width,d=u.height,h=u.left,g=u.top,m=(i=(0,Ht.getComponentView)(t))===null||i===void 0?void 0:i.frameView,b=m==null?void 0:m.getBoxRect(),w=l.getZoomMultiplier(),x=(o=b==null?void 0:b.x)!==null&&o!==void 0?o:0,_=(a=b==null?void 0:b.y)!==null&&a!==void 0?a:0,C=this.el,O=(0,le.Xy)(),A=h+x+(C.scrollLeft+O.x)*w,I=g+_+(C.scrollTop+O.y)*w,Q={x:A,y:I,width:c,height:d};return n.local&&(Q.x=h,Q.y=g),n.toScreen?this.getRectToScreen(Q):Q},e.prototype.getViewportRect=function(t){t===void 0&&(t={});var n=this.getCanvasOffset(),i=n.top,o=n.left,a=n.width,l=n.height,u=this.module;if(t.toWorld){var c=u.getZoomMultiplier(),d=u.getCoords(),h=this.getViewportDelta(),g=-d.x-h.x||0,m=-d.y-h.y||0;return{x:g*c,y:m*c,width:a*c,height:l*c}}else return{x:o,y:i,width:a,height:l}},e.prototype.getViewportDelta=function(t){var n=this.module.getZoomMultiplier(),i=this.getCanvasOffset(),o=i.width,a=i.height,l=o*n,u=a*n,c=l-o,d=u-a;return{x:c/2/n,y:d/2/n}},e.prototype.clearOff=function(){this.frmOff=void 0,this.cvsOff=void 0},e.prototype.getFrameOffset=function(t){var n;if(!this.frmOff||t){var i=(n=this.frame)===null||n===void 0?void 0:n.el,o=t==null?void 0:t.ownerDocument.defaultView,a=o?o.frameElement:i;this.frmOff=this.offset(a||i)}return this.frmOff},e.prototype.getCanvasOffset=function(){return this.cvsOff||(this.cvsOff=this.offset(this.el)),this.cvsOff},e.prototype.getElementPos=function(t,n){n===void 0&&(n={});var i=this.module.getZoomDecimal(),o=this.getFrameOffset(t),a=this.el,l=this.getCanvasOffset(),u=this.offset(t,n),c=n.avoidFrameOffset?0:o.top,d=n.avoidFrameOffset?0:o.left,h=n.avoidFrameZoom?u.top:u.top*i,g=n.avoidFrameZoom?u.left:u.left*i,m=n.avoidFrameOffset?h:h+c-l.top+a.scrollTop,b=n.avoidFrameOffset?g:g+d-l.left+a.scrollLeft,w=n.avoidFrameZoom?u.height:u.height*i,x=n.avoidFrameZoom?u.width:u.width*i;return{top:m,left:b,height:w,width:x,zoom:i,rect:u}},e.prototype.getElementOffsets=function(t){if(!t||(0,le.ir)(t))return{};var n={},i=window.getComputedStyle(t),o=this.module.getZoomDecimal(),a=["marginTop","marginRight","marginBottom","marginLeft","paddingTop","paddingRight","paddingBottom","paddingLeft","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth"];return a.forEach(function(l){n[l]=parseFloat(i[l])*o}),n},e.prototype.getPosition=function(t){var n;t===void 0&&(t={});var i=(n=this.frame)===null||n===void 0?void 0:n.el.contentDocument;if(!i)return{top:0,left:0,width:0,height:0};var o=i.body,a=this.module.getZoomDecimal(),l=this.getFrameOffset(),u=this.getCanvasOffset(),c=t.noScroll;return{top:l.top+(c?0:o.scrollTop)*a-u.top,left:l.left+(c?0:o.scrollLeft)*a-u.left,width:u.width,height:u.height}},e.prototype.getCanvasScroll=function(){return this.config.scrollableCanvas?{scrollTop:this.el.scrollTop,scrollLeft:this.el.scrollLeft}:{scrollTop:0,scrollLeft:0}},e.prototype.updateScript=function(t){var n=t.model,i=n.getId(),o={component:n,view:t,el:t.el};if(!t.scriptContainer){t.scriptContainer=(0,le.a_)("div",{"data-id":i});var a=this.getJsContainer();a==null||a.appendChild(t.scriptContainer)}t.el.id=i,t.scriptContainer.innerHTML="";var l=document.createElement("script"),u=n.getScriptString(),c=n.get("script-props")?u:`function(){
`.concat(u,`
;}`),d=JSON.stringify(n.__getScriptProps());l.innerHTML=`
      setTimeout(function() {
        var item = document.getElementById('`.concat(i,`');
        if (!item) return;
        var script = (`).concat(c,`).bind(item);
        script(`).concat(d,`, { el: item });
      }, 1);`),setTimeout(function(){n.emitWithEditor(mn.I.scriptMountBefore,o);var h=t.scriptContainer;h==null||h.appendChild(l),n.emitWithEditor(mn.I.scriptMount,o)},0)},e.prototype.getJsContainer=function(t){var n=this.getFrameView(t);return n==null?void 0:n.getJsContainer()},e.prototype.getFrameView=function(t){return(t==null?void 0:t.frameView)||this.em.getCurrentFrame()},e.prototype._renderFrames=function(){if(this.ready){var t=this,n=t.model,i=t.frames,o=t.em,a=t.framesArea,l=n.frames;l.listenToLoad(),i.render();var u=l.at(0),c=u==null?void 0:u.view;o.setCurrentFrame(c),a==null||a.appendChild(i.el),this.frame=c,this.updateFramesArea()}},e.prototype.renderFrames=function(){this._renderFrames()},e.prototype.render=function(){var t=this,n=t.el,i=t.$el,o=t.ppfx,a=t.config,l=t.em;i.html(this.template());var u=i.find("[data-frames]");this.framesArea=u.get(0);var c=i.find("[data-tools]");return this.toolsWrapper=c.get(0),c.append(`
      <div class="`.concat(o,"tools ").concat(o,`tools-gl" style="pointer-events:none">
        <div class="`).concat(o,`placeholder">
          <div class="`).concat(o,`placeholder-int"></div>
        </div>
      </div>
      <div id="`).concat(o,`tools" style="pointer-events:none">
        `).concat(a.extHl?'<div class="'.concat(o,'highlighter-sel"></div>'):"",`
        <div class="`).concat(o,`badge"></div>
        <div class="`).concat(o,`ghost"></div>
        <div class="`).concat(o,`toolbar" style="pointer-events:all"></div>
        <div class="`).concat(o,`resizer"></div>
        <div class="`).concat(o,`offset-v"></div>
        <div class="`).concat(o,`offset-fixed-v"></div>
      </div>
    `)),this.toolsEl=n.querySelector("#".concat(o,"tools")),this.hlEl=n.querySelector(".".concat(o,"highlighter")),this.badgeEl=n.querySelector(".".concat(o,"badge")),this.placerEl=n.querySelector(".".concat(o,"placeholder")),this.ghostEl=n.querySelector(".".concat(o,"ghost")),this.toolbarEl=n.querySelector(".".concat(o,"toolbar")),this.resizerEl=n.querySelector(".".concat(o,"resizer")),this.offsetEl=n.querySelector(".".concat(o,"offset-v")),this.fixedOffsetEl=n.querySelector(".".concat(o,"offset-fixed-v")),this.toolsGlobEl=n.querySelector(".".concat(o,"tools-gl")),this.spotsEl=n.querySelector("[data-spots]"),this.cvStyle=n.querySelector("[data-canvas-style]"),n.className=(0,Ht.getUiClass)(l,this.className),a.scrollableCanvas===!0&&(n.style.overflow="auto"),this.ready=!0,this._renderFrames(),this},e}(ho);const hI=dI;var pI=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),tl=function(){return tl=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},tl.apply(this,arguments)},vI=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))},gI=function(r){pI(e,r);function e(t){var n=r.call(this,t,"Canvas",s5())||this;return n.events=fv,n.framesById={},n.canvas=new R5(n),n.spots=new j5(n),n.model=n.canvas,n.startAutoscroll=n.startAutoscroll.bind(n),n.stopAutoscroll=n.stopAutoscroll.bind(n),n.autoScroller=new P2,n}return e.prototype.getCanvasView=function(){return this.canvasView},e.prototype.postLoad=function(){this.model.init()},e.prototype.getModel=function(){return this.canvas},e.prototype.getElement=function(){return this.getCanvasView().el},e.prototype.getFrame=function(t){return this.getFrames()[t||0]},e.prototype.getFrameEl=function(){var t=(this.canvasView||{}).frame;return t==null?void 0:t.el},e.prototype.getFramesEl=function(){var t;return(t=this.canvasView)===null||t===void 0?void 0:t.framesArea},e.prototype.getWindow=function(){var t=(this.canvasView||{}).frame;return t==null?void 0:t.getWindow()},e.prototype.getDocument=function(){var t=this.getFrameEl();return t==null?void 0:t.contentDocument},e.prototype.getBody=function(){var t=this.getDocument();return t==null?void 0:t.body},e.prototype._getLocalEl=function(t,n,i){var o=t,a=n==null?void 0:n.frameView;return o=a?a[i]():o,o},e.prototype.getGlobalToolsEl=function(){var t;return(t=this.canvasView)===null||t===void 0?void 0:t.toolsGlobEl},e.prototype.getToolsEl=function(t){return this._getLocalEl(this.getCanvasView().toolsEl,t,"getToolsEl")},e.prototype.getHighlighter=function(t){return this._getLocalEl(this.getCanvasView().hlEl,t,"getHighlighter")},e.prototype.getBadgeEl=function(t){return this._getLocalEl(this.getCanvasView().badgeEl,t,"getBadgeEl")},e.prototype.getPlacerEl=function(){return this.getCanvasView().placerEl},e.prototype.getGhostEl=function(){return this.getCanvasView().ghostEl},e.prototype.getToolbarEl=function(){return this.getCanvasView().toolbarEl},e.prototype.getResizerEl=function(){return this.getCanvasView().resizerEl},e.prototype.getOffsetViewerEl=function(t){return this._getLocalEl(this.getCanvasView().offsetEl,t,"getOffsetViewerEl")},e.prototype.getFixedOffsetViewerEl=function(){return this.getCanvasView().fixedOffsetEl},e.prototype.getSpotsEl=function(){var t;return(t=this.canvasView)===null||t===void 0?void 0:t.spotsEl},e.prototype.render=function(){var t;return(t=this.canvasView)===null||t===void 0||t.remove(),this.canvasView=new hI(this.canvas),this.canvasView.render().el},e.prototype.getOffset=function(){var t=this.offset(this.getFrameEl()),n=this.offset(this.getElement());return{top:t.top-n.top,left:t.left-n.left}},e.prototype.offset=function(t){return this.getCanvasView().offset(t)},e.prototype.setCustomBadgeLabel=function(t){this.config.customBadgeLabel=t},e.prototype.getElementPos=function(t,n){return this.getCanvasView().getElementPos(t,n)},e.prototype.getElementOffsets=function(t){return this.getCanvasView().getElementOffsets(t)},e.prototype.getRect=function(){var t,n=(t=this.getCanvasView().getPosition())!==null&&t!==void 0?t:{},i=n.top,o=i===void 0?0:i,a=n.left,l=a===void 0?0:a;return tl(tl({},this.getCanvasView().getCanvasOffset()),{topScroll:o,leftScroll:l})},e.prototype.getTargetToElementDim=function(t,n,i){i===void 0&&(i={});var o=i||{},a=this.getCanvasView().getPosition();if(a){var l=o.elPos||this.getCanvasView().getElementPos(n),u=i.toRight||0,c=o.targetHeight||t.offsetHeight,d=o.targetWidth||t.offsetWidth,h=o.event||null,g=l.top-c,m=l.left;m+=u?l.width:0,m=u?m-d:m;var b=m<a.left?a.left:m,w=g<a.top?a.top:g;w=w>l.top+l.height?l.top+l.height:w;var x={top:w,left:b,elementTop:l.top,elementLeft:l.left,elementWidth:l.width,elementHeight:l.height,targetWidth:t.offsetWidth,targetHeight:t.offsetHeight,canvasTop:a.top,canvasLeft:a.left,canvasWidth:a.width,canvasHeight:a.height};return h&&this.em&&this.em.trigger(h,x),x}},e.prototype.canvasRectOffset=function(t,n,i){var o=this;i===void 0&&(i={});var a=function(u){var c=u.defaultView;return c==null?void 0:c.frameElement},l=function(u,c,d){c===void 0&&(c=1);var h=o.em.getZoomDecimal(),g=c?"top":"left",m=u.ownerDocument,b=i.offset?a(m):{},w=b.offsetTop,x=w===void 0?0:w,_=b.offsetLeft,C=_===void 0?0:_,O=m.body||{},A=O.scrollTop,I=A===void 0?0:A,Q=O.scrollLeft,$=Q===void 0?0:Q,Z=c?I:$,P=c?x:C;return d[g]-(Z-P)*h};return{top:l(t,1,n),left:l(t,0,n)}},e.prototype.getTargetToElementFixed=function(t,n,i){i===void 0&&(i={});var o=i.pos||this.getElementPos(t,{noScroll:!0}),a=i.canvasOff||this.canvasRectOffset(t,o),l=n.offsetHeight||0,u=n.offsetWidth||0,c=this.getCanvasView(),d=c.getCanvasScroll(),h=d.scrollTop,g=d.scrollLeft,m=c.getPosition(),b=i.event,w=o.width-u,x=-l,_=(0,z.isUndefined)(i.left)?w:i.left,C=Math.max(-o.left+g,0);_=Math.max(_,C);var O=o.width-u;_=Math.min(_,O);var A=m.width+g-u-o.left;_=Math.min(_,A);var I=a.top<l+h,Q=x;if(I){var $=o.height+l,Z=$<m.height;if(Z)Q=Q+$;else{var P=-a.top+h;Q=P<o.height?P:o.height}}var tt={top:Q,left:_,canvasOffsetTop:a.top,canvasOffsetLeft:a.left,elRect:o,canvasOffset:a,canvasRect:m,targetWidth:u,targetHeight:l};return b&&this.em.trigger(b,tt),tt},e.prototype.getMouseRelativePos=function(t,n){n===void 0&&(n={});var i=n.subWinOffset,o=t.target,a=o.nodeType===Node.DOCUMENT_NODE?o:o.ownerDocument,l=a.defaultView||a.parentWindow,u=l.frameElement,c=i?l.pageYOffset:0,d=i?l.pageXOffset:0,h=this.getZoomMultiplier(),g=0,m=0;if(u){var b=u.getBoundingClientRect();g=b.top||0,m=b.left||0}return{y:(t.clientY+g-c)*h,x:(t.clientX+m-d)*h}},e.prototype.getMouseRelativeCanvas=function(t,n){var i,o=this.getZoomDecimal(),a=this.getCanvasView(),l=(i=a.getPosition(n))!==null&&i!==void 0?i:{top:0,left:0},u=a.getCanvasScroll(),c={top:l.top+u.scrollTop,left:l.left+u.scrollLeft},d=c.top,h=c.left;return{y:t.clientY*o+d,x:t.clientX*o+h}},e.prototype.startDrag=function(t){this.em.set("dragSource",t)},e.prototype.endDrag=function(){this.em.set({dragResult:null,dragSource:void 0})},e.prototype.hasFocus=function(){return this.getDocument().hasFocus()},e.prototype.isInputFocused=function(){var t=this.getDocument(),n=this.getFrameEl(),i=vI(["body"],this.config.notTextable,!0),o=n&&document.activeElement===n,a=o?t&&t.activeElement:document.activeElement;return a&&!i.some(function(l){return a.matches(l)})},e.prototype.scrollTo=function(t,n){n===void 0&&(n={});var i=(0,Ht.getElement)(t),o=i&&(0,Ht.getViewEl)(i);o&&o.scrollIntoView(n)},e.prototype.startAutoscroll=function(t){var n=t&&t.view||this.em.getCurrentFrame();if(n&&n.startAutoscroll(),this.config.scrollableCanvas){var i=this.getCanvasView().el;this.autoScroller.start(i,i,{zoom:this.em.getZoomDecimal()})}},e.prototype.stopAutoscroll=function(t){var n=t&&t.view||this.em.getCurrentFrame();n&&n.stopAutoscroll(),this.config.scrollableCanvas&&this.autoScroller.stop()},e.prototype.setZoom=function(t,n){return n===void 0&&(n={}),this.canvas.set("zoom",typeof t=="string"?parseFloat(t):t,n),this},e.prototype.getZoom=function(){return parseFloat(this.canvas.get("zoom"))},e.prototype.setCoords=function(t,n,i){var o;i===void 0&&(i={});var a=t||t===0,l=n||n===0,u={x:this.canvas.get("x"),y:this.canvas.get("y")};if(a&&(u.x=parseFloat("".concat(t))),l&&(u.y=parseFloat("".concat(n))),i.toWorld){var c=(o=this.canvasView)===null||o===void 0?void 0:o.getViewportDelta();c&&(a&&(u.x=u.x-c.x),l&&(u.y=u.y-c.y))}return this.canvas.set(u),this},e.prototype.getCoords=function(){var t=this.canvas.attributes,n=t.x,i=t.y;return{x:n,y:i}},e.prototype.getPointer=function(t){var n=this.canvas.attributes,i=n.pointer,o=n.pointerScreen;return t?o:i},e.prototype.getZoomDecimal=function(){return this.getZoom()/100},e.prototype.getZoomMultiplier=function(){var t=this.getZoomDecimal();return t?1/t:1},e.prototype.fitViewport=function(t){var n;(n=this.canvasView)===null||n===void 0||n.fitViewport(t)},e.prototype.toggleFramesEvents=function(t){var n=this.getFramesEl().style;n.pointerEvents=t?"":"none"},e.prototype.getFrames=function(){return this.canvas.frames.map(function(t){return t})},e.prototype.addFrame=function(t,n){return t===void 0&&(t={}),n===void 0&&(n={}),this.canvas.frames.add(new h2(this,tl({},t)),n)},e.prototype.getLastDragResult=function(){return this.em.get("dragResult")},e.prototype.addSpot=function(t,n){var i;n===void 0&&(n={});var o=t,a=this.getSpots(o);if(a.length){var l=a[0];return l.set(o),l}var u=o.componentView||((i=o.component)===null||i===void 0?void 0:i.view),c=new lo.A(this,tl(tl({},o),{id:o.id||"cs_".concat(o.type,"_").concat(u==null?void 0:u.cid),type:o.type||""}));return this.spots.add(c,n),c},e.prototype.getSpots=function(t){return t===void 0&&(t={}),this.spots.where(t.id?{id:t.id}:t)},e.prototype.removeSpots=function(t){t===void 0&&(t={});var n=(0,z.isArray)(t)?t:this.getSpots(t),i=this.spots.remove(n);return i},e.prototype.hasCustomSpot=function(t){var n=this.config.customSpots;return!!(n===!0||n&&t&&n[t])},e.prototype.getWorldRectToScreen=function(t){var n;return(n=this.canvasView)===null||n===void 0?void 0:n.getRectToScreen(t)},e.prototype.refresh=function(t){t===void 0&&(t={});var n=this,i=n.em,o=n.events,a=n.canvasView;a==null||a.clearOff(),(t.spots||t.all)&&(this.refreshSpots(),i.trigger("canvas:updateTools")),i.set("canvasOffset",this.getOffset()),i.trigger(o.refresh,t)},e.prototype.refreshSpots=function(){this.spots.refresh()},e.prototype.destroy=function(){var t=this,n;this.canvas.stopListening(),(n=this.canvasView)===null||n===void 0||n.remove(),["model","droppable"].forEach(function(i){return t[i]={}})},e}(Oi);const mI=gI;var yI=function(){return{stylePrefix:"comp-",components:[],draggableComponents:!0,disableTextInnerChilds:!1,processor:void 0,useFrameDoc:!1,voidElements:["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"]}};const _I=yI;var bI=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),xv=function(){return xv=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},xv.apply(this,arguments)},wI=function(r){bI(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"defaults",{get:function(){return xv(xv({},r.prototype.defaults),{tagName:"",droppable:!1,layerable:!1,selectable:!1,editable:!0})},enumerable:!1,configurable:!0}),e.prototype.toHTML=function(){var t=this.content,n=this.parent();return n!=null&&n.is("script")?t:this.__escapeContent(t)},e.prototype.__escapeContent=function(t){return(0,Ht.escapeNodeContent)(t)},e.isComponent=function(t){var n;if(t.nodeType===3)return{type:"textnode",content:(n=t.textContent)!==null&&n!==void 0?n:""}},e}(Bn);const R2=wI;var SI=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),__=function(){return __=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},__.apply(this,arguments)},CI=function(r){SI(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"defaults",{get:function(){return __({},r.prototype.defaults)},enumerable:!1,configurable:!0}),e.prototype.toHTML=function(){return"<!--".concat(this.content,"-->")},e.isComponent=function(t){var n;if(t.nodeType==8)return{type:"comment",content:(n=t.textContent)!==null&&n!==void 0?n:""}},e}(R2);const xI=CI;var OI=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ov=function(){return Ov=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Ov.apply(this,arguments)},Oy="iframe",EI=function(r){OI(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"defaults",{get:function(){return Ov(Ov({},r.prototype.defaults),{type:Oy,tagName:Oy,droppable:!1,resizable:!0,traits:["id","title","src"],attributes:{frameborder:"0"}})},enumerable:!1,configurable:!0}),e.isComponent=function(t){return(0,Ht.toLowerCase)(t.tagName)===Oy},e}(Bn);const TI=EI;var AI=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ev=function(){return Ev=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Ev.apply(this,arguments)},o1='xmlns="http://www.w3.org/2000/svg" width="100" viewBox="0 0 24 24" style="fill: rgba(0,0,0,0.15); transform: scale(0.75)"',DI=function(r){AI(e,r);function e(t,n){t===void 0&&(t={});var i=r.call(this,t,n)||this,o=i.get("attributes").src;return o&&(0,Ht.buildBase64UrlFromSvg)((0,z.result)(i,"defaults").src)!==o&&i.set("src",o,{silent:!0}),i}return Object.defineProperty(e.prototype,"defaults",{get:function(){return Ev(Ev({},r.prototype.defaults),{type:"image",tagName:"img",void:!0,droppable:0,editable:1,highlightable:0,resizable:{ratioDefault:1},traits:["alt"],src:"<svg ".concat(o1,`>
        <path d="M8.5 13.5l2.5 3 3.5-4.5 4.5 6H5m16 1V5a2 2 0 0 0-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2z"></path>
      </svg>`),fallback:"<svg ".concat(o1,`>
        <path d="M2.28 3L1 4.27l2 2V19c0 1.1.9 2 2 2h12.73l2 2L21 21.72 2.28 3m2.55 0L21 19.17V5a2 2 0 0 0-2-2H4.83M8.5 13.5l2.5 3 1-1.25L14.73 18H5l3.5-4.5z"></path>
      </svg>`),file:""})},enumerable:!1,configurable:!0}),e.prototype.initToolbar=function(){r.prototype.initToolbar.call(this);var t=this.em;if(t){var n=t.Commands,i="image-editor";if(n.has(i)){for(var o=!1,a=this.get("toolbar"),l=0;l<a.length;l++)if(a[l].command==="image-editor"){o=!0;break}o||(a.push({attributes:{class:"fa fa-pencil"},command:i}),this.set("toolbar",a))}}},e.prototype.getAttrToHTML=function(){var t=r.prototype.getAttrToHTML.call(this),n=this.getSrcResult();return n&&(t.src=n),t},e.prototype.getSrcResult=function(t){t===void 0&&(t={});var n=this.get(t.fallback?"fallback":"src")||"",i=n;return n&&n.substr(0,4)==="<svg"&&(i=(0,Ht.buildBase64UrlFromSvg)(n)),i},e.prototype.isDefaultSrc=function(){var t=this.get("src"),n=(0,z.result)(this,"defaults").src;return t===n||t===(0,Ht.buildBase64UrlFromSvg)(n)},e.prototype.toJSON=function(t){var n=r.prototype.toJSON.call(this,t),i=n.attributes;return i&&n.src===i.src&&delete n.src,n},e.prototype.parseUri=function(t){var n={},i=function(o){o===void 0&&(o="");for(var a={},l=o.substring(1).split("&"),u=0;u<l.length;u++){var c=l[u].split("="),d=decodeURIComponent(c[0]);d&&(a[d]=decodeURIComponent(c[1]||""))}return a};if((0,Ht.hasWin)())n=document.createElement("a"),n.href=t;else if(typeof URL<"u")try{n=new URL(t)}catch{}return{hostname:n.hostname||"",pathname:n.pathname||"",protocol:n.protocol||"",search:n.search||"",hash:n.hash||"",port:n.port||"",query:i(n.search)}},e.isComponent=function(t){return(0,Ht.toLowerCase)(t.tagName)==="img"},e}(Bn);const uw=DI;var kI=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Tv=function(){return Tv=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Tv.apply(this,arguments)},PI=function(r){kI(e,r);function e(t,n){t===void 0&&(t={});var i=r.call(this,t,n)||this;return i.__checkInnerChilds(),i}return Object.defineProperty(e.prototype,"defaults",{get:function(){return Tv(Tv({},r.prototype.defaults),{type:"text",droppable:!1,editable:!0})},enumerable:!1,configurable:!0}),e.prototype.__checkInnerChilds=function(){var t=this.em.Components.config.disableTextInnerChilds;if(t){var n=function(i){i.isInstanceOf("textnode")||i.set({locked:!0,layerable:!1})};(0,z.isFunction)(t)?this.forEachChild(function(i){t(i)&&n(i)}):this.forEachChild(n)}},e}(Bn);const cw=PI;var MI=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Av=function(){return Av=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Av.apply(this,arguments)},Ey="label",RI=function(r){MI(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"defaults",{get:function(){return Av(Av({},r.prototype.defaults),{type:Ey,tagName:Ey,traits:["id","title","for"]})},enumerable:!1,configurable:!0}),e.isComponent=function(t){return(0,Ht.toLowerCase)(t.tagName)===Ey},e}(cw);const LI=RI;var NI=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Dv=function(){return Dv=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Dv.apply(this,arguments)},a1="link",jI=function(r){NI(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"defaults",{get:function(){return Dv(Dv({},r.prototype.defaults),{type:a1,tagName:"a",traits:["title","href","target"]})},enumerable:!1,configurable:!0}),e.isComponent=function(t,n){n===void 0&&(n={});var i;if((0,Ht.toLowerCase)(t.tagName)==="a"){var o=n.textTags||[];i={type:a1,editable:!1};var a=t.childNodes,l=a.length;l||delete i.editable,(0,z.forEach)(a,function(u){var c=u.tagName;(u.nodeType==3&&u.textContent.trim()!==""||c&&o.indexOf((0,Ht.toLowerCase)(c))>=0)&&delete i.editable})}return i},e}(cw);const II=jI;var VI=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),kv=function(){return kv=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},kv.apply(this,arguments)},UI=function(r){VI(e,r);function e(t,n){t===void 0&&(t={});var i=r.call(this,t,n)||this;return i.get("src")?i.parseFromSrc():i.updateSrc(),i.listenTo(i,"change:address change:zoom change:mapType",i.updateSrc),i}return Object.defineProperty(e.prototype,"defaults",{get:function(){var t=r.prototype.defaults;return kv(kv({},t),{type:"map",src:"",void:!1,mapUrl:"https://maps.google.com/maps",tagName:"iframe",mapType:"q",address:"",zoom:"1",attributes:{frameborder:0},toolbar:t.toolbar,traits:[{label:"Address",name:"address",placeholder:"eg. London, UK",changeProp:!0},{type:"select",label:"Map type",name:"mapType",changeProp:!0,options:[{id:"q",label:"Roadmap"},{id:"w",label:"Satellite"}]},{label:"Zoom",name:"zoom",type:"range",min:1,max:20,changeProp:!0}]})},enumerable:!1,configurable:!0}),e.prototype.updateSrc=function(){this.set("src",this.getMapUrl())},e.prototype.getMapUrl=function(){var t=this.get("address"),n=this.get("zoom"),i=this.get("mapType");t=t?"&q="+t:"",n=n?"&z="+n:"",i=i?"&t="+i:"";var o=this.get("mapUrl")+"?"+t+n+i;return o+="&output=embed",o},e.prototype.parseFromSrc=function(){var t=this.parseUri(this.get("src")),n=t.query;n.q&&this.set("address",n.q),n.z&&this.set("zoom",n.z),n.t&&this.set("mapType",n.t)},e.isComponent=function(t){if((0,Ht.toLowerCase)(t.tagName)=="iframe"&&/maps\.google\.com/.test(t.src))return{type:"map",src:t.src}},e}(uw);const BI=UI;var FI=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Pv=function(){return Pv=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Pv.apply(this,arguments)},Ty="script",zI=function(r){FI(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"defaults",{get:function(){return Pv(Pv({},r.prototype.defaults),{type:Ty,tagName:Ty,droppable:!1,draggable:!1,layerable:!1,highlightable:!1})},enumerable:!1,configurable:!0}),e.isComponent=function(t){return(0,Ht.toLowerCase)(t.tagName)===Ty},e}(Bn);const HI=zI;var WI=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Mv=function(){return Mv=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Mv.apply(this,arguments)},Ay="svg",KI=function(r){WI(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"defaults",{get:function(){return Mv(Mv({},r.prototype.defaults),{type:Ay,tagName:Ay,highlightable:!1,resizable:{ratioDefault:!0}})},enumerable:!1,configurable:!0}),e.prototype.getName=function(){var t=this.get("tagName"),n=this.get("custom-name");return t=t.charAt(0).toUpperCase()+t.slice(1),n||t},e.isComponent=function(t){return(0,Ht.toLowerCase)(t.tagName)===Ay},e}(Bn);const L2=KI;var qI=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Rv=function(){return Rv=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Rv.apply(this,arguments)},GI=function(r){qI(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"defaults",{get:function(){return Rv(Rv({},r.prototype.defaults),{selectable:!1,hoverable:!1,layerable:!1})},enumerable:!1,configurable:!0}),e.isComponent=function(t,n){return n===void 0&&(n={}),!!n.inSvg},e}(L2);const YI=GI;var XI=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Lv=function(){return Lv=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Lv.apply(this,arguments)},Dy="table",ZI=function(r){XI(e,r);function e(t,n){t===void 0&&(t={});var i=r.call(this,t,n)||this,o=i.get("components");return!o.length&&o.add({type:"tbody"}),i}return Object.defineProperty(e.prototype,"defaults",{get:function(){return Lv(Lv({},r.prototype.defaults),{type:Dy,tagName:Dy,droppable:["tbody","thead","tfoot"]})},enumerable:!1,configurable:!0}),e.isComponent=function(t){return(0,Ht.toLowerCase)(t.tagName)===Dy},e}(Bn);const $I=ZI;var JI=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Nv=function(){return Nv=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Nv.apply(this,arguments)},ky="tbody",QI=function(r){JI(e,r);function e(t,n){t===void 0&&(t={});var i=r.call(this,t,n)||this,o=i.get("components"),a=i.get("columns"),l=i.get("rows");if(!o.length){for(var u=[];l--;){for(var c=[],d=a;d--;)c.push({type:"cell",classes:["cell"]});u.push({type:"row",classes:["row"],components:c})}o.add(u)}return i}return Object.defineProperty(e.prototype,"defaults",{get:function(){return Nv(Nv({},r.prototype.defaults),{type:ky,tagName:ky,draggable:["table"],droppable:["tr"],columns:1,rows:1})},enumerable:!1,configurable:!0}),e.isComponent=function(t){return(0,Ht.toLowerCase)(t.tagName)===ky},e}(Bn);const fw=QI;var tV=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),jv=function(){return jv=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},jv.apply(this,arguments)},eV=function(r){tV(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"defaults",{get:function(){return jv(jv({},r.prototype.defaults),{type:"cell",tagName:"td",draggable:["tr"]})},enumerable:!1,configurable:!0}),e.isComponent=function(t){return["td","th"].indexOf((0,Ht.toLowerCase)(t.tagName))>=0},e}(Bn);const nV=eV;var rV=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Iv=function(){return Iv=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Iv.apply(this,arguments)},Py="tfoot",iV=function(r){rV(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"defaults",{get:function(){return Iv(Iv({},r.prototype.defaults),{type:Py,tagName:Py})},enumerable:!1,configurable:!0}),e.isComponent=function(t){return(0,Ht.toLowerCase)(t.tagName)===Py},e}(fw);const oV=iV;var aV=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Vv=function(){return Vv=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Vv.apply(this,arguments)},My="thead",sV=function(r){aV(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"defaults",{get:function(){return Vv(Vv({},r.prototype.defaults),{type:My,tagName:My})},enumerable:!1,configurable:!0}),e.isComponent=function(t){return(0,Ht.toLowerCase)(t.tagName)===My},e}(fw);const lV=sV;var uV=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Uv=function(){return Uv=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Uv.apply(this,arguments)},s1="tr",cV=function(r){uV(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"defaults",{get:function(){return Uv(Uv({},r.prototype.defaults),{tagName:s1,draggable:["thead","tbody","tfoot"],droppable:["th","td"]})},enumerable:!1,configurable:!0}),e.isComponent=function(t){return(0,Ht.toLowerCase)(t.tagName)===s1},e}(Bn);const fV=cV;var dV=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Bv=function(){return Bv=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Bv.apply(this,arguments)},Ry="video",eu="yt",nu="vi",ru="ytnc",l1="so",Ly=function(r){return r&&r!=="0"},hV=function(r){dV(e,r);function e(t,n){t===void 0&&(t={});var i=r.call(this,t,n)||this;return i.get("src")&&i.parseFromSrc(),i.updatePropsFromAttr(),i.updateTraits(),i.on("change:provider",i.updateTraits),i.on("change:videoId change:provider",i.updateSrc),i}return Object.defineProperty(e.prototype,"defaults",{get:function(){return Bv(Bv({},r.prototype.defaults),{type:Ry,tagName:Ry,videoId:"",void:!1,provider:l1,ytUrl:"https://www.youtube.com/embed/",ytncUrl:"https://www.youtube-nocookie.com/embed/",viUrl:"https://player.vimeo.com/video/",loop:!1,poster:"",muted:0,autoplay:!1,controls:!0,color:"",list:"",src:"",rel:1,modestbranding:0,sources:[],attributes:{allowfullscreen:"allowfullscreen"}})},enumerable:!1,configurable:!0}),e.prototype.updatePropsFromAttr=function(){if(this.get("provider")===l1){var t=this.get("attributes"),n=t.controls,i=t.autoplay,o=t.loop,a={};(0,Ht.isDef)(n)&&(a.controls=!!n),(0,Ht.isDef)(i)&&(a.autoplay=!!i),(0,Ht.isDef)(o)&&(a.loop=!!o),(0,Ht.isEmptyObj)(a)||this.set(a)}},e.prototype.updateTraits=function(){var t=this.em,n=this.get("provider"),i="iframe",o;switch(n){case eu:case ru:o=this.getYoutubeTraits();break;case nu:o=this.getVimeoTraits();break;default:i="video",o=this.getSourceTraits()}this.set({tagName:i},{silent:!0}),this.set({traits:o}),t.get("ready")&&t.trigger("component:toggled")},e.prototype.parseFromSrc=function(){var t=this.get("provider"),n=this.parseUri(this.get("src")),i=n.query;switch(t){case eu:case ru:case nu:this.set("videoId",n.pathname.split("/").pop()),i.list&&this.set("list",i.list),Ly(i.autoplay)&&this.set("autoplay",!0),Ly(i.loop)&&this.set("loop",!0),parseInt(i.controls)===0&&this.set("controls",!1),Ly(i.color)&&this.set("color",i.color),i.rel==="0"&&this.set("rel",0),i.modestbranding==="1"&&this.set("modestbranding",1);break}},e.prototype.updateSrc=function(){var t=this.get("provider"),n="";switch(t){case eu:n=this.getYoutubeSrc();break;case ru:n=this.getYoutubeNoCookieSrc();break;case nu:n=this.getVimeoSrc();break}this.set({src:n})},e.prototype.getAttrToHTML=function(){var t=r.prototype.getAttrToHTML.call(this),n=this.get("provider");switch(n){case eu:case ru:case nu:break;default:t.loop=!!this.get("loop"),t.autoplay=!!this.get("autoplay"),t.controls=!!this.get("controls")}return t},e.prototype.getProviderTrait=function(){return{type:"select",label:"Provider",name:"provider",changeProp:!0,options:[{value:"so",name:"HTML5 Source"},{value:eu,name:"Youtube"},{value:ru,name:"Youtube (no cookie)"},{value:nu,name:"Vimeo"}]}},e.prototype.getSourceTraits=function(){return[this.getProviderTrait(),{label:"Source",name:"src",placeholder:"eg. ./media/video.mp4",changeProp:!0},{label:"Poster",name:"poster",placeholder:"eg. ./media/image.jpg"},this.getAutoplayTrait(),this.getLoopTrait(),this.getControlsTrait()]},e.prototype.getYoutubeTraits=function(){return[this.getProviderTrait(),{label:"Video ID",name:"videoId",placeholder:"eg. jNQXAC9IVRw",changeProp:!0},this.getAutoplayTrait(),this.getLoopTrait(),this.getControlsTrait(),{type:"checkbox",label:"Related",name:"rel",changeProp:!0},{type:"checkbox",label:"Modest",name:"modestbranding",changeProp:!0}]},e.prototype.getVimeoTraits=function(){return[this.getProviderTrait(),{label:"Video ID",name:"videoId",placeholder:"eg. 123456789",changeProp:!0},{label:"Color",name:"color",placeholder:"eg. FF0000",changeProp:!0},this.getAutoplayTrait(),this.getLoopTrait()]},e.prototype.getAutoplayTrait=function(){return{type:"checkbox",label:"Autoplay",name:"autoplay",changeProp:!0}},e.prototype.getLoopTrait=function(){return{type:"checkbox",label:"Loop",name:"loop",changeProp:!0}},e.prototype.getControlsTrait=function(){return{type:"checkbox",label:"Controls",name:"controls",changeProp:!0}},e.prototype.getYoutubeSrc=function(){var t=this.get("videoId"),n=this.get("ytUrl"),i=this.get("list");return n+=t+(t.indexOf("?")<0?"?":""),n+=i?"&list=".concat(i):"",n+=this.get("autoplay")?"&autoplay=1&mute=1":"",n+=this.get("controls")?"":"&controls=0&showinfo=0",n+=this.get("loop")?"&loop=1&playlist=".concat(t):"",n+=this.get("rel")?"":"&rel=0",n+=this.get("modestbranding")?"&modestbranding=1":"",n},e.prototype.getYoutubeNoCookieSrc=function(){var t=this.getYoutubeSrc();return t=t.replace(this.get("ytUrl"),this.get("ytncUrl")),t},e.prototype.getVimeoSrc=function(){var t=this.get("viUrl");return t+=this.get("videoId")+"?",t+=this.get("autoplay")?"&autoplay=1&muted=1":"",t+=this.get("loop")?"&loop=1":"",t+=this.get("controls")?"":"&title=0&portrait=0&badge=0",t+=this.get("color")?"&color="+this.get("color"):"",t},e.isComponent=function(t){var n=t.tagName,i=t.src,o=/youtube\.com\/embed/.test(i),a=/youtube-nocookie\.com\/embed/.test(i),l=/player\.vimeo\.com\/video/.test(i),u=o||a||l;if((0,Ht.toLowerCase)(n)==Ry||(0,Ht.toLowerCase)(n)=="iframe"&&u){var c={type:"video"};return i&&(c.src=i),u&&(o?c.provider=eu:a?c.provider=ru:l&&(c.provider=nu)),c}},e}(uw);const pV=hV;var vV=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Tu=function(){return Tu=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Tu.apply(this,arguments)},gV=function(r){vV(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"defaults",{get:function(){return Tu(Tu({},r.prototype.defaults),{tagName:"body",removable:!1,copyable:!1,draggable:!1,components:[],traits:[],doctype:"",head:null,docEl:null,stylable:["background","background-color","background-image","background-repeat","background-attachment","background-position","background-size"]})},enumerable:!1,configurable:!0}),e.prototype.preInit=function(){var t,n,i=this,o=i.opt,a=i.attributes,l=(t=this.em)===null||t===void 0?void 0:t.Components,u=(n=l==null?void 0:l.getType(Yu))===null||n===void 0?void 0:n.model,c=l==null?void 0:l.getType("default").model;if(u){var d=a.head,h=a.docEl;this.set({head:d&&d instanceof Bn?d:new u(Tu({},d),o),docEl:h&&h instanceof Bn?h:new c(Tu({tagName:"html"},h),o)},{silent:!0})}},Object.defineProperty(e.prototype,"head",{get:function(){return this.get("head")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docEl",{get:function(){return this.get("docEl")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doctype",{get:function(){return this.attributes.doctype||""},enumerable:!1,configurable:!0}),e.prototype.clone=function(t){var n=r.prototype.clone.call(this,t);return n.set("head",this.get("head").clone(t)),n.set("docEl",this.get("docEl").clone(t)),n},e.prototype.toHTML=function(t){t===void 0&&(t={});var n=this.doctype,i=(0,z.isUndefined)(t.asDocument)?!!n:t.asDocument,o=this,a=o.head,l=o.docEl,u=r.prototype.toHTML.call(this,t),c=i&&(a==null?void 0:a.toHTML(t))||"",d=i&&(0,le.kk)(l==null?void 0:l.getAttrToHTML())||"",h=d?" ".concat(d):"";return i?"".concat(n,"<html").concat(h,">").concat(c).concat(u,"</html>"):u},e.prototype.__postAdd=function(){var t,n=(t=this.em)===null||t===void 0?void 0:t.UndoManager;return!this.__hasUm&&(n==null||n.add(this)),r.prototype.__postAdd.call(this)},e.prototype.__postRemove=function(){var t,n=(t=this.em)===null||t===void 0?void 0:t.UndoManager;return n==null||n.remove(this),r.prototype.__postRemove.call(this)},e.isComponent=function(){return!1},e}(Bn);const mV=gV;var yV=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),_V=function(r){yV(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.compView=gn,t}return e.prototype.initialize=function(t){this.opts=t||{},this.config=t.config||{},this.em=this.config.em;var n=this.collection;this.listenTo(n,"add",this.addTo),this.listenTo(n,"reset",this.resetChildren),this.listenTo(n,"remove",this.removeChildren)},e.prototype.removeChildren=function(t,n,i){var o=this;i===void 0&&(i={}),t.views.forEach(function(l){if(l){var u=l.childrenView,c=l.scriptContainer;u&&u.stopListening(),(0,le.YZ)(c),l.remove.apply(l)}});var a=t.components();a.forEach(function(l){return o.removeChildren(l,n,i)})},e.prototype.addTo=function(t){this.addToCollection(t,null,this.collection.indexOf(t))},e.prototype.addToCollection=function(t,n,i){for(var o=this,a=o.config,l=o.opts,u=o.em,c=a.frameView,d=(c==null?void 0:c.model)&&t.getView(c.model),h=l.componentTypes||(u==null?void 0:u.Components.getTypes()),g=t.get("type")||"default",m=this.compView,b=0;b<h.length;b++)if(h[b].id==g){m=h[b].view;break}var w=d||new m({model:t,config:a,componentTypes:h}),x;try{x=w.render().el}catch(A){x=document.createTextNode(""),u.logError(A)}if(n)n.appendChild(x);else{var _=this.parentEl,C=_.childNodes;if((0,z.isUndefined)(i))_.appendChild(x);else{var O=C.length==i;O&&i--,O||!C.length?_.appendChild(x):_.insertBefore(x,C[i])}}return t.opt.temporary||u==null||u.trigger("component:mount",t),x},e.prototype.resetChildren=function(t,n){var i=this;n===void 0&&(n={});var o=n.previousModels;n.skipDomReset||(this.parentEl.innerHTML=""),o==null||o.forEach(function(a){return i.removeChildren(a,i.collection)}),t.each(function(a){return i.addToCollection(a)})},e.prototype.render=function(t){var n=this,i=this.el,o=document.createDocumentFragment();return this.parentEl=t||this.el,this.collection.each(function(a){return n.addToCollection(a,o)}),i.innerHTML="",i.appendChild(o),this},e}(ne.Ss);const N2=_V;var bV=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),No=function(){return No=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},No.apply(this,arguments)},wV=function(r){bV(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.className=function(){return this.getClasses()},e.prototype.tagName=function(){return this.model.get("tagName")},e.prototype.preinitialize=function(t){t===void 0&&(t={}),this.opts=t},e.prototype.initialize=function(t){t===void 0&&(t={});var n=this.model,i=t.config||{},o=i.em,a=n.opt||{},l=this,u=l.$el,c=l.el;this.opts=t,this.modelOpt=a,this.config=i,this.em=o,this.pfx=i.stylePrefix||"",this.ppfx=i.pStylePrefix||"",this.attr=n.get("attributes"),this.classe=this.attr.class||[],this.listenTo(n,"change:style",this.updateStyle),this.listenTo(n,"change:attributes",this.renderAttributes),this.listenTo(n,"change:highlightable",this.updateHighlight),this.listenTo(n,"change:status change:locked",this.updateStatus),this.listenTo(n,"change:script rerender",this.reset),this.listenTo(n,"change:content",this.updateContent),this.listenTo(n,"change",this.handleChange),this.listenTo(n,"active",this.onActive),this.listenTo(n,"disable",this.onDisable),u.data("model",n),(0,Ht.setViewEl)(c,this),n.view=this,this.frameView&&n.views.push(this),this.initClasses(),this.initComponents({avoidRender:!0}),this.events=No(No({},this.constructor.getEvents()),{dragstart:"handleDragStart"}),this.delegateEvents(),!a.temporary&&this.init(this._clbObj())},Object.defineProperty(e.prototype,"__cmpStyleOpts",{get:function(){return{state:"",mediaText:""}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"frameView",{get:function(){return this.opts.config.frameView},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"createDoc",{get:function(){var t,n,i=((t=this.frameView)===null||t===void 0?void 0:t.getDoc())||document;return!((n=this.opts.config)===null||n===void 0)&&n.useFrameDoc?i:document},enumerable:!1,configurable:!0}),e.prototype.__isDraggable=function(){var t=this,n=t.model,i=t.config,o=n.attributes.draggable;return i.draggableComponents&&o},e.prototype._clbObj=function(){var t=this,n=t.em,i=t.model,o=t.el;return{editor:n==null?void 0:n.getEditor(),model:i,el:o}},e.prototype.init=function(t){},e.prototype.removed=function(t){},e.prototype.onRender=function(t){},e.prototype.onActive=function(t){},e.prototype.onDisable=function(t){},e.prototype.remove=function(){var t;r.prototype.remove.call(this);var n=this,i=n.model,o=n.$el,a=i.views,l=this.frameView||{};return i.components().forEach(function(u){var c=u.getView(l.model);c==null||c.remove()}),(t=this.childrenView)===null||t===void 0||t.remove(),a.splice(a.indexOf(this),1),this.removed(this._clbObj()),o.data({model:"",collection:"",view:""}),this},e.prototype.handleDragStart=function(t){if(!this.__isDraggable())return!1;t.stopPropagation(),t.preventDefault();var n=this.em.getSelectedAll(),i=n.includes(this.model)?n:[this.model];this.em.Commands.run("tlb-move",{target:i,event:t})},e.prototype.initClasses=function(){var t=this.model,n=t.classes,i="change:classes";n instanceof ms&&(this.stopListening(t,i,this.initClasses),this.listenTo(t,i,this.initClasses),this.listenTo(n,"add remove change reset",this.updateClasses),n.length&&this.importClasses())},e.prototype.initComponents=function(t){t===void 0&&(t={});var n=this,i=n.model,o=n.$el,a=n.childrenView,l="change:components",u=i.get("components"),c=[i,l,this.initComponents];u instanceof yd&&(o.data("collection",u),a&&a.remove(),this.stopListening.apply(this,c),!t.avoidRender&&this.renderChildren(),this.listenTo.apply(this,c))},e.prototype.handleChange=function(){var t=this.model,n=(0,z.keys)(t.changed);if(!(n.length===1&&n[0]==="status")){t.emitUpdate();for(var i in t.changed)t.emitUpdate(i)}},e.prototype.importClasses=function(){var t=this,n=t.em,i=t.model,o=n.Selectors;o&&i.classes.forEach(function(a){return o.add(a.getName())})},e.prototype.updateStatus=function(t){t===void 0&&(t={});var n=this,i=n.em,o=n.el,a=n.ppfx,l=n.model,u=i==null?void 0:i.Canvas,c=u==null?void 0:u.config.extHl,d=l.get("status"),h="".concat(a,"selected"),g="".concat(h,"-parent"),m="".concat(a,"freezed"),b="".concat(a,"hovered"),w="".concat(a,"no-pointer"),x="".concat(a,"pointer-init"),_=[h,g,m,b,w,x],C=c&&!t.noExtHl?"":h;this.$el.removeClass(_.join(" "));var O=o.getAttribute("class")||"",A=[O],I=!(u!=null&&u.hasCustomSpot(lo.F.Select)),Q=!(u!=null&&u.hasCustomSpot(lo.F.Target));switch(d){case"selected":I&&A.push(C);break;case"selected-parent":Q&&A.push(g);break;case"freezed":A.push(m);break;case"freezed-selected":A.push(m),I&&A.push(C);break;case"hovered":!t.avoidHover&&A.push(b);break}(0,z.isBoolean)(l.locked)&&A.push(l.locked?w:x);var $=A.filter(Boolean).join(" ");$&&o.setAttribute("class",$)},e.prototype.updateHighlight=function(){var t=this.model,n=t.get("textable"),i=t.get("highlightable")&&(n||!t.isChildOf("text"));this.setAttribute("data-gjs-highlightable",i?!0:"")},e.prototype.updateStyle=function(t,n,i){i===void 0&&(i={});var o=this,a=o.model,l=o.em;if(Sf(l)&&!i.inline){var u=this.__cmpStyleOpts,c=a.getStyle(No({inline:!0},u));!(0,z.isEmpty)(c)&&a.setStyle(c,u)}else this.setAttribute("style",a.styleToString(i))},e.prototype.updateStyles=function(){this.updateStyle()},e.prototype.updateClasses=function(){var t=this.model.classes.pluck("name").join(" ");this.setAttribute("class",t),this.updateStatus(),this.onAttrUpdate()},e.prototype.setAttribute=function(t,n){var i=this.$el;n?i.attr(t,n):i.removeAttr(t)},e.prototype.getClasses=function(){return this.model.getClasses().join(" ")},e.prototype.updateAttributes=function(){var t=[],n=this,i=n.model,o=n.$el,a=n.el,l=i.attributes,u=l.textable,c=l.type,d=No(No({id:i.getId(),"data-gjs-type":c||"default"},this.__isDraggable()&&{draggable:!0}),u&&{contenteditable:"false"});(0,z.each)(a.attributes,function(g){return t.push(g.nodeName)}),t.forEach(function(g){return o.removeAttr(g)}),this.updateStyle(),this.updateHighlight();var h=No(No({},d),i.getAttributes());(0,z.keys)(h).forEach(function(g){return h[g]===!1&&delete h[g]}),o.attr(h)},e.prototype.updateContent=function(){var t=this.model.content,n=this.model.components().length;this.getChildrenContainer().innerHTML=n?"":t},e.prototype.prevDef=function(t){t.preventDefault()},e.prototype.updateScript=function(){var t=this,n=t.model,i=t.em;n.get("script")&&(i==null||i.Canvas.getCanvasView().updateScript(this))},e.prototype.getChildrenContainer=function(){var t=this.el;return typeof this.getChildrenSelector=="function"?t=this.el.querySelector(this.getChildrenSelector()):this.getTemplate,t},e.prototype.getOffsetRect=function(){var t={top:0,left:0,bottom:0,right:0},n=this.el,i=0,o=0,a=function(l){var u=l.offsetParent;u?(i+=u.offsetTop,o+=u.offsetLeft,a(u)):(t.top=n.offsetTop+i,t.left=n.offsetLeft+o,t.bottom=t.top+n.offsetHeight,t.right=t.left+n.offsetWidth)};return a(n),t},e.prototype.isInViewport=function(){var t=this,n=t.el,i=t.em,o=t.frameView,a=i.Canvas.getCanvasView(),l=a.getElBoxRect(n,{local:!0}),u=o.el,c=u.clientHeight,d=u.clientWidth,h=l.y,g=l.x,m=h+l.height,b=g+l.width,w=h>=0&&h<c,x=m>0&&m<c,_=b>=0&&b<d,C=g>0&&g<=d,O=(w||x)&&(_||C);return O},e.prototype.scrollIntoView=function(t){var n;t===void 0&&(t={});var i=this.isInViewport();if(!i||t.force){var o=this.el;if(t.behavior!=="smooth"){var a=this.getOffsetRect();(n=o.ownerDocument.defaultView)===null||n===void 0||n.scrollTo(0,a.top)}else o.scrollIntoView(No({behavior:"smooth",block:"nearest"},t))}},e.prototype.reset=function(){var t=this,n=t.el,i=t.model;t.scriptContainer&&i.emitWithEditor(mn.I.scriptUnmount,{component:i,view:t,el:n}),this.el="",this._ensureElement(),this._setData(),(0,le.bG)(n,this.el),this.render()},e.prototype._setData=function(){var t=this,n=t.model,i=t.el,o=n.components(),a=this;this.$el.data({model:n,collection:o,view:a}),(0,Ht.setViewEl)(i,this)},e.prototype._createElement=function(t){return this.createDoc.createElement(t)},e.prototype.renderChildren=function(){this.updateContent();var t=this.getChildrenContainer(),n=this.childrenView||new N2({collection:this.model.get("components"),config:this.config,componentTypes:this.opts.componentTypes});n.render(t),this.childrenView=n;for(var i=Array.prototype.slice.call(n.el.childNodes),o=0,a=i.length;o<a;o++)t.appendChild(i.shift())},e.prototype.renderAttributes=function(){this.updateAttributes(),this.updateClasses()},e.prototype.onAttrUpdate=function(){},e.prototype.render=function(){return this.renderAttributes(),this.modelOpt.temporary?this:(this.renderChildren(),this.updateScript(),(0,Ht.setViewEl)(this.el,this),this.postRender(),this)},e.prototype.postRender=function(){if(!this.modelOpt.temporary){var t=this,n=t.model,i=t.el;this.onRender(this._clbObj()),n.emitWithEditor(mn.I.render,{component:n,view:this,el:i})}},e.getEvents=function(){return(0,z.result)(this.prototype,"events")},e}(ne.Ss);const gn=wV;var SV=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),CV=function(r){SV(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype._setAttributes=function(){},e.prototype.renderAttributes=function(){},e.prototype.updateStatus=function(){},e.prototype.updateClasses=function(){},e.prototype.setAttribute=function(){},e.prototype.updateAttributes=function(){},e.prototype.initClasses=function(){},e.prototype.initComponents=function(){},e.prototype.delegateEvents=function(){return this},e.prototype._createElement=function(){return document.createTextNode("")},e.prototype.render=function(){var t=this,n=t.model,i=t.el;return n.opt.temporary?this:(i.textContent=n.content,this)},e}(gn);const j2=CV;var xV=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),OV=function(r){xV(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype._createElement=function(){return document.createComment(this.model.content)},e}(j2);const EV=OV;var TV=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),AV=function(r){TV(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.tagName=function(){return"div"},e.prototype.initialize=function(t){r.prototype.initialize.call(this,t),this.listenTo(this.model,"change:attributes:src",this.updateSrc)},e.prototype.updateSrc=function(){var t=(0,le.I6)(this.el,"iframe")[0];t&&(0,le.X6)(t,{src:this.__getSrc()})},e.prototype.render=function(){r.prototype.render.call(this);var t=(0,le.a_)("iframe",{class:"".concat(this.ppfx,"no-pointer"),style:"width: 100%; height: 100%; border: none",src:this.__getSrc()});return this.el.appendChild(t),this},e.prototype.__getSrc=function(){return this.model.getAttributes().src||""},e}(gn);const DV=AV;var kV=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),PV=function(r){kV(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.tagName=function(){return"img"},e.prototype.events=function(){return{dblclick:"onActive",click:"initResize",error:"onError",load:"onLoad",dragstart:"noDrag"}},e.prototype.initialize=function(t){r.prototype.initialize.call(this,t),this.listenTo(this.model,"change:src",this.updateSrc),this.classEmpty="".concat(this.ppfx,"plh-image"),this.fetchFile()},e.prototype.fetchFile=function(){if(!this.modelOpt.temporary){var t=this,n=t.model,i=t.em,o=n.get("file");if(o&&i){var a=i.Assets.FileUploader();a==null||a.uploadFile({dataTransfer:{files:[o]}},function(l){var u=l&&l.data&&l.data[0],c=u&&((0,z.isString)(u)?u:u.src);c&&n.set({src:c})}),n.set("file","")}}},e.prototype.updateSrc=function(){var t=this.model;t.addAttributes({src:t.getSrcResult()}),this.updateClasses()},e.prototype.updateClasses=function(){r.prototype.updateClasses.call(this);var t=this,n=t.el,i=t.classEmpty,o=t.model,a=o.getSrcResult()&&!o.isDefaultSrc(),l=a?"remove":"add";n.classList[l](i)},e.prototype.onActive=function(t){t==null||t.stopPropagation();var n=this,i=n.em,o=n.model,a=i==null?void 0:i.Assets;a&&o.get("editable")&&a.open({select:function(l,u){o.set({src:l.getSrc()}),u&&a.close()},target:o,types:["image"],accept:"image/*"})},e.prototype.onError=function(){var t=this,n=t.model,i=t.el,o=n.getSrcResult({fallback:!0});o&&(i.srcset&&(i.srcset=""),i.src=o)},e.prototype.onLoad=function(){this.em.Canvas.refresh({all:!0})},e.prototype.noDrag=function(t){return t.preventDefault(),!1},e.prototype.render=function(){if(this.renderAttributes(),this.modelOpt.temporary)return this;this.updateSrc();var t=this,n=t.$el,i=t.model,o=n.attr("class")||"";return!i.get("src")&&n.attr("class","".concat(o," ").concat(this.classEmpty).trim()),this.postRender(),this},e}(gn);const dw=PV;var MV=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),el=function(){return el=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},el.apply(this,arguments)},Hh=function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function l(d){try{c(n.next(d))}catch(h){a(h)}}function u(d){try{c(n.throw(d))}catch(h){a(h)}}function c(d){d.done?o(d.value):i(d.value).then(l,u)}c((n=n.apply(r,e||[])).next())})},Wh=function(r,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(c){return function(d){return u([c,d])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(t=0)),t;)try{if(n=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){t.label=c[1];break}if(c[0]===6&&t.label<o[1]){t.label=o[1],o=c;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(c);break}o[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(r,t)}catch(d){c=[6,d],i=0}finally{n=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},RV=function(r){MV(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.events=function(){return{dblclick:"onActive",input:"onInput"}},e.prototype.initialize=function(t){r.prototype.initialize.call(this,t),(0,z.bindAll)(this,"disableEditing","onDisable");var n=this.model,i=this.em;this.listenTo(n,"focus",this.onActive),this.listenTo(n,"change:content",this.updateContentText),this.listenTo(n,"sync:content",this.syncContent),this.rte=i==null?void 0:i.RichTextEditor},e.prototype.updateContentText=function(t,n,i){i===void 0&&(i={}),!i.fromDisable&&this.disableEditing()},e.prototype.canActivate=function(){var t=this,n=t.model,i=t.rteEnabled,o=t.em,a=o==null?void 0:o.getEditing(),l=a===n,u=!0,c=!1,d;if((i||!n.get("editable")||l||(c=n.isChildOf("text")))&&(u=!1,c&&!n.get("textable"))){for(var h=n.parent();h&&!h.isInstanceOf("text");)h=h.parent();h&&h.get("editable")?d=h:u=!0}return{result:u,delegate:d}},e.prototype.onActive=function(t){return Hh(this,void 0,void 0,function(){var n,i,o,a,l,u,c,d,h,g,m,b;return Wh(this,function(w){switch(w.label){case 0:return n=this,i=n.rte,o=n.em,a=this.canActivate(),l=a.result,u=a.delegate,l?((b=t==null?void 0:t.stopPropagation)===null||b===void 0||b.call(t),c=this,[4,this.getContent()]):(u&&((m=t==null?void 0:t.stopPropagation)===null||m===void 0||m.call(t),o.setSelected(u),u.trigger("active",t)),[2]);case 1:if(c.lastContent=w.sent(),!i)return[3,5];w.label=2;case 2:return w.trys.push([2,4,,5]),d=this,h=this,[4,i.enable(d,this.activeRte,{event:t,view:d})];case 3:return h.activeRte=w.sent(),[3,5];case 4:return g=w.sent(),o.logError(g),[3,5];case 5:return this.toggleEvents(!0),[2]}})})},e.prototype.onDisable=function(t){this.disableEditing(t)},e.prototype.disableEditing=function(){return Hh(this,arguments,void 0,function(t){var n,i,o,a,l,u,c,d,h;return t===void 0&&(t={}),Wh(this,function(g){switch(g.label){case 0:return n=this,i=n.model,o=n.rte,a=n.activeRte,l=n.em,u=i&&i.get("editable"),o?(c={},[4,this.getContent()]):[3,7];case 1:d=g.sent(),g.label=2;case 2:return g.trys.push([2,4,,5]),[4,o.disable(this,a,t)];case 3:return c=g.sent(),[3,5];case 4:return h=g.sent(),l.logError(h),[3,5];case 5:return u&&(d!==this.lastContent||c.forceSync)?[4,this.syncContent(el(el({},t),{content:d}))]:[3,7];case 6:g.sent(),this.lastContent="",g.label=7;case 7:return this.toggleEvents(),[2]}})})},e.prototype.getContent=function(){return Hh(this,void 0,void 0,function(){var t,n,i,o;return Wh(this,function(a){switch(a.label){case 0:return t=this,n=t.rte,i=t.activeRte,o="",n?[4,n.getContent(this,i)]:[3,2];case 1:o=a.sent(),a.label=2;case 2:return[2,o]}})})},e.prototype.syncContent=function(){return Hh(this,arguments,void 0,function(t){var n,i,o,a,l,u,c,d,h;return t===void 0&&(t={}),Wh(this,function(g){switch(g.label){case 0:return n=this,i=n.model,o=n.rte,a=n.rteEnabled,!a&&!t.force?[2]:(h=t.content)!==null&&h!==void 0?(u=h,[3,3]):[3,1];case 1:return[4,this.getContent()];case 2:u=g.sent(),g.label=3;case 3:return l=u,c=i.components(),d=el({fromDisable:1},t),i.set("content","",d),o!=null&&o.customRte&&!o.customRte.parseContent?(c.length&&c.reset(void 0,el(el({},t),{keepIds:Cu(c)})),i.set("content",l,d)):c.resetFromString(l,t),[2]}})})},e.prototype.insertComponent=function(t,n){var i;n===void 0&&(n={});var o=this,a=o.model,l=o.el,u=l.ownerDocument,c=u.getSelection();if(c!=null&&c.rangeCount){var d=c.getRangeAt(0),h=d.startContainer,g=d.startOffset,m=(0,Ht.getComponentModel)(h),b=[];if(m&&(!((i=m.is)===null||i===void 0)&&i.call(m,"textnode"))){var w=m.collection;w.forEach(function(C){if(C===m){var O="textnode",A=n.useDomContent?h.textContent||"":C.content;b.push({type:O,content:A.slice(0,g)}),b.push(t),b.push({type:O,content:A.slice(g)})}else b.push(C)});var x=b.filter(Boolean),_=x.indexOf(t);return w.reset(x,n),w.at(_)}}return a.append(t,n)},e.prototype.onInput=function(){var t,n="component",i=["".concat(n,":update"),"".concat(n,":input")].join(" ");(t=this.em)===null||t===void 0||t.trigger(i,this.model)},e.prototype.disablePropagation=function(t){t.stopPropagation()},e.prototype.toggleEvents=function(t){var n=this,i=n.em,o=n.model,a=n.$el,l={on:le.on,off:le.AU},u=t?"on":"off";i.setEditing(t?this:!1),this.rteEnabled=!!t;var c=[this.el.ownerDocument,document];if(l.off(c,"mousedown",this.onDisable),l[u](c,"mousedown",this.onDisable),i[u]("toolbar:run:before",this.onDisable),o&&(o[u]("removed",this.onDisable),o.trigger("rte:".concat(t?"enable":"disable"))),a==null||a.off("mousedown",this.disablePropagation),a&&a[u]("mousedown",this.disablePropagation),this.config.draggableComponents)for(var d=this.el;d;)d.draggable=!t,d=d.parentNode,d&&d.tagName=="BODY"&&(d=0)},e}(gn);const I2=RV;var LV=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),NV=function(r){LV(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.render=function(){return r.prototype.render.call(this),this.el.addEventListener("click",this.prevDef,!0),this},e}(I2);const V2=NV;var jV=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),IV=function(r){jV(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e}(V2);const VV=IV;var UV=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),BV=function(r){UV(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.tagName=function(){return"div"},e.prototype.events=function(){return{}},e.prototype.initialize=function(t){r.prototype.initialize.call(this,t),this.classEmpty=this.ppfx+"plh-map"},e.prototype.updateSrc=function(){this.getIframe().src=this.model.get("src")},e.prototype.getIframe=function(){if(!this.iframe){var t=document.createElement("iframe");t.src=this.model.get("src"),t.frameBorder="0",t.style.height="100%",t.style.width="100%",t.className=this.ppfx+"no-pointer",this.iframe=t}return this.iframe},e.prototype.render=function(){return r.prototype.render.call(this),this.updateClasses(),this.el.appendChild(this.getIframe()),this},e}(dw);const FV=BV;var zV=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),HV=function(r){zV(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.tagName=function(){return"script"},e.prototype.events=function(){return{}},e}(gn);const WV=HV;var KV=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),qV=function(r){KV(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype._createElement=function(t){return document.createElementNS("http://www.w3.org/2000/svg",t)},e}(gn);const u1=qV;var GV=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),YV=function(r){GV(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e}(gn);const XV=YV;var ZV=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),$V=function(r){ZV(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e}(gn);const JV=$V;var QV=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),tU=function(r){QV(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e}(gn);const eU=tU;var nU=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),rU=function(r){nU(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e}(gn);const iU=rU;var oU=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),aU=function(r){oU(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e}(gn);const sU=aU;var lU=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),uU=function(r){lU(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.events=function(){return{}},e}(gn);const cU=uU;var fU=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),dU=function(r){fU(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.tagName=function(){return"div"},e.prototype.events=function(){return{}},e.prototype.initialize=function(){gn.prototype.initialize.apply(this,arguments);var t=this.model,n=["loop","autoplay","controls","color","rel","modestbranding","poster"],i=n.map(function(o){return"change:".concat(o)}).join(" ");this.listenTo(t,"change:provider",this.updateProvider),this.listenTo(t,"change:src",this.updateSrc),this.listenTo(t,i,this.updateVideo)},e.prototype.updateProvider=function(){var t=this.model.get("provider");this.el.innerHTML="",this.el.appendChild(this.renderByProvider(t))},e.prototype.updateSrc=function(){var t=this,n=t.model,i=t.videoEl;if(i){var o=n.get("provider"),a=n.get("src");switch(o){case"yt":a=n.getYoutubeSrc();break;case"ytnc":a=n.getYoutubeNoCookieSrc();break;case"vi":a=n.getVimeoSrc();break}i.src=a}},e.prototype.updateVideo=function(){var t=this,n=t.model,i=t.videoEl,o=n.get("provider");switch(o){case"yt":case"ytnc":case"vi":n.trigger("change:videoId");break;default:if(i){var a=i;a.loop=n.get("loop"),a.autoplay=n.get("autoplay"),a.controls=n.get("controls"),a.poster=n.get("poster")}}},e.prototype.renderByProvider=function(t){var n;switch(t){case"yt":n=this.renderYoutube();break;case"ytnc":n=this.renderYoutubeNoCookie();break;case"vi":n=this.renderVimeo();break;default:n=this.renderSource()}return this.videoEl=n,n},e.prototype.renderSource=function(){var t=document.createElement("video");return t.src=this.model.get("src"),this.initVideoEl(t),t},e.prototype.renderYoutube=function(){var t=document.createElement("iframe");return t.src=this.model.getYoutubeSrc(),t.frameBorder="0",t.setAttribute("allowfullscreen","true"),this.initVideoEl(t),t},e.prototype.renderYoutubeNoCookie=function(){var t=document.createElement("iframe");return t.src=this.model.getYoutubeNoCookieSrc(),t.frameBorder="0",t.setAttribute("allowfullscreen","true"),this.initVideoEl(t),t},e.prototype.renderVimeo=function(){var t=document.createElement("iframe");return t.src=this.model.getVimeoSrc(),t.frameBorder="0",t.setAttribute("allowfullscreen","true"),this.initVideoEl(t),t},e.prototype.initVideoEl=function(t){t.className=this.ppfx+"no-pointer",t.style.height="100%",t.style.width="100%"},e.prototype.render=function(){gn.prototype.render.apply(this),this.updateClasses();var t=this.model.get("provider");return this.el.appendChild(this.renderByProvider(t)),this.updateVideo(),this},e}(dw);const hU=dU;var pU=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),vU=function(r){pU(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.tagName=function(){return"div"},e}(gn);const gU=vU;var mU=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Fv=function(){return Fv=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Fv.apply(this,arguments)},yU=function(r){mU(e,r);function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=r.apply(this,t)||this;i.refreshDbn=(0,z.debounce)(function(){return i.refresh()},0);var o=i.events;return i.on(o.update,i.onUpdate),i.on(o.updateInside,i.onUpdateDeep),i}return e.prototype.removeChildren=function(t,n,i){var o;i===void 0&&(i={}),r.prototype.removeChildren.call(this,t,n,i),(o=bi(t))===null||o===void 0||o.forEach(function(a){return $g(a,{skipRefs:!0})}),this.__trgEvent(this.events.symbolMainRemove,{component:t})},e.prototype.onAdd=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];r.prototype.onAdd.apply(this,t);var i=t[0];this.__trgEvent(this.events.symbolMainAdd,{component:i})},e.prototype.onUpdate=function(t){this.__trgEvent(this.events.symbolMainUpdate,t)},e.prototype.onUpdateDeep=function(t){this.__trgEvent(this.events.symbolMainUpdateDeep,t)},e.prototype.refresh=function(){var t=this,n=t.em,i=t.events;n.trigger(i.symbol)},e.prototype.__trgEvent=function(t,n,i){i===void 0&&(i=!1);var o=this,a=o.em,l=o.events,u=i?l.symbolInstance:l.symbolMain;a.trigger(t,n),a.trigger(u,Fv(Fv({},n),{event:t})),this.refreshDbn()},e}(yd);const _U=yU;var bU=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Au=function(){return Au=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Au.apply(this,arguments)},U2=function(r){bU(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.dataResolver=i.initializeDataResolver(t,n),i.listenToPropsChange(),i}return e.prototype.initializeDataResolver=function(t,n){var i,o=(i=t.dataResolver)!==null&&i!==void 0?i:{type:t.type},a=this.createResolverInstance(o,Au(Au({},n),{collectionsStateMap:this.collectionsStateMap}));return a},e.prototype.getDataResolver=function(){return this.get("dataResolver")},e.prototype.setDataResolver=function(t){return this.set("dataResolver",t)},e.prototype.onCollectionsStateMapUpdate=function(t){this.dataResolver.updateCollectionsStateMap(t),r.prototype.onCollectionsStateMapUpdate.call(this,t)},e.prototype.listenToPropsChange=function(){var t=this;this.listenTo(this.dataResolver,"change",(function(){t.__changesUp({m:t})}).bind(this)),this.on("change:dataResolver",function(){t.dataResolver.set(t.get("dataResolver"))})},e.prototype.removePropsListeners=function(){this.stopListening(this.dataResolver),this.off("change:dataResolver"),this.off("change:".concat(this.collectionsStateMap))},e.prototype.destroy=function(t){return this.removePropsListeners(),r.prototype.destroy.call(this,t)},e.prototype.toJSON=function(t){var n=r.prototype.toJSON.call(this,t),i=this.dataResolver.toJSON();return delete i.type,Au(Au({},n),{dataResolver:i})},e}(Bn),wU=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),zv=function(){return zv=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},zv.apply(this,arguments)},SU=function(r){wU(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"defaults",{get:function(){return zv(zv({},r.prototype.defaults),{type:zi,dataResolver:{},droppable:!1})},enumerable:!1,configurable:!0}),e.prototype.getPath=function(){return this.dataResolver.get("path")},e.prototype.getCollectionId=function(){return this.dataResolver.get("collectionId")},e.prototype.getVariableType=function(){return this.dataResolver.get("variableType")},e.prototype.getDefaultValue=function(){return this.dataResolver.get("defaultValue")},e.prototype.getDataValue=function(){return this.dataResolver.getDataValue()},e.prototype.resolvesFromCollection=function(){return this.dataResolver.resolvesFromCollection()},e.prototype.getInnerHTML=function(){return this.getDataValue()},e.prototype.setPath=function(t){this.dataResolver.set("path",t)},e.prototype.setDefaultValue=function(t){this.dataResolver.set("defaultValue",t)},e.prototype.resetDataSourcePath=function(t){this.set("dataResolver",{path:t,collectionId:void 0,variableType:void 0})},e.prototype.createResolverInstance=function(t,n){return new kl(t,n)},e.isComponent=function(t){return(0,Ht.toLowerCase)(t.tagName)===zi},e}(U2);const CU=SU;var xU=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),OU=function(r){xU(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.initialize=function(t){var n=this;t===void 0&&(t={}),r.prototype.initialize.call(this,t),this.dataResolverListener=new Cc({em:this.em,resolver:this.model.dataResolver,onUpdate:function(){return n.postRender()}})},e.prototype.remove=function(){return this.dataResolverListener.destroy(),r.prototype.remove.call(this)},e.prototype.postRender=function(){this.el.innerHTML=this.model.getDataValue(),r.prototype.postRender.call(this)},e}(gn);const EU=OU;var TU=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),AU=function(r){TU(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.initialize=function(t){t===void 0&&(t={}),r.prototype.initialize.call(this,t),this.postRender=this.postRender.bind(this),this.listenTo(this.model.components(),"reset",this.postRender),this.dataResolverListener=new Cc({em:this.em,resolver:this.model.dataResolver,onUpdate:this.postRender})},e.prototype.renderDataResolver=function(){var t=this.model.getIfTrueContent(),n=this.model.getIfFalseContent(),i=t==null?void 0:t.getEl(),o=n==null?void 0:n.getEl(),a=this.model.isTrue();i&&(i.style.display=a?"":"none"),o&&(o.style.display=a?"none":"")},e.prototype.postRender=function(){this.renderDataResolver(),r.prototype.postRender.call(this)},e.prototype.remove=function(){return this.stopListening(this.model.components(),"reset",this.postRender),this.dataResolverListener.destroy(),r.prototype.remove.call(this)},e}(gn);const DU=AU;var kU=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Hv=function(){return Hv=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Hv.apply(this,arguments)},PU=function(r){kU(e,r);function e(t,n){n===void 0&&(n={});var i,o=r.call(this,t,n)||this;return o.mutable=(i=t.mutable)!==null&&i!==void 0?i:!0,o.on("change",o.handleChange),o}return Object.defineProperty(e.prototype,"cl",{get:function(){return this.collection},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dataSource",{get:function(){return this.cl.dataSource},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"em",{get:function(){return this.dataSource.em},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"index",{get:function(){return this.cl.indexOf(this)},enumerable:!1,configurable:!0}),e.prototype.handleChange=function(){var t=this,n=this.changedAttributes();(0,z.keys)(n).forEach(function(i){return t.triggerChange(i)})},e.prototype.getPath=function(t,n){n===void 0&&(n={});var i=this,o=i.dataSource,a=i.id,l=i.index,u=o.id,c=t?".".concat(t):"";return"".concat(u,".").concat(n.useIndex?l:a).concat(c)},e.prototype.getPaths=function(t){return[this.getPath(t),this.getPath(t,{useIndex:!0})]},e.prototype.triggerChange=function(t){var n=this,i=n.dataSource,o=n.em,a={dataSource:i,dataRecord:this},l=this.getPaths(t);l.forEach(function(u){return o.trigger("".concat(uc.path,":").concat(u),Hv(Hv({},a),{path:u}))})},e.prototype.set=function(t,n,i){var o=this,a,l;if(!this.isNew()&&this.attributes.mutable===!1)throw new Error("Cannot modify immutable record");var u=(l=(a=this.dataSource)===null||a===void 0?void 0:a.transformers)===null||l===void 0?void 0:l.onRecordSetValue,c=function(x,_,C){C===void 0&&(C={});var O=C!=null&&C.avoidTransformers||!u?_:u({id:o.id,key:x,value:_});r.prototype.set.call(o,x,O,C),r.prototype.set.call(o,{__p:C.partial?!0:void 0},C)};if(typeof t=="object"&&t!==null)for(var d=t,h=0,g=Object.entries(d);h<g.length;h++){var m=g[h],b=m[0],w=m[1];c(b,w,n)}else c(t,n,i);return this},e}(ne.Kx);const MU=PU;var RU=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),B2=function(r){RU(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.dataSource=n.dataSource,i}return e}(ne.pM);const c1=B2;B2.prototype.model=MU;var LU=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Wv=function(){return Wv=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Wv.apply(this,arguments)},NU=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))},jU=function(r){LU(e,r);function e(t,n){var i=r.call(this,Wv(Wv({},t),{records:[]}),n)||this,o=t.records,a=t.transformers;return i.transformers=a||{},o instanceof c1||i.set({records:new c1(o,{dataSource:i})}),i.listenTo(i.records,"add",i.onAdd),i.listenTo(i.records,ne.e2,i.handleChanges),i}return e.prototype.defaults=function(){return{records:[],transformers:{}}},Object.defineProperty(e.prototype,"records",{get:function(){return this.attributes.records},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"em",{get:function(){return this.collection.em},enumerable:!1,configurable:!0}),e.prototype.onAdd=function(t){t.triggerChange()},e.prototype.addRecord=function(t,n){return this.records.add(t,n)},e.prototype.getRecord=function(t){return this.records.get(t)},e.prototype.getRecords=function(){var t=this;return NU([],this.records.models,!0).map(function(n){return t.getRecord(n.id)})},e.prototype.removeRecord=function(t,n){var i=this.getRecord(t);if((i==null?void 0:i.mutable)===!1&&!(n!=null&&n.dangerously))throw new Error("Cannot remove immutable record");return this.records.remove(t,n)},e.prototype.setRecords=function(t){var n=this;this.records.reset([],{silent:!0}),t.forEach(function(i){n.records.add(i)})},e.prototype.handleChanges=function(t,n,i){this.em.changesUp(i||n)},e}(ne.Kx);const F2=jU;var IU=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),fi=function(){return fi=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},fi.apply(this,arguments)},Ny={avoidStore:!0,partial:!0},VU=function(r){IU(e,r);function e(t,n){var i=this;if(n.forCloning)return i=r.call(this,t,n)||this;n.em;var o=fi(fi({},t),{droppable:!1}),a=i=r.call(this,o,n)||this;return i.rebuildChildrenFromCollection=i.rebuildChildrenFromCollection.bind(i),i.listenToPropsChange(),i.rebuildChildrenFromCollection(),a}return Object.defineProperty(e.prototype,"defaults",{get:function(){return fi(fi({},r.prototype.defaults),{droppable:!1,dataResolver:{},type:p_,components:[{type:Hf}]})},enumerable:!1,configurable:!0}),e.prototype.getDataResolver=function(){return this.get("dataResolver")},e.prototype.getItemsCount=function(){var t,n,i=this.getDataSourceItems(),o=Math.max(0,(t=this.getConfigStartIndex())!==null&&t!==void 0?t:0),a=(n=this.getConfigEndIndex())!==null&&n!==void 0?n:Number.MAX_VALUE,l=Math.min(i.length-1,a),u=l-o+1;return Math.max(0,u)},e.prototype.getConfigStartIndex=function(){return this.dataResolver.startIndex},e.prototype.getConfigEndIndex=function(){return this.dataResolver.endIndex},e.prototype.getDataSource=function(){var t;return(t=this.dataResolver)===null||t===void 0?void 0:t.dataSource},e.prototype.getCollectionId=function(){var t;return(t=this.dataResolver)===null||t===void 0?void 0:t.collectionId},e.prototype.getCollectionItemComponents=function(){return this.firstChild.components()},e.prototype.setDataResolver=function(t){return this.set("dataResolver",t)},e.prototype.setCollectionId=function(t){this.updateCollectionConfig({collectionId:t})},e.prototype.setStartIndex=function(t){if(t<0){this.em.logError("Start index should be greater than or equal to 0");return}this.updateCollectionConfig({startIndex:t})},e.prototype.setEndIndex=function(t){this.updateCollectionConfig({endIndex:t})},e.prototype.setDataSource=function(t){this.set(lu,fi(fi({},this.dataResolver),{dataSource:t}))},e.prototype.setCollectionItemComponents=function(t){this.firstChild.components(t)},Object.defineProperty(e.prototype,"firstChild",{get:function(){return this.components().at(0)},enumerable:!1,configurable:!0}),e.prototype.updateCollectionConfig=function(t){this.set(lu,fi(fi({},this.dataResolver),t))},e.prototype.getDataSourceItems=function(){return zU(this.dataResolver.dataSource,this.em)},Object.defineProperty(e.prototype,"dataResolver",{get:function(){return this.get(lu)||{}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"collectionDataSource",{get:function(){return this.dataResolver.dataSource},enumerable:!1,configurable:!0}),e.prototype.listenToDataSource=function(){var t,n=this.em,i=(t=this.collectionDataSource)===null||t===void 0?void 0:t.path;i&&(this.dataSourceWatcher=new Cc({em:n,resolver:new kl({type:zi,path:i},{em:n,collectionsStateMap:this.collectionsStateMap}),onUpdate:this.rebuildChildrenFromCollection}))},e.prototype.rebuildChildrenFromCollection=function(){this.components().reset(this.getCollectionItems(),m_)},e.prototype.getCollectionItems=function(){var t,n=this.ensureFirstChild(),i=n.getStyle().display,o=!i||i==="none",a=o?"":i;n.addStyle({display:"none"},Ny);var l=[n],u=FU(this.dataResolver,this.em);if(!u)return l;var c=this.collectionId,d=this.getDataSourceItems(),h=this.resolveCollectionConfig(d),g=h.startIndex,m=h.endIndex,b=this.hasDuplicateCollectionId();if(b)return this.em.logError('The collection ID "'.concat(c,'" already exists in the parent collection state. Overriding it is not allowed.')),l;for(var w=g;w<=m;w++){var x=w===g,_=this.getCollectionsStateMapForItem(d,w);if(x){(t=bi(n))===null||t===void 0||t.forEach(function(O){return $g(O)}),f1(n,_),n.addStyle({display:a},Ny);continue}var C=n.clone({symbol:!0,symbolInv:!0});C.set({locked:!0,layerable:!1},Ny),f1(C,_),l.push(C)}return l},e.prototype.getCollectionsStateMapForItem=function(t,n){var i,o=this.resolveCollectionConfig(t),a=o.startIndex,l=o.endIndex,u=o.totalItems,c=this.collectionId,d=t[n],h=this.collectionsStateMap,g=n-a,m=u-(1+g),b={collectionId:c,currentIndex:n,currentItem:d,startIndex:a,endIndex:l,totalItems:u,remainingItems:m},w=fi(fi({},h),(i={},i[c]=b,i));return w},e.prototype.hasDuplicateCollectionId=function(){var t=this.collectionId,n=this.collectionsStateMap;return!!n[t]},e.prototype.resolveCollectionConfig=function(t){var n,i,o=(n=this.getConfigStartIndex())!==null&&n!==void 0?n:0,a=(i=this.getConfigEndIndex())!==null&&i!==void 0?i:Number.MAX_VALUE,l=Math.min(t.length-1,a),u=l-o+1;return{startIndex:o,endIndex:l,totalItems:u}},e.prototype.ensureFirstChild=function(){var t=this.em.Components.getType(Hf).model;return this.firstChild||new t({type:Hf},this.opt)},e.prototype.listenToPropsChange=function(){var t=this;this.on("change:".concat(lu),function(){t.rebuildChildrenFromCollection(),t.listenToDataSource()}),this.listenToDataSource()},e.prototype.removePropsListeners=function(){var t;this.off("change:".concat(lu)),(t=this.dataSourceWatcher)===null||t===void 0||t.destroy()},e.prototype.onCollectionsStateMapUpdate=function(t){var n=this;this.collectionsStateMap=t,this.dataResolverWatchers.onCollectionsStateMapUpdate();var i=this.getDataSourceItems(),o=this.resolveCollectionConfig(i).startIndex,a=this.components();a.forEach(function(l,u){var c=n.getCollectionsStateMapForItem(i,o+u);l.onCollectionsStateMapUpdate(c)})},e.prototype.stopSyncComponentCollectionState=function(){this.stopListening(this.components(),"add remove reset",this.syncOnComponentChange),this.onCollectionsStateMapUpdate({})},e.prototype.syncOnComponentChange=function(t,n,i){var o=this.collectionsStateMap;this.collectionsStateMap={},r.prototype.syncOnComponentChange.call(this,t,n,i),this.collectionsStateMap=o,this.onCollectionsStateMapUpdate(o)},Object.defineProperty(e.prototype,"collectionId",{get:function(){return this.getDataResolver().collectionId},enumerable:!1,configurable:!0}),e.isComponent=function(t){return(0,Ht.toLowerCase)(t.tagName)===p_},e.prototype.toJSON=function(t){var n,i=r.prototype.toJSON.call(this,t);delete i.droppable,delete i[gi],(n=i.attributes)===null||n===void 0||delete n.id;var o=this.firstChild;return fi(fi({},i),{components:[o]})},e.prototype.destroy=function(t){return this.removePropsListeners(),r.prototype.destroy.call(this,t)},e}(Bn);const UU=VU;function f1(r,e){r.setSymbolOverride(["locked","layerable"]),r.syncComponentsCollectionState(),r.onCollectionsStateMapUpdate(e)}function BU(r,e,t){return r?!0:(t.logError('The "'.concat(e,'" property is required in the collection definition.')),!1)}function FU(r,e){for(var t=[{property:r==null?void 0:r.collectionId,propertyPath:"dataResolver.collectionId"},{property:r==null?void 0:r.dataSource,propertyPath:"dataResolver.dataSource"}],n=0,i=t;n<i.length;n++){var o=i[n].propertyPath;if(!BU(r,o,e))return[]}var a=r==null?void 0:r.startIndex;return a!==void 0&&(a<0||!Number.isInteger(a))&&e.logError("Invalid startIndex: ".concat(a,". It must be a non-negative integer.")),!0}function zU(r,e){var t=[];switch(!0){case(0,z.isArray)(r):t=r;break;case((0,Ht.isObject)(r)&&r instanceof F2):{var n=r.get("id");t=d1(n,e);break}case Sl(r):{var i=r.path;if(!i)break;var o=i.split(".").length===1;o?t=d1(i,e):t=e.DataSources.getValue(i,[]);break}}return t}function d1(r,e){var t=e.DataSources.getValue(r,[]),n=Object.keys(t);return n.map(function(i){return{type:zi,path:r+"."+i}})}var HU=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),WU=function(r){HU(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e}(gn);const KU=WU;var qU=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Kv=function(){return Kv=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Kv.apply(this,arguments)},GU=function(r){qU(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"defaults",{get:function(){return Kv(Kv({},r.prototype.defaults),{droppable:!1,type:Ms,dataResolver:{condition:{left:"",operator:Oo.equalsIgnoreCase,right:""}},components:[{type:iw},{type:ow}]})},enumerable:!1,configurable:!0}),e.prototype.isTrue=function(){return this.dataResolver.isTrue()},e.prototype.getCondition=function(){return this.dataResolver.getCondition()},e.prototype.getIfTrueContent=function(){return this.components().at(0)},e.prototype.getIfFalseContent=function(){return this.components().at(1)},e.prototype.getOutputContent=function(){return this.isTrue()?this.getIfTrueContent():this.getIfFalseContent()},e.prototype.setCondition=function(t){this.dataResolver.setCondition(t)},e.prototype.setIfTrueComponents=function(t){this.setComponentsAtIndex(0,t)},e.prototype.setIfFalseComponents=function(t){this.setComponentsAtIndex(1,t)},e.prototype.getInnerHTML=function(t){var n,i;return(i=(n=this.getOutputContent())===null||n===void 0?void 0:n.getInnerHTML(t))!==null&&i!==void 0?i:""},e.prototype.createResolverInstance=function(t,n){return new rw(t,n)},e.prototype.setComponentsAtIndex=function(t,n){var i=this.components().at(t);i==null||i.components(n)},e.isComponent=function(t){return(0,Ht.toLowerCase)(t.tagName)===Ms},e}(U2);const YU=GU;var XU=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),qv=function(){return qv=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},qv.apply(this,arguments)},ZU=function(r){XU(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"defaults",{get:function(){return qv(qv({},r.prototype.defaults),{removable:!1,draggable:!1})},enumerable:!1,configurable:!0}),e.isComponent=function(t){return v4((0,Ht.toLowerCase)(t.tagName))},e}(Bn);const jy=ZU;var $U=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),vr=function(){return vr=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},vr.apply(this,arguments)},JU=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t},QU=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))},Du;(function(r){r[r.InvalidSource=0]="InvalidSource",r[r.SourceReject=1]="SourceReject",r[r.TargetReject=2]="TargetReject"})(Du||(Du={}));var t6=function(r){$U(e,r);function e(t){var n=r.call(this,t,"DomComponents",new yd(void 0,{em:t}),mn.I,_I())||this;n.componentTypes=[{id:Hf,model:jy,view:gn},{id:iw,model:jy,view:gn},{id:ow,model:jy,view:gn},{id:p_,model:UU,view:KU},{id:Ms,model:YU,view:DU},{id:zi,model:CU,view:EU},{id:"cell",model:nV,view:JV},{id:"row",model:fV,view:sU},{id:"table",model:$I,view:cU},{id:"thead",model:lV,view:iU},{id:"tbody",model:fw,view:XV},{id:"tfoot",model:oV,view:eU},{id:"map",model:BI,view:FV},{id:"link",model:II,view:V2},{id:"label",model:LI,view:VV},{id:"video",model:pV,view:hU},{id:"image",model:uw,view:dw},{id:"script",model:HI,view:WV},{id:"svg-in",model:YI,view:u1},{id:"svg",model:L2,view:u1},{id:"iframe",model:TI,view:DV},{id:"comment",model:xI,view:EV},{id:"textnode",model:R2,view:j2},{id:Yu,model:Y4,view:gn},{id:"wrapper",model:mV,view:gU},{id:"text",model:cw,view:I2},{id:"default",model:Bn,view:gn}],n.componentsById={},n.Component=Bn,n.Components=yd,n.ComponentView=gn,n.ComponentsView=N2,n.storageKey="components",n.keySymbols="symbols",n.events=mn.I;var i=n.config;n.symbols=new _U([],{em:t,config:i,domc:n}),t&&(n.config.components=t.config.components||n.config.components);var o=n.config.pStylePrefix;if(o&&(n.config.stylePrefix=o+n.config.stylePrefix),t){t.get("Parser").compTypes=n.componentTypes,t.on("change:componentHovered",n.componentHovered,n);var a=t.get("selected");t.listenTo(a,"add",function(l,u,c){return n.selectAdd(a.getComponent(l),c)}),t.listenTo(a,"remove",function(l,u,c){return n.selectRemove(a.getComponent(l),c)})}return n}return e.prototype.postLoad=function(){var t=this,n=t.em,i=t.symbols,o=n.UndoManager;o.add(i)},e.prototype.load=function(t){var n=this,i=this.loadProjectData(t,{onResult:function(o){var a=n.getWrapper();if(a||(n.em.Pages.add({},{select:!0}),a=n.getWrapper()),(0,z.isArray)(o))o.length&&a.components(o);else{var l=o.components,u=l===void 0?[]:l,c=JU(o,["components"]);a.set(c),a.components(u)}}});return this.symbols.reset(t[this.keySymbols]||[]),i},e.prototype.store=function(){var t;return t={},t[this.keySymbols]=this.symbols,t},e.prototype.getComponent=function(){var t=this.em.Pages.getSelected(),n=t==null?void 0:t.getMainFrame();return n==null?void 0:n.getComponent()},e.prototype.getWrapper=function(){return this.getComponent()},e.prototype.getComponents=function(){var t=this.getWrapper();return t==null?void 0:t.components()},e.prototype.addComponent=function(t,n){return n===void 0&&(n={}),this.getComponents().add(t,n)},e.prototype.render=function(){var t;return(t=this.componentView)===null||t===void 0?void 0:t.render().el},e.prototype.clear=function(t){t===void 0&&(t={});var n=this.getComponents();return n==null||n.filter(Boolean).forEach(function(i){return i.remove(t)}),this},e.prototype.setComponents=function(t,n){n===void 0&&(n={}),this.clear(n).addComponent(t,n)},e.prototype.addType=function(t,n){var i=this.em,o=n.model,a=o===void 0?{}:o,l=n.view,u=l===void 0?{}:l,c=n.isComponent,d=n.extend,h=n.extendView,g=n.extendFn,m=g===void 0?[]:g,b=n.extendFnView,w=b===void 0?[]:b,x=n.block,_=this.getType(t),C=this.getType(d),O=this.getType(h),A=C||_||this.getType("default"),I=A.model,Q=O?O.view:A.view,$=function(F,T,nt){return F.reduce(function(L,ot){var pt=T[ot],mt=nt.prototype[ot];return pt&&mt&&(L[ot]=function(){for(var Lt=[],St=0;St<arguments.length;St++)Lt[St]=arguments[St];mt.bind(this).apply(void 0,Lt),pt.bind(this).apply(void 0,Lt)}),L},{})};if(typeof a=="object"){var Z={defaults:a.defaults};delete a.defaults;var P=new Set(I.typeExtends);P.add(I.getDefaults().type),n.model=I.extend(vr(vr({},a),$(m,a,I)),{typeExtends:P,isComponent:_&&!C&&!c?I.isComponent:c||function(){return 0}}),Object.defineProperty(n.model.prototype,"defaults",{get:function(){return vr(vr({},(0,z.result)(I.prototype,"defaults")||{}),(0,z.result)(Z,"defaults")||{})}})}if(typeof u=="object"&&(n.view=Q.extend(vr(vr({},u),$(w,u,Q)))),_?(_.model=n.model,_.view=n.view):(n.id=t,this.componentTypes.unshift(n)),x){var tt={id:t,label:t,content:{type:t}},H=x===!0?tt:vr(vr({},tt),x);i.Blocks.add(H.id||t,H)}var k="component:type:".concat(_?"update":"add");return i==null||i.trigger(k,_||n),this},e.prototype.getType=function(t){for(var n=this.componentTypes,i=0;i<n.length;i++){var o=n[i].id;if(o==t)return n[i]}},e.prototype.removeType=function(t){var n=this.componentTypes,i=this.getType(t);if(i){var o=n.indexOf(i);return n.splice(o,1),i}},e.prototype.getTypes=function(){return this.componentTypes},e.prototype.selectAdd=function(t,n){var i=this;n===void 0&&(n={}),t&&(t.set({status:"selected"}),["component:selected","component:toggled"].forEach(function(o){return i.em.trigger(o,t,n)}))},e.prototype.selectRemove=function(t,n){var i=this;n===void 0&&(n={}),t&&(this.em,t.set({status:"",state:""}),["component:deselected","component:toggled"].forEach(function(o){return i.em.trigger(o,t,n)}))},e.prototype.componentHovered=function(){var t=this.em,n=t.get("componentHovered"),i=t.previous("componentHovered"),o="hovered";i&&i.get("status")==o&&i.set({status:"",state:""}),n&&(0,z.isEmpty)(n.get("status"))&&n.set("status",o)},e.prototype.getShallowWrapper=function(){var t=this,n=t.shallow,i=t.em;if(!n&&i){var o=i.shallow;if(!o)return;var a=o.Components;if(a.componentTypes=this.componentTypes,n=a.getWrapper(),n){var l=[xp,y_].join(" ");n.on(l,(0,z.debounce)(function(){return n==null?void 0:n.components("")},100))}this.shallow=n}return n},e.prototype.isComponent=function(t){return(0,Ht.isComponent)(t)},e.prototype.addSymbol=function(t){if(!((0,z.isSymbol)(t)&&!wl(t))){var n=t.clone({symbol:!0});return al(n)&&this.symbols.add(n),this.em.trigger("component:toggled"),n}},e.prototype.getSymbols=function(){return QU([],this.symbols.models,!0)},e.prototype.detachSymbol=function(t){hv(t)&&$g(t)},e.prototype.getSymbolInfo=function(t,n){n===void 0&&(n={});var i=al(t),o=uo(t),a=!!o,l=bi(i?t:o)||[],u=o||(i?t:void 0),c=wa(t,{changed:n.withChanges}),d=i||a,h=d&&wl(t);return{isSymbol:d,isMain:i,isInstance:a,isRoot:h,main:u,instances:l,relatives:c||[]}},e.prototype.canMove=function(t,n,i){var o={result:!1,reason:Du.InvalidSource,target:t,source:null};if(!n||!t)return o;if(Wo(t)&&n instanceof Bn&&Wo(n)){var a=gd(t),l=al(a)?a:uo(a),u=gd(n),c=al(u)?u:uo(u),d=l===c,h=a!==u;if(d&&h)return vr(vr({},o),{reason:Du.TargetReject})}var g=(0,Ht.isComponent)(n)?n:null;if(!g){var m=this.getShallowWrapper();g=(m==null?void 0:m.append(n,{temporary:!0})[0])||null}if(o.source=g,!g)return o;var b=g.get("draggable");if((0,z.isFunction)(b))b=!!b(g,t,i);else{var w=t.getEl();b=(0,z.isArray)(b)?b.join(","):b,b=(0,z.isString)(b)?w==null?void 0:w.matches(b):b}if(!b)return vr(vr({},o),{reason:Du.SourceReject});var x=t.get("droppable");if((0,z.isFunction)(x))x=!!x(g,t,i);else if(x===!1&&t.isInstanceOf("text")&&g.get("textable"))x=!0;else{var w=g.getEl();x=(0,z.isArray)(x)?x.join(","):x,x=(0,z.isString)(x)?w==null?void 0:w.matches(x):x}var _=[t].concat(t.parents()).indexOf(g)>-1;return!x||_?vr(vr({},o),{reason:Du.TargetReject}):vr(vr({},o),{result:!0})},e.prototype.allById=function(){return this.componentsById},e.prototype.getById=function(t){return this.componentsById[t]||null},e.prototype.destroy=function(){var t,n=this.allById();Object.keys(n).forEach(function(i){return n[i]&&n[i].remove()}),(t=this.componentView)===null||t===void 0||t.remove(),[this.em,this.componentsById,this.componentView].forEach(function(i){return{}})},e}(Ra);const e6=t6;var n6=function(){return{stylePrefix:"css-",rules:[]}};const r6=n6;var i6=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),o6=Number.MAX_VALUE,a6=function(r){var e=/(-?\d*\.?\d+)\w{0,}/.exec(r);return e?e[0]:""},s6=function(r){i6(e,r);function e(){var t=r.call(this)||this;return(0,z.bindAll)(t,"sortRules"),t.compCls=[],t.ids=[],t}return e.prototype.buildFromModel=function(t,n){var i=this;n===void 0&&(n={});var o="",a=this.em,l=a&&a.getConfig().avoidInlineStyle,u=t.styleToString(),c=t.classes;this.ids.push("#".concat(t.getId())),c.forEach(function(h){return i.compCls.push(h.getFullName())}),!l&&u&&(o="#".concat(t.getId(),"{").concat(u,"}"));var d=t.components();return d.forEach(function(h){return o+=i.buildFromModel(h,n)}),o},e.prototype.build=function(t,n){var i=this;n===void 0&&(n={});var o=n.json,a=n.em,l=n.cssc||(a==null?void 0:a.Css);this.em=a,this.compCls=[],this.ids=[],this.model=t;var u=[],c=t?this.buildFromModel(t,n):"",d=(0,z.isUndefined)(n.clearStyles)&&a?a.getConfig().clearStyles:n.clearStyles;if(l){var h=n.rules||l.getAll(),g={},m=[];n.onlyMatched&&t&&(0,Ht.hasWin)()&&(h=this.matchedRules(t,h)),h.forEach(function(b){var w=b.getAtRule();if(w){var x=g[w];x?x.push(b):g[w]=[b];return}var _=i.buildFromRule(b,m,n);o?u.push(_):c+=_}),this.sortMediaObject(g).forEach(function(b){var w="",x=b.key,_=b.value;_.forEach(function(C){var O=i.buildFromRule(C,m,n);C.get("singleAtRule")?c+="".concat(x,"{").concat(O,"}"):w+=O,o&&u.push(O)}),w&&(c+="".concat(x,"{").concat(w,"}"))}),a&&d&&h.remove&&h.remove(m)}return o?u.filter(function(b){return b}):c},e.prototype.buildFromRule=function(t,n,i){var o=this,a;i===void 0&&(i={});var l="",u=this.model,c=t.selectorsToString({skipAdd:1}),d=t.get("selectorsAdd"),h=t.get("singleAtRule"),g;if((a=t.get("selectors"))===null||a===void 0||a.forEach(function(b){var w=b.getFullName();(o.compCls.indexOf(w)>=0||o.ids.indexOf(w)>=0||i.keepUnusedStyles)&&(g=1)}),c&&g||d||h||!u){var m=t.getDeclaration({body:1});m&&(i.json?l=t:l+=m)}else n.push(t);return l},e.prototype.matchedRules=function(t,n){var i=this,o=t.getEl(),a=[];return n.forEach(function(l){try{l.selectorsToString().split(",").some(function(u){return o==null?void 0:o.matches(i.__cleanSelector(u))})&&a.push(l)}catch{}}),t.components().forEach(function(l){a=a.concat(i.matchedRules(l,n))}),a=a.filter(function(l,u){return a.indexOf(l)===u}),a},e.prototype.getQueryLength=function(t){var n=/(-?\d*\.?\d+)\w{0,}/.exec(t);return n?parseFloat(n[1]):o6},e.prototype.sortMediaObject=function(t){var n=this;t===void 0&&(t={});var i=[];return(0,z.each)(t,function(o,a){return i.push({key:a,value:o})}),i.sort(function(o,a){var l=[o.key,a.key].every(function(d){return d.indexOf("min-width")!==-1}),u=l?o.key:a.key,c=l?a.key:o.key;return n.getQueryLength(u)-n.getQueryLength(c)})},e.prototype.sortRules=function(t,n){var i=function(u){return u.get("mediaText")||""},o=[i(t),i(n)].every(function(u){return u.indexOf("min-width")!==-1}),a=i(o?t:n),l=i(o?n:t);return this.getQueryLength(a)-this.getQueryLength(l)},e.prototype.__cleanSelector=function(t){return t.split(" ").map(function(n){return n.split(":")[0]}).join(" ")},e}(ne.Kx);const l6=s6;var u6=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Kf=function(){return Kf=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Kf.apply(this,arguments)},c6=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))},Iy=((0,Ht.hasWin)()?window:{}).CSS,f6=function(r){u6(e,r);function e(t,n){n===void 0&&(n={});var i=r.call(this,t)||this;return i.views=[],i.config=t||{},i.opt=n,i.em=n.em,i.ensureSelectors(null,null,{}),i.on("change",i.__onChange),i.setStyle(i.get("style")),i}return e.prototype.defaults=function(){return{selectors:[],selectorsAdd:"",style:{},mediaText:"",state:"",stylable:!0,atRuleType:"",singleAtRule:!1,important:!1,group:"",shallow:!1,_undo:!0}},e.prototype.__onChange=function(t,n){var i=this.em,o=this.changedAttributes();o&&!(0,Ht.isEmptyObj)(o)&&(i==null||i.changesUp(n))},e.prototype.clone=function(){var t=Kf({},this.opt),n=Kf({},this.attributes);return n.selectors=this.get("selectors").map(function(i){return i.clone()}),new this.constructor(n,t)},e.prototype.ensureSelectors=function(t,n,i){var o=this.em,a=o==null?void 0:o.Selectors,l=[this,"change:selectors",this.ensureSelectors],u=this.getSelectors();if(this.stopListening.apply(this,l),u.models&&(u=c6([],u.models,!0)),u=(0,z.isString)(u)?[u]:u,Array.isArray(u)){var c=u.filter(function(d){return d}).map(function(d){return a?a.add(d):d});u=new ms(c)}this.set("selectors",u,i),this.listenTo.apply(this,l)},e.prototype.getAtRule=function(){var t=this.get("atRuleType"),n=this.get("mediaText"),i=t?"@".concat(t):n?"@media":"";return i+(n&&i?" ".concat(n):"")},e.prototype.selectorsToString=function(t){t===void 0&&(t={});var n=[],i=this.get("state"),o=this.get("selectorsAdd"),a={escape:function(c){return Iy&&Iy.escape?Iy.escape(c):c}},l=this.getSelectors().getFullString(0,a),u=i&&!t.skipState?":".concat(i):"";return l&&n.push("".concat(l).concat(u)),o&&!t.skipAdd&&n.push(o),n.join(", ")},e.prototype.getDeclaration=function(t){t===void 0&&(t={});var n="",i=this.attributes.important,o=this.selectorsToString(t),a=this.styleToString(Kf({important:i},t)),l=this.get("singleAtRule");return(o||l)&&(a||t.allowEmpty)&&(n=l?a:"".concat(o,"{").concat(a,"}")),n},e.prototype.getDevice=function(){var t=this.em,n=this.attributes,i=n.atRuleType,o=n.mediaText,a=(t==null?void 0:t.Devices.getDevices())||[],l=a.filter(function(u){return u.getWidthMedia()===""})[0];return i!=="media"||!o?l||null:a.filter(function(u){return u.getWidthMedia()===a6(o)})[0]||null},e.prototype.getState=function(){var t=this.em,n=this.get("state"),i=(t==null?void 0:t.Selectors.getStates())||[];return i.filter(function(o){return o.getName()===n})[0]||null},e.prototype.getComponent=function(){var t,n=this.getSelectors(),i=n.length==1&&n.at(0),o=i&&i.isId()&&i.get("name");return o&&((t=this.em)===null||t===void 0?void 0:t.Components.getById(o))||null},e.prototype.toCSS=function(t){t===void 0&&(t={});var n="",i=this.getAtRule(),o=this.getDeclaration(t);return(o||t.allowEmpty)&&(n=o),i&&n&&(n="".concat(i,"{").concat(n,"}")),n},e.prototype.toJSON=function(){for(var t,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=ne.Kx.prototype.toJSON.apply(this,n);if(!((t=this.em)===null||t===void 0)&&t.getConfig().avoidDefaults){var a=this.defaults();(0,z.forEach)(a,function(l,u){o[u]===l&&delete o[u]}),delete o.style.__p,(0,z.isEmpty)(o.selectors)&&delete o.selectors,(0,z.isEmpty)(o.style)&&delete o.style}return o},e.prototype.compare=function(t,n,i,o){var a;o===void 0&&(o={});var l=n||"",u=i||"",c=o.selectorsAdd||"",d=o.atRuleType||"",h=!(0,z.isArray)(t)&&!t.models?[t]:t.models||t;u&&!d&&(d="media");var g=h.map(function(x){return x.getFullName()}),m=(a=this.get("selectors"))===null||a===void 0?void 0:a.map(function(x){return x.getFullName()}),b=g.slice().sort(),w=m.slice().sort();return!(g.length!==m.length||!b.every(function(x,_){return x===w[_]})||this.get("state")!==l||this.get("mediaText")!==u||this.get("selectorsAdd")!==c||this.get("atRuleType")!==d)},e}(S2);const z2=f6;var d6=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),H2=function(r){d6(e,r);function e(t,n){var i=r.call(this,t)||this;return i.editor=n==null?void 0:n.em,setTimeout(function(){i.on("remove",i.onRemove),i.on("add",i.onAdd)}),i}return e.prototype.toJSON=function(t){var n=ne.pM.prototype.toJSON.call(this,t);return n.filter(function(i){return i.style&&!i.shallow})},e.prototype.onAdd=function(t,n,i){t.ensureSelectors(t,n,i)},e.prototype.onRemove=function(t){var n=this.editor;n.stopListening(t),n.UndoManager.remove(t)},e.prototype.add=function(t,n){return n===void 0&&(n={}),typeof t=="string"&&(t=this.editor.get("Parser").parseCss(t)),n.em=this.editor,ne.pM.prototype.add.apply(this,[t,n])},e}(ne.pM);const h6=H2;H2.prototype.model=z2;var p6=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),nl=function(){return nl=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},nl.apply(this,arguments)},v6=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))},g6=function(r){p6(e,r);function e(t){var n=r.call(this,t,"CssComposer",null,{},r6())||this;n.Selectors=ms,n.storageKey="styles";var i=n.config,o=i.pStylePrefix;return o&&(i.stylePrefix=o+i.stylePrefix),i.rules=n.em.config.style||i.rules||"",n.rules=new h6([],i),n}return e.prototype.onLoad=function(){this.rules.add(this.config.rules,{silent:!0})},e.prototype.postLoad=function(){this.em.UndoManager.add(this.getAll())},e.prototype.store=function(){return this.getProjectData()},e.prototype.load=function(t){return this.loadProjectData(t,{all:this.rules})},e.prototype.add=function(t,n,i,o,a){o===void 0&&(o={}),a===void 0&&(a={});var l=n||"",u=i||"",c=nl({},o),d=this.get(t,l,u,c);return d&&d.config&&!d.config.singleAtRule||(c.state=l,c.mediaText=u,c.selectors=[],u&&!c.atRuleType&&(c.atRuleType="media"),d=new z2(c,this.config),d.get("selectors").add(t,a),this.rules.add(d,a)),d},e.prototype.get=function(t,n,i,o){var a=t;if((0,z.isString)(t)){var l=this.em.Selectors,u=t.split(",")[0].trim(),c=this.em.Parser.parserCss.checkNode({selectors:u})[0];a=l.get(c.selectors)}return this.rules.find(function(d){return d.compare(a,n,i,o)})||null},e.prototype.getAll=function(){return this.rules},e.prototype.addCollection=function(t,n,i){n===void 0&&(n={}),i===void 0&&(i={});var o=this.em,a=[];(0,z.isString)(t)&&(t=o.Parser.parseCss(t));for(var l=t instanceof Array?t:[t],u=0,c=l.length;u<c;u++){var d=l[u]||{};if(d.selectors){var h=o==null?void 0:o.Selectors;h||console.warn("Selector Manager not found");for(var g=d.selectors,m=g instanceof Array?g:[g],b=[],w=0,x=m.length;w<x;w++){var _=h.add(m[w]);b.push(_)}var C=this.get(b,d.state,d.mediaText,d),O=this.add(b,d.state,d.mediaText,d,n),A=!C||!n.avoidUpdateStyle,I=d.style||{};if((0,Ht.isObject)(i)&&O.set(i,n),A){var Q=n.extend?nl(nl({},O.get("style")),I):I;O.setStyle(Q,n)}a.push(O)}}return a},e.prototype.addRules=function(t){return this.addCollection(t)},e.prototype.setRule=function(t,n,i){n===void 0&&(n={}),i===void 0&&(i={});var o=i.atRuleType,a=i.atRuleParams,l=this.em.Parser.parserCss.checkNode({selectors:t,style:n})[0],u=l.state,c=l.selectorsAdd,d=this.em.Selectors,h=d.add(l.selectors),g=this.add(h,u,a,{selectorsAdd:c,atRule:o});return i.addStyles?g.addStyle(n,i):g.setStyle(n,i),g},e.prototype.getRule=function(t,n){n===void 0&&(n={});var i=this.em,o=i.Selectors,a=i.Parser.parserCss.checkNode({selectors:t})[0],l=o.get(a.selectors),u=a.state,c=a.selectorsAdd,d=n.atRuleType,h=n.atRuleParams;return l?this.get(l,u,h,{selectorsAdd:c,atRuleType:d}):void 0},e.prototype.getRules=function(t){var n=this.getAll();if(!t)return v6([],n.models,!0);var i={sort:!0},o=(0,z.isString)(t)?t.split(",").map(function(l){return l.trim()}):t,a=n.filter(function(l){return o.indexOf(l.getSelectors().getFullString(null,i))>=0});return a},e.prototype.setIdRule=function(t,n,i){n===void 0&&(n={}),i===void 0&&(i={});var o=i.addOpts,a=o===void 0?{}:o,l=i.mediaText,u=i.state||"",c=(0,z.isUndefined)(l)?this.em.getCurrentMedia():l,d=this.em.Selectors,h=d.add({name:t,type:Jr.TYPE_ID},a),g=this.add(h,u,c,{},a);return g.setStyle(n,nl(nl({},i),a)),g},e.prototype.getIdRule=function(t,n){n===void 0&&(n={});var i=n.mediaText,o=n.state||"",a=(0,z.isUndefined)(i)?this.em.getCurrentMedia():i,l=this.em.Selectors.get(t,Jr.TYPE_ID);return l&&this.get(l,o,a)},e.prototype.setClassRule=function(t,n,i){n===void 0&&(n={}),i===void 0&&(i={});var o=i.state||"",a=i.mediaText||this.em.getCurrentMedia(),l=this.em.Selectors,u=l.add({name:t,type:Jr.TYPE_CLASS}),c=this.add(u,o,a);return c.setStyle(n,i),c},e.prototype.getClassRule=function(t,n){n===void 0&&(n={});var i=n.state||"",o=n.mediaText||this.em.getCurrentMedia(),a=this.em.Selectors.get(t,Jr.TYPE_CLASS);return a&&this.get(a,i,o)},e.prototype.remove=function(t,n){var i=(0,z.isString)(t)?this.getRules(t):t,o=this.getAll().remove(i,n);return(0,z.isArray)(o)?o:[o]},e.prototype.clear=function(t){return t===void 0&&(t={}),this.getAll().reset([],t),this},e.prototype.getComponentRules=function(t,n){n===void 0&&(n={});var i=n.state,o=n.mediaText,a=n.current;a&&(i=this.em.get("state")||"",o=this.em.getCurrentMedia());var l=t.getId(),u=this.getAll().filter(function(c){return!(0,z.isUndefined)(i)&&c.get("state")!==i||!(0,z.isUndefined)(o)&&c.get("mediaText")!==o?!1:c.getSelectorsString()==="#".concat(l)});return u},e.prototype.render=function(){var t;return(t=this.rulesView)===null||t===void 0||t.remove(),this.rulesView=new g2({collection:this.rules,config:this.config}),this.rulesView.render().el},e.prototype.checkId=function(t,n){n===void 0&&(n={});var i=n.idMap,o=i===void 0?{}:i,a=[];if(!Object.keys(o).length)return a;var l=Array.isArray(t)?t:[t];return l.forEach(function(u){var c=u.selectors;if(c&&c.length==1){var d=c[0];if((0,z.isString)(d)){if(d[0]==="#"){var h=d.substring(1),g=o[h];h&&g&&(c[0]="#".concat(g),a.push(u))}}else if(d.name&&d.type===Jr.TYPE_ID){var g=o[d.name];g&&(d.name=g,a.push(u))}}}),a},e.prototype.destroy=function(){var t;this.rules.reset(),this.rules.stopListening(),(t=this.rulesView)===null||t===void 0||t.remove()},e}(Ra);const m6=g6;var y6=function(){return{appendTo:"",blocks:[],appendOnClick:!1,custom:!1}};const _6=y6;var b6=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),w6=function(r){b6(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.defaults=function(){return{label:"",content:"",media:"",category:"",activate:!1,select:void 0,resetId:!1,disable:!1,onClick:void 0,attributes:{},dragDef:{}}},Object.defineProperty(e.prototype,"category",{get:function(){var t=this.get("category");return t instanceof Fd?t:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.collection},enumerable:!1,configurable:!0}),e.prototype.getId=function(){return this.id},e.prototype.getLabel=function(){return this.get("label")},e.prototype.getMedia=function(){return this.get("media")},e.prototype.getContent=function(){return this.get("content")},e.prototype.getDragDef=function(){return this.get("dragDef")},e.prototype.getCategoryLabel=function(){var t=this.get("category");return(0,z.isFunction)(t==null?void 0:t.get)?t.get("label"):t!=null&&t.label?t==null?void 0:t.label:t},e}(ne.Kx);const W2=w6;var S6=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),K2=function(r){S6(e,r);function e(t,n){var i=r.call(this,t)||this;return i.em=n.em,i.on("add",i.handleAdd),i}return e.prototype.getCategories=function(){return this.em.Blocks.getCategories()},e.prototype.handleAdd=function(t){this.initCategory(t)},e}(A2);const Kh=K2;K2.prototype.model=W2;var qf;(function(r){r.add="block:add",r.remove="block:remove",r.removeBefore="block:remove:before",r.update="block:update",r.dragStart="block:drag:start",r.drag="block:drag",r.dragEnd="block:drag:stop",r.categoryUpdate="block:category:update",r.custom="block:custom",r.all="block"})(qf||(qf={}));var C6=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ku=function(){return ku=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},ku.apply(this,arguments)},x6=function(r){C6(e,r);function e(t,n){n===void 0&&(n={});var i=r.call(this,t)||this,o=i.model;return i.em=n.em,i.config=n,i.endDrag=i.endDrag.bind(i),i.ppfx=n.pStylePrefix||"",i.listenTo(o,"destroy remove",i.remove),i.listenTo(o,"change",i.render),i}return e.prototype.events=function(){return{click:"handleClick",mousedown:"startDrag",dragstart:"handleDragStart",drag:"handleDrag",dragend:"handleDragEnd"}},e.prototype.__getModule=function(){return this.em.Blocks},e.prototype.handleClick=function(t){var n,i,o=this,a=o.config,l=o.model,u=o.em,c=l.get("onClick")||a.appendOnClick;if(u.trigger("block:click",l,t),c){if((0,z.isFunction)(c))return c(l,u==null?void 0:u.getEditor(),{event:t})}else return;var d=(n=a.getSorter)===null||n===void 0?void 0:n.call(a);if(d){var h=l.get("content"),g=this.getTempDropModel(h),m=(i=g.view)===null||i===void 0?void 0:i.el,b=m?[{element:m,dragSource:{content:h}}]:[],w=u.getSelected(),x,_,C,O=0;if(w)if(_=d.validTarget(w.getEl(),b,O),_)x=w;else{var A=w.parent();A&&(_=d.validTarget(A.getEl(),b,O),_&&(x=A,C=A.components().indexOf(w)+1))}if(!x){var I=u.getWrapper();_=d.validTarget(I.getEl(),b,O),_&&(x=I)}var Q=x&&x.append(h,{at:C})[0];Q&&u.setSelected(Q,{scroll:1})}},e.prototype.startDrag=function(t){var n,i=this,o=i.config,a=i.em,l=i.model,u=l.get("disable");if(!(t.button!==0||!o.getSorter||this.el.draggable||u)){a.refreshCanvas();var c=o.getSorter();c.__currentBlock=l;var d=this.model.get("content"),h=this.getTempDropModel(d),g=(n=h.view)===null||n===void 0?void 0:n.el,m=g?[{element:g,dragSource:{content:d}}]:[];c.startSort(m),(0,le.on)(document,"mouseup",this.endDrag)}},e.prototype.handleDragStart=function(t){this.__getModule().__startDrag(this.model,t)},e.prototype.handleDrag=function(t){this.__getModule().__drag(t)},e.prototype.handleDragEnd=function(){this.__getModule().__endDrag()},e.prototype.endDrag=function(){var t,n;(0,le.AU)(document,"mouseup",this.endDrag);var i=(n=(t=this.config).getSorter)===null||n===void 0?void 0:n.call(t);i&&i.endDrag()},e.prototype.getTempDropModel=function(t){var n,i=this.em.Components.getComponents(),o={avoidChildren:1,avoidStore:1,avoidUpdateStyle:1},a=i.add(t,ku(ku({},o),{temporary:!0})),l=i.remove(a,ku(ku({},o),{temporary:!0}));return l=l instanceof Array?l[0]:l,(n=l.view)===null||n===void 0||n.$el.data("model",l),l},e.prototype.render=function(){var t,n=this,i=n.em,o=n.el,a=n.$el,l=n.ppfx,u=n.model,c=u.get("disable"),d=u.get("attributes")||{},h=d.class||"",g="".concat(l,"block"),m=i&&i.t("blockManager.labels.".concat(u.id))||u.get("label"),b=u.get("render"),w=u.get("media"),x=c?"".concat(g,"--disable"):"".concat(l,"four-color-h");a.attr(d),o.className="".concat(h," ").concat(g," ").concat(l,"one-bg ").concat(x).trim(),o.innerHTML=`
      `.concat(w?'<div class="'.concat(g,'__media">').concat(w,"</div>"):"",`
      <div class="`).concat(g,'-label">').concat(m,`</div>
    `),o.title=d.title||((t=o.textContent)===null||t===void 0?void 0:t.trim()),o.setAttribute("draggable","".concat(!!((0,Ht.hasDnd)(i)&&!c)));var _=b&&b({el:o,model:u,className:g,prefix:l});return _&&(o.innerHTML=_),this},e}(ne.Ss);const O6=x6;var E6=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),T6=function(r,e){return Object.defineProperty?Object.defineProperty(r,"raw",{value:e}):r.raw=e,r},A6=function(r){E6(e,r);function e(t,n,i){var o=r.call(this,t)||this;o.config=n;var a=n.pStylePrefix||"";return o.em=n.em,o.catName=i,o.pfx=a,o.caretR="fa fa-caret-right",o.caretD="fa fa-caret-down",o.iconClass="".concat(a,"caret-icon"),o.activeClass="".concat(a,"open"),o.className="".concat(a).concat(i,"-category"),o.listenTo(o.model,"change:open",o.updateVisibility),o.model.view=o,o}return e.prototype.events=function(){return{"click [data-title]":"toggle"}},e.prototype.template=function(t){var n=t.pfx,i=t.label,o=t.catName;return yi(h1||(h1=T6([`
      <div class="`,`title" data-title>
        <i class="`,`caret-icon"></i>
        `,`
      </div>
      <div class="`,"",`s-c"></div>
    `],[`
      <div class="`,`title" data-title>
        <i class="`,`caret-icon"></i>
        `,`
      </div>
      <div class="`,"",`s-c"></div>
    `])),n,n,i,n,o)},e.prototype.attributes=function(){return this.model.get("attributes")||{}},e.prototype.updateVisibility=function(){this.model.get("open")?this.open():this.close()},e.prototype.open=function(){this.$el.addClass(this.activeClass),this.getIconEl().className="".concat(this.iconClass," ").concat(this.caretD),this.getTypeEl().style.display=""},e.prototype.close=function(){this.$el.removeClass(this.activeClass),this.getIconEl().className="".concat(this.iconClass," ").concat(this.caretR),this.getTypeEl().style.display="none"},e.prototype.toggle=function(){var t=this.model;t.set("open",!t.get("open"))},e.prototype.getIconEl=function(){return this.iconEl||(this.iconEl=this.el.querySelector(".".concat(this.iconClass))),this.iconEl},e.prototype.getTypeEl=function(){return this.typeEl||(this.typeEl=this.el.querySelector(".".concat(this.pfx).concat(this.catName,"s-c"))),this.typeEl},e.prototype.append=function(t){this.getTypeEl().appendChild(t)},e.prototype.render=function(){var t=this,n=t.em,i=t.el,o=t.$el,a=t.model,l=t.pfx,u=t.catName,c=n.t("".concat(u,"Manager.categories.").concat(a.id))||a.get("label");return i.innerHTML=this.template({pfx:l,label:c,catName:u}),o.addClass(this.className),o.css({order:a.get("order")}),this.updateVisibility(),this},e}(ne.Ss);const q2=A6;var h1,D6=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Gv=function(){return Gv=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Gv.apply(this,arguments)},k6=function(r){D6(e,r);function e(t,n){var i=r.call(this,t)||this;i.renderedCategories=new Map,(0,z.bindAll)(i,"getSorter","onDrag","onDrop","onMove"),i.config=n||{},i.categories=t.categories||"";var o=i.config.pStylePrefix||"";i.ppfx=o,i.noCatClass="".concat(o,"blocks-no-cat"),i.blockContClass="".concat(o,"blocks-c"),i.catsClass="".concat(o,"block-categories");var a=i.collection;return i.listenTo(a,"add",i.addTo),i.listenTo(a,"reset",i.render),i.em=i.config.em,i.em&&(i.config.getSorter=i.getSorter),i}return e.prototype.__getModule=function(){return this.em.Blocks},e.prototype.updateConfig=function(t){t===void 0&&(t={}),this.config=Gv(Gv({},this.config),t)},e.prototype.getSorter=function(){var t=this.em;if(t){if(!this.sorter){var n=t.Utils,i=t.Canvas;this.sorter=new n.ComponentSorter({em:t,treeClass:k2,containerContext:{container:i.getBody(),containerSel:"*",itemSel:"*",pfx:this.ppfx,placeholderElement:i.getPlacerEl(),document:i.getBody().ownerDocument},dragBehavior:{dragDirection:Cl.A.BothDirections,nested:!0},positionOptions:{windowMargin:1,canvasRelative:!0},eventHandlers:{legacyOnStartSort:this.onDrag,legacyOnEndMove:this.onDrop,legacyOnMoveClb:this.onMove}})}return this.sorter}},e.prototype.onDrag=function(t){this.em.stopDefault(),this.__getModule().__startDrag(this.sorter.__currentBlock,t)},e.prototype.onMove=function(t){this.__getModule().__drag(t)},e.prototype.onDrop=function(t){this.em.runDefault(),this.__getModule().__endDrag({component:t}),delete this.sorter.__currentBlock},e.prototype.addTo=function(t){this.add(t)},e.prototype.add=function(t,n){var i=this,o=i.config,a=i.renderedCategories,l=t.get("attributes"),u=new O6({model:t,attributes:l},o),c=u.render().el,d=t.parent.initCategory(t);if(d&&this.categories&&!o.ignoreCategories){var h=d.getId(),g=this.getCategoriesEl(),m=a.get(h);!m&&g&&(m=new q2({model:d},o,"block").render(),a.set(h,m),g.appendChild(m.el)),m==null||m.append(c);return}n?n.appendChild(c):this.append(c)},e.prototype.getCategoriesEl=function(){return this.catsEl||(this.catsEl=this.el.querySelector(".".concat(this.catsClass))),this.catsEl},e.prototype.getBlocksEl=function(){return this.blocksEl||(this.blocksEl=this.el.querySelector(".".concat(this.noCatClass," .").concat(this.blockContClass))),this.blocksEl},e.prototype.append=function(t){var n=this.getBlocksEl();n&&n.appendChild(t)},e.prototype.render=function(){var t=this,n=this.ppfx,i=document.createDocumentFragment();delete this.catsEl,delete this.blocksEl,this.renderedCategories=new Map,this.el.innerHTML=`
      <div class="`.concat(this.catsClass,`"></div>
      <div class="`).concat(this.noCatClass,`">
        <div class="`).concat(this.blockContClass,`"></div>
      </div>
    `),this.collection.each(function(a){return t.add(a,i)}),this.append(i);var o="".concat(this.blockContClass,"s ").concat(n,"one-bg ").concat(n,"two-color");return this.$el.addClass(o),this.rendered=!0,this},e}(ne.Ss);const p1=k6;var P6=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),as=function(){return as=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},as.apply(this,arguments)},M6=function(r){P6(e,r);function e(t){var n=r.call(this,t,"BlockManager",new Kh([],{em:t}),qf,_6())||this;return n.events=qf,n.Block=W2,n.Blocks=Kh,n.Category=Fd,n.Categories=gv,n.storageKey="",n.blocks=n.all,n.blocksVisible=new Kh(n.blocks.models,{em:t}),n.categories=new gv([],{em:t,events:{update:qf.categoryUpdate}}),n.__onAllEvent=(0,z.debounce)(function(){return n.__trgCustom()},0),n}return e.prototype.onInit=function(){var t=this,n=t.config,i=t.blocks,o=t.blocksVisible;i.add(n.blocks||[]),i.on("add",function(a){return o.add(a)}),i.on("remove",function(a){return o.remove(a)}),i.on("reset",function(a){return o.reset(a.models)})},e.prototype.__trgCustom=function(){this.em.trigger(this.events.custom,this.__customData())},e.prototype.__customData=function(){var t=this,n=this.__getBehaviour();return{bm:this,blocks:this.getAll().models,container:n.container,dragStart:function(i,o){return t.startDrag(i,o)},drag:function(i){return t.__drag(i)},dragStop:function(i){return t.endDrag(i)}}},e.prototype.__startDrag=function(t,n){var i=this,o=i.em,a=i.events,l=i.blocks,u=t.getContent?t.getContent():t;this._dragBlock=t,o.set({dragResult:null,dragSource:{content:u,dragDef:t.getDragDef()}}),[o,l].map(function(c){return c.trigger(a.dragStart,t,n)})},e.prototype.__drag=function(t){var n=this,i=n.em,o=n.events,a=n.blocks,l=this._dragBlock;[i,a].map(function(u){return u.trigger(o.drag,l,t)})},e.prototype.__endDrag=function(t){t===void 0&&(t={});var n=this,i=n.em,o=n.events,a=n.blocks,l=this._dragBlock,u=t.component||i.get("dragResult");if(delete this._dragBlock,u&&l){var c="activeOnRender",d=u.get&&u.get(c),h=l.get("activate")||d,g=l.get("select"),m=(0,z.isArray)(u)?u[0]:u;(g||h&&g!==!1)&&i.setSelected(m),h&&(m.trigger("active"),d&&m.unset(c)),l.get("resetId")&&m.onAll(function(b){return b.resetId()})}i.set({dragResult:null,dragSource:void 0}),l&&[i,a].map(function(b){return b.trigger(o.dragEnd,u,l)})},e.prototype.__getFrameViews=function(){return this.em.Canvas.getFrames().map(function(t){return t.view}).filter(Boolean)},e.prototype.__behaviour=function(t){return t===void 0&&(t={}),this._bhv=as(as({},this._bhv||{}),t)},e.prototype.__getBehaviour=function(){return this._bhv||{}},e.prototype.startDrag=function(t,n){this.__startDrag(t,n),this.__getFrameViews().forEach(function(i){var o;return(o=i.droppable)===null||o===void 0?void 0:o.startCustom()})},e.prototype.endDrag=function(t){this.__getFrameViews().forEach(function(n){var i;return(i=n.droppable)===null||i===void 0?void 0:i.endCustom(t)}),this.__endDrag()},e.prototype.postRender=function(){var t=this,n=t.categories,i=t.config,o=t.em,a=this.blocksVisible;this.blocksView=new p1({collection:a,categories:n},as(as({},i),{em:o})),this.__appendTo(a.models),this.__trgCustom()},e.prototype.add=function(t,n,i){i===void 0&&(i={});var o=n||{};return o.id=t,this.blocks.add(o,i)},e.prototype.get=function(t){return this.blocks.get(t)},e.prototype.getAll=function(){return this.blocks},e.prototype.getAllVisible=function(){return this.blocksVisible},e.prototype.remove=function(t,n){return n===void 0&&(n={}),this.__remove(t,n)},e.prototype.getCategories=function(){return this.categories},e.prototype.getContainer=function(){var t;return(t=this.blocksView)===null||t===void 0?void 0:t.el},e.prototype.getDragBlock=function(){return this._dragBlock},e.prototype.getBlocksByCategory=function(t){return T2(t||this.getAll().models)},e.prototype.render=function(t,n){n===void 0&&(n={});var i=this,o=i.categories,a=i.config,l=i.em,u=t||this.getAll().models;if(n.external){var c=new Kh(u,{em:l});return new p1({collection:c,categories:o},as(as({em:l},a),n)).render().el}return this.blocksView&&(this.blocksView.updateConfig(n),this.blocksView.collection.reset(u),this.blocksView.rendered||(this.blocksView.render(),this.blocksView.rendered=!0)),this.getContainer()},e.prototype.destroy=function(){var t,n=[this.blocks,this.blocksVisible,this.categories];n.map(function(i){return i.stopListening()}),n.map(function(i){return i.reset()}),(t=this.blocksView)===null||t===void 0||t.remove()},e}(Ra);const R6=M6;var L6=function(){return{stylePrefix:"clm-",appendTo:"",selectors:[],states:[{name:"hover"},{name:"active"},{name:"nth-of-type(2n)"}],iconAdd:'<svg viewBox="0 0 24 24"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"></path></svg>',iconSync:'<svg viewBox="0 0 24 24"><path d="M12 18c-3.31 0-6-2.69-6-6 0-1 .25-1.97.7-2.8L5.24 7.74A7.93 7.93 0 0 0 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4m0-11V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1-.25 1.97-.7 2.8l1.46 1.46A7.93 7.93 0 0 0 20 12c0-4.42-3.58-8-8-8z"></path></svg>',iconTagOn:'<svg viewBox="0 0 24 24"><path d="M19 19H5V5h10V3H5c-1.11 0-2 .89-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-8h-2m-11.09-.92L6.5 11.5 11 16 21 6l-1.41-1.42L11 13.17l-3.09-3.09z"></path></svg>',iconTagOff:'<svg viewBox="0 0 24 24"><path d="M19 3H5c-1.11 0-2 .89-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5a2 2 0 0 0-2-2m0 2v14H5V5h14z"></path></svg>',iconTagRemove:'<svg viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>',componentFirst:!1,custom:!1}};const N6=L6;var j6=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),G2=function(r){j6(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.defaults=function(){return{name:"",label:""}},e.prototype.getName=function(){return this.get("name")},e.prototype.getLabel=function(){return this.get("label")||this.getName()},e}(ne.Kx);const Vy=G2;G2.prototype.idAttribute="name";var I6=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),V6=function(r,e){return Object.defineProperty?Object.defineProperty(r,"raw",{value:e}):r.raw=e,r},v1="contentEditable",U6=function(r){I6(e,r);function e(t){t===void 0&&(t={});var n=r.call(this,t)||this,i=t.config||{};return n.config=i,n.module=t.module,n.coll=t.coll||null,n.pfx=i.stylePrefix||"",n.ppfx=i.pStylePrefix||"",n.em=i.em,n.listenTo(n.model,"change:active",n.updateStatus),n}return e.prototype.template=function(){var t=this,n=t.pfx,i=t.model,o=t.config,a=i.get("label")||"";return yi(g1||(g1=V6([`
      <span id="`,'checkbox" class="',`tag-status" data-tag-status></span>
      <span id="`,'tag-label" data-tag-name>',`</span>
      <span id="`,'close" class="','tag-close" data-tag-remove> $',` </span>
    `],[`
      <span id="`,'checkbox" class="',`tag-status" data-tag-status></span>
      <span id="`,'tag-label" data-tag-name>',`</span>
      <span id="`,'close" class="','tag-close" data-tag-remove> $',` </span>
    `])),n,n,n,a,n,n,o.iconTagRemove)},e.prototype.events=function(){return{"click [data-tag-remove]":"removeTag","click [data-tag-status]":"changeStatus","dblclick [data-tag-name]":"startEditTag","focusout [data-tag-name]":"endEditTag"}},e.prototype.getInputEl=function(){return this.inputEl||(this.inputEl=this.el.querySelector("[data-tag-name]")),this.inputEl},e.prototype.startEditTag=function(){var t=this.em,n=this.getInputEl();n[v1]="true",n.focus(),t==null||t.setEditing(!0)},e.prototype.endEditTag=function(){var t=this,n=t.model,i=t.em,o=this.getInputEl(),a=o.textContent||"",l=i==null?void 0:i.Selectors;o[v1]="false",i==null||i.setEditing(!1),l&&l.rename(n,a)!==n&&(o.innerText=n.getLabel())},e.prototype.changeStatus=function(){var t=this.model;t.set("active",!t.getActive())},e.prototype.removeTag=function(){this.module.removeSelected(this.model)},e.prototype.updateStatus=function(){var t=this,n=t.model,i=t.$el,o=t.config,a=o.iconTagOn,l=o.iconTagOff,u=i.find("[data-tag-status]");n.get("active")?(u.html(a),i.removeClass("opac50")):(u.html(l),i.addClass("opac50"))},e.prototype.render=function(){var t=this,n=t.pfx,i=t.ppfx,o=t.$el,a=t.model,l="".concat(n,"tag"),u=["".concat(l," ").concat(i,"three-bg")];return a.get("protected")&&u.push("".concat(l,"-protected")),o.html(this.template()),o.attr("class",u.join(" ")),this.updateStatus(),this},e}(ne.Ss);const B6=U6;var g1,F6=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),pf=function(r,e){return Object.defineProperty?Object.defineProperty(r,"raw",{value:e}):r.raw=e,r},z6=function(r){F6(e,r);function e(t){t===void 0&&(t={});var n=r.call(this,t)||this;n.config=t.config||{},n.pfx=n.config.stylePrefix||"",n.ppfx=n.config.pStylePrefix||"",n.className=n.pfx+"tags",n.stateInputId=n.pfx+"states",n.stateInputC=n.pfx+"input-c",n.states=n.config.states||[];var i=n.config.em,o=n.collection;n.target=i;var a=i.Selectors;n.module=a,n.em=i,n.componentChanged=(0,z.debounce)(n.componentChanged.bind(n),0),n.checkSync=(0,z.debounce)(n.checkSync.bind(n),0);var l=mn.I.update,u="".concat(l,":classes"),c="component:toggled ".concat(u),d="".concat(u," ").concat(l,":attributes:id change:state");return n.listenTo(i,c,n.componentChanged),n.listenTo(i,"styleManager:update",n.componentChanged),n.listenTo(i,d,n.__handleStateChange),n.listenTo(i,"styleable:change change:device",n.checkSync),n.listenTo(o,"add",n.addNew),n.listenTo(o,"reset",n.renderClasses),n.listenTo(o,"remove",n.tagRemoved),n.listenTo(a.getAll(),a.events.state,(0,z.debounce)(function(){return n.renderStates()},0)),n.delegateEvents(),n}return e.prototype.template=function(t){var n=t.labelInfo,i=t.labelHead,o=t.iconSync,a=t.iconAdd,l=t.pfx,u=t.ppfx;return yi(m1||(m1=pf([' <div id="','up" class="',`header">
        <div id="`,'label" class="','header-label">',`</div>
        <div id="`,'status-c" class="',`header-status">
          <span id="`,`input-c" data-states-c>
            <div class="`,"field ",`select">
              <span id="`,`input-holder">
                <select id="`,`states" data-states></select>
              </span>
              <div class="`,`sel-arrow">
                <div class="`,`d-s-arrow"></div>
              </div>
            </div>
          </span>
        </div>
      </div>
      <div id="`,'tags-field" class="',`field">
        <div id="`,`tags-c" data-selectors></div>
        <input id="`,`new" data-input />
        <span id="`,'add-tag" class="',"tags-btn ",'tags-btn__add" data-add> $',` </span>
        <span class="`,"tags-btn ",'tags-btn__sync" style="display: none" data-sync-style> $',` </span>
      </div>
      <div class="`,`sels-info">
        <div class="`,'label-sel">',`:</div>
        <div class="`,`sels" data-selected></div>
      </div>`],[' <div id="','up" class="',`header">
        <div id="`,'label" class="','header-label">',`</div>
        <div id="`,'status-c" class="',`header-status">
          <span id="`,`input-c" data-states-c>
            <div class="`,"field ",`select">
              <span id="`,`input-holder">
                <select id="`,`states" data-states></select>
              </span>
              <div class="`,`sel-arrow">
                <div class="`,`d-s-arrow"></div>
              </div>
            </div>
          </span>
        </div>
      </div>
      <div id="`,'tags-field" class="',`field">
        <div id="`,`tags-c" data-selectors></div>
        <input id="`,`new" data-input />
        <span id="`,'add-tag" class="',"tags-btn ",'tags-btn__add" data-add> $',` </span>
        <span class="`,"tags-btn ",'tags-btn__sync" style="display: none" data-sync-style> $',` </span>
      </div>
      <div class="`,`sels-info">
        <div class="`,'label-sel">',`:</div>
        <div class="`,`sels" data-selected></div>
      </div>`])),l,l,l,l,i,l,l,l,u,u,u,l,u,u,l,u,l,l,l,l,l,a,l,l,o,l,l,n,l)},e.prototype.events=function(){return{"change [data-states]":"stateChanged","click [data-add]":"startNewTag","focusout [data-input]":"endNewTag","keyup [data-input]":"onInputKeyUp","click [data-sync-style]":"syncStyle"}},e.prototype.syncStyle=function(){var t=this.em,n=this.getTarget(),i=t.Css,o={noDisabled:1},a=this.getCommonSelectors({opts:o}),l=t.get("state"),u=t.getCurrentMedia(),c=[],d=i.get(a,l,u)||i.add(a,l,u),h;this.getTargets().forEach(function(g){var m=i.getIdRule(g.getId(),{state:l,mediaText:u});h=m.getStyle(),m.setStyle({}),c.push(m)}),h&&d.addStyle(h),t.trigger("component:toggled"),t.trigger("component:sync-style",{component:n,selectors:a,mediaText:u,rule:d,ruleComponents:c,state:l})},e.prototype.tagRemoved=function(t){this.updateStateVis()},e.prototype.addNew=function(t){this.addToClasses(t)},e.prototype.startNewTag=function(){var t,n;(t=this.$addBtn)===null||t===void 0||t.css({display:"none"}),(n=this.$input)===null||n===void 0||n.show().focus()},e.prototype.endNewTag=function(){var t,n;(t=this.$addBtn)===null||t===void 0||t.css({display:""}),(n=this.$input)===null||n===void 0||n.hide().val("")},e.prototype.onInputKeyUp=function(t){var n;t.keyCode===13?(t.preventDefault(),this.addNewTag((n=this.$input)===null||n===void 0?void 0:n.val())):t.keyCode===27&&this.endNewTag()},e.prototype.checkStates=function(){var t=this.em.getState(),n=this.getStates();n&&n.val(t)},e.prototype.componentChanged=function(t){var n=t===void 0?{}:t,i=n.targets;this.updateSelection(i)},e.prototype.updateSelection=function(t){var n=t||this.getTargets();n=(0,z.isArray)(n)?n:[n];var i=[];return n&&n.length&&(i=this.getCommonSelectors({targets:n}),this.checkSync({validSelectors:i})),this.collection.reset(i),this.updateStateVis(n),this.module.__trgCustom(),i},e.prototype.getCommonSelectors=function(t){var n=t===void 0?{}:t,i=n.targets,o=n.opts,a=o===void 0?{}:o,l=i||this.getTargets();return this.module.__getCommonSelectors(l,a)},e.prototype._commonSelectors=function(){for(var t,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return(t=this.module).__common.apply(t,n)},e.prototype.checkSync=function(){var t=this,n=t.$btnSyncEl,i=t.config,o=t.collection,a=this.getTarget(),l;if(a&&i.componentFirst&&o.length){var u=a.getStyle();l=!(0,z.isEmpty)(u)}n&&n[l?"show":"hide"]()},e.prototype.getTarget=function(){return this.target.getSelected()},e.prototype.getTargets=function(){return this.target.getSelectedAll()},e.prototype.updateStateVis=function(t){var n=this.em,i=n&&n.getConfig().avoidInlineStyle,o=this.collection.length||i?"":"none";this.getStatesC().css("display",o),this.updateSelector(t)},e.prototype.__handleStateChange=function(){this.updateSelector(this.getTargets())},e.prototype.updateSelector=function(t){var n=this,i=this.el.querySelector("[data-selected]"),o=[],a=t||this.getTargets();a=(0,z.isArray)(a)?a:[a],a.forEach(function(l){return o.push(n.__getName(l))}),i&&(i.innerHTML=o.join(", ")),this.checkStates()},e.prototype.__getName=function(t){var n=this,i=n.pfx,o=n.config,a=n.em,l=o.selectedName,u=o.componentFirst,c;if((0,z.isString)(t))c=yi(y1||(y1=pf(['<span class="','sel-gen">',"</span>"],['<span class="','sel-gen">',"</span>"])),i,t);else{var d=t==null?void 0:t.getSelectors();if(!d)return"";var h=d.getStyleable(),g=a.get("state"),m=t.getId?yi(_1||(_1=pf(['<span class="','sel-cmp">',`</span>
            <span class="`,'sel-id">#',"</span>"],['<span class="','sel-cmp">',`</span>
            <span class="`,'sel-id">#',"</span>"])),i,t.getName(),i,t.getId()):"";c=this.collection.getFullString(h),c=c?yi(b1||(b1=pf(['<span class="','sel-rule">',"</span>"],['<span class="','sel-rule">',"</span>"])),i,c):t.get("selectorsAdd")||m,c=u&&m?m:c,c+=g?yi(w1||(w1=pf(['<span class="','sel-state">:',"</span>"],['<span class="','sel-state">:',"</span>"])),i,g):"",c=l?l({result:c,state:g,target:t}):c}return c&&'<span class="'.concat(i,'sel">').concat(c,"</span>")},e.prototype.stateChanged=function(t){var n=this.em,i=t.target.value;n.set("state",i)},e.prototype.addNewTag=function(t){var n=t.trim();n&&(this.module.addSelected({label:n}),this.endNewTag())},e.prototype.addToClasses=function(t,n){var i=n,o=this.getClasses(),a=new B6({model:t,config:this.config,coll:this.collection,module:this.module}).render().el;return i?i.appendChild(a):o.append(a),a},e.prototype.renderClasses=function(){var t=this,n=document.createDocumentFragment(),i=this.getClasses();i.empty(),this.collection.each(function(o){return t.addToClasses(o,n)}),i.append(n)},e.prototype.getClasses=function(){return this.$el.find("[data-selectors]")},e.prototype.getStates=function(){if(!this.$states){var t=this.$el.find("[data-states]");this.$states=t[0]&&t}return this.$states},e.prototype.getStatesC=function(){return this.$statesC||(this.$statesC=this.$el.find("#"+this.stateInputC)),this.$statesC},e.prototype.renderStates=function(){var t=this,n=t.module,i=t.em,o=i.t("selectorManager.emptyState"),a=n.getStates().map(function(u){var c=i.t("selectorManager.states.".concat(u.id))||u.getLabel()||u.id;return'<option value="'.concat(u.id,'">').concat(c,"</option>")}).join(""),l=this.getStates();l&&l.html('<option value="">'.concat(o,"</option>").concat(a)),this.checkStates()},e.prototype.render=function(){var t=this,n=t.em,i=t.pfx,o=t.ppfx,a=t.config,l=t.$el,u=t.el,c=a.render,d=a.iconSync,h=a.iconAdd,g={iconSync:d,iconAdd:h,labelHead:n.t("selectorManager.label"),labelInfo:n.t("selectorManager.selected"),ppfx:o,pfx:i,el:u};l.html(this.template(g));var m=c&&c(g);return m&&m!==u&&l.empty().append(m),this.$input=l.find("[data-input]"),this.$addBtn=l.find("[data-add]"),this.$classes=l.find("#"+i+"tags-c"),this.$btnSyncEl=l.find("[data-sync-style]"),this.$input.hide(),this.renderStates(),this.renderClasses(),l.attr("class","".concat(this.className," ").concat(o,"one-bg ").concat(o,"two-color")),this},e}(ne.Ss);const H6=z6;var m1,y1,_1,b1,w1,W6=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Gf=function(){return Gf=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Gf.apply(this,arguments)},Uy=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))},S1=function(r){return(0,z.isString)(r)&&r[0]=="#"},C1=function(r){return(0,z.isString)(r)&&r[0]=="."},Y2="selector",zd="".concat(Y2,":"),K6="".concat(zd,"add"),q6="".concat(zd,"update"),X2="".concat(zd,"remove"),G6="".concat(X2,":before"),Y6="".concat(zd,"custom"),Z2="".concat(zd,"state"),X6={all:Y2,update:q6,add:K6,remove:X2,removeBefore:G6,state:Z2,custom:Y6},Z6=function(r){W6(e,r);function e(t){var n=r.call(this,t,"SelectorManager",new ms([]),X6,N6(),{skipListen:!0})||this;n.Selector=Jr,n.Selectors=ms,n.storageKey="",(0,z.bindAll)(n,"__updateSelectedByComponents");var i=n.config,o=i.pStylePrefix;o&&(i.stylePrefix=o+i.stylePrefix),n.all=new ms(i.selectors),n.selected=new ms([],{em:t,config:i}),n.states=new ne.pM(i.states.map(function(u){return new Vy(u)}),{model:Vy}),n.model=new ne.Kx({cFirst:i.componentFirst,_undo:!0}),n.__update=(0,z.debounce)(function(){return n.__trgCustom()},0),n.__initListen({collections:[n.states,n.selected],propagate:[{entity:n.states,event:n.events.state}]}),t.on("change:state",function(u,c){return t.trigger(Z2,c)}),n.model.on("change:cFirst",function(u,c){return t.trigger("selector:type",c)});var a="".concat(mn.I.update,":classes");t.on("component:toggled ".concat(a),n.__updateSelectedByComponents);var l="component:toggled ".concat(a," change:device styleManager:update selector:state selector:type style:target");return n.model.listenTo(t,l,function(){return n.__update()}),n}return e.prototype.__trgCustom=function(t){this.em.trigger(this.events.custom,this.__customData(t))},e.prototype.getAll=function(t){return t===void 0&&(t={}),this.all?t.array?Uy([],this.all.models,!0):this.all:[]},e.prototype.__customData=function(t){return t===void 0&&(t={}),this.__ctn=this.__ctn||t.container,{states:this.getStates(),selected:this.getSelected(),container:this.__ctn}},e.prototype.postRender=function(){this.__appendTo(),this.__trgCustom()},e.prototype.select=function(t,n){n===void 0&&(n={});var i=Array.isArray(t)?t:[t],o=this.em.Styles.select(i,n);this.selected.reset(this.__getCommonSelectors(o));var a=this.selectorTags,l=o.filter(function(u){return u}).map(function(u){return(0,Ht.isComponent)(u)||(0,Ht.isRule)(u)&&!u.get("selectorsAdd")?u:u.getSelectorsString()});return a&&a.componentChanged({targets:l}),this},e.prototype.addSelector=function(t,n,i){n===void 0&&(n={}),i===void 0&&(i={});var o=Gf({},n);(0,z.isObject)(t)?o=t:o.name=t,S1(o.name)?(o.name=o.name.substr(1),o.type=Jr.TYPE_ID):C1(o.name)&&(o.name=o.name.substr(1)),o.label&&!o.name&&(o.name=this.escapeName(o.label));var a=o.name,l=this.getConfig(),u=this,c=u.all,d=u.em,h=a?this.get(a,o.type):c.where(o)[0];if(!h){var g=o instanceof Jr?o:new Jr(o,Gf(Gf({},i),{config:l,em:d}));return c.add(g,i)}return h},e.prototype.getSelector=function(t,n){return n===void 0&&(n=Jr.TYPE_CLASS),S1(t)?(t=t.substr(1),n=Jr.TYPE_ID):C1(t)&&(t=t.substr(1)),this.all.where({name:t,type:n})[0]},e.prototype.add=function(t,n){var i=this;n===void 0&&(n={});var o=(0,z.isString)(t)?{}:n;return(0,z.isArray)(t)?t.map(function(a){return i.addSelector(a,n,o)}):this.addSelector(t,n,o)},e.prototype.addClass=function(t){var n=this,i=[];return(0,z.isString)(t)&&(t=t.trim().split(" ")),t.forEach(function(o){return i.push(n.addSelector(o))}),i},e.prototype.get=function(t,n){var i=this;if((0,z.isArray)(t)){var o=[],a=t.map(function(l){return i.getSelector(l)}).filter(Boolean);return a.forEach(function(l){return o.indexOf(l)<0&&o.push(l)}),o}else return this.getSelector(t,n)},e.prototype.remove=function(t,n){return this.__remove(t,n)},e.prototype.rename=function(t,n,i){var o=this.escapeName(n),a=this.get(o);return a||t.set({name:o,label:n},i)},e.prototype.setState=function(t){return this.em.setState(t),this},e.prototype.getState=function(){return this.em.getState()},e.prototype.getStates=function(){return Uy([],this.states.models,!0)},e.prototype.setStates=function(t,n){return this.states.reset(t.map(function(i){return new Vy(i)}),n)},e.prototype.getSelected=function(){return this.__getCommon()},e.prototype.getSelectedAll=function(){return Uy([],this.selected.models,!0)},e.prototype.addSelected=function(t){var n=this.add(t);this.em.getSelectedAll().forEach(function(i){i.getSelectors().add(n)})},e.prototype.removeSelected=function(t){this.em.getSelectedAll().forEach(function(n){!t.get("protected")&&n&&n.getSelectors().remove(t)})},e.prototype.duplicateSelected=function(t,n){var i=this;n===void 0&&(n={});var o=this.em,a=this.getSelected();if(!(a.indexOf(t)<0)){var l=this.getState(),u=o.getCurrentMedia(),c=o.Css.get(a,l,u),d=c==null?void 0:c.getStyle();if(o.getSelectedAll().forEach(function(g){var m=g.getSelectors();if(m.includes(t)){var b=n.suffix||" copy",w=t.getLabel(),x=i.addSelector("".concat(w).concat(b)),_=m.indexOf(t);m.remove(t),m.add(x,{at:_})}}),d){var h=o.Css.add(this.getSelected(),l,u);h.setStyle(d)}}},e.prototype.getSelectedTargets=function(){return this.em.Styles.getSelectedAll()},e.prototype.setComponentFirst=function(t){this.getConfig().componentFirst=t,this.model.set({cFirst:t})},e.prototype.getComponentFirst=function(){return this.getConfig().componentFirst},e.prototype.escapeName=function(t){var n=this.getConfig().escapeName;return n?n(t):Jr.escapeName(t)},e.prototype.render=function(t){var n=this.selectorTags,i=this.getConfig(),o=n==null?void 0:n.el;return this.selected.reset(t),this.selectorTags=new H6({el:o,collection:this.selected,module:this,config:i}),this.selectorTags.render().el},e.prototype.destroy=function(){var t=this,n=t.selectorTags,i=t.model;i.stopListening(),this.__update.cancel(),this.__destroy(),n==null||n.remove(),this.selectorTags=void 0},e.prototype.__getCommon=function(){return this.__getCommonSelectors(this.em.getSelectedAll())},e.prototype.__getCommonSelectors=function(t,n){n===void 0&&(n={});var i=t.map(function(o){return o.getSelectors&&o.getSelectors().getValid(n)}).filter(Boolean);return this.__common.apply(this,i)},e.prototype.__common=function(){for(var t=this,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return n.length?n.length===1?n[0]:n.length===2?n[0].filter(function(o){return n[1].indexOf(o)>=0}):n.slice(1).reduce(function(o,a){return t.__common(o,a)},n[0]):[]},e.prototype.__updateSelectedByComponents=function(){this.selected.reset(this.__getCommon())},e}(Ra);const $6=Z6;var J6=function(){return{textTags:["br","b","i","u","a","ul","ol"],textTypes:["text","textnode","comment"],parserCss:void 0,parserHtml:void 0,optionsHtml:{htmlType:"text/html",allowScripts:!1,allowUnsafeAttr:!1,allowUnsafeAttrValue:!1,keepEmptyTextNodes:!1,convertDataGjsAttributesHyphens:!1}}};const Q6=J6;var So,Vi={MEDIA_RULE:4,FONT_FACE_RULE:5,PAGE_RULE:6,KEYFRAMES_RULE:7,COUNTER_STYLE_RULE:11,SUPPORTS_RULE:12,DOCUMENT_RULE:13,FONT_FEATURE_VALUES_RULE:14,VIEWPORT_RULE:15},Xu=(So={},So[Vi.MEDIA_RULE]="media",So[Vi.FONT_FACE_RULE]="font-face",So[Vi.PAGE_RULE]="page",So[Vi.KEYFRAMES_RULE]="keyframes",So[Vi.COUNTER_STYLE_RULE]="counter-style",So[Vi.SUPPORTS_RULE]="supports",So[Vi.DOCUMENT_RULE]="document",So[Vi.FONT_FEATURE_VALUES_RULE]="font-feature-values",So[Vi.VIEWPORT_RULE]="viewport",So),$2=(0,z.keys)(Xu),hw=[Vi.FONT_FACE_RULE,Vi.PAGE_RULE,Vi.COUNTER_STYLE_RULE,Vi.VIEWPORT_RULE],tB=$2.filter(function(r){return hw.indexOf(Number(r))<0}).map(function(r){return Xu[r]}).concat(["container","layer"]),eB=hw.map(function(r){return Xu[r]}),J2=function(r){r===void 0&&(r="");for(var e=[],t=[],n=r.split(","),i=0,o=n.length;i<o;i++){var a=n[i].trim();if(/^(\.{1}[\w\-]+)+(:{1,2}[\w\-()]+)?$/gi.test(a)||/^(#{1}[\w\-]+){1}(:{1,2}[\w\-()]+)?$/gi.test(a)){var l=a.split(".").filter(Boolean);t.push(l)}else e.push(a)}return{result:t,add:e}},nB=function(r){for(var e=r.style,t={},n=0,i=e.length;n<i;n++){var o=e[n],a=e.getPropertyValue(o),l=e.getPropertyPriority(o);t[o]="".concat(a).concat(l?" !".concat(l):"")}return t},x1=function(r){var e=r.conditionText||r.media&&r.media.mediaText||r.name||r.selectorText||"";return e.trim()},b_=function(r,e,t){e===void 0&&(e={}),t===void 0&&(t={});var n={},i=r.length,o=r[i-1],a=o?o.split(/:(.+)/):[],l=a[1],u=t.atRule,c=t.selectorsAdd,d=t.mediaText,h=eB.indexOf(u)>=0;return h&&(n.singleAtRule=!0),u&&(n.atRuleType=u),c&&(n.selectorsAdd=c),d&&(n.mediaText=d),l&&(r[i-1]=a[0],n.state=l,a.splice(a.length-1,1)),n.selectors=r,n.style=e,n},O1=function(r){var e=r.cssText,t=e===void 0?"":e;return tB.find(function(n){return t.indexOf("@".concat(n))===0})},Q2=function(r){for(var e=[],t=r.cssRules||[],n=0,i=t.length;n<i;n++){var o=t[n],a=o.type,l=!1,u="",c="",d=o.selectorText||o.keyText||"",h=hw.indexOf(a)>=0;if(h)l=!0,u=Xu[a],c=x1(o);else if($2.indexOf("".concat(a))>=0||!a&&O1(o)){var g=Q2(o),m=Xu[a]||O1(o);c=x1(o);for(var b=0,w=g.length;b<w;b++){var x=g[b];c&&(x.mediaText=c),x.atRuleType=m}e=e.concat(g)}if(!(!d&&!h)){for(var _=nB(o),C=J2(d),O=C.add,A=C.result,I=void 0,Q=0,$=A.length;Q<$;Q++){var Z=b_(A[Q],_,{atRule:Xu[a]});e.push(Z),I=Z}if(O.length){var P=O.join(", ");if(I)I.selectorsAdd=P;else{var Z={selectors:[],selectorsAdd:P,style:_};l&&(Z.singleAtRule=l),u&&(Z.atRuleType=u),c&&(Z.mediaText=c),e.push(Z)}}}}return e};const rB=function(r){var e=document.createElement("style");e.innerHTML=r,document.head.appendChild(e);var t=e.sheet;return document.head.removeChild(e),t?Q2(t):[]};var iB=function(r,e){return e===void 0&&(e={}),{parse:function(t,n){var i=this;n===void 0&&(n={});var o=[],a=e.parserCss,l=r==null?void 0:r.Editor,u=[],c,d=r==null?void 0:r.Parser,h={input:t};d==null||d.__emitEvent(Es.cssBefore,h);var g=h.input;try{u=a?a(g,l):rB(g)}catch(m){if(c=m,n.throwOnError)throw m}return u.forEach(function(m){return o=o.concat(i.checkNode(m))}),d==null||d.__emitEvent(Es.css,{input:g,output:o,nodes:u,error:c}),o},checkNode:function(t){var n=t.selectors,i=t.style,o=[t];if((0,z.isString)(n)){var a=[],l=t,u=J2(n),c=u.result,d=u.add.join(", "),h={atRule:l.atRule,mediaText:l.params};if(c.length?c.forEach(function(m){a.push(b_(m,i,h))}):a.push(b_([],i,h)),d){var g=a[a.length-1];g.selectorsAdd=d}o=a}return o}}};const oB=iB;var aB=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),w_=function(){return w_=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},w_.apply(this,arguments)},sB=function(r){aB(e,r);function e(t){var n=r.call(this,t,"Parser",Q6())||this;n.events=Es;var i=n.config;return n.parserCss=oB(t,i),n.parserHtml=y2(t,i),n}return e.prototype.parseHtml=function(t,n){n===void 0&&(n={});var i=this,o=i.em,a=i.parserHtml;return a.compTypes=o.Components.getTypes()||[],a.parse(t,this.parserCss,n)},e.prototype.parseCss=function(t){return this.parserCss.parse(t)},e.prototype.__emitEvent=function(t,n){var i=this,o=i.em,a=i.events;o.trigger(t,n),o.trigger(a.all,w_({event:t},n))},e.prototype.destroy=function(){},e}(Oi);const lB=sB;var uB=function(){return{id:"gjs-",type:"local",autosave:!0,autoload:!0,stepsBeforeSave:1,recovery:!1,onStore:function(r){return r},onLoad:function(r){return r},options:{local:{key:"gjsProject",checkLocal:!0},remote:{headers:{},urlStore:"",urlLoad:"",contentTypeJson:!0,fetchOptions:"",credentials:"include",onStore:function(r){return r},onLoad:function(r){return r}}}}};const cB=uB;var E1=function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function l(d){try{c(n.next(d))}catch(h){a(h)}}function u(d){try{c(n.throw(d))}catch(h){a(h)}}function c(d){d.done?o(d.value):i(d.value).then(l,u)}c((n=n.apply(r,e||[])).next())})},T1=function(r,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(c){return function(d){return u([c,d])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(t=0)),t;)try{if(n=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){t.label=c[1];break}if(c[0]===6&&t.label<o[1]){t.label=o[1],o=c;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(c);break}o[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(r,t)}catch(d){c=[6,d],i=0}finally{n=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},fB=function(){function r(){}return r.prototype.store=function(e){return E1(this,arguments,void 0,function(t,n){return n===void 0&&(n={}),T1(this,function(i){return this.hasLocal(n,!0)&&localStorage.setItem(n.key,JSON.stringify(t)),[2,t]})})},r.prototype.load=function(){return E1(this,arguments,void 0,function(e){var t;return e===void 0&&(e={}),T1(this,function(n){return t={},this.hasLocal(e,!0)&&(t=JSON.parse(localStorage.getItem(e.key)||"{}")),[2,t]})})},r.prototype.hasLocal=function(e,t){if(e===void 0&&(e={}),e.checkLocal&&(!(0,Ht.hasWin)()||!localStorage)){if(t)throw new Error("localStorage not available");return!1}return!0},r}();const dB=fB;function xl(r){"@babel/helpers - typeof";return xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xl(r)}function hB(r){var e=this.constructor;return this.then(function(t){return e.resolve(r()).then(function(){return t})},function(t){return e.resolve(r()).then(function(){return e.reject(t)})})}const pB=hB;function vB(r){var e=this;return new e(function(t,n){if(!(r&&typeof r.length<"u"))return n(new TypeError(xl(r)+" "+r+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var i=Array.prototype.slice.call(r);if(i.length===0)return t([]);var o=i.length;function a(u,c){if(c&&(xl(c)==="object"||typeof c=="function")){var d=c.then;if(typeof d=="function"){d.call(c,function(h){a(u,h)},function(h){i[u]={status:"rejected",reason:h},--o===0&&t(i)});return}}i[u]={status:"fulfilled",value:c},--o===0&&t(i)}for(var l=0;l<i.length;l++)a(l,i[l])})}const gB=vB;function tD(r,e){this.name="AggregateError",this.errors=r,this.message=e||""}tD.prototype=Error.prototype;function mB(r){var e=this;return new e(function(t,n){if(!(r&&typeof r.length<"u"))return n(new TypeError("Promise.any accepts an array"));var i=Array.prototype.slice.call(r);if(i.length===0)return n();for(var o=[],a=0;a<i.length;a++)try{e.resolve(i[a]).then(t).catch(function(l){o.push(l),o.length===i.length&&n(new tD(o,"All promises were rejected"))})}catch(l){n(l)}})}const yB=mB;var _B=setTimeout;function eD(r){return!!(r&&typeof r.length<"u")}function bB(){}function wB(r,e){return function(){r.apply(e,arguments)}}function Ln(r){if(!(this instanceof Ln))throw new TypeError("Promises must be constructed via new");if(typeof r!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],rD(r,this)}function nD(r,e){for(;r._state===3;)r=r._value;if(r._state===0){r._deferreds.push(e);return}r._handled=!0,Ln._immediateFn(function(){var t=r._state===1?e.onFulfilled:e.onRejected;if(t===null){(r._state===1?S_:_d)(e.promise,r._value);return}var n;try{n=t(r._value)}catch(i){_d(e.promise,i);return}S_(e.promise,n)})}function S_(r,e){try{if(e===r)throw new TypeError("A promise cannot be resolved with itself.");if(e&&(xl(e)==="object"||typeof e=="function")){var t=e.then;if(e instanceof Ln){r._state=3,r._value=e,C_(r);return}else if(typeof t=="function"){rD(wB(t,e),r);return}}r._state=1,r._value=e,C_(r)}catch(n){_d(r,n)}}function _d(r,e){r._state=2,r._value=e,C_(r)}function C_(r){r._state===2&&r._deferreds.length===0&&Ln._immediateFn(function(){r._handled||Ln._unhandledRejectionFn(r._value)});for(var e=0,t=r._deferreds.length;e<t;e++)nD(r,r._deferreds[e]);r._deferreds=null}function SB(r,e,t){this.onFulfilled=typeof r=="function"?r:null,this.onRejected=typeof e=="function"?e:null,this.promise=t}function rD(r,e){var t=!1;try{r(function(n){t||(t=!0,S_(e,n))},function(n){t||(t=!0,_d(e,n))})}catch(n){if(t)return;t=!0,_d(e,n)}}Ln.prototype.catch=function(r){return this.then(null,r)};Ln.prototype.then=function(r,e){var t=new this.constructor(bB);return nD(this,new SB(r,e,t)),t};Ln.prototype.finally=pB;Ln.all=function(r){return new Ln(function(e,t){if(!eD(r))return t(new TypeError("Promise.all accepts an array"));var n=Array.prototype.slice.call(r);if(n.length===0)return e([]);var i=n.length;function o(l,u){try{if(u&&(xl(u)==="object"||typeof u=="function")){var c=u.then;if(typeof c=="function"){c.call(u,function(d){o(l,d)},t);return}}n[l]=u,--i===0&&e(n)}catch(d){t(d)}}for(var a=0;a<n.length;a++)o(a,n[a])})};Ln.any=yB;Ln.allSettled=gB;Ln.resolve=function(r){return r&&xl(r)==="object"&&r.constructor===Ln?r:new Ln(function(e){e(r)})};Ln.reject=function(r){return new Ln(function(e,t){t(r)})};Ln.race=function(r){return new Ln(function(e,t){if(!eD(r))return t(new TypeError("Promise.race accepts an array"));for(var n=0,i=r.length;n<i;n++)Ln.resolve(r[n]).then(e,t)})};Ln._immediateFn=typeof setImmediate=="function"&&function(r){setImmediate(r)}||function(r){_B(r,0)};Ln._unhandledRejectionFn=function(e){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};const x_=Ln;(0,Ht.hasWin)()&&(window.Promise=window.Promise||x_);const iD=typeof fetch=="function"?fetch.bind():function(r,e){return new x_(function(t,n){var i=new XMLHttpRequest;i.open(e.method||"get",r),i.withCredentials=e.credentials=="include";for(var o in e.headers||{})i.setRequestHeader(o,e.headers[o]);i.onload=function(a){return t({status:i.status,statusText:i.statusText,text:function(){return x_.resolve(i.responseText)}})},i.onerror=n,i.upload&&e.onProgress&&(i.upload.onprogress=e.onProgress),e.body?i.send(e.body):i.send()})};var Yv=function(){return Yv=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Yv.apply(this,arguments)},A1=function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function l(d){try{c(n.next(d))}catch(h){a(h)}}function u(d){try{c(n.throw(d))}catch(h){a(h)}}function c(d){d.done?o(d.value):i(d.value).then(l,u)}c((n=n.apply(r,e||[])).next())})},D1=function(r,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(c){return function(d){return u([c,d])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(t=0)),t;)try{if(n=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){t.label=c[1];break}if(c[0]===6&&t.label<o[1]){t.label=o[1],o=c;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(c);break}o[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(r,t)}catch(d){c=[6,d],i=0}finally{n=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},CB=function(){function r(){}return r.prototype.store=function(e){return A1(this,arguments,void 0,function(t,n){return n===void 0&&(n={}),D1(this,function(i){switch(i.label){case 0:return[4,this.request(n.urlStore,this.__props(n,t),n)];case 1:return[2,i.sent()]}})})},r.prototype.load=function(){return A1(this,arguments,void 0,function(e){return e===void 0&&(e={}),D1(this,function(t){switch(t.label){case 0:return[4,this.request(e.urlLoad,this.__props(e),e)];case 1:return[2,t.sent()]}})})},r.prototype.request=function(e,t,n){return t===void 0&&(t={}),n===void 0&&(n={}),iD(e,t).then(function(i){var o=i.text(),a=(i.status/200|0)===1;return a?o:o.then(Promise.reject)}).then(function(i){var o=i&&(0,z.isString)(i);return n.contentTypeJson&&o?JSON.parse(i):i})},r.prototype.__props=function(e,t){e===void 0&&(e={});var n=e.contentTypeJson,i=e.headers||{},o=e.fetchOptions||{},a="X-Requested-With",l="Content-Type",u;if((0,z.isUndefined)(i[a])&&(i[a]="XMLHttpRequest"),(0,z.isUndefined)(i[l])&&n&&(i[l]="application/json; charset=utf-8"),t)if(n)u=JSON.stringify(t);else{u=new FormData;for(var c in t)u.append(c,t[c])}var d={method:u?"POST":"GET",credentials:e.credentials,headers:i,body:u};return Yv(Yv({},d),(0,z.isFunction)(o)?o(d):o)},r}();const xB=CB;var O_;(function(r){r.start="storage:start",r.startStore="storage:start:store",r.startLoad="storage:start:load",r.load="storage:load",r.store="storage:store",r.after="storage:after",r.afterStore="storage:after:store",r.afterLoad="storage:after:load",r.end="storage:end",r.endStore="storage:end:store",r.endLoad="storage:end:load",r.error="storage:error",r.errorStore="storage:error:store",r.errorLoad="storage:error:load"})(O_||(O_={}));const Yr=O_;var OB=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Pu=function(){return Pu=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Pu.apply(this,arguments)},By=function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function l(d){try{c(n.next(d))}catch(h){a(h)}}function u(d){try{c(n.throw(d))}catch(h){a(h)}}function c(d){d.done?o(d.value):i(d.value).then(l,u)}c((n=n.apply(r,e||[])).next())})},Fy=function(r,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(c){return function(d){return u([c,d])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(t=0)),t;)try{if(n=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){t.label=c[1];break}if(c[0]===6&&t.label<o[1]){t.label=o[1],o=c;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(c);break}o[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(r,t)}catch(d){c=[6,d],i=0}finally{n=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},qh="local",k1="remote",EB=function(r){OB(e,r);function e(t){var n=r.call(this,t,"StorageManager",cB())||this;n.storages={},n.events=Yr;var i=n.config;return i._disable&&(i.type=void 0),n.storages={},n.add(qh,new dB),n.add(k1,new xB),n.setCurrent(i.type),n}return e.prototype.isAutosave=function(){return!!this.config.autosave},e.prototype.setAutosave=function(t){return this.config.autosave=!!t,this},e.prototype.getStepsBeforeSave=function(){return this.config.stepsBeforeSave},e.prototype.setStepsBeforeSave=function(t){return this.config.stepsBeforeSave=t,this},e.prototype.add=function(t,n){return this.storages[t]=n,this},e.prototype.get=function(t){return this.storages[t]},e.prototype.getStorages=function(){return this.storages},e.prototype.getCurrent=function(){return this.config.currentStorage},e.prototype.setCurrent=function(t){return this.getConfig().currentStorage=t,this},e.prototype.getCurrentStorage=function(){return this.get(this.getCurrent())},e.prototype.getStorageOptions=function(t){return this.getCurrentOptions(t)},e.prototype.store=function(t){return By(this,arguments,void 0,function(n,i){var o,a,l,u,c,d;return i===void 0&&(i={}),Fy(this,function(h){switch(h.label){case 0:o=this.getCurrentStorage(),a=Pu(Pu({},this.getCurrentOptions()),i),l=this.getRecoveryStorage(),u=this.getCurrentOptions(qh),h.label=1;case 1:return h.trys.push([1,5,,9]),[4,this.__exec(o,a,n)];case 2:return h.sent(),c=l,c?[4,this.__exec(l,u,{})]:[3,4];case 3:c=h.sent(),h.label=4;case 4:return[3,9];case 5:return d=h.sent(),l?[4,this.__exec(l,u,n)]:[3,7];case 6:return h.sent(),[3,8];case 7:throw d;case 8:return[3,9];case 9:return[2,n]}})})},e.prototype.load=function(){return By(this,arguments,void 0,function(t){var n,i,o,a,l;return t===void 0&&(t={}),Fy(this,function(u){switch(u.label){case 0:return n=this.getCurrentStorage(),i=Pu(Pu({},this.getCurrentOptions()),t),o=this.getRecoveryStorage(),o?[4,this.__exec(o,this.getCurrentOptions(qh))]:[3,5];case 1:if(l=u.sent(),(0,z.isEmpty)(l))return[3,5];u.label=2;case 2:return u.trys.push([2,4,,5]),[4,this.__askRecovery()];case 3:return u.sent(),a=l,[3,5];case 4:return u.sent(),[3,5];case 5:return a?[3,7]:[4,this.__exec(n,i)];case 6:a=u.sent(),u.label=7;case 7:return[2,a||{}]}})})},e.prototype.__askRecovery=function(){var t=this.em,n=this.getRecovery();return new Promise(function(i,o){(0,z.isFunction)(n)?n(i,o,t==null?void 0:t.getEditor()):confirm(t==null?void 0:t.t("storageManager.recover"))?i(null):o()})},e.prototype.getRecovery=function(){return this.config.recovery},e.prototype.getRecoveryStorage=function(){var t=this.getRecovery();return t&&this.getCurrent()===k1&&this.get(qh)},e.prototype.__exec=function(t,n,i){return By(this,void 0,void 0,function(){var o,a,l,u,c,d,h,g,m,b,w,x,_,C;return Fy(this,function(O){switch(O.label){case 0:if(o=i?"store":"load",a=this.getConfig(),l=a.onStore,u=a.onLoad,!t)return[2,i||{}];this.onStart(o,i),O.label=1;case 1:return O.trys.push([1,14,,15]),d=(C=this.em)===null||C===void 0?void 0:C.getEditor(),h=void 0,i?(m=l,m?[4,l(i,d)]:[3,3]):[3,7];case 2:m=O.sent(),O.label=3;case 3:return g=m||i,b=n.onStore,b?[4,n.onStore(g,d)]:[3,5];case 4:b=O.sent(),O.label=5;case 5:return g=b||g,[4,t.store(g,n)];case 6:return h=O.sent(),c=i,[3,13];case 7:return[4,t.load(n)];case 8:return h=O.sent(),c=this.__clearKeys(h),w=n.onLoad,w?[4,n.onLoad(c,d)]:[3,10];case 9:w=O.sent(),O.label=10;case 10:return c=w||c,x=u,x?[4,u(c,d)]:[3,12];case 11:x=O.sent(),O.label=12;case 12:c=x||c,O.label=13;case 13:return this.onAfter(o,c,h),this.onEnd(o,c,h),[3,15];case 14:throw _=O.sent(),this.onError(o,_),_;case 15:return[2,c]}})})},e.prototype.__clearKeys=function(t){t===void 0&&(t={});var n=this.getConfig(),i=new RegExp("^".concat(n.id)),o={};for(var a in t){var l=a.replace(i,"");o[l]=t[a]}return o},e.prototype.getCurrentOptions=function(t){var n=this.getConfig(),i=t||this.getCurrent();return n.options[i]||{}},e.prototype.onStart=function(t,n){var i=this.em;if(i){var o=t==="load"?Yr.startLoad:Yr.startStore;i.trigger(Yr.start,t,n),i.trigger(o,n)}},e.prototype.onAfter=function(t,n,i){var o=this.em;if(o){var a=t==="load"?Yr.afterLoad:Yr.afterStore;o.trigger(Yr.after),o.trigger(a,n,i);var l=t==="load"?Yr.load:Yr.store;o.trigger(l,n,i)}},e.prototype.onEnd=function(t,n,i){var o=this.em;if(o){var a=t==="load"?Yr.endLoad:Yr.endStore;o.trigger(Yr.end,t,n,i),o.trigger(a,n,i)}},e.prototype.onError=function(t,n){var i=this.em;if(i){var o=t==="load"?Yr.errorLoad:Yr.errorStore;i.trigger(Yr.error,n,t),i.trigger(o,n),this.onEnd(t,n)}},e.prototype.canAutoload=function(){var t=this.getCurrentStorage();return!!t&&!!this.config.autoload},e.prototype.destroy=function(){this.storages={}},e}(Oi);const TB=EB;var AB=function(){return{stylePrefix:"trt-",appendTo:"",optionsTarget:[{value:!1},{value:"_blank"}],custom:!1}};const DB=AB;var kB=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Yf=function(){return Yf=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Yf.apply(this,arguments)},oD=function(r){kB(e,r);function e(t){t===void 0&&(t={});var n=r.call(this,t)||this;n.events={},n.appendInput=!0;var i=t.config,o=i===void 0?{}:i,a=n,l=a.model,u=a.eventCapture,c=l.target,d=l.attributes.type;n.config=o,n.em=o.em,n.pfx=o.stylePrefix||"",n.ppfx=o.pStylePrefix||"",n.target=c,n.className=n.pfx+"trait",n.clsField="".concat(n.ppfx,"field ").concat(n.ppfx,"field-").concat(d);var h=[["change:value",n.onValueChange],["remove",n.removeView]];return h.forEach(function(g){var m=g[0],b=g[1];l.off(m,b),n.listenTo(l,m,b)}),l.view=n,n.listenTo(l,"change:label",n.render),n.listenTo(l,"change:placeholder",n.rerender),n.events={},u.forEach(function(g){return n.events[g]="onChange"}),n.delegateEvents(),n.init(),n}return e.prototype.attributes=function(){return this.model.get("attributes")||{}},e.prototype.templateLabel=function(t){var n=this.ppfx,i=this.getLabel();return'<div class="'.concat(n,'label" title="').concat(i,'">').concat(i,"</div>")},e.prototype.templateInput=function(t){var n=this.clsField;return'<div class="'.concat(n,'" data-input></div>')},e.prototype.getClbOpts=function(){return{component:this.target,trait:this.model,elInput:this.getInputElem()}},e.prototype.removeView=function(){this.remove(),this.removed()},e.prototype.init=function(){},e.prototype.removed=function(){},e.prototype.onRender=function(t){},e.prototype.onUpdate=function(t){},e.prototype.onEvent=function(t){},e.prototype.onChange=function(t){var n=this.getInputElem();n&&!(0,z.isUndefined)(n.value)&&this.model.set("value",n.value),this.onEvent(Yf(Yf({},this.getClbOpts()),{event:t}))},e.prototype.getValueForTarget=function(){return this.model.get("value")},e.prototype.setInputValue=function(t){var n=this.getInputElem();n&&(n.value=t)},e.prototype.onValueChange=function(t,n,i){i===void 0&&(i={});var o=this.model,a=this.getValueForTarget();i.fromTarget?(this.setInputValue(a),this.postUpdate()):o.setValue(a,i)},e.prototype.renderLabel=function(){var t=this,n=t.$el,i=t.target,o=this.getLabel(),a=this.templateLabel(i);this.createLabel&&(a=this.createLabel({label:o,component:i,trait:this})||""),n.find("[data-label]").append(a)},e.prototype.getLabel=function(){var t=this.em,n=this.model.attributes,i=n.label,o=n.name;return t.t("traitManager.traits.labels.".concat(o))||(0,Ht.capitalize)(i||o).replace(/-/g," ")},e.prototype.getComponent=function(){return this.target},e.prototype.getInputEl=function(){if(!this.$input){var t=this,n=t.em,i=t.model,o=i,a=i.attributes.name,l=o.get("placeholder")||o.get("default")||"",u=o.get("type")||"text",c=o.get("min"),d=o.get("max"),h=this.getModelValue(),g=(0,hr.default)('<input type="'.concat(u,'">')),m=n.t("traitManager.traits.attributes.".concat(a))||{};g.attr(Yf({placeholder:l},m)),(0,z.isUndefined)(h)||(o.set({value:h},{silent:!0}),g.prop("value",h)),c&&g.prop("min",c),d&&g.prop("max",d),this.$input=g}return this.$input.get(0)},e.prototype.getInputElem=function(){var t=this,n=t.input,i=t.$input;return n||i&&i.get&&i.get(0)||this.getElInput()},e.prototype.getModelValue=function(){return this.model.getValue()},e.prototype.getElInput=function(){return this.elInput},e.prototype.renderField=function(){var t=this,n=t.$el,i=t.appendInput,o=t.model,a=n.find("[data-input]"),l=a[a.length-1],u=o.el;u||(u=this.createInput?this.createInput(this.getClbOpts()):this.getInputEl()),(0,z.isString)(u)?(l.innerHTML=u,this.elInput=l.firstChild):(i?l.appendChild(u):l.insertBefore(u,l.firstChild),this.elInput=u),o.el=this.elInput},e.prototype.hasLabel=function(){var t=this.model.attributes.label;return!this.noLabel&&t!==!1},e.prototype.rerender=function(){delete this.model.el,this.render()},e.prototype.postUpdate=function(){this.onUpdate(this.getClbOpts())},e.prototype.render=function(){var t=this,n=t.$el,i=t.pfx,o=t.ppfx,a=t.model,l=a.attributes,u=l.type,c=l.id,d=this.hasLabel&&this.hasLabel(),h="".concat(i,"trait");delete this.$input;var g='<div class="'.concat(h," ").concat(h,"--").concat(u,`">
      `).concat(d?'<div class="'.concat(o,'label-wrp" data-label></div>'):"",`
      <div class="`).concat(o,"field-wrp ").concat(o,"field-wrp--").concat(u,`" data-input>
        `).concat(this.templateInput?(0,z.isFunction)(this.templateInput)?this.templateInput(this.getClbOpts()):this.templateInput:"",`
      </div>
    </div>`);return n.empty().append(g),d&&this.renderLabel(),this.renderField(),this.el.className="".concat(h,"__wrp ").concat(h,"__wrp-").concat(c),this.postUpdate(),this.onRender(this.getClbOpts()),this},e}(ne.Ss);const Pa=oD;oD.prototype.eventCapture=["change"];var PB=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),aD=function(r){PB(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.templateInput=function(){return""},e.prototype.onChange=function(){this.handleClick()},e.prototype.handleClick=function(){this.model.runCommand()},e.prototype.renderLabel=function(){this.model.get("label")&&Pa.prototype.renderLabel.apply(this)},e.prototype.getInputEl=function(){var t=this,n=t.model,i=t.ppfx,o=n.props(),a=o.labelButton,l=o.text,u=o.full,c=a||l,d="".concat(i,"btn"),h='<button type="button" class="'.concat(d,"-prim").concat(u?" ".concat(d,"--full"):"",'">').concat(c,"</button>");return h},e}(Pa);const MB=aD;aD.prototype.eventCapture=["click button"];var RB=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),LB=function(r){RB(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.appendInput=!1,t}return e.prototype.templateInput=function(){var t=this,n=t.ppfx,i=t.clsField;return'<label class="'.concat(i,`" data-input>
    <i class="`).concat(n,`chk-icon"></i>
  </label>`)},e.prototype.onChange=function(){this.model.set("value",this.getInputElem().checked)},e.prototype.setInputValue=function(t){var n=this.getInputElem();n&&(n.checked=!!t)},e.prototype.getInputEl=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=!this.$input,o=Pa.prototype.getInputEl.apply(this,t);if(i){var a=void 0,l=void 0,u=this,c=u.model,d=u.target,h=c.attributes.valueFalse,g=c.getName();c.changeProp?(a=d.get(g),l=a):(l=d.get("attributes")[g],a=!!(l||l==="")),!(0,z.isUndefined)(h)&&l===h&&(a=!1),o.checked=a}return o},e}(Pa);const NB=LB;function jB(r,e){if(!(0,Ht.hasWin)())return;var t={beforeShow:m,move:m,change:m,show:m,hide:m,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!0,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:!1,offset:null},n=[],i=!!/msie/i.exec(window.navigator.userAgent),o=function(){function et(Bt,Ot){return!!~(""+Bt).indexOf(Ot)}var bt=document.createElement("div"),K=bt.style;return K.cssText="background-color:rgba(0,0,0,.5)",et(K.backgroundColor,"rgba")||et(K.backgroundColor,"hsla")}(),a=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),l=function(){var et="";if(i)for(var bt=1;bt<=6;bt++)et+="<div class='sp-"+bt+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",et,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("")}();function u(et,bt,K,Bt){for(var Ot=[],Gt=0;Gt<et.length;Gt++){var de=et[Gt];if(de){var re=k(de),ie=re.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";ie+=k.equals(bt,de)?" sp-thumb-active":"";var ge=re.toString(Bt.preferredFormat||"rgb"),Ee=o?"background-color:"+re.toRgbString():"filter:"+re.toFilter();Ot.push('<span title="'+ge+'" data-color="'+re.toRgbString()+'" class="'+ie+'"><span class="sp-thumb-inner" style="'+Ee+';"></span></span>')}else{var Ne="sp-clear-display";Ot.push(r("<div />").append(r('<span data-color="" style="background-color:transparent;" class="'+Ne+'"></span>').attr("title",Bt.noColorSelectedText)).html())}}return"<div class='sp-cf "+K+"'>"+Ot.join("")+"</div>"}function c(){for(var et=0;et<n.length;et++)n[et]&&n[et].hide()}function d(et,bt){var K=r.extend({},t,et);return K.callbacks={move:w(K.move,bt),change:w(K.change,bt),show:w(K.show,bt),hide:w(K.hide,bt),beforeShow:w(K.beforeShow,bt)},K}function h(et,bt){var K=d(bt,et),Bt=K.flat,Ot=K.showSelectionPalette,Gt=K.localStorageKey,de=K.theme,re=K.callbacks,ie=_(Mi,10),ge=!1,Ee=!1,Ne=!0,Me=0,nn=0,_n=0,J=0,gt=0,Tt=0,qt=0,ae=0,_e=0,Oe=0,dn=1,Nn=[],hn=[],Ei={},pn=K.selectionPalette.slice(0),Tr=K.maxSelectionSize,ri="sp-dragging",Xe=null,jn=et.ownerDocument;jn.body;var Ue=r(et),br=!1,Ce=r(l,jn).addClass(de),ii=Ce.find(".sp-picker-container"),Br=Ce.find(".sp-color"),Fn=Ce.find(".sp-dragger"),zn=Ce.find(".sp-hue"),Ar=Ce.find(".sp-slider"),Ze=Ce.find(".sp-alpha-inner"),pe=Ce.find(".sp-alpha"),nr=Ce.find(".sp-alpha-handle"),bn=Ce.find(".sp-input"),rr=Ce.find(".sp-palette"),Ie=Ce.find(".sp-initial"),on=Ce.find(".sp-cancel"),oi=Ce.find(".sp-clear"),Ti=Ce.find(".sp-choose"),Xt=Ce.find(".sp-palette-toggle"),we=Ue.is("input"),Ai=we&&Ue.attr("type")==="color"&&C(),q=we&&!Bt,ct=q?r(a).addClass(de).addClass(K.className).addClass(K.replacerClassName):r([]),Vt=q?ct:Ue,$t=ct.find(".sp-preview-inner"),te=K.color||we&&Ue.val(),Pe=!1,je=K.preferredFormat,vn=!K.showButtons||K.clickoutFiresChange,Je=!te,ai=K.allowEmpty&&!Ai;function La(){if(K.showPaletteOnly&&(K.showPalette=!0),Xt.text(K.showPaletteOnly?K.togglePaletteMoreText:K.togglePaletteLessText),K.palette){Nn=K.palette.slice(0),hn=r.isArray(Nn[0])?Nn:[Nn],Ei={};for(var ye=0;ye<hn.length;ye++)for(var me=0;me<hn[ye].length;me++){var ze=k(hn[ye][me]).toRgbString();Ei[ze]=!0}}Ce.toggleClass("sp-flat",Bt),Ce.toggleClass("sp-input-disabled",!K.showInput),Ce.toggleClass("sp-alpha-enabled",K.showAlpha),Ce.toggleClass("sp-clear-enabled",ai),Ce.toggleClass("sp-buttons-disabled",!K.showButtons),Ce.toggleClass("sp-palette-buttons-disabled",!K.togglePaletteOnly),Ce.toggleClass("sp-palette-disabled",!K.showPalette),Ce.toggleClass("sp-palette-only",K.showPaletteOnly),Ce.toggleClass("sp-initial-disabled",!K.showInitial),Ce.addClass(K.className).addClass(K.containerClassName),Mi()}function Zo(){if(i&&Ce.find("*:not(input)").attr("unselectable","on"),La(),q&&Ue.after(ct).hide(),ai||oi.hide(),Bt)Ue.after(Ce).hide();else{var ye=K.appendTo==="parent"?Ue.parent():r(K.appendTo);ye.length!==1&&(ye=r("body")),ye.append(Ce)}$o(),Vt.bind("click.spectrum touchstart.spectrum",function(xe){br||Ia(),xe.stopPropagation(),r(xe.target).is("input")||xe.preventDefault()}),(Ue.is(":disabled")||K.disabled===!0)&&Xi(),Ce.click(b),bn.change(po),bn.bind("paste",function(){setTimeout(po,1)}),bn.keydown(function(xe){xe.keyCode==13&&po()}),on.text(K.cancelText),on.bind("click.spectrum",function(xe){xe.stopPropagation(),xe.preventDefault(),vo(),Di()}),oi.attr("title",K.clearText),oi.bind("click.spectrum",function(xe){xe.stopPropagation(),xe.preventDefault(),Je=!0,go(),Bt&&Pi(!0)}),Ti.text(K.chooseText),Ti.bind("click.spectrum",function(xe){xe.stopPropagation(),xe.preventDefault(),i&&bn.is(":focus")&&bn.trigger("change"),Pl()&&(Pi(!0),Di())}),Xt.text(K.showPaletteOnly?K.togglePaletteMoreText:K.togglePaletteLessText),Xt.bind("click.spectrum",function(xe){xe.stopPropagation(),xe.preventDefault(),K.showPaletteOnly=!K.showPaletteOnly,!K.showPaletteOnly&&!Bt&&Ce.css("left","-="+(ii.outerWidth(!0)+5)),La()}),x(pe,function(xe,wn,Wn){dn=xe/gt,Je=!1,Wn.shiftKey&&(dn=Math.round(dn*10)/10),go()},Qo,ko),x(zn,function(xe,wn){ae=parseFloat(wn/J),Je=!1,K.showAlpha||(dn=1),go()},Qo,ko),x(Br,function(xe,wn,Wn){if(!Wn.shiftKey)Xe=null;else if(!Xe){var kr=_e*Me,Zi=nn-Oe*nn,Fr=Math.abs(xe-kr)>Math.abs(wn-Zi);Xe=Fr?"x":"y"}var zr=!Xe||Xe==="x",si=!Xe||Xe==="y";zr&&(_e=parseFloat(xe/Me)),si&&(Oe=parseFloat((nn-wn)/nn)),Je=!1,K.showAlpha||(dn=1),go()},Qo,ko),te?(Dr(te),ki(),je=K.preferredFormat||k(te).getFormat(),Jo(te)):ki(),Bt&&Hn();function me(xe){return xe.data&&xe.data.ignore?(Dr(r(xe.target).closest(".sp-thumb-el").data("color")),go()):(Dr(r(xe.target).closest(".sp-thumb-el").data("color")),go(),K.hideAfterPaletteSelect&&(Pi(!0),Di())),!1}var ze=i?"mousedown.spectrum":"click.spectrum touchstart.spectrum";rr.delegate(".sp-thumb-el",ze,me),Ie.delegate(".sp-thumb-el:nth-child(1)",ze,{ignore:!0},me)}function $o(){if(Gt&&window.localStorage){try{var ye=window.localStorage[Gt].split(",#");ye.length>1&&(delete window.localStorage[Gt],r.each(ye,function(me,ze){Jo(ze)}))}catch{}try{pn=window.localStorage[Gt].split(";")}catch{}}}function Jo(ye){if(Ot){var me=k(ye).toRgbString();if(!Ei[me]&&r.inArray(me,pn)===-1)for(pn.push(me);pn.length>Tr;)pn.shift();if(Gt&&window.localStorage)try{window.localStorage[Gt]=pn.join(";")}catch{}}}function js(){var ye=[];if(K.showPalette)for(var me=0;me<pn.length;me++){var ze=k(pn[me]).toRgbString();Ei[ze]||ye.push(pn[me])}return ye.reverse().slice(0,K.maxSelectionSize)}function Na(){var ye=Zn(),me=r.map(hn,function(ze,xe){return u(ze,ye,"sp-palette-row sp-palette-row-"+xe,K)});$o(),pn&&me.push(u(js(),ye,"sp-palette-row sp-palette-row-selection",K)),rr.html(me.join(""))}function ja(){if(K.showInitial){var ye=Pe,me=Zn();Ie.html(u([ye,me],me,"sp-palette-row-initial",K))}}function Qo(){(nn<=0||Me<=0||J<=0)&&Mi(),Ee=!0,Ce.addClass(ri),Xe=null,Ue.trigger("dragstart.spectrum",[Zn()])}function ko(){Ee=!1,Ce.removeClass(ri),Ue.trigger("dragstop.spectrum",[Zn()])}function po(){var ye=bn.val();if((ye===null||ye==="")&&ai)Dr(null),Pi(!0);else{var me=k(ye);me.isValid()?(Dr(me),Pi(!0)):bn.addClass("sp-validation-error")}}function Ia(){ge?Di():Hn()}function Hn(){var ye=r.Event("beforeShow.spectrum");if(ge){Mi();return}if(Ue.trigger("beforeShow.spectrum",[Zn()]),!(re.beforeShow(Zn())===!1||ye.isDefaultPrevented())){c(),ge=!0;var me=r(jn);me.bind("keydown.spectrum",Xn),me.bind("click.spectrum",Is),r(window).bind("resize.spectrum",ie),ct.addClass("sp-active"),Ce.removeClass("sp-hidden"),Mi(),ki(),Pe=Zn(),ja(),re.show(Pe),Ue.trigger("show.spectrum",[Pe])}}function Xn(ye){ye.keyCode===27&&Di()}function Is(ye){ye.button!=2&&(Ee||(vn?Pi(!0):vo(),Di()))}function Di(){!ge||Bt||(ge=!1,r(jn).unbind("keydown.spectrum",Xn),r(jn).unbind("click.spectrum",Is),r(window).unbind("resize.spectrum",ie),ct.removeClass("sp-active"),Ce.addClass("sp-hidden"),re.hide(Zn()),Ue.trigger("hide.spectrum",[Zn()]))}function vo(){Dr(Pe,!0)}function Dr(ye,me){if(k.equals(ye,Zn())){ki();return}var ze,xe;!ye&&ai?Je=!0:(Je=!1,Ne=!ye,ze=k(ye),xe=ze.toHsv(),ae=xe.h%360/360,_e=xe.s,Oe=xe.v,dn=xe.a),ki(),ze&&ze.isValid()&&!me&&(je=K.preferredFormat||ze.getFormat())}function Zn(ye){return ye=ye||{},ai&&Je?null:k.fromRatio({h:ae,s:_e,v:Oe,a:Math.round(dn*100)/100},{format:ye.format||je})}function Pl(){return!bn.hasClass("sp-validation-error")}function go(){ki(),re.move(Zn()),Ue.trigger("move.spectrum",[Zn()])}function ki(){bn.removeClass("sp-validation-error"),ta();var ye=k.fromRatio({h:ae,s:1,v:1});Br.css("background-color",ye.toHexString());var me=je;dn<1&&!(dn===0&&me==="name")&&(me==="hex"||me==="hex3"||me==="hex6"||me==="name")&&(me="rgb");var ze=Zn({format:me}),xe="";if($t.removeClass("sp-clear-display"),$t.css("background-color","transparent"),!ze&&ai)$t.addClass("sp-clear-display");else{var wn=ze.toHexString(),Wn=ze.toRgbString();if(o||ze.alpha===1?$t.css("background-color",Wn):($t.css("background-color","transparent"),$t.css("filter",ze.toFilter())),K.showAlpha){var kr=ze.toRgb();kr.a=0;var Zi=k(kr).toRgbString(),Fr="linear-gradient(left, "+Zi+", "+wn+")";i?Ze.css("filter",k(Zi).toFilter({gradientType:1},wn)):(Ze.css("background","-webkit-"+Fr),Ze.css("background","-moz-"+Fr),Ze.css("background","-ms-"+Fr),Ze.css("background","linear-gradient(to right, "+Zi+", "+wn+")"))}xe=ze.toString(me)}K.showInput&&bn.val(xe),K.showPalette&&Na(),ja()}function ta(){var ye=_e,me=Oe;if(ai&&Je)nr.hide(),Ar.hide(),Fn.hide();else{nr.show(),Ar.show(),Fn.show();var ze=ye*Me,xe=nn-me*nn;ze=Math.max(-_n,Math.min(Me-_n,ze-_n)),xe=Math.max(-_n,Math.min(nn-_n,xe-_n)),Fn.css({top:xe+"px",left:ze+"px"});var wn=dn*gt;nr.css({left:wn-Tt/2+"px"});var Wn=ae*J;Ar.css({top:Wn-qt+"px"})}}function Pi(ye){var me=Zn(),ze="",xe=Ne?!0:!k.equals(me,Pe);me&&(ze=me.toString(je),!ge&&Jo(me)),we&&Ue.val(ze),ye&&xe&&(re.change(me),Ue.trigger("change",[me]))}function Mi(){ge&&(Me=Br.width(),nn=Br.height(),_n=Fn.height(),zn.width(),J=zn.height(),qt=Ar.height(),gt=pe.width(),Tt=nr.width(),Bt||(Ce.css("position","absolute"),K.offset?Ce.offset(K.offset):Ce.offset(g(Ce,Vt))),ta(),K.showPalette&&Na(),Ue.trigger("reflow.spectrum"))}function Vs(){Ue.show(),Vt.unbind("click.spectrum touchstart.spectrum"),Ce.remove(),ct.remove(),n[mo.id]=null}function Va(ye,me){if(ye===e)return r.extend({},K);if(me===e)return K[ye];K[ye]=me,ye==="preferredFormat"&&(je=K.preferredFormat),La()}function ea(){br=!1,Ue.attr("disabled",!1),Vt.removeClass("sp-disabled")}function Xi(){Di(),br=!0,Ue.attr("disabled",!0),Vt.addClass("sp-disabled")}function na(ye){K.offset=ye,Mi()}Zo();var mo={show:Hn,hide:Di,toggle:Ia,reflow:Mi,option:Va,enable:ea,disable:Xi,offset:na,set:function(ye){Dr(ye),Pi()},get:Zn,destroy:Vs,container:Ce};return mo.id=n.push(mo)-1,mo}function g(et,bt){for(var K=bt[0],Bt=et[0],Ot=Bt.parentElement,Gt=K.getBoundingClientRect(),de=Bt.offsetWidth,re=Bt.offsetHeight,ie={top:0,left:0,width:K.offsetWidth,height:K.offsetHeight};K&&(ie.top+=K.offsetTop-K.scrollTop,ie.left+=K.offsetLeft-K.scrollLeft,!(K===Ot||!Ot.contains(K.offsetParent)));)K=K.offsetParent;return Gt.right+de>window.innerWidth-window.scrollX&&Gt.right-de>0&&(ie.left-=de-ie.width),Gt.bottom+re<window.innerHeight-window.scrollY?ie.top+=ie.height:ie.top-=re,ie}function m(){}function b(et){et.stopPropagation()}function w(et,bt){var K=Array.prototype.slice,Bt=K.call(arguments,2);return function(){return et.apply(bt,Bt.concat(K.call(arguments)))}}function x(et,bt,K,Bt){bt=bt||function(){},K=K||function(){},Bt=Bt||function(){};var Ot=document,Gt=!1,de={},re=0,ie=0,ge="ontouchstart"in window,Ee={};Ee.selectstart=Ne,Ee.dragstart=Ne,Ee["touchmove mousemove"]=Me,Ee["touchend mouseup"]=_n;function Ne(J){J.stopPropagation&&J.stopPropagation(),J.preventDefault&&J.preventDefault(),J.returnValue=!1}function Me(J){if(Gt){if(i&&Ot.documentMode<9&&!J.button)return _n();var gt=J&&J.touches&&J.touches[0],Tt=gt&&gt.pageX||J.pageX,qt=gt&&gt.pageY||J.pageY,ae=Math.max(0,Math.min(Tt-de.left,ie)),_e=Math.max(0,Math.min(qt-de.top,re));ge&&Ne(J),bt.apply(et,[ae,_e,J])}}function nn(J){var gt=J.which?J.which==3:J.button==2;!gt&&!Gt&&K.apply(et,arguments)!==!1&&(Gt=!0,re=r(et).height(),ie=r(et).width(),de=r(et).offset(),r(Ot).bind(Ee),r(Ot.body).addClass("sp-dragging"),Me(J),Ne(J))}function _n(){Gt&&(r(Ot).unbind(Ee),r(Ot.body).removeClass("sp-dragging"),setTimeout(function(){Bt.apply(et,arguments)},0)),Gt=!1}r(et).bind("touchstart mousedown",nn)}function _(et,bt,K){var Bt;return function(){var Ot=this,Gt=arguments,de=function(){Bt=null,et.apply(Ot,Gt)};Bt||(Bt=setTimeout(de,bt))}}function C(){return r.fn.spectrum.inputTypeColorSupport()}var O="spectrum.id";r.fn.spectrum=function(et,bt){if(typeof et=="string"){var K=this,Bt=Array.prototype.slice.call(arguments,1);return this.each(function(){var Ot=n[r(this).data(O)];if(Ot){var Gt=Ot[et];if(!Gt)throw new Error("Spectrum: no such method: '"+et+"'");et=="get"?K=Ot.get():et=="container"?K=Ot.container:et=="option"?K=Ot.option.apply(Ot,Bt):et=="destroy"?(Ot.destroy(),r(this).removeData(O)):Gt.apply(Ot,Bt)}}),K}return this.spectrum("destroy").each(function(){var Ot=r.extend({},et,r(this).data()),Gt=h(this,Ot);r(this).data(O,Gt.id)})},r.fn.spectrum.load=!0,r.fn.spectrum.loadOpts={},r.fn.spectrum.draggable=x,r.fn.spectrum.defaults=t,r.fn.spectrum.inputTypeColorSupport=function et(){if(typeof et._cachedResult>"u"){var bt=r("<input type='color'/>")[0];et._cachedResult=bt.type==="color"&&bt.value!==""}return et._cachedResult},r.spectrum={},r.spectrum.localization={},r.spectrum.palettes={},r.fn.spectrum.processNativeColorInputs=function(){var et=r("input[type=color]");et.length&&!C()&&et.spectrum({preferredFormat:"hex6"})};var A=/^[\s,#]+/,I=/\s+$/,Q=0,$=Math,Z=$.round,P=$.min,tt=$.max,H=$.random,k=function(et,bt){if(et=et||"",bt=bt||{},et instanceof k)return et;if(!(this instanceof k))return new k(et,bt);var K=F(et);this._originalInput=et,this._r=K.r,this._g=K.g,this._b=K.b,this._a=K.a,this._roundA=Z(100*this._a)/100,this._format=bt.format||K.format,this._gradientType=bt.gradientType,this._r<1&&(this._r=Z(this._r)),this._g<1&&(this._g=Z(this._g)),this._b<1&&(this._b=Z(this._b)),this._ok=K.ok,this._tc_id=Q++};k.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var et=this.toRgb();return(et.r*299+et.g*587+et.b*114)/1e3},setAlpha:function(et){return this._a=rt(et),this._roundA=Z(100*this._a)/100,this},toHsv:function(){var et=ot(this._r,this._g,this._b);return{h:et.h*360,s:et.s,v:et.v,a:this._a}},toHsvString:function(){var et=ot(this._r,this._g,this._b),bt=Z(et.h*360),K=Z(et.s*100),Bt=Z(et.v*100);return this._a==1?"hsv("+bt+", "+K+"%, "+Bt+"%)":"hsva("+bt+", "+K+"%, "+Bt+"%, "+this._roundA+")"},toHsl:function(){var et=nt(this._r,this._g,this._b);return{h:et.h*360,s:et.s,l:et.l,a:this._a}},toHslString:function(){var et=nt(this._r,this._g,this._b),bt=Z(et.h*360),K=Z(et.s*100),Bt=Z(et.l*100);return this._a==1?"hsl("+bt+", "+K+"%, "+Bt+"%)":"hsla("+bt+", "+K+"%, "+Bt+"%, "+this._roundA+")"},toHex:function(et){return mt(this._r,this._g,this._b,et)},toHexString:function(et){return"#"+this.toHex(et)},toHex8:function(){return Lt(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:Z(this._r),g:Z(this._g),b:Z(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Z(this._r)+", "+Z(this._g)+", "+Z(this._b)+")":"rgba("+Z(this._r)+", "+Z(this._g)+", "+Z(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Z(E(this._r,255)*100)+"%",g:Z(E(this._g,255)*100)+"%",b:Z(E(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Z(E(this._r,255)*100)+"%, "+Z(E(this._g,255)*100)+"%, "+Z(E(this._b,255)*100)+"%)":"rgba("+Z(E(this._r,255)*100)+"%, "+Z(E(this._g,255)*100)+"%, "+Z(E(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:Dt[mt(this._r,this._g,this._b,!0)]||!1},toFilter:function(et){var bt="#"+Lt(this._r,this._g,this._b,this._a),K=bt,Bt=this._gradientType?"GradientType = 1, ":"";if(et){var Ot=k(et);K=Ot.toHex8String()}return"progid:DXImageTransform.Microsoft.gradient("+Bt+"startColorstr="+bt+",endColorstr="+K+")"},toString:function(et){var bt=!!et;et=et||this._format;var K=!1,Bt=this._a<1&&this._a>=0,Ot=!bt&&Bt&&(et==="hex"||et==="hex6"||et==="hex3"||et==="name");return Ot?et==="name"&&this._a===0?this.toName():this.toRgbString():(et==="rgb"&&(K=this.toRgbString()),et==="prgb"&&(K=this.toPercentageRgbString()),(et==="hex"||et==="hex6")&&(K=this.toHexString()),et==="hex3"&&(K=this.toHexString(!0)),et==="hex8"&&(K=this.toHex8String()),et==="name"&&(K=this.toName()),et==="hsl"&&(K=this.toHslString()),et==="hsv"&&(K=this.toHsvString()),K||this.toHexString())},_applyModification:function(et,bt){var K=et.apply(null,[this].concat([].slice.call(bt)));return this._r=K._r,this._g=K._g,this._b=K._b,this.setAlpha(K._a),this},lighten:function(){return this._applyModification(wt,arguments)},brighten:function(){return this._applyModification(Mt,arguments)},darken:function(){return this._applyModification(Qt,arguments)},desaturate:function(){return this._applyModification(St,arguments)},saturate:function(){return this._applyModification(at,arguments)},greyscale:function(){return this._applyModification(Rt,arguments)},spin:function(){return this._applyModification(W,arguments)},_applyCombination:function(et,bt){return et.apply(null,[this].concat([].slice.call(bt)))},analogous:function(){return this._applyCombination(yt,arguments)},complement:function(){return this._applyCombination(U,arguments)},monochromatic:function(){return this._applyCombination(It,arguments)},splitcomplement:function(){return this._applyCombination(Wt,arguments)},triad:function(){return this._applyCombination(Ct,arguments)},tetrad:function(){return this._applyCombination(vt,arguments)}},k.fromRatio=function(et,bt){if(typeof et=="object"){var K={};for(var Bt in et)et.hasOwnProperty(Bt)&&(Bt==="a"?K[Bt]=et[Bt]:K[Bt]=dt(et[Bt]));et=K}return k(et,bt)};function F(et){var bt={r:0,g:0,b:0},K=1,Bt=!1,Ot=!1;return typeof et=="string"&&(et=se(et)),typeof et=="object"&&(et.hasOwnProperty("r")&&et.hasOwnProperty("g")&&et.hasOwnProperty("b")?(bt=T(et.r,et.g,et.b),Bt=!0,Ot=String(et.r).substr(-1)==="%"?"prgb":"rgb"):et.hasOwnProperty("h")&&et.hasOwnProperty("s")&&et.hasOwnProperty("v")?(et.s=dt(et.s),et.v=dt(et.v),bt=pt(et.h,et.s,et.v),Bt=!0,Ot="hsv"):et.hasOwnProperty("h")&&et.hasOwnProperty("s")&&et.hasOwnProperty("l")&&(et.s=dt(et.s),et.l=dt(et.l),bt=L(et.h,et.s,et.l),Bt=!0,Ot="hsl"),et.hasOwnProperty("a")&&(K=et.a)),K=rt(K),{ok:Bt,format:et.format||Ot,r:P(255,tt(bt.r,0)),g:P(255,tt(bt.g,0)),b:P(255,tt(bt.b,0)),a:K}}function T(et,bt,K){return{r:E(et,255)*255,g:E(bt,255)*255,b:E(K,255)*255}}function nt(et,bt,K){et=E(et,255),bt=E(bt,255),K=E(K,255);var Bt=tt(et,bt,K),Ot=P(et,bt,K),Gt,de,re=(Bt+Ot)/2;if(Bt==Ot)Gt=de=0;else{var ie=Bt-Ot;switch(de=re>.5?ie/(2-Bt-Ot):ie/(Bt+Ot),Bt){case et:Gt=(bt-K)/ie+(bt<K?6:0);break;case bt:Gt=(K-et)/ie+2;break;case K:Gt=(et-bt)/ie+4;break}Gt/=6}return{h:Gt,s:de,l:re}}function L(et,bt,K){var Bt,Ot,Gt;et=E(et,360),bt=E(bt,100),K=E(K,100);function de(ge,Ee,Ne){return Ne<0&&(Ne+=1),Ne>1&&(Ne-=1),Ne<1/6?ge+(Ee-ge)*6*Ne:Ne<1/2?Ee:Ne<2/3?ge+(Ee-ge)*(2/3-Ne)*6:ge}if(bt===0)Bt=Ot=Gt=K;else{var re=K<.5?K*(1+bt):K+bt-K*bt,ie=2*K-re;Bt=de(ie,re,et+1/3),Ot=de(ie,re,et),Gt=de(ie,re,et-1/3)}return{r:Bt*255,g:Ot*255,b:Gt*255}}function ot(et,bt,K){et=E(et,255),bt=E(bt,255),K=E(K,255);var Bt=tt(et,bt,K),Ot=P(et,bt,K),Gt,de,re=Bt,ie=Bt-Ot;if(de=Bt===0?0:ie/Bt,Bt==Ot)Gt=0;else{switch(Bt){case et:Gt=(bt-K)/ie+(bt<K?6:0);break;case bt:Gt=(K-et)/ie+2;break;case K:Gt=(et-bt)/ie+4;break}Gt/=6}return{h:Gt,s:de,v:re}}function pt(et,bt,K){et=E(et,360)*6,bt=E(bt,100),K=E(K,100);var Bt=$.floor(et),Ot=et-Bt,Gt=K*(1-bt),de=K*(1-Ot*bt),re=K*(1-(1-Ot)*bt),ie=Bt%6,ge=[K,de,Gt,Gt,re,K][ie],Ee=[re,K,K,de,Gt,Gt][ie],Ne=[Gt,Gt,re,K,K,de][ie];return{r:ge*255,g:Ee*255,b:Ne*255}}function mt(et,bt,K,Bt){var Ot=[X(Z(et).toString(16)),X(Z(bt).toString(16)),X(Z(K).toString(16))];return Bt&&Ot[0].charAt(0)==Ot[0].charAt(1)&&Ot[1].charAt(0)==Ot[1].charAt(1)&&Ot[2].charAt(0)==Ot[2].charAt(1)?Ot[0].charAt(0)+Ot[1].charAt(0)+Ot[2].charAt(0):Ot.join("")}function Lt(et,bt,K,Bt){var Ot=[X(ut(Bt)),X(Z(et).toString(16)),X(Z(bt).toString(16)),X(Z(K).toString(16))];return Ot.join("")}k.equals=function(et,bt){return!et||!bt?!1:k(et).toRgbString()==k(bt).toRgbString()},k.random=function(){return k.fromRatio({r:H(),g:H(),b:H()})};function St(et,bt){bt=bt===0?0:bt||10;var K=k(et).toHsl();return K.s-=bt/100,K.s=N(K.s),k(K)}function at(et,bt){bt=bt===0?0:bt||10;var K=k(et).toHsl();return K.s+=bt/100,K.s=N(K.s),k(K)}function Rt(et){return k(et).desaturate(100)}function wt(et,bt){bt=bt===0?0:bt||10;var K=k(et).toHsl();return K.l+=bt/100,K.l=N(K.l),k(K)}function Mt(et,bt){bt=bt===0?0:bt||10;var K=k(et).toRgb();return K.r=tt(0,P(255,K.r-Z(255*-(bt/100)))),K.g=tt(0,P(255,K.g-Z(255*-(bt/100)))),K.b=tt(0,P(255,K.b-Z(255*-(bt/100)))),k(K)}function Qt(et,bt){bt=bt===0?0:bt||10;var K=k(et).toHsl();return K.l-=bt/100,K.l=N(K.l),k(K)}function W(et,bt){var K=k(et).toHsl(),Bt=(Z(K.h)+bt)%360;return K.h=Bt<0?360+Bt:Bt,k(K)}function U(et){var bt=k(et).toHsl();return bt.h=(bt.h+180)%360,k(bt)}function Ct(et){var bt=k(et).toHsl(),K=bt.h;return[k(et),k({h:(K+120)%360,s:bt.s,l:bt.l}),k({h:(K+240)%360,s:bt.s,l:bt.l})]}function vt(et){var bt=k(et).toHsl(),K=bt.h;return[k(et),k({h:(K+90)%360,s:bt.s,l:bt.l}),k({h:(K+180)%360,s:bt.s,l:bt.l}),k({h:(K+270)%360,s:bt.s,l:bt.l})]}function Wt(et){var bt=k(et).toHsl(),K=bt.h;return[k(et),k({h:(K+72)%360,s:bt.s,l:bt.l}),k({h:(K+216)%360,s:bt.s,l:bt.l})]}function yt(et,bt,K){bt=bt||6,K=K||30;var Bt=k(et).toHsl(),Ot=360/K,Gt=[k(et)];for(Bt.h=(Bt.h-(Ot*bt>>1)+720)%360;--bt;)Bt.h=(Bt.h+Ot)%360,Gt.push(k(Bt));return Gt}function It(et,bt){bt=bt||6;for(var K=k(et).toHsv(),Bt=K.h,Ot=K.s,Gt=K.v,de=[],re=1/bt;bt--;)de.push(k({h:Bt,s:Ot,v:Gt})),Gt=(Gt+re)%1;return de}k.mix=function(et,bt,K){K=K===0?0:K||50;var Bt=k(et).toRgb(),Ot=k(bt).toRgb(),Gt=K/100,de=Gt*2-1,re=Ot.a-Bt.a,ie;de*re==-1?ie=de:ie=(de+re)/(1+de*re),ie=(ie+1)/2;var ge=1-ie,Ee={r:Ot.r*ie+Bt.r*ge,g:Ot.g*ie+Bt.g*ge,b:Ot.b*ie+Bt.b*ge,a:Ot.a*Gt+Bt.a*(1-Gt)};return k(Ee)},k.readability=function(et,bt){var K=k(et),Bt=k(bt),Ot=K.toRgb(),Gt=Bt.toRgb(),de=K.getBrightness(),re=Bt.getBrightness(),ie=Math.max(Ot.r,Gt.r)-Math.min(Ot.r,Gt.r)+Math.max(Ot.g,Gt.g)-Math.min(Ot.g,Gt.g)+Math.max(Ot.b,Gt.b)-Math.min(Ot.b,Gt.b);return{brightness:Math.abs(de-re),color:ie}},k.isReadable=function(et,bt){var K=k.readability(et,bt);return K.brightness>125&&K.color>500},k.mostReadable=function(et,bt){for(var K=null,Bt=0,Ot=!1,Gt=0;Gt<bt.length;Gt++){var de=k.readability(et,bt[Gt]),re=de.brightness>125&&de.color>500,ie=3*(de.brightness/125)+de.color/500;(re&&!Ot||re&&Ot&&ie>Bt||!re&&!Ot&&ie>Bt)&&(Ot=re,Bt=ie,K=k(bt[Gt]))}return K};var R=k.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Dt=k.hexNames=xt(R);function xt(et){var bt={};for(var K in et)et.hasOwnProperty(K)&&(bt[et[K]]=K);return bt}function rt(et){return et=parseFloat(et),(isNaN(et)||et<0||et>1)&&(et=1),et}function E(et,bt){st(et)&&(et="100%");var K=it(et);return et=P(bt,tt(0,parseFloat(et))),K&&(et=parseInt(et*bt,10)/100),$.abs(et-bt)<1e-6?1:et%bt/parseFloat(bt)}function N(et){return P(1,tt(0,et))}function Y(et){return parseInt(et,16)}function st(et){return typeof et=="string"&&et.indexOf(".")!=-1&&parseFloat(et)===1}function it(et){return typeof et=="string"&&et.indexOf("%")!=-1}function X(et){return et.length==1?"0"+et:""+et}function dt(et){return et<=1&&(et=et*100+"%"),et}function ut(et){return Math.round(parseFloat(et)*255).toString(16)}function zt(et){return Y(et)/255}var fe=function(){var et="[-\\+]?\\d+%?",bt="[-\\+]?\\d*\\.\\d+%?",K="(?:"+bt+")|(?:"+et+")",Bt="[\\s|\\(]+("+K+")[,|\\s]+("+K+")[,|\\s]+("+K+")\\s*\\)?",Ot="[\\s|\\(]+("+K+")[,|\\s]+("+K+")[,|\\s]+("+K+")[,|\\s]+("+K+")\\s*\\)?";return{rgb:new RegExp("rgb"+Bt),rgba:new RegExp("rgba"+Ot),hsl:new RegExp("hsl"+Bt),hsla:new RegExp("hsla"+Ot),hsv:new RegExp("hsv"+Bt),hsva:new RegExp("hsva"+Ot),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function se(et){et=et.replace(A,"").replace(I,"").toLowerCase();var bt=!1;if(R[et])et=R[et],bt=!0;else if(et=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var K;return(K=fe.rgb.exec(et))?{r:K[1],g:K[2],b:K[3]}:(K=fe.rgba.exec(et))?{r:K[1],g:K[2],b:K[3],a:K[4]}:(K=fe.hsl.exec(et))?{h:K[1],s:K[2],l:K[3]}:(K=fe.hsla.exec(et))?{h:K[1],s:K[2],l:K[3],a:K[4]}:(K=fe.hsv.exec(et))?{h:K[1],s:K[2],v:K[3]}:(K=fe.hsva.exec(et))?{h:K[1],s:K[2],v:K[3],a:K[4]}:(K=fe.hex8.exec(et))?{a:zt(K[1]),r:Y(K[2]),g:Y(K[3]),b:Y(K[4]),format:bt?"name":"hex8"}:(K=fe.hex6.exec(et))?{r:Y(K[1]),g:Y(K[2]),b:Y(K[3]),format:bt?"name":"hex"}:(K=fe.hex3.exec(et))?{r:Y(K[1]+""+K[1]),g:Y(K[2]+""+K[2]),b:Y(K[3]+""+K[3]),format:bt?"name":"hex"}:!1}window.tinycolor=k,r(function(){r.fn.spectrum.load&&r.fn.spectrum.processNativeColorInputs()})}var IB=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),sD=function(r){IB(e,r);function e(t){t===void 0&&(t={});var n=r.call(this,t)||this,i=t.ppfx||"";return n.opts=t,n.ppfx=i,n.em=t.target||{},!t.onChange&&n.listenTo(n.model,"change:value",n.handleModelChange),n}return e.prototype.template=function(){return'<span class="'.concat(this.holderClass(),'"></span>')},e.prototype.inputClass=function(){return"".concat(this.ppfx,"field")},e.prototype.holderClass=function(){return"".concat(this.ppfx,"input-holder")},e.prototype.elementUpdated=function(){this.model.trigger("el:change")},e.prototype.setValue=function(t,n){var i=this.model,o=t||i.get("defaults"),a=this.getInputEl();a&&(a.value=o)},e.prototype.handleModelChange=function(t,n,i){this.setValue(n,i)},e.prototype.handleChange=function(t){t.stopPropagation();var n=this.getInputEl().value;this.__onInputChange(n),this.elementUpdated()},e.prototype.__onInputChange=function(t){this.model.set({value:t},{fromInput:1})},e.prototype.getInputEl=function(){if(!this.inputEl){var t=this,n=t.model,i=t.opts,o=i.type||"text",a=n.get("placeholder")||n.get("defaults")||n.get("default")||"";this.inputEl=(0,hr.default)('<input type="'.concat(o,'" placeholder="').concat(a,'">'))}return this.inputEl.get(0)},e.prototype.render=function(){this.inputEl=null;var t=this.$el;return t.addClass(this.inputClass()),t.html(this.template()),t.find(".".concat(this.holderClass())).append(this.getInputEl()),this},e}(ne.Ss);const Xv=sD;sD.prototype.events={change:"handleChange"};var VB=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Xf=function(){return Xf=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Xf.apply(this,arguments)};hr.default&&jB(hr.default);var Gh=function(r){var e=r.getFormat()==="name"&&r.toName(),t=r.getAlpha()==1?r.toHexString():r.toRgbString();return e||t.replace(/ /g,"")},UB=function(r){VB(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.template=function(){var t=this.ppfx;return`
      <div class="`.concat(this.holderClass(),`"></div>
      <div class="`).concat(t,`field-colorp">
        <div class="`).concat(t,`field-colorp-c" data-colorp-c>
          <div class="`).concat(t,`checker-bg"></div>
        </div>
      </div>
    `)},e.prototype.inputClass=function(){var t=this.ppfx;return"".concat(t,"field ").concat(t,"field-color")},e.prototype.holderClass=function(){return"".concat(this.ppfx,"input-holder")},e.prototype.remove=function(){return r.prototype.remove.call(this),this.colorEl.spectrum("destroy"),this},e.prototype.handleChange=function(t){t.stopPropagation();var n=t.target.value;(0,z.isUndefined)(n)||this.__onInputChange(n)},e.prototype.__onInputChange=function(t){var n=this,i=n.model,o=n.opts,a=o.onChange,l=t,u=this.getColorEl();if(u){u.spectrum("set",l);var c=u.spectrum("get"),d=l&&Gh(c);d&&(l=d)}a?a(l):i.set({value:l},{fromInput:1})},e.prototype.setValue=function(t,n){n===void 0&&(n={});var i=this.model,o=(0,z.isUndefined)(n.def)?i.get("defaults"):n.def,a=(0,z.isUndefined)(t)?(0,z.isUndefined)(o)?"":o:t,l=this.getInputEl(),u=this.getColorEl(),c=a!="none"?a:"";l.value=a,u.get(0).style.backgroundColor=c,(n.fromTarget||n.fromInput&&!n.avoidStore)&&(u.spectrum("set",c),this.noneColor=a=="none",this.movedColor=c)},e.prototype.getColorEl=function(){var t=this;if(!this.colorEl){var n=this,i=n.em,o=n.model,a=n.opts,l=this.ppfx,u=a.onChange,c=(0,hr.default)('<div class="'.concat(this.ppfx,'field-color-picker"></div>')),d=c.get(0).style,h=i&&i.getConfig&&i.getConfig().colorPicker||{};this.movedColor="";var g=!1,m;this.$el.find("[data-colorp-c]").append(c);var b=function(w,x){x===void 0&&(x=!0),u?u(w,!x):(x&&o.setValueFromInput(0,!1),o.setValueFromInput(w,x))};c.spectrum(Xf(Xf(Xf({color:o.getValue()||!1,containerClassName:"".concat(l,"one-bg ").concat(l,"two-color ").concat(l,"editor-sp"),maxSelectionSize:8,showPalette:!0,showAlpha:!0,chooseText:"Ok",cancelText:"⨯",palette:[]},h),o.get("colorPicker")||{}),{move:function(w){var x=Gh(w);t.movedColor=x,d.backgroundColor=x,b(x,!1)},change:function(w){g=!0;var x=Gh(w);d.backgroundColor=x,b(x),t.noneColor=!1},show:function(w){g=!1,t.movedColor="",m=u?o.getValue({noDefault:!0}):Gh(w)},hide:function(){!g&&(m||u)&&(t.noneColor&&(m=""),d.backgroundColor=m,c.spectrum("set",m),b(m,!1))}})),i&&i.on&&this.listenTo(i,"component:selected",function(){t.movedColor&&b(t.movedColor),g=!0,t.movedColor="",c.spectrum("hide")}),this.colorEl=c}return this.colorEl},e.prototype.render=function(){return Xv.prototype.render.call(this),this.getColorEl(),this},e}(Xv);const lD=UB;var BB=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),FB=function(r){BB(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.templateInput=function(){return""},e.prototype.getInputEl=function(){if(!this.input){var t=this.model,n=this.getModelValue(),i=new lD({model:t,target:this.config.em,contClass:this.ppfx+"field-color",ppfx:this.ppfx}),o=i.render();o.setValue(n,{fromTarget:1}),this.input=o.el}return this.input},e}(Pa);const zB=FB;var HB=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),uD=function(r){HB(e,r);function e(t){t===void 0&&(t={});var n=r.call(this,t)||this;return(0,z.bindAll)(n,"moveIncrement","upIncrement"),n.doc=document,n.listenTo(n.model,"change:unit",n.handleModelChange),n}return e.prototype.template=function(){var t=this.ppfx;return`
      <span class="`.concat(t,`input-holder"></span>
      <span class="`).concat(t,`field-units"></span>
      <div class="`).concat(t,`field-arrows" data-arrows>
        <div class="`).concat(t,`field-arrow-u" data-arrow-up></div>
        <div class="`).concat(t,`field-arrow-d" data-arrow-down></div>
      </div>
    `)},e.prototype.inputClass=function(){var t=this.ppfx;return this.opts.contClass||"".concat(t,"field ").concat(t,"field-integer")},e.prototype.setValue=function(t,n){var i=n||{},o=this.validateInputValue(t,{deepCheck:1}),a={value:o.value,unit:""};(o.unit||o.force)&&(a.unit=o.unit),this.model.set(a,i),i.silent&&this.handleModelChange()},e.prototype.handleChange=function(t){t.stopPropagation(),this.setValue(this.getInputEl().value),this.elementUpdated()},e.prototype.handleUnitChange=function(t){t.stopPropagation();var n=this.getUnitEl().value;this.model.set("unit",n),this.elementUpdated()},e.prototype.handleKeyDown=function(t){t.key==="ArrowUp"&&(t.preventDefault(),this.upArrowClick()),t.key==="ArrowDown"&&(t.preventDefault(),this.downArrowClick())},e.prototype.elementUpdated=function(){this.model.trigger("el:change")},e.prototype.handleModelChange=function(){var t=this.model;this.getInputEl().value=t.get("value");var n=this.getUnitEl();n&&(n.value=t.get("unit")||"")},e.prototype.getUnitEl=function(){if(!this.unitEl){var t=this.model,n=t.get("units")||[];if(n.length){var i=['<option value="" disabled hidden>-</option>'];n.forEach(function(a){var l=a==t.get("unit")?"selected":"";i.push("<option ".concat(l,">").concat(a,"</option>"))});var o=document.createElement("div");o.innerHTML='<select class="'.concat(this.ppfx,'input-unit">').concat(i.join(""),"</select>"),this.unitEl=o.firstChild}}return this.unitEl},e.prototype.upArrowClick=function(){var t=this.model,n=t.get("step"),i=parseFloat(this.getInputEl().value);this.setValue(this.normalizeValue(i+n)),this.elementUpdated()},e.prototype.downArrowClick=function(){var t=this.model,n=t.get("step"),i=parseFloat(this.getInputEl().value);this.setValue(this.normalizeValue(i-n)),this.elementUpdated()},e.prototype.downIncrement=function(t){t.preventDefault(),this.moved=!1;var n=this.model.get("value")||0;n=this.normalizeValue(n),this.current={y:t.pageY,val:n},(0,le.on)(this.doc,"mousemove",this.moveIncrement),(0,le.on)(this.doc,"mouseup",this.upIncrement)},e.prototype.moveIncrement=function(t){this.moved=!0;var n=this.model,i=n.get("step"),o=this.current,a=this.normalizeValue(o.val+(o.y-t.pageY)*i),l=this.validateInputValue(a),u=l.value,c=l.unit;return this.prValue=u,n.set({value:u,unit:c},{avoidStore:1}),!1},e.prototype.upIncrement=function(){var t=this.model,n=t.get("step");if((0,le.AU)(this.doc,"mouseup",this.upIncrement),(0,le.AU)(this.doc,"mousemove",this.moveIncrement),this.prValue&&this.moved){var i=this.prValue-n;t.set("value",i,{avoidStore:1}).set("value",i+n),this.elementUpdated()}},e.prototype.normalizeValue=function(t,n){n===void 0&&(n=0);var i=this.model,o=i.get("step"),a=0;if(isNaN(t))return n;if(t=parseFloat(t),Math.floor(t)!==t){var l=o.toString().split(".")[1];a=l?l.length:0}return a?parseFloat(t.toFixed(a)):t},e.prototype.validateInputValue=function(t,n){n===void 0&&(n={});var i=0,o=n||{},a=this.model,l="",u=(0,z.isUndefined)(t)?l:t,c=n.units||a.get("units")||[],d=a.get("unit")||c.length&&c[0]||"",h=(0,z.isUndefined)(n.max)?a.get("max"):n.max,g=(0,z.isUndefined)(n.min)?a.get("min"):n.min,m=!!a.get("limitlessMax"),b=!!a.get("limitlessMin");if(o.deepCheck){var w=a.get("fixedValues")||[];if(u===""&&(d=""),u){var x=new RegExp("^"+w.join("|"),"g");if(w.length&&x.test(u))u=u.match(x)[0],d="",i=1;else{var _=u+"";u+="",u=parseFloat(u.replace(",",".")),u=isNaN(u)?l:u;var C=_.replace(u,"");(0,z.indexOf)(c,C)>=0&&(d=C)}}}return!isNaN(u)&&u!==""&&(!m&&!(0,z.isUndefined)(h)&&h!==""&&(u=u>h?h:u),!b&&!(0,z.isUndefined)(g)&&g!==""&&(u=u<g?g:u)),{force:i,value:u,unit:d}},e.prototype.render=function(){Xv.prototype.render.call(this),this.unitEl=null;var t=this.getUnitEl();return t&&this.$el.find(".".concat(this.ppfx,"field-units")).get(0).appendChild(t),this},e}(Xv);const cD=uD;uD.prototype.events={"change input":"handleChange","change select":"handleUnitChange","click [data-arrow-up]":"upArrowClick","click [data-arrow-down]":"downArrowClick","mousedown [data-arrows]":"downIncrement",keydown:"handleKeyDown"};var WB=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),KB=function(r){WB(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getValueForTarget=function(){var t=this.model,n=t.attributes,i=n.value,o=n.unit;return!(0,z.isUndefined)(i)&&i!==""?i+o:t.get("default")},e.prototype.getInputEl=function(){if(!this.input){var t=this,n=t.ppfx,i=t.model,o=this.getModelValue(),a=new cD({contClass:"".concat(n,"field-int"),type:"number",model:i,ppfx:n});a.render(),this.$input=a.inputEl,this.$unit=a.unitEl,i.set("value",o,{fromTarget:!0}),this.$input.val(o),this.input=a.el}return this.input},e}(Pa);const qB=KB;var GB=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),YB=function(r){GB(e,r);function e(t){t===void 0&&(t={});var n=r.call(this,t)||this;return n.listenTo(n.model,"change:options",n.rerender),n}return e.prototype.templateInput=function(){var t=this,n=t.ppfx,i=t.clsField;return'<div class="'.concat(i,`">
      <div data-input></div>
      <div class="`).concat(n,`sel-arrow">
        <div class="`).concat(n,`d-s-arrow"></div>
      </div>
    </div>`)},e.prototype.getInputEl=function(){if(!this.$input){var t=this,n=t.model,i=t.em,o=n.get("name"),a=n.get("options")||[],l=[],u="<select>";a.forEach(function(h){var g="",m,b,w;(0,z.isString)(h)?(m=h,b=h):(m=h.name||h.label||h.value,b="".concat((0,z.isUndefined)(h.value)?h.id:h.value).replace(/"/g,"&quot;"),w=h.style?h.style.replace(/"/g,"&quot;"):"",g+=w?' style="'.concat(w,'"'):"");var x=i.t("traitManager.traits.options.".concat(o,".").concat(b))||m;u+='<option value="'.concat(b,'"').concat(g,">").concat(x,"</option>"),l.push(b)}),u+="</select>",this.$input=(0,hr.default)(u);var c=n.getTargetValue(),d=l.indexOf(c)>=0?c:n.get("default");!(0,z.isUndefined)(d)&&this.$input.val(d)}return this.$input.get(0)},e}(Pa);const XB=YB;var ZB=Ye(8242),$B=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),P1="data-categories",M1="data-no-categories",fD=function(r){$B(e,r);function e(t,n){var i=r.call(this,t)||this;i.reuseView=!0,i.renderedCategories=new Map,i.itemsView=n;var o=t.config||{};i.config=o;var a=t.editor;i.em=a;var l=o.pStylePrefix||"";return i.ppfx=l,i.pfx=l+o.stylePrefix||"",i.className="".concat(i.pfx,"traits"),i.traitContClass="".concat(l,"traits-c"),i.classNoCat="".concat(l,"traits-empty-c"),i.catsClass="".concat(l,"trait-categories"),i.collection=new bv([],{em:a}),i.listenTo(a,"component:toggled",i.updatedCollection),i.updatedCollection(),i}return e.prototype.updatedCollection=function(){var t=this,n=t.ppfx,i=t.em,o=i.getSelected();this.el.className="".concat(this.traitContClass,"s ").concat(n,"one-bg ").concat(n,"two-color"),this.collection=(o==null?void 0:o.traits)||new bv([],{em:i}),this.render()},e.prototype.add=function(t,n){var i=this,o=i.config,a=i.renderedCategories,l=this.itemView,u=t.get(this.itemType);this.itemsView&&this.itemsView[u]&&(l=this.itemsView[u]);var c=new l({config:o,model:t,attributes:t.get("attributes")}),d=c.render().el,h=t.parent.initCategory(t);if(h){var g=h.getId(),m=this.getCategoriesEl(),b=a.get(g);!b&&m&&(b=new q2({model:h},o,"trait").render(),a.set(g,b),m.appendChild(b.el)),b==null||b.append(d);return}n?n.appendChild(d):this.append(d)},e.prototype.getCategoriesEl=function(){return this.catsEl||(this.catsEl=this.el.querySelector("[".concat(P1,"]"))),this.catsEl},e.prototype.getTraitsEl=function(){return this.traitsEl||(this.traitsEl=this.el.querySelector("[".concat(M1,"]"))),this.traitsEl},e.prototype.append=function(t){var n=this.getTraitsEl();n==null||n.appendChild(t)},e.prototype.render=function(){var t=this,n=this,i=n.el,o=n.ppfx,a=n.catsClass,l=n.traitContClass,u=n.classNoCat,c=document.createDocumentFragment();delete this.catsEl,delete this.traitsEl,this.renderedCategories=new Map,i.innerHTML=`
      <div class="`.concat(a,'" ').concat(P1,`></div>
      <div class="`).concat(u," ").concat(l,'" ').concat(M1,`></div>
    `),this.collection.forEach(function(h){return t.add(h,c)}),this.append(c);var d="".concat(l,"s ").concat(o,"one-bg ").concat(o,"two-color");return this.$el.addClass(d),this.rendered=!0,this},e}(ZB.A);const R1=fD;fD.prototype.itemView=Pa;var JB=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),QB=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))},t8=function(r){JB(e,r);function e(t){var n=r.call(this,t,"TraitManager",DB())||this;n.TraitsView=R1,n.events=mv,n.state=new ne.Kx({traits:[]}),n.types={text:Pa,number:qB,select:XB,checkbox:NB,color:zB,button:MB};var i=n,o=i.state,a=i.config,l=i.events,u=a.pStylePrefix;u&&(a.stylePrefix="".concat(u).concat(a.stylePrefix)),(0,z.bindAll)(n,"__onSelect");var c=(0,z.debounce)(function(){return n.__upSel()},0),d=(0,z.debounce)(function(){return n.__onUp()},0);return o.listenTo(t,"component:toggled",c),o.listenTo(t,l.value,d),o.on("change:traits",n.__onSelect),n.debounced=[c,d],n}return e.prototype.select=function(t){var n=(t==null?void 0:t.getTraits())||[];this.state.set({component:t,traits:n}),this.__trgCustom()},e.prototype.getCategories=function(){var t,n=this.getComponent(),i=((t=n==null?void 0:n.traits.categories)===null||t===void 0?void 0:t.models)||[];return QB([],i,!0)},e.prototype.getTraits=function(){return this.getCurrent()},e.prototype.getTraitsByCategory=function(t){return T2(t||this.getTraits())},e.prototype.getComponent=function(){return this.state.attributes.component},e.prototype.addType=function(t,n){var i=this.getType("text");this.types[t]=i.extend(n)},e.prototype.getType=function(t){return this.getTypes()[t]},e.prototype.getTypes=function(){return this.types},e.prototype.getTraitsViewer=function(){return this.view},e.prototype.getCurrent=function(){return this.state.get("traits")||[]},e.prototype.render=function(){var t=this.view,n=this.em;return t=new R1({el:t==null?void 0:t.el,collection:[],editor:n,config:this.getConfig()},this.getTypes()),this.view=t,t.el},e.prototype.postRender=function(){this.__appendTo()},e.prototype.__onSelect=function(){var t=this,n=t.em,i=t.events,o=t.state,a=o.attributes,l=a.component,u=a.traits;n.trigger(i.select,{component:l,traits:u})},e.prototype.__trgCustom=function(t){t===void 0&&(t={});var n=this,i=n.em,o=n.events,a=n.__ctn;this.__ctn=a||t.container,i.trigger(o.custom,this.__customData())},e.prototype.__customData=function(){return{container:this.__ctn}},e.prototype.__upSel=function(){this.select(this.em.getSelected())},e.prototype.__onUp=function(){this.select(this.getComponent())},e}(Oi);const e8=t8;var n8=function(){return{stylePrefix:"",appendTo:"",sortable:!0,hidable:!0,hideTextnode:!0,root:"",showWrapper:!0,showHover:!0,scrollCanvas:{behavior:"smooth",block:"nearest"},scrollLayers:{behavior:"auto",block:"nearest"},highlightHover:!0,custom:!1,onInit:function(){},onRender:function(){},extend:{}}};const r8=n8;var i8=Ye(6756),o8=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),a8=function(r){o8(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t._dropAreaConfig={ratio:.4,minUndroppableDimension:3,maxUndroppableDimension:20},t}return Object.defineProperty(e.prototype,"view",{get:function(){return this.model.viewLayer},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"element",{get:function(){var t;return(t=this.model.viewLayer)===null||t===void 0?void 0:t.el},enumerable:!1,configurable:!0}),e}(i8.h);const s8=a8;var l8=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),u8=function(r){l8(e,r);function e(t){t===void 0&&(t={});var n=r.call(this,t)||this;n.items=[],n.opt=t;var i=t.config||{};n.config=i,n.module=t.module,n.parentView=t.parentView;var o=i.stylePrefix||"";i.pStylePrefix;var a=n.collection;n.listenTo(a,"add",n.addTo),n.listenTo(a,"reset resetNavigator",n.render),n.listenTo(a,"remove",n.removeChildren),n.className="".concat(o,"layers");var l=i.em;if(i.sortable&&!n.opt.sorter){var u=l.Utils,c=i.sortContainer||n.el,d=n.createPlaceholder(o);n.opt.sorter=new u.ComponentSorter({em:l,treeClass:s8,containerContext:{container:c,containerSel:".".concat(n.className),itemSel:".".concat(o,"layer"),pfx:i.pStylePrefix,document,placeholderElement:d},dragBehavior:{dragDirection:Cl.A.Vertical,nested:!0}})}return n.$el.data("collection",a),t.parent&&n.$el.data("model",t.parent),n}return e.prototype.createPlaceholder=function(t){var n=document.createElement("div"),i=document.createElement("div");return this.el.parentNode,n.className=t+"placeholder",n.style.display="none",n.style.pointerEvents="none",i.className=t+"placeholder-int",n.appendChild(i),n},e.prototype.removeChildren=function(t){var n=t.viewLayer;n&&(n.remove(),delete t.viewLayer)},e.prototype.addTo=function(t){this.addToCollection(t,null,this.collection.indexOf(t))},e.prototype.addToCollection=function(t,n,i){var o=this,a=o.parentView,l=o.opt,u=o.config,c=o.el,d=l.ItemView,h=l.opened,g=l.module,m=l.level,b=l.sorter,w=t.viewLayer||new d({ItemView:d,level:m,model:t,parentView:a,config:u,sorter:b,opened:h,module:g}),x=w.render().el;if(n)n.appendChild(x);else{var _=c,C=_.childNodes;if((0,z.isUndefined)(i))_.appendChild(x);else{var O=C.length==i;O&&i--,O||!C.length?_.appendChild(x):_.insertBefore(x,C[i])}}return this.items.push(w),x},e.prototype.remove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return ne.Ss.prototype.remove.apply(this,t),this.items.map(function(i){return i.remove()}),this},e.prototype.render=function(){var t=this,n=this,i=n.el,o=n.module,a=document.createDocumentFragment();return i.innerHTML="",this.collection.map(function(l){return o.__getLayerFromComponent(l)}).forEach(function(l){return t.addToCollection(l,a)}),i.appendChild(a),i.className=this.className,this},e}(ne.Ss);const c8=u8;var zy=Ye(9946),f8=function(){return{stylePrefix:"com-",defaults:{},strict:!0,defaultOptions:{}}};const d8=f8;var h8=Ye(1738),p8=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Zv=function(){return Zv=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Zv.apply(this,arguments)},L1=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))},N1=[["preview","Preview","preview"],["resize","Resize","resize"],["fullscreen","Fullscreen","fullscreen"],["copy","CopyComponent"],["paste","PasteComponent"],["canvas-move","CanvasMove"],["canvas-clear","CanvasClear"],["open-code","ExportTemplate","export-template"],["open-layers","OpenLayers","open-layers"],["open-styles","OpenStyleManager","open-sm"],["open-traits","OpenTraitManager","open-tm"],["open-blocks","OpenBlocks","open-blocks"],["open-assets","OpenAssets","open-assets"],["component-select","SelectComponent","select-comp"],["component-outline","SwitchVisibility","sw-visibility"],["component-offset","ShowOffset","show-offset"],["component-move","MoveComponent","move-comp"],["component-next","ComponentNext"],["component-prev","ComponentPrev"],["component-enter","ComponentEnter"],["component-exit","ComponentExit","select-parent"],["component-delete","ComponentDelete"],["component-style-clear","ComponentStyleClear"],["component-drag","ComponentDrag"]],dD={preserveSelected:1},hD=function(r){return function(e){return r.trigger("".concat(lw,":start"),e)}},pD=function(r){return function(e){return r.trigger(lw,e)}},vD=function(r,e,t){return t===void 0&&(t={}),function(n,i,o){setTimeout(function(){e.forEach(function(a){return a.set("status",a.get("selectable")?"selected":"")}),r.setSelected(e),e[0].emitUpdate()}),r.trigger("".concat(lw,":end"),o),setTimeout(function(){return r.runDefault(dD)}),(t.altMode||o.cancelled)&&r.set("_cmpDrag",1)}},v8=function(r){p8(e,r);function e(t){var n=r.call(this,t,"Commands",d8())||this;n.CommandAbstract=zy.default,n.defaultCommands={},n.commands={},n.active={},n.events=h8.A;var i=n.config,o=i.pStylePrefix,a=n.defaultCommands;o&&(i.stylePrefix=o+i.stylePrefix),Object.keys(i.defaults).forEach(function(u){var c=i.defaults[u];c.id&&n.add(c.id,c)}),a["tlb-delete"]={run:function(u){return u.runCommand("core:component-delete")}},a["tlb-clone"]={run:function(u){u.runCommand("core:copy"),u.runCommand("core:paste",{action:"clone-component"})}},a["tlb-move"]={run:function(u,c,d){var h,g;d===void 0&&(d={});var m=u.getModel(),b=d.event,w=d.target,x=Array.isArray(w)?w:w?[w]:L1([],u.getSelectedAll(),!0),_=x.map(function(k){var F,T;return((T=(F=k.delegate)===null||F===void 0?void 0:F.move)===null||T===void 0?void 0:T.call(F,k))||k}).filter(Boolean),C=_[_.length-1],O=(b==null?void 0:b.type)==="dragstart",A=["absolute","translate"];if(!(C!=null&&C.get("draggable")))return m.logWarning("The element is not draggable");var I=C.get("dmode")||m.get("dmode"),Q=function(){return m.stopDefault(dD)},$=(0,z.includes)(A,I);_.forEach(function(k){return k.trigger("disable",{fromMove:!0})}),O?setTimeout(Q,0):Q();var Z=hD(m),P=pD(m),tt=vD(m,_,{altMode:$});if($)u.runCommand("core:component-drag",{guidesInfo:1,mode:I,target:C,onStart:Z,onDrag:P,onEnd:tt,event:b});else{O&&((h=b==null?void 0:b.dataTransfer)===null||h===void 0||h.setDragImage((g=C.view)===null||g===void 0?void 0:g.el,0,0));var H=u.Commands.get("move-comp");H.onStart=Z,H.onDrag=P,H.onEndMoveFromModel=tt,H.initSorterFromModels(_)}_.filter(function(k){return k.get("selectable")}).forEach(function(k){return k.set("status","freezed-selected")})}},a["core:undo"]=function(u){return u.UndoManager.undo()},a["core:redo"]=function(u){return u.UndoManager.redo()},N1.forEach(function(u){var c=u[2],d=Ye(585)("./".concat(u[1])).default,h="core:".concat(u[0]);a[h]=d,c&&(a[c]=d,["run","stop"].forEach(function(g){t.on("".concat(g,":").concat(c),function(){for(var m=[],b=0;b<arguments.length;b++)m[b]=arguments[b];return t.trigger.apply(t,L1(["".concat(g,":").concat(h)],m,!1))})}))}),i.model=t.Canvas;for(var l in a)n.add(l,a[l]);return n}return e.prototype.add=function(t,n){var i=(0,z.isFunction)(n)?{run:n}:n;return i.stop||(i.noStop=!0),delete i.initialize,i.id=t,this.commands[t]=zy.default.extend(i),this},e.prototype.get=function(t){var n=this.commands[t];return(0,z.isFunction)(n)?(n=new n(this.config),this.commands[t]=n):n||this.em.logWarning("'".concat(t,"' command not found")),n},e.prototype.extend=function(t,n){n===void 0&&(n={});var i=this.get(t);if(i){var o=Zv(Zv({},i.constructor.prototype),n);this.add(t,o);var a=N1.filter(function(l){return"core:".concat(l[0])===t&&l[2]})[0];a&&this.add(a[2],o)}return this},e.prototype.has=function(t){return!!this.commands[t]},e.prototype.getAll=function(){return this.commands},e.prototype.run=function(t,n){return n===void 0&&(n={}),this.runCommand(this.get(t),n)},e.prototype.stop=function(t,n){return n===void 0&&(n={}),this.stopCommand(this.get(t),n)},e.prototype.isActive=function(t){return this.getActive().hasOwnProperty(t)},e.prototype.getActive=function(){return this.active},e.prototype.runCommand=function(t,n){var i,o;n===void 0&&(n={});var a;if(t!=null&&t.run){var l=this,u=l.em,c=l.config,d=t.id,h=u.Editor;if(!this.isActive(d)||n.force||!c.strict){var g=(o=(i=c.defaultOptions)===null||i===void 0?void 0:i[d])===null||o===void 0?void 0:o.run;(0,z.isFunction)(g)&&(n=g(n)),a=h&&t.callRun(h,n)}}return a},e.prototype.stopCommand=function(t,n){var i,o;n===void 0&&(n={});var a;if(t!=null&&t.run){var l=this,u=l.em,c=l.config,d=t.id,h=u.Editor;if(this.isActive(d)||n.force||!c.strict){var g=(o=(i=c.defaultOptions)===null||i===void 0?void 0:i[d])===null||o===void 0?void 0:o.stop;(0,z.isFunction)(g)&&(n=g(n)),a=t.callStop(h,n)}}return a},e.prototype.create=function(t){t.stop||(t.noStop=!0);var n=zy.default.extend(t);return new n(this.config)},e.prototype.__onRun=function(t,n){var i=this,o=i.em,a=i.events;o.on("".concat(a.runCommand).concat(t),n)},e.prototype.__onStop=function(t,n){var i=this,o=i.em,a=i.events;o.on("".concat(a.stopCommand).concat(t),n)},e.prototype.destroy=function(){this.defaultCommands={},this.commands={},this.active={}},e}(Oi);const g8=v8;var m8=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),E_=function(){return E_=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},E_.apply(this,arguments)},j1="contentEditable",Yh="data-toggle-move",y8=function(r){m8(e,r);function e(t){var n=r.call(this,t)||this;(0,z.bindAll)(n,"__render"),n.opt=t,n.module=t.module,n.config=t.config||{},n.sorter=t.sorter||"",n.parentView=t.parentView;var i=n,o=i.model,a=i.pfx,l=i.ppfx,u=o.get("type")||"default";return n.className="".concat(a,"layer ").concat(a,"layer__t-").concat(u," no-select ").concat(l,"two-color"),n.inputNameCls="".concat(l,"layer-name"),n.clsTitleC="".concat(a,"layer-title-c"),n.clsTitle="".concat(a,"layer-title"),n.clsCaret="".concat(a,"layer-caret"),n.clsCount="".concat(a,"layer-count"),n.clsMove="".concat(a,"layer-move"),n.clsChildren="".concat(a,"layer-children"),n.clsNoChild="".concat(a,"layer-no-chld"),n.clsEdit="".concat(n.inputNameCls,"--edit"),n.clsNoEdit="".concat(n.inputNameCls,"--no-edit"),n.initComponent(),n}return e.prototype.events=function(){var t;return t={},t["mousedown [".concat(Yh,"]")]="startSort",t["touchstart [".concat(Yh,"]")]="startSort",t["click [data-toggle-visible]"]="toggleVisibility",t["click [data-toggle-open]"]="toggleOpening",t["click [data-toggle-select]"]="handleSelect",t["mouseover [data-toggle-select]"]="handleHover",t["mouseout [data-toggle-select]"]="handleHoverOut",t["dblclick [data-name]"]="handleEdit",t["keydown [data-name]"]="handleEditKey",t["focusout [data-name]"]="handleEditEnd",t},e.prototype.template=function(t){var n=this,i=n.pfx,o=n.ppfx,a=n.config,l=n.clsNoEdit,u=n.module,c=n.opt,d=n.em,h=a.hidable,g=u.getComponents(t).length,m=g?"":this.clsNoChild,b="".concat(this.clsTitle," ").concat(m),w="".concat(this.clsTitleC),x="".concat(this.inputNameCls," ").concat(l," ").concat(o,"no-app"),_=c.level||0,C="".concat(_*10,"px"),O=t.getName(),A=t.getIcon(),I="".concat(i,"layer"),Q=(d==null?void 0:d.getConfig()).icons,$=Q,Z=$.move,P=$.eye,tt=$.eyeOff,H=$.chevron;return`
      <div class="`.concat(i,"layer-item ").concat(o,`one-bg" data-toggle-select>
        <div class="`).concat(i,`layer-item-left">
          `).concat(h?'<i class="'.concat(i,`layer-vis" data-toggle-visible>
                <i class="`).concat(i,'layer-vis-on">').concat(P,`</i>
                <i class="`).concat(i,'layer-vis-off">').concat(tt,`</i>
              </i>`):"",`
          <div class="`).concat(w,`">
            <div class="`).concat(b,'" style="padding-left: ').concat(C,`">
              <div class="`).concat(i,'layer-title-inn" title="').concat(O,`">
                <i class="`).concat(this.clsCaret,'" data-toggle-open>').concat(H,`</i>
                  `).concat(A?'<span class="'.concat(I,'__icon">').concat(A,"</span>"):"",`
                <span class="`).concat(x,'" data-name>').concat(O,`</span>
              </div>
            </div>
          </div>
        </div>
        <div class="`).concat(i,`layer-item-right">
          <div class="`).concat(this.clsCount,'" data-count>').concat(g||"",`</div>
          <div class="`).concat(this.clsMove,'" ').concat(Yh,">").concat(Z||"",`</div>
        </div>
      </div>
      <div class="`).concat(this.clsChildren,`"></div>
    `)},Object.defineProperty(e.prototype,"em",{get:function(){return this.module.em},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ppfx",{get:function(){return this.em.getConfig().stylePrefix},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pfx",{get:function(){return this.config.stylePrefix},enumerable:!1,configurable:!0}),e.prototype.initComponent=function(){var t=this,n=this,i=n.model,o=n.config,a=o.onInit,l=i.components();this.listenTo(l,"remove add reset",this.checkChildren),[["change:status",this.updateStatus],["change:open",this.updateOpening],["change:layerable",this.updateLayerable],["change:style:display",this.updateVisibility],["change:draggable",this.updateMove],["rerender:layer",this.render],["change:name change:custom-name",this.updateName]].forEach(function(u){return t.listenTo(i,u[0],u[1])}),this.$el.data("model",i),this.$el.data("collection",l),i.viewLayer=this,a.bind(this)({component:i,render:this.__render,listenTo:this.listenTo})},e.prototype.updateName=function(){this.getInputName().innerText=this.model.getName()},e.prototype.getVisibilityEl=function(){return this.getItemContainer().find("[data-toggle-visible]")},e.prototype.updateVisibility=function(){var t=this,n=t.pfx,i=t.model,o=t.module,a="".concat(n,"layer-hidden"),l=!o.isVisible(i),u=l?"addClass":"removeClass";this.$el[u](a),this.getVisibilityEl()[u]("".concat(n,"layer-off"))},e.prototype.updateMove=function(){var t=this,n=t.model,i=t.config,o=this.getItemContainer().find("[".concat(Yh,"]"))[0];if(o){var a=n.get("draggable")&&i.sortable;o.style.display=a?"":"none"}},e.prototype.toggleVisibility=function(t){t==null||t.stopImmediatePropagation();var n=this,i=n.module,o=n.model;i.setVisible(o,!i.isVisible(o))},e.prototype.handleEdit=function(t){t==null||t.stopPropagation();var n=this,i=n.em,o=n.$el,a=n.clsNoEdit,l=n.clsEdit,u=this.getInputName();u[j1]="true",u.focus(),document.execCommand("selectAll",!1),i.setEditing(!0),o.find(".".concat(this.inputNameCls)).removeClass(a).addClass(l)},e.prototype.handleEditKey=function(t){t.stopPropagation(),((0,le.v$)(t)||(0,le.Ci)(t))&&this.handleEditEnd(t)},e.prototype.handleEditEnd=function(t){t==null||t.stopPropagation();var n=this,i=n.em,o=n.$el,a=n.clsNoEdit,l=n.clsEdit,u=n.model,c=this.getInputName(),d=c.textContent;c.scrollLeft=0,c[j1]="false",u.setName(d),i.setEditing(!1),o.find(".".concat(this.inputNameCls)).addClass(a).removeClass(l),this.updateName()},e.prototype.getInputName=function(){return this.inputName||(this.inputName=this.el.querySelector(".".concat(this.inputNameCls))),this.inputName},e.prototype.updateOpening=function(){var t=this,n=t.$el,i=t.model,o=t.pfx,a="open",l="".concat(o,"layer-open"),u=this.getCaret();this.module.isOpen(i)?(n.addClass(a),u.addClass(l)):(n.removeClass(a),u.removeClass(l))},e.prototype.toggleOpening=function(t){var n=this,i=n.model,o=n.module;t==null||t.stopImmediatePropagation(),i.get("components").length&&o.setOpen(i,!o.isOpen(i))},e.prototype.handleSelect=function(t){t==null||t.stopPropagation();var n=this,i=n.module,o=n.model;i.setLayerData(o,{selected:!0},{event:t})},e.prototype.handleHover=function(t){t==null||t.stopPropagation();var n=this,i=n.module,o=n.model;i.setLayerData(o,{hovered:!0})},e.prototype.handleHoverOut=function(t){t==null||t.stopPropagation();var n=this,i=n.module,o=n.model;i.setLayerData(o,{hovered:!1})},e.prototype.startSort=function(t){var n,i,o;t.stopPropagation();var a=this,l=a.em,u=a.sorter,c=a.model;if(!(t.button&&t.button!==0)&&u){var d=((i=(n=c.delegate)===null||n===void 0?void 0:n.move)===null||i===void 0?void 0:i.call(n,c))||c;u.eventHandlers=E_({legacyOnStartSort:hD(l),legacyOnMoveClb:pD(l),legacyOnEndMove:vD(l,[d])},u.eventHandlers);var h=((o=d.viewLayer)===null||o===void 0?void 0:o.el)||t.target;u.startSort([{element:h}])}},e.prototype.updateStatus=function(){gn.prototype.updateStatus.apply(this,[{avoidHover:!this.config.highlightHover,noExtHl:!0}])},e.prototype.getItemContainer=function(){return this.$el.children("[data-toggle-select]")},e.prototype.checkChildren=function(){var t=this,n=t.model,i=t.clsNoChild,o=t.module,a=o.getComponents(n).length,l=this.getItemContainer(),u=l.find(".".concat(this.clsTitle)),c=l.find("[data-count]");u[a?"removeClass":"addClass"](i),c.html("".concat(a||"")),!a&&o.setOpen(n,!1)},e.prototype.getCaret=function(){return(!this.caret||!this.caret.length)&&(this.caret=this.getItemContainer().find(".".concat(this.clsCaret))),this.caret},e.prototype.setRoot=function(t){var n,i=(0,z.isString)(t)?(n=this.em.getWrapper())===null||n===void 0?void 0:n.find(t)[0]:t;i&&(this.stopListening(),this.model=i,this.initComponent(),this._rendered&&this.render())},e.prototype.updateLayerable=function(){var t=this.parentView,n=t||this;n.render()},e.prototype.__clearItems=function(){var t;(t=this.items)===null||t===void 0||t.remove()},e.prototype.remove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return ne.Ss.prototype.remove.apply(this,t),delete this.model.viewLayer,this.__clearItems(),this},e.prototype.render=function(){var t=this,n=t.model,i=t.config,o=t.pfx,a=t.ppfx,l=t.opt,u=t.sorter;this.__clearItems();var c=l.opened,d=l.module,h=l.ItemView,g=!d.__isLayerable(n),m=this.$el.empty(),b=l.level+1;delete this.inputName,this.items=new c8({ItemView:h,collection:n.get("components"),config:i,sorter:u,opened:c,parentView:this,parent:n,level:b,module:d});var w=this.items.render().$el;return!i.showWrapper&&b===1?m.append(w):(m.html(this.template(n)),m.find(".".concat(this.clsChildren)).append(w)),!d.isVisible(n)&&(this.className+=" ".concat(o,"hide")),g&&(this.className+=" ".concat(a,"hidden")),m.attr("class",this.className),this.updateStatus(),this.updateOpening(),this.updateVisibility(),this.updateMove(),this.__render(),this._rendered=!0,this},e.prototype.__render=function(){var t=this,n=t.model,i=t.config,o=t.el,a=i.onRender,l={component:n,el:o};a.bind(this)(l),this.em.trigger("layer:render",l)},e}(ne.Ss);const _8=y8;var b8=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),T_=function(){return T_=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},T_.apply(this,arguments)},gD="layer",pw="".concat(gD,":"),mD="".concat(pw,"root"),yD="".concat(pw,"component"),w8="".concat(pw,"custom"),S8={all:gD,root:mD,component:yD,custom:w8},Hy={mediaText:""},C8=["open","status","locked","custom-name","components","classes"].map(function(r){return"".concat(mn.I.update,":").concat(r)}).join(" "),x8=function(r){return r===void 0&&(r={}),(r.display||"").trim().indexOf("none")===0},O8=function(r){b8(e,r);function e(t){var n=r.call(this,t,"LayerManager",r8())||this;return n.events=S8,(0,z.bindAll)(n,"componentChanged","__onRootChange","__onComponent"),n.model=new Ps.A(n,{opened:{}}),n.config.stylePrefix=n.config.pStylePrefix,n}return e.prototype.onLoad=function(){var t=this,n=this,i=n.em,o=n.config,a=n.model;a.listenTo(i,"component:selected",this.componentChanged),a.on("change:root",this.__onRootChange),a.listenTo(i,C8,this.__onComponent),this.componentChanged(),a.listenToOnce(i,"load",function(){t.setRoot(o.root),t.__appendTo()})},e.prototype.setRoot=function(t){var n=this.em.getWrapper(),i=(0,Ht.isComponent)(t)?t:n;t&&(0,z.isString)(t)&&(0,Ht.hasWin)()&&(i=n.find(t)[0]||n);var o=this.__getLayerFromComponent(i);return this.model.set("root",o),o},e.prototype.getRoot=function(){return this.model.get("root")},e.prototype.getComponents=function(t){var n=this;return t.components().map(function(i){return n.__getLayerFromComponent(i)}).filter(function(i){return n.__isLayerable(i)})},e.prototype.setOpen=function(t,n){t.set("open",n)},e.prototype.isOpen=function(t){return!!t.get("open")},e.prototype.setVisible=function(t,n){var i="__prev-display",o=t.getStyle(Hy),a=o.display;if(n){var l=t.get(i);delete o.display,l&&(o.display=l,t.unset(i))}else a&&t.set(i,a),o.display="none";t.setStyle(o,Hy),this.updateLayer(t),this.em.trigger("component:toggled")},e.prototype.isVisible=function(t){return!x8(t.getStyle(Hy))},e.prototype.setLocked=function(t,n){t.set("locked",n)},e.prototype.isLocked=function(t){return!!t.get("locked")},e.prototype.setName=function(t,n){t.set("custom-name",n)},e.prototype.getName=function(t){return t.getName()},e.prototype.getLayerData=function(t){var n=t.get("status");return{name:t.getName(),open:this.isOpen(t),selected:n==="selected",hovered:n==="hovered",visible:this.isVisible(t),locked:this.isLocked(t),components:this.getComponents(t)}},e.prototype.setLayerData=function(t,n,i){var o;i===void 0&&(i={});var a=this,l=a.em,u=a.config,c=n.open,d=n.selected,h=n.hovered,g=n.visible,m=n.locked,b=n.name,w=T_({fromLayers:!0},i);if((0,Ht.isDef)(c)&&this.setOpen(t,c),(0,Ht.isDef)(d))if(d){l.setSelected(t,w);var x=u.scrollCanvas;x&&((o=t.views)===null||o===void 0||o.forEach(function(_){return _.scrollIntoView(x)}))}else l.removeSelected(t,w);(0,Ht.isDef)(h)&&u.showHover&&(h?l.setHovered(t,w):l.setHovered(null,w)),(0,Ht.isDef)(g)&&g!==this.isVisible(t)&&this.setVisible(t,g),(0,Ht.isDef)(m)&&this.setLocked(t,m),(0,Ht.isDef)(b)&&this.setName(t,b)},e.prototype.componentChanged=function(t,n){var i;if(n===void 0&&(n={}),!n.fromLayers){var o=this,a=o.em,l=o.config,u=l.scrollLayers,c=this.model.get("opened"),d=a.getSelected(),h=d==null?void 0:d.parent();for(var g in c)c[g].set("open",!1),delete c[g];for(;h;)h.set("open",!0),c[h.cid]=h,h=h.parent();if(d&&u){var m=(i=d.viewLayer)===null||i===void 0?void 0:i.el;m==null||m.scrollIntoView(u)}}},e.prototype.getAll=function(){return this.view},e.prototype.render=function(){var t,n,i=this,o=i.config,a=i.model,l=_8.extend(o.extend);return this.view=new l({el:(t=this.view)===null||t===void 0?void 0:t.el,ItemView:l,level:0,config:o,opened:a.get("opened"),model:this.getRoot(),module:this}),(n=this.view)===null||n===void 0?void 0:n.render().el},e.prototype.destroy=function(){var t;(t=this.view)===null||t===void 0||t.remove()},e.prototype.__onRootChange=function(){var t,n=this.getRoot();(t=this.view)===null||t===void 0||t.setRoot(n),this.em.trigger(mD,n),this.__trgCustom()},e.prototype.__getLayerFromComponent=function(t){var n,i;return((i=(n=t.delegate)===null||n===void 0?void 0:n.layer)===null||i===void 0?void 0:i.call(n,t))||t},e.prototype.__onComponent=function(t){this.updateLayer(t)},e.prototype.__isLayerable=function(t){var n=t.tagName,i=this.config.hideTextnode,o=!i||!t.isInstanceOf("textnode")&&n!=="br";return o&&t.get("layerable")},e.prototype.__trgCustom=function(t){var n=this,i=n.__ctn,o=n.em,a=n.events;this.__ctn=i||(t==null?void 0:t.container),o.trigger(a.custom,{container:this.__ctn,root:this.getRoot()})},e.prototype.updateLayer=function(t,n){this.em.trigger(yD,t,n)},e}(Oi);const E8=O8;var T8=function(){return{assets:[],noAssets:"",stylePrefix:"am-",upload:"",uploadName:"files",headers:{},params:{},credentials:"include",multiUpload:!0,multiUploadSuffix:"[]",autoAdd:!0,customFetch:void 0,uploadFile:void 0,embedAsBase64:!0,handleAdd:void 0,beforeUpload:void 0,showUrlInput:!0,custom:!1,dropzone:!1,openAssetsOnDrop:!0,dropzoneContent:""}};const A8=T8;var D8=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),_D=function(r){D8(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.getDefaults=function(){return(0,z.result)(this.prototype,"defaults")},e.prototype.defaults=function(){return{type:"",src:""}},e.prototype.getType=function(){return this.get("type")},e.prototype.getSrc=function(){return this.get("src")},e.prototype.getFilename=function(){return this.get("src").split("/").pop().split("?").shift()},e.prototype.getExtension=function(){return this.getFilename().split(".").pop()},e}(ne.Kx);const A_=_D;_D.prototype.idAttribute="src";var k8=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),$v=function(){return $v=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},$v.apply(this,arguments)},P8=function(r){k8(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.defaults=function(){return $v($v({},A_.getDefaults()),{type:"image",unitDim:"px",height:0,width:0})},e}(A_);const M8=P8;var R8=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),L8=function(r){R8(e,r);function e(t){var n=r.call(this,t)||this;n.options=t,n.collection=t.collection;var i=t.config||{};n.config=i,n.pfx=i.stylePrefix||"",n.ppfx=i.pStylePrefix||"",n.em=i.em,n.className=n.pfx+"asset",n.listenTo(n.model,"destroy remove",n.remove),n.model.view=n;var o=n.init&&n.init.bind(n);return o&&o(t),n}return e.prototype.__getBhv=function(){var t=this.em,n=t==null?void 0:t.Assets;return(n==null?void 0:n.__getBehaviour())||{}},e.prototype.template=function(t,n){var i=this.pfx;return`
      <div class="`.concat(i,`preview-cont">
        `).concat(this.getPreview(),`
      </div>
      <div class="`).concat(i,`meta">
        `).concat(this.getInfo(),`
      </div>
      <div class="`).concat(i,`close" data-toggle="asset-remove">
        &Cross;
      </div>
    `)},e.prototype.updateTarget=function(t){t&&t.set&&(t.set("attributes",(0,z.clone)(t.get("attributes"))),t.set("src",this.model.get("src")))},e.prototype.getPreview=function(){return""},e.prototype.getInfo=function(){return""},e.prototype.render=function(){var t=this.el;return t.innerHTML=this.template(this,this.model),t.className=this.className,this},e}(ne.Ss);const N8=L8;var j8=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),I1=function(r,e){return Object.defineProperty?Object.defineProperty(r,"raw",{value:e}):r.raw=e,r},bD=function(r){j8(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getPreview=function(){var t=this,n=t.pfx,i=t.ppfx,o=t.model,a=o.get("src");return yi(V1||(V1=I1([`
      <div class="`,`preview" style="background-image: url('`,`');"></div>
      <div class="`,"preview-bg ",`checker-bg"></div>
    `],[`
      <div class="`,`preview" style="background-image: url('`,`');"></div>
      <div class="`,"preview-bg ",`checker-bg"></div>
    `])),n,a,n,i)},e.prototype.getInfo=function(){var t=this,n=t.pfx,i=t.model,o=i.get("name"),a=i.get("width"),l=i.get("height"),u=i.get("unitDim"),c=a&&l?"".concat(a,"x").concat(l).concat(u):"";return o=o||i.getFilename(),yi(U1||(U1=I1([`
      <div class="`,'name">',`</div>
      <div class="`,'dimensions">',`</div>
    `],[`
      <div class="`,'name">',`</div>
      <div class="`,'dimensions">',`</div>
    `])),n,o,n,c)},e.prototype.init=function(t){var n=this.pfx;this.className+=" ".concat(n,"asset-image")},e.prototype.onClick=function(){var t=this,n=t.model,i=t.pfx,o=this.__getBhv().select,a=this.config.onClick,l=this.collection;l.trigger("deselectAll"),this.$el.addClass(i+"highlight"),(0,z.isFunction)(o)?o(n,!1):(0,z.isFunction)(a)?a(n):this.updateTarget(l.target)},e.prototype.onDblClick=function(){var t=this,n=t.em,i=t.model,o=this.__getBhv().select,a=this.config.onDblClick,l=this.collection,u=l.target,c=l.onSelect;(0,z.isFunction)(o)?o(i,!0):(0,z.isFunction)(a)?a(i):(this.updateTarget(u),n==null||n.Modal.close()),(0,z.isFunction)(c)&&c(i)},e.prototype.onRemove=function(t){t.stopImmediatePropagation(),this.model.collection.remove(this.model)},e}(N8);const I8=bD;bD.prototype.events={"click [data-toggle=asset-remove]":"onRemove",click:"onClick",dblclick:"onDblClick"};var V1,U1,Jv=function(){return Jv=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Jv.apply(this,arguments)},V8={types:[],initialize:function(r,e){var t=this;e===void 0&&(e={});var n=e.em;this.em=n,this.opts=e,this.model=function(o,a){o===void 0&&(o={}),a===void 0&&(a={});var l,u,c;if(o&&o.type){var d=t.getBaseType();c=t.getType(o.type),l=c?c.model:d.model,u=c?c.view:d.view}else{var h=t.recognizeType(o);c=h.type,l=c.model,u=c.view,o=h.attributes}var g=new l(o,Jv(Jv({},a),{em:n}));return g.typeView=u,t.model.prototype=l.prototype,g};var i=this.init&&this.init.bind(this);i&&i()},recognizeType:function(r){for(var e=this.getTypes(),t=0;t<e.length;t++){var n=e[t],i=n.isType(r);if(i=typeof i=="boolean"&&i?{type:n.id}:i,i)return{type:n,attributes:i}}return{type:this.getBaseType(),attributes:r}},getBaseType:function(){var r=this.getTypes();return r[r.length-1]},getTypes:function(){return this.types},getType:function(r){for(var e=this.getTypes(),t=0;t<e.length;t++){var n=e[t];if(n.id===r)return n}},addType:function(r,e){var t=this.getType(r),n=this.getBaseType(),i=t?t.model:n.model,o=t?t.view:n.view,a=e.model,l=e.view,u=e.isType;a=a instanceof ne.Kx||(0,z.isFunction)(a)?a:i.extend(a||{}),l=l instanceof ne.Ss||(0,z.isFunction)(l)?l:o.extend(l||{}),this.extendViewApi&&!e.model&&!e.view&&(l=l.extend(e)),t?(t.model=a,t.view=l,t.isType=u||t.isType):(e.id=r,e.model=a,e.view=l,e.isType=u||function(c){if(c&&c.type==r)return!0},this.getTypes().unshift(e))}};const wD=V8;var U8=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),B8=ne.pM.extend(wD),SD=function(r){U8(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e}(B8);const Wy=SD;SD.prototype.types=[{id:"image",model:M8,view:I8,isType:function(r){return typeof r=="string"?{type:"image",src:r}:r}}];var D_;(function(r){r.add="asset:add",r.remove="asset:remove",r.removeBefore="asset:remove:before",r.update="asset:update",r.open="asset:open",r.close="asset:close",r.uploadStart="asset:upload:start",r.uploadEnd="asset:upload:end",r.uploadError="asset:upload:error",r.uploadResponse="asset:upload:response",r.custom="asset:custom",r.all="asset"})(D_||(D_={}));const B1=D_;var F8=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),CD=function(r){F8(e,r);function e(t){t===void 0&&(t={});var n=r.call(this,t)||this;n.options=t,n.config=t.config,n.pfx=n.config.stylePrefix||"",n.ppfx=n.config.pStylePrefix||"",n.em=n.config.em;var i=n.collection;return n.listenTo(i,"reset",n.renderAssets),n.listenTo(i,"add",n.addToAsset),n.listenTo(i,"remove",n.removedAsset),n.listenTo(i,"deselectAll",n.deselectAll),n}return e.prototype.template=function(t){var n=t.pfx,i=t.ppfx,o=t.em,a="";return this.config.showUrlInput&&(a=`
          <form class="`.concat(n,`add-asset">
            <div class="`).concat(i,"field ").concat(n,`add-field">
              <input placeholder="`).concat(o==null?void 0:o.t("assetManager.inputPlh"),`"/>
            </div>
            <button class="`).concat(i,'btn-prim">').concat(o==null?void 0:o.t("assetManager.addButton"),`</button>
            <div style="clear:both"></div>
          </form>
      `)),`
    <div class="`.concat(n,`assets-cont">
      <div class="`).concat(n,`assets-header">
        `).concat(a,`
      </div>
      <div class="`).concat(n,`assets" data-el="assets"></div>
      <div style="clear:both"></div>
    </div>
    `)},e.prototype.handleSubmit=function(t){t.preventDefault();var n=this.getAddInput(),i=n&&n.value.trim(),o=this.config.handleAdd;if(i){n.value="";var a=this.getAssetsEl();a&&(a.scrollTop=0),o?o.bind(this)(i):this.options.globalCollection.add(i,{at:0})}},e.prototype.getAssetsEl=function(){return this.el.querySelector(".".concat(this.pfx,"assets"))},e.prototype.getAddInput=function(){return(!this.inputUrl||!this.inputUrl.value)&&(this.inputUrl=this.el.querySelector(".".concat(this.pfx,"add-asset input"))),this.inputUrl},e.prototype.removedAsset=function(t){this.collection.length||this.toggleNoAssets()},e.prototype.addToAsset=function(t){this.collection.length==1&&this.toggleNoAssets(!0),this.addAsset(t)},e.prototype.addAsset=function(t,n){n===void 0&&(n=null);var i=n,o=this.collection,a=this.config,l=new t.typeView({model:t,collection:o,config:a}).render().el;if(i)i.appendChild(l);else{var u=this.getAssetsEl();u&&u.insertBefore(l,u.firstChild)}return l},e.prototype.toggleNoAssets=function(t){t===void 0&&(t=!1);var n=this.$el.find(".".concat(this.pfx,"assets"));if(t)n.empty();else{var i=this.config.noAssets;i&&n.append(i)}},e.prototype.deselectAll=function(){var t=this.pfx;this.$el.find(".".concat(t,"highlight")).removeClass("".concat(t,"highlight"))},e.prototype.renderAssets=function(){var t=this,n=document.createDocumentFragment(),i=this.$el.find(".".concat(this.pfx,"assets"));i.empty(),this.toggleNoAssets(!!this.collection.length),this.collection.each(function(o){return t.addAsset(o,n)}),i.append(n)},e.prototype.render=function(){var t=this.options.fu.render().el;return this.$el.empty(),this.$el.append(t).append(this.template(this)),this.el.className="".concat(this.ppfx,"asset-manager"),this.renderAssets(),this},e}(ne.Ss);const z8=CD;CD.prototype.events={submit:"handleSubmit"};var H8=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),W8=function(r,e){return Object.defineProperty?Object.defineProperty(r,"raw",{value:e}):r.raw=e,r},K8=function(r){H8(e,r);function e(t){t===void 0&&(t={});var n=r.call(this,t)||this;n.options=t;var i=t.config||{};n.module=t.module,n.config=i,n.em=n.config.em,n.pfx=i.stylePrefix||"",n.ppfx=i.pStylePrefix||"",n.target=n.options.globalCollection||{},n.uploadId=n.pfx+"uploadFile",n.disabled=i.disableUpload!==void 0?i.disableUpload:!i.upload&&!i.embedAsBase64,n.multiUpload=i.multiUpload!==void 0?i.multiUpload:!0;var o=i.uploadFile;return o?n.uploadFile=o.bind(n):!i.upload&&i.embedAsBase64&&(n.uploadFile=e.embedAsBase64),n.delegateEvents(),n}return e.prototype.template=function(t){var n=t.pfx,i=t.title,o=t.uploadId,a=t.disabled,l=t.multiUpload;return yi(F1||(F1=W8([`
      <form>
        <div id="`,'title">',`</div>
        <input
          data-input
          type="file"
          id="`,`"
          name="file"
          accept="*/*"
          `,`
          `,`
        />
        <div style="clear:both;"></div>
      </form>
    `],[`
      <form>
        <div id="`,'title">',`</div>
        <input
          data-input
          type="file"
          id="`,`"
          name="file"
          accept="*/*"
          `,`
          `,`
        />
        <div style="clear:both;"></div>
      </form>
    `])),n,i,o,a?"disabled":"",l?"multiple":"")},e.prototype.events=function(){return{"change [data-input]":"uploadFile"}},e.prototype.onUploadStart=function(){var t=this.module;t==null||t.__propEv(t.events.uploadStart)},e.prototype.onUploadEnd=function(t){var n=this,i=n.$el,o=n.module;o==null||o.__propEv(o.events.uploadEnd,t);var a=i.find("input");a&&a.val("")},e.prototype.onUploadError=function(t){var n=this.module;console.error(t),this.onUploadEnd(t),n==null||n.__propEv(n.events.uploadError,t)},e.prototype.onUploadResponse=function(t,n){var i=this,o=i.module,a=i.config,l=i.target,u;try{u=typeof t=="string"?JSON.parse(t):t}catch{u=t}o==null||o.__propEv(o.events.uploadResponse,u),a.autoAdd&&l&&l.add(u.data,{at:0}),this.onUploadEnd(t),n==null||n(u)},e.prototype.uploadFile=function(t,n){var i=this,o=t.dataTransfer?t.dataTransfer.files:t.target.files,a=this.config,l=a.beforeUpload,u=l&&l(o);if(u!==!1){var c=new FormData,d=a.params,h=a.customFetch,g=a.fetchOptions;for(var m in d)c.append(m,d[m]);if(this.multiUpload)for(var b=0;b<o.length;b++)c.append("".concat(a.uploadName).concat(a.multiUploadSuffix),o[b]);else o.length&&c.append(a.uploadName,o[0]);var w=a.upload,x=a.headers,_="X-Requested-With";if(typeof x[_]>"u"&&(x[_]="XMLHttpRequest"),w){this.onUploadStart();var C={method:"post",credentials:a.credentials||"include",headers:x,body:c},O=(g==null?void 0:g(C))||C,A=h?h(w,O):iD(w,O).then(function(I){return(I.status/200|0)==1?I.text():I.text().then(function(Q){return Promise.reject(Q)})});return A.then(function(I){return i.onUploadResponse(I,n)}).catch(function(I){return i.onUploadError(I)})}}},e.prototype.initDrop=function(){var t=this;if(!this.uploadForm){this.uploadForm=this.$el.find("form").get(0);var n=this.uploadForm;"draggable"in n&&(this.uploadForm.ondragover=function(){return n.className=t.pfx+"hover",!1},this.uploadForm.ondragleave=function(){return n.className="",!1},this.uploadForm.ondrop=function(i){n.className="",i.preventDefault(),t.uploadFile(i)})}},e.prototype.initDropzone=function(t){var n=this,i=0,o=this.config,a=t.model,l=t.el,u=a.Editor,c=a.Canvas.getBody(),d=this.ppfx,h="".concat(d,"dropzone-active"),g="".concat(d,"dropzone"),m=function(){l.className=l.className.replace(h,"").trim(),i=0},b=function(){return i||(l.className+=" ".concat(h),i=1),!1},w=function(){return m(),!1},x=function(_){if(m(),_.preventDefault(),_.stopPropagation(),n.uploadFile(_),o.openAssetsOnDrop&&u){var C=u.getSelected();u.runCommand("open-assets",{target:C,onSelect:function(){u.Modal.close(),u.AssetManager.setTarget(null)}})}return!1};t.$el.append('<div class="'.concat(g,'">').concat(o.dropzoneContent,"</div>")),m(),"draggable"in l&&[l,c].forEach(function(_){_.ondragover=b,_.ondragleave=w,_.ondrop=x})},e.prototype.render=function(){var t=this,n=t.$el,i=t.pfx,o=t.em;return n.html(this.template({title:o&&o.t("assetManager.uploadTitle"),uploadId:this.uploadId,disabled:this.disabled,multiUpload:this.multiUpload,pfx:i})),this.initDrop(),n.attr("class",i+"file-uploader"),this},e.embedAsBase64=function(t,n){var i=this,o=t.dataTransfer?t.dataTransfer.files:t.target.files,a={data:[]};if(!FileReader){this.onUploadError(new Error("Unsupported platform, FileReader is not defined"));return}for(var l=[],u=/^(.+)\/(.+)$/,c=function(m){var b=new Promise(function(w,x){var _=new FileReader;_.addEventListener("load",function(C){var O,A=m.name,I=u.exec(m.type);if(I?O=I[1]:O=m.type,O==="image"){var Q={src:_.result,name:A,type:O,height:0,width:0},$=new Image;$.addEventListener("error",function(Z){x(Z)}),$.addEventListener("load",function(){Q.height=$.height,Q.width=$.width,w(Q)}),$.src=Q.src}else w(O?{src:_.result,name:A,type:O}:_.result)}),_.addEventListener("error",function(C){x(C)}),_.addEventListener("abort",function(C){x("Aborted")}),_.readAsDataURL(m)});l.push(b)},d=0,h=o;d<h.length;d++){var g=h[d];c(g)}return Promise.all(l).then(function(m){a.data=m,i.onUploadResponse(a,n)},function(m){i.onUploadError(m)})},e}(ne.Ss);const q8=K8;var F1,G8=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Mu=function(){return Mu=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Mu.apply(this,arguments)},z1=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))},vf="open-assets",Y8=function(r){G8(e,r);function e(t){var n=r.call(this,t,"AssetManager",new Wy([],t),B1,A8())||this;n.storageKey="assets",n.Asset=A_,n.Assets=Wy,n.events=B1;var i=n,o=i.all,a=i.config;n.assetsVis=new Wy([]);var l=a.pStylePrefix;return l&&(a.stylePrefix="".concat(l).concat(a.stylePrefix)),o.on("add",function(u){return n.getAllVisible().add(u)}),o.on("remove",function(u){return n.getAllVisible().remove(u)}),n.__onAllEvent=(0,z.debounce)(function(){return n.__trgCustom()},0),n}return e.prototype.open=function(t){t===void 0&&(t={});var n=this.em.Commands;n.run(vf,Mu({types:["image"],select:function(){}},t))},e.prototype.close=function(){var t=this.em.Commands;t.stop(vf)},e.prototype.isOpen=function(){var t=this.em.Commands;return!!(t!=null&&t.isActive(vf))},e.prototype.add=function(t,n){return n===void 0&&(n={}),typeof n.at>"u"&&(n.at=0),this.all.add(t,n)},e.prototype.get=function(t){return this.all.where({src:t})[0]||null},e.prototype.getAll=function(){return this.all},e.prototype.getAllVisible=function(){return this.assetsVis},e.prototype.remove=function(t,n){return this.__remove(t,n)},e.prototype.store=function(){return this.getProjectData()},e.prototype.load=function(t){return this.loadProjectData(t)},e.prototype.getContainer=function(){var t,n=this.__getBehaviour();return n.container||((t=this.am)===null||t===void 0?void 0:t.el)},e.prototype.getAssetsEl=function(){var t;return(t=this.am)===null||t===void 0?void 0:t.el.querySelector("[data-el=assets]")},e.prototype.render=function(t){if(!this.getConfig().custom){var n=t||this.getAll().models;if(!this.am){var i=this.__viewParams();i.fu=this.FileUploader(),this.am=new z8(Mu({},i)),this.am.render()}return this.assetsVis.reset(n),this.getContainer()}},e.prototype.__viewParams=function(){return{collection:this.assetsVis,globalCollection:this.all,config:this.config,module:this,fu:void 0}},e.prototype.addType=function(t,n){this.getAll().addType(t,n)},e.prototype.getType=function(t){return this.getAll().getType(t)},e.prototype.getTypes=function(){return this.getAll().getTypes()},e.prototype.AssetsView=function(){return this.am},e.prototype.FileUploader=function(){return this.fu||(this.fu=new q8(this.__viewParams())),this.fu},e.prototype.onLoad=function(){var t=this;this.getAll().reset(this.config.assets);var n=this,i=n.em,o=n.events;i.Commands.__onRun(vf,function(){return t.__propEv(o.open)}),i.Commands.__onStop(vf,function(){return t.__propEv(o.close)})},e.prototype.postRender=function(t){var n;this.config.dropzone&&((n=this.fu)===null||n===void 0||n.initDropzone(t))},e.prototype.setTarget=function(t){this.assetsVis.target=t},e.prototype.onSelect=function(t){this.assetsVis.onSelect=t},e.prototype.onClick=function(t){this.config.onClick=t},e.prototype.onDblClick=function(t){this.config.onDblClick=t},e.prototype.__propEv=function(t){for(var n,i,o=[],a=1;a<arguments.length;a++)o[a-1]=arguments[a];(n=this.em).trigger.apply(n,z1([t],o,!1)),(i=this.getAll()).trigger.apply(i,z1([t],o,!1))},e.prototype.__trgCustom=function(){var t=this.__getBehaviour(),n=this.getConfig().custom;!t.container&&!n.open||this.em.trigger(this.events.custom,this.__customData())},e.prototype.__customData=function(){var t=this,n=this.__getBehaviour();return{am:this,open:this.isOpen(),assets:this.getAll().models,types:n.types||[],container:n.container,close:function(){return t.close()},remove:function(i,o){return t.remove(i,o)},select:function(i,o){var a=t.add(i);(0,z.isFunction)(n.select)&&n.select(a,o)},options:n.options||{}}},e.prototype.__behaviour=function(t){return t===void 0&&(t={}),this._bhv=Mu(Mu({},this._bhv||{}),t)},e.prototype.__getBehaviour=function(t){return this._bhv||{}},e.prototype.destroy=function(){var t,n;this.all.stopListening(),this.all.reset(),this.assetsVis.stopListening(),this.assetsVis.reset(),(t=this.fu)===null||t===void 0||t.remove(),(n=this.am)===null||n===void 0||n.remove(),this._bhv={}},e}(Ra);const X8=Y8;var Z8=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),$8=function(r){Z8(e,r);function e(t,n){n===void 0&&(n={});var i=r.call(this,t,n)||this,o=n.em,a={};i.em=o,t.frames||(a.component=t.component,a.styles=t.styles,["component","styles"].map(function(c){return i.unset(c)}));var l=t.frames||[a],u=new p2(o.Canvas,l);return u.page=i,i.set("frames",u),!i.getId()&&i.set("id",o==null?void 0:o.Pages._createId()),o==null||o.UndoManager.add(u),i}return e.prototype.defaults=function(){return{name:"",frames:[],_undo:!0}},e.prototype.onRemove=function(){this.getFrames().reset()},e.prototype.getFrames=function(){return this.get("frames")},e.prototype.getId=function(){return this.id},e.prototype.getName=function(){return this.get("name")},e.prototype.setName=function(t){return this.set({name:t})},e.prototype.getAllFrames=function(){return this.getFrames().models||[]},e.prototype.getMainFrame=function(){return this.getFrames().at(0)},e.prototype.getMainComponent=function(){var t=this.getMainFrame();return t==null?void 0:t.getComponent()},e.prototype.toJSON=function(t){t===void 0&&(t={});var n=ne.Kx.prototype.toJSON.call(this,t),i=(0,z.result)(this,"defaults");return(0,z.forEach)(n,function(o,a){a.indexOf("_")===0&&delete n[a]}),(0,z.forEach)(i,function(o,a){n[a]===o&&delete n[a]}),n},e}(ne.Kx);const k_=$8;var J8=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Qv=function(){return Qv=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Qv.apply(this,arguments)},Q8=function(r){J8(e,r);function e(t,n){var i=r.call(this,t)||this;return i.on("reset",i.onReset),i.on("remove",i.onRemove),i.model=function(o,a){return a===void 0&&(a={}),new k_(o,Qv(Qv({},a),{em:n}))},i}return e.prototype.onReset=function(t,n){var i=this,o;(o=n==null?void 0:n.previousModels)===null||o===void 0||o.map(function(a){return i.onRemove(a,i,n)})},e.prototype.onRemove=function(t,n,i){i===void 0&&(i={}),!(i.fromUndo||i.temporary)&&(t==null||t.onRemove())},e}(ne.pM);const tF=Q8;var eF=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ru=function(){return Ru=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Ru.apply(this,arguments)},nF=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t},rF=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))},H1="change:selected",W1="main",iF=function(r){eF(e,r);function e(t){var n=r.call(this,t,"PageManager",new tF([],t),d_)||this;n.events=d_,n.storageKey="pages",(0,z.bindAll)(n,"_onPageChange");var i=new Ps.A(n,{_undo:!0});return n.model=i,n.pages.on("reset",function(o){return o.at(0)&&n.select(o.at(0))}),n.pages.on("all",n.__onChange,n),i.on(H1,n._onPageChange),n}return Object.defineProperty(e.prototype,"pages",{get:function(){return this.all},enumerable:!1,configurable:!0}),e.prototype.getAll=function(){return rF([],this.all.models,!0)},e.prototype.__onChange=function(t,n,i,o){var a=this,l=a.em,u=a.events,c=o||i;l.trigger(u.all,{event:t,page:n,options:c})},e.prototype.onLoad=function(){var t,n=this,i=n.pages,o=n.config,a=n.em,l={silent:!0},u=((t=o.pages)===null||t===void 0?void 0:t.map(function(d){return new k_(d,{em:a,config:o})}))||[];i.add(u,l);var c=i.length?this._initPage():this.add({type:W1},l);c&&this.select(c,l)},e.prototype._onPageChange=function(t,n,i){var o=this,a=o.em,l=o.events,u=a.Layers,c=n.getMainComponent();u&&c&&u.setRoot(c),a.trigger(l.select,n,t.previous("selected")),this.__onChange(H1,n,i)},e.prototype.postLoad=function(){var t=this,n=t.em,i=t.model,o=t.pages,a=n.UndoManager;a.add(i),a.add(o),o.on("add remove reset change",function(l,u,c){return n.changesUp(c||u)})},e.prototype.add=function(t,n){var i=this;n===void 0&&(n={});var o=this,a=o.em,l=o.events;t.id=t.id||this._createId();var u=function(){var c=i.pages.add(new k_(t,{em:i.em,config:i.config}),n);return n.select&&i.select(c),c};return!n.silent&&a.trigger(l.addBefore,t,u,n),n.abort?void 0:u()},e.prototype.remove=function(t,n){var i=this;n===void 0&&(n={});var o=this,a=o.em,l=o.events,u=(0,z.isString)(t)?this.get(t):t,c=function(){return u&&i.pages.remove(u,n),u};return!n.silent&&a.trigger(l.removeBefore,u,c,n),!n.abort&&c()},e.prototype.move=function(t,n){n===void 0&&(n={});var i=this.pages,o=(0,z.isString)(t)?this.get(t):t,a=n.at,l=a===void 0?0:a,u=nF(n,["at"]);if(o){var c=i.indexOf(o),d=c===l;if(!(l<0||l>=i.length||d))return this.remove(o,Ru(Ru({},u),{temporary:!0})),i.add(o,Ru(Ru({},u),{at:l})),o}},e.prototype.get=function(t){return this.pages.filter(function(n){return n.get(n.idAttribute)===t})[0]},e.prototype.getMain=function(){var t=this.pages;return t.filter(function(n){return n.get("type")===W1})[0]||t.at(0)},e.prototype.getAllWrappers=function(){var t=this.getAll();return(0,z.unique)((0,z.flatten)(t.map(function(n){return n.getAllFrames().map(function(i){return i.getComponent()})})))},e.prototype.select=function(t,n){n===void 0&&(n={});var i=this,o=i.em,a=i.model,l=i.events,u=(0,z.isString)(t)?this.get(t):t;return u&&(o.trigger(l.selectBefore,u,n),a.set("selected",u,n)),this},e.prototype.getSelected=function(){return this.model.get("selected")},e.prototype.destroy=function(){var t=this;this.pages.off().reset(),this.model.stopListening(),this.model.clear({silent:!0}),["selected","model"].map(function(n){return t[n]=0})},e.prototype.store=function(){return this.getProjectData()},e.prototype.load=function(t){var n=this.loadProjectData(t,{all:this.pages,reset:!0});return this.pages.forEach(function(i){return i.getFrames().initRefs()}),n},e.prototype._initPage=function(){return this.get(this.config.selected)||this.getMain()},e.prototype._createId=function(){var t=this.getAll(),n=t.length+16,i=this.getAllMap(),o;do o=(0,Ht.createId)(n);while(i[o]);return o},e}(Ra);const oF=iF;var Ky={placeholder:"eg. Text here"};const aF={assetManager:{addButton:"Add image",inputPlh:"http://path/to/the/image.jpg",modalTitle:"Select Image",uploadTitle:"Drop files here or click to upload"},blockManager:{labels:{},categories:{}},domComponents:{names:{"":"Box",wrapper:"Body",text:"Text",comment:"Comment",image:"Image",video:"Video",label:"Label",link:"Link",map:"Map",tfoot:"Table foot",tbody:"Table body",thead:"Table head",table:"Table",row:"Table row",cell:"Table cell"}},deviceManager:{device:"Device",devices:{desktop:"Desktop",tablet:"Tablet",mobileLandscape:"Mobile Landscape",mobilePortrait:"Mobile Portrait"}},panels:{buttons:{titles:{preview:"Preview",fullscreen:"Fullscreen","sw-visibility":"View components","export-template":"View code","open-sm":"Open Style Manager","open-tm":"Settings","open-layers":"Open Layer Manager","open-blocks":"Open Blocks"}}},selectorManager:{label:"Classes",selected:"Selected",emptyState:"- State -",states:{hover:"Hover",active:"Click","nth-of-type(2n)":"Even/Odd"}},styleManager:{empty:"Select an element before using Style Manager",layer:"Layer",fileButton:"Images",sectors:{general:"General",layout:"Layout",typography:"Typography",decorations:"Decorations",extra:"Extra",flex:"Flex",dimension:"Dimension"},properties:{"text-shadow-h":"X","text-shadow-v":"Y","text-shadow-blur":"Blur","text-shadow-color":"Color","box-shadow-h":"X","box-shadow-v":"Y","box-shadow-blur":"Blur","box-shadow-spread":"Spread","box-shadow-color":"Color","box-shadow-type":"Type","margin-top-sub":"Top","margin-right-sub":"Right","margin-bottom-sub":"Bottom","margin-left-sub":"Left","padding-top-sub":"Top","padding-right-sub":"Right","padding-bottom-sub":"Bottom","padding-left-sub":"Left","border-width-sub":"Width","border-style-sub":"Style","border-color-sub":"Color","border-top-left-radius-sub":"Top Left","border-top-right-radius-sub":"Top Right","border-bottom-right-radius-sub":"Bottom Right","border-bottom-left-radius-sub":"Bottom Left","transform-rotate-x":"Rotate X","transform-rotate-y":"Rotate Y","transform-rotate-z":"Rotate Z","transform-scale-x":"Scale X","transform-scale-y":"Scale Y","transform-scale-z":"Scale Z","transition-property-sub":"Property","transition-duration-sub":"Duration","transition-timing-function-sub":"Timing","background-image-sub":"Image","background-repeat-sub":"Repeat","background-position-sub":"Position","background-attachment-sub":"Attachment","background-size-sub":"Size"}},traitManager:{empty:"Select an element before using Trait Manager",label:"Component settings",categories:{},traits:{labels:{},attributes:{id:Ky,alt:Ky,title:Ky,href:{placeholder:"eg. https://google.com"}},options:{target:{false:"This window",_blank:"New window"}}}},storageManager:{recover:"Do you want to recover unsaved changes?"}};var sF=function(){return{locale:"en",localeFallback:"en",detectLocale:!0,debug:!1,messages:{en:aF},messagesAdd:void 0}};const lF=sF;var P_;(function(r){r.add="i18n:add",r.update="i18n:update",r.locale="i18n:locale"})(P_||(P_={}));const uF=P_;var cF=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),fF=function(r){cF(e,r);function e(t){var n=r.call(this,t,"I18n",lF())||this;n.events=uF;var i=n.config.messagesAdd;return i&&n.addMessages(i),n.config.detectLocale&&(n.config.locale=n._localLang()),n}return e.prototype.setLocale=function(t){var n=this,i=n.em,o=n.config,a=n.events;return i.trigger(a.locale,{value:t,valuePrev:o.locale}),o.locale=t,this},e.prototype.getLocale=function(){return this.config.locale},e.prototype.getMessages=function(t,n){n===void 0&&(n={});var i=this.config.messages;return t&&!i[t]&&this._debug("'".concat(t,"' i18n lang not found"),n),t?i[t]:i},e.prototype.setMessages=function(t){var n=this,i=n.em,o=n.config,a=n.events;return o.messages=t,i.trigger(a.update,t),this},e.prototype.addMessages=function(t){var n=this,i=n.em,o=n.events,a=n.config,l=a.messages;return i.trigger(o.add,t),this.setMessages((0,Ht.deepMerge)(l,t)),this},e.prototype.t=function(t,n){n===void 0&&(n={});var i=this.config,o=n.params||{},a=n.l||this.getLocale(),l=n.lFlb||i.localeFallback,u=this._getMsg(t,a,n);return u||(u=this._getMsg(t,l,n)),!u&&this._debug("'".concat(t,"' i18n key not found in '").concat(a,"' lang"),n),u=u&&(0,z.isString)(u)?this._addParams(u,o):u,u},e.prototype._localLang=function(){var t=(0,Ht.hasWin)()&&window.navigator||{},n=t.language||t.userLanguage;return n?n.split("-")[0]:"en"},e.prototype._addParams=function(t,n){var i=new RegExp("{([\\w\\d-]*)}","g");return t.replace(i,function(o,a){return n[a]||""}).trim()},e.prototype._getMsg=function(t,n,i){i===void 0&&(i={});var o=this.getMessages(n,i);if(o){var a=o[t];return!a&&t.indexOf(".")>0&&(a=t.split(".").reduce(function(l,u){if(!(0,z.isUndefined)(l))return l[u]},o)),a}},e.prototype._debug=function(t,n){n===void 0&&(n={});var i=this,o=i.em,a=i.config;(n.debug||a.debug)&&o&&o.logWarning(t)},e.prototype.destroy=function(){},e}(Oi);const dF=fF;var rl=function(){return rl=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},rl.apply(this,arguments)},hF=function(r,e){e===void 0&&(e={});var t=e.prefix||"",n=document.createElement("i");return n.className=t+"resizer-h "+t+"resizer-h-"+r,n.setAttribute("data-"+t+"handler",r),n},pF=function(r,e){var t=window,n=r.getBoundingClientRect();return{left:n.left+t.pageXOffset,top:n.top+t.pageYOffset,width:n.width,height:n.height}},vF=function(){function r(e){e===void 0&&(e={}),this.defOpts={ratioDefault:!1,onUpdateContainer:function(){},step:1,minDim:10,maxDim:1/0,unitHeight:"px",unitWidth:"px",keyHeight:"height",keyWidth:"width",currentUnit:!0,silentFrames:!1,avoidContainerUpdate:!1,keepAutoHeight:!1,keepAutoWidth:!1,autoHeight:!1,autoWidth:!1,tl:!0,tc:!0,tr:!0,cl:!0,cr:!0,bl:!0,bc:!0,br:!0},this.opts=rl({},this.defOpts),this.setOptions(e),(0,z.bindAll)(this,"handleKeyDown","handleMouseDown","move","stop")}return r.prototype.getConfig=function(){return this.opts},r.prototype.setOptions=function(e,t){e===void 0&&(e={}),this.opts=rl(rl({},t?this.defOpts:this.opts),e),this.setup()},r.prototype.setup=function(){var e=this.opts,t=e.prefix||"",n=e.appendTo||document.body,i=this.container;for(i||(i=document.createElement("div"),i.className="".concat(t,"resizer-c"),n.appendChild(i),this.container=i);i.firstChild;)i.removeChild(i.firstChild);var o={};["tl","tc","tr","cl","cr","bl","bc","br"].forEach(function(u){return o[u]=e[u]?hF(u,e):null});for(var a in o){var l=o[a];l&&i.appendChild(l)}this.handlers=o,this.mousePosFetcher=e.mousePosFetcher,this.updateTarget=e.updateTarget,this.posFetcher=e.posFetcher,this.onStart=e.onStart,this.onMove=e.onMove,this.onEnd=e.onEnd,this.onUpdateContainer=e.onUpdateContainer},r.prototype.toggleFrames=function(e){if(this.opts.silentFrames){var t=document.querySelectorAll("iframe");(0,z.each)(t,function(n){return n.style.pointerEvents=e?"none":""})}},r.prototype.isHandler=function(e){var t=this.handlers;for(var n in t)if(t[n]===e)return!0;return!1},r.prototype.getFocusedEl=function(){return this.el},r.prototype.getParentEl=function(){var e;return(e=this.el)===null||e===void 0?void 0:e.parentElement},r.prototype.getDocumentEl=function(){return[this.el.ownerDocument,document]},r.prototype.getElementPos=function(e,t){t===void 0&&(t={});var n=this.posFetcher;return n?n(e,t):pF(e)},r.prototype.focus=function(e){e&&e===this.el||(this.el=e,this.updateContainer({forceShow:!0}),(0,le.on)(this.getDocumentEl(),"pointerdown",this.handleMouseDown))},r.prototype.blur=function(){this.container.style.display="none",this.el&&((0,le.AU)(this.getDocumentEl(),"pointerdown",this.handleMouseDown),delete this.el)},r.prototype.start=function(e){var t=e;if(t.button===0){t.preventDefault(),t.stopPropagation();var n=this.el,i=this.getParentEl(),o=this,a=this.opts||{},l=this.mousePosFetcher,u="data-"+a.prefix+"handler",c=this.getElementPos(n,{avoidFrameZoom:!0,avoidFrameOffset:!0}),d=this.getElementPos(i),h=t.target;this.handlerAttr=h.getAttribute(u),this.clickedHandler=h,this.startDim={t:c.top,l:c.left,w:c.width,h:c.height},this.rectDim={t:c.top,l:c.left,w:c.width,h:c.height},this.startPos=l?l(t):{x:t.clientX,y:t.clientY},this.parentDim={t:d.top,l:d.left,w:d.width,h:d.height};var g=this.getDocumentEl();this.docs=g,(0,le.on)(g,"pointermove",this.move),(0,le.on)(g,"keydown",this.handleKeyDown),(0,le.on)(g,"pointerup",this.stop),(0,z.isFunction)(this.onStart)&&this.onStart(t,{docs:g,config:a,el:n,resizer:o}),this.toggleFrames(!0),this.move(t)}},r.prototype.move=function(e){var t=e,n=this.onMove,i=this.mousePosFetcher,o=i?i(t):{x:t.clientX,y:t.clientY};this.currentPos=o,this.delta={x:o.x-this.startPos.x,y:o.y-this.startPos.y},this.keys={shift:t.shiftKey,ctrl:t.ctrlKey,alt:t.altKey},this.rectDim=this.calc(this),this.updateRect(!1),n&&n(t)},r.prototype.stop=function(e){var t=this.el,n=this.opts,i=this.docs||this.getDocumentEl();(0,le.AU)(i,"pointermove",this.move),(0,le.AU)(i,"keydown",this.handleKeyDown),(0,le.AU)(i,"pointerup",this.stop),this.updateRect(!0),this.toggleFrames(),(0,z.isFunction)(this.onEnd)&&this.onEnd(e,{docs:i,config:n,el:t,resizer:this}),delete this.docs},r.prototype.updateRect=function(e){var t=this.el,n=this,i=this.opts,o=this.rectDim,a=this.updateTarget,l=this.getSelectedHandler(),u=i.unitHeight,c=i.unitWidth,d=i.keyWidth,h=i.keyHeight;if((0,z.isFunction)(a))a(t,o,{store:e,selectedHandler:l,resizer:n,config:i});else{var g=t.style;g[d]=o.w+c,g[h]=o.h+u}this.updateContainer()},r.prototype.updateContainer=function(e){var t;e===void 0&&(e={});var n=this,i=n.opts,o=n.container,a=n.el,l=o.style;!i.avoidContainerUpdate&&a&&e.forceShow&&(l.display="block"),(t=this.onUpdateContainer)===null||t===void 0||t.call(this,{el:o,resizer:this,opts:rl(rl({},i),e)})},r.prototype.getSelectedHandler=function(){var e=this.handlers;if(this.selectedHandler){for(var t in e)if(e[t]===this.selectedHandler)return t}},r.prototype.handleKeyDown=function(e){e.keyCode===27&&(this.rectDim=this.startDim,this.stop(e))},r.prototype.handleMouseDown=function(e){var t=e.target;this.isHandler(t)?(this.selectedHandler=t,this.start(e)):t!==this.el&&(delete this.selectedHandler,this.blur())},r.prototype.calc=function(e){var t,n=this.opts||{},i=n.step,o=this.startDim,a=n.minDim,l=n.maxDim,u=e.delta.x,c=e.delta.y,d=this.parentDim.w,h=this.parentDim.h,g=this.opts.unitWidth,m=this.opts.unitHeight,b=this.getParentRect(),w=g==="%"?o.w/100*d:o.w,x=m==="%"?o.h/100*h:o.h,_={t:o.t-b.top,l:o.l-b.left,w,h:x};if(e){var C=e.handlerAttr;~C.indexOf("r")&&(t=g==="%"?(0,Ht.normalizeFloat)((w+u*i)/d*100,.01):(0,Ht.normalizeFloat)(w+u*i,i),t=Math.max(a,t),l&&(t=Math.min(l,t)),_.w=t),~C.indexOf("b")&&(t=m==="%"?(0,Ht.normalizeFloat)((x+c*i)/h*100,.01):(0,Ht.normalizeFloat)(x+c*i,i),t=Math.max(a,t),l&&(t=Math.min(l,t)),_.h=t),~C.indexOf("l")&&(t=g==="%"?(0,Ht.normalizeFloat)((w-u*i)/d*100,.01):(0,Ht.normalizeFloat)(w-u*i,i),t=Math.max(a,t),l&&(t=Math.min(l,t)),_.w=t),~C.indexOf("t")&&(t=m==="%"?(0,Ht.normalizeFloat)((x-c*i)/h*100,.01):(0,Ht.normalizeFloat)(x-c*i,i),t=Math.max(a,t),l&&(t=Math.min(l,t)),_.h=t);var O=n.ratioDefault?!e.keys.shift:e.keys.shift;if(C.indexOf("c")<0&&O){var A=o.w/o.h;_.w/_.h>A?_.h=Math.round(_.w/A):_.w=Math.round(_.h*A)}~C.indexOf("l")&&(_.l+=o.w-_.w),~C.indexOf("t")&&(_.t+=o.h-_.h);for(var I in _){var Q=I;_[Q]=parseInt("".concat(_[Q]),10)}return _}},r.prototype.getParentRect=function(){var e={left:0,top:0,width:0,height:0},t=this.el;if(!t)return e;var n=t.offsetParent;return n&&n.tagName!=="BODY"&&(e=this.getElementPos(n)),e},r}();const gF=vF;var Ii=function(){return Ii=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Ii.apply(this,arguments)};function mF(r,e,t){for(var n={index:0,placement:"before"},i=0,o=0,a=0,l=0,u=0,c=0,d=0,h,g=0,m=r.length;g<m;g++){h=r[g];var b=h.top,w=h.left,x=h.height,_=h.width;if(a=w+_,d=b+x,u=w+_/2,c=b+x/2,!(o&&w>o||l&&c>=l||i&&a<i))if(n.index=g,!h.dir)t<d&&(l=d),e<u?(o=u,n.placement="before"):(i=u,n.placement="after");else if(t<c){n.placement="before";break}else n.placement="after"}return n}function K1(r){var e=r.getBoundingClientRect();return{top:e.top+document.body.scrollTop,left:e.left+document.body.scrollLeft}}function vw(r,e){return Ht.matches.call(r,e)}function yF(r,e){var t=M_(r),n=M_(e),i=n.filter(function(u){return t.includes(u)}),o=i[0];if(!o)return r.model.index()-e.model.index();var a=n[n.indexOf(o)-1],l=t[t.indexOf(o)-1];return l.index()-a.index()}function M_(r){return r?[r].concat(M_(r.parent())):[]}function _F(r,e){if(r)for(var t=r.parentNode;t&&t.nodeType===1;){if(vw(t,e))return t;t=t.parentNode}}function bF(r,e){if((0,le.ir)(r))return!1;var t=r.style||{},n=(0,hr.default)(r),i=(0,hr.default)(e);if(t.overflow&&t.overflow!=="visible")return!1;var o=n.css("float");return o&&o!=="none"||i.css("display")==="flex"&&i.css("flex-direction")!=="column"||!wF(t.position)?!1:SF(r)||CF(n)}function wF(r){switch(r){case"static":case"relative":case"":return!0;default:return!1}}function SF(r){var e=["TR","TBODY","THEAD","TFOOT"];return e.includes(r.tagName)}function CF(r){var e=r.css("display"),t=["block","list-item","table","flex","grid"];return t.includes(e)}function xF(r){var e={containerContext:{container:"",placeholderElement:"",containerSel:"*",itemSel:"*",pfx:"",document},positionOptions:{borderOffset:10,relative:!1,windowMargin:0,offsetTop:0,offsetLeft:0,scale:1,canvasRelative:!1},dragBehavior:{dragDirection:Cl.A.Vertical,nested:!1,selectOnEnd:!0},eventHandlers:{}},t=Ii(Ii(Ii({},e),r),{containerContext:Ii(Ii({},e.containerContext),r.containerContext),positionOptions:Ii(Ii({},e.positionOptions),r.positionOptions),dragBehavior:Ii(Ii({},e.dragBehavior),r.dragBehavior),eventHandlers:Ii(Ii({},e.eventHandlers),r.eventHandlers)});return t}var xD=function(){function r(e){this.timeout=null,this.threshold=e}return r.prototype.updateArgs=function(e){this.lastArgs=e},r.prototype.execute=function(e){var t=this;this.timeout||(this.timeout=setTimeout(function(){t.lastArgs&&e(t.lastArgs),t.timeout=null},this.threshold))},r.prototype.clearTimeout=function(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null),delete this.lastArgs},r}(),R_=function(){return R_=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},R_.apply(this,arguments)},OF=function(){function r(e){this.top=e.top,this.left=e.left,this.height=e.height,this.width=e.width,this.offsets=e.offsets,this.dir=e.dir}return r.prototype.calculateDimensionDifference=function(e){var t=e.top-this.top,n=e.left-this.left;return{topDifference:t,leftDifference:n}},r.prototype.adjustDimensions=function(e){return this.top+=e.topDifference,this.left+=e.leftDifference,this},r.prototype.determinePlacement=function(e,t){var n=this.left+this.width/2,i=this.top+this.height/2;return this.dir?t<i?"before":"after":e<n?"before":"after"},r.prototype.equals=function(e){return e?this.top===e.top&&this.left===e.left&&this.height===e.height&&this.width===e.width&&this.dir===e.dir&&JSON.stringify(this.offsets)===JSON.stringify(e.offsets):!1},r.prototype.clone=function(){return new r({top:this.top,left:this.left,height:this.height,width:this.width,offsets:R_({},this.offsets),dir:this.dir})},r.prototype.getDropArea=function(e){var t=this.clone(),n=this.adjustDropDimension(this.width,this.left,e),i=n.newSize,o=n.newPosition;t.width=i,t.left=o;var a=this.adjustDropDimension(this.height,this.top,e),l=a.newSize,u=a.newPosition;return t.height=l,t.top=u,t},r.prototype.adjustDropDimension=function(e,t,n){var i=n.ratio,o=n.minUndroppableDimension,a=n.maxUndroppableDimension,l=e*(1-i)/2;l=Math.max(l,o),l=Math.min(l,a);var u=e-l*2,c=t+l;return{newSize:u,newPosition:c}},r.prototype.isWithinBounds=function(e,t){return e>=this.left&&e<=this.left+this.width&&t>=this.top&&t<=this.top+this.height},r}();const EF=OF;var TF=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),tg=function(){return tg=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},tg.apply(this,arguments)},AF=function(r){TF(e,r);function e(t){var n=r.call(this)||this;return n.sourceNodes=[],n.containerOffset={top:0,left:0},n.moveThreshold=20,n.treeClass=t.treeClass,n.em=t.em,n.containerContext=t.containerContext,n.positionOptions=t.positionOptions,n.dragDirection=t.dragDirection,n.eventHandlers=t.eventHandlers,(0,z.bindAll)(n,"endDrag","cancelDrag","recalculateTargetOnScroll","startSort","onDragStart","onMove"),n.restLastMoveData(),n.rateLimiter=new xD(n.moveThreshold),n}return e.prototype.startSort=function(t){this.sourceNodes=t,this.bindDragEventHandlers()},e.prototype.bindDragEventHandlers=function(){(0,le.on)(this.containerContext.container,"dragstart",this.onDragStart),(0,le.on)(this.containerContext.container,"mousemove dragover",this.onMove),(0,le.on)(this.containerContext.document,"mouseup dragend touchend",this.endDrag)},e.prototype.recalculateTargetOnScroll=function(){var t=this.lastMoveData.mouseEvent;t&&this.onMove(t)},e.prototype.onMove=function(t){this.rateLimiter.updateArgs(t),this.rateLimiter.execute(this.handleMove.bind(this))},e.prototype.handleMove=function(t){var n,i,o,a,l,u;this.adjustForScroll();var c=this.lastMoveData.targetNode;(i=(n=this.eventHandlers).onMouseMove)===null||i===void 0||i.call(n,t);var d=this.getMousePositionRelativeToContainer(t.clientX,t.clientY),h=d.mouseXRelative,g=d.mouseYRelative,m=this.getTargetNode(t),b=!(m!=null&&m.equals(c));if(b&&((a=(o=this.eventHandlers).onTargetChange)===null||a===void 0||a.call(o,c,m)),!m){this.triggerLegacyOnMoveCallback(t,0),this.triggerMoveEvent(h,g),this.restLastMoveData();return}var w=this.getDropPosition(m,h,g),x=w.index,_=w.placement,C=w.placeholderDimensions,O=!C.equals(this.lastMoveData.placeholderDimensions)||_!==this.lastMoveData.placement;O&&((u=(l=this.eventHandlers).onPlaceholderPositionChange)===null||u===void 0||u.call(l,C,_)),this.lastMoveData=tg(tg({},this.lastMoveData),{targetNode:m,mouseEvent:t,index:x,placement:_,placeholderDimensions:C}),this.triggerMoveEvent(h,g),this.triggerLegacyOnMoveCallback(t,x)},e.prototype.adjustForScroll=function(){var t,n,i=this.lastMoveData.targetNode;if(i!=null&&i.element){var o=this.getDim(i==null?void 0:i.element),a=(t=i.nodeDimensions)===null||t===void 0?void 0:t.calculateDimensionDifference(o);a&&i.adjustDimensions(a)}var l=this.lastMoveData.hoveredNode;if(l!=null&&l.element){var o=this.getDim(l==null?void 0:l.element),a=(n=l.nodeDimensions)===null||n===void 0?void 0:n.calculateDimensionDifference(o);a&&l.adjustDimensions(a)}},e.prototype.restLastMoveData=function(){this.lastMoveData={targetNode:void 0,index:void 0,placement:void 0,mouseEvent:void 0}},e.prototype.triggerLegacyOnMoveCallback=function(t,n){var i,o,a,l,u=(i=this.sourceNodes[0])===null||i===void 0?void 0:i.model;(a=(o=this.eventHandlers).legacyOnMoveClb)===null||a===void 0||a.call(o,{event:t,target:u,parent:(l=this.lastMoveData.targetNode)===null||l===void 0?void 0:l.model,index:n})},e.prototype.triggerMoveEvent=function(t,n){var i,o=this.lastMoveData,a=o.targetNode,l=o.placement,u=o.index,c=u?u+(l==="after"?-1:0):0;this.em.trigger("sorter:drag",{target:(a==null?void 0:a.element)||null,targetModel:(i=this.lastMoveData.targetNode)===null||i===void 0?void 0:i.model,sourceModel:this.sourceNodes[0].model,dims:(a==null?void 0:a.childrenDimensions)||[],pos:{index:c,indexEl:c,placement:l},x:t,y:n})},e.prototype.getDropPosition=function(t,n,i){var o,a=t.nodeDimensions,l=t.childrenDimensions,u=t.getChildren(),c=u&&u.length>0;a=a||this.getDim(t.element),t.nodeDimensions=a,l=l||this.getChildrenDim(t),t.childrenDimensions=l;var d=a.clone(),h=0,g="inside";return c&&(o=mF(l,n,i),h=o.index,g=o.placement,d=l[h].clone(),h=h+(g=="after"?1:0)),{index:h,placement:g,placeholderDimensions:d}},e.prototype.getTargetNode=function(t){var n;this.cacheContainerPosition(this.containerContext.container);var i=this.getMousePositionRelativeToContainer(t.clientX,t.clientY),o=i.mouseXRelative,a=i.mouseYRelative,l=this.getMouseTargetElement(t),u=this.getFirstElementWithAModel(l);if(u){var c=(n=(0,hr.default)(u))===null||n===void 0?void 0:n.data("model");if(c){var d=this.getOrCreateHoveredNode(c),h=this.getDropPosition(d,o,a).index,g=this.getValidParent(d,h,o,a);return this.getOrReuseTargetNode(g)}}},e.prototype.getOrCreateHoveredNode=function(t){var n=this.lastMoveData.hoveredNode,i=new this.treeClass(t),o=i.equals(n)?n:i;return this.lastMoveData.hoveredNode=o,o},e.prototype.getOrReuseTargetNode=function(t){var n=this.lastMoveData.targetNode;return t!=null&&t.equals(n)?n:t},e.prototype.getMouseTargetElement=function(t){var n=this.containerContext.customTarget,i=this.containerContext.document.elementFromPoint(t.clientX,t.clientY),o=n?n({event:t}):i;return o},e.prototype.onDragStart=function(t){this.eventHandlers.onDragStart&&this.eventHandlers.onDragStart(t)},e.prototype.endDrag=function(){this.dropDragged()},e.prototype.cancelDrag=function(){var t,n,i=this.lastMoveData.targetNode;(n=(t=this.eventHandlers).onTargetChange)===null||n===void 0||n.call(t,i,void 0),this.finalizeMove()},e.prototype.finalizeMove=function(){var t,n,i,o;this.cleanupEventListeners(),this.triggerOnDragEndEvent(),(n=(t=this.eventHandlers).onEnd)===null||n===void 0||n.call(t),(o=(i=this.eventHandlers).legacyOnEnd)===null||o===void 0||o.call(i),this.restLastMoveData(),this.rateLimiter.clearTimeout()},e.prototype.dropDragged=function(){var t,n,i=this.lastMoveData,o=i.targetNode,a=i.index;(n=(t=this.eventHandlers).onDrop)===null||n===void 0||n.call(t,o,this.sourceNodes,a),this.finalizeMove()},e.prototype.triggerOnDragEndEvent=function(){var t=this.lastMoveData.targetNode,n=this.sourceNodes[0];this.em.trigger("sorter:drag:end",{targetCollection:t?t.getChildren():null,modelToDrop:n==null?void 0:n.model,warns:[""],validResult:{result:!0,src:this.sourceNodes.map(function(i){return i.element}),srcModel:n==null?void 0:n.model,trg:t==null?void 0:t.element,trgModel:t==null?void 0:t.model,draggable:!0,droppable:!0},dst:t==null?void 0:t.element,srcEl:n==null?void 0:n.element})},e.prototype.getFirstElementWithAModel=function(t){for(var n=function(i){return(0,hr.default)(i).data("model")!==void 0};t&&this.containerContext.container.contains(t);){if(n(t))return t;t=t.parentElement}return null},e.prototype.getValidParent=function(t,n,i,o){if(t){var a=this.lastMoveData.targetNode,l=t.equals(a);if(t.nodeDimensions=l?a.nodeDimensions:this.getDim(t.element),!t.isWithinDropBounds(i,o))return this.handleParentTraversal(t,i,o);var u=l&&n===this.lastMoveData.index;if(u)return a;var c=this.sourceNodes.some(function(d){return t.canMove(d,n)});return this.triggerDragValidation(c,t),c?t:this.handleParentTraversal(t,i,o)}},e.prototype.handleParentTraversal=function(t,n,i){var o=t.getParent();if(o){var a=this.getIndexInParent(o,t,t.nodeDimensions,n,i);return this.getValidParent(o,a,n,i)}},e.prototype.getIndexInParent=function(t,n,i,o,a){var l=t==null?void 0:t.indexOfChild(n);return i.dir=this.getDirection(n.element,t.element),l=l+(i.determinePlacement(o,a)=="after"?1:0),l},e.prototype.triggerDragValidation=function(t,n){var i=this.sourceNodes[0];return this.em.trigger("sorter:drag:validation",{valid:t,src:i==null?void 0:i.element,srcModel:i==null?void 0:i.model,trg:n.element,trgModel:n.model}),i},e.prototype.cleanupEventListeners=function(){var t=this.containerContext.container;(0,le.AU)(t,"dragstart",this.onDragStart),(0,le.AU)(t,"mousemove dragover",this.onMove),(0,le.AU)(this.containerContext.document,"mouseup dragend touchend",this.endDrag)},e.prototype.getDirection=function(t,n){var i;return this.dragDirection===Cl.A.Vertical?i=!0:this.dragDirection===Cl.A.Horizontal?i=!1:i=bF(t,n),i},e.prototype.getChildrenDim=function(t){var n=this,i=[],o=t.element;if(!o)return[];var a=t.getChildren();return!a||a.length===0?[]:((0,z.each)(a,function(l,u){var c=l.element;if(c&&!(!(0,le.ir)(c)&&!vw(c,n.containerContext.itemSel))){var d=n.getDim(c);d.dir=n.getDirection(c,o),i.push(d)}}),i)},e.prototype.getMousePositionRelativeToContainer=function(t,n){var i=n-this.containerOffset.top+this.containerContext.container.scrollTop,o=t-this.containerOffset.left+this.containerContext.container.scrollLeft;if(this.positionOptions.canvasRelative){var a=this.em.Canvas.getMouseRelativeCanvas({clientX:t,clientY:n},{noScroll:1});o=a.x,i=a.y}return{mouseXRelative:o,mouseYRelative:i}},e.prototype.cacheContainerPosition=function(t){var n=K1(t),i=this.positionOptions.windowMargin?Math.abs(n.top):n.top,o=this.positionOptions.windowMargin?Math.abs(n.left):n.left;this.containerOffset={top:i,left:o}},e.prototype.getDim=function(t){var n=this.em,i=this.positionOptions.relative,o=this.positionOptions.windowMargin,a=n==null?void 0:n.Canvas,l=a?a.getElementOffsets(t):{},u,c,d,h;if(this.positionOptions.canvasRelative&&this.em){var g=a.getElementPos(t,{noScroll:1});u=g.top,c=g.left,d=g.height,h=g.width}else{var m=K1(t);u=i?t.offsetTop:m.top-(o?-1:1)*this.containerOffset.top,c=i?t.offsetLeft:m.left-(o?-1:1)*this.containerOffset.left,d=t.offsetHeight,h=t.offsetWidth}return new EF({top:u,left:c,height:d,width:h,offsets:l})},e}(ne.Ss),DF=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),kF=function(r){DF(e,r);function e(t){var n=r.call(this)||this;return n.pfx=t.pfx||"",n.allowNesting=t.allowNesting||!1,n.container=t.container,n.setElement(t.el),n.offset={top:t.offset.top||0,left:t.offset.left||0},n.moveLimiter=new xD(100),n}return e.prototype.show=function(){this.el.style.display="block"},e.prototype.hide=function(){this.moveLimiter.clearTimeout(),this.el.style.display="none"},e.prototype.move=function(t,n){var i=this,o={elementDimension:t,placement:n};this.moveLimiter.updateArgs(o),this.moveLimiter.execute(function(a){var l=a.elementDimension,u=a.placement;i._move(l,u)})},e.prototype._move=function(t,n){var i=0,o="px",a=0,l=0,u="",c="";this.setOrientationForDimension(t);var d=t.top,h=t.left,g=t.height,m=t.width,b=t.dir,w=t.offsets;if(n==="inside"){if(this.setOrientation("horizontal"),!this.allowNesting){this.hide();return}var x=5,_=(w==null?void 0:w.paddingTop)||x,C=(w==null?void 0:w.paddingLeft)||x,O=(w==null?void 0:w.borderTopWidth)||0,A=(w==null?void 0:w.borderLeftWidth)||0,I=(w==null?void 0:w.borderRightWidth)||0,Q=A+I;a=d+_+O,l=h+C+A,u=Math.max(m-C*2-Q,1)+"px",c="auto"}else b?(u=m+o,c="auto",a=n==="before"?d-i:d+g-i,l=h):(u="auto",c=g-i*2+o,a=d+i,l=n==="before"?h-i:h+m-i,this.setOrientation("vertical"));this.updateStyles(a,l,u,c),this.adjustOffset()},e.prototype.setOrientationForDimension=function(t){this.el.classList.remove("vertical"),this.el.classList.add("horizontal"),t&&!t.dir&&this.setOrientation("vertical")},e.prototype.setOrientation=function(t){this.el.classList.remove("horizontal"),this.el.classList.remove("vertical"),this.el.classList.add(t)},e.prototype.updateStyles=function(t,n,i,o){this.el.style.top=t+"px",this.el.style.left=n+"px",i&&(this.el.style.width=i),o&&(this.el.style.height=o)},e.prototype.adjustOffset=function(){this.$el.css("top","+="+this.offset.top+"px"),this.$el.css("left","+="+this.offset.left+"px")},e}(ne.Ss),Lu=function(){return Lu=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Lu.apply(this,arguments)},PF=function(){function r(e){var t=xF(e);(0,z.bindAll)(this,"startSort","cancelDrag","recalculateTargetOnScroll","rollback","updateOffset","handlePlaceholderMove","finalizeMove"),this.containerContext=t.containerContext,this.positionOptions=t.positionOptions,this.dragBehavior=t.dragBehavior,this.eventHandlers=Lu(Lu({},t.eventHandlers),{onPlaceholderPositionChange:this.handlePlaceholderMove,onEnd:this.finalizeMove}),this.em=e.em,this.treeClass=e.treeClass,this.updateOffset(),this.em.on(this.em.Canvas.events.refresh,this.updateOffset),this.placeholder=this.createPlaceholder(),this.dropLocationDeterminer=new AF({em:this.em,treeClass:this.treeClass,containerContext:this.containerContext,positionOptions:this.positionOptions,dragDirection:this.dragBehavior.dragDirection,eventHandlers:this.eventHandlers})}return r.prototype.startSort=function(e){var t,n,i,o,a,l,u,c=this.getSourceNodes(e),d=c.sourceNodes,h=c.sourcesWithModel;this.sourceNodes=d,this.dropLocationDeterminer.startSort(d),this.bindDragEventHandlers(),(n=(t=this.eventHandlers).onStartSort)===null||n===void 0||n.call(t,this.sourceNodes,this.containerContext.container);var g=(i=this.sourceNodes[0])===null||i===void 0?void 0:i.model;(a=(o=this.eventHandlers).legacyOnStartSort)===null||a===void 0||a.call(o,{sorter:this,target:g,parent:g&&((l=g.parent)===null||l===void 0?void 0:l.call(g)),index:g&&((u=g.index)===null||u===void 0?void 0:u.call(g))}),this.em.trigger("sorter:drag:start",e[0],h[0])},r.prototype.validTarget=function(e,t,n){if(!e)return!1;var i=(0,hr.default)(e).data("model");if(!i)return!1;var o=new this.treeClass(i),a=this.getSourceNodes(t).sourceNodes,l=a.some(function(u){return o.canMove(u,n)});return l},r.prototype.getSourceNodes=function(e){var t=this,n=e.filter(function(l){return!!l.dragSource||t.findValidSourceElement(l.element)}),i=n.map(function(l){var u;return{model:(u=(0,hr.default)(l.element))===null||u===void 0?void 0:u.data("model"),content:l.dragSource}}),o=i.sort(function(l,u){return yF(l.model,u.model)}),a=o.map(function(l){return new t.treeClass(l.model,l.content)});return{sourceNodes:a,sourcesWithModel:i}},r.prototype.recalculateTargetOnScroll=function(){this.dropLocationDeterminer.recalculateTargetOnScroll()},r.prototype.cancelDrag=function(){this.triggerNullOnEndMove(!0),this.dropLocationDeterminer.cancelDrag()},r.prototype.endDrag=function(){this.dropLocationDeterminer.endDrag()},r.prototype.handlePlaceholderMove=function(e,t){this.ensurePlaceholderElement(),this.updatePlaceholderPosition(e,t)},r.prototype.createPlaceholder=function(){return new kF({container:this.containerContext.container,allowNesting:this.dragBehavior.nested,pfx:this.containerContext.pfx,el:this.containerContext.placeholderElement,offset:{top:this.positionOptions.offsetTop,left:this.positionOptions.offsetLeft}})},r.prototype.ensurePlaceholderElement=function(){var e=this.placeholder.el,t=this.containerContext.container;e.ownerDocument.contains(e)||t.append(this.placeholder.el)},r.prototype.updateOffset=function(){var e,t=((e=this.em)===null||e===void 0?void 0:e.get("canvasOffset"))||{};this.positionOptions.offsetTop=t.top,this.positionOptions.offsetLeft=t.left},r.prototype.findValidSourceElement=function(e){return e&&!vw(e,"".concat(this.containerContext.itemSel,", ").concat(this.containerContext.containerSel))&&(e=_F(e,this.containerContext.itemSel)),e},r.prototype.bindDragEventHandlers=function(){(0,le.on)(this.containerContext.document,"keydown",this.rollback)},r.prototype.updatePlaceholderPosition=function(e,t){this.placeholder.move(e,t)},r.prototype.cleanupEventListeners=function(){(0,le.AU)(this.containerContext.document,"keydown",this.rollback)},r.prototype.finalizeMove=function(){this.cleanupEventListeners(),this.placeholder.hide(),delete this.sourceNodes},r.prototype.rollback=function(e){(0,le.AU)(this.containerContext.document,"keydown",this.rollback);var t="Escape";e.key===t&&this.cancelDrag()},r.prototype.triggerNullOnEndMove=function(e){var t,n,i,o,a,l=(t=this.sourceNodes)===null||t===void 0?void 0:t[0].model,u={target:l,parent:l&&((n=l.parent)===null||n===void 0?void 0:n.call(l)),index:l&&((i=l.index)===null||i===void 0?void 0:i.call(l))};(a=(o=this.eventHandlers).legacyOnEndMove)===null||a===void 0||a.call(o,null,this,Lu(Lu({},u),{cancelled:e}))},r}();const OD=PF;var MF=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Nu=function(){return Nu=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Nu.apply(this,arguments)},RF=lo.F.Target,qy={id:"sorter-target",type:RF},LF=function(r){MF(e,r);function e(t){var n=t.em,i=t.treeClass,o=t.containerContext,a=t.dragBehavior,l=t.positionOptions,u=l===void 0?{}:l,c=t.eventHandlers,d=c===void 0?{}:c,h=r.call(this,{em:n,treeClass:i,containerContext:o,positionOptions:u,dragBehavior:a,eventHandlers:Nu(Nu({},d),{onStartSort:function(g,m){var b;(b=d.onStartSort)===null||b===void 0||b.call(d,g,m),h.onStartSort()},onDrop:function(g,m,b){var w;(w=d.onDrop)===null||w===void 0||w.call(d,g,m,b),h.onDrop(g,m,b)},onTargetChange:function(g,m){var b;(b=d.onTargetChange)===null||b===void 0||b.call(d,g,m),h.onTargetChange(g,m)},onMouseMove:function(g){var m;(m=d.onMouseMove)===null||m===void 0||m.call(d,g),h.onMouseMove(g)}})})||this;return h.targetIsText=!1,h.onMouseMove=function(g){var m,b=h.targetIsText&&((m=h.sourceNodes)===null||m===void 0?void 0:m.some(function(w){return w.isTextable()}));b&&h.updateTextViewCursorPosition(g)},h.onDrop=function(g,m,b){var w=typeof b=="number"?b:-1;if(g&&m.length>0){var x=h.handleNodeAddition(g,m,w);x.length===0&&h.triggerNullOnEndMove(!1)}else h.triggerNullOnEndMove(!0);g==null||g.restNodeState(),h.placeholder.hide()},h.onTargetChange=function(g,m){var b;g==null||g.restNodeState();var w=h.em.Canvas;if(!m){h.placeholder.hide(),w.removeSpots(qy);return}m==null||m.setSelectedParentState(),h.targetIsText=m.isTextNode();var x=h.targetIsText&&((b=h.sourceNodes)===null||b===void 0?void 0:b.some(function(A){return A.isTextable()}));x?(m.setContentEditable(!0),h.placeholder.hide()):h.placeholder.show();var _=lo.F.Select,C=lo.F.Hover,O=lo.F.Spacing;[_,C,O].forEach(function(A){return w.removeSpots({type:A})}),w.addSpot(Nu(Nu({},qy),{component:m.model}))},(0,z.bindAll)(h,"handleScrollEvent"),h}return e.prototype.onStartSort=function(){this.em.clearSelection(),this.setAutoCanvasScroll(!0)},e.prototype.bindDragEventHandlers=function(){this.em.on("frame:scroll",this.handleScrollEvent),r.prototype.bindDragEventHandlers.call(this)},e.prototype.cleanupEventListeners=function(){this.em.off("frame:scroll",this.handleScrollEvent),r.prototype.cleanupEventListeners.call(this)},e.prototype.handleScrollEvent=function(){for(var t,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=(t=n==null?void 0:n[0])===null||t===void 0?void 0:t.frame,a=this.em.Canvas.getCanvasView().frame===o;a&&this.recalculateTargetOnScroll()},e.prototype.handleNodeAddition=function(t,n,i){var o=this;return n.reduce(function(a,l){if(!t.canMove(l,i))return a;if(o.isPositionChanged(t,l,i)){var u=o.moveNode(t,l,i),c=u.index,d=u.addedNode;a.push(d),i=c}return i++,a},[])},e.prototype.isPositionChanged=function(t,n,i){var o=n.getParent(),a=o?o.indexOfChild(n):-1;(o==null?void 0:o.model.cid)===t.model.cid&&a<i&&i--;var l=(o==null?void 0:o.model.cid)===t.model.cid,u=a===i,c=this.targetIsText&&n.isTextable();return!(l&&u&&!c)},e.prototype.moveNode=function(t,n,i){var o=n.getParent();if(o){var a=o.indexOfChild(n);o.removeChildAt(a,{temporary:!0}),o.model.cid===t.model.cid&&a<i&&i--}var l=t.addChildAt(n,i,{action:"move-component"});return l&&this.triggerEndMoveEvent(l),{addedNode:l,index:i}},e.prototype.triggerEndMoveEvent=function(t){var n,i,o,a,l,u;(i=(n=this.eventHandlers).legacyOnEndMove)===null||i===void 0||i.call(n,t.model,this,{target:t.model,parent:t.model&&((a=(o=t.model).parent)===null||a===void 0?void 0:a.call(o)),index:t.model&&((u=(l=t.model).index)===null||u===void 0?void 0:u.call(l))})},e.prototype.finalizeMove=function(){var t,n;(t=this.em)===null||t===void 0||t.Canvas.removeSpots(qy),(n=this.sourceNodes)===null||n===void 0||n.forEach(function(i){return i.restNodeState()}),this.setAutoCanvasScroll(!1),r.prototype.finalizeMove.call(this)},e.prototype.updateTextViewCursorPosition=function(t){var n=this.em;if(n){var i=n.Canvas,o=i.getDocument(),a=null,l=(0,le.G2)(t);if(o.caretPositionFromPoint){var u=o.caretPositionFromPoint(l.clientX,l.clientY);u&&(a=o.createRange(),a.setStart(u.offsetNode,u.offset))}else o.caretRangeFromPoint?a=o.caretRangeFromPoint(l.clientX,l.clientY):t.rangeParent&&(a=o.createRange(),a.setStart(t.rangeParent,t.rangeOffset));var c=i.getWindow().getSelection();i.getFrameEl().focus(),c==null||c.removeAllRanges(),a&&(c==null||c.addRange(a))}},e.prototype.setAutoCanvasScroll=function(t){var n=this.em,i=n==null?void 0:n.Canvas;i&&(t?i.startAutoscroll():i.stopAutoscroll())},e}(OD);const q1=LF;var NF=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),eg=function(){return eg=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},eg.apply(this,arguments)},jF=function(r){NF(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.defaults=function(){return{values:{}}},e.prototype.initialize=function(){var t=this.collection;this.prop=t==null?void 0:t.prop},e.prototype.getId=function(){return this.cid},e.prototype.getIndex=function(){var t=this.collection;return t?t.indexOf(this):-1},e.prototype.getValues=function(t){t===void 0&&(t={});var n=this.get("values");return t.camelCase?Object.keys(n).reduce(function(i,o){return i[(0,Ht.camelCase)(o)]=n[o],i},{}):n},e.prototype.getLabel=function(){var t;return(t=this.prop)===null||t===void 0?void 0:t.getLayerLabel(this)},e.prototype.isSelected=function(){var t;return((t=this.prop)===null||t===void 0?void 0:t.getSelectedLayer())===this},e.prototype.select=function(){var t;return(t=this.prop)===null||t===void 0?void 0:t.selectLayer(this)},e.prototype.remove=function(){var t;return(t=this.prop)===null||t===void 0?void 0:t.removeLayer(this)},e.prototype.move=function(t){var n;return(n=this.prop)===null||n===void 0?void 0:n.moveLayer(this,t)},e.prototype.getStylePreview=function(t){var n;return t===void 0&&(t={}),(n=this.prop)===null||n===void 0?void 0:n.getStylePreview(this,t)},e.prototype.hasPreview=function(){var t;return!!(!((t=this.prop)===null||t===void 0)&&t.get("preview"))},e.prototype.upValues=function(t){return t===void 0&&(t={}),this.set("values",eg(eg({},this.getValues()),t))},e}(ne.Kx);const Cf=jF;var IF=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ED=function(r){IF(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.initialize=function(t,n){n===void 0&&(n={}),this.prop=n.prop},e}(ne.pM);const Op=ED;ED.prototype.model=Cf;var VF=Ye(3178),UF=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),BF=function(r){UF(e,r);function e(t){return r.call(this,t)||this}return e.prototype.getChildren=function(){return this.model instanceof Op?this.model.models.map(function(t){return new e(t)}):null},e.prototype.getParent=function(){var t=this.model instanceof Cf?this.model.collection:null;return t?new e(t):null},e.prototype.addChildAt=function(t,n){if(this.model instanceof Cf)throw Error("Cannot add a layer model to another layer model");var i=this.model.add(t.model,{at:n});return new e(i)},e.prototype.removeChildAt=function(t){if(this.model instanceof Cf)throw Error("Cannot remove a layer model from another layer model");var n=this.model.at(t);n&&this.model.remove(n)},e.prototype.indexOfChild=function(t){return!(t.model instanceof Cf)||!(this.model instanceof Op)?-1:this.model.indexOf(t.model)},e.prototype.canMove=function(t,n){return this.model instanceof Op&&!!t.model},Object.defineProperty(e.prototype,"view",{get:function(){return this.model.view},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"element",{get:function(){var t;return(t=this.view)===null||t===void 0?void 0:t.el},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"model",{get:function(){return this._model},enumerable:!1,configurable:!0}),e}(VF.$),FF=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),L_=function(){return L_=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},L_.apply(this,arguments)},zF=function(r){FF(e,r);function e(t){var n=t.em,i=t.containerContext,o=t.dragBehavior,a=t.positionOptions,l=a===void 0?{}:a,u=t.eventHandlers,c=u===void 0?{}:u,d=r.call(this,{em:n,treeClass:BF,containerContext:i,positionOptions:l,dragBehavior:o,eventHandlers:L_({onStartSort:function(h,g){var m;(m=c.onStartSort)===null||m===void 0||m.call(c,h,g),d.onLayerStartSort(h)},onDrop:function(h,g,m){var b;(b=c.onDrop)===null||b===void 0||b.call(c,h,g,m),d.onLayerDrop(h,g,m)},onEnd:function(){d.placeholder.hide()}},c)})||this;return d.onLayerStartSort=function(h){d.em.clearSelection();var g=h[0];d.em.trigger("sorter:drag:start",g==null?void 0:g.element,g==null?void 0:g.model),d.placeholder.show()},d.onLayerDrop=function(h,g,m){if(h){m=typeof m=="number"?m:-1;for(var b=0;b<g.length;b++){var w=g[b];if(h.canMove(w,b)){var x=w.getParent(),_=-1;x&&(_=x.indexOfChild(w),x.removeChildAt(_)),m=_<m?m-1:m,h.addChildAt(w,m)}}d.placeholder.hide()}},d}return e}(OD);const HF=zF;var WF=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),N_=function(){return N_=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},N_.apply(this,arguments)},KF=function(r){WF(e,r);function e(t){var n=r.call(this,t,"Utils")||this;return n.Sorter=q1,n.Resizer=gF,n.Dragger=M2.A,n.ComponentSorter=q1,n.StyleManagerSorter=HF,n.helpers=N_({},Ht),n}return e.prototype.destroy=function(){},e}(Oi);const qF=KF;var _i,Hi={},$r={16:!1,18:!1,17:!1,91:!1},TD="all",Ol={"⇧":16,shift:16,"⌥":18,alt:18,option:18,"⌃":17,ctrl:17,control:17,"⌘":91,command:91},AD={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220},gw=function(r){return AD[r]||r.toUpperCase().charCodeAt(0)},cc=[];for(_i=1;_i<20;_i++)AD["f"+_i]=111+_i;function Zf(r,e){for(var t=r.length;t--;)if(r[t]===e)return t;return-1}function GF(r,e){if(r.length!=e.length)return!1;for(var t=0;t<r.length;t++)if(r[t]!==e[t])return!1;return!0}var YF={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey"};function XF(r){for(_i in $r)$r[_i]=r[YF[_i]]}function ZF(r){var e,t,n,i,o,a;if(e=r.keyCode,Zf(cc,e)==-1&&cc.push(e),(e==93||e==224)&&(e=91),e in $r){$r[e]=!0;for(n in Ol)Ol[n]==e&&(ei[n]=!0);return}if(XF(r),!!ei.filter.call(this,r)&&e in Hi){for(a=mw(),i=0;i<Hi[e].length;i++)if(t=Hi[e][i],t.scope==a||t.scope=="all"){o=t.mods.length>0;for(n in $r)(!$r[n]&&Zf(t.mods,+n)>-1||$r[n]&&Zf(t.mods,+n)==-1)&&(o=!1);(t.mods.length==0&&!$r[16]&&!$r[18]&&!$r[17]&&!$r[91]||o)&&t.method(r,t)===!1&&(r.preventDefault?r.preventDefault():r.returnValue=!1,r.stopPropagation&&r.stopPropagation(),r.cancelBubble&&(r.cancelBubble=!0))}}}function $F(r){var e=r.keyCode,t,n=Zf(cc,e);if(n>=0&&cc.splice(n,1),(e==93||e==224)&&(e=91),e in $r){$r[e]=!1;for(t in Ol)Ol[t]==e&&(ei[t]=!1)}}function JF(){for(_i in $r)$r[_i]=!1;for(_i in Ol)ei[_i]=!1}function ei(r,e,t){var n,i;n=DD(r),t===void 0&&(t=e,e="all");for(var o=0;o<n.length;o++)i=[],r=n[o].split("+"),r.length>1&&(i=kD(r),r=[r[r.length-1]]),r=r[0],r=gw(r),r in Hi||(Hi[r]=[]),Hi[r].push({shortcut:n[o],scope:e,method:t,key:n[o],mods:i})}function QF(r,e){var t,n,i=[],o,a,l;for(t=DD(r),a=0;a<t.length;a++){if(n=t[a].split("+"),n.length>1&&(i=kD(n)),r=n[n.length-1],r=gw(r),e===void 0&&(e=mw()),!Hi[r])return;for(o=0;o<Hi[r].length;o++)l=Hi[r][o],l.scope===e&&GF(l.mods,i)&&(Hi[r][o]={})}}function tz(r){return typeof r=="string"&&(r=gw(r)),Zf(cc,r)!=-1}function ez(){return cc.slice(0)}function nz(r){var e=(r.target||r.srcElement).tagName;return!(e=="INPUT"||e=="SELECT"||e=="TEXTAREA")}for(_i in Ol)ei[_i]=!1;function rz(r){TD=r||"all"}function mw(){return TD||"all"}function iz(r){var e,t,n;for(e in Hi)for(t=Hi[e],n=0;n<t.length;)t[n].scope===r?t.splice(n,1):n++}function DD(r){var e;return r=r.replace(/\s/g,""),e=r.split(","),e[e.length-1]==""&&(e[e.length-2]+=","),e}function kD(r){for(var e=r.slice(0,r.length-1),t=0;t<e.length;t++)e[t]=Ol[e[t]];return e}function Gy(r,e,t){r.addEventListener?r.addEventListener(e,t,!1):r.attachEvent&&r.attachEvent("on"+e,function(){t(window.event)})}ei.setScope=rz;ei.getScope=mw;ei.deleteScope=iz;ei.filter=nz;ei.isPressed=tz;ei.getPressedKeyCodes=ez;ei.unbind=QF;ei.handlers=Hi;ei.init=function(r){Gy(r.document,"keydown",function(e){ZF(e)}),Gy(r.document,"keyup",$F),Gy(r,"focus",JF)};const xf=ei;var oz=function(){return{defaults:{"core:undo":{keys:"⌘+z, ctrl+z",handler:"core:undo",opts:{prevent:!0}},"core:redo":{keys:"⌘+shift+z, ctrl+shift+z",handler:"core:redo",opts:{prevent:!0}},"core:copy":{keys:"⌘+c, ctrl+c",handler:"core:copy"},"core:paste":{keys:"⌘+v, ctrl+v",handler:"core:paste"},"core:component-next":{keys:"s",handler:"core:component-next"},"core:component-prev":{keys:"w",handler:"core:component-prev"},"core:component-enter":{keys:"d",handler:"core:component-enter"},"core:component-exit":{keys:"a",handler:"core:component-exit"},"core:component-delete":{keys:"backspace, delete",handler:"core:component-delete",opts:{prevent:!0}}}}};const az=oz;var sz=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),G1=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))};(0,Ht.hasWin)()&&xf.init(window);var lz=function(r){sz(e,r);function e(t){var n=r.call(this,t,"Keymaps",az())||this;return n.keymaster=xf,n.keymaps={},n}return e.prototype.onLoad=function(){if(!this.em.isHeadless){var t=this.config.defaults;for(var n in t){var i=t[n];this.add(n,i.keys,i.handler,i.opts||{})}}},e.prototype.add=function(t,n,i,o){o===void 0&&(o={});var a=this.em,l=a.Commands,u=a.getEditor(),c=a.Canvas,d={id:t,keys:n,handler:i},h=this.keymaps[t];return h&&this.remove(t),this.keymaps[t]=d,xf(n,function(g,m){var b,w={event:g,h:m},x=(0,z.isString)(i)?l.get(i):i,_=!a.isEditing()&&!u.Canvas.isInputFocused();if(_||o.force){o.prevent&&((b=c.getCanvasView())===null||b===void 0||b.preventDefault(g)),(0,z.isFunction)(x)?x(u,0,w):l.runCommand(x,w);var C=[t,m.shortcut,g];a.trigger.apply(a,G1(["keymap:emit"],C,!1)),a.trigger.apply(a,G1(["keymap:emit:".concat(t)],C,!1))}},void 0),a.trigger("keymap:add",d),d},e.prototype.get=function(t){return this.keymaps[t]},e.prototype.getAll=function(){return this.keymaps},e.prototype.remove=function(t){var n=this.em,i=this.get(t);if(i)return delete this.keymaps[t],i.keys.split(", ").forEach(function(o){xf.unbind(o.trim())}),n==null||n.trigger("keymap:remove",i),i},e.prototype.removeAll=function(){var t=this;return Object.keys(this.keymaps).forEach(function(n){return t.remove(n)}),xf.handlers={},this},e.prototype.destroy=function(){this.removeAll(),this.keymaps={}},e}(Oi);const uz=lz;var cz=function(){return{stylePrefix:"mdl-",title:"",content:"",backdrop:!0,custom:!1,extend:{}}};const fz=cz;var dz=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),hz=function(r){dz(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.defaults=function(){return{title:"",content:"",attributes:{},open:!1}},e.prototype.open=function(){this.set("open",!0)},e.prototype.close=function(){this.set("open",!1)},e}(Ps.A);const pz=hz;var vz=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ng=function(){return ng=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},ng.apply(this,arguments)},gz=function(r){vz(e,r);function e(t){var n=r.call(this,t)||this,i=n.model;return n.listenTo(i,"change:open",n.updateOpen),n.listenTo(i,"change:title",n.updateTitle),n.listenTo(i,"change:content",n.updateContent),n}return e.prototype.template=function(t){var n=t.pfx,i=t.ppfx,o=t.content,a=t.title;return'<div class="'.concat(n,"dialog ").concat(i,"one-bg ").concat(i,`two-color">
      <div class="`).concat(n,`header">
        <div class="`).concat(n,'title">').concat(a,`</div>
        <div class="`).concat(n,`btn-close" data-close-modal>&Cross;</div>
      </div>
      <div class="`).concat(n,`content">
        <div id="`).concat(n,'c">').concat(o,`</div>
        <div style="clear:both"></div>
      </div>
    </div>
    <div class="`).concat(n,'collector" style="display: none"></div>')},e.prototype.events=function(){return{click:"onClick","click [data-close-modal]":"hide"}},e.prototype.onClick=function(t){var n=this.config.backdrop;n&&t.target===this.el&&this.hide()},e.prototype.getCollector=function(){return this.$collector||(this.$collector=this.$el.find("."+this.pfx+"collector")),this.$collector},e.prototype.getContent=function(){var t=this.pfx;return this.$content||(this.$content=this.$el.find(".".concat(t,"content #").concat(t,"c"))),this.$content},e.prototype.getTitle=function(t){return t===void 0&&(t={}),this.$title||(this.$title=this.$el.find("."+this.pfx+"title")),t.$?this.$title:this.$title.get(0)},e.prototype.updateContent=function(){var t=this.getContent(),n=t.children(),i=this.getCollector(),o=this.model.get("content");n.length&&i.append(n),t.empty().append(o)},e.prototype.updateTitle=function(){var t=this.getTitle({$:!0});t&&t.empty().append(this.model.get("title"))},e.prototype.updateOpen=function(){this.el.style.display=this.model.get("open")?"":"none"},e.prototype.hide=function(){this.model.close()},e.prototype.show=function(){this.model.open()},e.prototype.updateAttr=function(t){var n=this,i=n.pfx,o=n.$el,a=n.el,l=[].slice.call(a.attributes).map(function(u){return u.name});o.removeAttr(l.join(" ")),o.attr(ng(ng({},t||{}),{class:"".concat(i,"container ").concat(t&&t.class||"").trim()}))},e.prototype.render=function(){var t=this.$el,n=this.model.toJSON();return n.pfx=this.pfx,n.ppfx=this.ppfx,t.html(this.template(n)),this.updateAttr(),this.updateOpen(),this},e}(ho);const mz=gz;var yz=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),_z=function(r){yz(e,r);function e(t){var n=r.call(this,t,"Modal",fz())||this;return n.model=new pz(n),n.model.on("change:open",function(i,o){t.trigger("modal:".concat(o?"open":"close"))}),n.model.on("change",(0,z.debounce)(function(){var i=n._evData(),o=n.config.custom;(0,z.isFunction)(o)&&o(i),t.trigger("modal",i)},0)),n}return e.prototype._evData=function(){var t=this,n=this.getTitle(),i=this.getContent(),o=this.model.attributes,a=o.open,l=o.attributes;return{open:a,attributes:l,title:(0,z.isString)(n)?(0,le.GZ)(n):n,content:(0,z.isString)(i)?(0,le.GZ)(i):i.get?i.get(0):i,close:function(){t.close()}}},e.prototype.postRender=function(t){var n=t.model.config.el||t.el,i=this.render();i&&(n==null||n.appendChild(i))},e.prototype.open=function(t){t===void 0&&(t={});var n=t.attributes||{};return t.title&&this.setTitle(t.title),t.content&&this.setContent(t.content),this.model.set("attributes",n),this.model.open(),this.modal&&this.modal.updateAttr(n),this},e.prototype.close=function(){return this.model.close(),this},e.prototype.onceClose=function(t){return this.em.once("modal:close",t),this},e.prototype.onceOpen=function(t){return this.em.once("modal:open",t),this},e.prototype.isOpen=function(){return!!this.model.get("open")},e.prototype.setTitle=function(t){return this.model.set("title",t),this},e.prototype.getTitle=function(){return this.model.get("title")},e.prototype.setContent=function(t){return this.model.set("content"," "),this.model.set("content",t),this},e.prototype.getContent=function(){return this.model.get("content")},e.prototype.getContentEl=function(){var t;return(t=this.modal)===null||t===void 0?void 0:t.getContent().get(0)},e.prototype.getModel=function(){return this.model},e.prototype.render=function(){var t;if(!this.config.custom){var n=mz.extend(this.config.extend),i=this.modal&&this.modal.el;return this.modal=new n({el:i,model:this.model,config:this.config}),(t=this.modal)===null||t===void 0?void 0:t.render().el}},e.prototype.destroy=function(){var t;(t=this.modal)===null||t===void 0||t.remove()},e}(Oi);const bz=_z;var Y1="sw-visibility",X1="export-template",Z1="open-sm",$1="open-tm",J1="open-layers",Q1="open-blocks",Yy="fullscreen",Xy="preview",wz=function(){return{stylePrefix:"pn-",defaults:[{id:"commands",buttons:[{}]},{id:"options",buttons:[{active:!0,id:Y1,className:"fa fa-square-o",command:"core:component-outline",context:Y1,attributes:{title:"View components"}},{id:Xy,className:"fa fa-eye",command:Xy,context:Xy,attributes:{title:"Preview"}},{id:Yy,className:"fa fa-arrows-alt",command:Yy,context:Yy,attributes:{title:"Fullscreen"}},{id:X1,className:"fa fa-code",command:X1,attributes:{title:"View code"}}]},{id:"views",buttons:[{id:Z1,className:"fa fa-paint-brush",command:Z1,active:!0,togglable:!1,attributes:{title:"Open Style Manager"}},{id:$1,className:"fa fa-cog",command:$1,togglable:!1,attributes:{title:"Settings"}},{id:J1,className:"fa fa-bars",command:J1,togglable:!1,attributes:{title:"Open Layer Manager"}},{id:Q1,className:"fa fa-th-large",command:Q1,togglable:!1,attributes:{title:"Open Blocks"}}]}]}};const Sz=wz;var Cz=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),xz=function(r){Cz(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.get("buttons").length&&i.set("buttons",new RD(i.module,i.get("buttons"))),i}return e.prototype.defaults=function(){return{id:"",label:"",tagName:"span",className:"",command:"",context:"",buttons:[],attributes:{},options:{},active:!1,dragDrop:!1,togglable:!0,runDefaultCommand:!0,stopDefaultCommand:!1,disable:!1}},Object.defineProperty(e.prototype,"className",{get:function(){return this.get("className")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"command",{get:function(){return this.get("command")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"active",{get:function(){return this.get("active")},set:function(t){this.set("active",t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"togglable",{get:function(){return this.get("togglable")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"runDefaultCommand",{get:function(){return this.get("runDefaultCommand")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"stopDefaultCommand",{get:function(){return this.get("stopDefaultCommand")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"disable",{get:function(){return this.get("disable")},enumerable:!1,configurable:!0}),e}(Ps.A);const PD=xz;var Oz=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),MD=function(r){Oz(e,r);function e(t,n){return r.call(this,t,n,PD)||this}return e.prototype.deactivateAllExceptOne=function(t,n){this.forEach(function(i,o){i!==t&&(i.set("active",!1),n&&i.get("buttons").length&&i.get("buttons").deactivateAllExceptOne(t,n))})},e.prototype.deactivateAll=function(t,n){var i=t||"";this.forEach(function(o){o.get("context")==i&&o!==n&&o.set("active",!1,{fromCollection:!0})})},e.prototype.disableAllButtons=function(t){var n=t||"";this.forEach(function(i,o){i.get("context")==n&&i.set("disable",!0)})},e.prototype.disableAllButtonsExceptOne=function(t,n){this.forEach(function(i,o){i!==t&&(i.set("disable",!0),n&&i.get("buttons").length&&i.get("buttons").disableAllButtonsExceptOne(t,n))})},e}(Xg);const RD=MD;MD.prototype.model=PD;var Ez=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Tz=function(r){Ez(e,r);function e(t,n){var i=r.call(this,t,n)||this,o=i.get("buttons")||[];return i.buttons=new RD(t,o),i}return e.prototype.defaults=function(){return{id:"",content:"",visible:!0,buttons:[],attributes:{}}},Object.defineProperty(e.prototype,"buttons",{get:function(){return this.get("buttons")},set:function(t){this.set("buttons",t)},enumerable:!1,configurable:!0}),e}(Ps.A);const LD=Tz;var Az=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ND=function(r){Az(e,r);function e(t,n){return r.call(this,t,n,LD)||this}return e}(Xg);const Dz=ND;ND.prototype.model=LD;var kz=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ju=function(){return ju=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},ju.apply(this,arguments)},Pz=function(r){kz(e,r);function e(t){var n=r.call(this,t)||this,i=n,o=i.model,a=i.em,l=i.pfx,u=i.ppfx,c=o.className,d=o.attributes,h=d.command,g=d.listen;if(n.id=l+o.get("id"),n.activeCls="".concat(l,"active ").concat(u,"four-color"),n.disableCls="".concat(u,"disabled"),n.btnsVisCls="".concat(l,"visible"),n.className=l+"btn"+(c?" "+c:""),n.listenTo(o,"change",n.render),n.listenTo(o,"change:active updateActive",n.updateActive),n.listenTo(o,"checkActive",n.checkActive),n.listenTo(o,"change:bntsVis",n.updateBtnsVis),n.listenTo(o,"change:attributes",n.updateAttributes),n.listenTo(o,"change:className",n.updateClassName),n.listenTo(o,"change:disable",n.updateDisable),a&&(0,z.isString)(h)&&g){var m={fromListen:!0};n.listenTo(a,"run:".concat(h),function(){return o.set("active",!0,m)}),n.listenTo(a,"stop:".concat(h),function(){return o.set("active",!1,m)})}return a&&a.get&&(n.commands=a.get("Commands")),n}return e.prototype.tagName=function(){return this.model.get("tagName")},e.prototype.events=function(){return{click:"clicked"}},e.prototype.updateClassName=function(){var t=this,n=t.model,i=t.pfx,o=n.className,a=n.get("attributes").class,l="".concat(a||""," ").concat(i,"btn ").concat(o||"");this.$el.attr("class",l.trim())},e.prototype.updateAttributes=function(){var t=this,n=t.em,i=t.model,o=t.$el,a=i.get("attributes")||{},l=n&&n.t&&n.t("panels.buttons.titles.".concat(i.id));o.attr(a),l&&o.attr({title:l}),this.updateClassName()},e.prototype.updateBtnsVis=function(){this.$buttons&&(this.model.get("bntsVis")?this.$buttons.addClass(this.btnsVisCls):this.$buttons.removeClass(this.btnsVisCls))},e.prototype.updateActive=function(t,n,i){var o;i===void 0&&(i={});var a=this,l=a.model,u=a.commands,c=a.$el,d=a.activeCls,h=i.fromCollection,g=i.fromListen,m=l.get("context"),b=l.get("options"),w=l.command,x={};w&&(u&&(0,z.isString)(w)?x=u.get(w)||{}:(0,z.isFunction)(w)?x=u.create({run:w}):w!==null&&(0,z.isObject)(w)&&(x=u.create(w)),l.active?(!h&&((o=l.collection)===null||o===void 0||o.deactivateAll(m,l)),l.set("active",!0,{silent:!0}).trigger("checkActive"),!g&&u.runCommand(x,ju(ju({},b),{sender:l})),x.noStop&&l.set("active",!1)):(c.removeClass(d),!g&&u.stopCommand(x,ju(ju({},b),{sender:l,force:1}))))},e.prototype.updateDisable=function(){var t=this,n=t.disableCls,i=t.model,o=i.disable;this.$el[o?"addClass":"removeClass"](n)},e.prototype.checkActive=function(){var t=this,n=t.model,i=t.$el,o=t.activeCls;n.active?i.addClass(o):i.removeClass(o)},e.prototype.clicked=function(){var t=this.model;t.get("bntsVis")||t.disable||!t.command||this.toggleActive()},e.prototype.toggleActive=function(){var t=this,n=t.model,i=t.em,o=n.active,a=n.togglable;o&&!a||(n.active=!o,o?n.runDefaultCommand&&i.runDefault():n.stopDefaultCommand&&i.stopDefault())},e.prototype.render=function(){var t=this.model,n=t.get("label"),i=this.$el;return!t.get("el")&&i.empty(),this.updateAttributes(),n&&i.append(n),this.checkActive(),this.updateDisable(),this},e}(ho);const Mz=Pz;var Rz=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Lz=function(r){Rz(e,r);function e(t){var n=r.call(this,{collection:t})||this;return n.listenTo(n.collection,"add",n.addTo),n.listenTo(n.collection,"reset remove",n.render),n.className=n.pfx+"buttons",n}return e.prototype.addTo=function(t){this.addToCollection(t)},e.prototype.addToCollection=function(t,n){var i=n||null,o=t.get("el"),a=new Mz({el:o,model:t}),l=a.render().el;return i?i.appendChild(l):this.$el.append(l),l},e.prototype.render=function(){var t=this,n=document.createDocumentFragment();return this.$el.empty(),this.collection.each(function(i){return t.addToCollection(i,n)}),this.$el.append(n),this.$el.attr("class",(0,z.result)(this,"className")),this},e}(ho);const Nz=Lz;var jz=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),j_=function(){return j_=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},j_.apply(this,arguments)},Iz=function(r){jz(e,r);function e(t){var n=r.call(this,{model:t,el:t.get("el")})||this;return n.className=n.pfx+"panel",n.id=n.pfx+t.get("id"),n.listenTo(t,"change:appendContent",n.appendContent),n.listenTo(t,"change:content",n.updateContent),n.listenTo(t,"change:visible",n.toggleVisible),t.view=n,n}return e.prototype.appendContent=function(){this.$el.append(this.model.get("appendContent"))},e.prototype.updateContent=function(){this.$el.html(this.model.get("content"))},e.prototype.toggleVisible=function(){if(!this.model.get("visible")){this.$el.addClass("".concat(this.ppfx,"hidden"));return}this.$el.removeClass("".concat(this.ppfx,"hidden"))},e.prototype.attributes=function(){return this.model.get("attributes")},e.prototype.initResize=function(){var t=this.em,n=t==null?void 0:t.Editor,i=this.model.get("resizable");if(n&&i){var o=i===!0?[!0,!0,!0,!0]:i,a=o.length,l=void 0,u=void 0,c=void 0,d=!1;if(a==2){var h=o;l=h[0],c=h[0],u=h[1],d=h[1]}else if(a==4){var h=o;l=h[0],u=h[1],c=h[2],d=h[3]}var g=new n.Utils.Resizer(j_({tc:l,cr:u,bc:c,cl:d,tl:!1,tr:!1,bl:!1,br:!1,appendTo:this.el,silentFrames:!0,avoidContainerUpdate:!0,prefix:n.getConfig().stylePrefix,onEnd:function(){t.Canvas.refresh({all:!0})},posFetcher:function(m,b){var w=b.target,x=m.style,_=g.getConfig(),C=_.keyWidth,O=_.keyHeight,A=m.getBoundingClientRect(),I=w=="container",Q=x[C],$=x[O],Z=Q&&!I?parseFloat(Q):A.width,P=$&&!I?parseFloat($):A.height;return{left:0,top:0,width:Z,height:P}}},i&&typeof i!="boolean"?i:{}));g.blur=function(){},g.focus(this.el)}},e.prototype.render=function(){var t=this.model.buttons,n=this.$el,i=this.ppfx,o="".concat(this.className," ").concat(this.id," ").concat(i,"one-bg ").concat(i,"two-color");if(n.addClass(o),this.toggleVisible(),t.length){var a=new Nz(t);n.append(a.render().el)}return n.append(this.model.get("content")),this},e}(ho);const Vz=Iz;var Uz=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Bz=function(r){Uz(e,r);function e(t){var n=r.call(this,{collection:t})||this;return n.listenTo(t,"add",n.addTo),n.listenTo(t,"reset",n.render),n.listenTo(t,"remove",n.onRemove),n.className=n.pfx+"panels",n}return e.prototype.onRemove=function(t){var n=t.view;n&&n.remove()},e.prototype.addTo=function(t){this.addToCollection(t)},e.prototype.addToCollection=function(t,n){var i=n||null,o=t.get("el"),a=new Vz(t),l=a.render().el,u=t.get("appendTo");if(!o)if(u){var c=document.querySelector(u);c==null||c.appendChild(l)}else i?i.appendChild(l):this.$el.append(l);return a.initResize(),l},e.prototype.render=function(){var t=this,n=this.$el,i=document.createDocumentFragment();return n.empty(),this.collection.each(function(o){return t.addToCollection(o,i)}),n.append(i),n.attr("class",this.className),this},e}(ho);const Fz=Bz;var zz=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Hz=function(r){zz(e,r);function e(t){var n=r.call(this,t,"Panels",Sz())||this;return n.panels=new Dz(n,n.config.defaults),n}return e.prototype.getPanels=function(){return this.panels},e.prototype.getPanelsEl=function(){var t;return(t=this.PanelsViewObj)===null||t===void 0?void 0:t.el},e.prototype.addPanel=function(t){return this.panels.add(t)},e.prototype.removePanel=function(t){return this.panels.remove(t)},e.prototype.getPanel=function(t){var n=this.panels.where({id:t});return n.length?n[0]:null},e.prototype.addButton=function(t,n){var i=this.getPanel(t);return i?i.buttons.add(n):null},e.prototype.removeButton=function(t,n){var i=this.getPanel(t);return i&&i.buttons.remove(n)},e.prototype.getButton=function(t,n){var i=this.getPanel(t);if(i){var o=i.buttons.where({id:n});return o.length?o[0]:null}return null},e.prototype.render=function(){var t;return(t=this.PanelsViewObj)===null||t===void 0||t.remove(),this.PanelsViewObj=new Fz(this.panels),this.PanelsViewObj.render().el},e.prototype.active=function(){this.getPanels().each(function(t){t.buttons.each(function(n){n.get("active")&&n.trigger("updateActive")})})},e.prototype.disableButtons=function(){this.getPanels().each(function(t){t.buttons.each(function(n){n.get("disable")&&n.trigger("change:disable")})})},e.prototype.destroy=function(){this.panels.reset(),this.panels.stopListening(),this.PanelsViewObj&&this.PanelsViewObj.remove()},e}(Oi);const Wz=Hz;var Kz=function(){return{stylePrefix:"cm-",optsCodeViewer:{}}};const qz=Kz;var Gz=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Yz=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t},Xz=function(r){Gz(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.build=function(t,n){n===void 0&&(n={});var i=n.em,o=Yz(n,["em"]),a=o;if(n.cleanId&&i){var l=i.Css.getAll(),u=l.toJSON().map(function(c){var d=c.selectors,h=d&&d.length===1&&d.models[0];return h&&h.isId()&&h.get("name")}).filter(Boolean);a.attributes||(a.attributes=function(c,d){var h=d.id;return h&&h[0]==="i"&&!c.get("script")&&!c.get("script-export")&&!c.get("attributes").id&&u.indexOf(h)<0&&delete d.id,d})}return t.toHTML(a)},e}(ne.Kx);const Zz=Xz;var $z=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Jz=function(r){$z(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.build=function(t){var n=this,i=t.toJSON();return this.beforeEach(i),(0,z.each)(i,function(o,a){var l=i[a];if(l instanceof ne.Kx)i[a]=n.build(l);else if(l instanceof ne.pM){var u=l;i[a]=[],u.length&&u.forEach(function(c,d){i[a][d]=n.build(c)})}}),i},e.prototype.beforeEach=function(t){delete t.status},e}(ne.Kx);const Qz=Jz;var tH=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();function eH(r){var e,t=((e=r.toString().match(/\{([\s\S]*)\}/m))===null||e===void 0?void 0:e[1])||"";return t.replace(/^\s*\/\/.*$/gm,"").trim().length===0}var nH=function(r){tH(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.mapModel=function(t){var n,i=this,o="",a=t.get("script-export")||t.get("script"),l=t.get("type"),u=t.get("components"),c=t.getId();if(a){var d=t.get("attributes");d=(0,z.extend)({},d,{id:c}),t.set("attributes",d,{silent:!0});var h=t.getScriptString(a),g=t.get("script-props");if(t.get("scriptUpdated")&&!g)this.mapJs[l+"-"+c]={ids:[c],code:h};else{var m=void 0,b=this.mapJs[l];if(g&&(m=t.__getScriptProps()),b)b.ids.push(c),m&&(b.props[c]=m);else{var w={ids:[c],code:h};m&&(w.props=(n={},n[c]=m,n)),this.mapJs[l]=w}}}return u.forEach(function(x){o+=i.mapModel(x)}),o},e.prototype.build=function(t){this.mapJs={},this.mapModel(t);var n="";for(var i in this.mapJs){var o=this.mapJs[i];if(o.code)if(o.props){if(eH(o.code))continue;n+=`
          var props = `.concat(JSON.stringify(o.props),`;
          var ids = Object.keys(props).map(function(id) { return '#'+id }).join(',');
          var els = document.querySelectorAll(ids);
          for (var i = 0, len = els.length; i < len; i++) {
            var el = els[i];
            (`).concat(o.code,`.bind(el))(props[el.id]);
          }`)}else{var a="#"+o.ids.join(", #");n+=`
          var items = document.querySelectorAll('`.concat(a,`');
          for (var i = 0, len = items.length; i < len; i++) {
            (function(){
`).concat(o.code,`
}.bind(items[i]))();
          }`)}}return n},e}(ne.Kx);const rH=nH;var iH=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),I_=function(){return I_=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},I_.apply(this,arguments)},$f;(0,Ht.hasWin)()&&($f=Ye(4408),Ye(8253),Ye(7389),Ye(3640));var jD=function(r){iH(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.defaults=function(){return{input:"",label:"",codeName:"",theme:"hopscotch",readOnly:!0,lineNumbers:!0,autoFormat:!0}},e.prototype.init=function(t){return(0,z.bindAll)(this,"onChange"),this.editor=$f.fromTextArea(t,I_({dragDrop:!1,lineWrapping:!0,mode:this.get("codeName")},this.attributes)),this.element=t,this.editor.on("change",this.onChange),this},e.prototype.onChange=function(){this.trigger("update",this)},e.prototype.getEditor=function(){return this.editor},e.prototype.getElement=function(){return this.element},e.prototype.setElement=function(t){return this.element=t,this},e.prototype.refresh=function(){return this.getEditor().refresh(),this},e.prototype.focus=function(){return this.getEditor().focus(),this},e.prototype.getContent=function(){var t=this.getEditor();return t&&t.getValue()},e.prototype.setContent=function(t,n){var i=this;n===void 0&&(n={});var o=this.editor;if(o){o.setValue(t);var a=this.get("autoFormat"),l=o.autoFormatRange&&(a===!0||Array.isArray(a)&&a.includes(this.get("codeName")));l&&($f.commands.selectAll(o),o.autoFormatRange(o.getCursor(!0),o.getCursor(!1)),$f.commands.goDocStart(o)),!n.noRefresh&&setTimeout(function(){return i.refresh()})}},e}(ne.Kx);const oH=jD;jD.prototype.CodeMirror=$f;var aH=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),sH=function(r,e){return Object.defineProperty?Object.defineProperty(r,"raw",{value:e}):r.raw=e,r},lH=function(r){aH(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.template=function(t){var n=t.pfx,i=t.codeName,o=t.label;return yi(tO||(tO=sH([`
      <div class="`,'editor" id="',"",`">
        <div id="`,'title">',`</div>
        <div id="`,`code"></div>
      </div>
    `],[`
      <div class="`,'editor" id="',"",`">
        <div id="`,'title">',`</div>
        <div id="`,`code"></div>
      </div>
    `])),n,n,i,n,o,n)},e.prototype.initialize=function(t){this.config=t.config||{},this.pfx=this.config.stylePrefix},e.prototype.render=function(){var t,n,i=this,o=i.model,a=i.pfx,l=i.$el,u=o.toJSON(),c=o.get("input")||((n=(t=o).getElement)===null||n===void 0?void 0:n.call(t));return u.pfx=a,l.html(this.template(u)),l.attr("class","".concat(a,"editor-c")),l.find("#".concat(a,"code")).append(c),this},e}(ne.Ss);const uH=lH;var tO,cH=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),rg=function(){return rg=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},rg.apply(this,arguments)},fH="CodeMirror",dH=function(r){cH(e,r);function e(t){var n=r.call(this,t,"CodeManager",qz())||this;n.EditorView=uH;var i=n.config,o=i.pStylePrefix;return o&&(i.stylePrefix=o+i.stylePrefix),n.generators={},n.viewers={},n.defGenerators={html:new Zz,css:new l6,json:new Qz,js:new rH},n.defViewers={CodeMirror:new oH},n.loadDefaultGenerators().loadDefaultViewers(),n}return e.prototype.addGenerator=function(t,n){return this.generators[t]=n,this},e.prototype.getGenerator=function(t){return this.generators[t]},e.prototype.getGenerators=function(){return this.generators},e.prototype.addViewer=function(t,n){return this.viewers[t]=n,this},e.prototype.getViewer=function(t){return this.viewers[t]},e.prototype.getViewers=function(){return this.viewers},e.prototype.createViewer=function(t){t===void 0&&(t={});var n=(0,z.isUndefined)(t.type)?fH:t.type,i=this.getViewer(n)&&this.getViewer(n).clone(),o=document.createElement("div"),a=document.createElement("textarea");return o.appendChild(a),i.set(rg(rg({},this.config.optsCodeViewer),t)),i.init(a),i.setElement(o),i},e.prototype.updateViewer=function(t,n){t.setContent(n)},e.prototype.getCode=function(t,n,i){i===void 0&&(i={}),i.em=this.em;var o=this.getGenerator(n);return o?o.build(t,i):""},e.prototype.loadDefaultGenerators=function(){for(var t in this.defGenerators)this.addGenerator(t,this.defGenerators[t]);return this},e.prototype.loadDefaultViewers=function(){for(var t in this.defViewers)this.addViewer(t,this.defViewers[t]);return this},e.prototype.destroy=function(){},e}(Oi);const hH=dH;var pH=Ye(4729),vH=Ye.n(pH),gH=function(){return{maximumStackLength:500,trackSelection:!0}};const mH=gH;var mi;(function(r){r.update="update",r.undo="undo",r.redo="redo",r.load="load",r.projectLoad="project:load",r.projectGet="project:get",r.log="log",r.telemetryInit="telemetry:init",r.destroy="destroy",r.destroyed="destroyed"})(mi||(mi={}));var yH=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ha=function(){return ha=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},ha.apply(this,arguments)},_H=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))},Xh=function(r){return r.avoidStore||r.noUndo||r.partial},eO=function(r){return Object.keys(r.changedAttributes())},Zh=new WeakMap,bH=function(r){yH(e,r);function e(t){var n=r.call(this,t,"UndoManager",mH())||this;n.config._disable&&(n.config.maximumStackLength=0);var i=!0;return n.um=new(vH())(ha({track:!0,register:[]},n.config)),n.um.changeUndoType("change",{condition:function(o){var a=o.get("_undo");if(a){var l=o.get("_undoexc");if((0,z.isArray)(l)&&eO(o).some(function(u){return l.indexOf(u)>=0}))return!1;if((0,z.isBoolean)(a)||(0,z.isArray)(a)&&eO(o).some(function(u){return a.indexOf(u)>=0}))return!0}return!1},on:function(o,a,l){var u=Zh.get(o);u||(u=o.previousAttributes(),Zh.set(o,u));var c=l||a||{};if(c.noUndo&&setTimeout(function(){Zh.delete(o)}),!Xh(c)){var d=o.toJSON({fromUndo:i}),h={object:o,before:u,after:d};return Zh.delete(o),(0,z.isEmpty)(d)?void 0:h}}}),n.um.changeUndoType("add",{on:function(o,a,l){if(l===void 0&&(l={}),!(Xh(l)||!n.isRegistered(a)))return{object:a,before:void 0,after:o,options:ha(ha({},l),{fromUndo:i})}}}),n.um.changeUndoType("remove",{on:function(o,a,l){if(l===void 0&&(l={}),!(Xh(l)||!n.isRegistered(a)))return{object:a,before:o,after:void 0,options:ha(ha({},l),{fromUndo:i})}}}),n.um.changeUndoType("reset",{undo:function(o,a){o.reset(a,{fromUndo:i})},redo:function(o,a,l){o.reset(l,{fromUndo:i})},on:function(o,a){if(a===void 0&&(a={}),!(Xh(a)||!n.isRegistered(o)))return{object:o,before:a.previousModels,after:_H([],o.models,!0),options:ha(ha({},a),{fromUndo:i})}}}),n.um.on("undo redo",function(){t.getSelectedAll().map(function(o){return o.trigger("rerender:layer")})}),[mi.undo,mi.redo].forEach(function(o){return n.um.on(o,function(){return t.trigger(o)})}),n}return e.prototype.postLoad=function(){var t=this,n=t.config,i=t.em;n.trackSelection&&i&&this.add(i.get("selected"))},e.prototype.add=function(t){return this.um.register(t),this},e.prototype.remove=function(t){return this.um.unregister(t),this},e.prototype.removeAll=function(){return this.um.unregisterAll(),this},e.prototype.start=function(){return this.um.startTracking(),this},e.prototype.stop=function(){return this.um.stopTracking(),this},e.prototype.undo=function(t){t===void 0&&(t=!0);var n=this,i=n.em,o=n.um;return!i.isEditing()&&o.undo(t),this},e.prototype.undoAll=function(){return this.um.undoAll(),this},e.prototype.redo=function(t){t===void 0&&(t=!0);var n=this,i=n.em,o=n.um;return!i.isEditing()&&o.redo(t),this},e.prototype.redoAll=function(){return this.um.redoAll(),this},e.prototype.hasUndo=function(){return!!this.um.isAvailable("undo")},e.prototype.hasRedo=function(){return!!this.um.isAvailable("redo")},e.prototype.isRegistered=function(t){return!!this.getInstance().objectRegistry.isRegistered(t)},e.prototype.getStack=function(){return this.um.stack},e.prototype.getStackGroup=function(){var t=[],n=[];return this.getStack().forEach(function(i){var o=i.get("magicFusionIndex");n.indexOf(o)<0&&(n.push(o),t.push(i))}),t},e.prototype.skip=function(t){var n=!!this.um.isTracking();n&&this.stop(),t(),n&&this.start()},e.prototype.getGroupedStack=function(){var t={},n=this.getStack(),i=function(o,a){var l=o.attributes,u=l.type,c=l.after,d=l.before,h=l.object,g=l.options,m=g===void 0?{}:g;return{index:a,type:u,after:c,before:d,object:h,options:m}};return n.forEach(function(o,a){var l=o.get("magicFusionIndex"),u=i(o,a);t[l]?t[l].push(u):t[l]=[u]}),Object.keys(t).map(function(o){var a=t[o];return{index:a[a.length-1].index,actions:a,labels:(0,z.unique)(a.reduce(function(l,u){var c,d=(c=u.options)===null||c===void 0?void 0:c.action;return d&&l.push(d),l},[]))}})},e.prototype.goToGroup=function(t){var n=this;if(t){var i=this.getPointer(),o=t.index-i;(0,z.times)(Math.abs(o),function(){n[o<0?"undo":"redo"](!1)})}},e.prototype.getPointer=function(){return this.getStack().pointer},e.prototype.clear=function(){return this.um.clear(),this},e.prototype.getInstance=function(){return this.um},e.prototype.destroy=function(){this.clear().removeAll()},e}(Oi);const wH=bH;var SH=function(){return{stylePrefix:"rte-",adjustToolbar:!0,actions:["bold","italic","underline","strikethrough","link","wrap"],custom:!1}};const CH=SH;var Iu=function(){return Iu=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Iu.apply(this,arguments)},ig;(function(r){r[r.ACTIVE=1]="ACTIVE",r[r.INACTIVE=0]="INACTIVE",r[r.DISABLED=-1]="DISABLED"})(ig||(ig={}));var Zy="_rte",sl={ACTIVE:1,INACTIVE:0,DISABLED:-1},$h=function(r,e){e===void 0&&(e="A");var t=r.selection()||{},n=t.anchorNode,i=t.focusNode,o=n==null?void 0:n.parentNode,a=i==null?void 0:i.parentNode;return(o==null?void 0:o.nodeName)==e||(a==null?void 0:a.nodeName)==e},og="data-selectme",gf={bold:{name:"bold",icon:"<b>B</b>",attributes:{title:"Bold"},result:function(r){return r.exec("bold")}},italic:{name:"italic",icon:"<i>I</i>",attributes:{title:"Italic"},result:function(r){return r.exec("italic")}},underline:{name:"underline",icon:"<u>U</u>",attributes:{title:"Underline"},result:function(r){return r.exec("underline")}},strikethrough:{name:"strikethrough",icon:"<s>S</s>",attributes:{title:"Strike-through"},result:function(r){return r.exec("strikeThrough")}},link:{icon:`<svg viewBox="0 0 24 24">
          <path fill="currentColor" d="M3.9,12C3.9,10.29 5.29,8.9 7,8.9H11V7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H11V15.1H7C5.29,15.1 3.9,13.71 3.9,12M8,13H16V11H8V13M17,7H13V8.9H17C18.71,8.9 20.1,10.29 20.1,12C20.1,13.71 18.71,15.1 17,15.1H13V17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7Z" />
        </svg>`,name:"link",attributes:{style:"font-size:1.4rem;padding:0 4px 2px;",title:"Link"},state:function(r){return r&&r.selection()&&$h(r)?sl.ACTIVE:sl.INACTIVE},result:function(r){$h(r)?r.exec("unlink"):r.insertHTML('<a href="" '.concat(og,">").concat(r.selection(),"</a>"),{select:!0})}},wrap:{name:"wrap",icon:`<svg viewBox="0 0 24 24">
            <path fill="currentColor" d="M20.71,4.63L19.37,3.29C19,2.9 18.35,2.9 17.96,3.29L9,12.25L11.75,15L20.71,6.04C21.1,5.65 21.1,5 20.71,4.63M7,14A3,3 0 0,0 4,17C4,18.31 2.84,19 2,19C2.92,20.22 4.5,21 6,21A4,4 0 0,0 10,17A3,3 0 0,0 7,14Z" />
        </svg>`,attributes:{title:"Wrap for style"},state:function(r){return r!=null&&r.selection()&&$h(r,"SPAN")?sl.DISABLED:sl.INACTIVE},result:function(r){!$h(r,"SPAN")&&r.insertHTML("<span ".concat(og,">").concat(r.selection(),"</span>"),{select:!0})}}},xH=function(){function r(e,t,n){n===void 0&&(n={});var i=this;if(this.em=e,this.settings=n,t[Zy])return t[Zy];t[Zy]=this,this.setEl(t),this.updateActiveActions=this.updateActiveActions.bind(this),this.__onKeydown=this.__onKeydown.bind(this),this.__onPaste=this.__onPaste.bind(this);var o=(n.actions||[]).map(function(d){var h=d;return(0,z.isString)(d)?h=Iu({},gf[d]):gf[d.name]&&(h=Iu(Iu({},gf[d.name]),d)),h}),a=o.length?o:Object.keys(gf).map(function(d){return gf[d]});n.classes=Iu({actionbar:"actionbar",button:"action",active:"active",disabled:"disabled",inactive:"inactive"},n.classes);var l=n.classes,u=n.actionbar;if(this.actionbar=u,this.classes=l,this.actions=a,!u){if(!this.isCustom(n.module)){var c=n.actionbarContainer;u=document.createElement("div"),u.className=l.actionbar,c==null||c.appendChild(u),this.actionbar=u}a.forEach(function(d){return i.addAction(d)})}return n.styleWithCSS&&this.exec("styleWithCSS"),this}return r.prototype.isCustom=function(e){var t=e||this.em.RichTextEditor;return!!(t!=null&&t.config.custom||t!=null&&t.customRte)},r.prototype.destroy=function(){},r.prototype.setEl=function(e){this.el=e,this.doc=e.ownerDocument},r.prototype.updateActiveActions=function(){var e=this,t=this.getActions();t.forEach(function(n){var i=n.update,o=n.btn,a=e.classes,l=a.active,u=a.inactive,c=a.disabled,d=n.state,h=n.name,g=e.doc,m=ig.INACTIVE;if(o&&(o.className=o.className.replace(l,"").trim(),o.className=o.className.replace(u,"").trim(),o.className=o.className.replace(c,"").trim()),d){var b=d(e,g);if(m=b,o)switch(b){case sl.ACTIVE:o.className+=" ".concat(l);break;case sl.INACTIVE:o.className+=" ".concat(u);break;case sl.DISABLED:o.className+=" ".concat(c);break}}else g.queryCommandSupported(h)&&g.queryCommandState(h)&&(o&&(o.className+=" ".concat(l)),m=ig.ACTIVE);n.currentState=m,i==null||i(e,n)}),t.length&&this.em.RichTextEditor.__dbdTrgCustom()},r.prototype.enable=function(e){return this.enabled?this:this.__toggleEffects(!0,e)},r.prototype.disable=function(){return this.__toggleEffects(!1)},r.prototype.__toggleEffects=function(e,t){e===void 0&&(e=!1),t===void 0&&(t={});var n=e?le.on:le.AU,i=this,o=i.el,a=i.doc,l=this.actionbarEl();if(l&&(l.style.display=e?"":"none"),o.contentEditable="".concat(!!e),n(o,"mouseup keyup",this.updateActiveActions),n(a,"keydown",this.__onKeydown),n(a,"paste",this.__onPaste),this.enabled=e,e){var u=t.event;if(this.syncActions(),this.updateActiveActions(),u){var c=null;if(a.caretRangeFromPoint){var d=(0,le.G2)(u);c=a.caretRangeFromPoint(d.clientX,d.clientY)}else u.rangeParent&&(c=a.createRange(),c.setStart(u.rangeParent,u.rangeOffset));var h=a.getSelection();h==null||h.removeAllRanges(),c&&(h==null||h.addRange(c))}o.focus()}return this},r.prototype.__onKeydown=function(e){var t=this.em,n=t.RichTextEditor.getConfig().onKeydown;if(n)return n({ev:e,rte:this,editor:t.getEditor()});var i=this.doc,o=["insertOrderedList","insertUnorderedList"];e.key==="Enter"&&!o.some(function(a){return i.queryCommandState(a)})&&(i.execCommand("insertLineBreak"),e.preventDefault())},r.prototype.__onPaste=function(e){var t=this.em,n=t.RichTextEditor.getConfig().onPaste;if(n)return n({ev:e,rte:this,editor:t.getEditor()});var i=e.clipboardData,o=i.getData("text"),a=i.getData("text/html");if(o&&!a){e.preventDefault();var l=o.replace(/(?:\r\n|\r|\n)/g,"<br/>");this.doc.execCommand("insertHTML",!1,l)}},r.prototype.syncActions=function(){var e=this;this.getActions().forEach(function(t){if(e.actionbar&&(!t.state||t.state&&t.state(e,e.doc)>=0)){var n=t.event||"click",i=t.btn;i&&(i["on".concat(n)]=function(){t.result(e,t),e.updateActiveActions()})}})},r.prototype.addAction=function(e,t){t===void 0&&(t={});var n=t.sync,i=this.actionbarEl();if(i){var o=e.icon,a=e.attributes,l=a===void 0?{}:a,u=document.createElement("span");u.className=this.classes.button,e.btn=u;for(var c in l)u.setAttribute(c,l[c]);typeof o=="string"?u.innerHTML=o:u.appendChild(o),i.appendChild(u)}n&&(this.actions.push(e),this.syncActions())},r.prototype.getActions=function(){return this.actions},r.prototype.selection=function(){return this.doc.getSelection()},r.prototype.exec=function(e,t){this.doc.execCommand(e,!1,t)},r.prototype.actionbarEl=function(){return this.actionbar},r.prototype.insertHTML=function(e,t){var n=t===void 0?{}:t,i=n.select,o=this,a=o.em,l=o.doc,u=o.el,c=l.getSelection();if(c&&c.rangeCount){var d=(0,Ht.getComponentModel)(u)||a.getSelected(),h=l.createElement("div"),g=c.getRangeAt(0);g.deleteContents(),(0,z.isString)(e)?h.innerHTML=e:e&&h.appendChild(e),Array.prototype.slice.call(h.childNodes).forEach(function(m){g.insertNode(m)}),c.removeAllRanges(),c.addRange(g),u.focus(),i&&d&&(d.once("rte:disable",function(){var m=d.find("[".concat(og,"]"))[0];m&&(a.setSelected(m),m.removeAttributes(og))}),d.trigger("disable"))}},r}();const OH=xH;var EH=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ag=function(){return ag=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},ag.apply(this,arguments)},$y=function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function l(d){try{c(n.next(d))}catch(h){a(h)}}function u(d){try{c(n.throw(d))}catch(h){a(h)}}function c(d){d.done?o(d.value):i(d.value).then(l,u)}c((n=n.apply(r,e||[])).next())})},Jy=function(r,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(c){return function(d){return u([c,d])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(t=0)),t;)try{if(n=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){t.label=c[1];break}if(c[0]===6&&t.label<o[1]){t.label=o[1],o=c;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(c);break}o[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(r,t)}catch(d){c=[6,d],i=0}finally{n=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},TH=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))},Qy="".concat(wp.refresh," frame:scroll ").concat(mn.I.update),AH="rte:enable",DH="rte:disable",kH="rte:custom",PH={enable:AH,disable:DH,custom:kH},MH=function(r){EH(e,r);function e(t){var n=r.call(this,t,"RichTextEditor",CH())||this;n.events=PH;var i=n.config,o=i.pStylePrefix;o&&(i.stylePrefix=o+i.stylePrefix),n.pfx=i.stylePrefix,n.actions=i.actions||[];var a=new ne.Kx;return n.model=a,a.on("change:currentView",n.__trgCustom,n),n.__dbdTrgCustom=(0,z.debounce)(function(){return n.__trgCustom()},0),n}return e.prototype.onLoad=function(){if((0,Ht.hasWin)()){var t=this.config,n=t.pStylePrefix,i=t.custom,o=(0,le.a_)("div",{class:(0,le.cx)("".concat(n,"rte-toolbar"),!i&&"".concat(n,"one-bg ").concat(n,"rte-toolbar-ui"))});this.toolbar=o,this.initRte((0,le.a_)("div")),(0,le.on)(o,"mousedown",function(a){return a.stopPropagation()})}},e.prototype.__trgCustom=function(){var t=this,n=t.model,i=t.em,o=t.events;i.trigger(o.custom,{enabled:!!n.get("currentView"),container:this.getToolbarEl(),actions:this.getAll()})},e.prototype.destroy=function(){var t,n,i;(t=this.globalRte)===null||t===void 0||t.destroy(),(i=(n=this.customRte)===null||n===void 0?void 0:n.destroy)===null||i===void 0||i.call(n),this.model.stopListening().clear({silent:!0}),this.__dbdTrgCustom.cancel(),(0,le.YZ)(this.toolbar)},e.prototype.postRender=function(t){var n=t.model.get("Canvas");this.toolbar.style.pointerEvents="all",this.hideToolbar(),n.getToolsEl().appendChild(this.toolbar)},e.prototype.initRte=function(t){var n=this.globalRte,i=this,o=i.em,a=i.pfx,l=i.actionbar,u=i.config,c=this.actions||TH([],u.actions,!0),d={actionbar:"".concat(a,"actionbar"),button:"".concat(a,"action"),active:"".concat(a,"active"),inactive:"".concat(a,"inactive"),disabled:"".concat(a,"disabled")};return n?(n.em=o,n.setEl(t)):(n=new OH(o,t,{classes:d,actions:c,actionbar:l,actionbarContainer:this.toolbar,module:this}),this.globalRte=n),n.actionbar&&(this.actionbar=n.actionbar),n.actions&&(this.actions=n.actions),n},e.prototype.add=function(t,n){var i;n===void 0&&(n={}),n.name=t,(i=this.globalRte)===null||i===void 0||i.addAction(n,{sync:!0})},e.prototype.get=function(t){var n,i;return(n=this.globalRte)===null||n===void 0||n.getActions().forEach(function(o){o.name==t&&(i=o)}),i},e.prototype.getAll=function(){var t;return((t=this.globalRte)===null||t===void 0?void 0:t.getActions())||[]},e.prototype.remove=function(t){var n,i=this.getAll(),o=this.get(t);if(o){var a=o.btn,l=i.indexOf(o);(n=a==null?void 0:a.parentNode)===null||n===void 0||n.removeChild(a),i.splice(l,1)}return o},e.prototype.run=function(t){var n=this.globalRte,i=(0,z.isString)(t)?this.get(t):t;n&&i&&(i.result(n,i),n.updateActiveActions())},e.prototype.getToolbarEl=function(){return this.toolbar},e.prototype.updatePosition=function(){var t=this,n=t.em,i=t.toolbar,o="px",a=n.Canvas,l=i.style,u=a.getTargetToElementFixed(this.lastEl,i,{event:"rteToolbarPosUpdate",left:0});["top","left","bottom","right"].forEach(function(c){var d=u[c];(0,Ht.isDef)(d)&&(l[c]=(0,z.isString)(d)?d:(d||0)+o)})},e.prototype.enable=function(t,n,i){return $y(this,void 0,void 0,function(){var o,a,l,u,c;return Jy(this,function(d){switch(d.label){case 0:return this.lastEl=t.el,o=this,a=o.customRte,l=o.em,u=t.getChildrenContainer(),this.toolbar.style.display="",[4,a?a.enable(u,n,i):this.initRte(u).enable(i)];case 1:return c=d.sent(),l&&(setTimeout(this.updatePosition.bind(this),0),l.off(Qy,this.updatePosition,this),l.on(Qy,this.updatePosition,this),l.trigger("rte:enable",t,c)),this.model.set({currentView:t}),[2,c]}})})},e.prototype.getContent=function(t,n){return $y(this,void 0,void 0,function(){var i,o;return Jy(this,function(a){switch(a.label){case 0:return i=this.customRte,o=t.getChildrenContainer(),i&&n&&(0,z.isFunction)(i.getContent)?[4,i.getContent(o,n,{view:t})]:[3,2];case 1:return[2,a.sent()];case 2:return[2,o.innerHTML]}})})},e.prototype.hideToolbar=function(){var t=this.toolbar.style,n="-1000px";t.top=n,t.left=n,t.display="none"},e.prototype.disable=function(t,n){return $y(this,arguments,void 0,function(i,o,a){var l,u,c,d;return a===void 0&&(a={}),Jy(this,function(h){switch(h.label){case 0:return l={},u=this.em,c=this.customRte,c?[4,c.disable(i.getChildrenContainer(),o,ag(ag({},a),{view:i}))]:[3,2];case 1:return d=h.sent(),d&&(l=d),[3,3];case 2:o&&o.disable(),h.label=3;case 3:return this.hideToolbar(),u&&(u.off(Qy,this.updatePosition,this),!a.fromMove&&u.trigger("rte:disable",i,o)),this.model.unset("currentView"),[2,l]}})})},e}(Oi);const RH=MH;var LH=function(){return{sectors:[{name:"General",open:!1,properties:["display","float","position","top","right","left","bottom"]},{name:"Flex",open:!1,properties:["flex-direction","flex-wrap","justify-content","align-items","align-content","order","flex-basis","flex-grow","flex-shrink","align-self"]},{name:"Dimension",open:!1,properties:["width","height","max-width","min-height","margin","padding"]},{name:"Typography",open:!1,properties:["font-family","font-size","font-weight","letter-spacing","color","line-height","text-align","text-shadow"]},{name:"Decorations",open:!1,properties:["background-color","border-radius","border","box-shadow","background"]},{name:"Extra",open:!1,properties:["opacity","transition","transform"]}],appendTo:"",stylePrefix:"sm-",custom:!1,hideNotStylable:!0,highlightChanged:!0,highlightComputed:!0,showComputed:!0,clearProperties:!0,avoidComputed:["width","height"]}};const NH=LH;var jH=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Xr=function(){return Xr=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Xr.apply(this,arguments)},IH=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t},nO=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))},yw=function(r){jH(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.getDefaults=function(){return(0,z.result)(this.prototype,"defaults")},e.prototype.defaults=function(){return{name:"",property:"",type:"",defaults:"",info:"",value:"",icon:"",functionName:"",status:"",visible:!0,fixedValues:["initial","inherit"],full:!1,important:!1,toRequire:!1,requires:void 0,requiresParent:null,parentTarget:null}},e.prototype.initialize=function(t,n){t===void 0&&(t={}),n===void 0&&(n={}),this.em=n.em;var i=this.getId()||"",o=this.get("name")||this.get("label")||"";!this.get("property")&&this.set("property",(o||i).replace(/ /g,"-"));var a=this.get("property");!this.get("id")&&this.set("id",a),!o&&this.set("name",(0,Ht.capitalize)(a).replace(/-/g," ")),this.on("change",this.__upTargets),e.callInit(this,t,n)},e.prototype.__getParentProp=function(){var t,n;return(n=(t=this.collection)===null||t===void 0?void 0:t.opts)===null||n===void 0?void 0:n.parentProp},e.prototype.__upTargets=function(t,n){var i,o=this;n===void 0&&(n={});var a=this.em,l=a.Styles,u=this.getName(),c=n.__clear,d=c?"":this.__getFullValue(n),h=this.__getParentProp(),g=this.changedAttributes(),m=(0,z.keys)(g).reduce(function(O,A){return O[A]=o.previous(A),O},{}),b=nO(nO([],(0,z.keys)(this.__getClearProps()),!0),["__p"],!1),w=(0,z.keys)(g),x=!n.__up&&!h&&(c||b.some(function(O){return w.indexOf(O)>=0})),_=this.get("onChange"),C={property:this,from:m,to:g,value:d,opts:n};l.__trgEv(l.events.propertyUpdate,C),_&&_(C),x&&this.__upTargetsStyle((i={},i[u]=d,i),n)},e.prototype.__upTargetsStyle=function(t,n){var i,o=(i=this.em)===null||i===void 0?void 0:i.get("StyleManager");o==null||o.addStyleTargets(Xr(Xr({},t),{__p:!!n.avoidStore}),n)},e.prototype._up=function(t,n){n===void 0&&(n={}),n.noTarget&&(n.__up=!0);var i=n.partial,o=IH(n,["partial"]);return t.__p=!!(o.avoidStore||i),this.set(t,Xr(Xr({},o),{avoidStore:t.__p}))},e.prototype.up=function(t,n){n===void 0&&(n={}),this.set(t,Xr(Xr({},n),{__up:!0}))},e.prototype.init=function(){},e.prototype.getId=function(){return this.get("id")},e.prototype.getType=function(){return this.get("type")},e.prototype.getName=function(){return this.get("property")},e.prototype.getLabel=function(t){var n;t===void 0&&(t={});var i=t.locale,o=i===void 0?!0:i,a=this.getId(),l=this.get("name")||this.get("label");return o&&((n=this.em)===null||n===void 0?void 0:n.t("styleManager.properties.".concat(a)))||l},e.prototype.getValue=function(t){t===void 0&&(t={});var n=t.noDefault,i=this.get("value");return!this.hasValue()&&!n?this.getDefaultValue():i},e.prototype.hasValue=function(t){t===void 0&&(t={});var n=t.noParent,i=n&&this.getParentTarget(),o=this.get("value");return!(0,z.isUndefined)(o)&&o!==""&&!i},e.prototype.hasValueParent=function(){return this.hasValue()&&!this.hasValue({noParent:!0})},e.prototype.getStyle=function(t){var n;t===void 0&&(t={});var i=this.getName(),o=t.camelCase?(0,Ht.camelCase)(i):i;return n={},n[o]=this.__getFullValue(t),n},e.prototype.getDefaultValue=function(){var t=this.get("default");return"".concat((0,z.isUndefined)(t)?this.get("defaults"):t)},e.prototype.upValue=function(t,n){n===void 0&&(n={});var i=t===null||t===""?this.__getClearProps():this.__parseValue(t,n);return this._up(i,n)},e.prototype.isVisible=function(){return!!this.get("visible")},e.prototype.clear=function(t){return t===void 0&&(t={}),this._up(this.__getClearProps(),Xr(Xr({},t),{__clear:!0})),this},e.prototype.canClear=function(){var t=this.getParent();return t?t.__canClearProp(this):this.hasValue({noParent:!0})},e.prototype.getParent=function(){return this.__getParentProp()},e.prototype.isFull=function(){return!!this.get("full")},e.prototype.__parseValue=function(t,n){return this.parseValue(t,n)},e.prototype.__getClearProps=function(){return{value:"",important:!1}},e.prototype.setValue=function(t,n,i){n===void 0&&(n=!0),i===void 0&&(i={});var o=this.parseValue(t),a=!n;!a&&this.set({value:void 0},{avoidStore:a,silent:!0}),this.set(o,Xr({avoidStore:a},i))},e.prototype.setValueFromInput=function(t,n,i){i===void 0&&(i={}),this.setValue(t,n,Xr(Xr({},i),{fromInput:1}))},e.prototype.parseValue=function(t,n){n===void 0&&(n={});var i={value:t},o="!important",a=this.get("functionName")||"";if((0,z.isString)(t)&&t.indexOf(o)!==-1&&(i.value=t.replace(o,"").trim(),i.important=!0),!a&&!n.complete)return i;var l=[],u="".concat(i.value).trim(),c=u.indexOf("(")+1,d=a||u.substring(0,c-1);if(d&&(i.functionName=d),!a||u.indexOf("".concat(a,"("))===0){var h=u.lastIndexOf(")");l.push(c),h>=0&&l.push(h),i.value=String.prototype.substring.apply(u,l)}if(n.numeric){var g=parseFloat(i.value);i.unit=i.value.replace(g,""),i.value=g}return i},e.prototype.__getFullValue=function(t){var n=t===void 0?{}:t,i=n.withDefault;return!this.hasValue()&&i?this.getDefaultValue():this.getFullValue()},e.prototype.getFullValue=function(t,n){n===void 0&&(n={});var i=this.get("functionName"),o=this.getDefaultValue(),a=(0,z.isUndefined)(t)?this.get("value"):t,l=this.hasValue();if(a&&o&&a===o)return o;if(i&&l){var u=i==="url"?"'".concat(a.replace(/'|"/g,""),"'"):a;a="".concat(i,"(").concat(u,")")}return l&&this.get("important")&&!n.skipImportant&&(a="".concat(a," !important")),a||""},e.prototype.__setParentTarget=function(t){this.up({parentTarget:t})},e.prototype.getParentTarget=function(){return this.get("parentTarget")||null},e.prototype.__parseFn=function(t){t===void 0&&(t="");var n=t.indexOf("(")+1,i=t.lastIndexOf(")");return{name:t.substring(0,n-1).trim(),value:String.prototype.substring.apply(t,[n,i>=0?i:void 0]).trim()}},e.prototype.__checkVisibility=function(t){var n=t.target,i=t.component,o=t.sectors,a=i||n;if(!a)return!1;var l=this.getId(),u=this.getName(),c=this.get("toRequire"),d=this.get("requires"),h=this.get("requiresParent"),g=a.get("unstylable"),m=a.get("stylable-require"),b=a.get("stylable");if((0,z.isArray)(b)&&(b=b.indexOf(u)>=0),(0,z.isArray)(g)&&(b=g.indexOf(u)<0),c&&(b=!n||m&&(m.indexOf(l)>=0||m.indexOf(u)>=0)),o&&d){var w=(0,z.keys)(d);o.forEach(function(O){O.getProperties().forEach(function(A){if((0,z.includes)(w,A.id)){var I=d[A.id];b=b&&(0,z.includes)(I,A.get("value"))}})})}if(h){var x=i&&i.parent(),_=x&&x.getEl();if(_){var C=(0,Ht.hasWin)()?window.getComputedStyle(_):{};(0,z.each)(h,function(O,A){b=b&&C[A]&&(0,z.includes)(O,C[A])})}else b=!1}return!!b},e}(ne.Kx);const Cn=yw;yw.callParentInit=function(r,e,t,n){n===void 0&&(n={}),r.prototype.initialize.apply(e,[t,Xr(Xr({},n),{skipInit:1})])};yw.callInit=function(r,e,t){t===void 0&&(t={}),!t.skipInit&&r.init(e,t)};var VH=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Vu=function(){return Vu=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Vu.apply(this,arguments)},rO=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))},ID=function(r){return r==="integer"||r==="number"},UH=function(r){VH(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.defaults=function(){return Vu(Vu({},Cn.getDefaults()),{detached:!1,properties:[],separator:" ",join:null,fromStyle:null,toStyle:null,full:!0})},e.prototype.initialize=function(t,n){t===void 0&&(t={}),n===void 0&&(n={}),Cn.callParentInit(Cn,this,t,n);var i=this.em,o=new bw(this.get("properties")||[],{em:i,parentProp:this});this.set("properties",o,{silent:!0}),this.listenTo(o,"change",this.__upProperties),Cn.callInit(this,t,n)},Object.defineProperty(e.prototype,"properties",{get:function(){return this.get("properties")||[]},enumerable:!1,configurable:!0}),e.prototype.getProperties=function(){return rO([],this.get("properties").models,!0)},e.prototype.getProperty=function(t){return this.properties.filter(function(n){return n.getId()===t||n.getName()===t})[0]},e.prototype.getPropertyAt=function(t){return this.get("properties").at(t)},e.prototype.isDetached=function(){return!!this.get("detached")},e.prototype.getValues=function(t){var n=t===void 0?{}:t,i=n.byName;return this.getProperties().reduce(function(o,a){var l=i?a.getName():a.getId();return o[l]="".concat(a.__getFullValue()),o},{})},e.prototype.getSeparator=function(){return this.getSplitSeparator()},e.prototype.getJoin=function(){return this.__getJoin()},e.prototype.getStyleFromProps=function(t){var n;t===void 0&&(t={});var i=this.getName(),o=this.__getJoin(),a=this.get("toStyle"),l=this.getValues(),u={};if(a)u=a(l,{join:o,name:i,property:this});else if(l=this.getValues({byName:!0}),this.isDetached())u=l;else{var c=this.getProperties().map(function(d){return d.__getFullValue({withDefault:1})}).filter(Boolean).join(o);u=(n={},n[i]=c,n)}return this.isDetached()?u[i]="":(u[i]=u[i]||"",u=Vu(Vu({},u),this.getProperties().reduce(function(d,h){return d[h.getName()]="",d},{}))),t.camelCase?Object.keys(u).reduce(function(d,h){return d[(0,Ht.camelCase)(h)]=u[h],d},{}):u},e.prototype.getSplitSeparator=function(){return new RegExp("".concat(this.get("separator"),"(?![^\\(]*\\))"))},e.prototype.__upProperties=function(t,n){if(n===void 0&&(n={}),!(n.__up||n.__clearIn)){var i=this.__getParentProp();if(i)return i.__upProperties(this,n);this.__upTargetsStyleProps(n,t)}},e.prototype.__upTargetsStyleProps=function(t,n){var i;t===void 0&&(t={});var o=this.getStyleFromProps();if(this.isDetached()&&n){var a=n.getName();o=(i={},i[a]=o[a],i)}this.__upTargetsStyle(o,t)},e.prototype._up=function(t,n){return n===void 0&&(n={}),this.__setProperties(this.__getSplitValue(t.value),n),Cn.prototype._up.call(this,t,n),this},e.prototype.getStyle=function(t){return this.getStyleFromProps(t)},e.prototype.__getFullValue=function(t){if(t===void 0&&(t={}),this.isDetached()||t.__clear)return"";var n=this.getStyleFromProps()[this.getName()]||"";return v_(n)},e.prototype.__getJoin=function(){var t=this.get("join");return(0,z.isString)(t)?t:this.get("separator")},e.prototype.__styleHasProps=function(t){t===void 0&&(t={});var n=this.getName(),i=this.getProperties(),o=i.map(function(l){return l.getName()}),a=rO([n],o,!0);return a.some(function(l){return!(0,z.isUndefined)(t[l])&&t[l]!==""})},e.prototype.__splitValue=function(t,n){return v_(t).split(n).map(function(i){return i.trim()}).filter(Boolean)},e.prototype.__splitStyleName=function(t,n,i){var o=t[n];return this.__splitValue(o||"",i)},e.prototype.__getSplitValue=function(t,n){t===void 0&&(t="");var i=n===void 0?{}:n,o=i.byName,a=this.getProperties(),l=a.length===4&&a.every(function(d){return ID(d.getType())}),u=this.__splitValue(t,this.getSplitSeparator()),c={};return a.forEach(function(d,h){var g=u[h],m=(0,z.isUndefined)(g)?"":g;if(l){var b=u.length;m=u[h]||u[h%b+(b!=1&&b%2?1:0)]||m}var w=o?d.getName():d.getId();c[w]=m||""}),c},e.prototype.__getPropsFromStyle=function(t,n){if(t===void 0&&(t={}),n===void 0&&(n={}),!this.__styleHasProps(t))return null;var i=n.byName,o=this.getName(),a=this.getProperties(),l=this.getSplitSeparator(),u=this.get("fromStyle"),c=u?u(t,{property:this,name:o,separator:l}):{};if(!u){var d=t[o];c=this.__getSplitValue(d||"",{byName:i}),a.forEach(function(h){var g=t[h.getName()],m=i?h.getName():h.getId();!(0,z.isUndefined)(g)&&g!==""&&(c[m]=g)})}return c},e.prototype.__setProperties=function(t,n){t===void 0&&(t={}),n===void 0&&(n={}),this.getProperties().forEach(function(o){var a=t[o.getId()];o.__getFullValue()!==a&&o.upValue(a,n)});var i=(0,z.keys)(t).map(function(o){return t[o]}).join(" ");this.set("value",i,{silent:!0})},e.prototype.clear=function(){var t=this;return this.getProperties().map(function(n){return n.clear({__clearIn:!t.isDetached()})}),Cn.prototype.clear.call(this),this},e.prototype.hasValue=function(t){return this.getProperties().some(function(n){return n.hasValue(t)})},e.prototype.getFullValue=function(){return this.__getFullValue()},e.prototype.__canClearProp=function(t){return this.isDetached()&&t.hasValue({noParent:!0})},e}(Cn);const uu=UH;var BH=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),di=function(){return di=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},di.apply(this,arguments)},FH=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t},zH=/,(?![^\(]*\))/,HH=/\s(?![^(]*\))/,WH=function(r){BH(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.defaults=function(){return di(di({},uu.getDefaults()),{layers:[],emptyValue:"unset",layerSeparator:", ",layerJoin:"",prepend:0,preview:!1,layerLabel:null,selectedLayer:null})},e.prototype.initialize=function(t,n){t===void 0&&(t={}),n===void 0&&(n={}),uu.callParentInit(uu,this,t,n);var i=this.get("layers"),o=new Op(i,{prop:this});o.property=this,o.properties=this.get("properties"),this.set("layers",o,{silent:!0}),this.on("change:selectedLayer",this.__upSelected),this.listenTo(o,"add remove",this.__upLayers),uu.callInit(this,t,n)},Object.defineProperty(e.prototype,"layers",{get:function(){return this.get("layers")},enumerable:!1,configurable:!0}),e.prototype.getLayers=function(){return this.layers.models},e.prototype.hasLayers=function(){return this.getLayers().length>0},e.prototype.getLayer=function(t){return t===void 0&&(t=0),this.layers.at(t)||void 0},e.prototype.getSelectedLayer=function(){var t=this.get("selectedLayer");return t&&t.getIndex()>=0?t:void 0},e.prototype.selectLayer=function(t){return this.set("selectedLayer",t,{__select:!0})},e.prototype.selectLayerAt=function(t){t===void 0&&(t=0);var n=this.getLayer(t);return n&&this.selectLayer(n)},e.prototype.moveLayer=function(t,n){n===void 0&&(n=0);var i=this.layers,o=t?t.getIndex():-1;o>=0&&(0,z.isNumber)(n)&&n>=0&&n<i.length&&o!==n&&(this.removeLayer(t),i.add(t,{at:n}))},e.prototype.addLayer=function(t,n){t===void 0&&(t={}),n===void 0&&(n={});var i={};this.getProperties().forEach(function(a){var l=a.getId(),u=t[l];i[l]=(0,z.isUndefined)(u)?a.getDefaultValue():u});var o=this.layers.push({values:i},n);return o},e.prototype.removeLayer=function(t){return this.layers.remove(t)},e.prototype.removeLayerAt=function(t){t===void 0&&(t=0);var n=this.getLayer(t);return n?this.removeLayer(n):null},e.prototype.getLayerLabel=function(t){var n="";if(t){var i=this.get("layerLabel"),o=t.getValues(),a=t.getIndex();if(i)n=i(t,{index:a,values:o,property:this});else{var l=[];this.getProperties().map(function(u){l.push(o[u.getId()])}),n=l.filter(Boolean).join(" ")}}return n},e.prototype.getStyleFromLayer=function(t,n){var i;n===void 0&&(n={});var o=this.__getJoin(),a=this.__getJoinLayers(),l=this.get("toStyle"),u=this.getName(),c=t.getValues(),d;if(l)d=l(c,{join:o,joinLayers:a,name:u,layer:t,property:this});else{var h=this.getProperties().map(function(g){var m=g.getName(),b=c[g.getId()],w=(0,z.isUndefined)(b)?g.getDefaultValue():b;if(n.number&&ID(g.getType())){var x=g.parseValue(b,n.number);w="".concat(x.value).concat(x.unit)}return{name:m,value:w}});d=this.isDetached()?h.reduce(function(g,m){return g[m.name]=m.value,g},{}):(i={},i[this.getName()]=h.map(function(g){return g.value}).join(o),i)}return n.camelCase?Object.keys(d).reduce(function(g,m){return g[(0,Ht.camelCase)(m)]=d[m],g},{}):d},e.prototype.getStylePreview=function(t,n){n===void 0&&(n={});var i={},o=this.get("preview");return o&&(i=this.getStyleFromLayer(t,n)),i},e.prototype.getLayerSeparator=function(){var t=this.get("layerSeparator");return(0,z.isString)(t)?new RegExp("".concat(t,"(?![^\\(]*\\))")):t},e.prototype.hasEmptyValue=function(){return!this.hasLayers()&&!!this.attributes.isEmptyValue},e.prototype.__upProperties=function(t,n){var i;n===void 0&&(n={});var o=this.getSelectedLayer();o&&(o.upValues((i={},i[t.getId()]=t.__getFullValue(),i)),!n.__up&&this.__upTargetsStyleProps(n))},e.prototype.__upLayers=function(t,n,i){this.__upTargetsStyleProps(i||n)},e.prototype.__upTargets=function(t,n){if(n===void 0&&(n={}),!n.__select)return Cn.prototype.__upTargets.call(this,t,n)},e.prototype.__upTargetsStyleProps=function(t){t===void 0&&(t={}),this.__upTargetsStyle(this.getStyleFromLayers(t),t)},e.prototype.__upTargetsStyle=function(t,n){return Cn.prototype.__upTargetsStyle.call(this,t,n)},e.prototype.__upSelected=function(t,n){var i=t===void 0?{}:t,o=i.noEvent;n===void 0&&(n={});var a=this.em.Styles,l=this.getSelectedLayer(),u=l==null?void 0:l.getValues();u&&this.getProperties().forEach(function(c){var d,h=(d=u[c.getId()])!==null&&d!==void 0?d:"";c.__getFullValue()!==h&&c.upValue(h,di(di({},n),{__up:!0}))}),!o&&a.__trgEv(a.events.layerSelect,{property:this})},e.prototype._up=function(t,n){n===void 0&&(n={});var i=t.__layers,o=i===void 0?[]:i,a=FH(t,["__layers"]);return!this.isDetached()&&this.__setLayers(o),this.__upSelected({noEvent:!0},n),Cn.prototype._up.call(this,a,n),this},e.prototype.__setLayers=function(t,n){t===void 0&&(t=[]),n===void 0&&(n={});var i=this.layers,o=t.map(function(a){return{values:a}});i.length===o.length?o.map(function(a,l){var u;return(u=i.at(l))===null||u===void 0?void 0:u.upValues(a.values)}):i.reset(o),this.set({isEmptyValue:!!n.isEmptyValue}),this.__upSelected({noEvent:!0})},e.prototype.__parseValue=function(t){var n=this,i=this.parseValue(t);return i.__layers=t.split(zH).map(function(o){return o.trim()}).map(function(o){return n.__parseLayer(o)}).filter(Boolean),i},e.prototype.__parseLayer=function(t){var n=this.get("parseLayer"),i=t.split(HH),o=this.getProperties();return n?n({value:t,values:i}):o.reduce(function(a,l,u){var c=i[u];return a[l.getId()]=(0,z.isUndefined)(c)?l.getDefaultValue():c,a},{})},e.prototype.__getLayersFromStyle=function(t){var n=this;if(t===void 0&&(t={}),!this.__styleHasProps(t))return null;if(this.isEmptyValueStyle(t))return[];var i=this.getName(),o=this.getProperties(),a=this.getLayerSeparator(),l=this.attributes.fromStyle,u=l?l(t,{property:this,name:i,separatorLayers:a}):[];if(!l){var c=this.__splitStyleName(t,i,a).map(function(d){return d.split(n.getSplitSeparator())}).map(function(d){var h={};return o.forEach(function(g,m){var b=d[m];h[g.getId()]=(0,z.isUndefined)(b)?g.getDefaultValue():b}),h});o.forEach(function(d){var h=d.getId();n.__splitStyleName(t,d.getName(),a).map(function(g){var m;return m={},m[h]=g||d.getDefaultValue(),m}).forEach(function(g,m){c[m]=c[m]?di(di({},c[m]),g):g})}),u=c}return(0,z.isArray)(u)?u:[u]},e.prototype.getStyle=function(t){return t===void 0&&(t={}),this.getStyleFromLayers(t)},e.prototype.getStyleFromLayers=function(t){var n=this;t===void 0&&(t={});var i={},o=this.getName(),a=this.getLayers(),l=this.getProperties(),u=a.map(function(d){return n.getStyleFromLayer(d,t)});if(u.forEach(function(d){(0,z.keys)(d).map(function(h){i[h]||(i[h]=[]),i[h].push(d[h])})}),(0,z.keys)(i).map(function(d){i[d]=i[d].join(n.__getJoinLayers())}),this.isDetached())i[o]="",!a.length&&l.map(function(d){i[d.getName()]=""});else{var c=l.reduce(function(d,h){return d[h.getName()]="",d},{});i[o]=i[o]||"",i=di(di({},i),c)}return di(di({},i),t.__clear?{}:this.getEmptyValueStyle())},e.prototype.isEmptyValueStyle=function(t){t===void 0&&(t={});var n=this.getEmptyValueStyle({force:!0}),i=(0,z.keys)(n);return!!i.length&&i.every(function(o){return n[o]===t[o]})},e.prototype.getEmptyValueStyle=function(t){t===void 0&&(t={});var n=this.attributes.emptyValue;if(n&&(!this.hasLayers()||t.force)){var i=this.getName(),o=this.getProperties(),a=(0,z.isString)(n)?n:n({property:this});if((0,z.isString)(a)){var l={};return this.isDetached()?o.map(function(u){l[u.getName()]=a}):l[i]=a,l}else return a}else return{}},e.prototype.__getJoinLayers=function(){var t=this.get("layerJoin"),n=this.get("layerSeparator");return t||((0,z.isString)(n)?n:t)},e.prototype.__getFullValue=function(){if(this.get("detached"))return"";var t=this.getStyleFromLayers();return v_(t[this.getName()])},e.prototype.hasValue=function(t){t===void 0&&(t={});var n=t.noParent,i=n&&this.getParentTarget();return(this.hasLayers()||this.hasEmptyValue())&&!i},e.prototype.clear=function(t){return t===void 0&&(t={}),this.layers.reset(),this.__upTargetsStyleProps(di(di({},t),{__clear:!0})),Cn.prototype.clear.call(this),this},e.prototype.__canClearProp=function(){return!1},e.prototype.__getLayers=function(){return this.layers},e}(uu);const KH=WH;var qH=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),sg=function(){return sg=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},sg.apply(this,arguments)},GH=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t},YH=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))},t0="data-clear-style",XH=function(r){qH(e,r);function e(t){t===void 0&&(t={});var n=r.call(this,t)||this;(0,z.bindAll)(n,"__change","__updateStyle");var i=t.config||{},o=i.em;n.config=i,n.em=o,n.pfx=i.stylePrefix||"",n.ppfx=i.pStylePrefix||"",n.__destroyFn=n.destroy?n.destroy.bind(n):function(){};var a=n.model;a.view=n,n.onValueChange=(0,z.debounce)(n.onValueChange.bind(n),10),n.updateStatus=(0,z.debounce)(n.updateStatus.bind(n),0),n.listenTo(a,"destroy remove",n.remove),n.listenTo(a,"change:visible",n.updateVisibility),n.listenTo(a,"change:name change:className change:full",n.render),n.listenTo(a,"change:value",n.onValueChange),n.listenTo(a,"change:parentTarget",n.updateStatus),n.listenTo(o,"change:device",n.onValueChange);var l=n.init&&n.init.bind(n);return l&&l(),n}return e.prototype.events=function(){var t;return t={change:"inputValueChanged"},t["click [".concat(t0,"]")]="clear",t},e.prototype.template=function(t){var n=this,i=n.pfx,o=n.ppfx;return`
      <div class="`.concat(i,`label" data-sm-label></div>
      <div class="`).concat(o,`fields" data-sm-fields></div>
    `)},e.prototype.templateLabel=function(t){var n=this,i=n.pfx,o=n.em,a=t.parent,l=t.attributes,u=l.icon,c=u===void 0?"":u,d=l.info,h=d===void 0?"":d,g=o==null?void 0:o.getConfig().icons,m=(g==null?void 0:g.close)||"";return`
      <span class="`.concat(i,"icon ").concat(c,'" title="').concat(h,`">
        `).concat(t.getLabel(),`
      </span>
      `).concat(a?"":'<div class="'.concat(i,'clear" style="display: none" ').concat(t0,">").concat(m,"</div>"),`
    `)},e.prototype.templateInput=function(t){return`
      <div class="`.concat(this.ppfx,`field">
        <input placeholder="`).concat(t.getDefaultValue(),`"/>
      </div>
    `)},e.prototype.remove=function(){var t=this;return ne.Ss.prototype.remove.apply(this,arguments),["em","input","$input","view"].forEach(function(n){return t[n]=null}),this.__destroyFn(this._getClbOpts()),this},e.prototype.updateStatus=function(){var t,n=this,i=n.model,o=n.pfx,a=n.ppfx,l=n.config,u="".concat(a,"four-color"),c="".concat(a,"color-warn"),d=this.$el.children(".".concat(o,"label")),h=this.getClearEl(),g=h?h.style:{};d.removeClass("".concat(u," ").concat(c)),g.display="none",i.hasValue({noParent:!0})&&l.highlightChanged?(d.addClass(u),l.clearProperties&&(g.display="")):i.hasValue()&&l.highlightComputed&&d.addClass(c),(t=this.parent)===null||t===void 0||t.updateStatus()},e.prototype.clear=function(t){t&&t.stopPropagation(),this.model.clear()},e.prototype.getClearEl=function(){return this.clearEl||(this.clearEl=this.el.querySelector("[".concat(t0,"]"))),this.clearEl},e.prototype.inputValueChanged=function(t){t&&t.stopPropagation(),!this.emit&&this.model.upValue(t.target.value)},e.prototype.onValueChange=function(t,n,i){this.setValue(this.model.getFullValue(void 0,{skipImportant:!0})),this.updateStatus()},e.prototype.setValue=function(t){var n=this.model,i=(0,z.isUndefined)(t)||t===""?n.getDefaultValue():t;if(this.update)return this.__update(i);this.__setValueInput(i)},e.prototype.__setValueInput=function(t){var n=this.getInputEl();n&&(n.value=t)},e.prototype.getInputEl=function(){return this.input||(this.input=this.el.querySelector("input")),this.input},e.prototype.updateVisibility=function(){this.el.style.display=this.model.isVisible()?"":"none"},e.prototype.clearCached=function(){delete this.clearEl,delete this.input,delete this.$input},e.prototype.__unset=function(){var t=this.unset&&this.unset.bind(this);t&&t(this._getClbOpts())},e.prototype.__update=function(t){var n=this.update&&this.update.bind(this);n&&n(sg(sg({},this._getClbOpts()),{value:t}))},e.prototype.__change=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=this.emit&&this.emit.bind(this);i&&i.apply(void 0,YH([this._getClbOpts()],t,!1))},e.prototype.__updateStyle=function(t,n){n===void 0&&(n={});var i=n.complete,o=n.partial;GH(n,["complete","partial"]);var a=this.model,l=i!==!1&&o!==!0;(0,Ht.isObject)(t)?a.__upTargetsStyle(t,{avoidStore:!l}):a.upValue(t,{partial:!l})},e.prototype._getClbOpts=function(){var t=this,n=t.model,i=t.el,o=t.createdEl;return{el:i,createdEl:o,property:n,props:n.attributes,change:this.__change,updateStyle:this.__updateStyle}},e.prototype.render=function(){this.clearCached();var t=this,n=t.pfx,i=t.model,o=t.el,a=t.$el,l=i.getName(),u=i.getType(),c=i.get("className")||"",d="".concat(n,"property"),h=u==="number"?"".concat(n).concat(u," ").concat(n,"integer"):"".concat(n).concat(u);this.createdEl&&this.__destroyFn(this._getClbOpts()),a.empty().append(this.template(i)),a.find("[data-sm-label]").append(this.templateLabel(i));var g=this.create&&this.create.bind(this);this.createdEl=g&&g(this._getClbOpts()),a.find("[data-sm-fields]").append(this.createdEl||this.templateInput(i)),o.className="".concat(d," ").concat(h," ").concat(d,"__").concat(l," ").concat(c).trim(),o.className+=i.isFull()?" ".concat(d,"--full"):"";var m=this.onRender&&this.onRender.bind(this);return m&&m(),this.setValue(i.getValue()),this},e.prototype.onRender=function(){},e}(ne.Ss);const Oa=XH;var ZH=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),$H=function(r){ZH(e,r);function e(t){var n=r.call(this,t)||this;n.config=t.config||{},n.pfx=n.config.stylePrefix||"",n.properties=[],n.parent=t.parent;var i=n.collection;return n.listenTo(i,"add",n.addTo),n.listenTo(i,"reset",n.render),n}return e.prototype.addTo=function(t,n,i){this.add(t,null,i)},e.prototype.add=function(t,n,i){i===void 0&&(i={});var o=this,a=o.parent,l=o.config,u=n||this.el,c=new t.typeView({model:t,config:l});a&&(c.parent=a),c.render();var d=c.el;this.properties.push(c),(0,le.Sc)(u,d,i.at)},e.prototype.remove=function(){return ne.Ss.prototype.remove.apply(this,arguments),this.clearItems(),this},e.prototype.clearItems=function(){this.properties.forEach(function(t){return t.remove()}),this.properties=[]},e.prototype.render=function(){var t=this,n=this,i=n.$el,o=n.pfx;this.clearItems();var a=document.createDocumentFragment();return this.collection.forEach(function(l){return t.add(l,a)}),i.empty(),i.append(a),i.attr("class","".concat(o,"properties")),this},e}(ne.Ss);const _w=$H;var JH=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),lg=function(){return lg=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},lg.apply(this,arguments)},QH=function(r){JH(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.templateInput=function(){var t=this.pfx;return`
      <div class="`.concat(t,"field ").concat(t,`composite">
        <span id="`).concat(t,`input-holder"></span>
      </div>
    `)},e.prototype.remove=function(){var t;return(t=this.props)===null||t===void 0||t.remove(),Oa.prototype.remove.apply(this,arguments),this},e.prototype.onValueChange=function(){},e.prototype.onRender=function(){var t=this.pfx,n=this.model,i=n.get("properties");if(i.length&&!this.props){var o=n.isDetached(),a=new _w({config:lg(lg({},this.config),{highlightComputed:o,highlightChanged:o}),collection:i,parent:this});a.render(),this.$el.find("#".concat(t,"input-holder")).append(a.el),this.props=a}},e.prototype.clearCached=function(){Oa.prototype.clearCached.apply(this,arguments),delete this.props},e}(Oa);const Of=QH;var t9=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),e9=function(r){t9(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.events=function(){return{click:"select","click [data-close-layer]":"removeItem","mousedown [data-move-layer]":"initSorter","touchstart [data-move-layer]":"initSorter"}},e.prototype.template=function(){var t=this,n=t.pfx,i=t.ppfx,o=t.em,a=o==null?void 0:o.getConfig().icons,l=(a==null?void 0:a.close)||"",u=(a==null?void 0:a.move)||"";return`
      <div class="`.concat(n,`label-wrp">
        <div id="`).concat(n,'move" class="').concat(i,`no-touch-actions" data-move-layer>
          `).concat(u,`
        </div>
        <div id="`).concat(n,`label" data-label></div>
        <div id="`).concat(n,'preview-box" class="').concat(n,`layer-preview" style="display: none" data-preview-box>
          <div id="`).concat(n,'preview" class="').concat(n,`layer-preview-cnt" data-preview></div>
        </div>
        <div id="`).concat(n,'close-layer" class="').concat(n,`btn-close" data-close-layer>
          `).concat(l,`
        </div>
      </div>
      <div id="`).concat(n,`inputs" data-properties></div>
    `)},e.prototype.initialize=function(t){t===void 0&&(t={});var n=this.model,i=t.config||{};this.em=i.em,this.config=i,this.sorter=t.sorter,this.pfx=i.stylePrefix||"",this.ppfx=i.pStylePrefix||"",this.propertyView=t.propertyView;var o=this.propertyView.model;this.listenTo(n,"destroy remove",this.remove),this.listenTo(n,"change:values",this.updateLabel),this.listenTo(o,"change:selectedLayer",this.updateVisibility),n.view=this,n.set({droppable:0,draggable:1}),this.$el.data("model",n)},e.prototype.initSorter=function(){var t;(t=this.sorter)===null||t===void 0||t.startSort([{element:this.el}])},e.prototype.removeItem=function(t){t&&t.stopPropagation(),this.model.remove()},e.prototype.select=function(){this.model.select()},e.prototype.getPropertiesWrapper=function(){return this.propsWrapEl||(this.propsWrapEl=this.el.querySelector("[data-properties]")),this.propsWrapEl},e.prototype.getPreviewEl=function(){return this.previewEl||(this.previewEl=this.el.querySelector("[data-preview]")),this.previewEl},e.prototype.getLabelEl=function(){return this.labelEl||(this.labelEl=this.el.querySelector("[data-label]")),this.labelEl},e.prototype.updateLabel=function(){var t=this.model,n=t.getLabel();if(this.getLabelEl().innerHTML=n,t.hasPreview()){var i=this.getPreviewEl(),o=t.getStylePreview({number:{min:-3,max:3}}),a=(0,z.keys)(o).map(function(l){return"".concat(l,":").concat(o[l])}).join(";");i.setAttribute("style",a)}},e.prototype.updateVisibility=function(){var t,n=this,i=n.pfx,o=n.model,a=n.propertyView,l=this.getPropertiesWrapper(),u=o.isSelected();l.style.display=u?"":"none",this.$el[u?"addClass":"removeClass"]("".concat(i,"active")),u&&l.appendChild((t=a.props)===null||t===void 0?void 0:t.el)},e.prototype.render=function(){var t=this,n=t.el,i=t.pfx,o=t.model;return n.innerHTML=this.template(),n.className="".concat(i,"layer"),o.hasPreview()&&(n.querySelector("[data-preview-box]").style.display=""),this.updateLabel(),this.updateVisibility(),this},e}(ne.Ss);const n9=e9;var r9=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),i9=function(r){r9(e,r);function e(t){var n=r.call(this,t)||this,i=n.collection,o=t.config||{},a=o.em,l=o.stylePrefix||"",u=o.pStylePrefix||"";n.config=o,n.pfx=l,n.ppfx=u,n.propertyView=t.propertyView,n.className="".concat(l,"layers ").concat(u,"field"),n.listenTo(i,"add",n.addTo),n.listenTo(i,"reset",n.reset),n.items=[];var c=n.createPlaceholder(o.pStylePrefix);n.$el.append(c);var d=a==null?void 0:a.Utils;return n.sorter=d?new d.StyleManagerSorter({em:a,containerContext:{container:n.el,containerSel:".".concat(l,"layers"),itemSel:".".concat(l,"layer"),pfx:o.pStylePrefix,document,placeholderElement:c},dragBehavior:{dragDirection:Cl.A.Vertical,nested:!1}}):void 0,i.view=n,n.$el.data("model",i),n.$el.data("collection",i),n}return e.prototype.addTo=function(t){var n=this.collection.indexOf(t);this.addToCollection(t,null,n)},e.prototype.addToCollection=function(t,n,i){var o=n||null,a=this,l=a.propertyView,u=a.config,c=a.sorter,d=a.$el,h=new n9({model:t,config:u,sorter:c,propertyView:l}),g=h.render().el;if(this.items.push(h),o)o.appendChild(g);else if(typeof i<"u"){var m="before";d.children().length===i&&(i--,m="after"),i<0?d.append(g):d.children().eq(i)[m](g)}else d.append(g);return g},e.prototype.reset=function(t,n){this.clearItems(),this.render()},e.prototype.remove=function(){return this.clearItems(),ne.Ss.prototype.remove.apply(this,arguments),this},e.prototype.clearItems=function(){this.items.forEach(function(t){return t.remove()}),this.items=[]},e.prototype.render=function(){var t=this,n=this.$el,i=document.createDocumentFragment();return n.empty(),this.collection.forEach(function(o){return t.addToCollection(o,i)}),n.append(i),n.attr("class",this.className),this},e.prototype.createPlaceholder=function(t){var n=document.createElement("div"),i=document.createElement("div");return this.el.parentNode,n.className=t+"placeholder",n.style.display="none",n.style.pointerEvents="none",i.className=t+"placeholder-int",n.appendChild(i),n},e}(ne.Ss);const o9=i9;var a9=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Uu=function(){return Uu=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Uu.apply(this,arguments)},s9=function(r){a9(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.events=function(){return Uu(Uu({},Of.prototype.events()),{"click [data-add-layer]":"addLayer",change:""})},e.prototype.templateInput=function(){var t=this,n=t.pfx,i=t.em,o=i==null?void 0:i.getConfig().icons,a=(o==null?void 0:o.plus)||"+";return`
      <div class="`.concat(n,"field ").concat(n,`stack">
        <button type="button" id="`).concat(n,`add" data-add-layer>
          `).concat(a,`
        </button>
        <div data-layers-wrapper></div>
      </div>
    `)},e.prototype.init=function(){var t=this.model;this.listenTo(t.layers,"change reset",this.updateStatus),this.listenTo(t,"change:isEmptyValue",this.updateStatus)},e.prototype.addLayer=function(){this.model.addLayer({},{at:0})},e.prototype.setValue=function(){},e.prototype.remove=function(){var t;return(t=this.layersView)===null||t===void 0||t.remove(),Of.prototype.remove.apply(this,arguments),this},e.prototype.clearCached=function(){Of.prototype.clearCached.apply(this,arguments),delete this.layersView},e.prototype.onRender=function(){var t=this,n=t.model,i=t.el,o=t.config,a=n.get("properties");if(a.length&&!this.props){var l=new _w({config:Uu(Uu({},o),{highlightComputed:!1,highlightChanged:!1}),collection:a,parent:this});l.render();var u=new o9({collection:n.layers,config:o,propertyView:this});u.render();var c=i.querySelector("[data-layers-wrapper]");c.appendChild(u.el),this.props=l,this.layersView=u}},e}(Of);const l9=s9;var u9=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ug=function(){return ug=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},ug.apply(this,arguments)},c9=function(r){u9(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.events=function(){return ug(ug({},Oa.prototype.events()),{"click [data-clear-asset]":"clear","click [data-open-assets]":"openAssetManager"})},e.prototype.templateInput=function(){var t,n=this,i=n.pfx,o=n.em,a=(t=this.em)===null||t===void 0?void 0:t.getConfig().icons,l=a==null?void 0:a.close;return`
      <div class="`.concat(i,"field ").concat(i,`file">
        <div id='`).concat(i,`input-holder'>
          <div class="`).concat(i,`btn-c">
            <button class="`).concat(i,'btn" id="').concat(i,`images" type="button" data-open-assets>
              `).concat(o.t("styleManager.fileButton"),`
            </button>
          </div>
          <div style="clear:both;"></div>
        </div>
        <div id="`).concat(i,'preview-box" class="').concat(i,`preview-file" data-preview-box>
          <div id="`).concat(i,'preview-file" class="').concat(i,`preview-file-cnt" data-preview></div>
          <div id="`).concat(i,'close" class="').concat(i,'preview-file-close" data-clear-asset>').concat(l,`</div>
        </div>
      </div>
    `)},e.prototype.__setValueInput=function(t){var n=this,i=n.model,o=n.el,a=i.getDefaultValue(),l=o.querySelector("[data-preview-box]"),u=o.querySelector("[data-preview]");l.style.display=!t||t===a?"none":"",u.style.backgroundImage=t||i.getDefaultValue()},e.prototype.openAssetManager=function(){var t=this,n,i=(n=this.em)===null||n===void 0?void 0:n.Assets;i==null||i.open({select:function(o,a){var l=(0,z.isString)(o)?o:o.get("src");t.model.upValue(l,{partial:!a}),a&&i.close()},types:["image"],accept:"image/*"})},e}(Oa);const f9=c9;var d9=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),h9=function(r){d9(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.templateInput=function(t){return""},e.prototype.init=function(){var t=this.model;this.listenTo(t,"change:unit",this.onValueChange),this.listenTo(t,"change:units",this.render)},e.prototype.setValue=function(t){},e.prototype.onRender=function(){var t=this,n=t.ppfx,i=t.model,o=t.el;if(!this.inputInst){var a=i.input;a.ppfx=n,a.render();var l=o.querySelector(".".concat(n,"fields"));l.appendChild(a.el),this.input=a.inputEl.get(0),this.inputInst=a}},e.prototype.clearCached=function(){Oa.prototype.clearCached.apply(this,arguments),this.inputInst=null},e}(Oa);const va=h9;var p9=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),v9=function(r){p9(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.setValue=function(t){var n;(n=this.inputInst)===null||n===void 0||n.setValue(t,{fromTarget:1,def:this.model.getDefaultValue()})},e.prototype.remove=function(){var t=this;va.prototype.remove.apply(this,arguments);var n=this.inputInst;return n&&n.remove&&n.remove(),["inputInst","$color"].forEach(function(i){return t[i]=null}),this},e.prototype.__handleChange=function(t,n){this.model.upValue(t,{partial:n})},e.prototype.onRender=function(){var t;if(!this.inputInst){this.__handleChange=this.__handleChange.bind(this);var n=this,i=n.ppfx,o=n.model,a=n.em,l=n.el,u=new lD({target:a,model:o,ppfx:i,onChange:this.__handleChange}),c=u.render();l.querySelector(".".concat(i,"fields")).appendChild(c.el),this.input=(t=c.inputEl)===null||t===void 0?void 0:t.get(0),this.inputInst=c}},e}(va);const g9=v9;var m9=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),cg=function(){return cg=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},cg.apply(this,arguments)},iO=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))},y9=function(r){m9(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.defaults=function(){return cg(cg({},Cn.getDefaults()),{options:[],full:0})},e.prototype.getOptions=function(){var t=this.attributes,n=t.options,i=t.list;return(n&&n.length?n:i)||[]},e.prototype.getOption=function(t){var n=this,i=(0,Ht.isDef)(t)?t:this.getValue();return this.getOptions().filter(function(o){return n.getOptionId(o)===i})[0]||null},e.prototype.setOptions=function(t){return t===void 0&&(t=[]),this.set("options",t),this},e.prototype.addOption=function(t){if(t){var n=this.getOptions();this.setOptions(iO(iO([],n,!0),[t],!1))}return this},e.prototype.getOptionId=function(t){return(0,Ht.isDef)(t.id)?t.id:t.value},e.prototype.getOptionLabel=function(t,n){var i;n===void 0&&(n={});var o=n.locale,a=o===void 0?!0:o,l=((0,z.isString)(t)?this.getOption(t):t)||{},u=this.getOptionId(l),c=l.label||l.name||u,d=n.property||this.getId();return a&&((i=this.em)===null||i===void 0?void 0:i.t("styleManager.options.".concat(d,".").concat(u)))||c},e.prototype.initialize=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Cn.prototype.initialize.apply(this,t),this.listenTo(this,"change:options",this.__onOptionChange)},e.prototype.__onOptionChange=function(){this.set("list",this.get("options"))},e}(Cn);const V_=y9;var _9=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),b9=function(r){_9(e,r);function e(t){var n=r.call(this,t)||this;return n.listenTo(n.model,"change:options",n.updateOptions),n}return e.prototype.templateInput=function(){var t=this,n=t.pfx,i=t.ppfx;return`
      <div class="`.concat(i,"field ").concat(i,`select">
        <span id="`).concat(n,`input-holder"></span>
        <div class="`).concat(i,`sel-arrow">
          <div class="`).concat(i,`d-s-arrow"></div>
        </div>
      </div>
    `)},e.prototype.updateOptions=function(){delete this.input,this.onRender()},e.prototype.onRender=function(){var t=this.pfx,n=this.model,i=n.getOptions();if(!this.input){var o=[];i.forEach(function(l){var u=n.getOptionId(l),c=n.getOptionLabel(u),d=l.style?l.style.replace(/"/g,"&quot;"):"",h=d?'style="'.concat(d,'"'):"",g=u.replace(/"/g,"&quot;");o.push('<option value="'.concat(g,'" ').concat(h,">").concat(c,"</option>"))});var a=this.el.querySelector("#".concat(t,"input-holder"));a.innerHTML="<select>".concat(o.join(""),"</select>"),this.input=a.firstChild}},e.prototype.__setValueInput=function(t){var n=this.model,i=this.getInputEl(),o=n.getOptions()[0],a=o?n.getOptionId(o):"";i&&(i.value=t||a)},e}(Oa);const VD=b9;var w9=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),fg=function(){return fg=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},fg.apply(this,arguments)},S9=function(r){w9(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.defaults=function(){return fg(fg({},V_.getDefaults()),{full:1})},e}(V_);const C9=S9;var x9=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),O9=function(r){x9(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.templateInput=function(){var t=this.ppfx;return'<div class="'.concat(t,"field ").concat(t,'field-radio"></div>')},e.prototype.onRender=function(){var t=this,n=t.pfx,i=t.ppfx,o=this.model,a="".concat(i,"radio-item-label"),l=o.getName(),u=o.getOptions(),c="".concat(n,"radio ").concat(n,"radio-").concat(l),d=o.cid;if(!this.input){var h=[];u.forEach(function(m){var b=m.className?"".concat(m.className," ").concat(n,"icon ").concat(a):"",w=o.getOptionId(m),x="".concat(l,"-").concat(w,"-").concat(d),_=b?"":o.getOptionLabel(w),C=m.title?'title="'.concat(m.title,'"'):"",O=o.getValue()===w?"checked":"";h.push(`
          <div class="`.concat(i,`radio-item">
            <input type="radio" class="`).concat(c,'" id="').concat(x,'" name="').concat(l,"-").concat(d,'" value="').concat(w,'" ').concat(O,`/>
            <label class="`).concat(b||a,'" ').concat(C,' for="').concat(x,'">').concat(_,`</label>
          </div>
        `))});var g=this.el.querySelector(".".concat(i,"field"));g.innerHTML='<div class="'.concat(i,'radio-items">').concat(h.join(""),"</div>"),this.input=g.firstChild}},e.prototype.__setValueInput=function(t){var n,i=this.model,o=t||i.getDefaultValue(),a=(n=this.getInputEl())===null||n===void 0?void 0:n.querySelector('[value="'.concat(o,'"]'));a&&(a.checked=!0)},e}(VD);const E9=O9;var T9=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),il=function(){return il=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},il.apply(this,arguments)},A9=function(r){T9(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.defaults=function(){return il(il({},Cn.getDefaults()),{units:[],unit:"",min:"",max:"",step:1})},e.prototype.getUnits=function(){return this.get("units")||[]},e.prototype.getUnit=function(){return this.get("unit")},e.prototype.getMin=function(){return this.get("min")},e.prototype.getMax=function(){return this.get("max")},e.prototype.getStep=function(){return this.get("step")},e.prototype.upUnit=function(t,n){return n===void 0&&(n={}),this._up({unit:t},n)},e.prototype.initialize=function(t,n){t===void 0&&(t={}),n===void 0&&(n={}),Cn.callParentInit(Cn,this,t,n);var i=this.get("unit"),o=this.getUnits();this.input=(0,Ht.hasWin)()?new cD({model:this}):void 0,o.length&&!i&&this.set("unit",o[0],{silent:!0}),Cn.callInit(this,t,n)},e.prototype.__getClearProps=function(){return il(il({},Cn.prototype.__getClearProps()),{unit:""})},e.prototype.parseValue=function(t,n){n===void 0&&(n={});var i=Cn.prototype.parseValue.apply(this,arguments),o=this.input.validateInputValue(i.value,il({deepCheck:1},n)),a=o.value,l=o.unit;return i.value=a,i.unit=l,i},e.prototype.getFullValue=function(){var t=this.get("value"),n=this.get("unit"),i=(0,z.isUndefined)(t)?"":"".concat(t),o=!(0,z.isUndefined)(n)&&i?n:"",a="".concat(i).concat(o);return Cn.prototype.getFullValue.apply(this,[a])},e}(Cn);const dg=A9;var D9=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),hg=function(){return hg=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},hg.apply(this,arguments)},k9=function(r){D9(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.defaults=function(){return hg(hg({},dg.getDefaults()),{showInput:1})},e}(dg);const P9=k9;var M9=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),pg=function(){return pg=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},pg.apply(this,arguments)},R9=function(r){M9(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.events=function(){return pg(pg({},va.prototype.events()),{"change [type=range]":"inputValueChanged","input [type=range]":"inputValueChangedSoft",change:""})},e.prototype.templateInput=function(t){var n=this.ppfx;return`
      <div class="`.concat(n,"field ").concat(n,`field-range">
        <input type="range" min="`).concat(t.get("min"),'" max="').concat(t.get("max"),'" step="').concat(t.get("step"),`"/>
      </div>
    `)},e.prototype.getSliderEl=function(){return this.slider||(this.slider=this.el.querySelector("input[type=range]")),this.slider},e.prototype.inputValueChanged=function(t){t.stopPropagation(),this.model.upValue(this.getSliderEl().value)},e.prototype.inputValueChangedSoft=function(t){t.stopPropagation(),this.model.upValue(this.getSliderEl().value,{partial:!0})},e.prototype.setValue=function(t){var n=this.model,i=n.parseValue(t);this.getSliderEl().value=t===""?n.getDefaultValue():parseFloat(i.value),va.prototype.setValue.apply(this,arguments)},e.prototype.onRender=function(){va.prototype.onRender.apply(this,arguments),this.model.get("showInput")||(this.inputInst.el.style.display="none")},e.prototype.clearCached=function(){va.prototype.clearCached.apply(this,arguments),delete this.slider},e}(va);const L9=R9;var N9=ne.pM.extend(wD),j9=N9.extend({extendViewApi:1,init:function(){var r=this,e=r.opts,t=r.em,n=e.module||(t==null?void 0:t.get("StyleManager"));n&&(n.__listenAdd(this,n.events.propertyAdd),n.__listenRemove(this,n.events.propertyRemove))},types:[{id:"stack",model:KH,view:l9,isType:function(r){if(r&&r.type=="stack")return r}},{id:"composite",model:uu,view:Of,isType:function(r){if(r&&r.type=="composite")return r}},{id:"file",model:Cn,view:f9,isType:function(r){if(r&&r.type=="file")return r}},{id:"color",model:Cn,view:g9,isType:function(r){if(r&&r.type=="color")return r}},{id:"select",model:V_,view:VD,isType:function(r){if(r&&r.type=="select")return r}},{id:"radio",model:C9,view:E9,isType:function(r){if(r&&r.type=="radio")return r}},{id:"slider",model:P9,view:L9,isType:function(r){if(r&&r.type=="slider")return r}},{id:"integer",model:dg,view:va,isType:function(r){if(r&&r.type=="integer")return r}},{id:"number",model:dg,view:va,isType:function(r){if(r&&r.type=="number")return r}},{id:"base",model:Cn,view:Oa,isType:function(r){return r.type="base",r}}]});const bw=j9;var I9=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),vg=function(){return vg=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},vg.apply(this,arguments)},V9=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t},U9=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))},B9=function(r){I9(e,r);function e(t,n){n===void 0&&(n={});var i=r.call(this,t)||this,o=n.em;i.em=o;var a=t||{},l=i.buildProperties(a.buildProps),u=i.get("name")||"",c=[];!i.get("id")&&i.set("id",u.replace(/ /g,"_").toLowerCase()),l?c=i.extendProperties(l):c=i.get("properties").map(function(h){return(0,z.isString)(h)?i.buildProperties(h)[0]:h}).filter(Boolean),c=c.map(function(h){return i.checkExtend(h)});var d=new bw(c,{em:o});return d.sector=i,i.set("properties",d),i}return e.prototype.defaults=function(){return{id:"",name:"",open:!0,visible:!0,extendBuilded:!0,properties:[]}},Object.defineProperty(e.prototype,"properties",{get:function(){return this.get("properties")},enumerable:!1,configurable:!0}),e.prototype.getId=function(){return this.get("id")},e.prototype.getName=function(){var t,n=this.getId();return((t=this.em)===null||t===void 0?void 0:t.t("styleManager.sectors.".concat(n)))||this.get("name")},e.prototype.setName=function(t){return this.set("name",t)},e.prototype.isOpen=function(){return!!this.get("open")},e.prototype.setOpen=function(t){return this.set("open",t)},e.prototype.isVisible=function(){return!!this.get("visible")},e.prototype.getProperties=function(t){t===void 0&&(t={});var n=this.properties,i=n.models?U9([],n.models,!0):n;return i.filter(function(o){var a=!0;if(t.withValue&&(a=o.hasValue({noParent:!0})),t.withParentValue){var l=o.hasValue({noParent:!0});a=!l&&o.hasValue()}return a})},e.prototype.getProperty=function(t){return this.getProperties().filter(function(n){return n.get("id")===t})[0]||void 0},e.prototype.addProperty=function(t,n){return this.properties.add(this.checkExtend(t),n)},e.prototype.extendProperties=function(t,n,i){i===void 0&&(i=!1);for(var o=t.length,a=n||this.get("properties"),l=this.get("extendBuilded"),u=[],c=0,d=a.length;c<d;c++){for(var h=a[c],g=0,m=0;m<o;m++){var b=t[m];if(h.property==b.property||h.id==b.property){var w=h.properties;w&&w.length&&(h.properties=this.extendProperties(b.properties||[],w,1)),t[m]=l?(0,z.extend)(b,h):h,u[m]=t[m],g=1;continue}}g||(t.push(h),u.push(h))}return i?u.filter(function(x){return x}):t},e.prototype.checkExtend=function(t){var n=((0,z.isString)(t)?{extend:t}:t)||{},i=n.extend,o=V9(n,["extend"]);return i?vg(vg({},this.buildProperties([i])[0]||{}),o):t},e.prototype.buildProperties=function(t){var n,i=t||[];if(!i.length)return[];var o=(n=this.em)===null||n===void 0?void 0:n.Styles.builtIn;return o==null?void 0:o.build(i)},e}(ne.Kx);const UD=B9;var F9=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),gg=function(){return gg=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},gg.apply(this,arguments)},z9=function(r){F9(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.initialize=function(t,n){n===void 0&&(n={});var i=n.module,o=n.em;this.em=o,this.module=i,this.listenTo(this,"reset",this.onReset)},e.prototype.model=function(t,n){n===void 0&&(n={});var i=n.collection.em;return new UD(t,gg(gg({},n),{em:i}))},e.prototype.onReset=function(t,n){n===void 0&&(n={});var i=n.previousModels||[];i.forEach(function(o){return o.get("properties").reset()})},e}(ne.pM);const H9=z9;var ss=function(){return ss=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},ss.apply(this,arguments)},W9=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t},Zs=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))},ur=function(r){return r.map(function(e){return{id:e}})},K9=function(){function r(){this.props={},this.typeNumber="number",this.typeColor="color",this.typeRadio="radio",this.typeSelect="select",this.typeFile="file",this.typeSlider="slider",this.typeComposite="composite",this.typeStack="stack",this.unitsSize=["px","%","em","rem","vh","vw"],this.unitsSizeNoPerc=["px","em","rem","vh","vw"],this.unitsTime=["s","ms"],this.unitsAngle=["deg","rad","grad"],this.fixedValues=["initial","inherit","auto"];var e=", sans-serif",t=["flex-start","flex-end","center"],n=Zs(Zs([],t,!0),["baseline","stretch"],!1);this.optsBgSize=ur(["auto","cover","contain"]),this.optsBgAttach=ur(["scroll","fixed","local"]),this.optsBgRepeat=ur(["repeat","repeat-x","repeat-y","no-repeat"]),this.optsWrap=ur(["nowrap","wrap","wrap-reverse"]),this.optsOverflow=ur(["visible","hidden","scroll","auto"]),this.optsDir=ur(["row","row-reverse","column","column-reverse"]),this.opstDisplay=ur(["block","inline","inline-block","flex","none"]),this.optsTransitFn=ur(["linear","ease","ease-in","ease-out","ease-in-out"]),this.optsCursor=ur(["auto","pointer","copy","crosshair","grab","grabbing","help","move","text"]),this.optsFloat=ur(["none","left","right"]),this.optsPos=ur(["static","relative","absolute","fixed"]),this.optsTextAlign=ur(["left","center","right","justify"]),this.optsFlexAlign=ur(n),this.optsJustCont=ur(Zs(Zs([],t,!0),["space-between","space-around","space-evenly"],!1)),this.optsAlignCont=ur(Zs(Zs([],t,!0),["space-between","space-around","stretch"],!1)),this.optsAlignSelf=ur(Zs(["auto"],n,!0)),this.optsTransitProp=ur(["all","width","height","background-color","transform","box-shadow","opacity"]),this.optsBorderStyle=ur(["none","solid","dotted","dashed","double","groove","ridge","inset","outset"]),this.optsBgPos=ur(["left top","left center","left bottom","right top","right center","right bottom","center top","center center","center bottom"]),this.optsWeight=[{id:"100",label:"Thin"},{id:"200",label:"Extra-Light"},{id:"300",label:"Light"},{id:"400",label:"Normal"},{id:"500",label:"Medium"},{id:"600",label:"Semi-Bold"},{id:"700",label:"Bold"},{id:"800",label:"Extra-Bold"},{id:"900",label:"Ultra-Bold"}],this.optsShadowType=[{id:"",label:"Outside"},{id:"inset",label:"Inside"}],this.optsFonts=["Arial, Helvetica"+e,"Arial Black, Gadget"+e,"Brush Script MT"+e,"Comic Sans MS, cursive"+e,"Courier New, Courier, monospace","Georgia, serif","Helvetica"+e,"Impact, Charcoal"+e,"Lucida Sans Unicode, Lucida Grande"+e,"Tahoma, Geneva"+e,"Times New Roman, Times, serif","Trebuchet MS, Helvetica"+e,"Verdana, Geneva"+e].map(function(i){return{id:i,label:i.split(",")[0]}}),this.fixedFontSizes=["medium","xx-small","x-small","small","large","x-large","xx-large","smaller","larger","length","initial","inherit"],this.fixedLetSpace=["normal","initial","inherit"],this.requireFlex={display:["flex"]},this.init()}return r.prototype.__sub=function(e){var t=this;return function(){return e.map(function(n){if((0,z.isString)(n))return t.get(n);var i=n.extend,o=W9(n,["extend"]);return ss(ss({},t.get(i)),o)})}},r.prototype.init=function(){var e=this,t=this,n=t.fixedValues,i=t.requireFlex,o=t.typeNumber;this.props={};var a=[["text-shadow-h",{type:o,default:"0",units:this.unitsSizeNoPerc}],["top",{default:"auto",units:this.unitsSize,fixedValues:n},"text-shadow-h"],["right",{},"top"],["bottom",{},"top"],["left",{},"top"],["margin-top",{default:"0"},"top"],["margin-right",{},"margin-top"],["margin-bottom",{},"margin-top"],["margin-left",{},"margin-top"],["padding-top",{min:0},"margin-top"],["padding-right",{},"padding-top"],["padding-bottom",{},"padding-top"],["padding-left",{},"padding-top"],["width",{min:0},"top"],["min-width",{},"width"],["max-width",{},"width"],["height",{},"width"],["min-height",{},"width"],["max-height",{},"width"],["flex-basis",{requiresParent:i},"width"],["font-size",{default:"medium",fixedValues:this.fixedFontSizes},"width"],["letter-spacing",{default:"normal",fixedValues:this.fixedLetSpace},"top"],["line-height",{},"letter-spacing"],["text-shadow-v",{},"text-shadow-h"],["text-shadow-blur",{min:0},"text-shadow-h"],["border-radius-c",{property:"border-radius",fixedValues:void 0},"padding-top"],["border-top-left-radius",{},"border-radius-c"],["border-top-right-radius",{},"border-radius-c"],["border-bottom-left-radius",{},"border-radius-c"],["border-bottom-right-radius",{},"border-radius-c"],["border-width",{units:this.unitsSizeNoPerc},"border-radius-c"],["box-shadow-h",{},"text-shadow-h"],["box-shadow-v",{},"text-shadow-h"],["box-shadow-blur",{default:"5px"},"text-shadow-blur"],["box-shadow-spread",{},"text-shadow-h"],["transition-duration",{default:"2s",units:this.unitsTime},"border-radius-c"],["perspective",{},"border-radius-c"],["order",{type:o,default:"0",requiresParent:i}],["flex-grow",{},"order"],["flex-shrink",{default:"1"},"order"],["float",{type:this.typeRadio,default:"none",options:this.optsFloat}],["position",{default:"static",options:this.optsPos},"float"],["text-align",{default:"left",options:this.optsTextAlign},"float"],["color",{type:this.typeColor,default:"black",full:!0}],["text-shadow-color",{},"color"],["border-color",{},"color"],["box-shadow-color",{},"color"],["background-color",{default:"none"},"color"],["background-image",{type:this.typeFile,functionName:"url",default:"none",full:!0}],["opacity",{type:this.typeSlider,default:"1",min:0,max:1,step:.01,full:!0}],["display",{type:this.typeSelect,default:"block",options:this.opstDisplay}],["flex-direction",{default:"row",options:this.optsDir,requires:i},"display"],["flex-wrap",{default:"nowrap",options:this.optsWrap},"flex-direction"],["justify-content",{default:"flex-start",options:this.optsJustCont},"flex-wrap"],["align-items",{default:"stretch",options:this.optsFlexAlign},"flex-wrap"],["align-content",{options:this.optsAlignCont},"align-items"],["align-self",{default:"auto",options:this.optsAlignSelf,requiresParent:i},"display"],["font-family",{default:"Arial, Helvetica, sans-serif",options:this.optsFonts},"display"],["font-weight",{default:"400",options:this.optsWeight},"display"],["border-style",{default:"solid",options:this.optsBorderStyle},"display"],["box-shadow-type",{default:"",options:this.optsShadowType},"display"],["background-repeat",{default:"repeat",options:this.optsBgRepeat},"display"],["background-position",{default:"left top",options:this.optsBgPos},"display"],["background-attachment",{default:"scroll",options:this.optsBgAttach},"display"],["background-size",{default:"auto",options:this.optsBgSize},"display"],["transition-property",{default:"width",options:this.optsTransitProp},"display"],["transition-timing-function",{default:"ease",options:this.optsTransitFn},"display"],["cursor",{default:"auto",options:this.optsCursor},"display"],["overflow",{default:"visible",options:this.optsOverflow},"display"],["overflow-x",{},"overflow"],["overflow-y",{},"overflow"],["margin",{type:this.typeComposite,properties:this.__sub([{extend:"margin-top",id:"margin-top-sub"},{extend:"margin-right",id:"margin-right-sub"},{extend:"margin-bottom",id:"margin-bottom-sub"},{extend:"margin-left",id:"margin-left-sub"}])}],["padding",{properties:this.__sub([{extend:"padding-top",id:"padding-top-sub"},{extend:"padding-right",id:"padding-right-sub"},{extend:"padding-bottom",id:"padding-bottom-sub"},{extend:"padding-left",id:"padding-left-sub"}])},"margin"],["border",{properties:this.__sub([{extend:"border-width",id:"border-width-sub"},{extend:"border-style",id:"border-style-sub"},{extend:"border-color",id:"border-color-sub"}])},"margin"],["border-radius",{properties:this.__sub([{extend:"border-top-left-radius",id:"border-top-left-radius-sub"},{extend:"border-top-right-radius",id:"border-top-right-radius-sub"},{extend:"border-bottom-left-radius",id:"border-bottom-left-radius-sub"},{extend:"border-bottom-right-radius",id:"border-bottom-right-radius-sub"}])},"margin"],["transition",{type:this.typeStack,properties:this.__sub([{extend:"transition-property",id:"transition-property-sub"},{extend:"transition-duration",id:"transition-duration-sub"},{extend:"transition-timing-function",id:"transition-timing-function-sub"}])}],["box-shadow",{preview:!0,layerLabel:function(l,u){var c=u.values,d=c["box-shadow-h"],h=c["box-shadow-v"],g=c["box-shadow-blur"],m=c["box-shadow-spread"];return"".concat(d," ").concat(h," ").concat(g," ").concat(m)},properties:this.__sub(["box-shadow-h","box-shadow-v","box-shadow-blur","box-shadow-spread","box-shadow-color","box-shadow-type"])},"transition"],["text-shadow",{default:"none",layerLabel:function(l,u){var c=u.values,d=c["text-shadow-h"],h=c["text-shadow-v"],g=c["text-shadow-blur"];return"".concat(d," ").concat(h," ").concat(g)},properties:this.__sub(["text-shadow-h","text-shadow-v","text-shadow-blur","text-shadow-color"])},"box-shadow"],["background",{detached:!0,layerLabel:function(l,u){var c=u.values,d=c["background-repeat-sub"]||"",h=c["background-position-sub"]||"",g=c["background-attachment-sub"]||"",m=c["background-size-sub"]||"";return[d,h,g,m].join(" ")},properties:this.__sub([{extend:"background-image",id:"background-image-sub"},{extend:"background-repeat",id:"background-repeat-sub"},{extend:"background-position",id:"background-position-sub"},{extend:"background-attachment",id:"background-attachment-sub"},{extend:"background-size",id:"background-size-sub"}])},"box-shadow"],["transform",{type:"stack",layerSeparator:" ",fromStyle:function(l,u){var c=u.property,d=u.name,h=l[d]||"",g=c.getLayerSeparator();return h?h.split(g).map(function(m){var b=c.__parseFn(m),w=b.name,x=b.value;return{"transform-type":w,"transform-value":x}}):[]},toStyle:function(l,u){var c,d=u.name;return c={},c[d]="".concat(l["transform-type"],"(").concat(l["transform-value"],")"),c},properties:[{property:"transform-type",name:"Type",type:this.typeSelect,default:"rotateZ",full:!0,options:[{id:"scaleX",propValue:{units:[""],step:.01}},{id:"scaleY",propValue:{units:[""],step:.01}},{id:"scaleZ",propValue:{units:[""],step:.01}},{id:"rotateX",propValue:{units:this.unitsAngle,step:1}},{id:"rotateY",propValue:{units:this.unitsAngle,step:1}},{id:"rotateZ",propValue:{units:this.unitsAngle,step:1}},{id:"translateX",propValue:{units:this.unitsSize,step:1}},{id:"translateY",propValue:{units:this.unitsSize,step:1}}],onChange:function(l){var u=l.property,c=l.to;if(c.value){var d=u.getOption(),h=ss({},d.propValue||{}),g=u.getParent().getProperty("transform-value"),m=g.getUnit();(!m||(h==null?void 0:h.units.indexOf(m))<0)&&(h.unit=(h==null?void 0:h.units[0])||""),g.up(h)}}},{property:"transform-value",type:this.typeNumber,default:"0",full:!0}]}]];return a.forEach(function(l){var u=l[0],c=l[1],d=l[2];e.add(u,c||{},{from:d})}),this},r.prototype.add=function(e,t,n){t===void 0&&(t={}),n===void 0&&(n={});var i=n.from||"",o=this.props[i||e]||{},a=ss(ss(ss({},o),{property:e}),t);return a.properties&&(0,z.isFunction)(a.properties)&&(a.properties=a.properties()),this.props[e]=a,a},r.prototype.get=function(e){return this.props[e]},r.prototype.build=function(e){var t=this,n=[],i=(0,z.isString)(e)?[e]:e;return i.forEach(function(o){n.push(t.get(o)||{property:o})}),n},r}();const q9=K9;var G9=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Y9=function(r,e){return Object.defineProperty?Object.defineProperty(r,"raw",{value:e}):r.raw=e,r},X9=function(r){G9(e,r);function e(t){var n=r.call(this,t)||this,i=t.config||{},o=n.model,a=i.em;return n.config=i,n.em=a,n.pfx=i.stylePrefix||"",n.listenTo(o,"destroy remove",n.remove),n.listenTo(o,"change:open",n.updateOpen),n.listenTo(o,"change:visible",n.updateVisibility),n}return e.prototype.template=function(t){var n,i=t.pfx,o=t.label,a=(n=this.em)===null||n===void 0?void 0:n.getConfig().icons,l=(a==null?void 0:a.caret)||"",u="".concat(i,"sector-");return yi(oO||(oO=Y9([`
      <div class="`,`title" data-sector-title>
        <div class="`,'caret">$',`</div>
        <div class="`,'label">',`</div>
      </div>
    `],[`
      <div class="`,`title" data-sector-title>
        <div class="`,'caret">$',`</div>
        <div class="`,'label">',`</div>
      </div>
    `])),u,u,l,u,o)},e.prototype.events=function(){return{"click [data-sector-title]":"toggle"}},e.prototype.updateOpen=function(){var t=this,n=t.$el,i=t.model,o=t.pfx,a=i.isOpen();n[a?"addClass":"removeClass"]("".concat(o,"open")),this.getPropertiesEl().style.display=a?"":"none"},e.prototype.updateVisibility=function(){this.el.style.display=this.model.isVisible()?"":"none"},e.prototype.getPropertiesEl=function(){var t=this,n=t.$el,i=t.pfx;return n.find(".".concat(i,"properties")).get(0)},e.prototype.toggle=function(){var t=this.model;t.setOpen(!t.get("open"))},e.prototype.renderProperties=function(){var t=this,n=t.model,i=t.config,o=n.get("properties");if(o){var a=new _w({collection:o,config:i});this.$el.append(a.render().el)}},e.prototype.render=function(){var t=this,n=t.pfx,i=t.model,o=t.$el,a=i.getId(),l=i.getName();return o.html(this.template({pfx:n,label:l})),this.renderProperties(),o.attr("class","".concat(n,"sector ").concat(n,"sector__").concat(a," no-select")),this.updateOpen(),this},e}(ne.Ss);const Z9=X9;var oO,$9=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),J9=function(r){$9(e,r);function e(t){t===void 0&&(t={});var n=r.call(this,t)||this,i=t.module,o=t.config,a=n.collection;return n.pfx=(o==null?void 0:o.stylePrefix)||"",n.ppfx=(o==null?void 0:o.pStylePrefix)||"",n.config=o,n.module=i,n.listenTo(a,"add",n.addTo),n.listenTo(a,"reset",n.render),n}return e.prototype.remove=function(){var t=this;return ne.Ss.prototype.remove.apply(this,arguments),["config","module","em"].forEach(function(n){return t[n]={}}),this},e.prototype.addTo=function(t,n,i){i===void 0&&(i={}),this.addToCollection(t,null,i)},e.prototype.addToCollection=function(t,n,i){i===void 0&&(i={});var o=this,a=o.config,l=o.el,u=n||l,c=new Z9({model:t,config:a}).render().el;return(0,le.Sc)(u,c,i.at),c},e.prototype.render=function(){var t=this,n=this,i=n.$el,o=n.pfx,a=n.ppfx;i.empty();var l=document.createDocumentFragment();return this.collection.each(function(u){return t.addToCollection(u,l)}),i.append(l),i.addClass("".concat(o,"sectors ").concat(a,"one-bg ").concat(a,"two-color")),this},e}(ne.Ss);const Q9=J9;var t7=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ls=function(){return ls=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},ls.apply(this,arguments)},aO=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))},BD="style",Hd="".concat(BD,":"),ww="".concat(Hd,"sector"),e7="".concat(ww,":add"),n7="".concat(ww,":remove"),r7="".concat(ww,":update"),Sw="".concat(Hd,"property"),i7="".concat(Sw,":add"),o7="".concat(Sw,":remove"),a7="".concat(Sw,":update"),FD="".concat(Hd,"layer:select"),U_="".concat(Hd,"target"),s7="".concat(Hd,"custom"),sO=function(r){return r||r===0},l7={all:BD,sectorAdd:e7,sectorRemove:n7,sectorUpdate:r7,propertyAdd:i7,propertyRemove:o7,propertyUpdate:a7,layerSelect:FD,target:U_,custom:s7},u7=function(r){t7(e,r);function e(t){var n=r.call(this,t,"StyleManager",new H9([],{em:t}),l7,NH())||this;n.Sector=UD,n.storageKey="",(0,z.bindAll)(n,"__clearStateTarget");var i=n.config,o=i.pStylePrefix;o&&(i.stylePrefix=o+i.stylePrefix),n.builtIn=new q9,n.properties=new bw([],{em:t,module:n}),n.sectors=n.all;var a=new ne.Kx({targets:[]});n.model=a;var l=mn.I.update,u="component:toggled ".concat(l,":classes change:state change:device frame:resized selector:type");n.upAll=(0,z.debounce)(function(){return n.__upSel()},0),a.listenTo(t,u,n.upAll),a.listenTo(t,"component:toggled",n.__clearStateTarget);var c=(0,z.debounce)(function(){n.__upProps(),n.__trgCustom()},0);a.listenTo(t,"styleable:change undo redo",c);var d=(0,z.debounce)(function(){return n.__trgCustom()},0);return a.listenTo(t,"".concat(FD," ").concat(U_),d),a.on("change:lastTarget",function(){return t.trigger(U_,n.getSelected())}),n}return e.prototype.__upSel=function(){this.select(this.em.getSelectedAll())},e.prototype.__trgCustom=function(t){t===void 0&&(t={}),this.__ctn=this.__ctn||t.container,this.em.trigger(this.events.custom,{container:this.__ctn})},e.prototype.__trgEv=function(t){for(var n,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];(n=this.em).trigger.apply(n,aO([t],i,!1))},e.prototype.__clearStateTarget=function(){var t=this,n=this.em,i=this.__getStateTarget();i&&(n==null||n.skip(function(){n.Css.remove(i),t.model.set({stateTarget:null})}))},e.prototype.onLoad=function(){this.sectors.add(this.config.sectors,{silent:!0})},e.prototype.postRender=function(){this.__appendTo()},e.prototype.addSector=function(t,n,i){i===void 0&&(i={});var o=this.getSector(t);return o||(n.id=t,o=this.sectors.add(n,i)),o},e.prototype.getSector=function(t,n){n===void 0&&(n={});var i=this.sectors.where({id:t})[0];return!i&&n.warn&&this._logNoSector(t),i||null},e.prototype.getSectors=function(t){t===void 0&&(t={});var n=this.sectors,i=n&&n.models?t.array?aO([],n.models,!0):n:[];return t.visible?i.filter(function(o){return o.isVisible()}):i},e.prototype.removeSector=function(t){return this.getSectors().remove(this.getSector(t,{warn:!0}))},e.prototype.addProperty=function(t,n,i){i===void 0&&(i={});var o=this.getSector(t,{warn:!0}),a;return o&&(a=o.addProperty(n,i)),a},e.prototype.getProperty=function(t,n){var i=this.getSector(t,{warn:!0}),o;return i&&(o=i.properties.filter(function(a){return a.get("property")===n||a.get("id")===n})[0]),o},e.prototype.getProperties=function(t){var n,i=this.getSector(t,{warn:!0});return i&&(n=i.properties),n},e.prototype.removeProperty=function(t,n){var i=this.getProperties(t);return i?i.remove(this.getProperty(t,n)):null},e.prototype.select=function(t,n){var i=this;n===void 0&&(n={});var o=this.em,a=(0,z.isArray)(t)?t:[t],l=n.stylable,u=o.Css,c=[];a.filter(Boolean).forEach(function(w){var x=w;if((0,z.isString)(w)){var _=u.getRule(w)||u.setRule(w);!(0,z.isUndefined)(l)&&_.set({stylable:l}),x=_}c.push(x)});var d=n.component||c.filter(function(w){return(0,Ht.isComponent)(w)}).reverse()[0];c=c.map(function(w){return i.getModelToStyle(w)});var h=o.getState(),g=c.slice().reverse()[0],m=this.getParentRules(g,{state:h,component:d}),b=this.__getStateTarget();return o.skip(function(){var w;if(h&&(!((w=g==null?void 0:g.getState)===null||w===void 0)&&w.call(g))){var x=g.getStyle();b?b.setStyle(x):b=u.getAll().add({selectors:"gjs-selected",style:x,shallow:!0,important:!0})}else b&&(u.remove(b),b=void 0)}),this.model.set({targets:c,lastTarget:g,lastTargetParents:m,stateTarget:b,component:d}),this.__upProps(n),c},e.prototype.getSelected=function(){return this.model.get("lastTarget")},e.prototype.getSelectedAll=function(){return this.model.get("targets")},e.prototype.getSelectedParents=function(){return this.model.get("lastTargetParents")||[]},e.prototype.__getStateTarget=function(){return this.model.get("stateTarget")},e.prototype.addStyleTargets=function(t,n){this.getSelectedAll().map(function(a){return a.addStyle(t,n)});var i=this.getSelected();i&&this.__emitCmpStyleUpdate(t);var o=this.__getStateTarget();i&&(o==null||o.setStyle(i.getStyle(),n))},e.prototype.getBuiltIn=function(t){return this.builtIn.get(t)},e.prototype.getBuiltInAll=function(){return this.builtIn.props},e.prototype.addBuiltIn=function(t,n){return this.builtIn.add(t,n)},e.prototype.getModelToStyle=function(t,n){n===void 0&&(n={});var i=this.em,o=n.skipAdd;if(i&&(t!=null&&t.toHTML)){var a=i.getConfig(),l=i.UndoManager,u=i.Css,c=i.Selectors,d=c?c.getConfig():{},h=a.devicePreviewMode?"":i.get("state"),g=t.get("classes"),m=g.getStyleable(),b=m.length,w=!d.componentFirst||n.useClasses,x={noCount:1},_={state:h,addOpts:x};l.skip(function(){var C;if(b&&w){var O=i.getCurrentMedia();C=u.get(m,h,O),!C&&!o&&(C=u.add(m,h,O,{},x))}else if(a.avoidInlineStyle){var A=t.getId();C=u.getIdRule(A,_),!C&&!o&&(C=u.setIdRule(A,{},_)),t.is("wrapper")&&C.set("wrapper",1,x)}C&&(t=C)})}return t},e.prototype.getParentRules=function(t,n){var i=n===void 0?{}:n,o=i.state,a=i.component,l=this.em,u=[];if(l&&t){var c=a,d=l.Css,h=l.CodeManager.getGenerator("css"),g=t.toHTML?t:t.getComponent(),m={array:!0},b=[],w=[],x=[],_=[],C=[],O=function(Z){return Z.length?d.getRules().filter(function(P){var tt=P.getSelectors().map(function(H){return H.getFullName()});return tt.length===0?!1:tt.every(function(H){return Z.indexOf(H)>=0})}):[]},A=function(Z){return Z?d.getRules().filter(function(P){return P.selectorsToString()===Z}):[]};if(g)b=d.getRules("#".concat(g.getId())),w=A(g.get("tagName")),_=c?O(c.getSelectors().getFullName(m)):[],C=_.concat(w).concat(b);else{b=c?d.getRules("#".concat(c.getId())):[],w=A((c==null?void 0:c.get("tagName"))||"");var I=(c==null?void 0:c.getSelectors().getFullName(m))||[],Q=I.filter(function(Z){return t.getSelectors().getFullName(m).findIndex(function(P){return P===Z})===-1});x=O(Q.concat(t.getSelectors().getFullName(m))),C=w.concat(b).concat(x)}var $=C.filter(function(Z){return(0,z.isUndefined)(o)?1:Z.get("state")===o}).sort(h.sortRules).reverse();u=$.slice($.indexOf(t)+1)}return u},e.prototype.addType=function(t,n){this.properties.addType(t,n)},e.prototype.getType=function(t){return this.properties.getType(t)},e.prototype.getTypes=function(){return this.properties.getTypes()},e.prototype.createType=function(t,n){var i=n===void 0?{}:n,o=i.model,a=o===void 0?{}:o,l=i.view,u=l===void 0?{}:l,c=this.config,d=this.getType(t);if(d)return new d.view(ls({model:new d.model(a),config:c},u))},e.prototype.render=function(){var t=this,n=t.config,i=t.em,o=t.SectView,a=o&&o.el;return this.SectView=new Q9({el:a,em:i,config:n,module:this,collection:this.sectors}),this.SectView.render().el},e.prototype._logNoSector=function(t){var n=this.em;n&&n.logWarning("'".concat(t,"' sector not found"))},e.prototype.__emitCmpStyleUpdate=function(t,n){n===void 0&&(n={});var i=this.em;if(!t.__p){var o=this.getSelectedAll(),a=n.components||i.getSelectedAll(),l=Array.isArray(a)?a:[a],u=ls({},t);delete u.__p,l.forEach(function(c){return!o.includes(c)&&c.__onStyleChange(u)})}},e.prototype.__upProps=function(t){var n=this;t===void 0&&(t={});var i=this.getSelected();if(i){var o=this.sectors,a=this.model.get("component"),l=this.getSelectedParents(),u=i.getStyle(),c=l.map(function(d){return{target:d,style:d.getStyle()}});o.map(function(d){d.getProperties().map(function(h){n.__upProp(h,u,c,t)})}),o.forEach(function(d){var h=d.getProperties();h.forEach(function(m){var b=m.__checkVisibility({target:i,component:a,sectors:o});m.set("visible",b)});var g=h.some(function(m){return m.isVisible()});d.set("visible",g)})}},e.prototype.__upProp=function(t,n,i,o){var a=this,l=t.getName(),u=n[l],c=sO(u),d=t.getType()==="stack",h=t.getType()==="composite",g=ls(ls({},o),{__up:!0}),m=!h&&!d,b=t,w=t,x=d?b.__getLayersFromStyle(n):[],_=h?w.__getPropsFromStyle(n):{},C=c?u:null,O=null;if(d&&x===null||h&&_===null){var A=d?"__getLayersFromStyle":"__getPropsFromStyle",I=i.filter(function(tt){return b[A](tt.style)!==null})[0];if(I){C=I.style[l],O=I.target;var Q=b[A](I.style);d?x=Q:_=Q}}else if(!c){C=null;var I=i.filter(function(H){return sO(H.style[l])})[0];I&&(C=I.style[l],O=I.target)}if(t.__setParentTarget(O),m&&t.__getFullValue()!==C&&t.upValue(C,g),d&&b.__setLayers(x||[],{isEmptyValue:b.isEmptyValueStyle(n)}),h){var $=w.getProperties();if(w.isDetached()){var Z=w.__getPropsFromStyle(n,{byName:!0})||{},P=i.map(function(tt){return ls(ls({},tt),{style:w.__getPropsFromStyle(tt.style,{byName:!0})||{}})});$.map(function(tt){return a.__upProp(tt,Z,P,o)})}else w.__setProperties(_||{},g),w.getProperties().map(function(tt){return tt.__setParentTarget(O)})}},e.prototype.destroy=function(){var t;[this.properties,this.sectors].forEach(function(n){n.reset(),n.stopListening()}),(t=this.SectView)===null||t===void 0||t.remove(),this.model.stopListening(),this.upAll.cancel()},e}(Ra);const c7=u7;var f7=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),mg=function(){return mg=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},mg.apply(this,arguments)},d7=function(r){f7(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.em=n,i.model=function(o,a){return a===void 0&&(a={}),new F2(o,mg(mg({},a),{em:n}))},i}return e}(ne.pM);const h7=d7;var p7=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),v7=function(r){p7(e,r);function e(t){var n=r.call(this,t,"DataSources",new h7([],t),uc)||this;return n.storageKey="dataSources",n.events=uc,Object.assign(n,cv.Events),n}return e.prototype.destroy=function(){},e.prototype.add=function(t,n){n===void 0&&(n={});var i=this.all;return t.id=t.id||this._createId(),i.add(t,n)},e.prototype.get=function(t){return this.all.get(t)},e.prototype.getValue=function(t,n){return(0,Ht.get)(this.getContext(),t,n)},e.prototype.getContext=function(){return this.all.reduce(function(t,n){return t[n.id]=n.records.reduce(function(i,o,a){var l=o;return i[l.id||a]=l.attributes,i},{}),t},{})},e.prototype.remove=function(t,n){return this.__remove(t,n)},e.prototype.fromPath=function(t){var n=[],i=(0,Ht.stringToPath)(t||""),o=i[0],a=i[1],l=i.slice(2),u=this.get(o),c=u==null?void 0:u.records.get(a);return u&&n.push(u),c&&(n.push(c),l.length&&n.push(l.join("."))),n},e.prototype.store=function(){var t,n=[];return this.all.forEach(function(i){var o=i.get("skipFromStorage");o||n.push({id:i.id,name:i.get("name"),records:i.records.toJSON(),skipFromStorage:o})}),t={},t[this.storageKey]=n,t},e.prototype.load=function(t){return this.loadProjectData(t)},e.prototype.postLoad=function(){var t=this,n=t.em,i=t.all;n.listenTo(i,ne.e2,function(o,a,l){return n.changesUp(l||a)})},e}(Ra);const zD=v7;var g7=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Rr=function(){return Rr=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Rr.apply(this,arguments)},e0=function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function l(d){try{c(n.next(d))}catch(h){a(h)}}function u(d){try{c(n.throw(d))}catch(h){a(h)}}function c(d){d.done?o(d.value):i(d.value).then(l,u)}c((n=n.apply(r,e||[])).next())})},n0=function(r,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(c){return function(d){return u([c,d])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(t=0)),t;)try{if(n=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){t.label=c[1];break}if(c[0]===6&&t.label<o[1]){t.label=o[1],o=c;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(c);break}o[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(r,t)}catch(d){c=[6,d],i=0}finally{n=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},m7=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t},y7=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))};Q3().$=hr.default;var _7=[qF,dF,uz,wH,TB,x5,lB,c7,$6,bz,hH,Wz,RH,e8,E8,mI,g8,R6,zD],b7=[X8,m6,oF,e6,zD];t5({$:hr.default});var lO={debug:console.log,info:console.info,warning:console.warn,error:console.error},w7=function(r){g7(e,r);function e(t){t===void 0&&(t={});var n=r.call(this)||this;n.Model=ne.Kx,n.Collection=ne.pM,n.events=mi,n.__skip=!1,n.defaultRunning=!1,n.destroyed=!1,n._config=t;var i=n.config;n.set("Config",t),n.set("modules",[]),n.set("toLoad",[]),n.set("storables",[]),n.set("selected",new r5),n.set("dmode",i.dragMode);var o=i.el,a=i.log,l=a===!0?(0,z.keys)(lO):(0,z.isArray)(a)?a:[];return(0,z.bindAll)(n,"initBaseColorPicker"),o&&i.fromElement&&(i.components=o.innerHTML),n.attrsOrig=o?(0,z.toArray)(o.attributes).reduce(function(u,c){return u[c.nodeName]=c.nodeValue,u},{}):"",i.components&&!i.pageManager&&(i.pageManager={pages:[{component:i.components}]}),_7.forEach(function(u){return n.loadModule(u)}),b7.forEach(function(u){return n.loadStorableModule(u)}),n.on("change:componentHovered",n.componentHovered,n),n.on("change:changesCount",n.updateChanges,n),n.on("change:readyLoad change:readyCanvas",n._checkReady,n),l.forEach(function(u){return n.listenLog(u)}),[{from:"change:selectedComponent",to:"component:toggled"}].forEach(function(u){var c=u.from,d=u.to;n.listenTo(n,c,function(){for(var h=[],g=0;g<arguments.length;g++)h[g]=arguments[g];n.trigger.apply(n,y7([d],h,!1)),n.logWarning("The event '".concat(c,"' is deprecated, replace it with '").concat(d,"'"))})}),n}return e.prototype.defaults=function(){return{editing:0,selected:0,clipboard:null,dmode:0,componentHovered:null,previousModel:null,changesCount:0,storables:[],modules:[],toLoad:[],opened:{},device:""}},Object.defineProperty(e.prototype,"storables",{get:function(){return this.get("storables")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"modules",{get:function(){return this.get("modules")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"toLoad",{get:function(){return this.get("toLoad")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selected",{get:function(){return this.get("selected")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shallow",{get:function(){return this.get("shallow")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"I18n",{get:function(){return this.get("I18n")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Utils",{get:function(){return this.get("Utils")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Commands",{get:function(){return this.get("Commands")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Keymaps",{get:function(){return this.get("Keymaps")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Modal",{get:function(){return this.get("Modal")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Panels",{get:function(){return this.get("Panels")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"CodeManager",{get:function(){return this.get("CodeManager")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"UndoManager",{get:function(){return this.get("UndoManager")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"RichTextEditor",{get:function(){return this.get("RichTextEditor")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Canvas",{get:function(){return this.get("Canvas")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Editor",{get:function(){return this.get("Editor")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Components",{get:function(){return this.get("DomComponents")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Css",{get:function(){return this.get("CssComposer")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Blocks",{get:function(){return this.get("BlockManager")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Selectors",{get:function(){return this.get("SelectorManager")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Storage",{get:function(){return this.get("StorageManager")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Traits",{get:function(){return this.get("TraitManager")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Parser",{get:function(){return this.get("Parser")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Layers",{get:function(){return this.get("LayerManager")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Assets",{get:function(){return this.get("AssetManager")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Devices",{get:function(){return this.get("DeviceManager")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Pages",{get:function(){return this.get("PageManager")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Styles",{get:function(){return this.get("StyleManager")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"DataSources",{get:function(){return this.get("DataSources")},enumerable:!1,configurable:!0}),e.prototype._checkReady=function(){this.get("readyLoad")&&this.get("readyCanvas")&&!this.get("ready")&&this.set("ready",!0)},e.prototype.getContainer=function(){return this.config.el},e.prototype.listenLog=function(t){this.listenTo(this,"log:".concat(t),lO[t])},Object.defineProperty(e.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){var t;return((t=this.config.grapesjs)===null||t===void 0?void 0:t.version)||""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isHeadless",{get:function(){return!!this.config.headless},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isShallow",{get:function(){return!!this.get("isShallow")},enumerable:!1,configurable:!0}),e.prototype.initModules=function(){this.modules.forEach(function(t){return t.onInit()})},e.prototype.getConfig=function(t){var n=this.config;return(0,z.isUndefined)(t)?n:n[t]},e.prototype.loadOnStart=function(){var t=this,n=this.config,i=n.projectData,o=n.headless,a={initial:!0},l=this.Storage;this.toLoad.reverse().forEach(function(d){return d.onLoad()});var u=function(){t.modules.forEach(function(d){return d.postLoad&&d.postLoad(t)}),t.set("readyLoad",1)};o?(i&&this.loadData(i,a),u()):this._storageTimeout=setTimeout(function(){return e0(t,void 0,void 0,function(){var d;return n0(this,function(h){switch(h.label){case 0:return i?(this.loadData(i,a),[3,5]):[3,1];case 1:if(!(l!=null&&l.canAutoload()))return[3,5];h.label=2;case 2:return h.trys.push([2,4,,5]),[4,this.load({},a)];case 3:return h.sent(),[3,5];case 4:return d=h.sent(),this.logError(d),[3,5];case 5:return u(),[2]}})})});var c=new e({noticeOnUnload:!1,storageManager:!1,undoManager:!1});c.set({isShallow:!0}),c.Pages.onLoad(),c.Canvas.postLoad(),this.set("shallow",c)},e.prototype.updateChanges=function(t,n,i){var o=this,a=this.Storage,l=this.getDirtyCount();i.isClear||(this.updateItr&&clearTimeout(this.updateItr),this.updateItr=setTimeout(function(){return o.trigger(mi.update)})),this.config.noticeOnUnload&&(window.onbeforeunload=l?function(){return!0}:null),a.isAutosave()&&l>=a.getStepsBeforeSave()&&this.store().catch(function(u){return o.logError(u)})},e.prototype.loadModule=function(t){var n=new t(this);return this.set(n.name,n),n.onLoad&&this.toLoad.push(n),this.modules.push(n),n},e.prototype.loadStorableModule=function(t){var n=this.loadModule(t);return this.storables.push(n),n},e.prototype.init=function(t,n){n===void 0&&(n={}),this.destroyed&&(this.initialize(n),this.destroyed=!1),this.set("Editor",t)},e.prototype.getEditor=function(){return this.get("Editor")},e.prototype.handleUpdates=function(t,n,i){var o=this;i===void 0&&(i={}),!(this.__skip||i.temporary||i.noCount||i.avoidStore||i.partial||!this.get("ready"))&&(this.timedInterval&&clearTimeout(this.timedInterval),this.timedInterval=setTimeout(function(){var a=o.getDirtyCount()||0;i.unset;var l=m7(i,["unset"]);o.set("changesCount",a+1,l)},0))},e.prototype.changesUp=function(t){this.handleUpdates(0,0,t)},e.prototype.componentHovered=function(t,n,i){var o=this.previous("componentHovered");o&&this.trigger("component:unhovered",o,i),n&&this.trigger("component:hovered",n,i)},e.prototype.getSelected=function(){return this.selected.lastComponent()},e.prototype.getSelectedAll=function(){return this.selected.allComponents()},e.prototype.setSelected=function(t,n){var i=this;n===void 0&&(n={});var o=n.event,a=o&&(o.ctrlKey||o.metaKey),l=(o||{}).shiftKey,u=((0,z.isArray)(t)?t:[t]).map(function(g){var m,b;return((b=(m=g==null?void 0:g.delegate)===null||m===void 0?void 0:m.select)===null||b===void 0?void 0:b.call(m,g))||g}).filter(Boolean),c=this.getSelectedAll(),d=this.getConfig().multipleSelection,h=(0,z.isArray)(t);(h||!t)&&this.removeSelected(c.filter(function(g){return!(0,z.contains)(u,g)})),u.forEach(function(g){if(g&&(i.trigger(mn.I.selectBefore,g,n),!g.get("selectable")||n.abort))if(n.useValid){for(var m=g.parent();m&&!m.get("selectable");)m=m.parent();g=m}else return;if(a&&d)return i.toggleSelected(g);if(l&&d){if(i.isEditing())return;i.clearSelection(i.Canvas.getWindow());var b=g.collection,w=g.index(),x,_;if(i.getSelectedAll().forEach(function(C){var O=C.collection,A=C.index();O===b&&(A<w?x=(0,z.isUndefined)(x)?A:Math.max(x,A):A>w&&(_=(0,z.isUndefined)(_)?A:Math.min(_,A)))}),!(0,z.isUndefined)(x))for(;x!==w;)i.addSelected(b.at(x),n),x++;if(!(0,z.isUndefined)(_))for(;_!==w;)i.addSelected(b.at(_),n),_--;return i.addSelected(g,n)}!h&&i.removeSelected(c.filter(function(C){return C!==g})),i.addSelected(g,n)})},e.prototype.addSelected=function(t,n){var i=this;n===void 0&&(n={});var o=(0,z.isArray)(t)?t:[t];o.forEach(function(a){var l=i.selected;if(!(!a||!a.get("selectable")||a.parents().some(function(c){return l.hasComponent(c)}))){n.forceChange&&i.removeSelected(a,n);var u=l.allComponents().filter(function(c){return(0,z.contains)(c.parents(),a)});u.forEach(function(c){return i.removeSelected(c,n)}),l.addComponent(a,n),i.trigger(mn.I.select,a,n),i.Canvas.addSpot({type:lo.F.Select,component:a})}})},e.prototype.removeSelected=function(t,n){var i=this;n===void 0&&(n={}),this.selected.removeComponent(t,n);var o=(0,z.isArray)(t)?t:[t];o.forEach(function(a){return i.Canvas.removeSpots({type:lo.F.Select,component:a})})},e.prototype.toggleSelected=function(t,n){var i=this;n===void 0&&(n={});var o=(0,z.isArray)(t)?t:[t];o.forEach(function(a){i.selected.hasComponent(a)?i.removeSelected(a,n):i.addSelected(a,n)})},e.prototype.setHovered=function(t,n){var i=this;n===void 0&&(n={});var o=function(u,c){var d=i,h=d.config,g=d.Canvas,m=i.getHovered(),b=i.getSelectedAll(),w=lo.F.Hover,x=lo.F.Spacing;i.set("componentHovered",u||null,c),m&&(g.removeSpots({type:w,component:m}),g.removeSpots({type:x,component:m})),u&&(g.addSpot({type:w,component:u}),(!b.includes(u)||h.showOffsetsSelected)&&g.addSpot({type:x,component:u}))};if(!t)return o();var a="component:hover";if(n.forceChange&&o(),this.trigger("".concat(a,":before"),t,n),!t.get("hoverable"))if(n.useValid&&!n.abort){for(var l=t.parent();l&&!l.get("hoverable");)l=l.parent();t=l}else return;n.abort||(o(t,n),this.trigger(a,t,n))},e.prototype.getHovered=function(){return this.get("componentHovered")},e.prototype.setComponents=function(t,n){return n===void 0&&(n={}),this.Components.setComponents(t,n)},e.prototype.getComponents=function(){var t=this.Components,n=this.CodeManager;if(!(!t||!n)){var i=t.getComponents();return n.getCode(i,"json")}},e.prototype.setStyle=function(t,n){n===void 0&&(n={});var i=this.Css;return i.clear(n),i.getAll().add(t,n),this},e.prototype.addStyle=function(t,n){n===void 0&&(n={});var i=this.getStyle().add(t,n);return(0,z.isArray)(i)?i:[i]},e.prototype.getStyle=function(){return this.Css.getAll()},e.prototype.setState=function(t){return this.set("state",t),this},e.prototype.getState=function(){return this.get("state")||""},e.prototype.getHtml=function(t){t===void 0&&(t={});var n=this.config,i=n.optsHtml,o=n.jsInHtml?this.getJs(t):"",a=t.component||this.Components.getComponent(),l=a?this.CodeManager.getCode(a,"html",Rr(Rr({},i),t)):"";return l+=o?"<script>".concat(o,"<\/script>"):"",l},e.prototype.getCss=function(t){t===void 0&&(t={});var n=this.config,i=n.optsCss,o=t.avoidProtected,a=(0,z.isUndefined)(t.keepUnusedStyles)?n.keepUnusedStyles:t.keepUnusedStyles,l=this.Css,u=t.component||this.Components.getComponent(),c=o?"":n.protectedCss,d=u&&this.CodeManager.getCode(u,"css",Rr(Rr({cssc:l,keepUnusedStyles:a},i),t));return u?t.json?d:c+d:""},e.prototype.getJs=function(t){t===void 0&&(t={});var n=t.component||this.Components.getWrapper();return n?this.CodeManager.getCode(n,"js").trim():""},e.prototype.store=function(t){return e0(this,void 0,void 0,function(){var n;return n0(this,function(i){switch(i.label){case 0:return n=this.storeData(),[4,this.Storage.store(n,t)];case 1:return i.sent(),this.clearDirtyCount(),[2,n]}})})},e.prototype.load=function(t){return e0(this,arguments,void 0,function(n,i){var o;return i===void 0&&(i={}),n0(this,function(a){switch(a.label){case 0:return[4,this.Storage.load(n)];case 1:return o=a.sent(),this.loadData(o,i),[4,(0,Ht.wait)()];case 2:return a.sent(),i.clear&&(this.UndoManager.clear(),this.clearDirtyCount()),[2,o]}})})},e.prototype.storeData=function(){var t={},n=this.getEditing();n&&n.trigger("sync:content",{noCount:!0}),this.storables.forEach(function(o){t=Rr(Rr({},t),o.store(1))});var i=JSON.parse(JSON.stringify(t));return this.trigger(mi.projectGet,{project:i}),i},e.prototype.loadData=function(t,n){t===void 0&&(t={}),n===void 0&&(n={});var i=!1;return(0,Ht.isEmptyObj)(t)||(this.storables.forEach(function(o){return o.clear()}),this.storables.forEach(function(o){return o.load(t)}),i=!0),this.trigger(mi.projectLoad,{project:t,loaded:i,initial:!!n.initial}),t},e.prototype.getDeviceModel=function(){var t=this.get("device");return this.Devices.get(t)},e.prototype.runDefault=function(t){t===void 0&&(t={});var n=this.Commands.get(this.config.defaultCommand);!n||this.defaultRunning||(n.stop(this,this,t),n.run(this,this,t),this.defaultRunning=!0)},e.prototype.stopDefault=function(t){t===void 0&&(t={});var n=this.Commands;if(n){var i=n.get(this.config.defaultCommand);!i||!this.defaultRunning||(i.stop(this,this,t),this.defaultRunning=!1)}},e.prototype.refreshCanvas=function(t){t===void 0&&(t={}),this.Canvas.refresh({spots:t.tools})},e.prototype.clearSelection=function(t){var n,i=t||window;(n=i.getSelection())===null||n===void 0||n.removeAllRanges()},e.prototype.getCurrentMedia=function(){var t=this.config,n=this.getDeviceModel(),i=t.mediaCondition,o=t.devicePreviewMode,a=n&&n.get("widthMedia");return n&&a&&!o?"(".concat(i,": ").concat(a,")"):""},e.prototype.getWrapper=function(){return this.Components.getWrapper()},e.prototype.setCurrentFrame=function(t){return this.set("currentFrame",t)},e.prototype.getCurrentFrame=function(){return this.get("currentFrame")},e.prototype.getCurrentFrameModel=function(){var t;return(t=this.getCurrentFrame()||{})===null||t===void 0?void 0:t.model},e.prototype.getIcon=function(t){var n=this.config.icons||{};return n[t]||""},e.prototype.getDirtyCount=function(){return this.get("changesCount")},e.prototype.clearDirtyCount=function(){return this.set({changesCount:0},{isClear:!0})},e.prototype.getZoomDecimal=function(){return this.Canvas.getZoomDecimal()},e.prototype.getZoomMultiplier=function(){return this.Canvas.getZoomMultiplier()},e.prototype.setDragMode=function(t){return this.set("dmode",t)},e.prototype.getDragMode=function(t){var n=(t==null?void 0:t.getDragMode())||this.get("dmode");return n||""},e.prototype.t=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=this.get("I18n");return i==null?void 0:i.t.apply(i,t)},e.prototype.inAbsoluteMode=function(t){return this.getDragMode(t)==="absolute"},e.prototype.destroyAll=function(){var t=this,n=this,i=n.config,o=n.view;this.trigger(mi.destroy);var a=this.getEditor(),l=(i.grapesjs||{}).editors,u=l===void 0?[]:l,c=this.get("shallow");this._storageTimeout&&clearTimeout(this._storageTimeout),c==null||c.destroyAll(),this.stopListening(),this.stopDefault(),(this.modules||[]).slice().reverse().forEach(function(d){return d.destroy()}),o!=null&&o.remove&&o.remove(),this.clear({silent:!0}),this.destroyed=!0,["_config","view","_previousAttributes","_events","_listeners"].forEach(function(d){return t[d]={}}),u.splice(u.indexOf(a),1),(0,Ht.hasWin)()&&(0,hr.default)(i.el).empty().attr(this.attrsOrig),this.trigger(mi.destroyed)},e.prototype.getEditing=function(){var t=this.get("editing");return t&&t.model||void 0},e.prototype.setEditing=function(t){return this.set("editing",t),this},e.prototype.isEditing=function(){return!!this.get("editing")},e.prototype.log=function(t,n){n===void 0&&(n={});var i=mi.log,o=n.ns,a=n.level,l=a===void 0?"debug":a;if(this.trigger(i,t,n),l&&this.trigger("".concat(i,":").concat(l),t,n),o){var u="".concat(i,"-").concat(o);this.trigger(u,t,n),l&&this.trigger("".concat(u,":").concat(l),t,n)}},e.prototype.logInfo=function(t,n){this.log(t,Rr(Rr({},n),{level:"info"}))},e.prototype.logWarning=function(t,n){this.log(t,Rr(Rr({},n),{level:"warning"}))},e.prototype.logError=function(t,n){this.log(t,Rr(Rr({},n),{level:"error"}))},e.prototype.initBaseColorPicker=function(t,n){n===void 0&&(n={});var i=this.config,o=i.colorPicker,a=o===void 0?{}:o,l=i.el,u=i.stylePrefix;return(0,hr.default)(t).spectrum(Rr(Rr({containerClassName:"".concat(u,"one-bg ").concat(u,"two-color"),appendTo:l||"body",maxSelectionSize:8,showPalette:!0,palette:[],showAlpha:!0,chooseText:"Ok",cancelText:"⨯"},n),a))},e.prototype.skip=function(t){this.__skip=!0;var n=this.UndoManager;n?n.skip(t):t(),this.__skip=!1},e.prototype.data=function(t,n,i){var o="_gjs-data";if(t[o]||(t[o]={}),(0,z.isUndefined)(i))return t[o][n];t[o][n]=i},e}(ne.Kx);const S7=w7;function C7(){return window.location.hostname}var x7=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),O7=function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function l(d){try{c(n.next(d))}catch(h){a(h)}}function u(d){try{c(n.throw(d))}catch(h){a(h)}}function c(d){d.done?o(d.value):i(d.value).then(l,u)}c((n=n.apply(r,e||[])).next())})},E7=function(r,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(c){return function(d){return u([c,d])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(t=0)),t;)try{if(n=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){t.label=c[1];break}if(c[0]===6&&t.label<o[1]){t.label=o[1],o=c;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(c);break}o[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(r,t)}catch(d){c=[6,d],i=0}finally{n=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},T7=function(r){x7(e,r);function e(t){var n=r.call(this,{model:t})||this,i=t.Panels,o=t.UndoManager;return t.view=n,t.once("change:ready",function(){i.active(),i.disableButtons(),o.clear(),t.getConfig().telemetry&&n.sendTelemetryData().catch(function(){}),setTimeout(function(){t.trigger(mi.load,t.Editor),t.clearDirtyCount()})}),n}return e.prototype.render=function(){var t=this,n=this,i=n.$el,o=n.model,a=o.Panels,l=o.Canvas,u=o.config,c=o.modules,d=u.stylePrefix,h=["".concat(d,"editor")];!u.customUI&&h.push("".concat(d,"one-bg ").concat(d,"two-color"));var g=(0,hr.default)(u.el||"body ".concat(u.container));u.cssIcons&&(0,Ht.appendStyles)(u.cssIcons,{unique:!0,prepand:!0}),i.empty(),u.width&&g.css("width",u.width),u.height&&g.css("height",u.height),i.append(l.render()),i.append(a.render());var m=o.shallow,b=m.Canvas.render();return b.style.display="none",i.append(b),i.attr("class",h.join(" ")),g.addClass("".concat(d,"editor-cont")).empty().append(i),c.forEach(function(w){var x;return(x=w.postRender)===null||x===void 0?void 0:x.call(w,t)}),this},e.prototype.sendTelemetryData=function(){return O7(this,void 0,void 0,function(){var t,n,i,o,a,l,u,c;return E7(this,function(d){switch(d.label){case 0:return t=C7(),t==="localhost"||t.includes("localhost")?[2]:(n="gjs_telemetry_sent_",i=this.model.version,o="".concat(n).concat(i),sessionStorage.getItem(o)?[2]:(a="https://app.grapesjs.com",[4,fetch("".concat(a,"/api/gjs/telemetry/collect"),{method:"POST",body:JSON.stringify({domain:t,version:i})})]));case 1:return l=d.sent(),l.ok?[3,3]:(u=Error.bind,c="Failed to send telemetry data ".concat,[4,l.text()]);case 2:throw new(u.apply(Error,[void 0,c.apply("Failed to send telemetry data ",[d.sent()])]));case 3:return sessionStorage.setItem(o,"true"),Object.keys(sessionStorage).forEach(function(h){h.startsWith(n)&&h!==o&&sessionStorage.removeItem(h)}),this.trigger(mi.telemetryInit),[2]}})})},e}(ne.Ss);const A7=T7;var Jf=function(){return Jf=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Jf.apply(this,arguments)},uO=function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function l(d){try{c(n.next(d))}catch(h){a(h)}}function u(d){try{c(n.throw(d))}catch(h){a(h)}}function c(d){d.done?o(d.value):i(d.value).then(l,u)}c((n=n.apply(r,e||[])).next())})},cO=function(r,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(c){return function(d){return u([c,d])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(t=0)),t;)try{if(n=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){t.label=c[1];break}if(c[0]===6&&t.label<o[1]){t.label=o[1],o=c;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(c);break}o[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(r,t)}catch(d){c=[6,d],i=0}finally{n=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},D7=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))},k7=function(){function r(e,t){e===void 0&&(e={}),t===void 0&&(t={});var n;this.events=mi,this.html=yi;var i=J3();this.config=Jf(Jf(Jf({},i),e),{pStylePrefix:(n=e.stylePrefix)!==null&&n!==void 0?n:i.stylePrefix}),this.em=new S7(this.config),this.$=t.$,this.em.init(this),this.editor=this.em}return Object.defineProperty(r.prototype,"Config",{get:function(){return this.em.config},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"I18n",{get:function(){return this.em.I18n},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Utils",{get:function(){return this.em.Utils},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Commands",{get:function(){return this.em.Commands},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Keymaps",{get:function(){return this.em.Keymaps},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Modal",{get:function(){return this.em.Modal},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Panels",{get:function(){return this.em.Panels},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Canvas",{get:function(){return this.em.Canvas},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Parser",{get:function(){return this.em.Parser},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"CodeManager",{get:function(){return this.em.CodeManager},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"UndoManager",{get:function(){return this.em.UndoManager},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"RichTextEditor",{get:function(){return this.em.RichTextEditor},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Pages",{get:function(){return this.em.Pages},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Components",{get:function(){return this.em.Components},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"DomComponents",{get:function(){return this.em.Components},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Layers",{get:function(){return this.em.Layers},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"LayerManager",{get:function(){return this.em.Layers},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Css",{get:function(){return this.em.Css},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"CssComposer",{get:function(){return this.em.Css},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Storage",{get:function(){return this.em.Storage},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"StorageManager",{get:function(){return this.em.Storage},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Assets",{get:function(){return this.em.Assets},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"AssetManager",{get:function(){return this.em.Assets},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Blocks",{get:function(){return this.em.Blocks},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"BlockManager",{get:function(){return this.em.Blocks},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Traits",{get:function(){return this.em.Traits},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"TraitManager",{get:function(){return this.em.Traits},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Selectors",{get:function(){return this.em.Selectors},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"SelectorManager",{get:function(){return this.em.Selectors},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Styles",{get:function(){return this.em.Styles},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"StyleManager",{get:function(){return this.em.Styles},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Devices",{get:function(){return this.em.Devices},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"DeviceManager",{get:function(){return this.em.Devices},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"DataSources",{get:function(){return this.em.DataSources},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"EditorModel",{get:function(){return this.em},enumerable:!1,configurable:!0}),r.prototype.getConfig=function(e){return this.em.getConfig(e)},r.prototype.getHtml=function(e){return this.em.getHtml(e)},r.prototype.getCss=function(e){return this.em.getCss(e)},r.prototype.getJs=function(e){return this.em.getJs(e)},r.prototype.getComponents=function(){return this.Components.getComponents()},r.prototype.getWrapper=function(){return this.Components.getWrapper()},r.prototype.setComponents=function(e,t){return t===void 0&&(t={}),this.em.setComponents(e,t),this},r.prototype.addComponents=function(e,t){return this.getWrapper().append(e,t)},r.prototype.getStyle=function(){return this.em.Css.getAll()},r.prototype.setStyle=function(e,t){return t===void 0&&(t={}),this.em.setStyle(e,t),this},r.prototype.addStyle=function(e,t){return t===void 0&&(t={}),this.em.addStyle(e,t)},r.prototype.getSelected=function(){return this.em.getSelected()},r.prototype.getSelectedAll=function(){return this.em.getSelectedAll()},r.prototype.getSelectedToStyle=function(){var e=this.em.getSelected();if(e)return this.StyleManager.getModelToStyle(e)},r.prototype.select=function(e,t){return this.em.setSelected(e,t),this},r.prototype.selectAdd=function(e){return this.em.addSelected(e),this},r.prototype.selectRemove=function(e){return this.em.removeSelected(e),this},r.prototype.selectToggle=function(e){return this.em.toggleSelected(e),this},r.prototype.getEditing=function(){return this.em.getEditing()},r.prototype.setDevice=function(e){return this.em.set("device",e),this},r.prototype.getDevice=function(){return this.em.get("device")},r.prototype.runCommand=function(e,t){return t===void 0&&(t={}),this.Commands.run(e,t)},r.prototype.stopCommand=function(e,t){return t===void 0&&(t={}),this.Commands.stop(e,t)},r.prototype.store=function(e){return uO(this,void 0,void 0,function(){return cO(this,function(t){switch(t.label){case 0:return[4,this.em.store(e)];case 1:return[2,t.sent()]}})})},r.prototype.load=function(e){return uO(this,arguments,void 0,function(t,n){return n===void 0&&(n={}),cO(this,function(i){switch(i.label){case 0:return[4,this.em.load(t,n)];case 1:return[2,i.sent()]}})})},r.prototype.getProjectData=function(){return this.em.storeData()},r.prototype.loadProjectData=function(e){return this.em.loadData(e)},r.prototype.storeData=function(){return this.em.storeData()},r.prototype.loadData=function(e){return this.em.loadData(e)},r.prototype.getContainer=function(){return this.config.el},r.prototype.getDirtyCount=function(){return this.em.getDirtyCount()},r.prototype.clearDirtyCount=function(){return this.em.clearDirtyCount()},r.prototype.refresh=function(e){this.em.refreshCanvas(e)},r.prototype.setCustomRte=function(e){this.RichTextEditor.customRte=e},r.prototype.setCustomParserCss=function(e){return this.Parser.getConfig().parserCss=e,this},r.prototype.setDragMode=function(e){return this.em.setDragMode(e),this},r.prototype.log=function(e,t){return t===void 0&&(t={}),this.em.log(e,t),this},r.prototype.t=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return(e=this.em).t.apply(e,t)},r.prototype.on=function(e,t){return this.em.on(e,t),this},r.prototype.once=function(e,t){return this.em.once(e,t),this},r.prototype.off=function(e,t){return this.em.off(e,t),this},r.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return this.em.trigger.apply(this.em,D7([e],t,!0)),this},r.prototype.destroy=function(){this.em&&(this.em.destroyAll(),this.editorView=void 0)},r.prototype.getEl=function(){var e;return(e=this.editorView)===null||e===void 0?void 0:e.el},r.prototype.getModel=function(){return this.em},r.prototype.render=function(){var e;return(e=this.editorView)===null||e===void 0||e.remove(),this.editorView=new A7(this.em),this.editorView.render().el},r.prototype.onReady=function(e){this.em.get("ready")?e(this):this.em.on("load",e)},r}();const P7=k7;var M7=function(r,e){var t=e.get(r);if(!t){var n=(0,Ht.getGlobal)()[r];t=(n==null?void 0:n.default)||n}return t},HD=function(r,e){return(0,z.isString)(r)?M7(r,e):(r==null?void 0:r.default)||r},WD=function(r,e){r.getModel().logWarning("Plugin ".concat(e," not found"),{context:"plugins",plugin:e})},R7=function(){function r(){this.plugins={}}return r.prototype.add=function(e,t){var n=this.get(e);return n||(this.plugins[e]=t,t)},r.prototype.get=function(e){return this.plugins[e]},r.prototype.getAll=function(){return this.plugins},r}();const L7=R7,N7=function(){var r=function(){for(var t,n=window.navigator.userAgent,i=[["edge",/Edge\/([0-9\._]+)/],["ie",/MSIE\s(7\.0)/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/]],o=0;o<i.length;o++){var a=i[o];if(t=a[1].exec(n),t)break}return!!t};if((0,Ht.hasWin)()&&r()){var e=DOMImplementation.prototype.createHTMLDocument;DOMImplementation.prototype.createHTMLDocument=function(t){return t||(t=""),e.apply(document.implementation,[t])}}};var yg=function(){return yg=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},yg.apply(this,arguments)};N7();var B_=new L7,fO=[],KD=function(r,e){var t=HD(r,B_);return function(n){t?t(n,e||{}):WD(n,r)}},qD={$:hr.default,editors:fO,plugins:B_,usePlugin:KD,version:"0.22.7",init:function(r){r===void 0&&(r={});var e=r.headless,t=r.container;if(!t&&!e)throw new Error("'container' is required");var n=yg(yg({autorender:!0,plugins:[],pluginsOpts:{}},r),{grapesjs:this,el:e?void 0:(0,z.isElement)(t)?t:document.querySelector(t)}),i=new P7(n,{$:hr.default}),o=i.getModel();return o.initModules(),n.plugins.forEach(function(a){var l=HD(a,B_),u=n.pluginsOpts[a]||{};l?l(i,u):WD(i,a)}),o.loadOnStart(),n.autorender&&!e&&i.render(),fO.push(i),i}};const j7=qD;var I7=Gg.Ay;Gg.I0;Gg.nu;var GD={exports:{}};/*! grapesjs-preset-webpage - 1.0.3 */(function(r,e){(function(t,n){r.exports=n()})(typeof globalThis<"u"?globalThis:typeof window<"u"?window:Io,()=>(()=>{var t={d:(b,w)=>{for(var x in w)t.o(w,x)&&!t.o(b,x)&&Object.defineProperty(b,x,{enumerable:!0,get:w[x]})},o:(b,w)=>Object.prototype.hasOwnProperty.call(b,w),r:b=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(b,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(b,"__esModule",{value:!0})}},n={};t.r(n),t.d(n,{default:()=>m});var i=function(){return i=Object.assign||function(b){for(var w,x=1,_=arguments.length;x<_;x++)for(var C in w=arguments[x])Object.prototype.hasOwnProperty.call(w,C)&&(b[C]=w[C]);return b},i.apply(this,arguments)},o="gjs-open-import-webpage",a="set-device-desktop",l="set-device-tablet",u="set-device-mobile",c="canvas-clear",d=function(){return d=Object.assign||function(b){for(var w,x=1,_=arguments.length;x<_;x++)for(var C in w=arguments[x])Object.prototype.hasOwnProperty.call(w,C)&&(b[C]=w[C]);return b},d.apply(this,arguments)};const h=function(b,w){var x=b.Commands,_=w.textCleanCanvas;(function(C,O){var A=C.getConfig("stylePrefix"),I=O.modalImportLabel,Q=O.modalImportContent;C.Commands.add(o,{codeViewer:null,container:null,run:function($){var Z=typeof Q=="function"?Q($):Q,P=this.getCodeViewer();$.Modal.open({title:O.modalImportTitle,content:this.getContainer()}).onceClose(function(){return $.stopCommand(o)}),P.setContent(Z??""),P.refresh(),setTimeout(function(){return P.focus()},0)},stop:function(){C.Modal.close()},getContainer:function(){if(!this.container){var $=this.getCodeViewer(),Z=document.createElement("div");if(Z.className="".concat(A,"import-container"),I){var P=document.createElement("div");P.className="".concat(A,"import-label"),P.innerHTML=I,Z.appendChild(P)}Z.appendChild($.getElement());var tt=document.createElement("button");tt.type="button",tt.innerHTML=O.modalImportButton,tt.className="".concat(A,"btn-prim ").concat(A,"btn-import"),tt.onclick=function(){C.Css.clear(),C.setComponents($.getContent().trim()),C.Modal.close()},Z.appendChild(tt),this.container=Z}return this.container},getCodeViewer:function(){return this.codeViewer||(this.codeViewer=C.CodeManager.createViewer(d({codeName:"htmlmixed",theme:"hopscotch",readOnly:!1},O.importViewerOptions))),this.codeViewer}})})(b,w),x.add(a,{run:function(C){return C.setDevice("Desktop")},stop:function(){}}),x.add(l,{run:function(C){return C.setDevice("Tablet")},stop:function(){}}),x.add(u,{run:function(C){return C.setDevice("Mobile portrait")},stop:function(){}}),x.add(c,function(C){return confirm(_)&&C.runCommand("core:canvas-clear")})};var g=function(){return g=Object.assign||function(b){for(var w,x=1,_=arguments.length;x<_;x++)for(var C in w=arguments[x])Object.prototype.hasOwnProperty.call(w,C)&&(b[C]=w[C]);return b},g.apply(this,arguments)};const m=function(b,w){w===void 0&&(w={});var x=g({blocks:["link-block","quote","text-basic"],block:function(){return{}},modalImportTitle:"Import",modalImportButton:"Import",modalImportLabel:"",modalImportContent:"",importViewerOptions:{},textCleanCanvas:"Are you sure you want to clear the canvas?",showStylesOnChange:!0,useCustomTheme:!0},w);if(x.useCustomTheme&&typeof window<"u"){var _="gjs-",C="";[["one","#463a3c"],["two","#b9a5a6"],["three","#804f7b"],["four","#d97aa6"]].forEach(function(A){var I=A[0],Q=A[1];C+=`
        .`.concat(_).concat(I,`-bg {
          background-color: `).concat(Q,`;
        }

        .`).concat(_).concat(I,`-color {
          color: `).concat(Q,`;
        }

        .`).concat(_).concat(I,`-color-h:hover {
          color: `).concat(Q,`;
        }
      `)});var O=document.createElement("style");O.innerText=C,document.head.appendChild(O)}(function(A,I){var Q=function($,Z){I.blocks.indexOf($)>=0&&A.Blocks.add($,i(i({select:!0,category:"Basic"},Z),I.block($)))};Q("link-block",{label:"Link Block",media:`<svg viewBox="0 0 24 24">
      <path fill="currentColor" d="M3.9,12C3.9,10.29 5.29,8.9 7,8.9H11V7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H11V15.1H7C5.29,15.1 3.9,13.71 3.9,12M8,13H16V11H8V13M17,7H13V8.9H17C18.71,8.9 20.1,10.29 20.1,12C20.1,13.71 18.71,15.1 17,15.1H13V17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7Z"></path>
    </svg>`,content:{type:"link",editable:!1,droppable:!0,style:{display:"inline-block",padding:"5px","min-height":"50px","min-width":"50px"}}}),Q("quote",{label:"Quote",media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M14,17H17L19,13V7H13V13H16M6,17H9L11,13V7H5V13H8L6,17Z" />
    </svg>`,content:`<blockquote class="quote">
        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore ipsum dolor sit
      </blockquote>`}),Q("text-basic",{label:"Text section",media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M21,6V8H3V6H21M3,18H12V16H3V18M3,13H21V11H3V13Z" />
    </svg>`,content:`<section class="bdg-sect">
      <h1 class="heading">Insert title here</h1>
      <p class="paragraph">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua</p>
      </section>`})})(b,x),h(b,x),function(A,I){var Q=A.Panels,$=A.getConfig(),Z="sw-visibility",P="export-template",tt="open-sm",H="open-tm",k="open-layers",F="open-blocks",T="fullscreen",nt="preview",L='style="display: block; max-width:22px"';$.showDevices=!1,Q.getPanels().reset([{id:"commands",buttons:[{}]},{id:"devices-c",buttons:[{id:a,command:a,active:!0,label:"<svg ".concat(L,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M21,16H3V4H21M21,2H3C1.89,2 1,2.89 1,4V16A2,2 0 0,0 3,18H10V20H8V22H16V20H14V18H21A2,2 0 0,0 23,16V4C23,2.89 22.1,2 21,2Z" />
        </svg>`)},{id:l,command:l,label:"<svg ".concat(L,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M19,18H5V6H19M21,4H3C1.89,4 1,4.89 1,6V18A2,2 0 0,0 3,20H21A2,2 0 0,0 23,18V6C23,4.89 22.1,4 21,4Z" />
        </svg>`)},{id:u,command:u,label:"<svg ".concat(L,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M17,19H7V5H17M17,1H7C5.89,1 5,1.89 5,3V21A2,2 0 0,0 7,23H17A2,2 0 0,0 19,21V3C19,1.89 18.1,1 17,1Z" />
        </svg>`)}]},{id:"options",buttons:[{id:Z,command:Z,context:Z,label:"<svg ".concat(L,` viewBox="0 0 24 24">
        <path fill="currentColor" d="M15,5H17V3H15M15,21H17V19H15M11,5H13V3H11M19,5H21V3H19M19,9H21V7H19M19,21H21V19H19M19,13H21V11H19M19,17H21V15H19M3,5H5V3H3M3,9H5V7H3M3,13H5V11H3M3,17H5V15H3M3,21H5V19H3M11,21H13V19H11M7,21H9V19H7M7,5H9V3H7V5Z" />
    </svg>`)},{id:nt,context:nt,command:function(){return A.runCommand(nt)},label:"<svg ".concat(L,' viewBox="0 0 24 24"><path fill="currentColor" d="M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z"></path></svg>')},{id:T,command:T,context:T,label:"<svg ".concat(L,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M5,5H10V7H7V10H5V5M14,5H19V10H17V7H14V5M17,14H19V19H14V17H17V14M10,17V19H5V14H7V17H10Z" />
        </svg>`)},{id:P,command:function(){return A.runCommand(P)},label:"<svg ".concat(L,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M12.89,3L14.85,3.4L11.11,21L9.15,20.6L12.89,3M19.59,12L16,8.41V5.58L22.42,12L16,18.41V15.58L19.59,12M1.58,12L8,5.58V8.41L4.41,12L8,15.58V18.41L1.58,12Z" />
        </svg>`)},{id:"undo",command:function(){return A.runCommand("core:undo")},label:"<svg ".concat(L,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M20 13.5C20 17.09 17.09 20 13.5 20H6V18H13.5C16 18 18 16 18 13.5S16 9 13.5 9H7.83L10.91 12.09L9.5 13.5L4 8L9.5 2.5L10.92 3.91L7.83 7H13.5C17.09 7 20 9.91 20 13.5Z" />
        </svg>`)},{id:"redo",command:function(){return A.runCommand("core:redo")},label:"<svg ".concat(L,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M10.5 18H18V20H10.5C6.91 20 4 17.09 4 13.5S6.91 7 10.5 7H16.17L13.08 3.91L14.5 2.5L20 8L14.5 13.5L13.09 12.09L16.17 9H10.5C8 9 6 11 6 13.5S8 18 10.5 18Z" />
        </svg>`)},{id:o,command:function(){return A.runCommand(o)},label:"<svg ".concat(L,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M5,20H19V18H5M19,9H15V3H9V9H5L12,16L19,9Z" />
        </svg>`)},{id:c,command:function(){return A.runCommand(c)},label:"<svg ".concat(L,` viewBox="0 0 24 24">
              <path fill="currentColor" d="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z" />
          </svg>`)}]},{id:"views",buttons:[{id:tt,command:tt,active:!0,label:"<svg ".concat(L,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M20.71,4.63L19.37,3.29C19,2.9 18.35,2.9 17.96,3.29L9,12.25L11.75,15L20.71,6.04C21.1,5.65 21.1,5 20.71,4.63M7,14A3,3 0 0,0 4,17C4,18.31 2.84,19 2,19C2.92,20.22 4.5,21 6,21A4,4 0 0,0 10,17A3,3 0 0,0 7,14Z" />
        </svg>`)},{id:H,command:H,label:"<svg ".concat(L,` viewBox="0 0 24 24">
          <path fill="currentColor" d="M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.67 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z" />
      </svg>`)},{id:k,command:k,label:"<svg ".concat(L,` viewBox="0 0 24 24">
          <path fill="currentColor" d="M12,16L19.36,10.27L21,9L12,2L3,9L4.63,10.27M12,18.54L4.62,12.81L3,14.07L12,21.07L21,14.07L19.37,12.8L12,18.54Z" />
      </svg>`)},{id:F,command:F,label:"<svg ".concat(L,` viewBox="0 0 24 24">
          <path fill="currentColor" d="M17,13H13V17H11V13H7V11H11V7H13V11H17M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z" />
      </svg>`)}]}]);var ot=Q.getButton("views",F);A.on("load",function(){return ot==null?void 0:ot.set("active",!0)}),I.showStylesOnChange&&A.on("component:selected",function(){var pt=Q.getButton("views",tt),mt=Q.getButton("views",k);mt&&mt.get("active")||!A.getSelected()||pt==null||pt.set("active",!0)})}(b,x)};return n})())})(GD);var V7=GD.exports;const U7=bO(V7),Ko=Object.create(null);Ko.open="0";Ko.close="1";Ko.ping="2";Ko.pong="3";Ko.message="4";Ko.upgrade="5";Ko.noop="6";const Ep=Object.create(null);Object.keys(Ko).forEach(r=>{Ep[Ko[r]]=r});const F_={type:"error",data:"parser error"},YD=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",XD=typeof ArrayBuffer=="function",ZD=r=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(r):r&&r.buffer instanceof ArrayBuffer,Cw=({type:r,data:e},t,n)=>YD&&e instanceof Blob?t?n(e):dO(e,n):XD&&(e instanceof ArrayBuffer||ZD(e))?t?n(e):dO(new Blob([e]),n):n(Ko[r]+(e||"")),dO=(r,e)=>{const t=new FileReader;return t.onload=function(){const n=t.result.split(",")[1];e("b"+(n||""))},t.readAsDataURL(r)};function hO(r){return r instanceof Uint8Array?r:r instanceof ArrayBuffer?new Uint8Array(r):new Uint8Array(r.buffer,r.byteOffset,r.byteLength)}let r0;function B7(r,e){if(YD&&r.data instanceof Blob)return r.data.arrayBuffer().then(hO).then(e);if(XD&&(r.data instanceof ArrayBuffer||ZD(r.data)))return e(hO(r.data));Cw(r,!1,t=>{r0||(r0=new TextEncoder),e(r0.encode(t))})}const pO="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ef=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let r=0;r<pO.length;r++)Ef[pO.charCodeAt(r)]=r;const F7=r=>{let e=r.length*.75,t=r.length,n,i=0,o,a,l,u;r[r.length-1]==="="&&(e--,r[r.length-2]==="="&&e--);const c=new ArrayBuffer(e),d=new Uint8Array(c);for(n=0;n<t;n+=4)o=Ef[r.charCodeAt(n)],a=Ef[r.charCodeAt(n+1)],l=Ef[r.charCodeAt(n+2)],u=Ef[r.charCodeAt(n+3)],d[i++]=o<<2|a>>4,d[i++]=(a&15)<<4|l>>2,d[i++]=(l&3)<<6|u&63;return c},z7=typeof ArrayBuffer=="function",xw=(r,e)=>{if(typeof r!="string")return{type:"message",data:$D(r,e)};const t=r.charAt(0);return t==="b"?{type:"message",data:H7(r.substring(1),e)}:Ep[t]?r.length>1?{type:Ep[t],data:r.substring(1)}:{type:Ep[t]}:F_},H7=(r,e)=>{if(z7){const t=F7(r);return $D(t,e)}else return{base64:!0,data:r}},$D=(r,e)=>{switch(e){case"blob":return r instanceof Blob?r:new Blob([r]);case"arraybuffer":default:return r instanceof ArrayBuffer?r:r.buffer}},JD="",W7=(r,e)=>{const t=r.length,n=new Array(t);let i=0;r.forEach((o,a)=>{Cw(o,!1,l=>{n[a]=l,++i===t&&e(n.join(JD))})})},K7=(r,e)=>{const t=r.split(JD),n=[];for(let i=0;i<t.length;i++){const o=xw(t[i],e);if(n.push(o),o.type==="error")break}return n};function q7(){return new TransformStream({transform(r,e){B7(r,t=>{const n=t.length;let i;if(n<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,n);else if(n<65536){i=new Uint8Array(3);const o=new DataView(i.buffer);o.setUint8(0,126),o.setUint16(1,n)}else{i=new Uint8Array(9);const o=new DataView(i.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(n))}r.data&&typeof r.data!="string"&&(i[0]|=128),e.enqueue(i),e.enqueue(t)})}})}let i0;function Jh(r){return r.reduce((e,t)=>e+t.length,0)}function Qh(r,e){if(r[0].length===e)return r.shift();const t=new Uint8Array(e);let n=0;for(let i=0;i<e;i++)t[i]=r[0][n++],n===r[0].length&&(r.shift(),n=0);return r.length&&n<r[0].length&&(r[0]=r[0].slice(n)),t}function G7(r,e){i0||(i0=new TextDecoder);const t=[];let n=0,i=-1,o=!1;return new TransformStream({transform(a,l){for(t.push(a);;){if(n===0){if(Jh(t)<1)break;const u=Qh(t,1);o=(u[0]&128)===128,i=u[0]&127,i<126?n=3:i===126?n=1:n=2}else if(n===1){if(Jh(t)<2)break;const u=Qh(t,2);i=new DataView(u.buffer,u.byteOffset,u.length).getUint16(0),n=3}else if(n===2){if(Jh(t)<8)break;const u=Qh(t,8),c=new DataView(u.buffer,u.byteOffset,u.length),d=c.getUint32(0);if(d>Math.pow(2,21)-1){l.enqueue(F_);break}i=d*Math.pow(2,32)+c.getUint32(4),n=3}else{if(Jh(t)<i)break;const u=Qh(t,i);l.enqueue(xw(o?u:i0.decode(u),e)),n=0}if(i===0||i>r){l.enqueue(F_);break}}}})}const QD=4;function tr(r){if(r)return Y7(r)}function Y7(r){for(var e in tr.prototype)r[e]=tr.prototype[e];return r}tr.prototype.on=tr.prototype.addEventListener=function(r,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+r]=this._callbacks["$"+r]||[]).push(e),this};tr.prototype.once=function(r,e){function t(){this.off(r,t),e.apply(this,arguments)}return t.fn=e,this.on(r,t),this};tr.prototype.off=tr.prototype.removeListener=tr.prototype.removeAllListeners=tr.prototype.removeEventListener=function(r,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var t=this._callbacks["$"+r];if(!t)return this;if(arguments.length==1)return delete this._callbacks["$"+r],this;for(var n,i=0;i<t.length;i++)if(n=t[i],n===e||n.fn===e){t.splice(i,1);break}return t.length===0&&delete this._callbacks["$"+r],this};tr.prototype.emit=function(r){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),t=this._callbacks["$"+r],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(t){t=t.slice(0);for(var n=0,i=t.length;n<i;++n)t[n].apply(this,e)}return this};tr.prototype.emitReserved=tr.prototype.emit;tr.prototype.listeners=function(r){return this._callbacks=this._callbacks||{},this._callbacks["$"+r]||[]};tr.prototype.hasListeners=function(r){return!!this.listeners(r).length};const Jg=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,t)=>t(e,0),io=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),X7="arraybuffer";function tk(r,...e){return e.reduce((t,n)=>(r.hasOwnProperty(n)&&(t[n]=r[n]),t),{})}const Z7=io.setTimeout,$7=io.clearTimeout;function Qg(r,e){e.useNativeTimers?(r.setTimeoutFn=Z7.bind(io),r.clearTimeoutFn=$7.bind(io)):(r.setTimeoutFn=io.setTimeout.bind(io),r.clearTimeoutFn=io.clearTimeout.bind(io))}const J7=1.33;function Q7(r){return typeof r=="string"?tW(r):Math.ceil((r.byteLength||r.size)*J7)}function tW(r){let e=0,t=0;for(let n=0,i=r.length;n<i;n++)e=r.charCodeAt(n),e<128?t+=1:e<2048?t+=2:e<55296||e>=57344?t+=3:(n++,t+=4);return t}function ek(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function eW(r){let e="";for(let t in r)r.hasOwnProperty(t)&&(e.length&&(e+="&"),e+=encodeURIComponent(t)+"="+encodeURIComponent(r[t]));return e}function nW(r){let e={},t=r.split("&");for(let n=0,i=t.length;n<i;n++){let o=t[n].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}class rW extends Error{constructor(e,t,n){super(e),this.description=t,this.context=n,this.type="TransportError"}}class Ow extends tr{constructor(e){super(),this.writable=!1,Qg(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,n){return super.emitReserved("error",new rW(e,t,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=xw(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,t={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const t=eW(e);return t.length?"?"+t:""}}class iW extends Ow{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||t()})),this.writable||(n++,this.once("drain",function(){--n||t()}))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const t=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};K7(e,this.socket.binaryType).forEach(t),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,W7(e,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return this.opts.timestampRequests!==!1&&(t[this.opts.timestampParam]=ek()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.createUri(e,t)}}let nk=!1;try{nk=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const oW=nk;function aW(){}class sW extends iW{constructor(e){if(super(e),typeof location<"u"){const t=location.protocol==="https:";let n=location.port;n||(n=t?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||n!==e.port}}doWrite(e,t){const n=this.request({method:"POST",data:e});n.on("success",t),n.on("error",(i,o)=>{this.onError("xhr post error",i,o)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(t,n)=>{this.onError("xhr poll error",t,n)}),this.pollXhr=e}}let Zu=class Tp extends tr{constructor(e,t,n){super(),this.createRequest=e,Qg(this,n),this._opts=n,this._method=n.method||"GET",this._uri=t,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var e;const t=tk(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(t);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&n.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var i;n.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=Tp.requestsCount++,Tp.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=aW,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Tp.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}};Zu.requestsCount=0;Zu.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",vO);else if(typeof addEventListener=="function"){const r="onpagehide"in io?"pagehide":"unload";addEventListener(r,vO,!1)}}function vO(){for(let r in Zu.requests)Zu.requests.hasOwnProperty(r)&&Zu.requests[r].abort()}const lW=function(){const r=rk({xdomain:!1});return r&&r.responseType!==null}();class uW extends sW{constructor(e){super(e);const t=e&&e.forceBase64;this.supportsBinary=lW&&!t}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new Zu(rk,this.uri(),e)}}function rk(r){const e=r.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||oW))return new XMLHttpRequest}catch{}if(!e)try{return new io[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const ik=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class cW extends Ow{get name(){return"websocket"}doOpen(){const e=this.uri(),t=this.opts.protocols,n=ik?{}:tk(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,n)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],i=t===e.length-1;Cw(n,this.supportsBinary,o=>{try{this.doWrite(n,o)}catch{}i&&Jg(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=ek()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}}const o0=io.WebSocket||io.MozWebSocket;class fW extends cW{createSocket(e,t,n){return ik?new o0(e,t,n):t?new o0(e,t):new o0(e)}doWrite(e,t){this.ws.send(t)}}class dW extends Ow{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const t=G7(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(t).getReader(),i=q7();i.readable.pipeTo(e.writable),this._writer=i.writable.getWriter();const o=()=>{n.read().then(({done:l,value:u})=>{l||(this.onPacket(u),o())}).catch(l=>{})};o();const a={type:"open"};this.query.sid&&(a.data=`{"sid":"${this.query.sid}"}`),this._writer.write(a).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],i=t===e.length-1;this._writer.write(n).then(()=>{i&&Jg(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const hW={websocket:fW,webtransport:dW,polling:uW},pW=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,vW=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function z_(r){if(r.length>8e3)throw"URI too long";const e=r,t=r.indexOf("["),n=r.indexOf("]");t!=-1&&n!=-1&&(r=r.substring(0,t)+r.substring(t,n).replace(/:/g,";")+r.substring(n,r.length));let i=pW.exec(r||""),o={},a=14;for(;a--;)o[vW[a]]=i[a]||"";return t!=-1&&n!=-1&&(o.source=e,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=gW(o,o.path),o.queryKey=mW(o,o.query),o}function gW(r,e){const t=/\/{2,9}/g,n=e.replace(t,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&n.splice(0,1),e.slice(-1)=="/"&&n.splice(n.length-1,1),n}function mW(r,e){const t={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,i,o){i&&(t[i]=o)}),t}const H_=typeof addEventListener=="function"&&typeof removeEventListener=="function",Ap=[];H_&&addEventListener("offline",()=>{Ap.forEach(r=>r())},!1);class Ts extends tr{constructor(e,t){if(super(),this.binaryType=X7,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(t=e,e=null),e){const n=z_(e);t.hostname=n.host,t.secure=n.protocol==="https"||n.protocol==="wss",t.port=n.port,n.query&&(t.query=n.query)}else t.host&&(t.hostname=z_(t.host).host);Qg(this,t),this.secure=t.secure!=null?t.secure:typeof location<"u"&&location.protocol==="https:",t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=t.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},t.transports.forEach(n=>{const i=n.prototype.name;this.transports.push(i),this._transportsByName[i]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=nW(this.opts.query)),H_&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Ap.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=QD,t.transport=e,this.id&&(t.sid=this.id);const n=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&Ts.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const t=this.createTransport(e);t.open(),this.setTransport(t)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",t=>this._onClose("transport close",t))}onOpen(){this.readyState="open",Ts.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const t=new Error("server error");t.code=e.data,this._onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let n=0;n<this.writeBuffer.length;n++){const i=this.writeBuffer[n].data;if(i&&(t+=Q7(i)),n>0&&t>this._maxPayload)return this.writeBuffer.slice(0,n);t+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,Jg(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,t,n){return this._sendPacket("message",e,t,n),this}send(e,t,n){return this._sendPacket("message",e,t,n),this}_sendPacket(e,t,n,i){if(typeof t=="function"&&(i=t,t=void 0),typeof n=="function"&&(i=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const o={type:e,data:t,options:n};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),i&&this.once("flush",i),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},n=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():e()}):this.upgrading?n():e()),this}_onError(e){if(Ts.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),H_&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=Ap.indexOf(this._offlineEventListener);n!==-1&&Ap.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this._prevBufferLen=0}}}Ts.protocol=QD;class yW extends Ts{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),n=!1;Ts.priorWebsocketSuccess=!1;const i=()=>{n||(t.send([{type:"ping",data:"probe"}]),t.once("packet",h=>{if(!n)if(h.type==="pong"&&h.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;Ts.priorWebsocketSuccess=t.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(d(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{const g=new Error("probe error");g.transport=t.name,this.emitReserved("upgradeError",g)}}))};function o(){n||(n=!0,d(),t.close(),t=null)}const a=h=>{const g=new Error("probe error: "+h);g.transport=t.name,o(),this.emitReserved("upgradeError",g)};function l(){a("transport closed")}function u(){a("socket closed")}function c(h){t&&h.name!==t.name&&o()}const d=()=>{t.removeListener("open",i),t.removeListener("error",a),t.removeListener("close",l),this.off("close",u),this.off("upgrading",c)};t.once("open",i),t.once("error",a),t.once("close",l),this.once("close",u),this.once("upgrading",c),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{n||t.open()},200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const t=[];for(let n=0;n<e.length;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}let _W=class extends yW{constructor(e,t={}){const n=typeof e=="object"?e:t;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(i=>hW[i]).filter(i=>!!i)),super(e,n)}};function bW(r,e="",t){let n=r;t=t||typeof location<"u"&&location,r==null&&(r=t.protocol+"//"+t.host),typeof r=="string"&&(r.charAt(0)==="/"&&(r.charAt(1)==="/"?r=t.protocol+r:r=t.host+r),/^(https?|wss?):\/\//.test(r)||(typeof t<"u"?r=t.protocol+"//"+r:r="https://"+r),n=z_(r)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const o=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+o+":"+n.port+e,n.href=n.protocol+"://"+o+(t&&t.port===n.port?"":":"+n.port),n}const wW=typeof ArrayBuffer=="function",SW=r=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(r):r.buffer instanceof ArrayBuffer,ok=Object.prototype.toString,CW=typeof Blob=="function"||typeof Blob<"u"&&ok.call(Blob)==="[object BlobConstructor]",xW=typeof File=="function"||typeof File<"u"&&ok.call(File)==="[object FileConstructor]";function Ew(r){return wW&&(r instanceof ArrayBuffer||SW(r))||CW&&r instanceof Blob||xW&&r instanceof File}function Dp(r,e){if(!r||typeof r!="object")return!1;if(Array.isArray(r)){for(let t=0,n=r.length;t<n;t++)if(Dp(r[t]))return!0;return!1}if(Ew(r))return!0;if(r.toJSON&&typeof r.toJSON=="function"&&arguments.length===1)return Dp(r.toJSON(),!0);for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t)&&Dp(r[t]))return!0;return!1}function OW(r){const e=[],t=r.data,n=r;return n.data=W_(t,e),n.attachments=e.length,{packet:n,buffers:e}}function W_(r,e){if(!r)return r;if(Ew(r)){const t={_placeholder:!0,num:e.length};return e.push(r),t}else if(Array.isArray(r)){const t=new Array(r.length);for(let n=0;n<r.length;n++)t[n]=W_(r[n],e);return t}else if(typeof r=="object"&&!(r instanceof Date)){const t={};for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=W_(r[n],e));return t}return r}function EW(r,e){return r.data=K_(r.data,e),delete r.attachments,r}function K_(r,e){if(!r)return r;if(r&&r._placeholder===!0){if(typeof r.num=="number"&&r.num>=0&&r.num<e.length)return e[r.num];throw new Error("illegal attachments")}else if(Array.isArray(r))for(let t=0;t<r.length;t++)r[t]=K_(r[t],e);else if(typeof r=="object")for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&(r[t]=K_(r[t],e));return r}const TW=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],AW=5;var Ge;(function(r){r[r.CONNECT=0]="CONNECT",r[r.DISCONNECT=1]="DISCONNECT",r[r.EVENT=2]="EVENT",r[r.ACK=3]="ACK",r[r.CONNECT_ERROR=4]="CONNECT_ERROR",r[r.BINARY_EVENT=5]="BINARY_EVENT",r[r.BINARY_ACK=6]="BINARY_ACK"})(Ge||(Ge={}));class DW{constructor(e){this.replacer=e}encode(e){return(e.type===Ge.EVENT||e.type===Ge.ACK)&&Dp(e)?this.encodeAsBinary({type:e.type===Ge.EVENT?Ge.BINARY_EVENT:Ge.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let t=""+e.type;return(e.type===Ge.BINARY_EVENT||e.type===Ge.BINARY_ACK)&&(t+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(t+=e.nsp+","),e.id!=null&&(t+=e.id),e.data!=null&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=OW(e),n=this.encodeAsString(t.packet),i=t.buffers;return i.unshift(n),i}}function gO(r){return Object.prototype.toString.call(r)==="[object Object]"}class Tw extends tr{constructor(e){super(),this.reviver=e}add(e){let t;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const n=t.type===Ge.BINARY_EVENT;n||t.type===Ge.BINARY_ACK?(t.type=n?Ge.EVENT:Ge.ACK,this.reconstructor=new kW(t),t.attachments===0&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else if(Ew(e)||e.base64)if(this.reconstructor)t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let t=0;const n={type:Number(e.charAt(0))};if(Ge[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===Ge.BINARY_EVENT||n.type===Ge.BINARY_ACK){const o=t+1;for(;e.charAt(++t)!=="-"&&t!=e.length;);const a=e.substring(o,t);if(a!=Number(a)||e.charAt(t)!=="-")throw new Error("Illegal attachments");n.attachments=Number(a)}if(e.charAt(t+1)==="/"){const o=t+1;for(;++t&&!(e.charAt(t)===","||t===e.length););n.nsp=e.substring(o,t)}else n.nsp="/";const i=e.charAt(t+1);if(i!==""&&Number(i)==i){const o=t+1;for(;++t;){const a=e.charAt(t);if(a==null||Number(a)!=a){--t;break}if(t===e.length)break}n.id=Number(e.substring(o,t+1))}if(e.charAt(++t)){const o=this.tryParse(e.substr(t));if(Tw.isPayloadValid(n.type,o))n.data=o;else throw new Error("invalid payload")}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,t){switch(e){case Ge.CONNECT:return gO(t);case Ge.DISCONNECT:return t===void 0;case Ge.CONNECT_ERROR:return typeof t=="string"||gO(t);case Ge.EVENT:case Ge.BINARY_EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&TW.indexOf(t[0])===-1);case Ge.ACK:case Ge.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class kW{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const t=EW(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const PW=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Tw,Encoder:DW,get PacketType(){return Ge},protocol:AW},Symbol.toStringTag,{value:"Module"}));function Eo(r,e,t){return r.on(e,t),function(){r.off(e,t)}}const MW=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class ak extends tr{constructor(e,t,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Eo(e,"open",this.onopen.bind(this)),Eo(e,"packet",this.onpacket.bind(this)),Eo(e,"error",this.onerror.bind(this)),Eo(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){var n,i,o;if(MW.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(t.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;const a={type:Ge.EVENT,data:t};if(a.options={},a.options.compress=this.flags.compress!==!1,typeof t[t.length-1]=="function"){const d=this.ids++,h=t.pop();this._registerAckCallback(d,h),a.id=d}const l=(i=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||i===void 0?void 0:i.writable,u=this.connected&&!(!((o=this.io.engine)===null||o===void 0)&&o._hasPingExpired());return this.flags.volatile&&!l||(u?(this.notifyOutgoingListeners(a),this.packet(a)):this.sendBuffer.push(a)),this.flags={},this}_registerAckCallback(e,t){var n;const i=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(i===void 0){this.acks[e]=t;return}const o=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===e&&this.sendBuffer.splice(l,1);t.call(this,new Error("operation has timed out"))},i),a=(...l)=>{this.io.clearTimeoutFn(o),t.apply(this,l)};a.withError=!0,this.acks[e]=a}emitWithAck(e,...t){return new Promise((n,i)=>{const o=(a,l)=>a?i(a):n(l);o.withError=!0,t.push(o),this.emit(e,...t)})}_addToQueue(e){let t;typeof e[e.length-1]=="function"&&(t=e.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...o)=>n!==this._queue[0]?void 0:(i!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(i)):(this._queue.shift(),t&&t(null,...o)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Ge.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(n=>String(n.id)===e)){const n=this.acks[e];delete this.acks[e],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Ge.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Ge.EVENT:case Ge.BINARY_EVENT:this.onevent(e);break;case Ge.ACK:case Ge.BINARY_ACK:this.onack(e);break;case Ge.DISCONNECT:this.ondisconnect();break;case Ge.CONNECT_ERROR:this.destroy();const n=new Error(e.data.message);n.data=e.data.data,this.emitReserved("connect_error",n);break}}onevent(e){const t=e.data||[];e.id!=null&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const n of t)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let n=!1;return function(...i){n||(n=!0,t.packet({type:Ge.ACK,id:e,data:i}))}}onack(e){const t=this.acks[e.id];typeof t=="function"&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Ge.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const n of t)n.apply(this,e.data)}}}function xc(r){r=r||{},this.ms=r.min||100,this.max=r.max||1e4,this.factor=r.factor||2,this.jitter=r.jitter>0&&r.jitter<=1?r.jitter:0,this.attempts=0}xc.prototype.duration=function(){var r=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),t=Math.floor(e*this.jitter*r);r=Math.floor(e*10)&1?r+t:r-t}return Math.min(r,this.max)|0};xc.prototype.reset=function(){this.attempts=0};xc.prototype.setMin=function(r){this.ms=r};xc.prototype.setMax=function(r){this.max=r};xc.prototype.setJitter=function(r){this.jitter=r};class q_ extends tr{constructor(e,t){var n;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.opts=t,Qg(this,t),this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor((n=t.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new xc({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(t.timeout==null?2e4:t.timeout),this._readyState="closed",this.uri=e;const i=t.parser||PW;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=t.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(t=this.backoff)===null||t===void 0||t.setMin(e),this)}randomizationFactor(e){var t;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(t=this.backoff)===null||t===void 0||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(t=this.backoff)===null||t===void 0||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new _W(this.uri,this.opts);const t=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const i=Eo(t,"open",function(){n.onopen(),e&&e()}),o=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),e?e(l):this.maybeReconnectOnOpen()},a=Eo(t,"error",o);if(this._timeout!==!1){const l=this._timeout,u=this.setTimeoutFn(()=>{i(),o(new Error("timeout")),t.close()},l);this.opts.autoUnref&&u.unref(),this.subs.push(()=>{this.clearTimeoutFn(u)})}return this.subs.push(i),this.subs.push(a),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Eo(e,"ping",this.onping.bind(this)),Eo(e,"data",this.ondata.bind(this)),Eo(e,"error",this.onerror.bind(this)),Eo(e,"close",this.onclose.bind(this)),Eo(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}ondecoded(e){Jg(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new ak(this,e,t),this.nsps[e]=n),n}_destroy(e){const t=Object.keys(this.nsps);for(const n of t)if(this.nsps[n].active)return;this._close()}_packet(e){const t=this.encoder.encode(e);for(let n=0;n<t.length;n++)this.engine.write(t[n],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},t);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const mf={};function kp(r,e){typeof r=="object"&&(e=r,r=void 0),e=e||{};const t=bW(r,e.path||"/socket.io"),n=t.source,i=t.id,o=t.path,a=mf[i]&&o in mf[i].nsps,l=e.forceNew||e["force new connection"]||e.multiplex===!1||a;let u;return l?u=new q_(n,e):(mf[i]||(mf[i]=new q_(n,e)),u=mf[i]),t.query&&!e.query&&(e.query=t.queryKey),u.socket(t.path,e)}Object.assign(kp,{Manager:q_,Socket:ak,io:kp,connect:kp});const RW="wss://backsw1.onrender.com";console.log(!0);const G_=kp(RW,{transports:["websocket"]});function LW({roomId:r}){const e=Ft.useRef(null),t=Ft.useRef(null),n=Ft.useRef(!1),[i,o]=Ft.useState(!1);return Ft.useEffect(()=>{if(!e.current)return;const a=I7.init({container:e.current,height:"100vh",storageManager:!1,plugins:[U7],pluginsOpts:{"gjs-preset-webpage":{}}});t.current=a;const l=localStorage.getItem(`gjs-html-${r}`),u=localStorage.getItem(`gjs-css-${r}`)||"";(l||u)&&(n.current=!0,a.setComponents(l||""),setTimeout(()=>{a.setStyle(u||""),n.current=!1},0));const c=()=>{if(n.current)return;const h=a.getHtml(),g=a.getCss()||"";localStorage.setItem(`gjs-html-${r}`,h),localStorage.setItem(`gjs-css-${r}`,g),G_.emit("element:update",{roomId:r,frame:{html:h,css:g}})};a.once("load",()=>{(l||u)&&(n.current=!0,a.setComponents(l||""),a.setStyle(u||""),n.current=!1),a.on("component:add",c),a.on("component:update",c),console.log("CSS cargado desde localStorage:",u)});const d=a.BlockManager;return d.add("navbar",{label:"Navbar",category:"Layout",attributes:{class:"fa fa-bars"},content:`
        <nav style="background: #333; color: white; padding: 10px; display: flex; justify-content: space-between; align-items: center;">
          <div style="font-weight: bold;">MiLogo</div>
          <div>
            <a href="#" style="color: white; margin: 0 10px; text-decoration: none;">Inicio</a>
            <a href="#" style="color: white; margin: 0 10px; text-decoration: none;">Nosotros</a>
            <a href="#" style="color: white; margin: 0 10px; text-decoration: none;">Contacto</a>
          </div>
        </nav>
      `}),d.add("1-column",{label:"1 Column",category:"Layout",attributes:{class:"fa fa-square-o"},content:'<div style="padding:20px; border: 1px solid #ddd;">1 Column Layout</div>'}),d.add("2-columns",{label:"2 Columns",category:"Layout",attributes:{class:"fa fa-columns"},content:`<div style="display:flex; gap:10px;">
                  <div style="flex:1; border:1px solid #ddd; padding:10px;">Column 1</div>
                  <div style="flex:1; border:1px solid #ddd; padding:10px;">Column 2</div>
                </div>`}),d.add("button",{label:"Button",category:"Basic",attributes:{class:"fa fa-hand-pointer-o"},content:'<button style="padding:10px 15px; background:#007bff; color:white; border:none; border-radius:3px;">Click me</button>'}),d.add("image",{label:"Image",category:"Basic",attributes:{class:"fa fa-image"},content:'<img src="https://placehold.co/150x100" alt="Image" style="max-width:100%"/>'}),d.add("input",{label:"Input",category:"Form",attributes:{class:"fa fa-i-cursor"},content:'<input type="text" placeholder="Enter text" style="padding: 8px; width: 100%;"/>'}),d.add("table",{label:"Table",category:"Basic",attributes:{class:"fa fa-table"},content:`
        <table style="width: 100%; border-collapse: collapse; border: 1px solid #ddd;">
          <tr>
            <th style="border:1px solid #ddd; padding:8px;">Header 1</th>
            <th style="border:1px solid #ddd; padding:8px;">Header 2</th>
          </tr>
          <tr>
            <td style="border:1px solid #ddd; padding:8px;">Cell 1</td>
            <td style="border:1px solid #ddd; padding:8px;">Cell 2</td>
          </tr>
        </table>
      `}),d.add("mi-bloque",{label:"Mi bloque",category:"Basic",attributes:{class:"fa fa-cube"},content:'<div style="padding:20px; background: #f0f0f0;">¡Hola mundo!</div>'}),o(!0),()=>a.destroy()},[r]),Ft.useEffect(()=>{const a=t.current;if(!a)return;const l=({frame:u})=>{if(!(u!=null&&u.html))return;const c=a.getHtml(),d=a.getCss(),h=c.trim()===u.html.trim(),g=(d||"").trim()===(u.css||"").trim();h&&g||(n.current=!0,a.setComponents(u.html||""),a.setStyle(u.css||""),n.current=!1,console.log("🔄 Diseño recibido desde socket"))};return()=>{G_.off("element:update",l)}},[r]),Jt.jsx("div",{ref:e,style:{flex:1}})}function tp(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var sk={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(r,e){(function(t){r.exports=t()})(function(){return function t(n,i,o){function a(c,d){if(!i[c]){if(!n[c]){var h=typeof tp=="function"&&tp;if(!d&&h)return h(c,!0);if(l)return l(c,!0);var g=new Error("Cannot find module '"+c+"'");throw g.code="MODULE_NOT_FOUND",g}var m=i[c]={exports:{}};n[c][0].call(m.exports,function(b){var w=n[c][1][b];return a(w||b)},m,m.exports,t,n,i,o)}return i[c].exports}for(var l=typeof tp=="function"&&tp,u=0;u<o.length;u++)a(o[u]);return a}({1:[function(t,n,i){var o=t("./utils"),a=t("./support"),l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(u){for(var c,d,h,g,m,b,w,x=[],_=0,C=u.length,O=C,A=o.getTypeOf(u)!=="string";_<u.length;)O=C-_,h=A?(c=u[_++],d=_<C?u[_++]:0,_<C?u[_++]:0):(c=u.charCodeAt(_++),d=_<C?u.charCodeAt(_++):0,_<C?u.charCodeAt(_++):0),g=c>>2,m=(3&c)<<4|d>>4,b=1<O?(15&d)<<2|h>>6:64,w=2<O?63&h:64,x.push(l.charAt(g)+l.charAt(m)+l.charAt(b)+l.charAt(w));return x.join("")},i.decode=function(u){var c,d,h,g,m,b,w=0,x=0,_="data:";if(u.substr(0,_.length)===_)throw new Error("Invalid base64 input, it looks like a data url.");var C,O=3*(u=u.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(u.charAt(u.length-1)===l.charAt(64)&&O--,u.charAt(u.length-2)===l.charAt(64)&&O--,O%1!=0)throw new Error("Invalid base64 input, bad content length.");for(C=a.uint8array?new Uint8Array(0|O):new Array(0|O);w<u.length;)c=l.indexOf(u.charAt(w++))<<2|(g=l.indexOf(u.charAt(w++)))>>4,d=(15&g)<<4|(m=l.indexOf(u.charAt(w++)))>>2,h=(3&m)<<6|(b=l.indexOf(u.charAt(w++))),C[x++]=c,m!==64&&(C[x++]=d),b!==64&&(C[x++]=h);return C}},{"./support":30,"./utils":32}],2:[function(t,n,i){var o=t("./external"),a=t("./stream/DataWorker"),l=t("./stream/Crc32Probe"),u=t("./stream/DataLengthProbe");function c(d,h,g,m,b){this.compressedSize=d,this.uncompressedSize=h,this.crc32=g,this.compression=m,this.compressedContent=b}c.prototype={getContentWorker:function(){var d=new a(o.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new u("data_length")),h=this;return d.on("end",function(){if(this.streamInfo.data_length!==h.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),d},getCompressedWorker:function(){return new a(o.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},c.createWorkerFrom=function(d,h,g){return d.pipe(new l).pipe(new u("uncompressedSize")).pipe(h.compressWorker(g)).pipe(new u("compressedSize")).withStreamInfo("compression",h)},n.exports=c},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,n,i){var o=t("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new o("STORE compression")},uncompressWorker:function(){return new o("STORE decompression")}},i.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,n,i){var o=t("./utils"),a=function(){for(var l,u=[],c=0;c<256;c++){l=c;for(var d=0;d<8;d++)l=1&l?3988292384^l>>>1:l>>>1;u[c]=l}return u}();n.exports=function(l,u){return l!==void 0&&l.length?o.getTypeOf(l)!=="string"?function(c,d,h,g){var m=a,b=g+h;c^=-1;for(var w=g;w<b;w++)c=c>>>8^m[255&(c^d[w])];return-1^c}(0|u,l,l.length,0):function(c,d,h,g){var m=a,b=g+h;c^=-1;for(var w=g;w<b;w++)c=c>>>8^m[255&(c^d.charCodeAt(w))];return-1^c}(0|u,l,l.length,0):0}},{"./utils":32}],5:[function(t,n,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(t,n,i){var o=null;o=typeof Promise<"u"?Promise:t("lie"),n.exports={Promise:o}},{lie:37}],7:[function(t,n,i){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",a=t("pako"),l=t("./utils"),u=t("./stream/GenericWorker"),c=o?"uint8array":"array";function d(h,g){u.call(this,"FlateWorker/"+h),this._pako=null,this._pakoAction=h,this._pakoOptions=g,this.meta={}}i.magic="\b\0",l.inherits(d,u),d.prototype.processChunk=function(h){this.meta=h.meta,this._pako===null&&this._createPako(),this._pako.push(l.transformTo(c,h.data),!1)},d.prototype.flush=function(){u.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},d.prototype.cleanUp=function(){u.prototype.cleanUp.call(this),this._pako=null},d.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var h=this;this._pako.onData=function(g){h.push({data:g,meta:h.meta})}},i.compressWorker=function(h){return new d("Deflate",h)},i.uncompressWorker=function(){return new d("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,n,i){function o(m,b){var w,x="";for(w=0;w<b;w++)x+=String.fromCharCode(255&m),m>>>=8;return x}function a(m,b,w,x,_,C){var O,A,I=m.file,Q=m.compression,$=C!==c.utf8encode,Z=l.transformTo("string",C(I.name)),P=l.transformTo("string",c.utf8encode(I.name)),tt=I.comment,H=l.transformTo("string",C(tt)),k=l.transformTo("string",c.utf8encode(tt)),F=P.length!==I.name.length,T=k.length!==tt.length,nt="",L="",ot="",pt=I.dir,mt=I.date,Lt={crc32:0,compressedSize:0,uncompressedSize:0};b&&!w||(Lt.crc32=m.crc32,Lt.compressedSize=m.compressedSize,Lt.uncompressedSize=m.uncompressedSize);var St=0;b&&(St|=8),$||!F&&!T||(St|=2048);var at=0,Rt=0;pt&&(at|=16),_==="UNIX"?(Rt=798,at|=function(Mt,Qt){var W=Mt;return Mt||(W=Qt?16893:33204),(65535&W)<<16}(I.unixPermissions,pt)):(Rt=20,at|=function(Mt){return 63&(Mt||0)}(I.dosPermissions)),O=mt.getUTCHours(),O<<=6,O|=mt.getUTCMinutes(),O<<=5,O|=mt.getUTCSeconds()/2,A=mt.getUTCFullYear()-1980,A<<=4,A|=mt.getUTCMonth()+1,A<<=5,A|=mt.getUTCDate(),F&&(L=o(1,1)+o(d(Z),4)+P,nt+="up"+o(L.length,2)+L),T&&(ot=o(1,1)+o(d(H),4)+k,nt+="uc"+o(ot.length,2)+ot);var wt="";return wt+=`
\0`,wt+=o(St,2),wt+=Q.magic,wt+=o(O,2),wt+=o(A,2),wt+=o(Lt.crc32,4),wt+=o(Lt.compressedSize,4),wt+=o(Lt.uncompressedSize,4),wt+=o(Z.length,2),wt+=o(nt.length,2),{fileRecord:h.LOCAL_FILE_HEADER+wt+Z+nt,dirRecord:h.CENTRAL_FILE_HEADER+o(Rt,2)+wt+o(H.length,2)+"\0\0\0\0"+o(at,4)+o(x,4)+Z+nt+H}}var l=t("../utils"),u=t("../stream/GenericWorker"),c=t("../utf8"),d=t("../crc32"),h=t("../signature");function g(m,b,w,x){u.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=b,this.zipPlatform=w,this.encodeFileName=x,this.streamFiles=m,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}l.inherits(g,u),g.prototype.push=function(m){var b=m.meta.percent||0,w=this.entriesCount,x=this._sources.length;this.accumulate?this.contentBuffer.push(m):(this.bytesWritten+=m.data.length,u.prototype.push.call(this,{data:m.data,meta:{currentFile:this.currentFile,percent:w?(b+100*(w-x-1))/w:100}}))},g.prototype.openedSource=function(m){this.currentSourceOffset=this.bytesWritten,this.currentFile=m.file.name;var b=this.streamFiles&&!m.file.dir;if(b){var w=a(m,b,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:w.fileRecord,meta:{percent:0}})}else this.accumulate=!0},g.prototype.closedSource=function(m){this.accumulate=!1;var b=this.streamFiles&&!m.file.dir,w=a(m,b,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(w.dirRecord),b)this.push({data:function(x){return h.DATA_DESCRIPTOR+o(x.crc32,4)+o(x.compressedSize,4)+o(x.uncompressedSize,4)}(m),meta:{percent:100}});else for(this.push({data:w.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},g.prototype.flush=function(){for(var m=this.bytesWritten,b=0;b<this.dirRecords.length;b++)this.push({data:this.dirRecords[b],meta:{percent:100}});var w=this.bytesWritten-m,x=function(_,C,O,A,I){var Q=l.transformTo("string",I(A));return h.CENTRAL_DIRECTORY_END+"\0\0\0\0"+o(_,2)+o(_,2)+o(C,4)+o(O,4)+o(Q.length,2)+Q}(this.dirRecords.length,w,m,this.zipComment,this.encodeFileName);this.push({data:x,meta:{percent:100}})},g.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},g.prototype.registerPrevious=function(m){this._sources.push(m);var b=this;return m.on("data",function(w){b.processChunk(w)}),m.on("end",function(){b.closedSource(b.previous.streamInfo),b._sources.length?b.prepareNextSource():b.end()}),m.on("error",function(w){b.error(w)}),this},g.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},g.prototype.error=function(m){var b=this._sources;if(!u.prototype.error.call(this,m))return!1;for(var w=0;w<b.length;w++)try{b[w].error(m)}catch{}return!0},g.prototype.lock=function(){u.prototype.lock.call(this);for(var m=this._sources,b=0;b<m.length;b++)m[b].lock()},n.exports=g},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,n,i){var o=t("../compressions"),a=t("./ZipFileWorker");i.generateWorker=function(l,u,c){var d=new a(u.streamFiles,c,u.platform,u.encodeFileName),h=0;try{l.forEach(function(g,m){h++;var b=function(C,O){var A=C||O,I=o[A];if(!I)throw new Error(A+" is not a valid compression method !");return I}(m.options.compression,u.compression),w=m.options.compressionOptions||u.compressionOptions||{},x=m.dir,_=m.date;m._compressWorker(b,w).withStreamInfo("file",{name:g,dir:x,date:_,comment:m.comment||"",unixPermissions:m.unixPermissions,dosPermissions:m.dosPermissions}).pipe(d)}),d.entriesCount=h}catch(g){d.error(g)}return d}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,n,i){function o(){if(!(this instanceof o))return new o;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var a=new o;for(var l in this)typeof this[l]!="function"&&(a[l]=this[l]);return a}}(o.prototype=t("./object")).loadAsync=t("./load"),o.support=t("./support"),o.defaults=t("./defaults"),o.version="3.10.1",o.loadAsync=function(a,l){return new o().loadAsync(a,l)},o.external=t("./external"),n.exports=o},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,n,i){var o=t("./utils"),a=t("./external"),l=t("./utf8"),u=t("./zipEntries"),c=t("./stream/Crc32Probe"),d=t("./nodejsUtils");function h(g){return new a.Promise(function(m,b){var w=g.decompressed.getContentWorker().pipe(new c);w.on("error",function(x){b(x)}).on("end",function(){w.streamInfo.crc32!==g.decompressed.crc32?b(new Error("Corrupted zip : CRC32 mismatch")):m()}).resume()})}n.exports=function(g,m){var b=this;return m=o.extend(m||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:l.utf8decode}),d.isNode&&d.isStream(g)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):o.prepareContent("the loaded zip file",g,!0,m.optimizedBinaryString,m.base64).then(function(w){var x=new u(m);return x.load(w),x}).then(function(w){var x=[a.Promise.resolve(w)],_=w.files;if(m.checkCRC32)for(var C=0;C<_.length;C++)x.push(h(_[C]));return a.Promise.all(x)}).then(function(w){for(var x=w.shift(),_=x.files,C=0;C<_.length;C++){var O=_[C],A=O.fileNameStr,I=o.resolve(O.fileNameStr);b.file(I,O.decompressed,{binary:!0,optimizedBinaryString:!0,date:O.date,dir:O.dir,comment:O.fileCommentStr.length?O.fileCommentStr:null,unixPermissions:O.unixPermissions,dosPermissions:O.dosPermissions,createFolders:m.createFolders}),O.dir||(b.file(I).unsafeOriginalName=A)}return x.zipComment.length&&(b.comment=x.zipComment),b})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,n,i){var o=t("../utils"),a=t("../stream/GenericWorker");function l(u,c){a.call(this,"Nodejs stream input adapter for "+u),this._upstreamEnded=!1,this._bindStream(c)}o.inherits(l,a),l.prototype._bindStream=function(u){var c=this;(this._stream=u).pause(),u.on("data",function(d){c.push({data:d,meta:{percent:0}})}).on("error",function(d){c.isPaused?this.generatedError=d:c.error(d)}).on("end",function(){c.isPaused?c._upstreamEnded=!0:c.end()})},l.prototype.pause=function(){return!!a.prototype.pause.call(this)&&(this._stream.pause(),!0)},l.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=l},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,n,i){var o=t("readable-stream").Readable;function a(l,u,c){o.call(this,u),this._helper=l;var d=this;l.on("data",function(h,g){d.push(h)||d._helper.pause(),c&&c(g)}).on("error",function(h){d.emit("error",h)}).on("end",function(){d.push(null)})}t("../utils").inherits(a,o),a.prototype._read=function(){this._helper.resume()},n.exports=a},{"../utils":32,"readable-stream":16}],14:[function(t,n,i){n.exports={isNode:typeof Buffer<"u",newBufferFrom:function(o,a){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(o,a);if(typeof o=="number")throw new Error('The "data" argument must not be a number');return new Buffer(o,a)},allocBuffer:function(o){if(Buffer.alloc)return Buffer.alloc(o);var a=new Buffer(o);return a.fill(0),a},isBuffer:function(o){return Buffer.isBuffer(o)},isStream:function(o){return o&&typeof o.on=="function"&&typeof o.pause=="function"&&typeof o.resume=="function"}}},{}],15:[function(t,n,i){function o(I,Q,$){var Z,P=l.getTypeOf(Q),tt=l.extend($||{},d);tt.date=tt.date||new Date,tt.compression!==null&&(tt.compression=tt.compression.toUpperCase()),typeof tt.unixPermissions=="string"&&(tt.unixPermissions=parseInt(tt.unixPermissions,8)),tt.unixPermissions&&16384&tt.unixPermissions&&(tt.dir=!0),tt.dosPermissions&&16&tt.dosPermissions&&(tt.dir=!0),tt.dir&&(I=_(I)),tt.createFolders&&(Z=x(I))&&C.call(this,Z,!0);var H=P==="string"&&tt.binary===!1&&tt.base64===!1;$&&$.binary!==void 0||(tt.binary=!H),(Q instanceof h&&Q.uncompressedSize===0||tt.dir||!Q||Q.length===0)&&(tt.base64=!1,tt.binary=!0,Q="",tt.compression="STORE",P="string");var k=null;k=Q instanceof h||Q instanceof u?Q:b.isNode&&b.isStream(Q)?new w(I,Q):l.prepareContent(I,Q,tt.binary,tt.optimizedBinaryString,tt.base64);var F=new g(I,k,tt);this.files[I]=F}var a=t("./utf8"),l=t("./utils"),u=t("./stream/GenericWorker"),c=t("./stream/StreamHelper"),d=t("./defaults"),h=t("./compressedObject"),g=t("./zipObject"),m=t("./generate"),b=t("./nodejsUtils"),w=t("./nodejs/NodejsStreamInputAdapter"),x=function(I){I.slice(-1)==="/"&&(I=I.substring(0,I.length-1));var Q=I.lastIndexOf("/");return 0<Q?I.substring(0,Q):""},_=function(I){return I.slice(-1)!=="/"&&(I+="/"),I},C=function(I,Q){return Q=Q!==void 0?Q:d.createFolders,I=_(I),this.files[I]||o.call(this,I,null,{dir:!0,createFolders:Q}),this.files[I]};function O(I){return Object.prototype.toString.call(I)==="[object RegExp]"}var A={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(I){var Q,$,Z;for(Q in this.files)Z=this.files[Q],($=Q.slice(this.root.length,Q.length))&&Q.slice(0,this.root.length)===this.root&&I($,Z)},filter:function(I){var Q=[];return this.forEach(function($,Z){I($,Z)&&Q.push(Z)}),Q},file:function(I,Q,$){if(arguments.length!==1)return I=this.root+I,o.call(this,I,Q,$),this;if(O(I)){var Z=I;return this.filter(function(tt,H){return!H.dir&&Z.test(tt)})}var P=this.files[this.root+I];return P&&!P.dir?P:null},folder:function(I){if(!I)return this;if(O(I))return this.filter(function(P,tt){return tt.dir&&I.test(P)});var Q=this.root+I,$=C.call(this,Q),Z=this.clone();return Z.root=$.name,Z},remove:function(I){I=this.root+I;var Q=this.files[I];if(Q||(I.slice(-1)!=="/"&&(I+="/"),Q=this.files[I]),Q&&!Q.dir)delete this.files[I];else for(var $=this.filter(function(P,tt){return tt.name.slice(0,I.length)===I}),Z=0;Z<$.length;Z++)delete this.files[$[Z].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(I){var Q,$={};try{if(($=l.extend(I||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode})).type=$.type.toLowerCase(),$.compression=$.compression.toUpperCase(),$.type==="binarystring"&&($.type="string"),!$.type)throw new Error("No output type specified.");l.checkSupport($.type),$.platform!=="darwin"&&$.platform!=="freebsd"&&$.platform!=="linux"&&$.platform!=="sunos"||($.platform="UNIX"),$.platform==="win32"&&($.platform="DOS");var Z=$.comment||this.comment||"";Q=m.generateWorker(this,$,Z)}catch(P){(Q=new u("error")).error(P)}return new c(Q,$.type||"string",$.mimeType)},generateAsync:function(I,Q){return this.generateInternalStream(I).accumulate(Q)},generateNodeStream:function(I,Q){return(I=I||{}).type||(I.type="nodebuffer"),this.generateInternalStream(I).toNodejsStream(Q)}};n.exports=A},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,n,i){n.exports=t("stream")},{stream:void 0}],17:[function(t,n,i){var o=t("./DataReader");function a(l){o.call(this,l);for(var u=0;u<this.data.length;u++)l[u]=255&l[u]}t("../utils").inherits(a,o),a.prototype.byteAt=function(l){return this.data[this.zero+l]},a.prototype.lastIndexOfSignature=function(l){for(var u=l.charCodeAt(0),c=l.charCodeAt(1),d=l.charCodeAt(2),h=l.charCodeAt(3),g=this.length-4;0<=g;--g)if(this.data[g]===u&&this.data[g+1]===c&&this.data[g+2]===d&&this.data[g+3]===h)return g-this.zero;return-1},a.prototype.readAndCheckSignature=function(l){var u=l.charCodeAt(0),c=l.charCodeAt(1),d=l.charCodeAt(2),h=l.charCodeAt(3),g=this.readData(4);return u===g[0]&&c===g[1]&&d===g[2]&&h===g[3]},a.prototype.readData=function(l){if(this.checkOffset(l),l===0)return[];var u=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,u},n.exports=a},{"../utils":32,"./DataReader":18}],18:[function(t,n,i){var o=t("../utils");function a(l){this.data=l,this.length=l.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(l){this.checkIndex(this.index+l)},checkIndex:function(l){if(this.length<this.zero+l||l<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+l+"). Corrupted zip ?")},setIndex:function(l){this.checkIndex(l),this.index=l},skip:function(l){this.setIndex(this.index+l)},byteAt:function(){},readInt:function(l){var u,c=0;for(this.checkOffset(l),u=this.index+l-1;u>=this.index;u--)c=(c<<8)+this.byteAt(u);return this.index+=l,c},readString:function(l){return o.transformTo("string",this.readData(l))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var l=this.readInt(4);return new Date(Date.UTC(1980+(l>>25&127),(l>>21&15)-1,l>>16&31,l>>11&31,l>>5&63,(31&l)<<1))}},n.exports=a},{"../utils":32}],19:[function(t,n,i){var o=t("./Uint8ArrayReader");function a(l){o.call(this,l)}t("../utils").inherits(a,o),a.prototype.readData=function(l){this.checkOffset(l);var u=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,u},n.exports=a},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,n,i){var o=t("./DataReader");function a(l){o.call(this,l)}t("../utils").inherits(a,o),a.prototype.byteAt=function(l){return this.data.charCodeAt(this.zero+l)},a.prototype.lastIndexOfSignature=function(l){return this.data.lastIndexOf(l)-this.zero},a.prototype.readAndCheckSignature=function(l){return l===this.readData(4)},a.prototype.readData=function(l){this.checkOffset(l);var u=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,u},n.exports=a},{"../utils":32,"./DataReader":18}],21:[function(t,n,i){var o=t("./ArrayReader");function a(l){o.call(this,l)}t("../utils").inherits(a,o),a.prototype.readData=function(l){if(this.checkOffset(l),l===0)return new Uint8Array(0);var u=this.data.subarray(this.zero+this.index,this.zero+this.index+l);return this.index+=l,u},n.exports=a},{"../utils":32,"./ArrayReader":17}],22:[function(t,n,i){var o=t("../utils"),a=t("../support"),l=t("./ArrayReader"),u=t("./StringReader"),c=t("./NodeBufferReader"),d=t("./Uint8ArrayReader");n.exports=function(h){var g=o.getTypeOf(h);return o.checkSupport(g),g!=="string"||a.uint8array?g==="nodebuffer"?new c(h):a.uint8array?new d(o.transformTo("uint8array",h)):new l(o.transformTo("array",h)):new u(h)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,n,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,n,i){var o=t("./GenericWorker"),a=t("../utils");function l(u){o.call(this,"ConvertWorker to "+u),this.destType=u}a.inherits(l,o),l.prototype.processChunk=function(u){this.push({data:a.transformTo(this.destType,u.data),meta:u.meta})},n.exports=l},{"../utils":32,"./GenericWorker":28}],25:[function(t,n,i){var o=t("./GenericWorker"),a=t("../crc32");function l(){o.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(l,o),l.prototype.processChunk=function(u){this.streamInfo.crc32=a(u.data,this.streamInfo.crc32||0),this.push(u)},n.exports=l},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,n,i){var o=t("../utils"),a=t("./GenericWorker");function l(u){a.call(this,"DataLengthProbe for "+u),this.propName=u,this.withStreamInfo(u,0)}o.inherits(l,a),l.prototype.processChunk=function(u){if(u){var c=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=c+u.data.length}a.prototype.processChunk.call(this,u)},n.exports=l},{"../utils":32,"./GenericWorker":28}],27:[function(t,n,i){var o=t("../utils"),a=t("./GenericWorker");function l(u){a.call(this,"DataWorker");var c=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,u.then(function(d){c.dataIsReady=!0,c.data=d,c.max=d&&d.length||0,c.type=o.getTypeOf(d),c.isPaused||c._tickAndRepeat()},function(d){c.error(d)})}o.inherits(l,a),l.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},l.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,o.delay(this._tickAndRepeat,[],this)),!0)},l.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(o.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},l.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var u=null,c=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":u=this.data.substring(this.index,c);break;case"uint8array":u=this.data.subarray(this.index,c);break;case"array":case"nodebuffer":u=this.data.slice(this.index,c)}return this.index=c,this.push({data:u,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=l},{"../utils":32,"./GenericWorker":28}],28:[function(t,n,i){function o(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}o.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return!this.isFinished&&(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,l){return this._listeners[a].push(l),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,l){if(this._listeners[a])for(var u=0;u<this._listeners[a].length;u++)this._listeners[a][u].call(this,l)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var l=this;return a.on("data",function(u){l.processChunk(u)}),a.on("end",function(){l.end()}),a.on("error",function(u){l.error(u)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var a=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),a=!0),this.previous&&this.previous.resume(),!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,l){return this.extraStreamInfo[a]=l,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,a)&&(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},n.exports=o},{}],29:[function(t,n,i){var o=t("../utils"),a=t("./ConvertWorker"),l=t("./GenericWorker"),u=t("../base64"),c=t("../support"),d=t("../external"),h=null;if(c.nodestream)try{h=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function g(b,w){return new d.Promise(function(x,_){var C=[],O=b._internalType,A=b._outputType,I=b._mimeType;b.on("data",function(Q,$){C.push(Q),w&&w($)}).on("error",function(Q){C=[],_(Q)}).on("end",function(){try{var Q=function($,Z,P){switch($){case"blob":return o.newBlob(o.transformTo("arraybuffer",Z),P);case"base64":return u.encode(Z);default:return o.transformTo($,Z)}}(A,function($,Z){var P,tt=0,H=null,k=0;for(P=0;P<Z.length;P++)k+=Z[P].length;switch($){case"string":return Z.join("");case"array":return Array.prototype.concat.apply([],Z);case"uint8array":for(H=new Uint8Array(k),P=0;P<Z.length;P++)H.set(Z[P],tt),tt+=Z[P].length;return H;case"nodebuffer":return Buffer.concat(Z);default:throw new Error("concat : unsupported type '"+$+"'")}}(O,C),I);x(Q)}catch($){_($)}C=[]}).resume()})}function m(b,w,x){var _=w;switch(w){case"blob":case"arraybuffer":_="uint8array";break;case"base64":_="string"}try{this._internalType=_,this._outputType=w,this._mimeType=x,o.checkSupport(_),this._worker=b.pipe(new a(_)),b.lock()}catch(C){this._worker=new l("error"),this._worker.error(C)}}m.prototype={accumulate:function(b){return g(this,b)},on:function(b,w){var x=this;return b==="data"?this._worker.on(b,function(_){w.call(x,_.data,_.meta)}):this._worker.on(b,function(){o.delay(w,arguments,x)}),this},resume:function(){return o.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(b){if(o.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new h(this,{objectMode:this._outputType!=="nodebuffer"},b)}},n.exports=m},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,n,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var o=new ArrayBuffer(0);try{i.blob=new Blob([o],{type:"application/zip"}).size===0}catch{try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);a.append(o),i.blob=a.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!t("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(t,n,i){for(var o=t("./utils"),a=t("./support"),l=t("./nodejsUtils"),u=t("./stream/GenericWorker"),c=new Array(256),d=0;d<256;d++)c[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;c[254]=c[254]=1;function h(){u.call(this,"utf-8 decode"),this.leftOver=null}function g(){u.call(this,"utf-8 encode")}i.utf8encode=function(m){return a.nodebuffer?l.newBufferFrom(m,"utf-8"):function(b){var w,x,_,C,O,A=b.length,I=0;for(C=0;C<A;C++)(64512&(x=b.charCodeAt(C)))==55296&&C+1<A&&(64512&(_=b.charCodeAt(C+1)))==56320&&(x=65536+(x-55296<<10)+(_-56320),C++),I+=x<128?1:x<2048?2:x<65536?3:4;for(w=a.uint8array?new Uint8Array(I):new Array(I),C=O=0;O<I;C++)(64512&(x=b.charCodeAt(C)))==55296&&C+1<A&&(64512&(_=b.charCodeAt(C+1)))==56320&&(x=65536+(x-55296<<10)+(_-56320),C++),x<128?w[O++]=x:(x<2048?w[O++]=192|x>>>6:(x<65536?w[O++]=224|x>>>12:(w[O++]=240|x>>>18,w[O++]=128|x>>>12&63),w[O++]=128|x>>>6&63),w[O++]=128|63&x);return w}(m)},i.utf8decode=function(m){return a.nodebuffer?o.transformTo("nodebuffer",m).toString("utf-8"):function(b){var w,x,_,C,O=b.length,A=new Array(2*O);for(w=x=0;w<O;)if((_=b[w++])<128)A[x++]=_;else if(4<(C=c[_]))A[x++]=65533,w+=C-1;else{for(_&=C===2?31:C===3?15:7;1<C&&w<O;)_=_<<6|63&b[w++],C--;1<C?A[x++]=65533:_<65536?A[x++]=_:(_-=65536,A[x++]=55296|_>>10&1023,A[x++]=56320|1023&_)}return A.length!==x&&(A.subarray?A=A.subarray(0,x):A.length=x),o.applyFromCharCode(A)}(m=o.transformTo(a.uint8array?"uint8array":"array",m))},o.inherits(h,u),h.prototype.processChunk=function(m){var b=o.transformTo(a.uint8array?"uint8array":"array",m.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var w=b;(b=new Uint8Array(w.length+this.leftOver.length)).set(this.leftOver,0),b.set(w,this.leftOver.length)}else b=this.leftOver.concat(b);this.leftOver=null}var x=function(C,O){var A;for((O=O||C.length)>C.length&&(O=C.length),A=O-1;0<=A&&(192&C[A])==128;)A--;return A<0||A===0?O:A+c[C[A]]>O?A:O}(b),_=b;x!==b.length&&(a.uint8array?(_=b.subarray(0,x),this.leftOver=b.subarray(x,b.length)):(_=b.slice(0,x),this.leftOver=b.slice(x,b.length))),this.push({data:i.utf8decode(_),meta:m.meta})},h.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=h,o.inherits(g,u),g.prototype.processChunk=function(m){this.push({data:i.utf8encode(m.data),meta:m.meta})},i.Utf8EncodeWorker=g},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,n,i){var o=t("./support"),a=t("./base64"),l=t("./nodejsUtils"),u=t("./external");function c(w){return w}function d(w,x){for(var _=0;_<w.length;++_)x[_]=255&w.charCodeAt(_);return x}t("setimmediate"),i.newBlob=function(w,x){i.checkSupport("blob");try{return new Blob([w],{type:x})}catch{try{var _=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return _.append(w),_.getBlob(x)}catch{throw new Error("Bug : can't construct the Blob.")}}};var h={stringifyByChunk:function(w,x,_){var C=[],O=0,A=w.length;if(A<=_)return String.fromCharCode.apply(null,w);for(;O<A;)x==="array"||x==="nodebuffer"?C.push(String.fromCharCode.apply(null,w.slice(O,Math.min(O+_,A)))):C.push(String.fromCharCode.apply(null,w.subarray(O,Math.min(O+_,A)))),O+=_;return C.join("")},stringifyByChar:function(w){for(var x="",_=0;_<w.length;_++)x+=String.fromCharCode(w[_]);return x},applyCanBeUsed:{uint8array:function(){try{return o.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return o.nodebuffer&&String.fromCharCode.apply(null,l.allocBuffer(1)).length===1}catch{return!1}}()}};function g(w){var x=65536,_=i.getTypeOf(w),C=!0;if(_==="uint8array"?C=h.applyCanBeUsed.uint8array:_==="nodebuffer"&&(C=h.applyCanBeUsed.nodebuffer),C)for(;1<x;)try{return h.stringifyByChunk(w,_,x)}catch{x=Math.floor(x/2)}return h.stringifyByChar(w)}function m(w,x){for(var _=0;_<w.length;_++)x[_]=w[_];return x}i.applyFromCharCode=g;var b={};b.string={string:c,array:function(w){return d(w,new Array(w.length))},arraybuffer:function(w){return b.string.uint8array(w).buffer},uint8array:function(w){return d(w,new Uint8Array(w.length))},nodebuffer:function(w){return d(w,l.allocBuffer(w.length))}},b.array={string:g,array:c,arraybuffer:function(w){return new Uint8Array(w).buffer},uint8array:function(w){return new Uint8Array(w)},nodebuffer:function(w){return l.newBufferFrom(w)}},b.arraybuffer={string:function(w){return g(new Uint8Array(w))},array:function(w){return m(new Uint8Array(w),new Array(w.byteLength))},arraybuffer:c,uint8array:function(w){return new Uint8Array(w)},nodebuffer:function(w){return l.newBufferFrom(new Uint8Array(w))}},b.uint8array={string:g,array:function(w){return m(w,new Array(w.length))},arraybuffer:function(w){return w.buffer},uint8array:c,nodebuffer:function(w){return l.newBufferFrom(w)}},b.nodebuffer={string:g,array:function(w){return m(w,new Array(w.length))},arraybuffer:function(w){return b.nodebuffer.uint8array(w).buffer},uint8array:function(w){return m(w,new Uint8Array(w.length))},nodebuffer:c},i.transformTo=function(w,x){if(x=x||"",!w)return x;i.checkSupport(w);var _=i.getTypeOf(x);return b[_][w](x)},i.resolve=function(w){for(var x=w.split("/"),_=[],C=0;C<x.length;C++){var O=x[C];O==="."||O===""&&C!==0&&C!==x.length-1||(O===".."?_.pop():_.push(O))}return _.join("/")},i.getTypeOf=function(w){return typeof w=="string"?"string":Object.prototype.toString.call(w)==="[object Array]"?"array":o.nodebuffer&&l.isBuffer(w)?"nodebuffer":o.uint8array&&w instanceof Uint8Array?"uint8array":o.arraybuffer&&w instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(w){if(!o[w.toLowerCase()])throw new Error(w+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(w){var x,_,C="";for(_=0;_<(w||"").length;_++)C+="\\x"+((x=w.charCodeAt(_))<16?"0":"")+x.toString(16).toUpperCase();return C},i.delay=function(w,x,_){setImmediate(function(){w.apply(_||null,x||[])})},i.inherits=function(w,x){function _(){}_.prototype=x.prototype,w.prototype=new _},i.extend=function(){var w,x,_={};for(w=0;w<arguments.length;w++)for(x in arguments[w])Object.prototype.hasOwnProperty.call(arguments[w],x)&&_[x]===void 0&&(_[x]=arguments[w][x]);return _},i.prepareContent=function(w,x,_,C,O){return u.Promise.resolve(x).then(function(A){return o.blob&&(A instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(A))!==-1)&&typeof FileReader<"u"?new u.Promise(function(I,Q){var $=new FileReader;$.onload=function(Z){I(Z.target.result)},$.onerror=function(Z){Q(Z.target.error)},$.readAsArrayBuffer(A)}):A}).then(function(A){var I=i.getTypeOf(A);return I?(I==="arraybuffer"?A=i.transformTo("uint8array",A):I==="string"&&(O?A=a.decode(A):_&&C!==!0&&(A=function(Q){return d(Q,o.uint8array?new Uint8Array(Q.length):new Array(Q.length))}(A))),A):u.Promise.reject(new Error("Can't read the data of '"+w+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,n,i){var o=t("./reader/readerFor"),a=t("./utils"),l=t("./signature"),u=t("./zipEntry"),c=t("./support");function d(h){this.files=[],this.loadOptions=h}d.prototype={checkSignature:function(h){if(!this.reader.readAndCheckSignature(h)){this.reader.index-=4;var g=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(g)+", expected "+a.pretty(h)+")")}},isSignature:function(h,g){var m=this.reader.index;this.reader.setIndex(h);var b=this.reader.readString(4)===g;return this.reader.setIndex(m),b},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var h=this.reader.readData(this.zipCommentLength),g=c.uint8array?"uint8array":"array",m=a.transformTo(g,h);this.zipComment=this.loadOptions.decodeFileName(m)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var h,g,m,b=this.zip64EndOfCentralSize-44;0<b;)h=this.reader.readInt(2),g=this.reader.readInt(4),m=this.reader.readData(g),this.zip64ExtensibleData[h]={id:h,length:g,value:m}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var h,g;for(h=0;h<this.files.length;h++)g=this.files[h],this.reader.setIndex(g.localHeaderOffset),this.checkSignature(l.LOCAL_FILE_HEADER),g.readLocalPart(this.reader),g.handleUTF8(),g.processAttributes()},readCentralDir:function(){var h;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(l.CENTRAL_FILE_HEADER);)(h=new u({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(h);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var h=this.reader.lastIndexOfSignature(l.CENTRAL_DIRECTORY_END);if(h<0)throw this.isSignature(0,l.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(h);var g=h;if(this.checkSignature(l.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,(h=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(h),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,l.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var m=this.centralDirOffset+this.centralDirSize;this.zip64&&(m+=20,m+=12+this.zip64EndOfCentralSize);var b=g-m;if(0<b)this.isSignature(g,l.CENTRAL_FILE_HEADER)||(this.reader.zero=b);else if(b<0)throw new Error("Corrupted zip: missing "+Math.abs(b)+" bytes.")},prepareReader:function(h){this.reader=o(h)},load:function(h){this.prepareReader(h),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=d},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,n,i){var o=t("./reader/readerFor"),a=t("./utils"),l=t("./compressedObject"),u=t("./crc32"),c=t("./utf8"),d=t("./compressions"),h=t("./support");function g(m,b){this.options=m,this.loadOptions=b}g.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(m){var b,w;if(m.skip(22),this.fileNameLength=m.readInt(2),w=m.readInt(2),this.fileName=m.readData(this.fileNameLength),m.skip(w),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((b=function(x){for(var _ in d)if(Object.prototype.hasOwnProperty.call(d,_)&&d[_].magic===x)return d[_];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new l(this.compressedSize,this.uncompressedSize,this.crc32,b,m.readData(this.compressedSize))},readCentralPart:function(m){this.versionMadeBy=m.readInt(2),m.skip(2),this.bitFlag=m.readInt(2),this.compressionMethod=m.readString(2),this.date=m.readDate(),this.crc32=m.readInt(4),this.compressedSize=m.readInt(4),this.uncompressedSize=m.readInt(4);var b=m.readInt(2);if(this.extraFieldsLength=m.readInt(2),this.fileCommentLength=m.readInt(2),this.diskNumberStart=m.readInt(2),this.internalFileAttributes=m.readInt(2),this.externalFileAttributes=m.readInt(4),this.localHeaderOffset=m.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");m.skip(b),this.readExtraFields(m),this.parseZIP64ExtraField(m),this.fileComment=m.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var m=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),m==0&&(this.dosPermissions=63&this.externalFileAttributes),m==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var m=o(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=m.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=m.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=m.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=m.readInt(4))}},readExtraFields:function(m){var b,w,x,_=m.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});m.index+4<_;)b=m.readInt(2),w=m.readInt(2),x=m.readData(w),this.extraFields[b]={id:b,length:w,value:x};m.setIndex(_)},handleUTF8:function(){var m=h.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=c.utf8decode(this.fileName),this.fileCommentStr=c.utf8decode(this.fileComment);else{var b=this.findExtraFieldUnicodePath();if(b!==null)this.fileNameStr=b;else{var w=a.transformTo(m,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(w)}var x=this.findExtraFieldUnicodeComment();if(x!==null)this.fileCommentStr=x;else{var _=a.transformTo(m,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(_)}}},findExtraFieldUnicodePath:function(){var m=this.extraFields[28789];if(m){var b=o(m.value);return b.readInt(1)!==1||u(this.fileName)!==b.readInt(4)?null:c.utf8decode(b.readData(m.length-5))}return null},findExtraFieldUnicodeComment:function(){var m=this.extraFields[25461];if(m){var b=o(m.value);return b.readInt(1)!==1||u(this.fileComment)!==b.readInt(4)?null:c.utf8decode(b.readData(m.length-5))}return null}},n.exports=g},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,n,i){function o(b,w,x){this.name=b,this.dir=x.dir,this.date=x.date,this.comment=x.comment,this.unixPermissions=x.unixPermissions,this.dosPermissions=x.dosPermissions,this._data=w,this._dataBinary=x.binary,this.options={compression:x.compression,compressionOptions:x.compressionOptions}}var a=t("./stream/StreamHelper"),l=t("./stream/DataWorker"),u=t("./utf8"),c=t("./compressedObject"),d=t("./stream/GenericWorker");o.prototype={internalStream:function(b){var w=null,x="string";try{if(!b)throw new Error("No output type specified.");var _=(x=b.toLowerCase())==="string"||x==="text";x!=="binarystring"&&x!=="text"||(x="string"),w=this._decompressWorker();var C=!this._dataBinary;C&&!_&&(w=w.pipe(new u.Utf8EncodeWorker)),!C&&_&&(w=w.pipe(new u.Utf8DecodeWorker))}catch(O){(w=new d("error")).error(O)}return new a(w,x,"")},async:function(b,w){return this.internalStream(b).accumulate(w)},nodeStream:function(b,w){return this.internalStream(b||"nodebuffer").toNodejsStream(w)},_compressWorker:function(b,w){if(this._data instanceof c&&this._data.compression.magic===b.magic)return this._data.getCompressedWorker();var x=this._decompressWorker();return this._dataBinary||(x=x.pipe(new u.Utf8EncodeWorker)),c.createWorkerFrom(x,b,w)},_decompressWorker:function(){return this._data instanceof c?this._data.getContentWorker():this._data instanceof d?this._data:new l(this._data)}};for(var h=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],g=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},m=0;m<h.length;m++)o.prototype[h[m]]=g;n.exports=o},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,n,i){(function(o){var a,l,u=o.MutationObserver||o.WebKitMutationObserver;if(u){var c=0,d=new u(b),h=o.document.createTextNode("");d.observe(h,{characterData:!0}),a=function(){h.data=c=++c%2}}else if(o.setImmediate||o.MessageChannel===void 0)a="document"in o&&"onreadystatechange"in o.document.createElement("script")?function(){var w=o.document.createElement("script");w.onreadystatechange=function(){b(),w.onreadystatechange=null,w.parentNode.removeChild(w),w=null},o.document.documentElement.appendChild(w)}:function(){setTimeout(b,0)};else{var g=new o.MessageChannel;g.port1.onmessage=b,a=function(){g.port2.postMessage(0)}}var m=[];function b(){var w,x;l=!0;for(var _=m.length;_;){for(x=m,m=[],w=-1;++w<_;)x[w]();_=m.length}l=!1}n.exports=function(w){m.push(w)!==1||l||a()}}).call(this,typeof Io<"u"?Io:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,n,i){var o=t("immediate");function a(){}var l={},u=["REJECTED"],c=["FULFILLED"],d=["PENDING"];function h(_){if(typeof _!="function")throw new TypeError("resolver must be a function");this.state=d,this.queue=[],this.outcome=void 0,_!==a&&w(this,_)}function g(_,C,O){this.promise=_,typeof C=="function"&&(this.onFulfilled=C,this.callFulfilled=this.otherCallFulfilled),typeof O=="function"&&(this.onRejected=O,this.callRejected=this.otherCallRejected)}function m(_,C,O){o(function(){var A;try{A=C(O)}catch(I){return l.reject(_,I)}A===_?l.reject(_,new TypeError("Cannot resolve promise with itself")):l.resolve(_,A)})}function b(_){var C=_&&_.then;if(_&&(typeof _=="object"||typeof _=="function")&&typeof C=="function")return function(){C.apply(_,arguments)}}function w(_,C){var O=!1;function A($){O||(O=!0,l.reject(_,$))}function I($){O||(O=!0,l.resolve(_,$))}var Q=x(function(){C(I,A)});Q.status==="error"&&A(Q.value)}function x(_,C){var O={};try{O.value=_(C),O.status="success"}catch(A){O.status="error",O.value=A}return O}(n.exports=h).prototype.finally=function(_){if(typeof _!="function")return this;var C=this.constructor;return this.then(function(O){return C.resolve(_()).then(function(){return O})},function(O){return C.resolve(_()).then(function(){throw O})})},h.prototype.catch=function(_){return this.then(null,_)},h.prototype.then=function(_,C){if(typeof _!="function"&&this.state===c||typeof C!="function"&&this.state===u)return this;var O=new this.constructor(a);return this.state!==d?m(O,this.state===c?_:C,this.outcome):this.queue.push(new g(O,_,C)),O},g.prototype.callFulfilled=function(_){l.resolve(this.promise,_)},g.prototype.otherCallFulfilled=function(_){m(this.promise,this.onFulfilled,_)},g.prototype.callRejected=function(_){l.reject(this.promise,_)},g.prototype.otherCallRejected=function(_){m(this.promise,this.onRejected,_)},l.resolve=function(_,C){var O=x(b,C);if(O.status==="error")return l.reject(_,O.value);var A=O.value;if(A)w(_,A);else{_.state=c,_.outcome=C;for(var I=-1,Q=_.queue.length;++I<Q;)_.queue[I].callFulfilled(C)}return _},l.reject=function(_,C){_.state=u,_.outcome=C;for(var O=-1,A=_.queue.length;++O<A;)_.queue[O].callRejected(C);return _},h.resolve=function(_){return _ instanceof this?_:l.resolve(new this(a),_)},h.reject=function(_){var C=new this(a);return l.reject(C,_)},h.all=function(_){var C=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var O=_.length,A=!1;if(!O)return this.resolve([]);for(var I=new Array(O),Q=0,$=-1,Z=new this(a);++$<O;)P(_[$],$);return Z;function P(tt,H){C.resolve(tt).then(function(k){I[H]=k,++Q!==O||A||(A=!0,l.resolve(Z,I))},function(k){A||(A=!0,l.reject(Z,k))})}},h.race=function(_){var C=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var O=_.length,A=!1;if(!O)return this.resolve([]);for(var I=-1,Q=new this(a);++I<O;)$=_[I],C.resolve($).then(function(Z){A||(A=!0,l.resolve(Q,Z))},function(Z){A||(A=!0,l.reject(Q,Z))});var $;return Q}},{immediate:36}],38:[function(t,n,i){var o={};(0,t("./lib/utils/common").assign)(o,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),n.exports=o},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,n,i){var o=t("./zlib/deflate"),a=t("./utils/common"),l=t("./utils/strings"),u=t("./zlib/messages"),c=t("./zlib/zstream"),d=Object.prototype.toString,h=0,g=-1,m=0,b=8;function w(_){if(!(this instanceof w))return new w(_);this.options=a.assign({level:g,method:b,chunkSize:16384,windowBits:15,memLevel:8,strategy:m,to:""},_||{});var C=this.options;C.raw&&0<C.windowBits?C.windowBits=-C.windowBits:C.gzip&&0<C.windowBits&&C.windowBits<16&&(C.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var O=o.deflateInit2(this.strm,C.level,C.method,C.windowBits,C.memLevel,C.strategy);if(O!==h)throw new Error(u[O]);if(C.header&&o.deflateSetHeader(this.strm,C.header),C.dictionary){var A;if(A=typeof C.dictionary=="string"?l.string2buf(C.dictionary):d.call(C.dictionary)==="[object ArrayBuffer]"?new Uint8Array(C.dictionary):C.dictionary,(O=o.deflateSetDictionary(this.strm,A))!==h)throw new Error(u[O]);this._dict_set=!0}}function x(_,C){var O=new w(C);if(O.push(_,!0),O.err)throw O.msg||u[O.err];return O.result}w.prototype.push=function(_,C){var O,A,I=this.strm,Q=this.options.chunkSize;if(this.ended)return!1;A=C===~~C?C:C===!0?4:0,typeof _=="string"?I.input=l.string2buf(_):d.call(_)==="[object ArrayBuffer]"?I.input=new Uint8Array(_):I.input=_,I.next_in=0,I.avail_in=I.input.length;do{if(I.avail_out===0&&(I.output=new a.Buf8(Q),I.next_out=0,I.avail_out=Q),(O=o.deflate(I,A))!==1&&O!==h)return this.onEnd(O),!(this.ended=!0);I.avail_out!==0&&(I.avail_in!==0||A!==4&&A!==2)||(this.options.to==="string"?this.onData(l.buf2binstring(a.shrinkBuf(I.output,I.next_out))):this.onData(a.shrinkBuf(I.output,I.next_out)))}while((0<I.avail_in||I.avail_out===0)&&O!==1);return A===4?(O=o.deflateEnd(this.strm),this.onEnd(O),this.ended=!0,O===h):A!==2||(this.onEnd(h),!(I.avail_out=0))},w.prototype.onData=function(_){this.chunks.push(_)},w.prototype.onEnd=function(_){_===h&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=_,this.msg=this.strm.msg},i.Deflate=w,i.deflate=x,i.deflateRaw=function(_,C){return(C=C||{}).raw=!0,x(_,C)},i.gzip=function(_,C){return(C=C||{}).gzip=!0,x(_,C)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,n,i){var o=t("./zlib/inflate"),a=t("./utils/common"),l=t("./utils/strings"),u=t("./zlib/constants"),c=t("./zlib/messages"),d=t("./zlib/zstream"),h=t("./zlib/gzheader"),g=Object.prototype.toString;function m(w){if(!(this instanceof m))return new m(w);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},w||{});var x=this.options;x.raw&&0<=x.windowBits&&x.windowBits<16&&(x.windowBits=-x.windowBits,x.windowBits===0&&(x.windowBits=-15)),!(0<=x.windowBits&&x.windowBits<16)||w&&w.windowBits||(x.windowBits+=32),15<x.windowBits&&x.windowBits<48&&!(15&x.windowBits)&&(x.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var _=o.inflateInit2(this.strm,x.windowBits);if(_!==u.Z_OK)throw new Error(c[_]);this.header=new h,o.inflateGetHeader(this.strm,this.header)}function b(w,x){var _=new m(x);if(_.push(w,!0),_.err)throw _.msg||c[_.err];return _.result}m.prototype.push=function(w,x){var _,C,O,A,I,Q,$=this.strm,Z=this.options.chunkSize,P=this.options.dictionary,tt=!1;if(this.ended)return!1;C=x===~~x?x:x===!0?u.Z_FINISH:u.Z_NO_FLUSH,typeof w=="string"?$.input=l.binstring2buf(w):g.call(w)==="[object ArrayBuffer]"?$.input=new Uint8Array(w):$.input=w,$.next_in=0,$.avail_in=$.input.length;do{if($.avail_out===0&&($.output=new a.Buf8(Z),$.next_out=0,$.avail_out=Z),(_=o.inflate($,u.Z_NO_FLUSH))===u.Z_NEED_DICT&&P&&(Q=typeof P=="string"?l.string2buf(P):g.call(P)==="[object ArrayBuffer]"?new Uint8Array(P):P,_=o.inflateSetDictionary(this.strm,Q)),_===u.Z_BUF_ERROR&&tt===!0&&(_=u.Z_OK,tt=!1),_!==u.Z_STREAM_END&&_!==u.Z_OK)return this.onEnd(_),!(this.ended=!0);$.next_out&&($.avail_out!==0&&_!==u.Z_STREAM_END&&($.avail_in!==0||C!==u.Z_FINISH&&C!==u.Z_SYNC_FLUSH)||(this.options.to==="string"?(O=l.utf8border($.output,$.next_out),A=$.next_out-O,I=l.buf2string($.output,O),$.next_out=A,$.avail_out=Z-A,A&&a.arraySet($.output,$.output,O,A,0),this.onData(I)):this.onData(a.shrinkBuf($.output,$.next_out)))),$.avail_in===0&&$.avail_out===0&&(tt=!0)}while((0<$.avail_in||$.avail_out===0)&&_!==u.Z_STREAM_END);return _===u.Z_STREAM_END&&(C=u.Z_FINISH),C===u.Z_FINISH?(_=o.inflateEnd(this.strm),this.onEnd(_),this.ended=!0,_===u.Z_OK):C!==u.Z_SYNC_FLUSH||(this.onEnd(u.Z_OK),!($.avail_out=0))},m.prototype.onData=function(w){this.chunks.push(w)},m.prototype.onEnd=function(w){w===u.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=w,this.msg=this.strm.msg},i.Inflate=m,i.inflate=b,i.inflateRaw=function(w,x){return(x=x||{}).raw=!0,b(w,x)},i.ungzip=b},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,n,i){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(u){for(var c=Array.prototype.slice.call(arguments,1);c.length;){var d=c.shift();if(d){if(typeof d!="object")throw new TypeError(d+"must be non-object");for(var h in d)d.hasOwnProperty(h)&&(u[h]=d[h])}}return u},i.shrinkBuf=function(u,c){return u.length===c?u:u.subarray?u.subarray(0,c):(u.length=c,u)};var a={arraySet:function(u,c,d,h,g){if(c.subarray&&u.subarray)u.set(c.subarray(d,d+h),g);else for(var m=0;m<h;m++)u[g+m]=c[d+m]},flattenChunks:function(u){var c,d,h,g,m,b;for(c=h=0,d=u.length;c<d;c++)h+=u[c].length;for(b=new Uint8Array(h),c=g=0,d=u.length;c<d;c++)m=u[c],b.set(m,g),g+=m.length;return b}},l={arraySet:function(u,c,d,h,g){for(var m=0;m<h;m++)u[g+m]=c[d+m]},flattenChunks:function(u){return[].concat.apply([],u)}};i.setTyped=function(u){u?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,a)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,l))},i.setTyped(o)},{}],42:[function(t,n,i){var o=t("./common"),a=!0,l=!0;try{String.fromCharCode.apply(null,[0])}catch{a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{l=!1}for(var u=new o.Buf8(256),c=0;c<256;c++)u[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function d(h,g){if(g<65537&&(h.subarray&&l||!h.subarray&&a))return String.fromCharCode.apply(null,o.shrinkBuf(h,g));for(var m="",b=0;b<g;b++)m+=String.fromCharCode(h[b]);return m}u[254]=u[254]=1,i.string2buf=function(h){var g,m,b,w,x,_=h.length,C=0;for(w=0;w<_;w++)(64512&(m=h.charCodeAt(w)))==55296&&w+1<_&&(64512&(b=h.charCodeAt(w+1)))==56320&&(m=65536+(m-55296<<10)+(b-56320),w++),C+=m<128?1:m<2048?2:m<65536?3:4;for(g=new o.Buf8(C),w=x=0;x<C;w++)(64512&(m=h.charCodeAt(w)))==55296&&w+1<_&&(64512&(b=h.charCodeAt(w+1)))==56320&&(m=65536+(m-55296<<10)+(b-56320),w++),m<128?g[x++]=m:(m<2048?g[x++]=192|m>>>6:(m<65536?g[x++]=224|m>>>12:(g[x++]=240|m>>>18,g[x++]=128|m>>>12&63),g[x++]=128|m>>>6&63),g[x++]=128|63&m);return g},i.buf2binstring=function(h){return d(h,h.length)},i.binstring2buf=function(h){for(var g=new o.Buf8(h.length),m=0,b=g.length;m<b;m++)g[m]=h.charCodeAt(m);return g},i.buf2string=function(h,g){var m,b,w,x,_=g||h.length,C=new Array(2*_);for(m=b=0;m<_;)if((w=h[m++])<128)C[b++]=w;else if(4<(x=u[w]))C[b++]=65533,m+=x-1;else{for(w&=x===2?31:x===3?15:7;1<x&&m<_;)w=w<<6|63&h[m++],x--;1<x?C[b++]=65533:w<65536?C[b++]=w:(w-=65536,C[b++]=55296|w>>10&1023,C[b++]=56320|1023&w)}return d(C,b)},i.utf8border=function(h,g){var m;for((g=g||h.length)>h.length&&(g=h.length),m=g-1;0<=m&&(192&h[m])==128;)m--;return m<0||m===0?g:m+u[h[m]]>g?m:g}},{"./common":41}],43:[function(t,n,i){n.exports=function(o,a,l,u){for(var c=65535&o|0,d=o>>>16&65535|0,h=0;l!==0;){for(l-=h=2e3<l?2e3:l;d=d+(c=c+a[u++]|0)|0,--h;);c%=65521,d%=65521}return c|d<<16|0}},{}],44:[function(t,n,i){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,n,i){var o=function(){for(var a,l=[],u=0;u<256;u++){a=u;for(var c=0;c<8;c++)a=1&a?3988292384^a>>>1:a>>>1;l[u]=a}return l}();n.exports=function(a,l,u,c){var d=o,h=c+u;a^=-1;for(var g=c;g<h;g++)a=a>>>8^d[255&(a^l[g])];return-1^a}},{}],46:[function(t,n,i){var o,a=t("../utils/common"),l=t("./trees"),u=t("./adler32"),c=t("./crc32"),d=t("./messages"),h=0,g=4,m=0,b=-2,w=-1,x=4,_=2,C=8,O=9,A=286,I=30,Q=19,$=2*A+1,Z=15,P=3,tt=258,H=tt+P+1,k=42,F=113,T=1,nt=2,L=3,ot=4;function pt(R,Dt){return R.msg=d[Dt],Dt}function mt(R){return(R<<1)-(4<R?9:0)}function Lt(R){for(var Dt=R.length;0<=--Dt;)R[Dt]=0}function St(R){var Dt=R.state,xt=Dt.pending;xt>R.avail_out&&(xt=R.avail_out),xt!==0&&(a.arraySet(R.output,Dt.pending_buf,Dt.pending_out,xt,R.next_out),R.next_out+=xt,Dt.pending_out+=xt,R.total_out+=xt,R.avail_out-=xt,Dt.pending-=xt,Dt.pending===0&&(Dt.pending_out=0))}function at(R,Dt){l._tr_flush_block(R,0<=R.block_start?R.block_start:-1,R.strstart-R.block_start,Dt),R.block_start=R.strstart,St(R.strm)}function Rt(R,Dt){R.pending_buf[R.pending++]=Dt}function wt(R,Dt){R.pending_buf[R.pending++]=Dt>>>8&255,R.pending_buf[R.pending++]=255&Dt}function Mt(R,Dt){var xt,rt,E=R.max_chain_length,N=R.strstart,Y=R.prev_length,st=R.nice_match,it=R.strstart>R.w_size-H?R.strstart-(R.w_size-H):0,X=R.window,dt=R.w_mask,ut=R.prev,zt=R.strstart+tt,fe=X[N+Y-1],se=X[N+Y];R.prev_length>=R.good_match&&(E>>=2),st>R.lookahead&&(st=R.lookahead);do if(X[(xt=Dt)+Y]===se&&X[xt+Y-1]===fe&&X[xt]===X[N]&&X[++xt]===X[N+1]){N+=2,xt++;do;while(X[++N]===X[++xt]&&X[++N]===X[++xt]&&X[++N]===X[++xt]&&X[++N]===X[++xt]&&X[++N]===X[++xt]&&X[++N]===X[++xt]&&X[++N]===X[++xt]&&X[++N]===X[++xt]&&N<zt);if(rt=tt-(zt-N),N=zt-tt,Y<rt){if(R.match_start=Dt,st<=(Y=rt))break;fe=X[N+Y-1],se=X[N+Y]}}while((Dt=ut[Dt&dt])>it&&--E!=0);return Y<=R.lookahead?Y:R.lookahead}function Qt(R){var Dt,xt,rt,E,N,Y,st,it,X,dt,ut=R.w_size;do{if(E=R.window_size-R.lookahead-R.strstart,R.strstart>=ut+(ut-H)){for(a.arraySet(R.window,R.window,ut,ut,0),R.match_start-=ut,R.strstart-=ut,R.block_start-=ut,Dt=xt=R.hash_size;rt=R.head[--Dt],R.head[Dt]=ut<=rt?rt-ut:0,--xt;);for(Dt=xt=ut;rt=R.prev[--Dt],R.prev[Dt]=ut<=rt?rt-ut:0,--xt;);E+=ut}if(R.strm.avail_in===0)break;if(Y=R.strm,st=R.window,it=R.strstart+R.lookahead,X=E,dt=void 0,dt=Y.avail_in,X<dt&&(dt=X),xt=dt===0?0:(Y.avail_in-=dt,a.arraySet(st,Y.input,Y.next_in,dt,it),Y.state.wrap===1?Y.adler=u(Y.adler,st,dt,it):Y.state.wrap===2&&(Y.adler=c(Y.adler,st,dt,it)),Y.next_in+=dt,Y.total_in+=dt,dt),R.lookahead+=xt,R.lookahead+R.insert>=P)for(N=R.strstart-R.insert,R.ins_h=R.window[N],R.ins_h=(R.ins_h<<R.hash_shift^R.window[N+1])&R.hash_mask;R.insert&&(R.ins_h=(R.ins_h<<R.hash_shift^R.window[N+P-1])&R.hash_mask,R.prev[N&R.w_mask]=R.head[R.ins_h],R.head[R.ins_h]=N,N++,R.insert--,!(R.lookahead+R.insert<P)););}while(R.lookahead<H&&R.strm.avail_in!==0)}function W(R,Dt){for(var xt,rt;;){if(R.lookahead<H){if(Qt(R),R.lookahead<H&&Dt===h)return T;if(R.lookahead===0)break}if(xt=0,R.lookahead>=P&&(R.ins_h=(R.ins_h<<R.hash_shift^R.window[R.strstart+P-1])&R.hash_mask,xt=R.prev[R.strstart&R.w_mask]=R.head[R.ins_h],R.head[R.ins_h]=R.strstart),xt!==0&&R.strstart-xt<=R.w_size-H&&(R.match_length=Mt(R,xt)),R.match_length>=P)if(rt=l._tr_tally(R,R.strstart-R.match_start,R.match_length-P),R.lookahead-=R.match_length,R.match_length<=R.max_lazy_match&&R.lookahead>=P){for(R.match_length--;R.strstart++,R.ins_h=(R.ins_h<<R.hash_shift^R.window[R.strstart+P-1])&R.hash_mask,xt=R.prev[R.strstart&R.w_mask]=R.head[R.ins_h],R.head[R.ins_h]=R.strstart,--R.match_length!=0;);R.strstart++}else R.strstart+=R.match_length,R.match_length=0,R.ins_h=R.window[R.strstart],R.ins_h=(R.ins_h<<R.hash_shift^R.window[R.strstart+1])&R.hash_mask;else rt=l._tr_tally(R,0,R.window[R.strstart]),R.lookahead--,R.strstart++;if(rt&&(at(R,!1),R.strm.avail_out===0))return T}return R.insert=R.strstart<P-1?R.strstart:P-1,Dt===g?(at(R,!0),R.strm.avail_out===0?L:ot):R.last_lit&&(at(R,!1),R.strm.avail_out===0)?T:nt}function U(R,Dt){for(var xt,rt,E;;){if(R.lookahead<H){if(Qt(R),R.lookahead<H&&Dt===h)return T;if(R.lookahead===0)break}if(xt=0,R.lookahead>=P&&(R.ins_h=(R.ins_h<<R.hash_shift^R.window[R.strstart+P-1])&R.hash_mask,xt=R.prev[R.strstart&R.w_mask]=R.head[R.ins_h],R.head[R.ins_h]=R.strstart),R.prev_length=R.match_length,R.prev_match=R.match_start,R.match_length=P-1,xt!==0&&R.prev_length<R.max_lazy_match&&R.strstart-xt<=R.w_size-H&&(R.match_length=Mt(R,xt),R.match_length<=5&&(R.strategy===1||R.match_length===P&&4096<R.strstart-R.match_start)&&(R.match_length=P-1)),R.prev_length>=P&&R.match_length<=R.prev_length){for(E=R.strstart+R.lookahead-P,rt=l._tr_tally(R,R.strstart-1-R.prev_match,R.prev_length-P),R.lookahead-=R.prev_length-1,R.prev_length-=2;++R.strstart<=E&&(R.ins_h=(R.ins_h<<R.hash_shift^R.window[R.strstart+P-1])&R.hash_mask,xt=R.prev[R.strstart&R.w_mask]=R.head[R.ins_h],R.head[R.ins_h]=R.strstart),--R.prev_length!=0;);if(R.match_available=0,R.match_length=P-1,R.strstart++,rt&&(at(R,!1),R.strm.avail_out===0))return T}else if(R.match_available){if((rt=l._tr_tally(R,0,R.window[R.strstart-1]))&&at(R,!1),R.strstart++,R.lookahead--,R.strm.avail_out===0)return T}else R.match_available=1,R.strstart++,R.lookahead--}return R.match_available&&(rt=l._tr_tally(R,0,R.window[R.strstart-1]),R.match_available=0),R.insert=R.strstart<P-1?R.strstart:P-1,Dt===g?(at(R,!0),R.strm.avail_out===0?L:ot):R.last_lit&&(at(R,!1),R.strm.avail_out===0)?T:nt}function Ct(R,Dt,xt,rt,E){this.good_length=R,this.max_lazy=Dt,this.nice_length=xt,this.max_chain=rt,this.func=E}function vt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=C,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*$),this.dyn_dtree=new a.Buf16(2*(2*I+1)),this.bl_tree=new a.Buf16(2*(2*Q+1)),Lt(this.dyn_ltree),Lt(this.dyn_dtree),Lt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(Z+1),this.heap=new a.Buf16(2*A+1),Lt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*A+1),Lt(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Wt(R){var Dt;return R&&R.state?(R.total_in=R.total_out=0,R.data_type=_,(Dt=R.state).pending=0,Dt.pending_out=0,Dt.wrap<0&&(Dt.wrap=-Dt.wrap),Dt.status=Dt.wrap?k:F,R.adler=Dt.wrap===2?0:1,Dt.last_flush=h,l._tr_init(Dt),m):pt(R,b)}function yt(R){var Dt=Wt(R);return Dt===m&&function(xt){xt.window_size=2*xt.w_size,Lt(xt.head),xt.max_lazy_match=o[xt.level].max_lazy,xt.good_match=o[xt.level].good_length,xt.nice_match=o[xt.level].nice_length,xt.max_chain_length=o[xt.level].max_chain,xt.strstart=0,xt.block_start=0,xt.lookahead=0,xt.insert=0,xt.match_length=xt.prev_length=P-1,xt.match_available=0,xt.ins_h=0}(R.state),Dt}function It(R,Dt,xt,rt,E,N){if(!R)return b;var Y=1;if(Dt===w&&(Dt=6),rt<0?(Y=0,rt=-rt):15<rt&&(Y=2,rt-=16),E<1||O<E||xt!==C||rt<8||15<rt||Dt<0||9<Dt||N<0||x<N)return pt(R,b);rt===8&&(rt=9);var st=new vt;return(R.state=st).strm=R,st.wrap=Y,st.gzhead=null,st.w_bits=rt,st.w_size=1<<st.w_bits,st.w_mask=st.w_size-1,st.hash_bits=E+7,st.hash_size=1<<st.hash_bits,st.hash_mask=st.hash_size-1,st.hash_shift=~~((st.hash_bits+P-1)/P),st.window=new a.Buf8(2*st.w_size),st.head=new a.Buf16(st.hash_size),st.prev=new a.Buf16(st.w_size),st.lit_bufsize=1<<E+6,st.pending_buf_size=4*st.lit_bufsize,st.pending_buf=new a.Buf8(st.pending_buf_size),st.d_buf=1*st.lit_bufsize,st.l_buf=3*st.lit_bufsize,st.level=Dt,st.strategy=N,st.method=xt,yt(R)}o=[new Ct(0,0,0,0,function(R,Dt){var xt=65535;for(xt>R.pending_buf_size-5&&(xt=R.pending_buf_size-5);;){if(R.lookahead<=1){if(Qt(R),R.lookahead===0&&Dt===h)return T;if(R.lookahead===0)break}R.strstart+=R.lookahead,R.lookahead=0;var rt=R.block_start+xt;if((R.strstart===0||R.strstart>=rt)&&(R.lookahead=R.strstart-rt,R.strstart=rt,at(R,!1),R.strm.avail_out===0)||R.strstart-R.block_start>=R.w_size-H&&(at(R,!1),R.strm.avail_out===0))return T}return R.insert=0,Dt===g?(at(R,!0),R.strm.avail_out===0?L:ot):(R.strstart>R.block_start&&(at(R,!1),R.strm.avail_out),T)}),new Ct(4,4,8,4,W),new Ct(4,5,16,8,W),new Ct(4,6,32,32,W),new Ct(4,4,16,16,U),new Ct(8,16,32,32,U),new Ct(8,16,128,128,U),new Ct(8,32,128,256,U),new Ct(32,128,258,1024,U),new Ct(32,258,258,4096,U)],i.deflateInit=function(R,Dt){return It(R,Dt,C,15,8,0)},i.deflateInit2=It,i.deflateReset=yt,i.deflateResetKeep=Wt,i.deflateSetHeader=function(R,Dt){return R&&R.state?R.state.wrap!==2?b:(R.state.gzhead=Dt,m):b},i.deflate=function(R,Dt){var xt,rt,E,N;if(!R||!R.state||5<Dt||Dt<0)return R?pt(R,b):b;if(rt=R.state,!R.output||!R.input&&R.avail_in!==0||rt.status===666&&Dt!==g)return pt(R,R.avail_out===0?-5:b);if(rt.strm=R,xt=rt.last_flush,rt.last_flush=Dt,rt.status===k)if(rt.wrap===2)R.adler=0,Rt(rt,31),Rt(rt,139),Rt(rt,8),rt.gzhead?(Rt(rt,(rt.gzhead.text?1:0)+(rt.gzhead.hcrc?2:0)+(rt.gzhead.extra?4:0)+(rt.gzhead.name?8:0)+(rt.gzhead.comment?16:0)),Rt(rt,255&rt.gzhead.time),Rt(rt,rt.gzhead.time>>8&255),Rt(rt,rt.gzhead.time>>16&255),Rt(rt,rt.gzhead.time>>24&255),Rt(rt,rt.level===9?2:2<=rt.strategy||rt.level<2?4:0),Rt(rt,255&rt.gzhead.os),rt.gzhead.extra&&rt.gzhead.extra.length&&(Rt(rt,255&rt.gzhead.extra.length),Rt(rt,rt.gzhead.extra.length>>8&255)),rt.gzhead.hcrc&&(R.adler=c(R.adler,rt.pending_buf,rt.pending,0)),rt.gzindex=0,rt.status=69):(Rt(rt,0),Rt(rt,0),Rt(rt,0),Rt(rt,0),Rt(rt,0),Rt(rt,rt.level===9?2:2<=rt.strategy||rt.level<2?4:0),Rt(rt,3),rt.status=F);else{var Y=C+(rt.w_bits-8<<4)<<8;Y|=(2<=rt.strategy||rt.level<2?0:rt.level<6?1:rt.level===6?2:3)<<6,rt.strstart!==0&&(Y|=32),Y+=31-Y%31,rt.status=F,wt(rt,Y),rt.strstart!==0&&(wt(rt,R.adler>>>16),wt(rt,65535&R.adler)),R.adler=1}if(rt.status===69)if(rt.gzhead.extra){for(E=rt.pending;rt.gzindex<(65535&rt.gzhead.extra.length)&&(rt.pending!==rt.pending_buf_size||(rt.gzhead.hcrc&&rt.pending>E&&(R.adler=c(R.adler,rt.pending_buf,rt.pending-E,E)),St(R),E=rt.pending,rt.pending!==rt.pending_buf_size));)Rt(rt,255&rt.gzhead.extra[rt.gzindex]),rt.gzindex++;rt.gzhead.hcrc&&rt.pending>E&&(R.adler=c(R.adler,rt.pending_buf,rt.pending-E,E)),rt.gzindex===rt.gzhead.extra.length&&(rt.gzindex=0,rt.status=73)}else rt.status=73;if(rt.status===73)if(rt.gzhead.name){E=rt.pending;do{if(rt.pending===rt.pending_buf_size&&(rt.gzhead.hcrc&&rt.pending>E&&(R.adler=c(R.adler,rt.pending_buf,rt.pending-E,E)),St(R),E=rt.pending,rt.pending===rt.pending_buf_size)){N=1;break}N=rt.gzindex<rt.gzhead.name.length?255&rt.gzhead.name.charCodeAt(rt.gzindex++):0,Rt(rt,N)}while(N!==0);rt.gzhead.hcrc&&rt.pending>E&&(R.adler=c(R.adler,rt.pending_buf,rt.pending-E,E)),N===0&&(rt.gzindex=0,rt.status=91)}else rt.status=91;if(rt.status===91)if(rt.gzhead.comment){E=rt.pending;do{if(rt.pending===rt.pending_buf_size&&(rt.gzhead.hcrc&&rt.pending>E&&(R.adler=c(R.adler,rt.pending_buf,rt.pending-E,E)),St(R),E=rt.pending,rt.pending===rt.pending_buf_size)){N=1;break}N=rt.gzindex<rt.gzhead.comment.length?255&rt.gzhead.comment.charCodeAt(rt.gzindex++):0,Rt(rt,N)}while(N!==0);rt.gzhead.hcrc&&rt.pending>E&&(R.adler=c(R.adler,rt.pending_buf,rt.pending-E,E)),N===0&&(rt.status=103)}else rt.status=103;if(rt.status===103&&(rt.gzhead.hcrc?(rt.pending+2>rt.pending_buf_size&&St(R),rt.pending+2<=rt.pending_buf_size&&(Rt(rt,255&R.adler),Rt(rt,R.adler>>8&255),R.adler=0,rt.status=F)):rt.status=F),rt.pending!==0){if(St(R),R.avail_out===0)return rt.last_flush=-1,m}else if(R.avail_in===0&&mt(Dt)<=mt(xt)&&Dt!==g)return pt(R,-5);if(rt.status===666&&R.avail_in!==0)return pt(R,-5);if(R.avail_in!==0||rt.lookahead!==0||Dt!==h&&rt.status!==666){var st=rt.strategy===2?function(it,X){for(var dt;;){if(it.lookahead===0&&(Qt(it),it.lookahead===0)){if(X===h)return T;break}if(it.match_length=0,dt=l._tr_tally(it,0,it.window[it.strstart]),it.lookahead--,it.strstart++,dt&&(at(it,!1),it.strm.avail_out===0))return T}return it.insert=0,X===g?(at(it,!0),it.strm.avail_out===0?L:ot):it.last_lit&&(at(it,!1),it.strm.avail_out===0)?T:nt}(rt,Dt):rt.strategy===3?function(it,X){for(var dt,ut,zt,fe,se=it.window;;){if(it.lookahead<=tt){if(Qt(it),it.lookahead<=tt&&X===h)return T;if(it.lookahead===0)break}if(it.match_length=0,it.lookahead>=P&&0<it.strstart&&(ut=se[zt=it.strstart-1])===se[++zt]&&ut===se[++zt]&&ut===se[++zt]){fe=it.strstart+tt;do;while(ut===se[++zt]&&ut===se[++zt]&&ut===se[++zt]&&ut===se[++zt]&&ut===se[++zt]&&ut===se[++zt]&&ut===se[++zt]&&ut===se[++zt]&&zt<fe);it.match_length=tt-(fe-zt),it.match_length>it.lookahead&&(it.match_length=it.lookahead)}if(it.match_length>=P?(dt=l._tr_tally(it,1,it.match_length-P),it.lookahead-=it.match_length,it.strstart+=it.match_length,it.match_length=0):(dt=l._tr_tally(it,0,it.window[it.strstart]),it.lookahead--,it.strstart++),dt&&(at(it,!1),it.strm.avail_out===0))return T}return it.insert=0,X===g?(at(it,!0),it.strm.avail_out===0?L:ot):it.last_lit&&(at(it,!1),it.strm.avail_out===0)?T:nt}(rt,Dt):o[rt.level].func(rt,Dt);if(st!==L&&st!==ot||(rt.status=666),st===T||st===L)return R.avail_out===0&&(rt.last_flush=-1),m;if(st===nt&&(Dt===1?l._tr_align(rt):Dt!==5&&(l._tr_stored_block(rt,0,0,!1),Dt===3&&(Lt(rt.head),rt.lookahead===0&&(rt.strstart=0,rt.block_start=0,rt.insert=0))),St(R),R.avail_out===0))return rt.last_flush=-1,m}return Dt!==g?m:rt.wrap<=0?1:(rt.wrap===2?(Rt(rt,255&R.adler),Rt(rt,R.adler>>8&255),Rt(rt,R.adler>>16&255),Rt(rt,R.adler>>24&255),Rt(rt,255&R.total_in),Rt(rt,R.total_in>>8&255),Rt(rt,R.total_in>>16&255),Rt(rt,R.total_in>>24&255)):(wt(rt,R.adler>>>16),wt(rt,65535&R.adler)),St(R),0<rt.wrap&&(rt.wrap=-rt.wrap),rt.pending!==0?m:1)},i.deflateEnd=function(R){var Dt;return R&&R.state?(Dt=R.state.status)!==k&&Dt!==69&&Dt!==73&&Dt!==91&&Dt!==103&&Dt!==F&&Dt!==666?pt(R,b):(R.state=null,Dt===F?pt(R,-3):m):b},i.deflateSetDictionary=function(R,Dt){var xt,rt,E,N,Y,st,it,X,dt=Dt.length;if(!R||!R.state||(N=(xt=R.state).wrap)===2||N===1&&xt.status!==k||xt.lookahead)return b;for(N===1&&(R.adler=u(R.adler,Dt,dt,0)),xt.wrap=0,dt>=xt.w_size&&(N===0&&(Lt(xt.head),xt.strstart=0,xt.block_start=0,xt.insert=0),X=new a.Buf8(xt.w_size),a.arraySet(X,Dt,dt-xt.w_size,xt.w_size,0),Dt=X,dt=xt.w_size),Y=R.avail_in,st=R.next_in,it=R.input,R.avail_in=dt,R.next_in=0,R.input=Dt,Qt(xt);xt.lookahead>=P;){for(rt=xt.strstart,E=xt.lookahead-(P-1);xt.ins_h=(xt.ins_h<<xt.hash_shift^xt.window[rt+P-1])&xt.hash_mask,xt.prev[rt&xt.w_mask]=xt.head[xt.ins_h],xt.head[xt.ins_h]=rt,rt++,--E;);xt.strstart=rt,xt.lookahead=P-1,Qt(xt)}return xt.strstart+=xt.lookahead,xt.block_start=xt.strstart,xt.insert=xt.lookahead,xt.lookahead=0,xt.match_length=xt.prev_length=P-1,xt.match_available=0,R.next_in=st,R.input=it,R.avail_in=Y,xt.wrap=N,m},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,n,i){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,n,i){n.exports=function(o,a){var l,u,c,d,h,g,m,b,w,x,_,C,O,A,I,Q,$,Z,P,tt,H,k,F,T,nt;l=o.state,u=o.next_in,T=o.input,c=u+(o.avail_in-5),d=o.next_out,nt=o.output,h=d-(a-o.avail_out),g=d+(o.avail_out-257),m=l.dmax,b=l.wsize,w=l.whave,x=l.wnext,_=l.window,C=l.hold,O=l.bits,A=l.lencode,I=l.distcode,Q=(1<<l.lenbits)-1,$=(1<<l.distbits)-1;t:do{O<15&&(C+=T[u++]<<O,O+=8,C+=T[u++]<<O,O+=8),Z=A[C&Q];e:for(;;){if(C>>>=P=Z>>>24,O-=P,(P=Z>>>16&255)===0)nt[d++]=65535&Z;else{if(!(16&P)){if(!(64&P)){Z=A[(65535&Z)+(C&(1<<P)-1)];continue e}if(32&P){l.mode=12;break t}o.msg="invalid literal/length code",l.mode=30;break t}tt=65535&Z,(P&=15)&&(O<P&&(C+=T[u++]<<O,O+=8),tt+=C&(1<<P)-1,C>>>=P,O-=P),O<15&&(C+=T[u++]<<O,O+=8,C+=T[u++]<<O,O+=8),Z=I[C&$];n:for(;;){if(C>>>=P=Z>>>24,O-=P,!(16&(P=Z>>>16&255))){if(!(64&P)){Z=I[(65535&Z)+(C&(1<<P)-1)];continue n}o.msg="invalid distance code",l.mode=30;break t}if(H=65535&Z,O<(P&=15)&&(C+=T[u++]<<O,(O+=8)<P&&(C+=T[u++]<<O,O+=8)),m<(H+=C&(1<<P)-1)){o.msg="invalid distance too far back",l.mode=30;break t}if(C>>>=P,O-=P,(P=d-h)<H){if(w<(P=H-P)&&l.sane){o.msg="invalid distance too far back",l.mode=30;break t}if(F=_,(k=0)===x){if(k+=b-P,P<tt){for(tt-=P;nt[d++]=_[k++],--P;);k=d-H,F=nt}}else if(x<P){if(k+=b+x-P,(P-=x)<tt){for(tt-=P;nt[d++]=_[k++],--P;);if(k=0,x<tt){for(tt-=P=x;nt[d++]=_[k++],--P;);k=d-H,F=nt}}}else if(k+=x-P,P<tt){for(tt-=P;nt[d++]=_[k++],--P;);k=d-H,F=nt}for(;2<tt;)nt[d++]=F[k++],nt[d++]=F[k++],nt[d++]=F[k++],tt-=3;tt&&(nt[d++]=F[k++],1<tt&&(nt[d++]=F[k++]))}else{for(k=d-H;nt[d++]=nt[k++],nt[d++]=nt[k++],nt[d++]=nt[k++],2<(tt-=3););tt&&(nt[d++]=nt[k++],1<tt&&(nt[d++]=nt[k++]))}break}}break}}while(u<c&&d<g);u-=tt=O>>3,C&=(1<<(O-=tt<<3))-1,o.next_in=u,o.next_out=d,o.avail_in=u<c?c-u+5:5-(u-c),o.avail_out=d<g?g-d+257:257-(d-g),l.hold=C,l.bits=O}},{}],49:[function(t,n,i){var o=t("../utils/common"),a=t("./adler32"),l=t("./crc32"),u=t("./inffast"),c=t("./inftrees"),d=1,h=2,g=0,m=-2,b=1,w=852,x=592;function _(k){return(k>>>24&255)+(k>>>8&65280)+((65280&k)<<8)+((255&k)<<24)}function C(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new o.Buf16(320),this.work=new o.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function O(k){var F;return k&&k.state?(F=k.state,k.total_in=k.total_out=F.total=0,k.msg="",F.wrap&&(k.adler=1&F.wrap),F.mode=b,F.last=0,F.havedict=0,F.dmax=32768,F.head=null,F.hold=0,F.bits=0,F.lencode=F.lendyn=new o.Buf32(w),F.distcode=F.distdyn=new o.Buf32(x),F.sane=1,F.back=-1,g):m}function A(k){var F;return k&&k.state?((F=k.state).wsize=0,F.whave=0,F.wnext=0,O(k)):m}function I(k,F){var T,nt;return k&&k.state?(nt=k.state,F<0?(T=0,F=-F):(T=1+(F>>4),F<48&&(F&=15)),F&&(F<8||15<F)?m:(nt.window!==null&&nt.wbits!==F&&(nt.window=null),nt.wrap=T,nt.wbits=F,A(k))):m}function Q(k,F){var T,nt;return k?(nt=new C,(k.state=nt).window=null,(T=I(k,F))!==g&&(k.state=null),T):m}var $,Z,P=!0;function tt(k){if(P){var F;for($=new o.Buf32(512),Z=new o.Buf32(32),F=0;F<144;)k.lens[F++]=8;for(;F<256;)k.lens[F++]=9;for(;F<280;)k.lens[F++]=7;for(;F<288;)k.lens[F++]=8;for(c(d,k.lens,0,288,$,0,k.work,{bits:9}),F=0;F<32;)k.lens[F++]=5;c(h,k.lens,0,32,Z,0,k.work,{bits:5}),P=!1}k.lencode=$,k.lenbits=9,k.distcode=Z,k.distbits=5}function H(k,F,T,nt){var L,ot=k.state;return ot.window===null&&(ot.wsize=1<<ot.wbits,ot.wnext=0,ot.whave=0,ot.window=new o.Buf8(ot.wsize)),nt>=ot.wsize?(o.arraySet(ot.window,F,T-ot.wsize,ot.wsize,0),ot.wnext=0,ot.whave=ot.wsize):(nt<(L=ot.wsize-ot.wnext)&&(L=nt),o.arraySet(ot.window,F,T-nt,L,ot.wnext),(nt-=L)?(o.arraySet(ot.window,F,T-nt,nt,0),ot.wnext=nt,ot.whave=ot.wsize):(ot.wnext+=L,ot.wnext===ot.wsize&&(ot.wnext=0),ot.whave<ot.wsize&&(ot.whave+=L))),0}i.inflateReset=A,i.inflateReset2=I,i.inflateResetKeep=O,i.inflateInit=function(k){return Q(k,15)},i.inflateInit2=Q,i.inflate=function(k,F){var T,nt,L,ot,pt,mt,Lt,St,at,Rt,wt,Mt,Qt,W,U,Ct,vt,Wt,yt,It,R,Dt,xt,rt,E=0,N=new o.Buf8(4),Y=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!k||!k.state||!k.output||!k.input&&k.avail_in!==0)return m;(T=k.state).mode===12&&(T.mode=13),pt=k.next_out,L=k.output,Lt=k.avail_out,ot=k.next_in,nt=k.input,mt=k.avail_in,St=T.hold,at=T.bits,Rt=mt,wt=Lt,Dt=g;t:for(;;)switch(T.mode){case b:if(T.wrap===0){T.mode=13;break}for(;at<16;){if(mt===0)break t;mt--,St+=nt[ot++]<<at,at+=8}if(2&T.wrap&&St===35615){N[T.check=0]=255&St,N[1]=St>>>8&255,T.check=l(T.check,N,2,0),at=St=0,T.mode=2;break}if(T.flags=0,T.head&&(T.head.done=!1),!(1&T.wrap)||(((255&St)<<8)+(St>>8))%31){k.msg="incorrect header check",T.mode=30;break}if((15&St)!=8){k.msg="unknown compression method",T.mode=30;break}if(at-=4,R=8+(15&(St>>>=4)),T.wbits===0)T.wbits=R;else if(R>T.wbits){k.msg="invalid window size",T.mode=30;break}T.dmax=1<<R,k.adler=T.check=1,T.mode=512&St?10:12,at=St=0;break;case 2:for(;at<16;){if(mt===0)break t;mt--,St+=nt[ot++]<<at,at+=8}if(T.flags=St,(255&T.flags)!=8){k.msg="unknown compression method",T.mode=30;break}if(57344&T.flags){k.msg="unknown header flags set",T.mode=30;break}T.head&&(T.head.text=St>>8&1),512&T.flags&&(N[0]=255&St,N[1]=St>>>8&255,T.check=l(T.check,N,2,0)),at=St=0,T.mode=3;case 3:for(;at<32;){if(mt===0)break t;mt--,St+=nt[ot++]<<at,at+=8}T.head&&(T.head.time=St),512&T.flags&&(N[0]=255&St,N[1]=St>>>8&255,N[2]=St>>>16&255,N[3]=St>>>24&255,T.check=l(T.check,N,4,0)),at=St=0,T.mode=4;case 4:for(;at<16;){if(mt===0)break t;mt--,St+=nt[ot++]<<at,at+=8}T.head&&(T.head.xflags=255&St,T.head.os=St>>8),512&T.flags&&(N[0]=255&St,N[1]=St>>>8&255,T.check=l(T.check,N,2,0)),at=St=0,T.mode=5;case 5:if(1024&T.flags){for(;at<16;){if(mt===0)break t;mt--,St+=nt[ot++]<<at,at+=8}T.length=St,T.head&&(T.head.extra_len=St),512&T.flags&&(N[0]=255&St,N[1]=St>>>8&255,T.check=l(T.check,N,2,0)),at=St=0}else T.head&&(T.head.extra=null);T.mode=6;case 6:if(1024&T.flags&&(mt<(Mt=T.length)&&(Mt=mt),Mt&&(T.head&&(R=T.head.extra_len-T.length,T.head.extra||(T.head.extra=new Array(T.head.extra_len)),o.arraySet(T.head.extra,nt,ot,Mt,R)),512&T.flags&&(T.check=l(T.check,nt,Mt,ot)),mt-=Mt,ot+=Mt,T.length-=Mt),T.length))break t;T.length=0,T.mode=7;case 7:if(2048&T.flags){if(mt===0)break t;for(Mt=0;R=nt[ot+Mt++],T.head&&R&&T.length<65536&&(T.head.name+=String.fromCharCode(R)),R&&Mt<mt;);if(512&T.flags&&(T.check=l(T.check,nt,Mt,ot)),mt-=Mt,ot+=Mt,R)break t}else T.head&&(T.head.name=null);T.length=0,T.mode=8;case 8:if(4096&T.flags){if(mt===0)break t;for(Mt=0;R=nt[ot+Mt++],T.head&&R&&T.length<65536&&(T.head.comment+=String.fromCharCode(R)),R&&Mt<mt;);if(512&T.flags&&(T.check=l(T.check,nt,Mt,ot)),mt-=Mt,ot+=Mt,R)break t}else T.head&&(T.head.comment=null);T.mode=9;case 9:if(512&T.flags){for(;at<16;){if(mt===0)break t;mt--,St+=nt[ot++]<<at,at+=8}if(St!==(65535&T.check)){k.msg="header crc mismatch",T.mode=30;break}at=St=0}T.head&&(T.head.hcrc=T.flags>>9&1,T.head.done=!0),k.adler=T.check=0,T.mode=12;break;case 10:for(;at<32;){if(mt===0)break t;mt--,St+=nt[ot++]<<at,at+=8}k.adler=T.check=_(St),at=St=0,T.mode=11;case 11:if(T.havedict===0)return k.next_out=pt,k.avail_out=Lt,k.next_in=ot,k.avail_in=mt,T.hold=St,T.bits=at,2;k.adler=T.check=1,T.mode=12;case 12:if(F===5||F===6)break t;case 13:if(T.last){St>>>=7&at,at-=7&at,T.mode=27;break}for(;at<3;){if(mt===0)break t;mt--,St+=nt[ot++]<<at,at+=8}switch(T.last=1&St,at-=1,3&(St>>>=1)){case 0:T.mode=14;break;case 1:if(tt(T),T.mode=20,F!==6)break;St>>>=2,at-=2;break t;case 2:T.mode=17;break;case 3:k.msg="invalid block type",T.mode=30}St>>>=2,at-=2;break;case 14:for(St>>>=7&at,at-=7&at;at<32;){if(mt===0)break t;mt--,St+=nt[ot++]<<at,at+=8}if((65535&St)!=(St>>>16^65535)){k.msg="invalid stored block lengths",T.mode=30;break}if(T.length=65535&St,at=St=0,T.mode=15,F===6)break t;case 15:T.mode=16;case 16:if(Mt=T.length){if(mt<Mt&&(Mt=mt),Lt<Mt&&(Mt=Lt),Mt===0)break t;o.arraySet(L,nt,ot,Mt,pt),mt-=Mt,ot+=Mt,Lt-=Mt,pt+=Mt,T.length-=Mt;break}T.mode=12;break;case 17:for(;at<14;){if(mt===0)break t;mt--,St+=nt[ot++]<<at,at+=8}if(T.nlen=257+(31&St),St>>>=5,at-=5,T.ndist=1+(31&St),St>>>=5,at-=5,T.ncode=4+(15&St),St>>>=4,at-=4,286<T.nlen||30<T.ndist){k.msg="too many length or distance symbols",T.mode=30;break}T.have=0,T.mode=18;case 18:for(;T.have<T.ncode;){for(;at<3;){if(mt===0)break t;mt--,St+=nt[ot++]<<at,at+=8}T.lens[Y[T.have++]]=7&St,St>>>=3,at-=3}for(;T.have<19;)T.lens[Y[T.have++]]=0;if(T.lencode=T.lendyn,T.lenbits=7,xt={bits:T.lenbits},Dt=c(0,T.lens,0,19,T.lencode,0,T.work,xt),T.lenbits=xt.bits,Dt){k.msg="invalid code lengths set",T.mode=30;break}T.have=0,T.mode=19;case 19:for(;T.have<T.nlen+T.ndist;){for(;Ct=(E=T.lencode[St&(1<<T.lenbits)-1])>>>16&255,vt=65535&E,!((U=E>>>24)<=at);){if(mt===0)break t;mt--,St+=nt[ot++]<<at,at+=8}if(vt<16)St>>>=U,at-=U,T.lens[T.have++]=vt;else{if(vt===16){for(rt=U+2;at<rt;){if(mt===0)break t;mt--,St+=nt[ot++]<<at,at+=8}if(St>>>=U,at-=U,T.have===0){k.msg="invalid bit length repeat",T.mode=30;break}R=T.lens[T.have-1],Mt=3+(3&St),St>>>=2,at-=2}else if(vt===17){for(rt=U+3;at<rt;){if(mt===0)break t;mt--,St+=nt[ot++]<<at,at+=8}at-=U,R=0,Mt=3+(7&(St>>>=U)),St>>>=3,at-=3}else{for(rt=U+7;at<rt;){if(mt===0)break t;mt--,St+=nt[ot++]<<at,at+=8}at-=U,R=0,Mt=11+(127&(St>>>=U)),St>>>=7,at-=7}if(T.have+Mt>T.nlen+T.ndist){k.msg="invalid bit length repeat",T.mode=30;break}for(;Mt--;)T.lens[T.have++]=R}}if(T.mode===30)break;if(T.lens[256]===0){k.msg="invalid code -- missing end-of-block",T.mode=30;break}if(T.lenbits=9,xt={bits:T.lenbits},Dt=c(d,T.lens,0,T.nlen,T.lencode,0,T.work,xt),T.lenbits=xt.bits,Dt){k.msg="invalid literal/lengths set",T.mode=30;break}if(T.distbits=6,T.distcode=T.distdyn,xt={bits:T.distbits},Dt=c(h,T.lens,T.nlen,T.ndist,T.distcode,0,T.work,xt),T.distbits=xt.bits,Dt){k.msg="invalid distances set",T.mode=30;break}if(T.mode=20,F===6)break t;case 20:T.mode=21;case 21:if(6<=mt&&258<=Lt){k.next_out=pt,k.avail_out=Lt,k.next_in=ot,k.avail_in=mt,T.hold=St,T.bits=at,u(k,wt),pt=k.next_out,L=k.output,Lt=k.avail_out,ot=k.next_in,nt=k.input,mt=k.avail_in,St=T.hold,at=T.bits,T.mode===12&&(T.back=-1);break}for(T.back=0;Ct=(E=T.lencode[St&(1<<T.lenbits)-1])>>>16&255,vt=65535&E,!((U=E>>>24)<=at);){if(mt===0)break t;mt--,St+=nt[ot++]<<at,at+=8}if(Ct&&!(240&Ct)){for(Wt=U,yt=Ct,It=vt;Ct=(E=T.lencode[It+((St&(1<<Wt+yt)-1)>>Wt)])>>>16&255,vt=65535&E,!(Wt+(U=E>>>24)<=at);){if(mt===0)break t;mt--,St+=nt[ot++]<<at,at+=8}St>>>=Wt,at-=Wt,T.back+=Wt}if(St>>>=U,at-=U,T.back+=U,T.length=vt,Ct===0){T.mode=26;break}if(32&Ct){T.back=-1,T.mode=12;break}if(64&Ct){k.msg="invalid literal/length code",T.mode=30;break}T.extra=15&Ct,T.mode=22;case 22:if(T.extra){for(rt=T.extra;at<rt;){if(mt===0)break t;mt--,St+=nt[ot++]<<at,at+=8}T.length+=St&(1<<T.extra)-1,St>>>=T.extra,at-=T.extra,T.back+=T.extra}T.was=T.length,T.mode=23;case 23:for(;Ct=(E=T.distcode[St&(1<<T.distbits)-1])>>>16&255,vt=65535&E,!((U=E>>>24)<=at);){if(mt===0)break t;mt--,St+=nt[ot++]<<at,at+=8}if(!(240&Ct)){for(Wt=U,yt=Ct,It=vt;Ct=(E=T.distcode[It+((St&(1<<Wt+yt)-1)>>Wt)])>>>16&255,vt=65535&E,!(Wt+(U=E>>>24)<=at);){if(mt===0)break t;mt--,St+=nt[ot++]<<at,at+=8}St>>>=Wt,at-=Wt,T.back+=Wt}if(St>>>=U,at-=U,T.back+=U,64&Ct){k.msg="invalid distance code",T.mode=30;break}T.offset=vt,T.extra=15&Ct,T.mode=24;case 24:if(T.extra){for(rt=T.extra;at<rt;){if(mt===0)break t;mt--,St+=nt[ot++]<<at,at+=8}T.offset+=St&(1<<T.extra)-1,St>>>=T.extra,at-=T.extra,T.back+=T.extra}if(T.offset>T.dmax){k.msg="invalid distance too far back",T.mode=30;break}T.mode=25;case 25:if(Lt===0)break t;if(Mt=wt-Lt,T.offset>Mt){if((Mt=T.offset-Mt)>T.whave&&T.sane){k.msg="invalid distance too far back",T.mode=30;break}Qt=Mt>T.wnext?(Mt-=T.wnext,T.wsize-Mt):T.wnext-Mt,Mt>T.length&&(Mt=T.length),W=T.window}else W=L,Qt=pt-T.offset,Mt=T.length;for(Lt<Mt&&(Mt=Lt),Lt-=Mt,T.length-=Mt;L[pt++]=W[Qt++],--Mt;);T.length===0&&(T.mode=21);break;case 26:if(Lt===0)break t;L[pt++]=T.length,Lt--,T.mode=21;break;case 27:if(T.wrap){for(;at<32;){if(mt===0)break t;mt--,St|=nt[ot++]<<at,at+=8}if(wt-=Lt,k.total_out+=wt,T.total+=wt,wt&&(k.adler=T.check=T.flags?l(T.check,L,wt,pt-wt):a(T.check,L,wt,pt-wt)),wt=Lt,(T.flags?St:_(St))!==T.check){k.msg="incorrect data check",T.mode=30;break}at=St=0}T.mode=28;case 28:if(T.wrap&&T.flags){for(;at<32;){if(mt===0)break t;mt--,St+=nt[ot++]<<at,at+=8}if(St!==(4294967295&T.total)){k.msg="incorrect length check",T.mode=30;break}at=St=0}T.mode=29;case 29:Dt=1;break t;case 30:Dt=-3;break t;case 31:return-4;case 32:default:return m}return k.next_out=pt,k.avail_out=Lt,k.next_in=ot,k.avail_in=mt,T.hold=St,T.bits=at,(T.wsize||wt!==k.avail_out&&T.mode<30&&(T.mode<27||F!==4))&&H(k,k.output,k.next_out,wt-k.avail_out)?(T.mode=31,-4):(Rt-=k.avail_in,wt-=k.avail_out,k.total_in+=Rt,k.total_out+=wt,T.total+=wt,T.wrap&&wt&&(k.adler=T.check=T.flags?l(T.check,L,wt,k.next_out-wt):a(T.check,L,wt,k.next_out-wt)),k.data_type=T.bits+(T.last?64:0)+(T.mode===12?128:0)+(T.mode===20||T.mode===15?256:0),(Rt==0&&wt===0||F===4)&&Dt===g&&(Dt=-5),Dt)},i.inflateEnd=function(k){if(!k||!k.state)return m;var F=k.state;return F.window&&(F.window=null),k.state=null,g},i.inflateGetHeader=function(k,F){var T;return k&&k.state&&2&(T=k.state).wrap?((T.head=F).done=!1,g):m},i.inflateSetDictionary=function(k,F){var T,nt=F.length;return k&&k.state?(T=k.state).wrap!==0&&T.mode!==11?m:T.mode===11&&a(1,F,nt,0)!==T.check?-3:H(k,F,nt,nt)?(T.mode=31,-4):(T.havedict=1,g):m},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,n,i){var o=t("../utils/common"),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],l=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],u=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(d,h,g,m,b,w,x,_){var C,O,A,I,Q,$,Z,P,tt,H=_.bits,k=0,F=0,T=0,nt=0,L=0,ot=0,pt=0,mt=0,Lt=0,St=0,at=null,Rt=0,wt=new o.Buf16(16),Mt=new o.Buf16(16),Qt=null,W=0;for(k=0;k<=15;k++)wt[k]=0;for(F=0;F<m;F++)wt[h[g+F]]++;for(L=H,nt=15;1<=nt&&wt[nt]===0;nt--);if(nt<L&&(L=nt),nt===0)return b[w++]=20971520,b[w++]=20971520,_.bits=1,0;for(T=1;T<nt&&wt[T]===0;T++);for(L<T&&(L=T),k=mt=1;k<=15;k++)if(mt<<=1,(mt-=wt[k])<0)return-1;if(0<mt&&(d===0||nt!==1))return-1;for(Mt[1]=0,k=1;k<15;k++)Mt[k+1]=Mt[k]+wt[k];for(F=0;F<m;F++)h[g+F]!==0&&(x[Mt[h[g+F]]++]=F);if($=d===0?(at=Qt=x,19):d===1?(at=a,Rt-=257,Qt=l,W-=257,256):(at=u,Qt=c,-1),k=T,Q=w,pt=F=St=0,A=-1,I=(Lt=1<<(ot=L))-1,d===1&&852<Lt||d===2&&592<Lt)return 1;for(;;){for(Z=k-pt,tt=x[F]<$?(P=0,x[F]):x[F]>$?(P=Qt[W+x[F]],at[Rt+x[F]]):(P=96,0),C=1<<k-pt,T=O=1<<ot;b[Q+(St>>pt)+(O-=C)]=Z<<24|P<<16|tt|0,O!==0;);for(C=1<<k-1;St&C;)C>>=1;if(C!==0?(St&=C-1,St+=C):St=0,F++,--wt[k]==0){if(k===nt)break;k=h[g+x[F]]}if(L<k&&(St&I)!==A){for(pt===0&&(pt=L),Q+=T,mt=1<<(ot=k-pt);ot+pt<nt&&!((mt-=wt[ot+pt])<=0);)ot++,mt<<=1;if(Lt+=1<<ot,d===1&&852<Lt||d===2&&592<Lt)return 1;b[A=St&I]=L<<24|ot<<16|Q-w|0}}return St!==0&&(b[Q+St]=k-pt<<24|64<<16|0),_.bits=L,0}},{"../utils/common":41}],51:[function(t,n,i){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,n,i){var o=t("../utils/common"),a=0,l=1;function u(E){for(var N=E.length;0<=--N;)E[N]=0}var c=0,d=29,h=256,g=h+1+d,m=30,b=19,w=2*g+1,x=15,_=16,C=7,O=256,A=16,I=17,Q=18,$=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Z=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],P=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],tt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],H=new Array(2*(g+2));u(H);var k=new Array(2*m);u(k);var F=new Array(512);u(F);var T=new Array(256);u(T);var nt=new Array(d);u(nt);var L,ot,pt,mt=new Array(m);function Lt(E,N,Y,st,it){this.static_tree=E,this.extra_bits=N,this.extra_base=Y,this.elems=st,this.max_length=it,this.has_stree=E&&E.length}function St(E,N){this.dyn_tree=E,this.max_code=0,this.stat_desc=N}function at(E){return E<256?F[E]:F[256+(E>>>7)]}function Rt(E,N){E.pending_buf[E.pending++]=255&N,E.pending_buf[E.pending++]=N>>>8&255}function wt(E,N,Y){E.bi_valid>_-Y?(E.bi_buf|=N<<E.bi_valid&65535,Rt(E,E.bi_buf),E.bi_buf=N>>_-E.bi_valid,E.bi_valid+=Y-_):(E.bi_buf|=N<<E.bi_valid&65535,E.bi_valid+=Y)}function Mt(E,N,Y){wt(E,Y[2*N],Y[2*N+1])}function Qt(E,N){for(var Y=0;Y|=1&E,E>>>=1,Y<<=1,0<--N;);return Y>>>1}function W(E,N,Y){var st,it,X=new Array(x+1),dt=0;for(st=1;st<=x;st++)X[st]=dt=dt+Y[st-1]<<1;for(it=0;it<=N;it++){var ut=E[2*it+1];ut!==0&&(E[2*it]=Qt(X[ut]++,ut))}}function U(E){var N;for(N=0;N<g;N++)E.dyn_ltree[2*N]=0;for(N=0;N<m;N++)E.dyn_dtree[2*N]=0;for(N=0;N<b;N++)E.bl_tree[2*N]=0;E.dyn_ltree[2*O]=1,E.opt_len=E.static_len=0,E.last_lit=E.matches=0}function Ct(E){8<E.bi_valid?Rt(E,E.bi_buf):0<E.bi_valid&&(E.pending_buf[E.pending++]=E.bi_buf),E.bi_buf=0,E.bi_valid=0}function vt(E,N,Y,st){var it=2*N,X=2*Y;return E[it]<E[X]||E[it]===E[X]&&st[N]<=st[Y]}function Wt(E,N,Y){for(var st=E.heap[Y],it=Y<<1;it<=E.heap_len&&(it<E.heap_len&&vt(N,E.heap[it+1],E.heap[it],E.depth)&&it++,!vt(N,st,E.heap[it],E.depth));)E.heap[Y]=E.heap[it],Y=it,it<<=1;E.heap[Y]=st}function yt(E,N,Y){var st,it,X,dt,ut=0;if(E.last_lit!==0)for(;st=E.pending_buf[E.d_buf+2*ut]<<8|E.pending_buf[E.d_buf+2*ut+1],it=E.pending_buf[E.l_buf+ut],ut++,st===0?Mt(E,it,N):(Mt(E,(X=T[it])+h+1,N),(dt=$[X])!==0&&wt(E,it-=nt[X],dt),Mt(E,X=at(--st),Y),(dt=Z[X])!==0&&wt(E,st-=mt[X],dt)),ut<E.last_lit;);Mt(E,O,N)}function It(E,N){var Y,st,it,X=N.dyn_tree,dt=N.stat_desc.static_tree,ut=N.stat_desc.has_stree,zt=N.stat_desc.elems,fe=-1;for(E.heap_len=0,E.heap_max=w,Y=0;Y<zt;Y++)X[2*Y]!==0?(E.heap[++E.heap_len]=fe=Y,E.depth[Y]=0):X[2*Y+1]=0;for(;E.heap_len<2;)X[2*(it=E.heap[++E.heap_len]=fe<2?++fe:0)]=1,E.depth[it]=0,E.opt_len--,ut&&(E.static_len-=dt[2*it+1]);for(N.max_code=fe,Y=E.heap_len>>1;1<=Y;Y--)Wt(E,X,Y);for(it=zt;Y=E.heap[1],E.heap[1]=E.heap[E.heap_len--],Wt(E,X,1),st=E.heap[1],E.heap[--E.heap_max]=Y,E.heap[--E.heap_max]=st,X[2*it]=X[2*Y]+X[2*st],E.depth[it]=(E.depth[Y]>=E.depth[st]?E.depth[Y]:E.depth[st])+1,X[2*Y+1]=X[2*st+1]=it,E.heap[1]=it++,Wt(E,X,1),2<=E.heap_len;);E.heap[--E.heap_max]=E.heap[1],function(se,et){var bt,K,Bt,Ot,Gt,de,re=et.dyn_tree,ie=et.max_code,ge=et.stat_desc.static_tree,Ee=et.stat_desc.has_stree,Ne=et.stat_desc.extra_bits,Me=et.stat_desc.extra_base,nn=et.stat_desc.max_length,_n=0;for(Ot=0;Ot<=x;Ot++)se.bl_count[Ot]=0;for(re[2*se.heap[se.heap_max]+1]=0,bt=se.heap_max+1;bt<w;bt++)nn<(Ot=re[2*re[2*(K=se.heap[bt])+1]+1]+1)&&(Ot=nn,_n++),re[2*K+1]=Ot,ie<K||(se.bl_count[Ot]++,Gt=0,Me<=K&&(Gt=Ne[K-Me]),de=re[2*K],se.opt_len+=de*(Ot+Gt),Ee&&(se.static_len+=de*(ge[2*K+1]+Gt)));if(_n!==0){do{for(Ot=nn-1;se.bl_count[Ot]===0;)Ot--;se.bl_count[Ot]--,se.bl_count[Ot+1]+=2,se.bl_count[nn]--,_n-=2}while(0<_n);for(Ot=nn;Ot!==0;Ot--)for(K=se.bl_count[Ot];K!==0;)ie<(Bt=se.heap[--bt])||(re[2*Bt+1]!==Ot&&(se.opt_len+=(Ot-re[2*Bt+1])*re[2*Bt],re[2*Bt+1]=Ot),K--)}}(E,N),W(X,fe,E.bl_count)}function R(E,N,Y){var st,it,X=-1,dt=N[1],ut=0,zt=7,fe=4;for(dt===0&&(zt=138,fe=3),N[2*(Y+1)+1]=65535,st=0;st<=Y;st++)it=dt,dt=N[2*(st+1)+1],++ut<zt&&it===dt||(ut<fe?E.bl_tree[2*it]+=ut:it!==0?(it!==X&&E.bl_tree[2*it]++,E.bl_tree[2*A]++):ut<=10?E.bl_tree[2*I]++:E.bl_tree[2*Q]++,X=it,fe=(ut=0)===dt?(zt=138,3):it===dt?(zt=6,3):(zt=7,4))}function Dt(E,N,Y){var st,it,X=-1,dt=N[1],ut=0,zt=7,fe=4;for(dt===0&&(zt=138,fe=3),st=0;st<=Y;st++)if(it=dt,dt=N[2*(st+1)+1],!(++ut<zt&&it===dt)){if(ut<fe)for(;Mt(E,it,E.bl_tree),--ut!=0;);else it!==0?(it!==X&&(Mt(E,it,E.bl_tree),ut--),Mt(E,A,E.bl_tree),wt(E,ut-3,2)):ut<=10?(Mt(E,I,E.bl_tree),wt(E,ut-3,3)):(Mt(E,Q,E.bl_tree),wt(E,ut-11,7));X=it,fe=(ut=0)===dt?(zt=138,3):it===dt?(zt=6,3):(zt=7,4)}}u(mt);var xt=!1;function rt(E,N,Y,st){wt(E,(c<<1)+(st?1:0),3),function(it,X,dt,ut){Ct(it),Rt(it,dt),Rt(it,~dt),o.arraySet(it.pending_buf,it.window,X,dt,it.pending),it.pending+=dt}(E,N,Y)}i._tr_init=function(E){xt||(function(){var N,Y,st,it,X,dt=new Array(x+1);for(it=st=0;it<d-1;it++)for(nt[it]=st,N=0;N<1<<$[it];N++)T[st++]=it;for(T[st-1]=it,it=X=0;it<16;it++)for(mt[it]=X,N=0;N<1<<Z[it];N++)F[X++]=it;for(X>>=7;it<m;it++)for(mt[it]=X<<7,N=0;N<1<<Z[it]-7;N++)F[256+X++]=it;for(Y=0;Y<=x;Y++)dt[Y]=0;for(N=0;N<=143;)H[2*N+1]=8,N++,dt[8]++;for(;N<=255;)H[2*N+1]=9,N++,dt[9]++;for(;N<=279;)H[2*N+1]=7,N++,dt[7]++;for(;N<=287;)H[2*N+1]=8,N++,dt[8]++;for(W(H,g+1,dt),N=0;N<m;N++)k[2*N+1]=5,k[2*N]=Qt(N,5);L=new Lt(H,$,h+1,g,x),ot=new Lt(k,Z,0,m,x),pt=new Lt(new Array(0),P,0,b,C)}(),xt=!0),E.l_desc=new St(E.dyn_ltree,L),E.d_desc=new St(E.dyn_dtree,ot),E.bl_desc=new St(E.bl_tree,pt),E.bi_buf=0,E.bi_valid=0,U(E)},i._tr_stored_block=rt,i._tr_flush_block=function(E,N,Y,st){var it,X,dt=0;0<E.level?(E.strm.data_type===2&&(E.strm.data_type=function(ut){var zt,fe=4093624447;for(zt=0;zt<=31;zt++,fe>>>=1)if(1&fe&&ut.dyn_ltree[2*zt]!==0)return a;if(ut.dyn_ltree[18]!==0||ut.dyn_ltree[20]!==0||ut.dyn_ltree[26]!==0)return l;for(zt=32;zt<h;zt++)if(ut.dyn_ltree[2*zt]!==0)return l;return a}(E)),It(E,E.l_desc),It(E,E.d_desc),dt=function(ut){var zt;for(R(ut,ut.dyn_ltree,ut.l_desc.max_code),R(ut,ut.dyn_dtree,ut.d_desc.max_code),It(ut,ut.bl_desc),zt=b-1;3<=zt&&ut.bl_tree[2*tt[zt]+1]===0;zt--);return ut.opt_len+=3*(zt+1)+5+5+4,zt}(E),it=E.opt_len+3+7>>>3,(X=E.static_len+3+7>>>3)<=it&&(it=X)):it=X=Y+5,Y+4<=it&&N!==-1?rt(E,N,Y,st):E.strategy===4||X===it?(wt(E,2+(st?1:0),3),yt(E,H,k)):(wt(E,4+(st?1:0),3),function(ut,zt,fe,se){var et;for(wt(ut,zt-257,5),wt(ut,fe-1,5),wt(ut,se-4,4),et=0;et<se;et++)wt(ut,ut.bl_tree[2*tt[et]+1],3);Dt(ut,ut.dyn_ltree,zt-1),Dt(ut,ut.dyn_dtree,fe-1)}(E,E.l_desc.max_code+1,E.d_desc.max_code+1,dt+1),yt(E,E.dyn_ltree,E.dyn_dtree)),U(E),st&&Ct(E)},i._tr_tally=function(E,N,Y){return E.pending_buf[E.d_buf+2*E.last_lit]=N>>>8&255,E.pending_buf[E.d_buf+2*E.last_lit+1]=255&N,E.pending_buf[E.l_buf+E.last_lit]=255&Y,E.last_lit++,N===0?E.dyn_ltree[2*Y]++:(E.matches++,N--,E.dyn_ltree[2*(T[Y]+h+1)]++,E.dyn_dtree[2*at(N)]++),E.last_lit===E.lit_bufsize-1},i._tr_align=function(E){wt(E,2,3),Mt(E,O,H),function(N){N.bi_valid===16?(Rt(N,N.bi_buf),N.bi_buf=0,N.bi_valid=0):8<=N.bi_valid&&(N.pending_buf[N.pending++]=255&N.bi_buf,N.bi_buf>>=8,N.bi_valid-=8)}(E)}},{"../utils/common":41}],53:[function(t,n,i){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,n,i){(function(o){(function(a,l){if(!a.setImmediate){var u,c,d,h,g=1,m={},b=!1,w=a.document,x=Object.getPrototypeOf&&Object.getPrototypeOf(a);x=x&&x.setTimeout?x:a,u={}.toString.call(a.process)==="[object process]"?function(A){process.nextTick(function(){C(A)})}:function(){if(a.postMessage&&!a.importScripts){var A=!0,I=a.onmessage;return a.onmessage=function(){A=!1},a.postMessage("","*"),a.onmessage=I,A}}()?(h="setImmediate$"+Math.random()+"$",a.addEventListener?a.addEventListener("message",O,!1):a.attachEvent("onmessage",O),function(A){a.postMessage(h+A,"*")}):a.MessageChannel?((d=new MessageChannel).port1.onmessage=function(A){C(A.data)},function(A){d.port2.postMessage(A)}):w&&"onreadystatechange"in w.createElement("script")?(c=w.documentElement,function(A){var I=w.createElement("script");I.onreadystatechange=function(){C(A),I.onreadystatechange=null,c.removeChild(I),I=null},c.appendChild(I)}):function(A){setTimeout(C,0,A)},x.setImmediate=function(A){typeof A!="function"&&(A=new Function(""+A));for(var I=new Array(arguments.length-1),Q=0;Q<I.length;Q++)I[Q]=arguments[Q+1];var $={callback:A,args:I};return m[g]=$,u(g),g++},x.clearImmediate=_}function _(A){delete m[A]}function C(A){if(b)setTimeout(C,0,A);else{var I=m[A];if(I){b=!0;try{(function(Q){var $=Q.callback,Z=Q.args;switch(Z.length){case 0:$();break;case 1:$(Z[0]);break;case 2:$(Z[0],Z[1]);break;case 3:$(Z[0],Z[1],Z[2]);break;default:$.apply(l,Z)}})(I)}finally{_(A),b=!1}}}}function O(A){A.source===a&&typeof A.data=="string"&&A.data.indexOf(h)===0&&C(+A.data.slice(h.length))}})(typeof self>"u"?o===void 0?this:o:self)}).call(this,typeof Io<"u"?Io:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(sk);var NW=sk.exports;const jW=bO(NW);var lk={exports:{}};(function(r,e){(function(t,n){n()})(Io,function(){function t(c,d){return typeof d>"u"?d={autoBom:!1}:typeof d!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),d={autoBom:!d}),d.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(c.type)?new Blob(["\uFEFF",c],{type:c.type}):c}function n(c,d,h){var g=new XMLHttpRequest;g.open("GET",c),g.responseType="blob",g.onload=function(){u(g.response,d,h)},g.onerror=function(){console.error("could not download file")},g.send()}function i(c){var d=new XMLHttpRequest;d.open("HEAD",c,!1);try{d.send()}catch{}return 200<=d.status&&299>=d.status}function o(c){try{c.dispatchEvent(new MouseEvent("click"))}catch{var d=document.createEvent("MouseEvents");d.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),c.dispatchEvent(d)}}var a=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Io=="object"&&Io.global===Io?Io:void 0,l=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),u=a.saveAs||(typeof window!="object"||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!l?function(c,d,h){var g=a.URL||a.webkitURL,m=document.createElement("a");d=d||c.name||"download",m.download=d,m.rel="noopener",typeof c=="string"?(m.href=c,m.origin===location.origin?o(m):i(m.href)?n(c,d,h):o(m,m.target="_blank")):(m.href=g.createObjectURL(c),setTimeout(function(){g.revokeObjectURL(m.href)},4e4),setTimeout(function(){o(m)},0))}:"msSaveOrOpenBlob"in navigator?function(c,d,h){if(d=d||c.name||"download",typeof c!="string")navigator.msSaveOrOpenBlob(t(c,h),d);else if(i(c))n(c,d,h);else{var g=document.createElement("a");g.href=c,g.target="_blank",setTimeout(function(){o(g)})}}:function(c,d,h,g){if(g=g||open("","_blank"),g&&(g.document.title=g.document.body.innerText="downloading..."),typeof c=="string")return n(c,d,h);var m=c.type==="application/octet-stream",b=/constructor/i.test(a.HTMLElement)||a.safari,w=/CriOS\/[\d]+/.test(navigator.userAgent);if((w||m&&b||l)&&typeof FileReader<"u"){var x=new FileReader;x.onloadend=function(){var O=x.result;O=w?O:O.replace(/^data:[^;]*;/,"data:attachment/file;"),g?g.location.href=O:location=O,g=null},x.readAsDataURL(c)}else{var _=a.URL||a.webkitURL,C=_.createObjectURL(c);g?g.location=C:location.href=C,g=null,setTimeout(function(){_.revokeObjectURL(C)},4e4)}});a.saveAs=u.saveAs=u,r.exports=u})})(lk);var IW=lk.exports;async function VW(r,e){var u,c,d,h,g,m;const t=localStorage.getItem(`gjs-html-${r}`)||"<p>No hay diseño</p>",n=localStorage.getItem(`gjs-css-${r}`)||"",i=`
Convierte el siguiente diseño HTML + CSS en código Flutter dentro de un archivo main.dart ejecutable.

- Usa widgets comunes como Text, ElevatedButton, TextField, etc.
- Aplica estilos cuando sea posible.
- Usa MaterialApp y Scaffold.
- El título de la App debe ser: "${e}"
- No expliques nada, responde solo con el contenido completo de main.dart

HTML:
${t}

CSS:
${n}
`.trim(),o=await fetch("https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=AIzaSyDnmHtzdr-R9d9EsuDESC6VlIMYWV67MBM",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:i}]}]})});return(o!=null&&o.ok?((m=(g=(h=(d=(c=(u=await o.json())==null?void 0:u.candidates)==null?void 0:c[0])==null?void 0:d.content)==null?void 0:h.parts)==null?void 0:g[0])==null?void 0:m.text)??"":"").replace(/```dart\s*/g,"").replace(/```/g,"").trim()||"// ⚠️ No se generó contenido válido."}async function UW(r,e){console.log("🔄 Iniciando exportación Flutter..."),localStorage.getItem(`gjs-html-${r}`),localStorage.getItem(`gjs-css-${r}`),console.log("✅ HTML y CSS recuperados desde localStorage");const t=await VW(r,e);console.log("✅ Código main.dart generado con Gemini");const n="/template/flutter-template.zip";console.log("📦 Cargando template desde:",n);const i=await fetch(n);if(!i.ok){console.warn("❌ No se pudo cargar el ZIP del template.");return}const o=await i.blob(),a=await jW.loadAsync(o);console.log("✅ Template cargado y descomprimido"),a.file("lib/main.dart")?console.log("📄 lib/main.dart encontrado. Será reemplazado."):console.warn("⚠️ Archivo lib/main.dart no encontrado en el ZIP base. Se creará uno nuevo."),a.file("lib/main.dart",t);const l=await a.generateAsync({type:"blob"});console.log("✅ Proyecto generado, iniciando descarga..."),IW.saveAs(l,"flutter_project.zip"),console.log("📥 ¡Descarga iniciada!")}function BW(){const e=wN().roomId,[t,n]=Ft.useState(null);if(!e)return Jt.jsx("div",{className:"text-red-500 text-center mt-10",children:"❌ Room ID inválido"});const i=async()=>{if(!t)return alert("⚠️ No hay diseño para guardar");const o=localStorage.getItem(`gjs-html-${e}`),a=localStorage.getItem(`gjs-css-${e}`)||"",l=await Y3(t.id,{data:{html:o,css:a}});n(l),alert("✅ Diseño actualizado")};return Ft.useEffect(()=>{(async()=>{var l;const a=await o2(e);n(a),(l=a==null?void 0:a.data)!=null&&l.html&&!localStorage.getItem(`gjs-html-${e}`)&&(localStorage.setItem(`gjs-html-${e}`,a.data.html),localStorage.setItem(`gjs-css-${e}`,a.data.css||"")),G_.emit("join",e),console.log("🧩 Joined room:",e)})()},[e]),Jt.jsxs(Jt.Fragment,{children:[Jt.jsx(RA,{}),Jt.jsxs("div",{className:"flex w-full h-[calc(100vh-3.5rem)] bg-gray-100 relative",children:[Jt.jsx(LW,{roomId:e}),Jt.jsxs("div",{id:"custom-buttons",className:"fixed top-[56px] left-[150px] z-50 flex gap-2",children:[Jt.jsx("button",{onClick:i,className:"px-3 py-1 bg-green-600 text-white text-sm rounded hover:bg-green-700",children:"💾 Guardar diseño"}),Jt.jsx("button",{onClick:()=>{navigator.clipboard.writeText(e),alert("📋 ID copiado al portapapeles: "+e)},className:"px-3 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700",children:"🔗 Compartir ID"}),Jt.jsx("button",{onClick:()=>UW(e,(t==null?void 0:t.title)||"Mi App"),className:"px-3 py-1 bg-yellow-600 text-white text-sm rounded hover:bg-yellow-700",children:"📦 Exportar a Flutter"})]})]})]})}function FW(){const r=Vg();return Ft.useEffect(()=>{const e=new URLSearchParams(window.location.search),t=e.get("token"),n=e.get("email"),i=e.get("name"),o=e.get("picture");t&&n&&i&&o&&(localStorage.setItem("token",t),localStorage.setItem("user",JSON.stringify({email:n,name:i,picture:o})),r("/"))},[r]),Jt.jsx("p",{className:"p-4",children:"Iniciando sesión..."})}function zW({isOpen:r,onClose:e,onCreate:t}){const[n,i]=Ft.useState("");return r?Jt.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 flex justify-center items-center z-50",children:Jt.jsxs("div",{className:"bg-white rounded p-6 w-96 shadow-lg",children:[Jt.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Nuevo Proyecto"}),Jt.jsx("input",{type:"text",placeholder:"Título del diseño",value:n,onChange:o=>i(o.target.value),className:"w-full border px-3 py-2 rounded mb-4"}),Jt.jsxs("div",{className:"flex justify-end gap-2",children:[Jt.jsx("button",{onClick:e,className:"px-4 py-2 bg-gray-300 rounded hover:bg-gray-400",children:"Cancelar"}),Jt.jsx("button",{onClick:()=>{n.trim()&&(t(n.trim()),i(""))},className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Crear"})]})]})}):null}function HW({isOpen:r,onClose:e,onJoin:t}){const[n,i]=Ft.useState("");return r?Jt.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:Jt.jsxs("div",{className:"bg-white p-6 rounded shadow-lg w-96",children:[Jt.jsx("h2",{className:"text-xl font-semibold mb-4",children:"🔗 Unirse a un Proyecto"}),Jt.jsx("input",{type:"text",placeholder:"Ingresa el ID del proyecto",value:n,onChange:o=>i(o.target.value),className:"w-full border px-3 py-2 rounded mb-4"}),Jt.jsxs("div",{className:"flex justify-end gap-3",children:[Jt.jsx("button",{onClick:e,className:"px-4 py-2 bg-gray-300 rounded hover:bg-gray-400",children:"Cancelar"}),Jt.jsx("button",{onClick:()=>t(n),className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:"Unirse"})]})]})}):null}const WW=r=>{var m,b,w,x,_,C,O;console.log("🌟 parsed:",r);const e=(b=(m=r==null?void 0:r.XMI)==null?void 0:m["XMI.content"])==null?void 0:b["UML:Model"];console.log("📦 UML:Model:",e);const t=e==null?void 0:e["UML:Namespace.ownedElement"];if(console.log("📦 UML:Namespace.ownedElement:",t),!t)return console.warn("⚠️ No se encontró UML:Namespace.ownedElement"),{title:"Importado desde UML (sin clases)",elements:[]};const n=Array.isArray(t)?t:[t];console.log("🧩 elementsArray:",n);const o=n.filter(A=>A["UML:Package"])[0];if(!o)return console.warn("⚠️ No se encontró ningún paquete UML:Package"),{title:"Importado desde UML (sin clases)",elements:[]};const a=((x=(w=o["UML:Package"])==null?void 0:w._attributes)==null?void 0:x.name)||"SinNombre";console.log("📦 Usando paquete:",a);const l=(_=o["UML:Package"])==null?void 0:_["UML:Namespace.ownedElement"];if(console.log("📦 Elements dentro del Package:",l),!l)return console.warn("⚠️ No se encontró UML:Namespace.ownedElement dentro del paquete conceptual"),{title:"Importado desde UML (sin clases)",elements:[]};const u=Array.isArray(l)?l:[l];let c=[];for(const A of u)Array.isArray(A["UML:Class"])?c=c.concat(A["UML:Class"]):A["UML:Class"]&&c.push(A["UML:Class"]);console.log("📋 Clases finales encontradas:",c);const d=[];let h=100,g=100;for(const A of c){const I=((C=A._attributes)==null?void 0:C.name)||"Entidad";console.log(`🚀 Procesando clase: ${I}`),d.push({id:crypto.randomUUID(),type:"rectangle",translate:[h,g],rotate:0,width:300,height:250}),d.push({id:crypto.randomUUID(),type:"text",content:I,translate:[h+10,g+10],rotate:0,width:230,height:30}),d.push({id:crypto.randomUUID(),type:"button",content:"Crear",translate:[h+10,g+50],rotate:0,width:100,height:30}),d.push({id:crypto.randomUUID(),type:"button",content:"Editar",translate:[h+120,g+50],rotate:0,width:100,height:30}),d.push({id:crypto.randomUUID(),type:"button",content:"Eliminar",translate:[h+10,g+90],rotate:0,width:100,height:30});const Q=A["UML:Classifier.feature"],$=Q==null?void 0:Q["UML:Attribute"];if($){const Z=Array.isArray($)?$:[$];let P=h+10,tt=g+130;for(const H of Z){const k=((O=H._attributes)==null?void 0:O.name)||"atributo";d.push({id:crypto.randomUUID(),type:"text",content:k,translate:[P,tt],rotate:0,width:100,height:20}),d.push({id:crypto.randomUUID(),type:"input",content:"",translate:[P+60,tt],rotate:0,width:120,height:20}),tt+=30}}h+=400,h>900&&(h=100,g+=400)}return{title:"Importado desde UML",elements:d,classNames:c.map(A=>{var I;return((I=A._attributes)==null?void 0:I.name)||"Entidad"})}};var uk={};const KW={},qW=Object.freeze(Object.defineProperty({__proto__:null,default:KW},Symbol.toStringTag,{value:"Module"})),ck=BP(qW);var a0={},ep={exports:{}},mO;function GW(){return mO||(mO=1,function(r,e){var t=ck,n=t.Buffer;function i(a,l){for(var u in a)l[u]=a[u]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?r.exports=t:(i(t,e),e.Buffer=o);function o(a,l,u){return n(a,l,u)}i(n,o),o.from=function(a,l,u){if(typeof a=="number")throw new TypeError("Argument must not be a number");return n(a,l,u)},o.alloc=function(a,l,u){if(typeof a!="number")throw new TypeError("Argument must be a number");var c=n(a);return l!==void 0?typeof u=="string"?c.fill(l,u):c.fill(l):c.fill(0),c},o.allocUnsafe=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return n(a)},o.allocUnsafeSlow=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return t.SlowBuffer(a)}}(ep,ep.exports)),ep.exports}var yO;function YW(){if(yO)return a0;yO=1;var r=GW().Buffer,e=r.isEncoding||function(_){switch(_=""+_,_&&_.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function t(_){if(!_)return"utf8";for(var C;;)switch(_){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return _;default:if(C)return;_=(""+_).toLowerCase(),C=!0}}function n(_){var C=t(_);if(typeof C!="string"&&(r.isEncoding===e||!e(_)))throw new Error("Unknown encoding: "+_);return C||_}a0.StringDecoder=i;function i(_){this.encoding=n(_);var C;switch(this.encoding){case"utf16le":this.text=h,this.end=g,C=4;break;case"utf8":this.fillLast=u,C=4;break;case"base64":this.text=m,this.end=b,C=3;break;default:this.write=w,this.end=x;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(C)}i.prototype.write=function(_){if(_.length===0)return"";var C,O;if(this.lastNeed){if(C=this.fillLast(_),C===void 0)return"";O=this.lastNeed,this.lastNeed=0}else O=0;return O<_.length?C?C+this.text(_,O):this.text(_,O):C||""},i.prototype.end=d,i.prototype.text=c,i.prototype.fillLast=function(_){if(this.lastNeed<=_.length)return _.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);_.copy(this.lastChar,this.lastTotal-this.lastNeed,0,_.length),this.lastNeed-=_.length};function o(_){return _<=127?0:_>>5===6?2:_>>4===14?3:_>>3===30?4:_>>6===2?-1:-2}function a(_,C,O){var A=C.length-1;if(A<O)return 0;var I=o(C[A]);return I>=0?(I>0&&(_.lastNeed=I-1),I):--A<O||I===-2?0:(I=o(C[A]),I>=0?(I>0&&(_.lastNeed=I-2),I):--A<O||I===-2?0:(I=o(C[A]),I>=0?(I>0&&(I===2?I=0:_.lastNeed=I-3),I):0))}function l(_,C,O){if((C[0]&192)!==128)return _.lastNeed=0,"�";if(_.lastNeed>1&&C.length>1){if((C[1]&192)!==128)return _.lastNeed=1,"�";if(_.lastNeed>2&&C.length>2&&(C[2]&192)!==128)return _.lastNeed=2,"�"}}function u(_){var C=this.lastTotal-this.lastNeed,O=l(this,_);if(O!==void 0)return O;if(this.lastNeed<=_.length)return _.copy(this.lastChar,C,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);_.copy(this.lastChar,C,0,_.length),this.lastNeed-=_.length}function c(_,C){var O=a(this,_,C);if(!this.lastNeed)return _.toString("utf8",C);this.lastTotal=O;var A=_.length-(O-this.lastNeed);return _.copy(this.lastChar,0,A),_.toString("utf8",C,A)}function d(_){var C=_&&_.length?this.write(_):"";return this.lastNeed?C+"�":C}function h(_,C){if((_.length-C)%2===0){var O=_.toString("utf16le",C);if(O){var A=O.charCodeAt(O.length-1);if(A>=55296&&A<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=_[_.length-2],this.lastChar[1]=_[_.length-1],O.slice(0,-1)}return O}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=_[_.length-1],_.toString("utf16le",C,_.length-1)}function g(_){var C=_&&_.length?this.write(_):"";if(this.lastNeed){var O=this.lastTotal-this.lastNeed;return C+this.lastChar.toString("utf16le",0,O)}return C}function m(_,C){var O=(_.length-C)%3;return O===0?_.toString("base64",C):(this.lastNeed=3-O,this.lastTotal=3,O===1?this.lastChar[0]=_[_.length-1]:(this.lastChar[0]=_[_.length-2],this.lastChar[1]=_[_.length-1]),_.toString("base64",C,_.length-O))}function b(_){var C=_&&_.length?this.write(_):"";return this.lastNeed?C+this.lastChar.toString("base64",0,3-this.lastNeed):C}function w(_){return _.toString(this.encoding)}function x(_){return _&&_.length?this.write(_):""}return a0}(function(r){(function(e){e.parser=function(W,U){return new n(W,U)},e.SAXParser=n,e.SAXStream=d,e.createStream=c,e.MAX_BUFFER_LENGTH=64*1024;var t=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function n(W,U){if(!(this instanceof n))return new n(W,U);var Ct=this;o(Ct),Ct.q=Ct.c="",Ct.bufferCheckPosition=e.MAX_BUFFER_LENGTH,Ct.opt=U||{},Ct.opt.lowercase=Ct.opt.lowercase||Ct.opt.lowercasetags,Ct.looseCase=Ct.opt.lowercase?"toLowerCase":"toUpperCase",Ct.tags=[],Ct.closed=Ct.closedRoot=Ct.sawRoot=!1,Ct.tag=Ct.error=null,Ct.strict=!!W,Ct.noscript=!!(W||Ct.opt.noscript),Ct.state=P.BEGIN,Ct.strictEntities=Ct.opt.strictEntities,Ct.ENTITIES=Ct.strictEntities?Object.create(e.XML_ENTITIES):Object.create(e.ENTITIES),Ct.attribList=[],Ct.opt.xmlns&&(Ct.ns=Object.create(w)),Ct.opt.unquotedAttributeValues===void 0&&(Ct.opt.unquotedAttributeValues=!W),Ct.trackPosition=Ct.opt.position!==!1,Ct.trackPosition&&(Ct.position=Ct.line=Ct.column=0),H(Ct,"onready")}Object.create||(Object.create=function(W){function U(){}U.prototype=W;var Ct=new U;return Ct}),Object.keys||(Object.keys=function(W){var U=[];for(var Ct in W)W.hasOwnProperty(Ct)&&U.push(Ct);return U});function i(W){for(var U=Math.max(e.MAX_BUFFER_LENGTH,10),Ct=0,vt=0,Wt=t.length;vt<Wt;vt++){var yt=W[t[vt]].length;if(yt>U)switch(t[vt]){case"textNode":F(W);break;case"cdata":k(W,"oncdata",W.cdata),W.cdata="";break;case"script":k(W,"onscript",W.script),W.script="";break;default:nt(W,"Max buffer length exceeded: "+t[vt])}Ct=Math.max(Ct,yt)}var It=e.MAX_BUFFER_LENGTH-Ct;W.bufferCheckPosition=It+W.position}function o(W){for(var U=0,Ct=t.length;U<Ct;U++)W[t[U]]=""}function a(W){F(W),W.cdata!==""&&(k(W,"oncdata",W.cdata),W.cdata=""),W.script!==""&&(k(W,"onscript",W.script),W.script="")}n.prototype={end:function(){L(this)},write:Qt,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){a(this)}};var l;try{l=ck.Stream}catch{l=function(){}}l||(l=function(){});var u=e.EVENTS.filter(function(W){return W!=="error"&&W!=="end"});function c(W,U){return new d(W,U)}function d(W,U){if(!(this instanceof d))return new d(W,U);l.apply(this),this._parser=new n(W,U),this.writable=!0,this.readable=!0;var Ct=this;this._parser.onend=function(){Ct.emit("end")},this._parser.onerror=function(vt){Ct.emit("error",vt),Ct._parser.error=null},this._decoder=null,u.forEach(function(vt){Object.defineProperty(Ct,"on"+vt,{get:function(){return Ct._parser["on"+vt]},set:function(Wt){if(!Wt)return Ct.removeAllListeners(vt),Ct._parser["on"+vt]=Wt,Wt;Ct.on(vt,Wt)},enumerable:!0,configurable:!1})})}d.prototype=Object.create(l.prototype,{constructor:{value:d}}),d.prototype.write=function(W){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(W)){if(!this._decoder){var U=YW().StringDecoder;this._decoder=new U("utf8")}W=this._decoder.write(W)}return this._parser.write(W.toString()),this.emit("data",W),!0},d.prototype.end=function(W){return W&&W.length&&this.write(W),this._parser.end(),!0},d.prototype.on=function(W,U){var Ct=this;return!Ct._parser["on"+W]&&u.indexOf(W)!==-1&&(Ct._parser["on"+W]=function(){var vt=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);vt.splice(0,0,W),Ct.emit.apply(Ct,vt)}),l.prototype.on.call(Ct,W,U)};var h="[CDATA[",g="DOCTYPE",m="http://www.w3.org/XML/1998/namespace",b="http://www.w3.org/2000/xmlns/",w={xml:m,xmlns:b},x=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,_=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,C=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,O=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function A(W){return W===" "||W===`
`||W==="\r"||W==="	"}function I(W){return W==='"'||W==="'"}function Q(W){return W===">"||A(W)}function $(W,U){return W.test(U)}function Z(W,U){return!$(W,U)}var P=0;e.STATE={BEGIN:P++,BEGIN_WHITESPACE:P++,TEXT:P++,TEXT_ENTITY:P++,OPEN_WAKA:P++,SGML_DECL:P++,SGML_DECL_QUOTED:P++,DOCTYPE:P++,DOCTYPE_QUOTED:P++,DOCTYPE_DTD:P++,DOCTYPE_DTD_QUOTED:P++,COMMENT_STARTING:P++,COMMENT:P++,COMMENT_ENDING:P++,COMMENT_ENDED:P++,CDATA:P++,CDATA_ENDING:P++,CDATA_ENDING_2:P++,PROC_INST:P++,PROC_INST_BODY:P++,PROC_INST_ENDING:P++,OPEN_TAG:P++,OPEN_TAG_SLASH:P++,ATTRIB:P++,ATTRIB_NAME:P++,ATTRIB_NAME_SAW_WHITE:P++,ATTRIB_VALUE:P++,ATTRIB_VALUE_QUOTED:P++,ATTRIB_VALUE_CLOSED:P++,ATTRIB_VALUE_UNQUOTED:P++,ATTRIB_VALUE_ENTITY_Q:P++,ATTRIB_VALUE_ENTITY_U:P++,CLOSE_TAG:P++,CLOSE_TAG_SAW_WHITE:P++,SCRIPT:P++,SCRIPT_ENDING:P++},e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(e.ENTITIES).forEach(function(W){var U=e.ENTITIES[W],Ct=typeof U=="number"?String.fromCharCode(U):U;e.ENTITIES[W]=Ct});for(var tt in e.STATE)e.STATE[e.STATE[tt]]=tt;P=e.STATE;function H(W,U,Ct){W[U]&&W[U](Ct)}function k(W,U,Ct){W.textNode&&F(W),H(W,U,Ct)}function F(W){W.textNode=T(W.opt,W.textNode),W.textNode&&H(W,"ontext",W.textNode),W.textNode=""}function T(W,U){return W.trim&&(U=U.trim()),W.normalize&&(U=U.replace(/\s+/g," ")),U}function nt(W,U){return F(W),W.trackPosition&&(U+=`
Line: `+W.line+`
Column: `+W.column+`
Char: `+W.c),U=new Error(U),W.error=U,H(W,"onerror",U),W}function L(W){return W.sawRoot&&!W.closedRoot&&ot(W,"Unclosed root tag"),W.state!==P.BEGIN&&W.state!==P.BEGIN_WHITESPACE&&W.state!==P.TEXT&&nt(W,"Unexpected end"),F(W),W.c="",W.closed=!0,H(W,"onend"),n.call(W,W.strict,W.opt),W}function ot(W,U){if(typeof W!="object"||!(W instanceof n))throw new Error("bad call to strictFail");W.strict&&nt(W,U)}function pt(W){W.strict||(W.tagName=W.tagName[W.looseCase]());var U=W.tags[W.tags.length-1]||W,Ct=W.tag={name:W.tagName,attributes:{}};W.opt.xmlns&&(Ct.ns=U.ns),W.attribList.length=0,k(W,"onopentagstart",Ct)}function mt(W,U){var Ct=W.indexOf(":"),vt=Ct<0?["",W]:W.split(":"),Wt=vt[0],yt=vt[1];return U&&W==="xmlns"&&(Wt="xmlns",yt=""),{prefix:Wt,local:yt}}function Lt(W){if(W.strict||(W.attribName=W.attribName[W.looseCase]()),W.attribList.indexOf(W.attribName)!==-1||W.tag.attributes.hasOwnProperty(W.attribName)){W.attribName=W.attribValue="";return}if(W.opt.xmlns){var U=mt(W.attribName,!0),Ct=U.prefix,vt=U.local;if(Ct==="xmlns")if(vt==="xml"&&W.attribValue!==m)ot(W,"xml: prefix must be bound to "+m+`
Actual: `+W.attribValue);else if(vt==="xmlns"&&W.attribValue!==b)ot(W,"xmlns: prefix must be bound to "+b+`
Actual: `+W.attribValue);else{var Wt=W.tag,yt=W.tags[W.tags.length-1]||W;Wt.ns===yt.ns&&(Wt.ns=Object.create(yt.ns)),Wt.ns[vt]=W.attribValue}W.attribList.push([W.attribName,W.attribValue])}else W.tag.attributes[W.attribName]=W.attribValue,k(W,"onattribute",{name:W.attribName,value:W.attribValue});W.attribName=W.attribValue=""}function St(W,U){if(W.opt.xmlns){var Ct=W.tag,vt=mt(W.tagName);Ct.prefix=vt.prefix,Ct.local=vt.local,Ct.uri=Ct.ns[vt.prefix]||"",Ct.prefix&&!Ct.uri&&(ot(W,"Unbound namespace prefix: "+JSON.stringify(W.tagName)),Ct.uri=vt.prefix);var Wt=W.tags[W.tags.length-1]||W;Ct.ns&&Wt.ns!==Ct.ns&&Object.keys(Ct.ns).forEach(function(it){k(W,"onopennamespace",{prefix:it,uri:Ct.ns[it]})});for(var yt=0,It=W.attribList.length;yt<It;yt++){var R=W.attribList[yt],Dt=R[0],xt=R[1],rt=mt(Dt,!0),E=rt.prefix,N=rt.local,Y=E===""?"":Ct.ns[E]||"",st={name:Dt,value:xt,prefix:E,local:N,uri:Y};E&&E!=="xmlns"&&!Y&&(ot(W,"Unbound namespace prefix: "+JSON.stringify(E)),st.uri=E),W.tag.attributes[Dt]=st,k(W,"onattribute",st)}W.attribList.length=0}W.tag.isSelfClosing=!!U,W.sawRoot=!0,W.tags.push(W.tag),k(W,"onopentag",W.tag),U||(!W.noscript&&W.tagName.toLowerCase()==="script"?W.state=P.SCRIPT:W.state=P.TEXT,W.tag=null,W.tagName=""),W.attribName=W.attribValue="",W.attribList.length=0}function at(W){if(!W.tagName){ot(W,"Weird empty close tag."),W.textNode+="</>",W.state=P.TEXT;return}if(W.script){if(W.tagName!=="script"){W.script+="</"+W.tagName+">",W.tagName="",W.state=P.SCRIPT;return}k(W,"onscript",W.script),W.script=""}var U=W.tags.length,Ct=W.tagName;W.strict||(Ct=Ct[W.looseCase]());for(var vt=Ct;U--;){var Wt=W.tags[U];if(Wt.name!==vt)ot(W,"Unexpected close tag");else break}if(U<0){ot(W,"Unmatched closing tag: "+W.tagName),W.textNode+="</"+W.tagName+">",W.state=P.TEXT;return}W.tagName=Ct;for(var yt=W.tags.length;yt-- >U;){var It=W.tag=W.tags.pop();W.tagName=W.tag.name,k(W,"onclosetag",W.tagName);var R={};for(var Dt in It.ns)R[Dt]=It.ns[Dt];var xt=W.tags[W.tags.length-1]||W;W.opt.xmlns&&It.ns!==xt.ns&&Object.keys(It.ns).forEach(function(rt){var E=It.ns[rt];k(W,"onclosenamespace",{prefix:rt,uri:E})})}U===0&&(W.closedRoot=!0),W.tagName=W.attribValue=W.attribName="",W.attribList.length=0,W.state=P.TEXT}function Rt(W){var U=W.entity,Ct=U.toLowerCase(),vt,Wt="";return W.ENTITIES[U]?W.ENTITIES[U]:W.ENTITIES[Ct]?W.ENTITIES[Ct]:(U=Ct,U.charAt(0)==="#"&&(U.charAt(1)==="x"?(U=U.slice(2),vt=parseInt(U,16),Wt=vt.toString(16)):(U=U.slice(1),vt=parseInt(U,10),Wt=vt.toString(10))),U=U.replace(/^0+/,""),isNaN(vt)||Wt.toLowerCase()!==U?(ot(W,"Invalid character entity"),"&"+W.entity+";"):String.fromCodePoint(vt))}function wt(W,U){U==="<"?(W.state=P.OPEN_WAKA,W.startTagPosition=W.position):A(U)||(ot(W,"Non-whitespace before first tag."),W.textNode=U,W.state=P.TEXT)}function Mt(W,U){var Ct="";return U<W.length&&(Ct=W.charAt(U)),Ct}function Qt(W){var U=this;if(this.error)throw this.error;if(U.closed)return nt(U,"Cannot write after close. Assign an onready handler.");if(W===null)return L(U);typeof W=="object"&&(W=W.toString());for(var Ct=0,vt="";vt=Mt(W,Ct++),U.c=vt,!!vt;)switch(U.trackPosition&&(U.position++,vt===`
`?(U.line++,U.column=0):U.column++),U.state){case P.BEGIN:if(U.state=P.BEGIN_WHITESPACE,vt==="\uFEFF")continue;wt(U,vt);continue;case P.BEGIN_WHITESPACE:wt(U,vt);continue;case P.TEXT:if(U.sawRoot&&!U.closedRoot){for(var Wt=Ct-1;vt&&vt!=="<"&&vt!=="&";)vt=Mt(W,Ct++),vt&&U.trackPosition&&(U.position++,vt===`
`?(U.line++,U.column=0):U.column++);U.textNode+=W.substring(Wt,Ct-1)}vt==="<"&&!(U.sawRoot&&U.closedRoot&&!U.strict)?(U.state=P.OPEN_WAKA,U.startTagPosition=U.position):(!A(vt)&&(!U.sawRoot||U.closedRoot)&&ot(U,"Text data outside of root node."),vt==="&"?U.state=P.TEXT_ENTITY:U.textNode+=vt);continue;case P.SCRIPT:vt==="<"?U.state=P.SCRIPT_ENDING:U.script+=vt;continue;case P.SCRIPT_ENDING:vt==="/"?U.state=P.CLOSE_TAG:(U.script+="<"+vt,U.state=P.SCRIPT);continue;case P.OPEN_WAKA:if(vt==="!")U.state=P.SGML_DECL,U.sgmlDecl="";else if(!A(vt))if($(x,vt))U.state=P.OPEN_TAG,U.tagName=vt;else if(vt==="/")U.state=P.CLOSE_TAG,U.tagName="";else if(vt==="?")U.state=P.PROC_INST,U.procInstName=U.procInstBody="";else{if(ot(U,"Unencoded <"),U.startTagPosition+1<U.position){var yt=U.position-U.startTagPosition;vt=new Array(yt).join(" ")+vt}U.textNode+="<"+vt,U.state=P.TEXT}continue;case P.SGML_DECL:if(U.sgmlDecl+vt==="--"){U.state=P.COMMENT,U.comment="",U.sgmlDecl="";continue}U.doctype&&U.doctype!==!0&&U.sgmlDecl?(U.state=P.DOCTYPE_DTD,U.doctype+="<!"+U.sgmlDecl+vt,U.sgmlDecl=""):(U.sgmlDecl+vt).toUpperCase()===h?(k(U,"onopencdata"),U.state=P.CDATA,U.sgmlDecl="",U.cdata=""):(U.sgmlDecl+vt).toUpperCase()===g?(U.state=P.DOCTYPE,(U.doctype||U.sawRoot)&&ot(U,"Inappropriately located doctype declaration"),U.doctype="",U.sgmlDecl=""):vt===">"?(k(U,"onsgmldeclaration",U.sgmlDecl),U.sgmlDecl="",U.state=P.TEXT):(I(vt)&&(U.state=P.SGML_DECL_QUOTED),U.sgmlDecl+=vt);continue;case P.SGML_DECL_QUOTED:vt===U.q&&(U.state=P.SGML_DECL,U.q=""),U.sgmlDecl+=vt;continue;case P.DOCTYPE:vt===">"?(U.state=P.TEXT,k(U,"ondoctype",U.doctype),U.doctype=!0):(U.doctype+=vt,vt==="["?U.state=P.DOCTYPE_DTD:I(vt)&&(U.state=P.DOCTYPE_QUOTED,U.q=vt));continue;case P.DOCTYPE_QUOTED:U.doctype+=vt,vt===U.q&&(U.q="",U.state=P.DOCTYPE);continue;case P.DOCTYPE_DTD:vt==="]"?(U.doctype+=vt,U.state=P.DOCTYPE):vt==="<"?(U.state=P.OPEN_WAKA,U.startTagPosition=U.position):I(vt)?(U.doctype+=vt,U.state=P.DOCTYPE_DTD_QUOTED,U.q=vt):U.doctype+=vt;continue;case P.DOCTYPE_DTD_QUOTED:U.doctype+=vt,vt===U.q&&(U.state=P.DOCTYPE_DTD,U.q="");continue;case P.COMMENT:vt==="-"?U.state=P.COMMENT_ENDING:U.comment+=vt;continue;case P.COMMENT_ENDING:vt==="-"?(U.state=P.COMMENT_ENDED,U.comment=T(U.opt,U.comment),U.comment&&k(U,"oncomment",U.comment),U.comment=""):(U.comment+="-"+vt,U.state=P.COMMENT);continue;case P.COMMENT_ENDED:vt!==">"?(ot(U,"Malformed comment"),U.comment+="--"+vt,U.state=P.COMMENT):U.doctype&&U.doctype!==!0?U.state=P.DOCTYPE_DTD:U.state=P.TEXT;continue;case P.CDATA:vt==="]"?U.state=P.CDATA_ENDING:U.cdata+=vt;continue;case P.CDATA_ENDING:vt==="]"?U.state=P.CDATA_ENDING_2:(U.cdata+="]"+vt,U.state=P.CDATA);continue;case P.CDATA_ENDING_2:vt===">"?(U.cdata&&k(U,"oncdata",U.cdata),k(U,"onclosecdata"),U.cdata="",U.state=P.TEXT):vt==="]"?U.cdata+="]":(U.cdata+="]]"+vt,U.state=P.CDATA);continue;case P.PROC_INST:vt==="?"?U.state=P.PROC_INST_ENDING:A(vt)?U.state=P.PROC_INST_BODY:U.procInstName+=vt;continue;case P.PROC_INST_BODY:if(!U.procInstBody&&A(vt))continue;vt==="?"?U.state=P.PROC_INST_ENDING:U.procInstBody+=vt;continue;case P.PROC_INST_ENDING:vt===">"?(k(U,"onprocessinginstruction",{name:U.procInstName,body:U.procInstBody}),U.procInstName=U.procInstBody="",U.state=P.TEXT):(U.procInstBody+="?"+vt,U.state=P.PROC_INST_BODY);continue;case P.OPEN_TAG:$(_,vt)?U.tagName+=vt:(pt(U),vt===">"?St(U):vt==="/"?U.state=P.OPEN_TAG_SLASH:(A(vt)||ot(U,"Invalid character in tag name"),U.state=P.ATTRIB));continue;case P.OPEN_TAG_SLASH:vt===">"?(St(U,!0),at(U)):(ot(U,"Forward-slash in opening tag not followed by >"),U.state=P.ATTRIB);continue;case P.ATTRIB:if(A(vt))continue;vt===">"?St(U):vt==="/"?U.state=P.OPEN_TAG_SLASH:$(x,vt)?(U.attribName=vt,U.attribValue="",U.state=P.ATTRIB_NAME):ot(U,"Invalid attribute name");continue;case P.ATTRIB_NAME:vt==="="?U.state=P.ATTRIB_VALUE:vt===">"?(ot(U,"Attribute without value"),U.attribValue=U.attribName,Lt(U),St(U)):A(vt)?U.state=P.ATTRIB_NAME_SAW_WHITE:$(_,vt)?U.attribName+=vt:ot(U,"Invalid attribute name");continue;case P.ATTRIB_NAME_SAW_WHITE:if(vt==="=")U.state=P.ATTRIB_VALUE;else{if(A(vt))continue;ot(U,"Attribute without value"),U.tag.attributes[U.attribName]="",U.attribValue="",k(U,"onattribute",{name:U.attribName,value:""}),U.attribName="",vt===">"?St(U):$(x,vt)?(U.attribName=vt,U.state=P.ATTRIB_NAME):(ot(U,"Invalid attribute name"),U.state=P.ATTRIB)}continue;case P.ATTRIB_VALUE:if(A(vt))continue;I(vt)?(U.q=vt,U.state=P.ATTRIB_VALUE_QUOTED):(U.opt.unquotedAttributeValues||nt(U,"Unquoted attribute value"),U.state=P.ATTRIB_VALUE_UNQUOTED,U.attribValue=vt);continue;case P.ATTRIB_VALUE_QUOTED:if(vt!==U.q){vt==="&"?U.state=P.ATTRIB_VALUE_ENTITY_Q:U.attribValue+=vt;continue}Lt(U),U.q="",U.state=P.ATTRIB_VALUE_CLOSED;continue;case P.ATTRIB_VALUE_CLOSED:A(vt)?U.state=P.ATTRIB:vt===">"?St(U):vt==="/"?U.state=P.OPEN_TAG_SLASH:$(x,vt)?(ot(U,"No whitespace between attributes"),U.attribName=vt,U.attribValue="",U.state=P.ATTRIB_NAME):ot(U,"Invalid attribute name");continue;case P.ATTRIB_VALUE_UNQUOTED:if(!Q(vt)){vt==="&"?U.state=P.ATTRIB_VALUE_ENTITY_U:U.attribValue+=vt;continue}Lt(U),vt===">"?St(U):U.state=P.ATTRIB;continue;case P.CLOSE_TAG:if(U.tagName)vt===">"?at(U):$(_,vt)?U.tagName+=vt:U.script?(U.script+="</"+U.tagName,U.tagName="",U.state=P.SCRIPT):(A(vt)||ot(U,"Invalid tagname in closing tag"),U.state=P.CLOSE_TAG_SAW_WHITE);else{if(A(vt))continue;Z(x,vt)?U.script?(U.script+="</"+vt,U.state=P.SCRIPT):ot(U,"Invalid tagname in closing tag."):U.tagName=vt}continue;case P.CLOSE_TAG_SAW_WHITE:if(A(vt))continue;vt===">"?at(U):ot(U,"Invalid characters in closing tag");continue;case P.TEXT_ENTITY:case P.ATTRIB_VALUE_ENTITY_Q:case P.ATTRIB_VALUE_ENTITY_U:var It,R;switch(U.state){case P.TEXT_ENTITY:It=P.TEXT,R="textNode";break;case P.ATTRIB_VALUE_ENTITY_Q:It=P.ATTRIB_VALUE_QUOTED,R="attribValue";break;case P.ATTRIB_VALUE_ENTITY_U:It=P.ATTRIB_VALUE_UNQUOTED,R="attribValue";break}if(vt===";"){var Dt=Rt(U);U.opt.unparsedEntities&&!Object.values(e.XML_ENTITIES).includes(Dt)?(U.entity="",U.state=It,U.write(Dt)):(U[R]+=Dt,U.entity="",U.state=It)}else $(U.entity.length?O:C,vt)?U.entity+=vt:(ot(U,"Invalid character in entity name"),U[R]+="&"+U.entity+vt,U.entity="",U.state=It);continue;default:throw new Error(U,"Unknown state: "+U.state)}return U.position>=U.bufferCheckPosition&&i(U),U}/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */String.fromCodePoint||function(){var W=String.fromCharCode,U=Math.floor,Ct=function(){var vt=16384,Wt=[],yt,It,R=-1,Dt=arguments.length;if(!Dt)return"";for(var xt="";++R<Dt;){var rt=Number(arguments[R]);if(!isFinite(rt)||rt<0||rt>1114111||U(rt)!==rt)throw RangeError("Invalid code point: "+rt);rt<=65535?Wt.push(rt):(rt-=65536,yt=(rt>>10)+55296,It=rt%1024+56320,Wt.push(yt,It)),(R+1===Dt||Wt.length>vt)&&(xt+=W.apply(null,Wt),Wt.length=0)}return xt};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:Ct,configurable:!0,writable:!0}):String.fromCodePoint=Ct}()})(r)})(uk);var Aw={isArray:function(r){return Array.isArray?Array.isArray(r):Object.prototype.toString.call(r)==="[object Array]"}},XW=Aw.isArray,Dw={copyOptions:function(r){var e,t={};for(e in r)r.hasOwnProperty(e)&&(t[e]=r[e]);return t},ensureFlagExists:function(r,e){(!(r in e)||typeof e[r]!="boolean")&&(e[r]=!1)},ensureSpacesExists:function(r){(!("spaces"in r)||typeof r.spaces!="number"&&typeof r.spaces!="string")&&(r.spaces=0)},ensureAlwaysArrayExists:function(r){(!("alwaysArray"in r)||typeof r.alwaysArray!="boolean"&&!XW(r.alwaysArray))&&(r.alwaysArray=!1)},ensureKeyExists:function(r,e){(!(r+"Key"in e)||typeof e[r+"Key"]!="string")&&(e[r+"Key"]=e.compact?"_"+r:r)},checkFnExists:function(r,e){return r+"Fn"in e}},ZW=uk,Be=Dw,$u=Aw.isArray,Nt,ke;function $W(r){return Nt=Be.copyOptions(r),Be.ensureFlagExists("ignoreDeclaration",Nt),Be.ensureFlagExists("ignoreInstruction",Nt),Be.ensureFlagExists("ignoreAttributes",Nt),Be.ensureFlagExists("ignoreText",Nt),Be.ensureFlagExists("ignoreComment",Nt),Be.ensureFlagExists("ignoreCdata",Nt),Be.ensureFlagExists("ignoreDoctype",Nt),Be.ensureFlagExists("compact",Nt),Be.ensureFlagExists("alwaysChildren",Nt),Be.ensureFlagExists("addParent",Nt),Be.ensureFlagExists("trim",Nt),Be.ensureFlagExists("nativeType",Nt),Be.ensureFlagExists("nativeTypeAttributes",Nt),Be.ensureFlagExists("sanitize",Nt),Be.ensureFlagExists("instructionHasAttributes",Nt),Be.ensureFlagExists("captureSpacesBetweenElements",Nt),Be.ensureAlwaysArrayExists(Nt),Be.ensureKeyExists("declaration",Nt),Be.ensureKeyExists("instruction",Nt),Be.ensureKeyExists("attributes",Nt),Be.ensureKeyExists("text",Nt),Be.ensureKeyExists("comment",Nt),Be.ensureKeyExists("cdata",Nt),Be.ensureKeyExists("doctype",Nt),Be.ensureKeyExists("type",Nt),Be.ensureKeyExists("name",Nt),Be.ensureKeyExists("elements",Nt),Be.ensureKeyExists("parent",Nt),Be.checkFnExists("doctype",Nt),Be.checkFnExists("instruction",Nt),Be.checkFnExists("cdata",Nt),Be.checkFnExists("comment",Nt),Be.checkFnExists("text",Nt),Be.checkFnExists("instructionName",Nt),Be.checkFnExists("elementName",Nt),Be.checkFnExists("attributeName",Nt),Be.checkFnExists("attributeValue",Nt),Be.checkFnExists("attributes",Nt),Nt}function fk(r){var e=Number(r);if(!isNaN(e))return e;var t=r.toLowerCase();return t==="true"?!0:t==="false"?!1:r}function Wd(r,e){var t;if(Nt.compact){if(!ke[Nt[r+"Key"]]&&($u(Nt.alwaysArray)?Nt.alwaysArray.indexOf(Nt[r+"Key"])!==-1:Nt.alwaysArray)&&(ke[Nt[r+"Key"]]=[]),ke[Nt[r+"Key"]]&&!$u(ke[Nt[r+"Key"]])&&(ke[Nt[r+"Key"]]=[ke[Nt[r+"Key"]]]),r+"Fn"in Nt&&typeof e=="string"&&(e=Nt[r+"Fn"](e,ke)),r==="instruction"&&("instructionFn"in Nt||"instructionNameFn"in Nt)){for(t in e)if(e.hasOwnProperty(t))if("instructionFn"in Nt)e[t]=Nt.instructionFn(e[t],t,ke);else{var n=e[t];delete e[t],e[Nt.instructionNameFn(t,n,ke)]=n}}$u(ke[Nt[r+"Key"]])?ke[Nt[r+"Key"]].push(e):ke[Nt[r+"Key"]]=e}else{ke[Nt.elementsKey]||(ke[Nt.elementsKey]=[]);var i={};if(i[Nt.typeKey]=r,r==="instruction"){for(t in e)if(e.hasOwnProperty(t))break;i[Nt.nameKey]="instructionNameFn"in Nt?Nt.instructionNameFn(t,e,ke):t,Nt.instructionHasAttributes?(i[Nt.attributesKey]=e[t][Nt.attributesKey],"instructionFn"in Nt&&(i[Nt.attributesKey]=Nt.instructionFn(i[Nt.attributesKey],t,ke))):("instructionFn"in Nt&&(e[t]=Nt.instructionFn(e[t],t,ke)),i[Nt.instructionKey]=e[t])}else r+"Fn"in Nt&&(e=Nt[r+"Fn"](e,ke)),i[Nt[r+"Key"]]=e;Nt.addParent&&(i[Nt.parentKey]=ke),ke[Nt.elementsKey].push(i)}}function dk(r){if("attributesFn"in Nt&&r&&(r=Nt.attributesFn(r,ke)),(Nt.trim||"attributeValueFn"in Nt||"attributeNameFn"in Nt||Nt.nativeTypeAttributes)&&r){var e;for(e in r)if(r.hasOwnProperty(e)&&(Nt.trim&&(r[e]=r[e].trim()),Nt.nativeTypeAttributes&&(r[e]=fk(r[e])),"attributeValueFn"in Nt&&(r[e]=Nt.attributeValueFn(r[e],e,ke)),"attributeNameFn"in Nt)){var t=r[e];delete r[e],r[Nt.attributeNameFn(e,r[e],ke)]=t}}return r}function JW(r){var e={};if(r.body&&(r.name.toLowerCase()==="xml"||Nt.instructionHasAttributes)){for(var t=/([\w:-]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\w+))\s*/g,n;(n=t.exec(r.body))!==null;)e[n[1]]=n[2]||n[3]||n[4];e=dk(e)}if(r.name.toLowerCase()==="xml"){if(Nt.ignoreDeclaration)return;ke[Nt.declarationKey]={},Object.keys(e).length&&(ke[Nt.declarationKey][Nt.attributesKey]=e),Nt.addParent&&(ke[Nt.declarationKey][Nt.parentKey]=ke)}else{if(Nt.ignoreInstruction)return;Nt.trim&&(r.body=r.body.trim());var i={};Nt.instructionHasAttributes&&Object.keys(e).length?(i[r.name]={},i[r.name][Nt.attributesKey]=e):i[r.name]=r.body,Wd("instruction",i)}}function QW(r,e){var t;if(typeof r=="object"&&(e=r.attributes,r=r.name),e=dk(e),"elementNameFn"in Nt&&(r=Nt.elementNameFn(r,ke)),Nt.compact){if(t={},!Nt.ignoreAttributes&&e&&Object.keys(e).length){t[Nt.attributesKey]={};var n;for(n in e)e.hasOwnProperty(n)&&(t[Nt.attributesKey][n]=e[n])}!(r in ke)&&($u(Nt.alwaysArray)?Nt.alwaysArray.indexOf(r)!==-1:Nt.alwaysArray)&&(ke[r]=[]),ke[r]&&!$u(ke[r])&&(ke[r]=[ke[r]]),$u(ke[r])?ke[r].push(t):ke[r]=t}else ke[Nt.elementsKey]||(ke[Nt.elementsKey]=[]),t={},t[Nt.typeKey]="element",t[Nt.nameKey]=r,!Nt.ignoreAttributes&&e&&Object.keys(e).length&&(t[Nt.attributesKey]=e),Nt.alwaysChildren&&(t[Nt.elementsKey]=[]),ke[Nt.elementsKey].push(t);t[Nt.parentKey]=ke,ke=t}function tK(r){Nt.ignoreText||!r.trim()&&!Nt.captureSpacesBetweenElements||(Nt.trim&&(r=r.trim()),Nt.nativeType&&(r=fk(r)),Nt.sanitize&&(r=r.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),Wd("text",r))}function eK(r){Nt.ignoreComment||(Nt.trim&&(r=r.trim()),Wd("comment",r))}function nK(r){var e=ke[Nt.parentKey];Nt.addParent||delete ke[Nt.parentKey],ke=e}function rK(r){Nt.ignoreCdata||(Nt.trim&&(r=r.trim()),Wd("cdata",r))}function iK(r){Nt.ignoreDoctype||(r=r.replace(/^ /,""),Nt.trim&&(r=r.trim()),Wd("doctype",r))}function oK(r){r.note=r}var hk=function(r,e){var t=ZW.parser(!0,{}),n={};if(ke=n,Nt=$W(e),t.opt={strictEntities:!0},t.onopentag=QW,t.ontext=tK,t.oncomment=eK,t.onclosetag=nK,t.onerror=oK,t.oncdata=rK,t.ondoctype=iK,t.onprocessinginstruction=JW,t.write(r).close(),n[Nt.elementsKey]){var i=n[Nt.elementsKey];delete n[Nt.elementsKey],n[Nt.elementsKey]=i,delete n.text}return n},_O=Dw,aK=hk;function sK(r){var e=_O.copyOptions(r);return _O.ensureSpacesExists(e),e}var lK=function(r,e){var t,n,i,o;return t=sK(e),n=aK(r,t),o="compact"in t&&t.compact?"_parent":"parent","addParent"in t&&t.addParent?i=JSON.stringify(n,function(a,l){return a===o?"_":l},t.spaces):i=JSON.stringify(n,null,t.spaces),i.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")},He=Dw,uK=Aw.isArray,Vr,Ur;function cK(r){var e=He.copyOptions(r);return He.ensureFlagExists("ignoreDeclaration",e),He.ensureFlagExists("ignoreInstruction",e),He.ensureFlagExists("ignoreAttributes",e),He.ensureFlagExists("ignoreText",e),He.ensureFlagExists("ignoreComment",e),He.ensureFlagExists("ignoreCdata",e),He.ensureFlagExists("ignoreDoctype",e),He.ensureFlagExists("compact",e),He.ensureFlagExists("indentText",e),He.ensureFlagExists("indentCdata",e),He.ensureFlagExists("indentAttributes",e),He.ensureFlagExists("indentInstruction",e),He.ensureFlagExists("fullTagEmptyElement",e),He.ensureFlagExists("noQuotesForNativeAttributes",e),He.ensureSpacesExists(e),typeof e.spaces=="number"&&(e.spaces=Array(e.spaces+1).join(" ")),He.ensureKeyExists("declaration",e),He.ensureKeyExists("instruction",e),He.ensureKeyExists("attributes",e),He.ensureKeyExists("text",e),He.ensureKeyExists("comment",e),He.ensureKeyExists("cdata",e),He.ensureKeyExists("doctype",e),He.ensureKeyExists("type",e),He.ensureKeyExists("name",e),He.ensureKeyExists("elements",e),He.checkFnExists("doctype",e),He.checkFnExists("instruction",e),He.checkFnExists("cdata",e),He.checkFnExists("comment",e),He.checkFnExists("text",e),He.checkFnExists("instructionName",e),He.checkFnExists("elementName",e),He.checkFnExists("attributeName",e),He.checkFnExists("attributeValue",e),He.checkFnExists("attributes",e),He.checkFnExists("fullTagEmptyElement",e),e}function jo(r,e,t){return(!t&&r.spaces?`
`:"")+Array(e+1).join(r.spaces)}function tm(r,e,t){if(e.ignoreAttributes)return"";"attributesFn"in e&&(r=e.attributesFn(r,Ur,Vr));var n,i,o,a,l=[];for(n in r)r.hasOwnProperty(n)&&r[n]!==null&&r[n]!==void 0&&(a=e.noQuotesForNativeAttributes&&typeof r[n]!="string"?"":'"',i=""+r[n],i=i.replace(/"/g,"&quot;"),o="attributeNameFn"in e?e.attributeNameFn(n,i,Ur,Vr):n,l.push(e.spaces&&e.indentAttributes?jo(e,t+1,!1):" "),l.push(o+"="+a+("attributeValueFn"in e?e.attributeValueFn(i,n,Ur,Vr):i)+a));return r&&Object.keys(r).length&&e.spaces&&e.indentAttributes&&l.push(jo(e,t,!1)),l.join("")}function pk(r,e,t){return Vr=r,Ur="xml",e.ignoreDeclaration?"":"<?xml"+tm(r[e.attributesKey],e,t)+"?>"}function vk(r,e,t){if(e.ignoreInstruction)return"";var n;for(n in r)if(r.hasOwnProperty(n))break;var i="instructionNameFn"in e?e.instructionNameFn(n,r[n],Ur,Vr):n;if(typeof r[n]=="object")return Vr=r,Ur=i,"<?"+i+tm(r[n][e.attributesKey],e,t)+"?>";var o=r[n]?r[n]:"";return"instructionFn"in e&&(o=e.instructionFn(o,n,Ur,Vr)),"<?"+i+(o?" "+o:"")+"?>"}function gk(r,e){return e.ignoreComment?"":"<!--"+("commentFn"in e?e.commentFn(r,Ur,Vr):r)+"-->"}function mk(r,e){return e.ignoreCdata?"":"<![CDATA["+("cdataFn"in e?e.cdataFn(r,Ur,Vr):r.replace("]]>","]]]]><![CDATA[>"))+"]]>"}function yk(r,e){return e.ignoreDoctype?"":"<!DOCTYPE "+("doctypeFn"in e?e.doctypeFn(r,Ur,Vr):r)+">"}function kw(r,e){return e.ignoreText?"":(r=""+r,r=r.replace(/&amp;/g,"&"),r=r.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"textFn"in e?e.textFn(r,Ur,Vr):r)}function fK(r,e){var t;if(r.elements&&r.elements.length)for(t=0;t<r.elements.length;++t)switch(r.elements[t][e.typeKey]){case"text":if(e.indentText)return!0;break;case"cdata":if(e.indentCdata)return!0;break;case"instruction":if(e.indentInstruction)return!0;break;case"doctype":case"comment":case"element":return!0;default:return!0}return!1}function dK(r,e,t){Vr=r,Ur=r.name;var n=[],i="elementNameFn"in e?e.elementNameFn(r.name,r):r.name;n.push("<"+i),r[e.attributesKey]&&n.push(tm(r[e.attributesKey],e,t));var o=r[e.elementsKey]&&r[e.elementsKey].length||r[e.attributesKey]&&r[e.attributesKey]["xml:space"]==="preserve";return o||("fullTagEmptyElementFn"in e?o=e.fullTagEmptyElementFn(r.name,r):o=e.fullTagEmptyElement),o?(n.push(">"),r[e.elementsKey]&&r[e.elementsKey].length&&(n.push(_k(r[e.elementsKey],e,t+1)),Vr=r,Ur=r.name),n.push(e.spaces&&fK(r,e)?`
`+Array(t+1).join(e.spaces):""),n.push("</"+i+">")):n.push("/>"),n.join("")}function _k(r,e,t,n){return r.reduce(function(i,o){var a=jo(e,t,n&&!i);switch(o.type){case"element":return i+a+dK(o,e,t);case"comment":return i+a+gk(o[e.commentKey],e);case"doctype":return i+a+yk(o[e.doctypeKey],e);case"cdata":return i+(e.indentCdata?a:"")+mk(o[e.cdataKey],e);case"text":return i+(e.indentText?a:"")+kw(o[e.textKey],e);case"instruction":var l={};return l[o[e.nameKey]]=o[e.attributesKey]?o:o[e.instructionKey],i+(e.indentInstruction?a:"")+vk(l,e,t)}},"")}function bk(r,e,t){var n;for(n in r)if(r.hasOwnProperty(n))switch(n){case e.parentKey:case e.attributesKey:break;case e.textKey:if(e.indentText||t)return!0;break;case e.cdataKey:if(e.indentCdata||t)return!0;break;case e.instructionKey:if(e.indentInstruction||t)return!0;break;case e.doctypeKey:case e.commentKey:return!0;default:return!0}return!1}function hK(r,e,t,n,i){Vr=r,Ur=e;var o="elementNameFn"in t?t.elementNameFn(e,r):e;if(typeof r>"u"||r===null||r==="")return"fullTagEmptyElementFn"in t&&t.fullTagEmptyElementFn(e,r)||t.fullTagEmptyElement?"<"+o+"></"+o+">":"<"+o+"/>";var a=[];if(e){if(a.push("<"+o),typeof r!="object")return a.push(">"+kw(r,t)+"</"+o+">"),a.join("");r[t.attributesKey]&&a.push(tm(r[t.attributesKey],t,n));var l=bk(r,t,!0)||r[t.attributesKey]&&r[t.attributesKey]["xml:space"]==="preserve";if(l||("fullTagEmptyElementFn"in t?l=t.fullTagEmptyElementFn(e,r):l=t.fullTagEmptyElement),l)a.push(">");else return a.push("/>"),a.join("")}return a.push(wk(r,t,n+1,!1)),Vr=r,Ur=e,e&&a.push((i?jo(t,n,!1):"")+"</"+o+">"),a.join("")}function wk(r,e,t,n){var i,o,a,l=[];for(o in r)if(r.hasOwnProperty(o))for(a=uK(r[o])?r[o]:[r[o]],i=0;i<a.length;++i){switch(o){case e.declarationKey:l.push(pk(a[i],e,t));break;case e.instructionKey:l.push((e.indentInstruction?jo(e,t,n):"")+vk(a[i],e,t));break;case e.attributesKey:case e.parentKey:break;case e.textKey:l.push((e.indentText?jo(e,t,n):"")+kw(a[i],e));break;case e.cdataKey:l.push((e.indentCdata?jo(e,t,n):"")+mk(a[i],e));break;case e.doctypeKey:l.push(jo(e,t,n)+yk(a[i],e));break;case e.commentKey:l.push(jo(e,t,n)+gk(a[i],e));break;default:l.push(jo(e,t,n)+hK(a[i],o,e,t,bk(a[i],e)))}n=n&&!l.length}return l.join("")}var Sk=function(r,e){e=cK(e);var t=[];return Vr=r,Ur="_root_",e.compact?t.push(wk(r,e,0,!0)):(r[e.declarationKey]&&t.push(pk(r[e.declarationKey],e,0)),r[e.elementsKey]&&r[e.elementsKey].length&&t.push(_k(r[e.elementsKey],e,0,!t.length))),t.join("")},pK=Sk,vK=function(r,e){r instanceof Buffer&&(r=r.toString());var t=null;if(typeof r=="string")try{t=JSON.parse(r)}catch{throw new Error("The JSON structure is invalid")}else t=r;return pK(t,e)},gK=hk,mK=lK,yK=Sk,_K=vK,bK={xml2js:gK,xml2json:mK,js2xml:yK,json2xml:_K};const wK=async r=>{const e=await r.text();return bK.xml2js(e,{compact:!0})};async function SK(r){var o,a,l,u,c;const t=(await fetch("/prompts/promptTemplate.txt").then(d=>d.text())).replace("{{user_prompt}}",r),i=await(await fetch("https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=AIzaSyDnmHtzdr-R9d9EsuDESC6VlIMYWV67MBM",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:t}]}]})})).json();return((c=(u=(l=(a=(o=i==null?void 0:i.candidates)==null?void 0:o[0])==null?void 0:a.content)==null?void 0:l.parts)==null?void 0:u[0])==null?void 0:c.text)??"⚠️ No se generó contenido. Revisa tu prompt o clave."}function CK({isOpen:r,onClose:e,onGenerate:t}){const[n,i]=Ft.useState(""),o=async()=>{const a=await SK(n);t(a),e()};return r?Jt.jsx("div",{className:"fixed inset-0 bg-black/30 flex justify-center items-center z-50",children:Jt.jsxs("div",{className:"bg-white p-6 rounded shadow max-w-lg w-full",children:[Jt.jsx("h2",{className:"text-lg font-bold mb-4",children:"🧠 Generar interfaz desde prompt"}),Jt.jsx("textarea",{className:"w-full p-3 border rounded mb-4",rows:5,value:n,onChange:a=>i(a.target.value),placeholder:"Ej. Diseña una pantalla con una navbar, una sección de testimonios y un botón de contacto..."}),Jt.jsxs("div",{className:"flex justify-end gap-2",children:[Jt.jsx("button",{onClick:e,className:"px-4 py-2 bg-gray-300 rounded",children:"Cancelar"}),Jt.jsx("button",{onClick:o,className:"px-4 py-2 bg-indigo-600 text-white rounded",children:"Generar"})]})]})}):null}function xK(r){const e=r.match(/<html[\s\S]*?<\/html>/i);if(e)return e[0];const t=r.match(/<div[\s\S]*?>[\s\S]*?<\/div>/i);return t?t[0]:""}function OK(r){const e=r.match(/<style[^>]*>([\s\S]*?)<\/style>/i);if(e)return e[1].trim();const t=r.match(/([a-zA-Z0-9\.\#][^{]+{[^}]+})/g);return t?t.join(`
`):""}function EK(){const[r,e]=Ft.useState(null),t=Vg(),[n,i]=Ft.useState([]),[o,a]=Ft.useState(!1),[l,u]=Ft.useState(!1),c=Ft.useRef(null),[d,h]=Ft.useState(!1);Ft.useEffect(()=>{const C=JSON.parse(localStorage.getItem("user")||"{}");C!=null&&C.email&&(e(C),g(C.email))},[]);const g=async C=>{const O=await G3(C);i(O)},m=async C=>{var $;const O=($=C.target.files)==null?void 0:$[0];if(!O)return;const A=await wK(O),I=WW(A);if(!(r!=null&&r.email)){alert("Debes estar logueado para importar un UML");return}const Q=await Sy({title:I.title,data:I.elements,userEmail:r.email});t(`/canvas/${Q.id}`)},b=async C=>{if(!(r!=null&&r.email)){alert("Debes estar logueado para crear un diseño.");return}const O=await Sy({title:C,userEmail:r.email,data:[]});a(!1),t(`/canvas/${O.id}`)},w=async C=>{try{const O=await o2(C);O&&(u(!1),t(`/canvas/${O.id}`))}catch{alert("❌ No se encontró un proyecto con ese ID.")}},x=async C=>{if(confirm("¿Estás seguro de que deseas eliminar este diseño?"))try{await X3(C),i(O=>O.filter(A=>A.id!==C))}catch(O){alert("❌ Error al eliminar el diseño."),console.error(O)}},_=async C=>{const O=xK(C),A=OK(C);if(!(r!=null&&r.email)){alert("Debes estar logueado para generar un diseño.");return}const I=await Sy({title:"Diseño generado por prompt",userEmail:r.email,data:{html:O,css:A}});localStorage.setItem(`gjs-html-${I.id}`,O),localStorage.setItem(`gjs-css-${I.id}`,A),t(`/canvas/${I.id}`)};return Jt.jsxs(Jt.Fragment,{children:[Jt.jsx(RA,{}),Jt.jsxs("main",{className:"p-8 bg-gray-50 min-h-[calc(100vh-4rem)]",children:[Jt.jsxs("section",{className:"text-center max-w-3xl mx-auto",children:[Jt.jsx("h1",{className:"text-4xl font-extrabold text-gray-800",children:"🎨 Bienvenido al Editor Visual"}),Jt.jsx("p",{className:"mt-2 text-gray-600 text-lg",children:"Crea o únete a un proyecto colaborativo en tiempo real."}),Jt.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4 mt-6",children:[Jt.jsx("button",{onClick:()=>a(!0),className:"px-6 py-3 bg-indigo-600 text-white font-medium rounded-lg shadow hover:bg-indigo-700 transition",children:"➕ Crear proyecto"}),Jt.jsx("button",{onClick:()=>u(!0),className:"px-6 py-3 bg-emerald-600 text-white font-medium rounded-lg shadow hover:bg-emerald-700 transition",children:"🤝 Unirse a un proyecto"}),Jt.jsx("button",{onClick:()=>h(!0),className:"px-6 py-3 bg-pink-600 text-white font-medium rounded-lg shadow hover:bg-pink-700 transition",children:"💡 Diseñar por prompt"}),Jt.jsx(CK,{isOpen:d,onClose:()=>h(!1),onGenerate:_})]})]}),Jt.jsx("input",{type:"file",accept:".xml",ref:c,style:{display:"none"},onChange:m}),r&&Jt.jsxs("section",{className:"mt-12",children:[Jt.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"📂 Tus Proyectos Recientes"}),n.length===0?Jt.jsx("p",{className:"text-gray-500",children:"No tienes proyectos aún."}):Jt.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-5",children:n.map(C=>Jt.jsxs("div",{className:"relative p-4 border border-gray-200 rounded-lg bg-white shadow hover:shadow-lg hover:border-indigo-400 transition cursor-pointer",onClick:()=>t(`/canvas/${C.id}`),children:[Jt.jsx("h3",{className:"font-semibold text-lg text-gray-800",children:C.title}),Jt.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Última edición: ",new Date(C.updatedAt).toLocaleString()]}),Jt.jsx("button",{onClick:O=>{O.stopPropagation(),x(C.id)},className:"absolute top-2 right-2 text-xs px-3 py-1 bg-red-500 text-white rounded-md hover:bg-red-600 transition",children:"🗑️ Eliminar"})]},C.id))})]}),Jt.jsxs("section",{className:"mt-20 max-w-6xl mx-auto text-center px-4",children:[Jt.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-6",children:"💡 ¿Por qué usar nuestro editor?"}),Jt.jsxs("div",{className:"grid gap-8 md:grid-cols-3 text-left",children:[Jt.jsxs("div",{children:[Jt.jsx("h3",{className:"text-xl font-semibold text-indigo-700",children:"Diseño en tiempo real"}),Jt.jsx("p",{className:"mt-2 text-gray-600",children:"Colabora en vivo con tu equipo y visualiza cambios al instante."})]}),Jt.jsxs("div",{children:[Jt.jsx("h3",{className:"text-xl font-semibold text-indigo-700",children:"Importa diagramas UML"}),Jt.jsx("p",{className:"mt-2 text-gray-600",children:"Convierte bocetos o XML UML directamente en interfaces editables."})]}),Jt.jsxs("div",{children:[Jt.jsx("h3",{className:"text-xl font-semibold text-indigo-700",children:"Exporta código Angular"}),Jt.jsx("p",{className:"mt-2 text-gray-600",children:"Transforma tus diseños visuales en componentes listos para producción."})]})]})]}),Jt.jsx("section",{className:"mt-24 bg-white py-12",children:Jt.jsxs("div",{className:"max-w-4xl mx-auto text-center px-4",children:[Jt.jsx("p",{className:"text-4xl font-bold text-gray-800 leading-snug",children:"“Todo lo que necesitas para crear y compartir interfaces está en una sola herramienta.”"}),Jt.jsx("p",{className:"mt-4 text-lg text-gray-500",children:"– Equipo de desarrollo"})]})}),Jt.jsxs("section",{className:"mt-20 max-w-5xl mx-auto px-4",children:[Jt.jsx("h2",{className:"text-3xl font-bold text-gray-800 text-center mb-10",children:"✨ Inspiración Visual"}),Jt.jsxs("div",{className:"grid sm:grid-cols-2 gap-6",children:[Jt.jsx("img",{src:"https://digitalfactoria.com/wp-content/uploads/2023/04/Figma-1-1024x1024.jpg",alt:"Diseño 1",className:"rounded-lg shadow-lg"}),Jt.jsx("img",{src:"https://s3-figma-hubfile-images-production.figma.com/hub/file/carousel/img/1f7ebf0e8dca18b664ce79ff3d6c428d11e8a70a",alt:"Diseño 2",className:"rounded-lg shadow-lg"})]})]}),Jt.jsx(zW,{isOpen:o,onClose:()=>a(!1),onCreate:b}),Jt.jsx(HW,{isOpen:l,onClose:()=>u(!1),onJoin:w})]})]})}function TK(){return Jt.jsx(aj,{children:Jt.jsxs(jN,{children:[Jt.jsx(vp,{path:"/",element:Jt.jsx(EK,{})}),Jt.jsx(vp,{path:"/auth/callback",element:Jt.jsx(FW,{})}),Jt.jsx(vp,{path:"/canvas/:roomId",element:Jt.jsx(BW,{})})]})})}jL.createRoot(document.getElementById("root")).render(Jt.jsx(Ft.StrictMode,{children:Jt.jsx(TK,{})}));
