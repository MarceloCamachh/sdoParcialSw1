(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();var Do=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function nO(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var rO={exports:{}},ug={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lP=Symbol.for("react.transitional.element"),uP=Symbol.for("react.fragment");function iO(r,e,t){var n=null;if(t!==void 0&&(n=""+t),e.key!==void 0&&(n=""+e.key),"key"in e){t={};for(var i in e)i!=="key"&&(t[i]=e[i])}else t=e;return e=t.ref,{$$typeof:lP,type:r,key:n,ref:e!==void 0?e:null,props:t}}ug.Fragment=uP;ug.jsx=iO;ug.jsxs=iO;rO.exports=ug;var Yt=rO.exports,oO={exports:{}},je={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N_=Symbol.for("react.transitional.element"),cP=Symbol.for("react.portal"),fP=Symbol.for("react.fragment"),dP=Symbol.for("react.strict_mode"),hP=Symbol.for("react.profiler"),pP=Symbol.for("react.consumer"),vP=Symbol.for("react.context"),gP=Symbol.for("react.forward_ref"),mP=Symbol.for("react.suspense"),yP=Symbol.for("react.memo"),aO=Symbol.for("react.lazy"),BS=Symbol.iterator;function _P(r){return r===null||typeof r!="object"?null:(r=BS&&r[BS]||r["@@iterator"],typeof r=="function"?r:null)}var sO={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},lO=Object.assign,uO={};function rc(r,e,t){this.props=r,this.context=e,this.refs=uO,this.updater=t||sO}rc.prototype.isReactComponent={};rc.prototype.setState=function(r,e){if(typeof r!="object"&&typeof r!="function"&&r!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,r,e,"setState")};rc.prototype.forceUpdate=function(r){this.updater.enqueueForceUpdate(this,r,"forceUpdate")};function cO(){}cO.prototype=rc.prototype;function j_(r,e,t){this.props=r,this.context=e,this.refs=uO,this.updater=t||sO}var V_=j_.prototype=new cO;V_.constructor=j_;lO(V_,rc.prototype);V_.isPureReactComponent=!0;var US=Array.isArray,xn={H:null,A:null,T:null,S:null,V:null},fO=Object.prototype.hasOwnProperty;function B_(r,e,t,n,i,o){return t=o.ref,{$$typeof:N_,type:r,key:e,ref:t!==void 0?t:null,props:o}}function bP(r,e){return B_(r.type,e,void 0,void 0,void 0,r.props)}function U_(r){return typeof r=="object"&&r!==null&&r.$$typeof===N_}function wP(r){var e={"=":"=0",":":"=2"};return"$"+r.replace(/[=:]/g,function(t){return e[t]})}var IS=/\/+/g;function Om(r,e){return typeof r=="object"&&r!==null&&r.key!=null?wP(""+r.key):e.toString(36)}function zS(){}function SP(r){switch(r.status){case"fulfilled":return r.value;case"rejected":throw r.reason;default:switch(typeof r.status=="string"?r.then(zS,zS):(r.status="pending",r.then(function(e){r.status==="pending"&&(r.status="fulfilled",r.value=e)},function(e){r.status==="pending"&&(r.status="rejected",r.reason=e)})),r.status){case"fulfilled":return r.value;case"rejected":throw r.reason}}throw r}function $l(r,e,t,n,i){var o=typeof r;(o==="undefined"||o==="boolean")&&(r=null);var a=!1;if(r===null)a=!0;else switch(o){case"bigint":case"string":case"number":a=!0;break;case"object":switch(r.$$typeof){case N_:case cP:a=!0;break;case aO:return a=r._init,$l(a(r._payload),e,t,n,i)}}if(a)return i=i(r),a=n===""?"."+Om(r,0):n,US(i)?(t="",a!=null&&(t=a.replace(IS,"$&/")+"/"),$l(i,e,t,"",function(c){return c})):i!=null&&(U_(i)&&(i=bP(i,t+(i.key==null||r&&r.key===i.key?"":(""+i.key).replace(IS,"$&/")+"/")+a)),e.push(i)),1;a=0;var l=n===""?".":n+":";if(US(r))for(var u=0;u<r.length;u++)n=r[u],o=l+Om(n,u),a+=$l(n,e,t,o,i);else if(u=_P(r),typeof u=="function")for(r=u.call(r),u=0;!(n=r.next()).done;)n=n.value,o=l+Om(n,u++),a+=$l(n,e,t,o,i);else if(o==="object"){if(typeof r.then=="function")return $l(SP(r),e,t,n,i);throw e=String(r),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return a}function mh(r,e,t){if(r==null)return r;var n=[],i=0;return $l(r,n,"","",function(o){return e.call(t,o,i++)}),n}function CP(r){if(r._status===-1){var e=r._result;e=e(),e.then(function(t){(r._status===0||r._status===-1)&&(r._status=1,r._result=t)},function(t){(r._status===0||r._status===-1)&&(r._status=2,r._result=t)}),r._status===-1&&(r._status=0,r._result=e)}if(r._status===1)return r._result.default;throw r._result}var HS=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function xP(){}je.Children={map:mh,forEach:function(r,e,t){mh(r,function(){e.apply(this,arguments)},t)},count:function(r){var e=0;return mh(r,function(){e++}),e},toArray:function(r){return mh(r,function(e){return e})||[]},only:function(r){if(!U_(r))throw Error("React.Children.only expected to receive a single React element child.");return r}};je.Component=rc;je.Fragment=fP;je.Profiler=hP;je.PureComponent=j_;je.StrictMode=dP;je.Suspense=mP;je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=xn;je.__COMPILER_RUNTIME={__proto__:null,c:function(r){return xn.H.useMemoCache(r)}};je.cache=function(r){return function(){return r.apply(null,arguments)}};je.cloneElement=function(r,e,t){if(r==null)throw Error("The argument must be a React element, but you passed "+r+".");var n=lO({},r.props),i=r.key,o=void 0;if(e!=null)for(a in e.ref!==void 0&&(o=void 0),e.key!==void 0&&(i=""+e.key),e)!fO.call(e,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&e.ref===void 0||(n[a]=e[a]);var a=arguments.length-2;if(a===1)n.children=t;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];n.children=l}return B_(r.type,i,void 0,void 0,o,n)};je.createContext=function(r){return r={$$typeof:vP,_currentValue:r,_currentValue2:r,_threadCount:0,Provider:null,Consumer:null},r.Provider=r,r.Consumer={$$typeof:pP,_context:r},r};je.createElement=function(r,e,t){var n,i={},o=null;if(e!=null)for(n in e.key!==void 0&&(o=""+e.key),e)fO.call(e,n)&&n!=="key"&&n!=="__self"&&n!=="__source"&&(i[n]=e[n]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(r&&r.defaultProps)for(n in a=r.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return B_(r,o,void 0,void 0,null,i)};je.createRef=function(){return{current:null}};je.forwardRef=function(r){return{$$typeof:gP,render:r}};je.isValidElement=U_;je.lazy=function(r){return{$$typeof:aO,_payload:{_status:-1,_result:r},_init:CP}};je.memo=function(r,e){return{$$typeof:yP,type:r,compare:e===void 0?null:e}};je.startTransition=function(r){var e=xn.T,t={};xn.T=t;try{var n=r(),i=xn.S;i!==null&&i(t,n),typeof n=="object"&&n!==null&&typeof n.then=="function"&&n.then(xP,HS)}catch(o){HS(o)}finally{xn.T=e}};je.unstable_useCacheRefresh=function(){return xn.H.useCacheRefresh()};je.use=function(r){return xn.H.use(r)};je.useActionState=function(r,e,t){return xn.H.useActionState(r,e,t)};je.useCallback=function(r,e){return xn.H.useCallback(r,e)};je.useContext=function(r){return xn.H.useContext(r)};je.useDebugValue=function(){};je.useDeferredValue=function(r,e){return xn.H.useDeferredValue(r,e)};je.useEffect=function(r,e,t){var n=xn.H;if(typeof t=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return n.useEffect(r,e)};je.useId=function(){return xn.H.useId()};je.useImperativeHandle=function(r,e,t){return xn.H.useImperativeHandle(r,e,t)};je.useInsertionEffect=function(r,e){return xn.H.useInsertionEffect(r,e)};je.useLayoutEffect=function(r,e){return xn.H.useLayoutEffect(r,e)};je.useMemo=function(r,e){return xn.H.useMemo(r,e)};je.useOptimistic=function(r,e){return xn.H.useOptimistic(r,e)};je.useReducer=function(r,e,t){return xn.H.useReducer(r,e,t)};je.useRef=function(r){return xn.H.useRef(r)};je.useState=function(r){return xn.H.useState(r)};je.useSyncExternalStore=function(r,e,t){return xn.H.useSyncExternalStore(r,e,t)};je.useTransition=function(){return xn.H.useTransition()};je.version="19.1.0";oO.exports=je;var Nt=oO.exports,dO={exports:{}},cg={},hO={exports:{}},pO={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(r){function e(M,ot){var dt=M.length;M.push(ot);t:for(;0<dt;){var pt=dt-1>>>1,Dt=M[pt];if(0<i(Dt,ot))M[pt]=ot,M[dt]=Dt,dt=pt;else break t}}function t(M){return M.length===0?null:M[0]}function n(M){if(M.length===0)return null;var ot=M[0],dt=M.pop();if(dt!==ot){M[0]=dt;t:for(var pt=0,Dt=M.length,_t=Dt>>>1;pt<_t;){var rt=2*(pt+1)-1,At=M[rt],mt=rt+1,Tt=M[mt];if(0>i(At,dt))mt<Dt&&0>i(Tt,At)?(M[pt]=Tt,M[mt]=dt,pt=mt):(M[pt]=At,M[rt]=dt,pt=rt);else if(mt<Dt&&0>i(Tt,dt))M[pt]=Tt,M[mt]=dt,pt=mt;else break t}}return ot}function i(M,ot){var dt=M.sortIndex-ot.sortIndex;return dt!==0?dt:M.id-ot.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;r.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();r.unstable_now=function(){return a.now()-l}}var u=[],c=[],d=1,h=null,g=3,m=!1,_=!1,b=!1,C=!1,w=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function k(M){for(var ot=t(c);ot!==null;){if(ot.callback===null)n(c);else if(ot.startTime<=M)n(c),ot.sortIndex=ot.expirationTime,e(u,ot);else break;ot=t(c)}}function V(M){if(b=!1,k(M),!_)if(t(u)!==null)_=!0,Z||(Z=!0,D());else{var ot=t(c);ot!==null&&tt(V,ot.startTime-M)}}var Z=!1,$=-1,Y=5,U=-1;function Q(){return C?!0:!(r.unstable_now()-U<Y)}function H(){if(C=!1,Z){var M=r.unstable_now();U=M;var ot=!0;try{t:{_=!1,b&&(b=!1,x($),$=-1),m=!0;var dt=g;try{e:{for(k(M),h=t(u);h!==null&&!(h.expirationTime>M&&Q());){var pt=h.callback;if(typeof pt=="function"){h.callback=null,g=h.priorityLevel;var Dt=pt(h.expirationTime<=M);if(M=r.unstable_now(),typeof Dt=="function"){h.callback=Dt,k(M),ot=!0;break e}h===t(u)&&n(u),k(M)}else n(u);h=t(u)}if(h!==null)ot=!0;else{var _t=t(c);_t!==null&&tt(V,_t.startTime-M),ot=!1}}break t}finally{h=null,g=dt,m=!1}ot=void 0}}finally{ot?D():Z=!1}}}var D;if(typeof O=="function")D=function(){O(H)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,T=I.port2;I.port1.onmessage=H,D=function(){T.postMessage(null)}}else D=function(){w(H,0)};function tt(M,ot){$=w(function(){M(r.unstable_now())},ot)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(M){M.callback=null},r.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<M?Math.floor(1e3/M):5},r.unstable_getCurrentPriorityLevel=function(){return g},r.unstable_next=function(M){switch(g){case 1:case 2:case 3:var ot=3;break;default:ot=g}var dt=g;g=ot;try{return M()}finally{g=dt}},r.unstable_requestPaint=function(){C=!0},r.unstable_runWithPriority=function(M,ot){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var dt=g;g=M;try{return ot()}finally{g=dt}},r.unstable_scheduleCallback=function(M,ot,dt){var pt=r.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?pt+dt:pt):dt=pt,M){case 1:var Dt=-1;break;case 2:Dt=250;break;case 5:Dt=1073741823;break;case 4:Dt=1e4;break;default:Dt=5e3}return Dt=dt+Dt,M={id:d++,callback:ot,priorityLevel:M,startTime:dt,expirationTime:Dt,sortIndex:-1},dt>pt?(M.sortIndex=dt,e(c,M),t(u)===null&&M===t(c)&&(b?(x($),$=-1):b=!0,tt(V,dt-pt))):(M.sortIndex=Dt,e(u,M),_||m||(_=!0,Z||(Z=!0,D()))),M},r.unstable_shouldYield=Q,r.unstable_wrapCallback=function(M){var ot=g;return function(){var dt=g;g=ot;try{return M.apply(this,arguments)}finally{g=dt}}}})(pO);hO.exports=pO;var OP=hO.exports,vO={exports:{}},Zr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EP=Nt;function gO(r){var e="https://react.dev/errors/"+r;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var t=2;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t])}return"Minified React error #"+r+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Ya(){}var Yr={d:{f:Ya,r:function(){throw Error(gO(522))},D:Ya,C:Ya,L:Ya,m:Ya,X:Ya,S:Ya,M:Ya},p:0,findDOMNode:null},TP=Symbol.for("react.portal");function AP(r,e,t){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:TP,key:n==null?null:""+n,children:r,containerInfo:e,implementation:t}}var _f=EP.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function fg(r,e){if(r==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}Zr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Yr;Zr.createPortal=function(r,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(gO(299));return AP(r,e,null,t)};Zr.flushSync=function(r){var e=_f.T,t=Yr.p;try{if(_f.T=null,Yr.p=2,r)return r()}finally{_f.T=e,Yr.p=t,Yr.d.f()}};Zr.preconnect=function(r,e){typeof r=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,Yr.d.C(r,e))};Zr.prefetchDNS=function(r){typeof r=="string"&&Yr.d.D(r)};Zr.preinit=function(r,e){if(typeof r=="string"&&e&&typeof e.as=="string"){var t=e.as,n=fg(t,e.crossOrigin),i=typeof e.integrity=="string"?e.integrity:void 0,o=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;t==="style"?Yr.d.S(r,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:n,integrity:i,fetchPriority:o}):t==="script"&&Yr.d.X(r,{crossOrigin:n,integrity:i,fetchPriority:o,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};Zr.preinitModule=function(r,e){if(typeof r=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var t=fg(e.as,e.crossOrigin);Yr.d.M(r,{crossOrigin:t,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&Yr.d.M(r)};Zr.preload=function(r,e){if(typeof r=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var t=e.as,n=fg(t,e.crossOrigin);Yr.d.L(r,t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};Zr.preloadModule=function(r,e){if(typeof r=="string")if(e){var t=fg(e.as,e.crossOrigin);Yr.d.m(r,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:t,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else Yr.d.m(r)};Zr.requestFormReset=function(r){Yr.d.r(r)};Zr.unstable_batchedUpdates=function(r,e){return r(e)};Zr.useFormState=function(r,e,t){return _f.H.useFormState(r,e,t)};Zr.useFormStatus=function(){return _f.H.useHostTransitionStatus()};Zr.version="19.1.0";function mO(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(mO)}catch(r){console.error(r)}}mO(),vO.exports=Zr;var kP=vO.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lr=OP,yO=Nt,DP=kP;function Kt(r){var e="https://react.dev/errors/"+r;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var t=2;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t])}return"Minified React error #"+r+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function _O(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function dd(r){var e=r,t=r;if(r.alternate)for(;e.return;)e=e.return;else{r=e;do e=r,e.flags&4098&&(t=e.return),r=e.return;while(r)}return e.tag===3?t:null}function bO(r){if(r.tag===13){var e=r.memoizedState;if(e===null&&(r=r.alternate,r!==null&&(e=r.memoizedState)),e!==null)return e.dehydrated}return null}function FS(r){if(dd(r)!==r)throw Error(Kt(188))}function PP(r){var e=r.alternate;if(!e){if(e=dd(r),e===null)throw Error(Kt(188));return e!==r?null:r}for(var t=r,n=e;;){var i=t.return;if(i===null)break;var o=i.alternate;if(o===null){if(n=i.return,n!==null){t=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===t)return FS(i),r;if(o===n)return FS(i),e;o=o.sibling}throw Error(Kt(188))}if(t.return!==n.return)t=i,n=o;else{for(var a=!1,l=i.child;l;){if(l===t){a=!0,t=i,n=o;break}if(l===n){a=!0,n=i,t=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===t){a=!0,t=o,n=i;break}if(l===n){a=!0,n=o,t=i;break}l=l.sibling}if(!a)throw Error(Kt(189))}}if(t.alternate!==n)throw Error(Kt(190))}if(t.tag!==3)throw Error(Kt(188));return t.stateNode.current===t?r:e}function wO(r){var e=r.tag;if(e===5||e===26||e===27||e===6)return r;for(r=r.child;r!==null;){if(e=wO(r),e!==null)return e;r=r.sibling}return null}var bn=Object.assign,MP=Symbol.for("react.element"),yh=Symbol.for("react.transitional.element"),cf=Symbol.for("react.portal"),ru=Symbol.for("react.fragment"),SO=Symbol.for("react.strict_mode"),Yy=Symbol.for("react.profiler"),RP=Symbol.for("react.provider"),CO=Symbol.for("react.consumer"),ua=Symbol.for("react.context"),I_=Symbol.for("react.forward_ref"),Xy=Symbol.for("react.suspense"),Zy=Symbol.for("react.suspense_list"),z_=Symbol.for("react.memo"),$a=Symbol.for("react.lazy"),$y=Symbol.for("react.activity"),LP=Symbol.for("react.memo_cache_sentinel"),WS=Symbol.iterator;function Yc(r){return r===null||typeof r!="object"?null:(r=WS&&r[WS]||r["@@iterator"],typeof r=="function"?r:null)}var NP=Symbol.for("react.client.reference");function Jy(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===NP?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case ru:return"Fragment";case Yy:return"Profiler";case SO:return"StrictMode";case Xy:return"Suspense";case Zy:return"SuspenseList";case $y:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case cf:return"Portal";case ua:return(r.displayName||"Context")+".Provider";case CO:return(r._context.displayName||"Context")+".Consumer";case I_:var e=r.render;return r=r.displayName,r||(r=e.displayName||e.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case z_:return e=r.displayName||null,e!==null?e:Jy(r.type)||"Memo";case $a:e=r._payload,r=r._init;try{return Jy(r(e))}catch{}}return null}var ff=Array.isArray,Te=yO.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$e=DP.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,el={pending:!1,data:null,method:null,action:null},Qy=[],iu=-1;function Uo(r){return{current:r}}function vr(r){0>iu||(r.current=Qy[iu],Qy[iu]=null,iu--)}function On(r,e){iu++,Qy[iu]=r.current,r.current=e}var Ro=Uo(null),qf=Uo(null),fs=Uo(null),wp=Uo(null);function Sp(r,e){switch(On(fs,e),On(qf,r),On(Ro,null),e.nodeType){case 9:case 11:r=(r=e.documentElement)&&(r=r.namespaceURI)?XC(r):0;break;default:if(r=e.tagName,e=e.namespaceURI)e=XC(e),r=IT(e,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}vr(Ro),On(Ro,r)}function Wu(){vr(Ro),vr(qf),vr(fs)}function t0(r){r.memoizedState!==null&&On(wp,r);var e=Ro.current,t=IT(e,r.type);e!==t&&(On(qf,r),On(Ro,t))}function Cp(r){qf.current===r&&(vr(Ro),vr(qf)),wp.current===r&&(vr(wp),ed._currentValue=el)}var e0=Object.prototype.hasOwnProperty,H_=lr.unstable_scheduleCallback,Em=lr.unstable_cancelCallback,jP=lr.unstable_shouldYield,VP=lr.unstable_requestPaint,Lo=lr.unstable_now,BP=lr.unstable_getCurrentPriorityLevel,xO=lr.unstable_ImmediatePriority,OO=lr.unstable_UserBlockingPriority,xp=lr.unstable_NormalPriority,UP=lr.unstable_LowPriority,EO=lr.unstable_IdlePriority,IP=lr.log,zP=lr.unstable_setDisableYieldValue,hd=null,Bi=null;function as(r){if(typeof IP=="function"&&zP(r),Bi&&typeof Bi.setStrictMode=="function")try{Bi.setStrictMode(hd,r)}catch{}}var Ui=Math.clz32?Math.clz32:WP,HP=Math.log,FP=Math.LN2;function WP(r){return r>>>=0,r===0?32:31-(HP(r)/FP|0)|0}var _h=256,bh=4194304;function Ws(r){var e=r&42;if(e!==0)return e;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function dg(r,e,t){var n=r.pendingLanes;if(n===0)return 0;var i=0,o=r.suspendedLanes,a=r.pingedLanes;r=r.warmLanes;var l=n&134217727;return l!==0?(n=l&~o,n!==0?i=Ws(n):(a&=l,a!==0?i=Ws(a):t||(t=l&~r,t!==0&&(i=Ws(t))))):(l=n&~o,l!==0?i=Ws(l):a!==0?i=Ws(a):t||(t=n&~r,t!==0&&(i=Ws(t)))),i===0?0:e!==0&&e!==i&&!(e&o)&&(o=i&-i,t=e&-e,o>=t||o===32&&(t&4194048)!==0)?e:i}function pd(r,e){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&e)===0}function qP(r,e){switch(r){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function TO(){var r=_h;return _h<<=1,!(_h&4194048)&&(_h=256),r}function AO(){var r=bh;return bh<<=1,!(bh&62914560)&&(bh=4194304),r}function Tm(r){for(var e=[],t=0;31>t;t++)e.push(r);return e}function vd(r,e){r.pendingLanes|=e,e!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function KP(r,e,t,n,i,o){var a=r.pendingLanes;r.pendingLanes=t,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=t,r.entangledLanes&=t,r.errorRecoveryDisabledLanes&=t,r.shellSuspendCounter=0;var l=r.entanglements,u=r.expirationTimes,c=r.hiddenUpdates;for(t=a&~t;0<t;){var d=31-Ui(t),h=1<<d;l[d]=0,u[d]=-1;var g=c[d];if(g!==null)for(c[d]=null,d=0;d<g.length;d++){var m=g[d];m!==null&&(m.lane&=-536870913)}t&=~h}n!==0&&kO(r,n,0),o!==0&&i===0&&r.tag!==0&&(r.suspendedLanes|=o&~(a&~e))}function kO(r,e,t){r.pendingLanes|=e,r.suspendedLanes&=~e;var n=31-Ui(e);r.entangledLanes|=e,r.entanglements[n]=r.entanglements[n]|1073741824|t&4194090}function DO(r,e){var t=r.entangledLanes|=e;for(r=r.entanglements;t;){var n=31-Ui(t),i=1<<n;i&e|r[n]&e&&(r[n]|=e),t&=~i}}function F_(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function W_(r){return r&=-r,2<r?8<r?r&134217727?32:268435456:8:2}function PO(){var r=$e.p;return r!==0?r:(r=window.event,r===void 0?32:ZT(r.type))}function GP(r,e){var t=$e.p;try{return $e.p=r,e()}finally{$e.p=t}}var Es=Math.random().toString(36).slice(2),Mr="__reactFiber$"+Es,mi="__reactProps$"+Es,ic="__reactContainer$"+Es,n0="__reactEvents$"+Es,YP="__reactListeners$"+Es,XP="__reactHandles$"+Es,qS="__reactResources$"+Es,gd="__reactMarker$"+Es;function q_(r){delete r[Mr],delete r[mi],delete r[n0],delete r[YP],delete r[XP]}function ou(r){var e=r[Mr];if(e)return e;for(var t=r.parentNode;t;){if(e=t[ic]||t[Mr]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(r=JC(r);r!==null;){if(t=r[Mr])return t;r=JC(r)}return e}r=t,t=r.parentNode}return null}function oc(r){if(r=r[Mr]||r[ic]){var e=r.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return r}return null}function df(r){var e=r.tag;if(e===5||e===26||e===27||e===6)return r.stateNode;throw Error(Kt(33))}function Ru(r){var e=r[qS];return e||(e=r[qS]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function hr(r){r[gd]=!0}var MO=new Set,RO={};function _l(r,e){qu(r,e),qu(r+"Capture",e)}function qu(r,e){for(RO[r]=e,r=0;r<e.length;r++)MO.add(e[r])}var ZP=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),KS={},GS={};function $P(r){return e0.call(GS,r)?!0:e0.call(KS,r)?!1:ZP.test(r)?GS[r]=!0:(KS[r]=!0,!1)}function Kh(r,e,t){if($P(e))if(t===null)r.removeAttribute(e);else{switch(typeof t){case"undefined":case"function":case"symbol":r.removeAttribute(e);return;case"boolean":var n=e.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){r.removeAttribute(e);return}}r.setAttribute(e,""+t)}}function wh(r,e,t){if(t===null)r.removeAttribute(e);else{switch(typeof t){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(e);return}r.setAttribute(e,""+t)}}function ea(r,e,t,n){if(n===null)r.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(t);return}r.setAttributeNS(e,t,""+n)}}var Am,YS;function Jl(r){if(Am===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);Am=e&&e[1]||"",YS=-1<t.stack.indexOf(`
    at`)?" (<anonymous>)":-1<t.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Am+r+YS}var km=!1;function Dm(r,e){if(!r||km)return"";km=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(e){var h=function(){throw Error()};if(Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(m){var g=m}Reflect.construct(r,[],h)}else{try{h.call()}catch(m){g=m}r.call(h.prototype)}}else{try{throw Error()}catch(m){g=m}(h=r())&&typeof h.catch=="function"&&h.catch(function(){})}}catch(m){if(m&&g&&typeof m.stack=="string")return[m.stack,g.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=n.DetermineComponentFrameRoot(),a=o[0],l=o[1];if(a&&l){var u=a.split(`
`),c=l.split(`
`);for(i=n=0;n<u.length&&!u[n].includes("DetermineComponentFrameRoot");)n++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(n===u.length||i===c.length)for(n=u.length-1,i=c.length-1;1<=n&&0<=i&&u[n]!==c[i];)i--;for(;1<=n&&0<=i;n--,i--)if(u[n]!==c[i]){if(n!==1||i!==1)do if(n--,i--,0>i||u[n]!==c[i]){var d=`
`+u[n].replace(" at new "," at ");return r.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",r.displayName)),d}while(1<=n&&0<=i);break}}}finally{km=!1,Error.prepareStackTrace=t}return(t=r?r.displayName||r.name:"")?Jl(t):""}function JP(r){switch(r.tag){case 26:case 27:case 5:return Jl(r.type);case 16:return Jl("Lazy");case 13:return Jl("Suspense");case 19:return Jl("SuspenseList");case 0:case 15:return Dm(r.type,!1);case 11:return Dm(r.type.render,!1);case 1:return Dm(r.type,!0);case 31:return Jl("Activity");default:return""}}function XS(r){try{var e="";do e+=JP(r),r=r.return;while(r);return e}catch(t){return`
Error generating stack: `+t.message+`
`+t.stack}}function Xi(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function LO(r){var e=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function QP(r){var e=LO(r)?"checked":"value",t=Object.getOwnPropertyDescriptor(r.constructor.prototype,e),n=""+r[e];if(!r.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,o=t.set;return Object.defineProperty(r,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,o.call(this,a)}}),Object.defineProperty(r,e,{enumerable:t.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){r._valueTracker=null,delete r[e]}}}}function Op(r){r._valueTracker||(r._valueTracker=QP(r))}function NO(r){if(!r)return!1;var e=r._valueTracker;if(!e)return!0;var t=e.getValue(),n="";return r&&(n=LO(r)?r.checked?"true":"false":r.value),r=n,r!==t?(e.setValue(r),!0):!1}function Ep(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var tM=/[\n"\\]/g;function Qi(r){return r.replace(tM,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function r0(r,e,t,n,i,o,a,l){r.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?r.type=a:r.removeAttribute("type"),e!=null?a==="number"?(e===0&&r.value===""||r.value!=e)&&(r.value=""+Xi(e)):r.value!==""+Xi(e)&&(r.value=""+Xi(e)):a!=="submit"&&a!=="reset"||r.removeAttribute("value"),e!=null?i0(r,a,Xi(e)):t!=null?i0(r,a,Xi(t)):n!=null&&r.removeAttribute("value"),i==null&&o!=null&&(r.defaultChecked=!!o),i!=null&&(r.checked=i&&typeof i!="function"&&typeof i!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?r.name=""+Xi(l):r.removeAttribute("name")}function jO(r,e,t,n,i,o,a,l){if(o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(r.type=o),e!=null||t!=null){if(!(o!=="submit"&&o!=="reset"||e!=null))return;t=t!=null?""+Xi(t):"",e=e!=null?""+Xi(e):t,l||e===r.value||(r.value=e),r.defaultValue=e}n=n??i,n=typeof n!="function"&&typeof n!="symbol"&&!!n,r.checked=l?r.checked:!!n,r.defaultChecked=!!n,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(r.name=a)}function i0(r,e,t){e==="number"&&Ep(r.ownerDocument)===r||r.defaultValue===""+t||(r.defaultValue=""+t)}function Lu(r,e,t,n){if(r=r.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<r.length;t++)i=e.hasOwnProperty("$"+r[t].value),r[t].selected!==i&&(r[t].selected=i),i&&n&&(r[t].defaultSelected=!0)}else{for(t=""+Xi(t),e=null,i=0;i<r.length;i++){if(r[i].value===t){r[i].selected=!0,n&&(r[i].defaultSelected=!0);return}e!==null||r[i].disabled||(e=r[i])}e!==null&&(e.selected=!0)}}function VO(r,e,t){if(e!=null&&(e=""+Xi(e),e!==r.value&&(r.value=e),t==null)){r.defaultValue!==e&&(r.defaultValue=e);return}r.defaultValue=t!=null?""+Xi(t):""}function BO(r,e,t,n){if(e==null){if(n!=null){if(t!=null)throw Error(Kt(92));if(ff(n)){if(1<n.length)throw Error(Kt(93));n=n[0]}t=n}t==null&&(t=""),e=t}t=Xi(e),r.defaultValue=t,n=r.textContent,n===t&&n!==""&&n!==null&&(r.value=n)}function Ku(r,e){if(e){var t=r.firstChild;if(t&&t===r.lastChild&&t.nodeType===3){t.nodeValue=e;return}}r.textContent=e}var eM=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ZS(r,e,t){var n=e.indexOf("--")===0;t==null||typeof t=="boolean"||t===""?n?r.setProperty(e,""):e==="float"?r.cssFloat="":r[e]="":n?r.setProperty(e,t):typeof t!="number"||t===0||eM.has(e)?e==="float"?r.cssFloat=t:r[e]=(""+t).trim():r[e]=t+"px"}function UO(r,e,t){if(e!=null&&typeof e!="object")throw Error(Kt(62));if(r=r.style,t!=null){for(var n in t)!t.hasOwnProperty(n)||e!=null&&e.hasOwnProperty(n)||(n.indexOf("--")===0?r.setProperty(n,""):n==="float"?r.cssFloat="":r[n]="");for(var i in e)n=e[i],e.hasOwnProperty(i)&&t[i]!==n&&ZS(r,i,n)}else for(var o in e)e.hasOwnProperty(o)&&ZS(r,o,e[o])}function K_(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nM=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),rM=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Gh(r){return rM.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var o0=null;function G_(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var au=null,Nu=null;function $S(r){var e=oc(r);if(e&&(r=e.stateNode)){var t=r[mi]||null;t:switch(r=e.stateNode,e.type){case"input":if(r0(r,t.value,t.defaultValue,t.defaultValue,t.checked,t.defaultChecked,t.type,t.name),e=t.name,t.type==="radio"&&e!=null){for(t=r;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll('input[name="'+Qi(""+e)+'"][type="radio"]'),e=0;e<t.length;e++){var n=t[e];if(n!==r&&n.form===r.form){var i=n[mi]||null;if(!i)throw Error(Kt(90));r0(n,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(e=0;e<t.length;e++)n=t[e],n.form===r.form&&NO(n)}break t;case"textarea":VO(r,t.value,t.defaultValue);break t;case"select":e=t.value,e!=null&&Lu(r,!!t.multiple,e,!1)}}}var Pm=!1;function IO(r,e,t){if(Pm)return r(e,t);Pm=!0;try{var n=r(e);return n}finally{if(Pm=!1,(au!==null||Nu!==null)&&(Sg(),au&&(e=au,r=Nu,Nu=au=null,$S(e),r)))for(e=0;e<r.length;e++)$S(r[e])}}function Kf(r,e){var t=r.stateNode;if(t===null)return null;var n=t[mi]||null;if(n===null)return null;t=n[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(r=r.type,n=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!n;break t;default:r=!1}if(r)return null;if(t&&typeof t!="function")throw Error(Kt(231,e,typeof t));return t}var _a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),a0=!1;if(_a)try{var Xc={};Object.defineProperty(Xc,"passive",{get:function(){a0=!0}}),window.addEventListener("test",Xc,Xc),window.removeEventListener("test",Xc,Xc)}catch{a0=!1}var ss=null,Y_=null,Yh=null;function zO(){if(Yh)return Yh;var r,e=Y_,t=e.length,n,i="value"in ss?ss.value:ss.textContent,o=i.length;for(r=0;r<t&&e[r]===i[r];r++);var a=t-r;for(n=1;n<=a&&e[t-n]===i[o-n];n++);return Yh=i.slice(r,1<n?1-n:void 0)}function Xh(r){var e=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&e===13&&(r=13)):r=e,r===10&&(r=13),32<=r||r===13?r:0}function Sh(){return!0}function JS(){return!1}function yi(r){function e(t,n,i,o,a){this._reactName=t,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var l in r)r.hasOwnProperty(l)&&(t=r[l],this[l]=t?t(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Sh:JS,this.isPropagationStopped=JS,this}return bn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Sh)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Sh)},persist:function(){},isPersistent:Sh}),e}var bl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hg=yi(bl),md=bn({},bl,{view:0,detail:0}),iM=yi(md),Mm,Rm,Zc,pg=bn({},md,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:X_,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Zc&&(Zc&&r.type==="mousemove"?(Mm=r.screenX-Zc.screenX,Rm=r.screenY-Zc.screenY):Rm=Mm=0,Zc=r),Mm)},movementY:function(r){return"movementY"in r?r.movementY:Rm}}),QS=yi(pg),oM=bn({},pg,{dataTransfer:0}),aM=yi(oM),sM=bn({},md,{relatedTarget:0}),Lm=yi(sM),lM=bn({},bl,{animationName:0,elapsedTime:0,pseudoElement:0}),uM=yi(lM),cM=bn({},bl,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),fM=yi(cM),dM=bn({},bl,{data:0}),tC=yi(dM),hM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gM(r){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(r):(r=vM[r])?!!e[r]:!1}function X_(){return gM}var mM=bn({},md,{key:function(r){if(r.key){var e=hM[r.key]||r.key;if(e!=="Unidentified")return e}return r.type==="keypress"?(r=Xh(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?pM[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:X_,charCode:function(r){return r.type==="keypress"?Xh(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Xh(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),yM=yi(mM),_M=bn({},pg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),eC=yi(_M),bM=bn({},md,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:X_}),wM=yi(bM),SM=bn({},bl,{propertyName:0,elapsedTime:0,pseudoElement:0}),CM=yi(SM),xM=bn({},pg,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),OM=yi(xM),EM=bn({},bl,{newState:0,oldState:0}),TM=yi(EM),AM=[9,13,27,32],Z_=_a&&"CompositionEvent"in window,bf=null;_a&&"documentMode"in document&&(bf=document.documentMode);var kM=_a&&"TextEvent"in window&&!bf,HO=_a&&(!Z_||bf&&8<bf&&11>=bf),nC=" ",rC=!1;function FO(r,e){switch(r){case"keyup":return AM.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function WO(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var su=!1;function DM(r,e){switch(r){case"compositionend":return WO(e);case"keypress":return e.which!==32?null:(rC=!0,nC);case"textInput":return r=e.data,r===nC&&rC?null:r;default:return null}}function PM(r,e){if(su)return r==="compositionend"||!Z_&&FO(r,e)?(r=zO(),Yh=Y_=ss=null,su=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return HO&&e.locale!=="ko"?null:e.data;default:return null}}var MM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function iC(r){var e=r&&r.nodeName&&r.nodeName.toLowerCase();return e==="input"?!!MM[r.type]:e==="textarea"}function qO(r,e,t,n){au?Nu?Nu.push(n):Nu=[n]:au=n,e=Wp(e,"onChange"),0<e.length&&(t=new hg("onChange","change",null,t,n),r.push({event:t,listeners:e}))}var wf=null,Gf=null;function RM(r){VT(r,0)}function vg(r){var e=df(r);if(NO(e))return r}function oC(r,e){if(r==="change")return e}var KO=!1;if(_a){var Nm;if(_a){var jm="oninput"in document;if(!jm){var aC=document.createElement("div");aC.setAttribute("oninput","return;"),jm=typeof aC.oninput=="function"}Nm=jm}else Nm=!1;KO=Nm&&(!document.documentMode||9<document.documentMode)}function sC(){wf&&(wf.detachEvent("onpropertychange",GO),Gf=wf=null)}function GO(r){if(r.propertyName==="value"&&vg(Gf)){var e=[];qO(e,Gf,r,G_(r)),IO(RM,e)}}function LM(r,e,t){r==="focusin"?(sC(),wf=e,Gf=t,wf.attachEvent("onpropertychange",GO)):r==="focusout"&&sC()}function NM(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return vg(Gf)}function jM(r,e){if(r==="click")return vg(e)}function VM(r,e){if(r==="input"||r==="change")return vg(e)}function BM(r,e){return r===e&&(r!==0||1/r===1/e)||r!==r&&e!==e}var Hi=typeof Object.is=="function"?Object.is:BM;function Yf(r,e){if(Hi(r,e))return!0;if(typeof r!="object"||r===null||typeof e!="object"||e===null)return!1;var t=Object.keys(r),n=Object.keys(e);if(t.length!==n.length)return!1;for(n=0;n<t.length;n++){var i=t[n];if(!e0.call(e,i)||!Hi(r[i],e[i]))return!1}return!0}function lC(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function uC(r,e){var t=lC(r);r=0;for(var n;t;){if(t.nodeType===3){if(n=r+t.textContent.length,r<=e&&n>=e)return{node:t,offset:e-r};r=n}t:{for(;t;){if(t.nextSibling){t=t.nextSibling;break t}t=t.parentNode}t=void 0}t=lC(t)}}function YO(r,e){return r&&e?r===e?!0:r&&r.nodeType===3?!1:e&&e.nodeType===3?YO(r,e.parentNode):"contains"in r?r.contains(e):r.compareDocumentPosition?!!(r.compareDocumentPosition(e)&16):!1:!1}function XO(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var e=Ep(r.document);e instanceof r.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)r=e.contentWindow;else break;e=Ep(r.document)}return e}function $_(r){var e=r&&r.nodeName&&r.nodeName.toLowerCase();return e&&(e==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||e==="textarea"||r.contentEditable==="true")}var UM=_a&&"documentMode"in document&&11>=document.documentMode,lu=null,s0=null,Sf=null,l0=!1;function cC(r,e,t){var n=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;l0||lu==null||lu!==Ep(n)||(n=lu,"selectionStart"in n&&$_(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Sf&&Yf(Sf,n)||(Sf=n,n=Wp(s0,"onSelect"),0<n.length&&(e=new hg("onSelect","select",null,e,t),r.push({event:e,listeners:n}),e.target=lu)))}function Hs(r,e){var t={};return t[r.toLowerCase()]=e.toLowerCase(),t["Webkit"+r]="webkit"+e,t["Moz"+r]="moz"+e,t}var uu={animationend:Hs("Animation","AnimationEnd"),animationiteration:Hs("Animation","AnimationIteration"),animationstart:Hs("Animation","AnimationStart"),transitionrun:Hs("Transition","TransitionRun"),transitionstart:Hs("Transition","TransitionStart"),transitioncancel:Hs("Transition","TransitionCancel"),transitionend:Hs("Transition","TransitionEnd")},Vm={},ZO={};_a&&(ZO=document.createElement("div").style,"AnimationEvent"in window||(delete uu.animationend.animation,delete uu.animationiteration.animation,delete uu.animationstart.animation),"TransitionEvent"in window||delete uu.transitionend.transition);function wl(r){if(Vm[r])return Vm[r];if(!uu[r])return r;var e=uu[r],t;for(t in e)if(e.hasOwnProperty(t)&&t in ZO)return Vm[r]=e[t];return r}var $O=wl("animationend"),JO=wl("animationiteration"),QO=wl("animationstart"),IM=wl("transitionrun"),zM=wl("transitionstart"),HM=wl("transitioncancel"),tE=wl("transitionend"),eE=new Map,u0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");u0.push("scrollEnd");function So(r,e){eE.set(r,e),_l(e,[r])}var fC=new WeakMap;function to(r,e){if(typeof r=="object"&&r!==null){var t=fC.get(r);return t!==void 0?t:(e={value:r,source:e,stack:XS(e)},fC.set(r,e),e)}return{value:r,source:e,stack:XS(e)}}var Yi=[],cu=0,J_=0;function gg(){for(var r=cu,e=J_=cu=0;e<r;){var t=Yi[e];Yi[e++]=null;var n=Yi[e];Yi[e++]=null;var i=Yi[e];Yi[e++]=null;var o=Yi[e];if(Yi[e++]=null,n!==null&&i!==null){var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}o!==0&&nE(t,i,o)}}function mg(r,e,t,n){Yi[cu++]=r,Yi[cu++]=e,Yi[cu++]=t,Yi[cu++]=n,J_|=n,r.lanes|=n,r=r.alternate,r!==null&&(r.lanes|=n)}function Q_(r,e,t,n){return mg(r,e,t,n),Tp(r)}function ac(r,e){return mg(r,null,null,e),Tp(r)}function nE(r,e,t){r.lanes|=t;var n=r.alternate;n!==null&&(n.lanes|=t);for(var i=!1,o=r.return;o!==null;)o.childLanes|=t,n=o.alternate,n!==null&&(n.childLanes|=t),o.tag===22&&(r=o.stateNode,r===null||r._visibility&1||(i=!0)),r=o,o=o.return;return r.tag===3?(o=r.stateNode,i&&e!==null&&(i=31-Ui(t),r=o.hiddenUpdates,n=r[i],n===null?r[i]=[e]:n.push(e),e.lane=t|536870912),o):null}function Tp(r){if(50<Mf)throw Mf=0,D0=null,Error(Kt(185));for(var e=r.return;e!==null;)r=e,e=r.return;return r.tag===3?r.stateNode:null}var fu={};function FM(r,e,t,n){this.tag=r,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ni(r,e,t,n){return new FM(r,e,t,n)}function tb(r){return r=r.prototype,!(!r||!r.isReactComponent)}function va(r,e){var t=r.alternate;return t===null?(t=Ni(r.tag,e,r.key,r.mode),t.elementType=r.elementType,t.type=r.type,t.stateNode=r.stateNode,t.alternate=r,r.alternate=t):(t.pendingProps=e,t.type=r.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=r.flags&65011712,t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,e=r.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=r.sibling,t.index=r.index,t.ref=r.ref,t.refCleanup=r.refCleanup,t}function rE(r,e){r.flags&=65011714;var t=r.alternate;return t===null?(r.childLanes=0,r.lanes=e,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,r.type=t.type,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r}function Zh(r,e,t,n,i,o){var a=0;if(n=r,typeof r=="function")tb(r)&&(a=1);else if(typeof r=="string")a=qR(r,t,Ro.current)?26:r==="html"||r==="head"||r==="body"?27:5;else t:switch(r){case $y:return r=Ni(31,t,e,i),r.elementType=$y,r.lanes=o,r;case ru:return nl(t.children,i,o,e);case SO:a=8,i|=24;break;case Yy:return r=Ni(12,t,e,i|2),r.elementType=Yy,r.lanes=o,r;case Xy:return r=Ni(13,t,e,i),r.elementType=Xy,r.lanes=o,r;case Zy:return r=Ni(19,t,e,i),r.elementType=Zy,r.lanes=o,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case RP:case ua:a=10;break t;case CO:a=9;break t;case I_:a=11;break t;case z_:a=14;break t;case $a:a=16,n=null;break t}a=29,t=Error(Kt(130,r===null?"null":typeof r,"")),n=null}return e=Ni(a,t,e,i),e.elementType=r,e.type=n,e.lanes=o,e}function nl(r,e,t,n){return r=Ni(7,r,n,e),r.lanes=t,r}function Bm(r,e,t){return r=Ni(6,r,null,e),r.lanes=t,r}function Um(r,e,t){return e=Ni(4,r.children!==null?r.children:[],r.key,e),e.lanes=t,e.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},e}var du=[],hu=0,Ap=null,kp=0,Zi=[],$i=0,rl=null,ca=1,fa="";function qs(r,e){du[hu++]=kp,du[hu++]=Ap,Ap=r,kp=e}function iE(r,e,t){Zi[$i++]=ca,Zi[$i++]=fa,Zi[$i++]=rl,rl=r;var n=ca;r=fa;var i=32-Ui(n)-1;n&=~(1<<i),t+=1;var o=32-Ui(e)+i;if(30<o){var a=i-i%5;o=(n&(1<<a)-1).toString(32),n>>=a,i-=a,ca=1<<32-Ui(e)+i|t<<i|n,fa=o+r}else ca=1<<o|t<<i|n,fa=r}function eb(r){r.return!==null&&(qs(r,1),iE(r,1,0))}function nb(r){for(;r===Ap;)Ap=du[--hu],du[hu]=null,kp=du[--hu],du[hu]=null;for(;r===rl;)rl=Zi[--$i],Zi[$i]=null,fa=Zi[--$i],Zi[$i]=null,ca=Zi[--$i],Zi[$i]=null}var Gr=null,Ln=null,Ze=!1,il=null,Po=!1,c0=Error(Kt(519));function ul(r){var e=Error(Kt(418,""));throw Xf(to(e,r)),c0}function dC(r){var e=r.stateNode,t=r.type,n=r.memoizedProps;switch(e[Mr]=r,e[mi]=n,t){case"dialog":Ie("cancel",e),Ie("close",e);break;case"iframe":case"object":case"embed":Ie("load",e);break;case"video":case"audio":for(t=0;t<Jf.length;t++)Ie(Jf[t],e);break;case"source":Ie("error",e);break;case"img":case"image":case"link":Ie("error",e),Ie("load",e);break;case"details":Ie("toggle",e);break;case"input":Ie("invalid",e),jO(e,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0),Op(e);break;case"select":Ie("invalid",e);break;case"textarea":Ie("invalid",e),BO(e,n.value,n.defaultValue,n.children),Op(e)}t=n.children,typeof t!="string"&&typeof t!="number"&&typeof t!="bigint"||e.textContent===""+t||n.suppressHydrationWarning===!0||UT(e.textContent,t)?(n.popover!=null&&(Ie("beforetoggle",e),Ie("toggle",e)),n.onScroll!=null&&Ie("scroll",e),n.onScrollEnd!=null&&Ie("scrollend",e),n.onClick!=null&&(e.onclick=Og),e=!0):e=!1,e||ul(r)}function hC(r){for(Gr=r.return;Gr;)switch(Gr.tag){case 5:case 13:Po=!1;return;case 27:case 3:Po=!0;return;default:Gr=Gr.return}}function $c(r){if(r!==Gr)return!1;if(!Ze)return hC(r),Ze=!0,!1;var e=r.tag,t;if((t=e!==3&&e!==27)&&((t=e===5)&&(t=r.type,t=!(t!=="form"&&t!=="button")||j0(r.type,r.memoizedProps)),t=!t),t&&Ln&&ul(r),hC(r),e===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(Kt(317));t:{for(r=r.nextSibling,e=0;r;){if(r.nodeType===8)if(t=r.data,t==="/$"){if(e===0){Ln=wo(r.nextSibling);break t}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++;r=r.nextSibling}Ln=null}}else e===27?(e=Ln,Ts(r.type)?(r=U0,U0=null,Ln=r):Ln=e):Ln=Gr?wo(r.stateNode.nextSibling):null;return!0}function yd(){Ln=Gr=null,Ze=!1}function pC(){var r=il;return r!==null&&(ui===null?ui=r:ui.push.apply(ui,r),il=null),r}function Xf(r){il===null?il=[r]:il.push(r)}var f0=Uo(null),Sl=null,da=null;function ns(r,e,t){On(f0,e._currentValue),e._currentValue=t}function ga(r){r._currentValue=f0.current,vr(f0)}function d0(r,e,t){for(;r!==null;){var n=r.alternate;if((r.childLanes&e)!==e?(r.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),r===t)break;r=r.return}}function h0(r,e,t,n){var i=r.child;for(i!==null&&(i.return=r);i!==null;){var o=i.dependencies;if(o!==null){var a=i.child;o=o.firstContext;t:for(;o!==null;){var l=o;o=i;for(var u=0;u<e.length;u++)if(l.context===e[u]){o.lanes|=t,l=o.alternate,l!==null&&(l.lanes|=t),d0(o.return,t,r),n||(a=null);break t}o=l.next}}else if(i.tag===18){if(a=i.return,a===null)throw Error(Kt(341));a.lanes|=t,o=a.alternate,o!==null&&(o.lanes|=t),d0(a,t,r),a=null}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===r){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}}function _d(r,e,t,n){r=null;for(var i=e,o=!1;i!==null;){if(!o){if(i.flags&524288)o=!0;else if(i.flags&262144)break}if(i.tag===10){var a=i.alternate;if(a===null)throw Error(Kt(387));if(a=a.memoizedProps,a!==null){var l=i.type;Hi(i.pendingProps.value,a.value)||(r!==null?r.push(l):r=[l])}}else if(i===wp.current){if(a=i.alternate,a===null)throw Error(Kt(387));a.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(r!==null?r.push(ed):r=[ed])}i=i.return}r!==null&&h0(e,r,t,n),e.flags|=262144}function Dp(r){for(r=r.firstContext;r!==null;){if(!Hi(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function cl(r){Sl=r,da=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Rr(r){return oE(Sl,r)}function Ch(r,e){return Sl===null&&cl(r),oE(r,e)}function oE(r,e){var t=e._currentValue;if(e={context:e,memoizedValue:t,next:null},da===null){if(r===null)throw Error(Kt(308));da=e,r.dependencies={lanes:0,firstContext:e},r.flags|=524288}else da=da.next=e;return t}var WM=typeof AbortController<"u"?AbortController:function(){var r=[],e=this.signal={aborted:!1,addEventListener:function(t,n){r.push(n)}};this.abort=function(){e.aborted=!0,r.forEach(function(t){return t()})}},qM=lr.unstable_scheduleCallback,KM=lr.unstable_NormalPriority,ar={$$typeof:ua,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rb(){return{controller:new WM,data:new Map,refCount:0}}function bd(r){r.refCount--,r.refCount===0&&qM(KM,function(){r.controller.abort()})}var Cf=null,p0=0,Gu=0,ju=null;function GM(r,e){if(Cf===null){var t=Cf=[];p0=0,Gu=Eb(),ju={status:"pending",value:void 0,then:function(n){t.push(n)}}}return p0++,e.then(vC,vC),e}function vC(){if(--p0===0&&Cf!==null){ju!==null&&(ju.status="fulfilled");var r=Cf;Cf=null,Gu=0,ju=null;for(var e=0;e<r.length;e++)(0,r[e])()}}function YM(r,e){var t=[],n={status:"pending",value:null,reason:null,then:function(i){t.push(i)}};return r.then(function(){n.status="fulfilled",n.value=e;for(var i=0;i<t.length;i++)(0,t[i])(e)},function(i){for(n.status="rejected",n.reason=i,i=0;i<t.length;i++)(0,t[i])(void 0)}),n}var gC=Te.S;Te.S=function(r,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&GM(r,e),gC!==null&&gC(r,e)};var ol=Uo(null);function ib(){var r=ol.current;return r!==null?r:pn.pooledCache}function $h(r,e){e===null?On(ol,ol.current):On(ol,e.pool)}function aE(){var r=ib();return r===null?null:{parent:ar._currentValue,pool:r}}var wd=Error(Kt(460)),sE=Error(Kt(474)),yg=Error(Kt(542)),v0={then:function(){}};function mC(r){return r=r.status,r==="fulfilled"||r==="rejected"}function xh(){}function lE(r,e,t){switch(t=r[t],t===void 0?r.push(e):t!==e&&(e.then(xh,xh),e=t),e.status){case"fulfilled":return e.value;case"rejected":throw r=e.reason,_C(r),r;default:if(typeof e.status=="string")e.then(xh,xh);else{if(r=pn,r!==null&&100<r.shellSuspendCounter)throw Error(Kt(482));r=e,r.status="pending",r.then(function(n){if(e.status==="pending"){var i=e;i.status="fulfilled",i.value=n}},function(n){if(e.status==="pending"){var i=e;i.status="rejected",i.reason=n}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw r=e.reason,_C(r),r}throw xf=e,wd}}var xf=null;function yC(){if(xf===null)throw Error(Kt(459));var r=xf;return xf=null,r}function _C(r){if(r===wd||r===yg)throw Error(Kt(483))}var Ja=!1;function ob(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function g0(r,e){r=r.updateQueue,e.updateQueue===r&&(e.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function ds(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function hs(r,e,t){var n=r.updateQueue;if(n===null)return null;if(n=n.shared,nn&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,e=Tp(r),nE(r,null,t),e}return mg(r,n,e,t),Tp(r)}function Of(r,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194048)!==0)){var n=e.lanes;n&=r.pendingLanes,t|=n,e.lanes=t,DO(r,t)}}function Im(r,e){var t=r.updateQueue,n=r.alternate;if(n!==null&&(n=n.updateQueue,t===n)){var i=null,o=null;if(t=t.firstBaseUpdate,t!==null){do{var a={lane:t.lane,tag:t.tag,payload:t.payload,callback:null,next:null};o===null?i=o=a:o=o.next=a,t=t.next}while(t!==null);o===null?i=o=e:o=o.next=e}else i=o=e;t={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,callbacks:n.callbacks},r.updateQueue=t;return}r=t.lastBaseUpdate,r===null?t.firstBaseUpdate=e:r.next=e,t.lastBaseUpdate=e}var m0=!1;function Ef(){if(m0){var r=ju;if(r!==null)throw r}}function Tf(r,e,t,n){m0=!1;var i=r.updateQueue;Ja=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,c=u.next;u.next=null,a===null?o=c:a.next=c,a=u;var d=r.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=u))}if(o!==null){var h=i.baseState;a=0,d=c=u=null,l=o;do{var g=l.lane&-536870913,m=g!==l.lane;if(m?(Ge&g)===g:(n&g)===g){g!==0&&g===Gu&&(m0=!0),d!==null&&(d=d.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});t:{var _=r,b=l;g=e;var C=t;switch(b.tag){case 1:if(_=b.payload,typeof _=="function"){h=_.call(C,h,g);break t}h=_;break t;case 3:_.flags=_.flags&-65537|128;case 0:if(_=b.payload,g=typeof _=="function"?_.call(C,h,g):_,g==null)break t;h=bn({},h,g);break t;case 2:Ja=!0}}g=l.callback,g!==null&&(r.flags|=64,m&&(r.flags|=8192),m=i.callbacks,m===null?i.callbacks=[g]:m.push(g))}else m={lane:g,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(c=d=m,u=h):d=d.next=m,a|=g;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);d===null&&(u=h),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=d,o===null&&(i.shared.lanes=0),Cs|=a,r.lanes=a,r.memoizedState=h}}function uE(r,e){if(typeof r!="function")throw Error(Kt(191,r));r.call(e)}function cE(r,e){var t=r.callbacks;if(t!==null)for(r.callbacks=null,r=0;r<t.length;r++)uE(t[r],e)}var Yu=Uo(null),Pp=Uo(0);function bC(r,e){r=Sa,On(Pp,r),On(Yu,e),Sa=r|e.baseLanes}function y0(){On(Pp,Sa),On(Yu,Yu.current)}function ab(){Sa=Pp.current,vr(Yu),vr(Pp)}var ws=0,Be=null,an=null,Xn=null,Mp=!1,Vu=!1,fl=!1,Rp=0,Zf=0,Bu=null,XM=0;function Fn(){throw Error(Kt(321))}function sb(r,e){if(e===null)return!1;for(var t=0;t<e.length&&t<r.length;t++)if(!Hi(r[t],e[t]))return!1;return!0}function lb(r,e,t,n,i,o){return ws=o,Be=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Te.H=r===null||r.memoizedState===null?zE:HE,fl=!1,o=t(n,i),fl=!1,Vu&&(o=dE(e,t,n,i)),fE(r),o}function fE(r){Te.H=Lp;var e=an!==null&&an.next!==null;if(ws=0,Xn=an=Be=null,Mp=!1,Zf=0,Bu=null,e)throw Error(Kt(300));r===null||pr||(r=r.dependencies,r!==null&&Dp(r)&&(pr=!0))}function dE(r,e,t,n){Be=r;var i=0;do{if(Vu&&(Bu=null),Zf=0,Vu=!1,25<=i)throw Error(Kt(301));if(i+=1,Xn=an=null,r.updateQueue!=null){var o=r.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}Te.H=nR,o=e(t,n)}while(Vu);return o}function ZM(){var r=Te.H,e=r.useState()[0];return e=typeof e.then=="function"?Sd(e):e,r=r.useState()[0],(an!==null?an.memoizedState:null)!==r&&(Be.flags|=1024),e}function ub(){var r=Rp!==0;return Rp=0,r}function cb(r,e,t){e.updateQueue=r.updateQueue,e.flags&=-2053,r.lanes&=~t}function fb(r){if(Mp){for(r=r.memoizedState;r!==null;){var e=r.queue;e!==null&&(e.pending=null),r=r.next}Mp=!1}ws=0,Xn=an=Be=null,Vu=!1,Zf=Rp=0,Bu=null}function si(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xn===null?Be.memoizedState=Xn=r:Xn=Xn.next=r,Xn}function $n(){if(an===null){var r=Be.alternate;r=r!==null?r.memoizedState:null}else r=an.next;var e=Xn===null?Be.memoizedState:Xn.next;if(e!==null)Xn=e,an=r;else{if(r===null)throw Be.alternate===null?Error(Kt(467)):Error(Kt(310));an=r,r={memoizedState:an.memoizedState,baseState:an.baseState,baseQueue:an.baseQueue,queue:an.queue,next:null},Xn===null?Be.memoizedState=Xn=r:Xn=Xn.next=r}return Xn}function db(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Sd(r){var e=Zf;return Zf+=1,Bu===null&&(Bu=[]),r=lE(Bu,r,e),e=Be,(Xn===null?e.memoizedState:Xn.next)===null&&(e=e.alternate,Te.H=e===null||e.memoizedState===null?zE:HE),r}function _g(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Sd(r);if(r.$$typeof===ua)return Rr(r)}throw Error(Kt(438,String(r)))}function hb(r){var e=null,t=Be.updateQueue;if(t!==null&&(e=t.memoCache),e==null){var n=Be.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(e={data:n.data.map(function(i){return i.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),t===null&&(t=db(),Be.updateQueue=t),t.memoCache=e,t=e.data[e.index],t===void 0)for(t=e.data[e.index]=Array(r),n=0;n<r;n++)t[n]=LP;return e.index++,t}function ba(r,e){return typeof e=="function"?e(r):e}function Jh(r){var e=$n();return pb(e,an,r)}function pb(r,e,t){var n=r.queue;if(n===null)throw Error(Kt(311));n.lastRenderedReducer=t;var i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}e.baseQueue=i=o,n.pending=null}if(o=r.baseState,i===null)r.memoizedState=o;else{e=i.next;var l=a=null,u=null,c=e,d=!1;do{var h=c.lane&-536870913;if(h!==c.lane?(Ge&h)===h:(ws&h)===h){var g=c.revertLane;if(g===0)u!==null&&(u=u.next={lane:0,revertLane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),h===Gu&&(d=!0);else if((ws&g)===g){c=c.next,g===Gu&&(d=!0);continue}else h={lane:0,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},u===null?(l=u=h,a=o):u=u.next=h,Be.lanes|=g,Cs|=g;h=c.action,fl&&t(o,h),o=c.hasEagerState?c.eagerState:t(o,h)}else g={lane:h,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},u===null?(l=u=g,a=o):u=u.next=g,Be.lanes|=h,Cs|=h;c=c.next}while(c!==null&&c!==e);if(u===null?a=o:u.next=l,!Hi(o,r.memoizedState)&&(pr=!0,d&&(t=ju,t!==null)))throw t;r.memoizedState=o,r.baseState=a,r.baseQueue=u,n.lastRenderedState=o}return i===null&&(n.lanes=0),[r.memoizedState,n.dispatch]}function zm(r){var e=$n(),t=e.queue;if(t===null)throw Error(Kt(311));t.lastRenderedReducer=r;var n=t.dispatch,i=t.pending,o=e.memoizedState;if(i!==null){t.pending=null;var a=i=i.next;do o=r(o,a.action),a=a.next;while(a!==i);Hi(o,e.memoizedState)||(pr=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),t.lastRenderedState=o}return[o,n]}function hE(r,e,t){var n=Be,i=$n(),o=Ze;if(o){if(t===void 0)throw Error(Kt(407));t=t()}else t=e();var a=!Hi((an||i).memoizedState,t);a&&(i.memoizedState=t,pr=!0),i=i.queue;var l=gE.bind(null,n,i,r);if(Cd(2048,8,l,[r]),i.getSnapshot!==e||a||Xn!==null&&Xn.memoizedState.tag&1){if(n.flags|=2048,Xu(9,bg(),vE.bind(null,n,i,t,e),null),pn===null)throw Error(Kt(349));o||ws&124||pE(n,e,t)}return t}function pE(r,e,t){r.flags|=16384,r={getSnapshot:e,value:t},e=Be.updateQueue,e===null?(e=db(),Be.updateQueue=e,e.stores=[r]):(t=e.stores,t===null?e.stores=[r]:t.push(r))}function vE(r,e,t,n){e.value=t,e.getSnapshot=n,mE(e)&&yE(r)}function gE(r,e,t){return t(function(){mE(e)&&yE(r)})}function mE(r){var e=r.getSnapshot;r=r.value;try{var t=e();return!Hi(r,t)}catch{return!0}}function yE(r){var e=ac(r,2);e!==null&&zi(e,r,2)}function _0(r){var e=si();if(typeof r=="function"){var t=r;if(r=t(),fl){as(!0);try{t()}finally{as(!1)}}}return e.memoizedState=e.baseState=r,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ba,lastRenderedState:r},e}function _E(r,e,t,n){return r.baseState=t,pb(r,an,typeof n=="function"?n:ba)}function $M(r,e,t,n,i){if(wg(r))throw Error(Kt(485));if(r=e.action,r!==null){var o={payload:i,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){o.listeners.push(a)}};Te.T!==null?t(!0):o.isTransition=!1,n(o),t=e.pending,t===null?(o.next=e.pending=o,bE(e,o)):(o.next=t.next,e.pending=t.next=o)}}function bE(r,e){var t=e.action,n=e.payload,i=r.state;if(e.isTransition){var o=Te.T,a={};Te.T=a;try{var l=t(i,n),u=Te.S;u!==null&&u(a,l),wC(r,e,l)}catch(c){b0(r,e,c)}finally{Te.T=o}}else try{o=t(i,n),wC(r,e,o)}catch(c){b0(r,e,c)}}function wC(r,e,t){t!==null&&typeof t=="object"&&typeof t.then=="function"?t.then(function(n){SC(r,e,n)},function(n){return b0(r,e,n)}):SC(r,e,t)}function SC(r,e,t){e.status="fulfilled",e.value=t,wE(e),r.state=t,e=r.pending,e!==null&&(t=e.next,t===e?r.pending=null:(t=t.next,e.next=t,bE(r,t)))}function b0(r,e,t){var n=r.pending;if(r.pending=null,n!==null){n=n.next;do e.status="rejected",e.reason=t,wE(e),e=e.next;while(e!==n)}r.action=null}function wE(r){r=r.listeners;for(var e=0;e<r.length;e++)(0,r[e])()}function SE(r,e){return e}function CC(r,e){if(Ze){var t=pn.formState;if(t!==null){t:{var n=Be;if(Ze){if(Ln){e:{for(var i=Ln,o=Po;i.nodeType!==8;){if(!o){i=null;break e}if(i=wo(i.nextSibling),i===null){i=null;break e}}o=i.data,i=o==="F!"||o==="F"?i:null}if(i){Ln=wo(i.nextSibling),n=i.data==="F!";break t}}ul(n)}n=!1}n&&(e=t[0])}}return t=si(),t.memoizedState=t.baseState=e,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:SE,lastRenderedState:e},t.queue=n,t=BE.bind(null,Be,n),n.dispatch=t,n=_0(!1),o=yb.bind(null,Be,!1,n.queue),n=si(),i={state:e,dispatch:null,action:r,pending:null},n.queue=i,t=$M.bind(null,Be,i,o,t),i.dispatch=t,n.memoizedState=r,[e,t,!1]}function xC(r){var e=$n();return CE(e,an,r)}function CE(r,e,t){if(e=pb(r,e,SE)[0],r=Jh(ba)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var n=Sd(e)}catch(a){throw a===wd?yg:a}else n=e;e=$n();var i=e.queue,o=i.dispatch;return t!==e.memoizedState&&(Be.flags|=2048,Xu(9,bg(),JM.bind(null,i,t),null)),[n,o,r]}function JM(r,e){r.action=e}function OC(r){var e=$n(),t=an;if(t!==null)return CE(e,t,r);$n(),e=e.memoizedState,t=$n();var n=t.queue.dispatch;return t.memoizedState=r,[e,n,!1]}function Xu(r,e,t,n){return r={tag:r,create:t,deps:n,inst:e,next:null},e=Be.updateQueue,e===null&&(e=db(),Be.updateQueue=e),t=e.lastEffect,t===null?e.lastEffect=r.next=r:(n=t.next,t.next=r,r.next=n,e.lastEffect=r),r}function bg(){return{destroy:void 0,resource:void 0}}function xE(){return $n().memoizedState}function Qh(r,e,t,n){var i=si();n=n===void 0?null:n,Be.flags|=r,i.memoizedState=Xu(1|e,bg(),t,n)}function Cd(r,e,t,n){var i=$n();n=n===void 0?null:n;var o=i.memoizedState.inst;an!==null&&n!==null&&sb(n,an.memoizedState.deps)?i.memoizedState=Xu(e,o,t,n):(Be.flags|=r,i.memoizedState=Xu(1|e,o,t,n))}function EC(r,e){Qh(8390656,8,r,e)}function OE(r,e){Cd(2048,8,r,e)}function EE(r,e){return Cd(4,2,r,e)}function TE(r,e){return Cd(4,4,r,e)}function AE(r,e){if(typeof e=="function"){r=r();var t=e(r);return function(){typeof t=="function"?t():e(null)}}if(e!=null)return r=r(),e.current=r,function(){e.current=null}}function kE(r,e,t){t=t!=null?t.concat([r]):null,Cd(4,4,AE.bind(null,e,r),t)}function vb(){}function DE(r,e){var t=$n();e=e===void 0?null:e;var n=t.memoizedState;return e!==null&&sb(e,n[1])?n[0]:(t.memoizedState=[r,e],r)}function PE(r,e){var t=$n();e=e===void 0?null:e;var n=t.memoizedState;if(e!==null&&sb(e,n[1]))return n[0];if(n=r(),fl){as(!0);try{r()}finally{as(!1)}}return t.memoizedState=[n,e],n}function gb(r,e,t){return t===void 0||ws&1073741824?r.memoizedState=e:(r.memoizedState=t,r=wT(),Be.lanes|=r,Cs|=r,t)}function ME(r,e,t,n){return Hi(t,e)?t:Yu.current!==null?(r=gb(r,t,n),Hi(r,e)||(pr=!0),r):ws&42?(r=wT(),Be.lanes|=r,Cs|=r,e):(pr=!0,r.memoizedState=t)}function RE(r,e,t,n,i){var o=$e.p;$e.p=o!==0&&8>o?o:8;var a=Te.T,l={};Te.T=l,yb(r,!1,e,t);try{var u=i(),c=Te.S;if(c!==null&&c(l,u),u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=YM(u,n);Af(r,e,d,Ii(r))}else Af(r,e,n,Ii(r))}catch(h){Af(r,e,{then:function(){},status:"rejected",reason:h},Ii())}finally{$e.p=o,Te.T=a}}function QM(){}function w0(r,e,t,n){if(r.tag!==5)throw Error(Kt(476));var i=LE(r).queue;RE(r,i,e,el,t===null?QM:function(){return NE(r),t(n)})}function LE(r){var e=r.memoizedState;if(e!==null)return e;e={memoizedState:el,baseState:el,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ba,lastRenderedState:el},next:null};var t={};return e.next={memoizedState:t,baseState:t,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ba,lastRenderedState:t},next:null},r.memoizedState=e,r=r.alternate,r!==null&&(r.memoizedState=e),e}function NE(r){var e=LE(r).next.queue;Af(r,e,{},Ii())}function mb(){return Rr(ed)}function jE(){return $n().memoizedState}function VE(){return $n().memoizedState}function tR(r){for(var e=r.return;e!==null;){switch(e.tag){case 24:case 3:var t=Ii();r=ds(t);var n=hs(e,r,t);n!==null&&(zi(n,e,t),Of(n,e,t)),e={cache:rb()},r.payload=e;return}e=e.return}}function eR(r,e,t){var n=Ii();t={lane:n,revertLane:0,action:t,hasEagerState:!1,eagerState:null,next:null},wg(r)?UE(e,t):(t=Q_(r,e,t,n),t!==null&&(zi(t,r,n),IE(t,e,n)))}function BE(r,e,t){var n=Ii();Af(r,e,t,n)}function Af(r,e,t,n){var i={lane:n,revertLane:0,action:t,hasEagerState:!1,eagerState:null,next:null};if(wg(r))UE(e,i);else{var o=r.alternate;if(r.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,l=o(a,t);if(i.hasEagerState=!0,i.eagerState=l,Hi(l,a))return mg(r,e,i,0),pn===null&&gg(),!1}catch{}finally{}if(t=Q_(r,e,i,n),t!==null)return zi(t,r,n),IE(t,e,n),!0}return!1}function yb(r,e,t,n){if(n={lane:2,revertLane:Eb(),action:n,hasEagerState:!1,eagerState:null,next:null},wg(r)){if(e)throw Error(Kt(479))}else e=Q_(r,t,n,2),e!==null&&zi(e,r,2)}function wg(r){var e=r.alternate;return r===Be||e!==null&&e===Be}function UE(r,e){Vu=Mp=!0;var t=r.pending;t===null?e.next=e:(e.next=t.next,t.next=e),r.pending=e}function IE(r,e,t){if(t&4194048){var n=e.lanes;n&=r.pendingLanes,t|=n,e.lanes=t,DO(r,t)}}var Lp={readContext:Rr,use:_g,useCallback:Fn,useContext:Fn,useEffect:Fn,useImperativeHandle:Fn,useLayoutEffect:Fn,useInsertionEffect:Fn,useMemo:Fn,useReducer:Fn,useRef:Fn,useState:Fn,useDebugValue:Fn,useDeferredValue:Fn,useTransition:Fn,useSyncExternalStore:Fn,useId:Fn,useHostTransitionStatus:Fn,useFormState:Fn,useActionState:Fn,useOptimistic:Fn,useMemoCache:Fn,useCacheRefresh:Fn},zE={readContext:Rr,use:_g,useCallback:function(r,e){return si().memoizedState=[r,e===void 0?null:e],r},useContext:Rr,useEffect:EC,useImperativeHandle:function(r,e,t){t=t!=null?t.concat([r]):null,Qh(4194308,4,AE.bind(null,e,r),t)},useLayoutEffect:function(r,e){return Qh(4194308,4,r,e)},useInsertionEffect:function(r,e){Qh(4,2,r,e)},useMemo:function(r,e){var t=si();e=e===void 0?null:e;var n=r();if(fl){as(!0);try{r()}finally{as(!1)}}return t.memoizedState=[n,e],n},useReducer:function(r,e,t){var n=si();if(t!==void 0){var i=t(e);if(fl){as(!0);try{t(e)}finally{as(!1)}}}else i=e;return n.memoizedState=n.baseState=i,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:i},n.queue=r,r=r.dispatch=eR.bind(null,Be,r),[n.memoizedState,r]},useRef:function(r){var e=si();return r={current:r},e.memoizedState=r},useState:function(r){r=_0(r);var e=r.queue,t=BE.bind(null,Be,e);return e.dispatch=t,[r.memoizedState,t]},useDebugValue:vb,useDeferredValue:function(r,e){var t=si();return gb(t,r,e)},useTransition:function(){var r=_0(!1);return r=RE.bind(null,Be,r.queue,!0,!1),si().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,e,t){var n=Be,i=si();if(Ze){if(t===void 0)throw Error(Kt(407));t=t()}else{if(t=e(),pn===null)throw Error(Kt(349));Ge&124||pE(n,e,t)}i.memoizedState=t;var o={value:t,getSnapshot:e};return i.queue=o,EC(gE.bind(null,n,o,r),[r]),n.flags|=2048,Xu(9,bg(),vE.bind(null,n,o,t,e),null),t},useId:function(){var r=si(),e=pn.identifierPrefix;if(Ze){var t=fa,n=ca;t=(n&~(1<<32-Ui(n)-1)).toString(32)+t,e="«"+e+"R"+t,t=Rp++,0<t&&(e+="H"+t.toString(32)),e+="»"}else t=XM++,e="«"+e+"r"+t.toString(32)+"»";return r.memoizedState=e},useHostTransitionStatus:mb,useFormState:CC,useActionState:CC,useOptimistic:function(r){var e=si();e.memoizedState=e.baseState=r;var t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=t,e=yb.bind(null,Be,!0,t),t.dispatch=e,[r,e]},useMemoCache:hb,useCacheRefresh:function(){return si().memoizedState=tR.bind(null,Be)}},HE={readContext:Rr,use:_g,useCallback:DE,useContext:Rr,useEffect:OE,useImperativeHandle:kE,useInsertionEffect:EE,useLayoutEffect:TE,useMemo:PE,useReducer:Jh,useRef:xE,useState:function(){return Jh(ba)},useDebugValue:vb,useDeferredValue:function(r,e){var t=$n();return ME(t,an.memoizedState,r,e)},useTransition:function(){var r=Jh(ba)[0],e=$n().memoizedState;return[typeof r=="boolean"?r:Sd(r),e]},useSyncExternalStore:hE,useId:jE,useHostTransitionStatus:mb,useFormState:xC,useActionState:xC,useOptimistic:function(r,e){var t=$n();return _E(t,an,r,e)},useMemoCache:hb,useCacheRefresh:VE},nR={readContext:Rr,use:_g,useCallback:DE,useContext:Rr,useEffect:OE,useImperativeHandle:kE,useInsertionEffect:EE,useLayoutEffect:TE,useMemo:PE,useReducer:zm,useRef:xE,useState:function(){return zm(ba)},useDebugValue:vb,useDeferredValue:function(r,e){var t=$n();return an===null?gb(t,r,e):ME(t,an.memoizedState,r,e)},useTransition:function(){var r=zm(ba)[0],e=$n().memoizedState;return[typeof r=="boolean"?r:Sd(r),e]},useSyncExternalStore:hE,useId:jE,useHostTransitionStatus:mb,useFormState:OC,useActionState:OC,useOptimistic:function(r,e){var t=$n();return an!==null?_E(t,an,r,e):(t.baseState=r,[r,t.queue.dispatch])},useMemoCache:hb,useCacheRefresh:VE},Uu=null,$f=0;function Oh(r){var e=$f;return $f+=1,Uu===null&&(Uu=[]),lE(Uu,r,e)}function Jc(r,e){e=e.props.ref,r.ref=e!==void 0?e:null}function Eh(r,e){throw e.$$typeof===MP?Error(Kt(525)):(r=Object.prototype.toString.call(e),Error(Kt(31,r==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":r)))}function TC(r){var e=r._init;return e(r._payload)}function FE(r){function e(w,x){if(r){var O=w.deletions;O===null?(w.deletions=[x],w.flags|=16):O.push(x)}}function t(w,x){if(!r)return null;for(;x!==null;)e(w,x),x=x.sibling;return null}function n(w){for(var x=new Map;w!==null;)w.key!==null?x.set(w.key,w):x.set(w.index,w),w=w.sibling;return x}function i(w,x){return w=va(w,x),w.index=0,w.sibling=null,w}function o(w,x,O){return w.index=O,r?(O=w.alternate,O!==null?(O=O.index,O<x?(w.flags|=67108866,x):O):(w.flags|=67108866,x)):(w.flags|=1048576,x)}function a(w){return r&&w.alternate===null&&(w.flags|=67108866),w}function l(w,x,O,k){return x===null||x.tag!==6?(x=Bm(O,w.mode,k),x.return=w,x):(x=i(x,O),x.return=w,x)}function u(w,x,O,k){var V=O.type;return V===ru?d(w,x,O.props.children,k,O.key):x!==null&&(x.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===$a&&TC(V)===x.type)?(x=i(x,O.props),Jc(x,O),x.return=w,x):(x=Zh(O.type,O.key,O.props,null,w.mode,k),Jc(x,O),x.return=w,x)}function c(w,x,O,k){return x===null||x.tag!==4||x.stateNode.containerInfo!==O.containerInfo||x.stateNode.implementation!==O.implementation?(x=Um(O,w.mode,k),x.return=w,x):(x=i(x,O.children||[]),x.return=w,x)}function d(w,x,O,k,V){return x===null||x.tag!==7?(x=nl(O,w.mode,k,V),x.return=w,x):(x=i(x,O),x.return=w,x)}function h(w,x,O){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=Bm(""+x,w.mode,O),x.return=w,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case yh:return O=Zh(x.type,x.key,x.props,null,w.mode,O),Jc(O,x),O.return=w,O;case cf:return x=Um(x,w.mode,O),x.return=w,x;case $a:var k=x._init;return x=k(x._payload),h(w,x,O)}if(ff(x)||Yc(x))return x=nl(x,w.mode,O,null),x.return=w,x;if(typeof x.then=="function")return h(w,Oh(x),O);if(x.$$typeof===ua)return h(w,Ch(w,x),O);Eh(w,x)}return null}function g(w,x,O,k){var V=x!==null?x.key:null;if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return V!==null?null:l(w,x,""+O,k);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case yh:return O.key===V?u(w,x,O,k):null;case cf:return O.key===V?c(w,x,O,k):null;case $a:return V=O._init,O=V(O._payload),g(w,x,O,k)}if(ff(O)||Yc(O))return V!==null?null:d(w,x,O,k,null);if(typeof O.then=="function")return g(w,x,Oh(O),k);if(O.$$typeof===ua)return g(w,x,Ch(w,O),k);Eh(w,O)}return null}function m(w,x,O,k,V){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return w=w.get(O)||null,l(x,w,""+k,V);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case yh:return w=w.get(k.key===null?O:k.key)||null,u(x,w,k,V);case cf:return w=w.get(k.key===null?O:k.key)||null,c(x,w,k,V);case $a:var Z=k._init;return k=Z(k._payload),m(w,x,O,k,V)}if(ff(k)||Yc(k))return w=w.get(O)||null,d(x,w,k,V,null);if(typeof k.then=="function")return m(w,x,O,Oh(k),V);if(k.$$typeof===ua)return m(w,x,O,Ch(x,k),V);Eh(x,k)}return null}function _(w,x,O,k){for(var V=null,Z=null,$=x,Y=x=0,U=null;$!==null&&Y<O.length;Y++){$.index>Y?(U=$,$=null):U=$.sibling;var Q=g(w,$,O[Y],k);if(Q===null){$===null&&($=U);break}r&&$&&Q.alternate===null&&e(w,$),x=o(Q,x,Y),Z===null?V=Q:Z.sibling=Q,Z=Q,$=U}if(Y===O.length)return t(w,$),Ze&&qs(w,Y),V;if($===null){for(;Y<O.length;Y++)$=h(w,O[Y],k),$!==null&&(x=o($,x,Y),Z===null?V=$:Z.sibling=$,Z=$);return Ze&&qs(w,Y),V}for($=n($);Y<O.length;Y++)U=m($,w,Y,O[Y],k),U!==null&&(r&&U.alternate!==null&&$.delete(U.key===null?Y:U.key),x=o(U,x,Y),Z===null?V=U:Z.sibling=U,Z=U);return r&&$.forEach(function(H){return e(w,H)}),Ze&&qs(w,Y),V}function b(w,x,O,k){if(O==null)throw Error(Kt(151));for(var V=null,Z=null,$=x,Y=x=0,U=null,Q=O.next();$!==null&&!Q.done;Y++,Q=O.next()){$.index>Y?(U=$,$=null):U=$.sibling;var H=g(w,$,Q.value,k);if(H===null){$===null&&($=U);break}r&&$&&H.alternate===null&&e(w,$),x=o(H,x,Y),Z===null?V=H:Z.sibling=H,Z=H,$=U}if(Q.done)return t(w,$),Ze&&qs(w,Y),V;if($===null){for(;!Q.done;Y++,Q=O.next())Q=h(w,Q.value,k),Q!==null&&(x=o(Q,x,Y),Z===null?V=Q:Z.sibling=Q,Z=Q);return Ze&&qs(w,Y),V}for($=n($);!Q.done;Y++,Q=O.next())Q=m($,w,Y,Q.value,k),Q!==null&&(r&&Q.alternate!==null&&$.delete(Q.key===null?Y:Q.key),x=o(Q,x,Y),Z===null?V=Q:Z.sibling=Q,Z=Q);return r&&$.forEach(function(D){return e(w,D)}),Ze&&qs(w,Y),V}function C(w,x,O,k){if(typeof O=="object"&&O!==null&&O.type===ru&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case yh:t:{for(var V=O.key;x!==null;){if(x.key===V){if(V=O.type,V===ru){if(x.tag===7){t(w,x.sibling),k=i(x,O.props.children),k.return=w,w=k;break t}}else if(x.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===$a&&TC(V)===x.type){t(w,x.sibling),k=i(x,O.props),Jc(k,O),k.return=w,w=k;break t}t(w,x);break}else e(w,x);x=x.sibling}O.type===ru?(k=nl(O.props.children,w.mode,k,O.key),k.return=w,w=k):(k=Zh(O.type,O.key,O.props,null,w.mode,k),Jc(k,O),k.return=w,w=k)}return a(w);case cf:t:{for(V=O.key;x!==null;){if(x.key===V)if(x.tag===4&&x.stateNode.containerInfo===O.containerInfo&&x.stateNode.implementation===O.implementation){t(w,x.sibling),k=i(x,O.children||[]),k.return=w,w=k;break t}else{t(w,x);break}else e(w,x);x=x.sibling}k=Um(O,w.mode,k),k.return=w,w=k}return a(w);case $a:return V=O._init,O=V(O._payload),C(w,x,O,k)}if(ff(O))return _(w,x,O,k);if(Yc(O)){if(V=Yc(O),typeof V!="function")throw Error(Kt(150));return O=V.call(O),b(w,x,O,k)}if(typeof O.then=="function")return C(w,x,Oh(O),k);if(O.$$typeof===ua)return C(w,x,Ch(w,O),k);Eh(w,O)}return typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint"?(O=""+O,x!==null&&x.tag===6?(t(w,x.sibling),k=i(x,O),k.return=w,w=k):(t(w,x),k=Bm(O,w.mode,k),k.return=w,w=k),a(w)):t(w,x)}return function(w,x,O,k){try{$f=0;var V=C(w,x,O,k);return Uu=null,V}catch($){if($===wd||$===yg)throw $;var Z=Ni(29,$,null,w.mode);return Z.lanes=k,Z.return=w,Z}finally{}}}var Zu=FE(!0),WE=FE(!1),io=Uo(null),No=null;function rs(r){var e=r.alternate;On(sr,sr.current&1),On(io,r),No===null&&(e===null||Yu.current!==null||e.memoizedState!==null)&&(No=r)}function qE(r){if(r.tag===22){if(On(sr,sr.current),On(io,r),No===null){var e=r.alternate;e!==null&&e.memoizedState!==null&&(No=r)}}else is()}function is(){On(sr,sr.current),On(io,io.current)}function ha(r){vr(io),No===r&&(No=null),vr(sr)}var sr=Uo(0);function Np(r){for(var e=r;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||B0(t)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break;for(;e.sibling===null;){if(e.return===null||e.return===r)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function Hm(r,e,t,n){e=r.memoizedState,t=t(n,e),t=t==null?e:bn({},e,t),r.memoizedState=t,r.lanes===0&&(r.updateQueue.baseState=t)}var S0={enqueueSetState:function(r,e,t){r=r._reactInternals;var n=Ii(),i=ds(n);i.payload=e,t!=null&&(i.callback=t),e=hs(r,i,n),e!==null&&(zi(e,r,n),Of(e,r,n))},enqueueReplaceState:function(r,e,t){r=r._reactInternals;var n=Ii(),i=ds(n);i.tag=1,i.payload=e,t!=null&&(i.callback=t),e=hs(r,i,n),e!==null&&(zi(e,r,n),Of(e,r,n))},enqueueForceUpdate:function(r,e){r=r._reactInternals;var t=Ii(),n=ds(t);n.tag=2,e!=null&&(n.callback=e),e=hs(r,n,t),e!==null&&(zi(e,r,t),Of(e,r,t))}};function AC(r,e,t,n,i,o,a){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(n,o,a):e.prototype&&e.prototype.isPureReactComponent?!Yf(t,n)||!Yf(i,o):!0}function kC(r,e,t,n){r=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,n),e.state!==r&&S0.enqueueReplaceState(e,e.state,null)}function dl(r,e){var t=e;if("ref"in e){t={};for(var n in e)n!=="ref"&&(t[n]=e[n])}if(r=r.defaultProps){t===e&&(t=bn({},t));for(var i in r)t[i]===void 0&&(t[i]=r[i])}return t}var jp=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function KE(r){jp(r)}function GE(r){console.error(r)}function YE(r){jp(r)}function Vp(r,e){try{var t=r.onUncaughtError;t(e.value,{componentStack:e.stack})}catch(n){setTimeout(function(){throw n})}}function DC(r,e,t){try{var n=r.onCaughtError;n(t.value,{componentStack:t.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function C0(r,e,t){return t=ds(t),t.tag=3,t.payload={element:null},t.callback=function(){Vp(r,e)},t}function XE(r){return r=ds(r),r.tag=3,r}function ZE(r,e,t,n){var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var o=n.value;r.payload=function(){return i(o)},r.callback=function(){DC(e,t,n)}}var a=t.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){DC(e,t,n),typeof i!="function"&&(ps===null?ps=new Set([this]):ps.add(this));var l=n.stack;this.componentDidCatch(n.value,{componentStack:l!==null?l:""})})}function rR(r,e,t,n,i){if(t.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(e=t.alternate,e!==null&&_d(e,t,i,!0),t=io.current,t!==null){switch(t.tag){case 13:return No===null?P0():t.alternate===null&&Nn===0&&(Nn=3),t.flags&=-257,t.flags|=65536,t.lanes=i,n===v0?t.flags|=16384:(e=t.updateQueue,e===null?t.updateQueue=new Set([n]):e.add(n),Qm(r,n,i)),!1;case 22:return t.flags|=65536,n===v0?t.flags|=16384:(e=t.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([n])},t.updateQueue=e):(t=e.retryQueue,t===null?e.retryQueue=new Set([n]):t.add(n)),Qm(r,n,i)),!1}throw Error(Kt(435,t.tag))}return Qm(r,n,i),P0(),!1}if(Ze)return e=io.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=i,n!==c0&&(r=Error(Kt(422),{cause:n}),Xf(to(r,t)))):(n!==c0&&(e=Error(Kt(423),{cause:n}),Xf(to(e,t))),r=r.current.alternate,r.flags|=65536,i&=-i,r.lanes|=i,n=to(n,t),i=C0(r.stateNode,n,i),Im(r,i),Nn!==4&&(Nn=2)),!1;var o=Error(Kt(520),{cause:n});if(o=to(o,t),Pf===null?Pf=[o]:Pf.push(o),Nn!==4&&(Nn=2),e===null)return!0;n=to(n,t),t=e;do{switch(t.tag){case 3:return t.flags|=65536,r=i&-i,t.lanes|=r,r=C0(t.stateNode,n,r),Im(t,r),!1;case 1:if(e=t.type,o=t.stateNode,(t.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||o!==null&&typeof o.componentDidCatch=="function"&&(ps===null||!ps.has(o))))return t.flags|=65536,i&=-i,t.lanes|=i,i=XE(i),ZE(i,r,t,n),Im(t,i),!1}t=t.return}while(t!==null);return!1}var $E=Error(Kt(461)),pr=!1;function br(r,e,t,n){e.child=r===null?WE(e,null,t,n):Zu(e,r.child,t,n)}function PC(r,e,t,n,i){t=t.render;var o=e.ref;if("ref"in n){var a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}else a=n;return cl(e),n=lb(r,e,t,a,o,i),l=ub(),r!==null&&!pr?(cb(r,e,i),wa(r,e,i)):(Ze&&l&&eb(e),e.flags|=1,br(r,e,n,i),e.child)}function MC(r,e,t,n,i){if(r===null){var o=t.type;return typeof o=="function"&&!tb(o)&&o.defaultProps===void 0&&t.compare===null?(e.tag=15,e.type=o,JE(r,e,o,n,i)):(r=Zh(t.type,null,n,e,e.mode,i),r.ref=e.ref,r.return=e,e.child=r)}if(o=r.child,!_b(r,i)){var a=o.memoizedProps;if(t=t.compare,t=t!==null?t:Yf,t(a,n)&&r.ref===e.ref)return wa(r,e,i)}return e.flags|=1,r=va(o,n),r.ref=e.ref,r.return=e,e.child=r}function JE(r,e,t,n,i){if(r!==null){var o=r.memoizedProps;if(Yf(o,n)&&r.ref===e.ref)if(pr=!1,e.pendingProps=n=o,_b(r,i))r.flags&131072&&(pr=!0);else return e.lanes=r.lanes,wa(r,e,i)}return x0(r,e,t,n,i)}function QE(r,e,t){var n=e.pendingProps,i=n.children,o=r!==null?r.memoizedState:null;if(n.mode==="hidden"){if(e.flags&128){if(n=o!==null?o.baseLanes|t:t,r!==null){for(i=e.child=r.child,o=0;i!==null;)o=o|i.lanes|i.childLanes,i=i.sibling;e.childLanes=o&~n}else e.childLanes=0,e.child=null;return RC(r,e,n,t)}if(t&536870912)e.memoizedState={baseLanes:0,cachePool:null},r!==null&&$h(e,o!==null?o.cachePool:null),o!==null?bC(e,o):y0(),qE(e);else return e.lanes=e.childLanes=536870912,RC(r,e,o!==null?o.baseLanes|t:t,t)}else o!==null?($h(e,o.cachePool),bC(e,o),is(),e.memoizedState=null):(r!==null&&$h(e,null),y0(),is());return br(r,e,i,t),e.child}function RC(r,e,t,n){var i=ib();return i=i===null?null:{parent:ar._currentValue,pool:i},e.memoizedState={baseLanes:t,cachePool:i},r!==null&&$h(e,null),y0(),qE(e),r!==null&&_d(r,e,n,!0),null}function tp(r,e){var t=e.ref;if(t===null)r!==null&&r.ref!==null&&(e.flags|=4194816);else{if(typeof t!="function"&&typeof t!="object")throw Error(Kt(284));(r===null||r.ref!==t)&&(e.flags|=4194816)}}function x0(r,e,t,n,i){return cl(e),t=lb(r,e,t,n,void 0,i),n=ub(),r!==null&&!pr?(cb(r,e,i),wa(r,e,i)):(Ze&&n&&eb(e),e.flags|=1,br(r,e,t,i),e.child)}function LC(r,e,t,n,i,o){return cl(e),e.updateQueue=null,t=dE(e,n,t,i),fE(r),n=ub(),r!==null&&!pr?(cb(r,e,o),wa(r,e,o)):(Ze&&n&&eb(e),e.flags|=1,br(r,e,t,o),e.child)}function NC(r,e,t,n,i){if(cl(e),e.stateNode===null){var o=fu,a=t.contextType;typeof a=="object"&&a!==null&&(o=Rr(a)),o=new t(n,o),e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=S0,e.stateNode=o,o._reactInternals=e,o=e.stateNode,o.props=n,o.state=e.memoizedState,o.refs={},ob(e),a=t.contextType,o.context=typeof a=="object"&&a!==null?Rr(a):fu,o.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Hm(e,t,a,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(a=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),a!==o.state&&S0.enqueueReplaceState(o,o.state,null),Tf(e,n,o,i),Ef(),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!0}else if(r===null){o=e.stateNode;var l=e.memoizedProps,u=dl(t,l);o.props=u;var c=o.context,d=t.contextType;a=fu,typeof d=="object"&&d!==null&&(a=Rr(d));var h=t.getDerivedStateFromProps;d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function",l=e.pendingProps!==l,d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l||c!==a)&&kC(e,o,n,a),Ja=!1;var g=e.memoizedState;o.state=g,Tf(e,n,o,i),Ef(),c=e.memoizedState,l||g!==c||Ja?(typeof h=="function"&&(Hm(e,t,h,n),c=e.memoizedState),(u=Ja||AC(e,t,u,n,g,c,a))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),o.props=n,o.state=c,o.context=a,n=u):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,g0(r,e),a=e.memoizedProps,d=dl(t,a),o.props=d,h=e.pendingProps,g=o.context,c=t.contextType,u=fu,typeof c=="object"&&c!==null&&(u=Rr(c)),l=t.getDerivedStateFromProps,(c=typeof l=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||g!==u)&&kC(e,o,n,u),Ja=!1,g=e.memoizedState,o.state=g,Tf(e,n,o,i),Ef();var m=e.memoizedState;a!==h||g!==m||Ja||r!==null&&r.dependencies!==null&&Dp(r.dependencies)?(typeof l=="function"&&(Hm(e,t,l,n),m=e.memoizedState),(d=Ja||AC(e,t,d,n,g,m,u)||r!==null&&r.dependencies!==null&&Dp(r.dependencies))?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,m,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,m,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===r.memoizedProps&&g===r.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===r.memoizedProps&&g===r.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=m),o.props=n,o.state=m,o.context=u,n=d):(typeof o.componentDidUpdate!="function"||a===r.memoizedProps&&g===r.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===r.memoizedProps&&g===r.memoizedState||(e.flags|=1024),n=!1)}return o=n,tp(r,e),n=(e.flags&128)!==0,o||n?(o=e.stateNode,t=n&&typeof t.getDerivedStateFromError!="function"?null:o.render(),e.flags|=1,r!==null&&n?(e.child=Zu(e,r.child,null,i),e.child=Zu(e,null,t,i)):br(r,e,t,i),e.memoizedState=o.state,r=e.child):r=wa(r,e,i),r}function jC(r,e,t,n){return yd(),e.flags|=256,br(r,e,t,n),e.child}var Fm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wm(r){return{baseLanes:r,cachePool:aE()}}function qm(r,e,t){return r=r!==null?r.childLanes&~t:0,e&&(r|=eo),r}function tT(r,e,t){var n=e.pendingProps,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=r!==null&&r.memoizedState===null?!1:(sr.current&2)!==0),a&&(i=!0,e.flags&=-129),a=(e.flags&32)!==0,e.flags&=-33,r===null){if(Ze){if(i?rs(e):is(),Ze){var l=Ln,u;if(u=l){t:{for(u=l,l=Po;u.nodeType!==8;){if(!l){l=null;break t}if(u=wo(u.nextSibling),u===null){l=null;break t}}l=u}l!==null?(e.memoizedState={dehydrated:l,treeContext:rl!==null?{id:ca,overflow:fa}:null,retryLane:536870912,hydrationErrors:null},u=Ni(18,null,null,0),u.stateNode=l,u.return=e,e.child=u,Gr=e,Ln=null,u=!0):u=!1}u||ul(e)}if(l=e.memoizedState,l!==null&&(l=l.dehydrated,l!==null))return B0(l)?e.lanes=32:e.lanes=536870912,null;ha(e)}return l=n.children,n=n.fallback,i?(is(),i=e.mode,l=Bp({mode:"hidden",children:l},i),n=nl(n,i,t,null),l.return=e,n.return=e,l.sibling=n,e.child=l,i=e.child,i.memoizedState=Wm(t),i.childLanes=qm(r,a,t),e.memoizedState=Fm,n):(rs(e),O0(e,l))}if(u=r.memoizedState,u!==null&&(l=u.dehydrated,l!==null)){if(o)e.flags&256?(rs(e),e.flags&=-257,e=Km(r,e,t)):e.memoizedState!==null?(is(),e.child=r.child,e.flags|=128,e=null):(is(),i=n.fallback,l=e.mode,n=Bp({mode:"visible",children:n.children},l),i=nl(i,l,t,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,Zu(e,r.child,null,t),n=e.child,n.memoizedState=Wm(t),n.childLanes=qm(r,a,t),e.memoizedState=Fm,e=i);else if(rs(e),B0(l)){if(a=l.nextSibling&&l.nextSibling.dataset,a)var c=a.dgst;a=c,n=Error(Kt(419)),n.stack="",n.digest=a,Xf({value:n,source:null,stack:null}),e=Km(r,e,t)}else if(pr||_d(r,e,t,!1),a=(t&r.childLanes)!==0,pr||a){if(a=pn,a!==null&&(n=t&-t,n=n&42?1:F_(n),n=n&(a.suspendedLanes|t)?0:n,n!==0&&n!==u.retryLane))throw u.retryLane=n,ac(r,n),zi(a,r,n),$E;l.data==="$?"||P0(),e=Km(r,e,t)}else l.data==="$?"?(e.flags|=192,e.child=r.child,e=null):(r=u.treeContext,Ln=wo(l.nextSibling),Gr=e,Ze=!0,il=null,Po=!1,r!==null&&(Zi[$i++]=ca,Zi[$i++]=fa,Zi[$i++]=rl,ca=r.id,fa=r.overflow,rl=e),e=O0(e,n.children),e.flags|=4096);return e}return i?(is(),i=n.fallback,l=e.mode,u=r.child,c=u.sibling,n=va(u,{mode:"hidden",children:n.children}),n.subtreeFlags=u.subtreeFlags&65011712,c!==null?i=va(c,i):(i=nl(i,l,t,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,l=r.child.memoizedState,l===null?l=Wm(t):(u=l.cachePool,u!==null?(c=ar._currentValue,u=u.parent!==c?{parent:c,pool:c}:u):u=aE(),l={baseLanes:l.baseLanes|t,cachePool:u}),i.memoizedState=l,i.childLanes=qm(r,a,t),e.memoizedState=Fm,n):(rs(e),t=r.child,r=t.sibling,t=va(t,{mode:"visible",children:n.children}),t.return=e,t.sibling=null,r!==null&&(a=e.deletions,a===null?(e.deletions=[r],e.flags|=16):a.push(r)),e.child=t,e.memoizedState=null,t)}function O0(r,e){return e=Bp({mode:"visible",children:e},r.mode),e.return=r,r.child=e}function Bp(r,e){return r=Ni(22,r,null,e),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function Km(r,e,t){return Zu(e,r.child,null,t),r=O0(e,e.pendingProps.children),r.flags|=2,e.memoizedState=null,r}function VC(r,e,t){r.lanes|=e;var n=r.alternate;n!==null&&(n.lanes|=e),d0(r.return,e,t)}function Gm(r,e,t,n,i){var o=r.memoizedState;o===null?r.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:t,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=t,o.tailMode=i)}function eT(r,e,t){var n=e.pendingProps,i=n.revealOrder,o=n.tail;if(br(r,e,n.children,t),n=sr.current,n&2)n=n&1|2,e.flags|=128;else{if(r!==null&&r.flags&128)t:for(r=e.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&VC(r,t,e);else if(r.tag===19)VC(r,t,e);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break t;for(;r.sibling===null;){if(r.return===null||r.return===e)break t;r=r.return}r.sibling.return=r.return,r=r.sibling}n&=1}switch(On(sr,n),i){case"forwards":for(t=e.child,i=null;t!==null;)r=t.alternate,r!==null&&Np(r)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),Gm(e,!1,i,t,o);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(r=i.alternate,r!==null&&Np(r)===null){e.child=i;break}r=i.sibling,i.sibling=t,t=i,i=r}Gm(e,!0,t,null,o);break;case"together":Gm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function wa(r,e,t){if(r!==null&&(e.dependencies=r.dependencies),Cs|=e.lanes,!(t&e.childLanes))if(r!==null){if(_d(r,e,t,!1),(t&e.childLanes)===0)return null}else return null;if(r!==null&&e.child!==r.child)throw Error(Kt(153));if(e.child!==null){for(r=e.child,t=va(r,r.pendingProps),e.child=t,t.return=e;r.sibling!==null;)r=r.sibling,t=t.sibling=va(r,r.pendingProps),t.return=e;t.sibling=null}return e.child}function _b(r,e){return r.lanes&e?!0:(r=r.dependencies,!!(r!==null&&Dp(r)))}function iR(r,e,t){switch(e.tag){case 3:Sp(e,e.stateNode.containerInfo),ns(e,ar,r.memoizedState.cache),yd();break;case 27:case 5:t0(e);break;case 4:Sp(e,e.stateNode.containerInfo);break;case 10:ns(e,e.type,e.memoizedProps.value);break;case 13:var n=e.memoizedState;if(n!==null)return n.dehydrated!==null?(rs(e),e.flags|=128,null):t&e.child.childLanes?tT(r,e,t):(rs(e),r=wa(r,e,t),r!==null?r.sibling:null);rs(e);break;case 19:var i=(r.flags&128)!==0;if(n=(t&e.childLanes)!==0,n||(_d(r,e,t,!1),n=(t&e.childLanes)!==0),i){if(n)return eT(r,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),On(sr,sr.current),n)break;return null;case 22:case 23:return e.lanes=0,QE(r,e,t);case 24:ns(e,ar,r.memoizedState.cache)}return wa(r,e,t)}function nT(r,e,t){if(r!==null)if(r.memoizedProps!==e.pendingProps)pr=!0;else{if(!_b(r,t)&&!(e.flags&128))return pr=!1,iR(r,e,t);pr=!!(r.flags&131072)}else pr=!1,Ze&&e.flags&1048576&&iE(e,kp,e.index);switch(e.lanes=0,e.tag){case 16:t:{r=e.pendingProps;var n=e.elementType,i=n._init;if(n=i(n._payload),e.type=n,typeof n=="function")tb(n)?(r=dl(n,r),e.tag=1,e=NC(null,e,n,r,t)):(e.tag=0,e=x0(null,e,n,r,t));else{if(n!=null){if(i=n.$$typeof,i===I_){e.tag=11,e=PC(null,e,n,r,t);break t}else if(i===z_){e.tag=14,e=MC(null,e,n,r,t);break t}}throw e=Jy(n)||n,Error(Kt(306,e,""))}}return e;case 0:return x0(r,e,e.type,e.pendingProps,t);case 1:return n=e.type,i=dl(n,e.pendingProps),NC(r,e,n,i,t);case 3:t:{if(Sp(e,e.stateNode.containerInfo),r===null)throw Error(Kt(387));n=e.pendingProps;var o=e.memoizedState;i=o.element,g0(r,e),Tf(e,n,null,t);var a=e.memoizedState;if(n=a.cache,ns(e,ar,n),n!==o.cache&&h0(e,[ar],t,!0),Ef(),n=a.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:a.cache},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){e=jC(r,e,n,t);break t}else if(n!==i){i=to(Error(Kt(424)),e),Xf(i),e=jC(r,e,n,t);break t}else{switch(r=e.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Ln=wo(r.firstChild),Gr=e,Ze=!0,il=null,Po=!0,t=WE(e,null,n,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling}else{if(yd(),n===i){e=wa(r,e,t);break t}br(r,e,n,t)}e=e.child}return e;case 26:return tp(r,e),r===null?(t=tx(e.type,null,e.pendingProps,null))?e.memoizedState=t:Ze||(t=e.type,r=e.pendingProps,n=qp(fs.current).createElement(t),n[Mr]=e,n[mi]=r,Sr(n,t,r),hr(n),e.stateNode=n):e.memoizedState=tx(e.type,r.memoizedProps,e.pendingProps,r.memoizedState),null;case 27:return t0(e),r===null&&Ze&&(n=e.stateNode=HT(e.type,e.pendingProps,fs.current),Gr=e,Po=!0,i=Ln,Ts(e.type)?(U0=i,Ln=wo(n.firstChild)):Ln=i),br(r,e,e.pendingProps.children,t),tp(r,e),r===null&&(e.flags|=4194304),e.child;case 5:return r===null&&Ze&&((i=n=Ln)&&(n=MR(n,e.type,e.pendingProps,Po),n!==null?(e.stateNode=n,Gr=e,Ln=wo(n.firstChild),Po=!1,i=!0):i=!1),i||ul(e)),t0(e),i=e.type,o=e.pendingProps,a=r!==null?r.memoizedProps:null,n=o.children,j0(i,o)?n=null:a!==null&&j0(i,a)&&(e.flags|=32),e.memoizedState!==null&&(i=lb(r,e,ZM,null,null,t),ed._currentValue=i),tp(r,e),br(r,e,n,t),e.child;case 6:return r===null&&Ze&&((r=t=Ln)&&(t=RR(t,e.pendingProps,Po),t!==null?(e.stateNode=t,Gr=e,Ln=null,r=!0):r=!1),r||ul(e)),null;case 13:return tT(r,e,t);case 4:return Sp(e,e.stateNode.containerInfo),n=e.pendingProps,r===null?e.child=Zu(e,null,n,t):br(r,e,n,t),e.child;case 11:return PC(r,e,e.type,e.pendingProps,t);case 7:return br(r,e,e.pendingProps,t),e.child;case 8:return br(r,e,e.pendingProps.children,t),e.child;case 12:return br(r,e,e.pendingProps.children,t),e.child;case 10:return n=e.pendingProps,ns(e,e.type,n.value),br(r,e,n.children,t),e.child;case 9:return i=e.type._context,n=e.pendingProps.children,cl(e),i=Rr(i),n=n(i),e.flags|=1,br(r,e,n,t),e.child;case 14:return MC(r,e,e.type,e.pendingProps,t);case 15:return JE(r,e,e.type,e.pendingProps,t);case 19:return eT(r,e,t);case 31:return n=e.pendingProps,t=e.mode,n={mode:n.mode,children:n.children},r===null?(t=Bp(n,t),t.ref=e.ref,e.child=t,t.return=e,e=t):(t=va(r.child,n),t.ref=e.ref,e.child=t,t.return=e,e=t),e;case 22:return QE(r,e,t);case 24:return cl(e),n=Rr(ar),r===null?(i=ib(),i===null&&(i=pn,o=rb(),i.pooledCache=o,o.refCount++,o!==null&&(i.pooledCacheLanes|=t),i=o),e.memoizedState={parent:n,cache:i},ob(e),ns(e,ar,i)):(r.lanes&t&&(g0(r,e),Tf(e,null,null,t),Ef()),i=r.memoizedState,o=e.memoizedState,i.parent!==n?(i={parent:n,cache:n},e.memoizedState=i,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=i),ns(e,ar,n)):(n=o.cache,ns(e,ar,n),n!==i.cache&&h0(e,[ar],t,!0))),br(r,e,e.pendingProps.children,t),e.child;case 29:throw e.pendingProps}throw Error(Kt(156,e.tag))}function na(r){r.flags|=4}function BC(r,e){if(e.type!=="stylesheet"||e.state.loading&4)r.flags&=-16777217;else if(r.flags|=16777216,!qT(e)){if(e=io.current,e!==null&&((Ge&4194048)===Ge?No!==null:(Ge&62914560)!==Ge&&!(Ge&536870912)||e!==No))throw xf=v0,sE;r.flags|=8192}}function Th(r,e){e!==null&&(r.flags|=4),r.flags&16384&&(e=r.tag!==22?AO():536870912,r.lanes|=e,$u|=e)}function Qc(r,e){if(!Ze)switch(r.tailMode){case"hidden":e=r.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?r.tail=null:t.sibling=null;break;case"collapsed":t=r.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e||r.tail===null?r.tail=null:r.tail.sibling=null:n.sibling=null}}function An(r){var e=r.alternate!==null&&r.alternate.child===r.child,t=0,n=0;if(e)for(var i=r.child;i!==null;)t|=i.lanes|i.childLanes,n|=i.subtreeFlags&65011712,n|=i.flags&65011712,i.return=r,i=i.sibling;else for(i=r.child;i!==null;)t|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=r,i=i.sibling;return r.subtreeFlags|=n,r.childLanes=t,e}function oR(r,e,t){var n=e.pendingProps;switch(nb(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return An(e),null;case 1:return An(e),null;case 3:return t=e.stateNode,n=null,r!==null&&(n=r.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),ga(ar),Wu(),t.pendingContext&&(t.context=t.pendingContext,t.pendingContext=null),(r===null||r.child===null)&&($c(e)?na(e):r===null||r.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,pC())),An(e),null;case 26:return t=e.memoizedState,r===null?(na(e),t!==null?(An(e),BC(e,t)):(An(e),e.flags&=-16777217)):t?t!==r.memoizedState?(na(e),An(e),BC(e,t)):(An(e),e.flags&=-16777217):(r.memoizedProps!==n&&na(e),An(e),e.flags&=-16777217),null;case 27:Cp(e),t=fs.current;var i=e.type;if(r!==null&&e.stateNode!=null)r.memoizedProps!==n&&na(e);else{if(!n){if(e.stateNode===null)throw Error(Kt(166));return An(e),null}r=Ro.current,$c(e)?dC(e):(r=HT(i,n,t),e.stateNode=r,na(e))}return An(e),null;case 5:if(Cp(e),t=e.type,r!==null&&e.stateNode!=null)r.memoizedProps!==n&&na(e);else{if(!n){if(e.stateNode===null)throw Error(Kt(166));return An(e),null}if(r=Ro.current,$c(e))dC(e);else{switch(i=qp(fs.current),r){case 1:r=i.createElementNS("http://www.w3.org/2000/svg",t);break;case 2:r=i.createElementNS("http://www.w3.org/1998/Math/MathML",t);break;default:switch(t){case"svg":r=i.createElementNS("http://www.w3.org/2000/svg",t);break;case"math":r=i.createElementNS("http://www.w3.org/1998/Math/MathML",t);break;case"script":r=i.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof n.is=="string"?i.createElement("select",{is:n.is}):i.createElement("select"),n.multiple?r.multiple=!0:n.size&&(r.size=n.size);break;default:r=typeof n.is=="string"?i.createElement(t,{is:n.is}):i.createElement(t)}}r[Mr]=e,r[mi]=n;t:for(i=e.child;i!==null;){if(i.tag===5||i.tag===6)r.appendChild(i.stateNode);else if(i.tag!==4&&i.tag!==27&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}e.stateNode=r;t:switch(Sr(r,t,n),t){case"button":case"input":case"select":case"textarea":r=!!n.autoFocus;break t;case"img":r=!0;break t;default:r=!1}r&&na(e)}}return An(e),e.flags&=-16777217,null;case 6:if(r&&e.stateNode!=null)r.memoizedProps!==n&&na(e);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Kt(166));if(r=fs.current,$c(e)){if(r=e.stateNode,t=e.memoizedProps,n=null,i=Gr,i!==null)switch(i.tag){case 27:case 5:n=i.memoizedProps}r[Mr]=e,r=!!(r.nodeValue===t||n!==null&&n.suppressHydrationWarning===!0||UT(r.nodeValue,t)),r||ul(e)}else r=qp(r).createTextNode(n),r[Mr]=e,e.stateNode=r}return An(e),null;case 13:if(n=e.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(i=$c(e),n!==null&&n.dehydrated!==null){if(r===null){if(!i)throw Error(Kt(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Kt(317));i[Mr]=e}else yd(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;An(e),i=!1}else i=pC(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=i),i=!0;if(!i)return e.flags&256?(ha(e),e):(ha(e),null)}if(ha(e),e.flags&128)return e.lanes=t,e;if(t=n!==null,r=r!==null&&r.memoizedState!==null,t){n=e.child,i=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(i=n.alternate.memoizedState.cachePool.pool);var o=null;n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==i&&(n.flags|=2048)}return t!==r&&t&&(e.child.flags|=8192),Th(e,e.updateQueue),An(e),null;case 4:return Wu(),r===null&&Tb(e.stateNode.containerInfo),An(e),null;case 10:return ga(e.type),An(e),null;case 19:if(vr(sr),i=e.memoizedState,i===null)return An(e),null;if(n=(e.flags&128)!==0,o=i.rendering,o===null)if(n)Qc(i,!1);else{if(Nn!==0||r!==null&&r.flags&128)for(r=e.child;r!==null;){if(o=Np(r),o!==null){for(e.flags|=128,Qc(i,!1),r=o.updateQueue,e.updateQueue=r,Th(e,r),e.subtreeFlags=0,r=t,t=e.child;t!==null;)rE(t,r),t=t.sibling;return On(sr,sr.current&1|2),e.child}r=r.sibling}i.tail!==null&&Lo()>Ip&&(e.flags|=128,n=!0,Qc(i,!1),e.lanes=4194304)}else{if(!n)if(r=Np(o),r!==null){if(e.flags|=128,n=!0,r=r.updateQueue,e.updateQueue=r,Th(e,r),Qc(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ze)return An(e),null}else 2*Lo()-i.renderingStartTime>Ip&&t!==536870912&&(e.flags|=128,n=!0,Qc(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(r=i.last,r!==null?r.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Lo(),e.sibling=null,r=sr.current,On(sr,n?r&1|2:r&1),e):(An(e),null);case 22:case 23:return ha(e),ab(),n=e.memoizedState!==null,r!==null?r.memoizedState!==null!==n&&(e.flags|=8192):n&&(e.flags|=8192),n?t&536870912&&!(e.flags&128)&&(An(e),e.subtreeFlags&6&&(e.flags|=8192)):An(e),t=e.updateQueue,t!==null&&Th(e,t.retryQueue),t=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),n=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),n!==t&&(e.flags|=2048),r!==null&&vr(ol),null;case 24:return t=null,r!==null&&(t=r.memoizedState.cache),e.memoizedState.cache!==t&&(e.flags|=2048),ga(ar),An(e),null;case 25:return null;case 30:return null}throw Error(Kt(156,e.tag))}function aR(r,e){switch(nb(e),e.tag){case 1:return r=e.flags,r&65536?(e.flags=r&-65537|128,e):null;case 3:return ga(ar),Wu(),r=e.flags,r&65536&&!(r&128)?(e.flags=r&-65537|128,e):null;case 26:case 27:case 5:return Cp(e),null;case 13:if(ha(e),r=e.memoizedState,r!==null&&r.dehydrated!==null){if(e.alternate===null)throw Error(Kt(340));yd()}return r=e.flags,r&65536?(e.flags=r&-65537|128,e):null;case 19:return vr(sr),null;case 4:return Wu(),null;case 10:return ga(e.type),null;case 22:case 23:return ha(e),ab(),r!==null&&vr(ol),r=e.flags,r&65536?(e.flags=r&-65537|128,e):null;case 24:return ga(ar),null;case 25:return null;default:return null}}function rT(r,e){switch(nb(e),e.tag){case 3:ga(ar),Wu();break;case 26:case 27:case 5:Cp(e);break;case 4:Wu();break;case 13:ha(e);break;case 19:vr(sr);break;case 10:ga(e.type);break;case 22:case 23:ha(e),ab(),r!==null&&vr(ol);break;case 24:ga(ar)}}function xd(r,e){try{var t=e.updateQueue,n=t!==null?t.lastEffect:null;if(n!==null){var i=n.next;t=i;do{if((t.tag&r)===r){n=void 0;var o=t.create,a=t.inst;n=o(),a.destroy=n}t=t.next}while(t!==i)}}catch(l){sn(e,e.return,l)}}function Ss(r,e,t){try{var n=e.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var o=i.next;n=o;do{if((n.tag&r)===r){var a=n.inst,l=a.destroy;if(l!==void 0){a.destroy=void 0,i=e;var u=t,c=l;try{c()}catch(d){sn(i,u,d)}}}n=n.next}while(n!==o)}}catch(d){sn(e,e.return,d)}}function iT(r){var e=r.updateQueue;if(e!==null){var t=r.stateNode;try{cE(e,t)}catch(n){sn(r,r.return,n)}}}function oT(r,e,t){t.props=dl(r.type,r.memoizedProps),t.state=r.memoizedState;try{t.componentWillUnmount()}catch(n){sn(r,e,n)}}function kf(r,e){try{var t=r.ref;if(t!==null){switch(r.tag){case 26:case 27:case 5:var n=r.stateNode;break;case 30:n=r.stateNode;break;default:n=r.stateNode}typeof t=="function"?r.refCleanup=t(n):t.current=n}}catch(i){sn(r,e,i)}}function Mo(r,e){var t=r.ref,n=r.refCleanup;if(t!==null)if(typeof n=="function")try{n()}catch(i){sn(r,e,i)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof t=="function")try{t(null)}catch(i){sn(r,e,i)}else t.current=null}function aT(r){var e=r.type,t=r.memoizedProps,n=r.stateNode;try{t:switch(e){case"button":case"input":case"select":case"textarea":t.autoFocus&&n.focus();break t;case"img":t.src?n.src=t.src:t.srcSet&&(n.srcset=t.srcSet)}}catch(i){sn(r,r.return,i)}}function Ym(r,e,t){try{var n=r.stateNode;TR(n,r.type,t,e),n[mi]=e}catch(i){sn(r,r.return,i)}}function sT(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Ts(r.type)||r.tag===4}function Xm(r){t:for(;;){for(;r.sibling===null;){if(r.return===null||sT(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Ts(r.type)||r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function E0(r,e,t){var n=r.tag;if(n===5||n===6)r=r.stateNode,e?(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t).insertBefore(r,e):(e=t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,e.appendChild(r),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Og));else if(n!==4&&(n===27&&Ts(r.type)&&(t=r.stateNode,e=null),r=r.child,r!==null))for(E0(r,e,t),r=r.sibling;r!==null;)E0(r,e,t),r=r.sibling}function Up(r,e,t){var n=r.tag;if(n===5||n===6)r=r.stateNode,e?t.insertBefore(r,e):t.appendChild(r);else if(n!==4&&(n===27&&Ts(r.type)&&(t=r.stateNode),r=r.child,r!==null))for(Up(r,e,t),r=r.sibling;r!==null;)Up(r,e,t),r=r.sibling}function lT(r){var e=r.stateNode,t=r.memoizedProps;try{for(var n=r.type,i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Sr(e,n,t),e[Mr]=r,e[mi]=t}catch(o){sn(r,r.return,o)}}var sa=!1,Wn=!1,Zm=!1,UC=typeof WeakSet=="function"?WeakSet:Set,dr=null;function sR(r,e){if(r=r.containerInfo,L0=Xp,r=XO(r),$_(r)){if("selectionStart"in r)var t={start:r.selectionStart,end:r.selectionEnd};else t:{t=(t=r.ownerDocument)&&t.defaultView||window;var n=t.getSelection&&t.getSelection();if(n&&n.rangeCount!==0){t=n.anchorNode;var i=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{t.nodeType,o.nodeType}catch{t=null;break t}var a=0,l=-1,u=-1,c=0,d=0,h=r,g=null;e:for(;;){for(var m;h!==t||i!==0&&h.nodeType!==3||(l=a+i),h!==o||n!==0&&h.nodeType!==3||(u=a+n),h.nodeType===3&&(a+=h.nodeValue.length),(m=h.firstChild)!==null;)g=h,h=m;for(;;){if(h===r)break e;if(g===t&&++c===i&&(l=a),g===o&&++d===n&&(u=a),(m=h.nextSibling)!==null)break;h=g,g=h.parentNode}h=m}t=l===-1||u===-1?null:{start:l,end:u}}else t=null}t=t||{start:0,end:0}}else t=null;for(N0={focusedElem:r,selectionRange:t},Xp=!1,dr=e;dr!==null;)if(e=dr,r=e.child,(e.subtreeFlags&1024)!==0&&r!==null)r.return=e,dr=r;else for(;dr!==null;){switch(e=dr,o=e.alternate,r=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if(r&1024&&o!==null){r=void 0,t=e,i=o.memoizedProps,o=o.memoizedState,n=t.stateNode;try{var _=dl(t.type,i,t.elementType===t.type);r=n.getSnapshotBeforeUpdate(_,o),n.__reactInternalSnapshotBeforeUpdate=r}catch(b){sn(t,t.return,b)}}break;case 3:if(r&1024){if(r=e.stateNode.containerInfo,t=r.nodeType,t===9)V0(r);else if(t===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":V0(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(r&1024)throw Error(Kt(163))}if(r=e.sibling,r!==null){r.return=e.return,dr=r;break}dr=e.return}}function uT(r,e,t){var n=t.flags;switch(t.tag){case 0:case 11:case 15:Xa(r,t),n&4&&xd(5,t);break;case 1:if(Xa(r,t),n&4)if(r=t.stateNode,e===null)try{r.componentDidMount()}catch(a){sn(t,t.return,a)}else{var i=dl(t.type,e.memoizedProps);e=e.memoizedState;try{r.componentDidUpdate(i,e,r.__reactInternalSnapshotBeforeUpdate)}catch(a){sn(t,t.return,a)}}n&64&&iT(t),n&512&&kf(t,t.return);break;case 3:if(Xa(r,t),n&64&&(r=t.updateQueue,r!==null)){if(e=null,t.child!==null)switch(t.child.tag){case 27:case 5:e=t.child.stateNode;break;case 1:e=t.child.stateNode}try{cE(r,e)}catch(a){sn(t,t.return,a)}}break;case 27:e===null&&n&4&&lT(t);case 26:case 5:Xa(r,t),e===null&&n&4&&aT(t),n&512&&kf(t,t.return);break;case 12:Xa(r,t);break;case 13:Xa(r,t),n&4&&dT(r,t),n&64&&(r=t.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(t=gR.bind(null,t),LR(r,t))));break;case 22:if(n=t.memoizedState!==null||sa,!n){e=e!==null&&e.memoizedState!==null||Wn,i=sa;var o=Wn;sa=n,(Wn=e)&&!o?Za(r,t,(t.subtreeFlags&8772)!==0):Xa(r,t),sa=i,Wn=o}break;case 30:break;default:Xa(r,t)}}function cT(r){var e=r.alternate;e!==null&&(r.alternate=null,cT(e)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(e=r.stateNode,e!==null&&q_(e)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Cn=null,li=!1;function ra(r,e,t){for(t=t.child;t!==null;)fT(r,e,t),t=t.sibling}function fT(r,e,t){if(Bi&&typeof Bi.onCommitFiberUnmount=="function")try{Bi.onCommitFiberUnmount(hd,t)}catch{}switch(t.tag){case 26:Wn||Mo(t,e),ra(r,e,t),t.memoizedState?t.memoizedState.count--:t.stateNode&&(t=t.stateNode,t.parentNode.removeChild(t));break;case 27:Wn||Mo(t,e);var n=Cn,i=li;Ts(t.type)&&(Cn=t.stateNode,li=!1),ra(r,e,t),Rf(t.stateNode),Cn=n,li=i;break;case 5:Wn||Mo(t,e);case 6:if(n=Cn,i=li,Cn=null,ra(r,e,t),Cn=n,li=i,Cn!==null)if(li)try{(Cn.nodeType===9?Cn.body:Cn.nodeName==="HTML"?Cn.ownerDocument.body:Cn).removeChild(t.stateNode)}catch(o){sn(t,e,o)}else try{Cn.removeChild(t.stateNode)}catch(o){sn(t,e,o)}break;case 18:Cn!==null&&(li?(r=Cn,$C(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,t.stateNode),id(r)):$C(Cn,t.stateNode));break;case 4:n=Cn,i=li,Cn=t.stateNode.containerInfo,li=!0,ra(r,e,t),Cn=n,li=i;break;case 0:case 11:case 14:case 15:Wn||Ss(2,t,e),Wn||Ss(4,t,e),ra(r,e,t);break;case 1:Wn||(Mo(t,e),n=t.stateNode,typeof n.componentWillUnmount=="function"&&oT(t,e,n)),ra(r,e,t);break;case 21:ra(r,e,t);break;case 22:Wn=(n=Wn)||t.memoizedState!==null,ra(r,e,t),Wn=n;break;default:ra(r,e,t)}}function dT(r,e){if(e.memoizedState===null&&(r=e.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{id(r)}catch(t){sn(e,e.return,t)}}function lR(r){switch(r.tag){case 13:case 19:var e=r.stateNode;return e===null&&(e=r.stateNode=new UC),e;case 22:return r=r.stateNode,e=r._retryCache,e===null&&(e=r._retryCache=new UC),e;default:throw Error(Kt(435,r.tag))}}function $m(r,e){var t=lR(r);e.forEach(function(n){var i=mR.bind(null,r,n);t.has(n)||(t.add(n),n.then(i,i))})}function ki(r,e){var t=e.deletions;if(t!==null)for(var n=0;n<t.length;n++){var i=t[n],o=r,a=e,l=a;t:for(;l!==null;){switch(l.tag){case 27:if(Ts(l.type)){Cn=l.stateNode,li=!1;break t}break;case 5:Cn=l.stateNode,li=!1;break t;case 3:case 4:Cn=l.stateNode.containerInfo,li=!0;break t}l=l.return}if(Cn===null)throw Error(Kt(160));fT(o,a,i),Cn=null,li=!1,o=i.alternate,o!==null&&(o.return=null),i.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)hT(e,r),e=e.sibling}var yo=null;function hT(r,e){var t=r.alternate,n=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:ki(e,r),Di(r),n&4&&(Ss(3,r,r.return),xd(3,r),Ss(5,r,r.return));break;case 1:ki(e,r),Di(r),n&512&&(Wn||t===null||Mo(t,t.return)),n&64&&sa&&(r=r.updateQueue,r!==null&&(n=r.callbacks,n!==null&&(t=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=t===null?n:t.concat(n))));break;case 26:var i=yo;if(ki(e,r),Di(r),n&512&&(Wn||t===null||Mo(t,t.return)),n&4){var o=t!==null?t.memoizedState:null;if(n=r.memoizedState,t===null)if(n===null)if(r.stateNode===null){t:{n=r.type,t=r.memoizedProps,i=i.ownerDocument||i;e:switch(n){case"title":o=i.getElementsByTagName("title")[0],(!o||o[gd]||o[Mr]||o.namespaceURI==="http://www.w3.org/2000/svg"||o.hasAttribute("itemprop"))&&(o=i.createElement(n),i.head.insertBefore(o,i.querySelector("head > title"))),Sr(o,n,t),o[Mr]=r,hr(o),n=o;break t;case"link":var a=nx("link","href",i).get(n+(t.href||""));if(a){for(var l=0;l<a.length;l++)if(o=a[l],o.getAttribute("href")===(t.href==null||t.href===""?null:t.href)&&o.getAttribute("rel")===(t.rel==null?null:t.rel)&&o.getAttribute("title")===(t.title==null?null:t.title)&&o.getAttribute("crossorigin")===(t.crossOrigin==null?null:t.crossOrigin)){a.splice(l,1);break e}}o=i.createElement(n),Sr(o,n,t),i.head.appendChild(o);break;case"meta":if(a=nx("meta","content",i).get(n+(t.content||""))){for(l=0;l<a.length;l++)if(o=a[l],o.getAttribute("content")===(t.content==null?null:""+t.content)&&o.getAttribute("name")===(t.name==null?null:t.name)&&o.getAttribute("property")===(t.property==null?null:t.property)&&o.getAttribute("http-equiv")===(t.httpEquiv==null?null:t.httpEquiv)&&o.getAttribute("charset")===(t.charSet==null?null:t.charSet)){a.splice(l,1);break e}}o=i.createElement(n),Sr(o,n,t),i.head.appendChild(o);break;default:throw Error(Kt(468,n))}o[Mr]=r,hr(o),n=o}r.stateNode=n}else rx(i,r.type,r.stateNode);else r.stateNode=ex(i,n,r.memoizedProps);else o!==n?(o===null?t.stateNode!==null&&(t=t.stateNode,t.parentNode.removeChild(t)):o.count--,n===null?rx(i,r.type,r.stateNode):ex(i,n,r.memoizedProps)):n===null&&r.stateNode!==null&&Ym(r,r.memoizedProps,t.memoizedProps)}break;case 27:ki(e,r),Di(r),n&512&&(Wn||t===null||Mo(t,t.return)),t!==null&&n&4&&Ym(r,r.memoizedProps,t.memoizedProps);break;case 5:if(ki(e,r),Di(r),n&512&&(Wn||t===null||Mo(t,t.return)),r.flags&32){i=r.stateNode;try{Ku(i,"")}catch(m){sn(r,r.return,m)}}n&4&&r.stateNode!=null&&(i=r.memoizedProps,Ym(r,i,t!==null?t.memoizedProps:i)),n&1024&&(Zm=!0);break;case 6:if(ki(e,r),Di(r),n&4){if(r.stateNode===null)throw Error(Kt(162));n=r.memoizedProps,t=r.stateNode;try{t.nodeValue=n}catch(m){sn(r,r.return,m)}}break;case 3:if(rp=null,i=yo,yo=Kp(e.containerInfo),ki(e,r),yo=i,Di(r),n&4&&t!==null&&t.memoizedState.isDehydrated)try{id(e.containerInfo)}catch(m){sn(r,r.return,m)}Zm&&(Zm=!1,pT(r));break;case 4:n=yo,yo=Kp(r.stateNode.containerInfo),ki(e,r),Di(r),yo=n;break;case 12:ki(e,r),Di(r);break;case 13:ki(e,r),Di(r),r.child.flags&8192&&r.memoizedState!==null!=(t!==null&&t.memoizedState!==null)&&(xb=Lo()),n&4&&(n=r.updateQueue,n!==null&&(r.updateQueue=null,$m(r,n)));break;case 22:i=r.memoizedState!==null;var u=t!==null&&t.memoizedState!==null,c=sa,d=Wn;if(sa=c||i,Wn=d||u,ki(e,r),Wn=d,sa=c,Di(r),n&8192)t:for(e=r.stateNode,e._visibility=i?e._visibility&-2:e._visibility|1,i&&(t===null||u||sa||Wn||Ks(r)),t=null,e=r;;){if(e.tag===5||e.tag===26){if(t===null){u=t=e;try{if(o=u.stateNode,i)a=o.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{l=u.stateNode;var h=u.memoizedProps.style,g=h!=null&&h.hasOwnProperty("display")?h.display:null;l.style.display=g==null||typeof g=="boolean"?"":(""+g).trim()}}catch(m){sn(u,u.return,m)}}}else if(e.tag===6){if(t===null){u=e;try{u.stateNode.nodeValue=i?"":u.memoizedProps}catch(m){sn(u,u.return,m)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===r)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break t;for(;e.sibling===null;){if(e.return===null||e.return===r)break t;t===e&&(t=null),e=e.return}t===e&&(t=null),e.sibling.return=e.return,e=e.sibling}n&4&&(n=r.updateQueue,n!==null&&(t=n.retryQueue,t!==null&&(n.retryQueue=null,$m(r,t))));break;case 19:ki(e,r),Di(r),n&4&&(n=r.updateQueue,n!==null&&(r.updateQueue=null,$m(r,n)));break;case 30:break;case 21:break;default:ki(e,r),Di(r)}}function Di(r){var e=r.flags;if(e&2){try{for(var t,n=r.return;n!==null;){if(sT(n)){t=n;break}n=n.return}if(t==null)throw Error(Kt(160));switch(t.tag){case 27:var i=t.stateNode,o=Xm(r);Up(r,o,i);break;case 5:var a=t.stateNode;t.flags&32&&(Ku(a,""),t.flags&=-33);var l=Xm(r);Up(r,l,a);break;case 3:case 4:var u=t.stateNode.containerInfo,c=Xm(r);E0(r,c,u);break;default:throw Error(Kt(161))}}catch(d){sn(r,r.return,d)}r.flags&=-3}e&4096&&(r.flags&=-4097)}function pT(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var e=r;pT(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),r=r.sibling}}function Xa(r,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)uT(r,e.alternate,e),e=e.sibling}function Ks(r){for(r=r.child;r!==null;){var e=r;switch(e.tag){case 0:case 11:case 14:case 15:Ss(4,e,e.return),Ks(e);break;case 1:Mo(e,e.return);var t=e.stateNode;typeof t.componentWillUnmount=="function"&&oT(e,e.return,t),Ks(e);break;case 27:Rf(e.stateNode);case 26:case 5:Mo(e,e.return),Ks(e);break;case 22:e.memoizedState===null&&Ks(e);break;case 30:Ks(e);break;default:Ks(e)}r=r.sibling}}function Za(r,e,t){for(t=t&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var n=e.alternate,i=r,o=e,a=o.flags;switch(o.tag){case 0:case 11:case 15:Za(i,o,t),xd(4,o);break;case 1:if(Za(i,o,t),n=o,i=n.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(c){sn(n,n.return,c)}if(n=o,i=n.updateQueue,i!==null){var l=n.stateNode;try{var u=i.shared.hiddenCallbacks;if(u!==null)for(i.shared.hiddenCallbacks=null,i=0;i<u.length;i++)uE(u[i],l)}catch(c){sn(n,n.return,c)}}t&&a&64&&iT(o),kf(o,o.return);break;case 27:lT(o);case 26:case 5:Za(i,o,t),t&&n===null&&a&4&&aT(o),kf(o,o.return);break;case 12:Za(i,o,t);break;case 13:Za(i,o,t),t&&a&4&&dT(i,o);break;case 22:o.memoizedState===null&&Za(i,o,t),kf(o,o.return);break;case 30:break;default:Za(i,o,t)}e=e.sibling}}function bb(r,e){var t=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),r=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),r!==t&&(r!=null&&r.refCount++,t!=null&&bd(t))}function wb(r,e){r=null,e.alternate!==null&&(r=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==r&&(e.refCount++,r!=null&&bd(r))}function To(r,e,t,n){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)vT(r,e,t,n),e=e.sibling}function vT(r,e,t,n){var i=e.flags;switch(e.tag){case 0:case 11:case 15:To(r,e,t,n),i&2048&&xd(9,e);break;case 1:To(r,e,t,n);break;case 3:To(r,e,t,n),i&2048&&(r=null,e.alternate!==null&&(r=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==r&&(e.refCount++,r!=null&&bd(r)));break;case 12:if(i&2048){To(r,e,t,n),r=e.stateNode;try{var o=e.memoizedProps,a=o.id,l=o.onPostCommit;typeof l=="function"&&l(a,e.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(u){sn(e,e.return,u)}}else To(r,e,t,n);break;case 13:To(r,e,t,n);break;case 23:break;case 22:o=e.stateNode,a=e.alternate,e.memoizedState!==null?o._visibility&2?To(r,e,t,n):Df(r,e):o._visibility&2?To(r,e,t,n):(o._visibility|=2,Ql(r,e,t,n,(e.subtreeFlags&10256)!==0)),i&2048&&bb(a,e);break;case 24:To(r,e,t,n),i&2048&&wb(e.alternate,e);break;default:To(r,e,t,n)}}function Ql(r,e,t,n,i){for(i=i&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var o=r,a=e,l=t,u=n,c=a.flags;switch(a.tag){case 0:case 11:case 15:Ql(o,a,l,u,i),xd(8,a);break;case 23:break;case 22:var d=a.stateNode;a.memoizedState!==null?d._visibility&2?Ql(o,a,l,u,i):Df(o,a):(d._visibility|=2,Ql(o,a,l,u,i)),i&&c&2048&&bb(a.alternate,a);break;case 24:Ql(o,a,l,u,i),i&&c&2048&&wb(a.alternate,a);break;default:Ql(o,a,l,u,i)}e=e.sibling}}function Df(r,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var t=r,n=e,i=n.flags;switch(n.tag){case 22:Df(t,n),i&2048&&bb(n.alternate,n);break;case 24:Df(t,n),i&2048&&wb(n.alternate,n);break;default:Df(t,n)}e=e.sibling}}var hf=8192;function Kl(r){if(r.subtreeFlags&hf)for(r=r.child;r!==null;)gT(r),r=r.sibling}function gT(r){switch(r.tag){case 26:Kl(r),r.flags&hf&&r.memoizedState!==null&&GR(yo,r.memoizedState,r.memoizedProps);break;case 5:Kl(r);break;case 3:case 4:var e=yo;yo=Kp(r.stateNode.containerInfo),Kl(r),yo=e;break;case 22:r.memoizedState===null&&(e=r.alternate,e!==null&&e.memoizedState!==null?(e=hf,hf=16777216,Kl(r),hf=e):Kl(r));break;default:Kl(r)}}function mT(r){var e=r.alternate;if(e!==null&&(r=e.child,r!==null)){e.child=null;do e=r.sibling,r.sibling=null,r=e;while(r!==null)}}function tf(r){var e=r.deletions;if(r.flags&16){if(e!==null)for(var t=0;t<e.length;t++){var n=e[t];dr=n,_T(n,r)}mT(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)yT(r),r=r.sibling}function yT(r){switch(r.tag){case 0:case 11:case 15:tf(r),r.flags&2048&&Ss(9,r,r.return);break;case 3:tf(r);break;case 12:tf(r);break;case 22:var e=r.stateNode;r.memoizedState!==null&&e._visibility&2&&(r.return===null||r.return.tag!==13)?(e._visibility&=-3,ep(r)):tf(r);break;default:tf(r)}}function ep(r){var e=r.deletions;if(r.flags&16){if(e!==null)for(var t=0;t<e.length;t++){var n=e[t];dr=n,_T(n,r)}mT(r)}for(r=r.child;r!==null;){switch(e=r,e.tag){case 0:case 11:case 15:Ss(8,e,e.return),ep(e);break;case 22:t=e.stateNode,t._visibility&2&&(t._visibility&=-3,ep(e));break;default:ep(e)}r=r.sibling}}function _T(r,e){for(;dr!==null;){var t=dr;switch(t.tag){case 0:case 11:case 15:Ss(8,t,e);break;case 23:case 22:if(t.memoizedState!==null&&t.memoizedState.cachePool!==null){var n=t.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:bd(t.memoizedState.cache)}if(n=t.child,n!==null)n.return=t,dr=n;else t:for(t=r;dr!==null;){n=dr;var i=n.sibling,o=n.return;if(cT(n),n===t){dr=null;break t}if(i!==null){i.return=o,dr=i;break t}dr=o}}}var uR={getCacheForType:function(r){var e=Rr(ar),t=e.data.get(r);return t===void 0&&(t=r(),e.data.set(r,t)),t}},cR=typeof WeakMap=="function"?WeakMap:Map,nn=0,pn=null,ze=null,Ge=0,en=0,Ri=null,ls=!1,sc=!1,Sb=!1,Sa=0,Nn=0,Cs=0,al=0,Cb=0,eo=0,$u=0,Pf=null,ui=null,T0=!1,xb=0,Ip=1/0,zp=null,ps=null,wr=0,vs=null,Ju=null,Iu=0,A0=0,k0=null,bT=null,Mf=0,D0=null;function Ii(){if(nn&2&&Ge!==0)return Ge&-Ge;if(Te.T!==null){var r=Gu;return r!==0?r:Eb()}return PO()}function wT(){eo===0&&(eo=!(Ge&536870912)||Ze?TO():536870912);var r=io.current;return r!==null&&(r.flags|=32),eo}function zi(r,e,t){(r===pn&&(en===2||en===9)||r.cancelPendingCommit!==null)&&(Qu(r,0),us(r,Ge,eo,!1)),vd(r,t),(!(nn&2)||r!==pn)&&(r===pn&&(!(nn&2)&&(al|=t),Nn===4&&us(r,Ge,eo,!1)),Io(r))}function ST(r,e,t){if(nn&6)throw Error(Kt(327));var n=!t&&(e&124)===0&&(e&r.expiredLanes)===0||pd(r,e),i=n?hR(r,e):Jm(r,e,!0),o=n;do{if(i===0){sc&&!n&&us(r,e,0,!1);break}else{if(t=r.current.alternate,o&&!fR(t)){i=Jm(r,e,!1),o=!1;continue}if(i===2){if(o=e,r.errorRecoveryDisabledLanes&o)var a=0;else a=r.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){e=a;t:{var l=r;i=Pf;var u=l.current.memoizedState.isDehydrated;if(u&&(Qu(l,a).flags|=256),a=Jm(l,a,!1),a!==2){if(Sb&&!u){l.errorRecoveryDisabledLanes|=o,al|=o,i=4;break t}o=ui,ui=i,o!==null&&(ui===null?ui=o:ui.push.apply(ui,o))}i=a}if(o=!1,i!==2)continue}}if(i===1){Qu(r,0),us(r,e,0,!0);break}t:{switch(n=r,o=i,o){case 0:case 1:throw Error(Kt(345));case 4:if((e&4194048)!==e)break;case 6:us(n,e,eo,!ls);break t;case 2:ui=null;break;case 3:case 5:break;default:throw Error(Kt(329))}if((e&62914560)===e&&(i=xb+300-Lo(),10<i)){if(us(n,e,eo,!ls),dg(n,0,!0)!==0)break t;n.timeoutHandle=zT(IC.bind(null,n,t,ui,zp,T0,e,eo,al,$u,ls,o,2,-0,0),i);break t}IC(n,t,ui,zp,T0,e,eo,al,$u,ls,o,0,-0,0)}}break}while(!0);Io(r)}function IC(r,e,t,n,i,o,a,l,u,c,d,h,g,m){if(r.timeoutHandle=-1,h=e.subtreeFlags,(h&8192||(h&16785408)===16785408)&&(td={stylesheets:null,count:0,unsuspend:KR},gT(e),h=YR(),h!==null)){r.cancelPendingCommit=h(HC.bind(null,r,e,o,t,n,i,a,l,u,d,1,g,m)),us(r,o,a,!c);return}HC(r,e,o,t,n,i,a,l,u)}function fR(r){for(var e=r;;){var t=e.tag;if((t===0||t===11||t===15)&&e.flags&16384&&(t=e.updateQueue,t!==null&&(t=t.stores,t!==null)))for(var n=0;n<t.length;n++){var i=t[n],o=i.getSnapshot;i=i.value;try{if(!Hi(o(),i))return!1}catch{return!1}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===r)break;for(;e.sibling===null;){if(e.return===null||e.return===r)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function us(r,e,t,n){e&=~Cb,e&=~al,r.suspendedLanes|=e,r.pingedLanes&=~e,n&&(r.warmLanes|=e),n=r.expirationTimes;for(var i=e;0<i;){var o=31-Ui(i),a=1<<o;n[o]=-1,i&=~a}t!==0&&kO(r,t,e)}function Sg(){return nn&6?!0:(Od(0),!1)}function Ob(){if(ze!==null){if(en===0)var r=ze.return;else r=ze,da=Sl=null,fb(r),Uu=null,$f=0,r=ze;for(;r!==null;)rT(r.alternate,r),r=r.return;ze=null}}function Qu(r,e){var t=r.timeoutHandle;t!==-1&&(r.timeoutHandle=-1,kR(t)),t=r.cancelPendingCommit,t!==null&&(r.cancelPendingCommit=null,t()),Ob(),pn=r,ze=t=va(r.current,null),Ge=e,en=0,Ri=null,ls=!1,sc=pd(r,e),Sb=!1,$u=eo=Cb=al=Cs=Nn=0,ui=Pf=null,T0=!1,e&8&&(e|=e&32);var n=r.entangledLanes;if(n!==0)for(r=r.entanglements,n&=e;0<n;){var i=31-Ui(n),o=1<<i;e|=r[i],n&=~o}return Sa=e,gg(),t}function CT(r,e){Be=null,Te.H=Lp,e===wd||e===yg?(e=yC(),en=3):e===sE?(e=yC(),en=4):en=e===$E?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Ri=e,ze===null&&(Nn=1,Vp(r,to(e,r.current)))}function xT(){var r=Te.H;return Te.H=Lp,r===null?Lp:r}function OT(){var r=Te.A;return Te.A=uR,r}function P0(){Nn=4,ls||(Ge&4194048)!==Ge&&io.current!==null||(sc=!0),!(Cs&134217727)&&!(al&134217727)||pn===null||us(pn,Ge,eo,!1)}function Jm(r,e,t){var n=nn;nn|=2;var i=xT(),o=OT();(pn!==r||Ge!==e)&&(zp=null,Qu(r,e)),e=!1;var a=Nn;t:do try{if(en!==0&&ze!==null){var l=ze,u=Ri;switch(en){case 8:Ob(),a=6;break t;case 3:case 2:case 9:case 6:io.current===null&&(e=!0);var c=en;if(en=0,Ri=null,pu(r,l,u,c),t&&sc){a=0;break t}break;default:c=en,en=0,Ri=null,pu(r,l,u,c)}}dR(),a=Nn;break}catch(d){CT(r,d)}while(!0);return e&&r.shellSuspendCounter++,da=Sl=null,nn=n,Te.H=i,Te.A=o,ze===null&&(pn=null,Ge=0,gg()),a}function dR(){for(;ze!==null;)ET(ze)}function hR(r,e){var t=nn;nn|=2;var n=xT(),i=OT();pn!==r||Ge!==e?(zp=null,Ip=Lo()+500,Qu(r,e)):sc=pd(r,e);t:do try{if(en!==0&&ze!==null){e=ze;var o=Ri;e:switch(en){case 1:en=0,Ri=null,pu(r,e,o,1);break;case 2:case 9:if(mC(o)){en=0,Ri=null,zC(e);break}e=function(){en!==2&&en!==9||pn!==r||(en=7),Io(r)},o.then(e,e);break t;case 3:en=7;break t;case 4:en=5;break t;case 7:mC(o)?(en=0,Ri=null,zC(e)):(en=0,Ri=null,pu(r,e,o,7));break;case 5:var a=null;switch(ze.tag){case 26:a=ze.memoizedState;case 5:case 27:var l=ze;if(!a||qT(a)){en=0,Ri=null;var u=l.sibling;if(u!==null)ze=u;else{var c=l.return;c!==null?(ze=c,Cg(c)):ze=null}break e}}en=0,Ri=null,pu(r,e,o,5);break;case 6:en=0,Ri=null,pu(r,e,o,6);break;case 8:Ob(),Nn=6;break t;default:throw Error(Kt(462))}}pR();break}catch(d){CT(r,d)}while(!0);return da=Sl=null,Te.H=n,Te.A=i,nn=t,ze!==null?0:(pn=null,Ge=0,gg(),Nn)}function pR(){for(;ze!==null&&!jP();)ET(ze)}function ET(r){var e=nT(r.alternate,r,Sa);r.memoizedProps=r.pendingProps,e===null?Cg(r):ze=e}function zC(r){var e=r,t=e.alternate;switch(e.tag){case 15:case 0:e=LC(t,e,e.pendingProps,e.type,void 0,Ge);break;case 11:e=LC(t,e,e.pendingProps,e.type.render,e.ref,Ge);break;case 5:fb(e);default:rT(t,e),e=ze=rE(e,Sa),e=nT(t,e,Sa)}r.memoizedProps=r.pendingProps,e===null?Cg(r):ze=e}function pu(r,e,t,n){da=Sl=null,fb(e),Uu=null,$f=0;var i=e.return;try{if(rR(r,i,e,t,Ge)){Nn=1,Vp(r,to(t,r.current)),ze=null;return}}catch(o){if(i!==null)throw ze=i,o;Nn=1,Vp(r,to(t,r.current)),ze=null;return}e.flags&32768?(Ze||n===1?r=!0:sc||Ge&536870912?r=!1:(ls=r=!0,(n===2||n===9||n===3||n===6)&&(n=io.current,n!==null&&n.tag===13&&(n.flags|=16384))),TT(e,r)):Cg(e)}function Cg(r){var e=r;do{if(e.flags&32768){TT(e,ls);return}r=e.return;var t=oR(e.alternate,e,Sa);if(t!==null){ze=t;return}if(e=e.sibling,e!==null){ze=e;return}ze=e=r}while(e!==null);Nn===0&&(Nn=5)}function TT(r,e){do{var t=aR(r.alternate,r);if(t!==null){t.flags&=32767,ze=t;return}if(t=r.return,t!==null&&(t.flags|=32768,t.subtreeFlags=0,t.deletions=null),!e&&(r=r.sibling,r!==null)){ze=r;return}ze=r=t}while(r!==null);Nn=6,ze=null}function HC(r,e,t,n,i,o,a,l,u){r.cancelPendingCommit=null;do xg();while(wr!==0);if(nn&6)throw Error(Kt(327));if(e!==null){if(e===r.current)throw Error(Kt(177));if(o=e.lanes|e.childLanes,o|=J_,KP(r,t,o,a,l,u),r===pn&&(ze=pn=null,Ge=0),Ju=e,vs=r,Iu=t,A0=o,k0=i,bT=n,e.subtreeFlags&10256||e.flags&10256?(r.callbackNode=null,r.callbackPriority=0,yR(xp,function(){return MT(),null})):(r.callbackNode=null,r.callbackPriority=0),n=(e.flags&13878)!==0,e.subtreeFlags&13878||n){n=Te.T,Te.T=null,i=$e.p,$e.p=2,a=nn,nn|=4;try{sR(r,e,t)}finally{nn=a,$e.p=i,Te.T=n}}wr=1,AT(),kT(),DT()}}function AT(){if(wr===1){wr=0;var r=vs,e=Ju,t=(e.flags&13878)!==0;if(e.subtreeFlags&13878||t){t=Te.T,Te.T=null;var n=$e.p;$e.p=2;var i=nn;nn|=4;try{hT(e,r);var o=N0,a=XO(r.containerInfo),l=o.focusedElem,u=o.selectionRange;if(a!==l&&l&&l.ownerDocument&&YO(l.ownerDocument.documentElement,l)){if(u!==null&&$_(l)){var c=u.start,d=u.end;if(d===void 0&&(d=c),"selectionStart"in l)l.selectionStart=c,l.selectionEnd=Math.min(d,l.value.length);else{var h=l.ownerDocument||document,g=h&&h.defaultView||window;if(g.getSelection){var m=g.getSelection(),_=l.textContent.length,b=Math.min(u.start,_),C=u.end===void 0?b:Math.min(u.end,_);!m.extend&&b>C&&(a=C,C=b,b=a);var w=uC(l,b),x=uC(l,C);if(w&&x&&(m.rangeCount!==1||m.anchorNode!==w.node||m.anchorOffset!==w.offset||m.focusNode!==x.node||m.focusOffset!==x.offset)){var O=h.createRange();O.setStart(w.node,w.offset),m.removeAllRanges(),b>C?(m.addRange(O),m.extend(x.node,x.offset)):(O.setEnd(x.node,x.offset),m.addRange(O))}}}}for(h=[],m=l;m=m.parentNode;)m.nodeType===1&&h.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<h.length;l++){var k=h[l];k.element.scrollLeft=k.left,k.element.scrollTop=k.top}}Xp=!!L0,N0=L0=null}finally{nn=i,$e.p=n,Te.T=t}}r.current=e,wr=2}}function kT(){if(wr===2){wr=0;var r=vs,e=Ju,t=(e.flags&8772)!==0;if(e.subtreeFlags&8772||t){t=Te.T,Te.T=null;var n=$e.p;$e.p=2;var i=nn;nn|=4;try{uT(r,e.alternate,e)}finally{nn=i,$e.p=n,Te.T=t}}wr=3}}function DT(){if(wr===4||wr===3){wr=0,VP();var r=vs,e=Ju,t=Iu,n=bT;e.subtreeFlags&10256||e.flags&10256?wr=5:(wr=0,Ju=vs=null,PT(r,r.pendingLanes));var i=r.pendingLanes;if(i===0&&(ps=null),W_(t),e=e.stateNode,Bi&&typeof Bi.onCommitFiberRoot=="function")try{Bi.onCommitFiberRoot(hd,e,void 0,(e.current.flags&128)===128)}catch{}if(n!==null){e=Te.T,i=$e.p,$e.p=2,Te.T=null;try{for(var o=r.onRecoverableError,a=0;a<n.length;a++){var l=n[a];o(l.value,{componentStack:l.stack})}}finally{Te.T=e,$e.p=i}}Iu&3&&xg(),Io(r),i=r.pendingLanes,t&4194090&&i&42?r===D0?Mf++:(Mf=0,D0=r):Mf=0,Od(0)}}function PT(r,e){(r.pooledCacheLanes&=e)===0&&(e=r.pooledCache,e!=null&&(r.pooledCache=null,bd(e)))}function xg(r){return AT(),kT(),DT(),MT()}function MT(){if(wr!==5)return!1;var r=vs,e=A0;A0=0;var t=W_(Iu),n=Te.T,i=$e.p;try{$e.p=32>t?32:t,Te.T=null,t=k0,k0=null;var o=vs,a=Iu;if(wr=0,Ju=vs=null,Iu=0,nn&6)throw Error(Kt(331));var l=nn;if(nn|=4,yT(o.current),vT(o,o.current,a,t),nn=l,Od(0,!1),Bi&&typeof Bi.onPostCommitFiberRoot=="function")try{Bi.onPostCommitFiberRoot(hd,o)}catch{}return!0}finally{$e.p=i,Te.T=n,PT(r,e)}}function FC(r,e,t){e=to(t,e),e=C0(r.stateNode,e,2),r=hs(r,e,2),r!==null&&(vd(r,2),Io(r))}function sn(r,e,t){if(r.tag===3)FC(r,r,t);else for(;e!==null;){if(e.tag===3){FC(e,r,t);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ps===null||!ps.has(n))){r=to(t,r),t=XE(2),n=hs(e,t,2),n!==null&&(ZE(t,n,e,r),vd(n,2),Io(n));break}}e=e.return}}function Qm(r,e,t){var n=r.pingCache;if(n===null){n=r.pingCache=new cR;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(t)||(Sb=!0,i.add(t),r=vR.bind(null,r,e,t),e.then(r,r))}function vR(r,e,t){var n=r.pingCache;n!==null&&n.delete(e),r.pingedLanes|=r.suspendedLanes&t,r.warmLanes&=~t,pn===r&&(Ge&t)===t&&(Nn===4||Nn===3&&(Ge&62914560)===Ge&&300>Lo()-xb?!(nn&2)&&Qu(r,0):Cb|=t,$u===Ge&&($u=0)),Io(r)}function RT(r,e){e===0&&(e=AO()),r=ac(r,e),r!==null&&(vd(r,e),Io(r))}function gR(r){var e=r.memoizedState,t=0;e!==null&&(t=e.retryLane),RT(r,t)}function mR(r,e){var t=0;switch(r.tag){case 13:var n=r.stateNode,i=r.memoizedState;i!==null&&(t=i.retryLane);break;case 19:n=r.stateNode;break;case 22:n=r.stateNode._retryCache;break;default:throw Error(Kt(314))}n!==null&&n.delete(e),RT(r,t)}function yR(r,e){return H_(r,e)}var Hp=null,tu=null,M0=!1,Fp=!1,ty=!1,sl=0;function Io(r){r!==tu&&r.next===null&&(tu===null?Hp=tu=r:tu=tu.next=r),Fp=!0,M0||(M0=!0,bR())}function Od(r,e){if(!ty&&Fp){ty=!0;do for(var t=!1,n=Hp;n!==null;){if(r!==0){var i=n.pendingLanes;if(i===0)var o=0;else{var a=n.suspendedLanes,l=n.pingedLanes;o=(1<<31-Ui(42|r)+1)-1,o&=i&~(a&~l),o=o&201326741?o&201326741|1:o?o|2:0}o!==0&&(t=!0,WC(n,o))}else o=Ge,o=dg(n,n===pn?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),!(o&3)||pd(n,o)||(t=!0,WC(n,o));n=n.next}while(t);ty=!1}}function _R(){LT()}function LT(){Fp=M0=!1;var r=0;sl!==0&&(AR()&&(r=sl),sl=0);for(var e=Lo(),t=null,n=Hp;n!==null;){var i=n.next,o=NT(n,e);o===0?(n.next=null,t===null?Hp=i:t.next=i,i===null&&(tu=t)):(t=n,(r!==0||o&3)&&(Fp=!0)),n=i}Od(r)}function NT(r,e){for(var t=r.suspendedLanes,n=r.pingedLanes,i=r.expirationTimes,o=r.pendingLanes&-62914561;0<o;){var a=31-Ui(o),l=1<<a,u=i[a];u===-1?(!(l&t)||l&n)&&(i[a]=qP(l,e)):u<=e&&(r.expiredLanes|=l),o&=~l}if(e=pn,t=Ge,t=dg(r,r===e?t:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),n=r.callbackNode,t===0||r===e&&(en===2||en===9)||r.cancelPendingCommit!==null)return n!==null&&n!==null&&Em(n),r.callbackNode=null,r.callbackPriority=0;if(!(t&3)||pd(r,t)){if(e=t&-t,e===r.callbackPriority)return e;switch(n!==null&&Em(n),W_(t)){case 2:case 8:t=OO;break;case 32:t=xp;break;case 268435456:t=EO;break;default:t=xp}return n=jT.bind(null,r),t=H_(t,n),r.callbackPriority=e,r.callbackNode=t,e}return n!==null&&n!==null&&Em(n),r.callbackPriority=2,r.callbackNode=null,2}function jT(r,e){if(wr!==0&&wr!==5)return r.callbackNode=null,r.callbackPriority=0,null;var t=r.callbackNode;if(xg()&&r.callbackNode!==t)return null;var n=Ge;return n=dg(r,r===pn?n:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),n===0?null:(ST(r,n,e),NT(r,Lo()),r.callbackNode!=null&&r.callbackNode===t?jT.bind(null,r):null)}function WC(r,e){if(xg())return null;ST(r,e,!0)}function bR(){DR(function(){nn&6?H_(xO,_R):LT()})}function Eb(){return sl===0&&(sl=TO()),sl}function qC(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Gh(""+r)}function KC(r,e){var t=e.ownerDocument.createElement("input");return t.name=e.name,t.value=e.value,r.id&&t.setAttribute("form",r.id),e.parentNode.insertBefore(t,e),r=new FormData(r),t.parentNode.removeChild(t),r}function wR(r,e,t,n,i){if(e==="submit"&&t&&t.stateNode===i){var o=qC((i[mi]||null).action),a=n.submitter;a&&(e=(e=a[mi]||null)?qC(e.formAction):a.getAttribute("formAction"),e!==null&&(o=e,a=null));var l=new hg("action","action",null,n,i);r.push({event:l,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(sl!==0){var u=a?KC(i,a):new FormData(i);w0(t,{pending:!0,data:u,method:i.method,action:o},null,u)}}else typeof o=="function"&&(l.preventDefault(),u=a?KC(i,a):new FormData(i),w0(t,{pending:!0,data:u,method:i.method,action:o},o,u))},currentTarget:i}]})}}for(var ey=0;ey<u0.length;ey++){var ny=u0[ey],SR=ny.toLowerCase(),CR=ny[0].toUpperCase()+ny.slice(1);So(SR,"on"+CR)}So($O,"onAnimationEnd");So(JO,"onAnimationIteration");So(QO,"onAnimationStart");So("dblclick","onDoubleClick");So("focusin","onFocus");So("focusout","onBlur");So(IM,"onTransitionRun");So(zM,"onTransitionStart");So(HM,"onTransitionCancel");So(tE,"onTransitionEnd");qu("onMouseEnter",["mouseout","mouseover"]);qu("onMouseLeave",["mouseout","mouseover"]);qu("onPointerEnter",["pointerout","pointerover"]);qu("onPointerLeave",["pointerout","pointerover"]);_l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));_l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));_l("onBeforeInput",["compositionend","keypress","textInput","paste"]);_l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));_l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));_l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Jf));function VT(r,e){e=(e&4)!==0;for(var t=0;t<r.length;t++){var n=r[t],i=n.event;n=n.listeners;t:{var o=void 0;if(e)for(var a=n.length-1;0<=a;a--){var l=n[a],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==o&&i.isPropagationStopped())break t;o=l,i.currentTarget=c;try{o(i)}catch(d){jp(d)}i.currentTarget=null,o=u}else for(a=0;a<n.length;a++){if(l=n[a],u=l.instance,c=l.currentTarget,l=l.listener,u!==o&&i.isPropagationStopped())break t;o=l,i.currentTarget=c;try{o(i)}catch(d){jp(d)}i.currentTarget=null,o=u}}}}function Ie(r,e){var t=e[n0];t===void 0&&(t=e[n0]=new Set);var n=r+"__bubble";t.has(n)||(BT(e,r,2,!1),t.add(n))}function ry(r,e,t){var n=0;e&&(n|=4),BT(t,r,n,e)}var Ah="_reactListening"+Math.random().toString(36).slice(2);function Tb(r){if(!r[Ah]){r[Ah]=!0,MO.forEach(function(t){t!=="selectionchange"&&(xR.has(t)||ry(t,!1,r),ry(t,!0,r))});var e=r.nodeType===9?r:r.ownerDocument;e===null||e[Ah]||(e[Ah]=!0,ry("selectionchange",!1,e))}}function BT(r,e,t,n){switch(ZT(e)){case 2:var i=$R;break;case 8:i=JR;break;default:i=Pb}t=i.bind(null,e,t,r),i=void 0,!a0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?r.addEventListener(e,t,{capture:!0,passive:i}):r.addEventListener(e,t,!0):i!==void 0?r.addEventListener(e,t,{passive:i}):r.addEventListener(e,t,!1)}function iy(r,e,t,n,i){var o=n;if(!(e&1)&&!(e&2)&&n!==null)t:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var l=n.stateNode.containerInfo;if(l===i)break;if(a===4)for(a=n.return;a!==null;){var u=a.tag;if((u===3||u===4)&&a.stateNode.containerInfo===i)return;a=a.return}for(;l!==null;){if(a=ou(l),a===null)return;if(u=a.tag,u===5||u===6||u===26||u===27){n=o=a;continue t}l=l.parentNode}}n=n.return}IO(function(){var c=o,d=G_(t),h=[];t:{var g=eE.get(r);if(g!==void 0){var m=hg,_=r;switch(r){case"keypress":if(Xh(t)===0)break t;case"keydown":case"keyup":m=yM;break;case"focusin":_="focus",m=Lm;break;case"focusout":_="blur",m=Lm;break;case"beforeblur":case"afterblur":m=Lm;break;case"click":if(t.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=QS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=aM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=wM;break;case $O:case JO:case QO:m=uM;break;case tE:m=CM;break;case"scroll":case"scrollend":m=iM;break;case"wheel":m=OM;break;case"copy":case"cut":case"paste":m=fM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=eC;break;case"toggle":case"beforetoggle":m=TM}var b=(e&4)!==0,C=!b&&(r==="scroll"||r==="scrollend"),w=b?g!==null?g+"Capture":null:g;b=[];for(var x=c,O;x!==null;){var k=x;if(O=k.stateNode,k=k.tag,k!==5&&k!==26&&k!==27||O===null||w===null||(k=Kf(x,w),k!=null&&b.push(Qf(x,k,O))),C)break;x=x.return}0<b.length&&(g=new m(g,_,null,t,d),h.push({event:g,listeners:b}))}}if(!(e&7)){t:{if(g=r==="mouseover"||r==="pointerover",m=r==="mouseout"||r==="pointerout",g&&t!==o0&&(_=t.relatedTarget||t.fromElement)&&(ou(_)||_[ic]))break t;if((m||g)&&(g=d.window===d?d:(g=d.ownerDocument)?g.defaultView||g.parentWindow:window,m?(_=t.relatedTarget||t.toElement,m=c,_=_?ou(_):null,_!==null&&(C=dd(_),b=_.tag,_!==C||b!==5&&b!==27&&b!==6)&&(_=null)):(m=null,_=c),m!==_)){if(b=QS,k="onMouseLeave",w="onMouseEnter",x="mouse",(r==="pointerout"||r==="pointerover")&&(b=eC,k="onPointerLeave",w="onPointerEnter",x="pointer"),C=m==null?g:df(m),O=_==null?g:df(_),g=new b(k,x+"leave",m,t,d),g.target=C,g.relatedTarget=O,k=null,ou(d)===c&&(b=new b(w,x+"enter",_,t,d),b.target=O,b.relatedTarget=C,k=b),C=k,m&&_)e:{for(b=m,w=_,x=0,O=b;O;O=Gl(O))x++;for(O=0,k=w;k;k=Gl(k))O++;for(;0<x-O;)b=Gl(b),x--;for(;0<O-x;)w=Gl(w),O--;for(;x--;){if(b===w||w!==null&&b===w.alternate)break e;b=Gl(b),w=Gl(w)}b=null}else b=null;m!==null&&GC(h,g,m,b,!1),_!==null&&C!==null&&GC(h,C,_,b,!0)}}t:{if(g=c?df(c):window,m=g.nodeName&&g.nodeName.toLowerCase(),m==="select"||m==="input"&&g.type==="file")var V=oC;else if(iC(g))if(KO)V=VM;else{V=NM;var Z=LM}else m=g.nodeName,!m||m.toLowerCase()!=="input"||g.type!=="checkbox"&&g.type!=="radio"?c&&K_(c.elementType)&&(V=oC):V=jM;if(V&&(V=V(r,c))){qO(h,V,t,d);break t}Z&&Z(r,g,c),r==="focusout"&&c&&g.type==="number"&&c.memoizedProps.value!=null&&i0(g,"number",g.value)}switch(Z=c?df(c):window,r){case"focusin":(iC(Z)||Z.contentEditable==="true")&&(lu=Z,s0=c,Sf=null);break;case"focusout":Sf=s0=lu=null;break;case"mousedown":l0=!0;break;case"contextmenu":case"mouseup":case"dragend":l0=!1,cC(h,t,d);break;case"selectionchange":if(UM)break;case"keydown":case"keyup":cC(h,t,d)}var $;if(Z_)t:{switch(r){case"compositionstart":var Y="onCompositionStart";break t;case"compositionend":Y="onCompositionEnd";break t;case"compositionupdate":Y="onCompositionUpdate";break t}Y=void 0}else su?FO(r,t)&&(Y="onCompositionEnd"):r==="keydown"&&t.keyCode===229&&(Y="onCompositionStart");Y&&(HO&&t.locale!=="ko"&&(su||Y!=="onCompositionStart"?Y==="onCompositionEnd"&&su&&($=zO()):(ss=d,Y_="value"in ss?ss.value:ss.textContent,su=!0)),Z=Wp(c,Y),0<Z.length&&(Y=new tC(Y,r,null,t,d),h.push({event:Y,listeners:Z}),$?Y.data=$:($=WO(t),$!==null&&(Y.data=$)))),($=kM?DM(r,t):PM(r,t))&&(Y=Wp(c,"onBeforeInput"),0<Y.length&&(Z=new tC("onBeforeInput","beforeinput",null,t,d),h.push({event:Z,listeners:Y}),Z.data=$)),wR(h,r,c,t,d)}VT(h,e)})}function Qf(r,e,t){return{instance:r,listener:e,currentTarget:t}}function Wp(r,e){for(var t=e+"Capture",n=[];r!==null;){var i=r,o=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||o===null||(i=Kf(r,t),i!=null&&n.unshift(Qf(r,i,o)),i=Kf(r,e),i!=null&&n.push(Qf(r,i,o))),r.tag===3)return n;r=r.return}return[]}function Gl(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function GC(r,e,t,n,i){for(var o=e._reactName,a=[];t!==null&&t!==n;){var l=t,u=l.alternate,c=l.stateNode;if(l=l.tag,u!==null&&u===n)break;l!==5&&l!==26&&l!==27||c===null||(u=c,i?(c=Kf(t,o),c!=null&&a.unshift(Qf(t,c,u))):i||(c=Kf(t,o),c!=null&&a.push(Qf(t,c,u)))),t=t.return}a.length!==0&&r.push({event:e,listeners:a})}var OR=/\r\n?/g,ER=/\u0000|\uFFFD/g;function YC(r){return(typeof r=="string"?r:""+r).replace(OR,`
`).replace(ER,"")}function UT(r,e){return e=YC(e),YC(r)===e}function Og(){}function on(r,e,t,n,i,o){switch(t){case"children":typeof n=="string"?e==="body"||e==="textarea"&&n===""||Ku(r,n):(typeof n=="number"||typeof n=="bigint")&&e!=="body"&&Ku(r,""+n);break;case"className":wh(r,"class",n);break;case"tabIndex":wh(r,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":wh(r,t,n);break;case"style":UO(r,n,o);break;case"data":if(e!=="object"){wh(r,"data",n);break}case"src":case"href":if(n===""&&(e!=="a"||t!=="href")){r.removeAttribute(t);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){r.removeAttribute(t);break}n=Gh(""+n),r.setAttribute(t,n);break;case"action":case"formAction":if(typeof n=="function"){r.setAttribute(t,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof o=="function"&&(t==="formAction"?(e!=="input"&&on(r,e,"name",i.name,i,null),on(r,e,"formEncType",i.formEncType,i,null),on(r,e,"formMethod",i.formMethod,i,null),on(r,e,"formTarget",i.formTarget,i,null)):(on(r,e,"encType",i.encType,i,null),on(r,e,"method",i.method,i,null),on(r,e,"target",i.target,i,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){r.removeAttribute(t);break}n=Gh(""+n),r.setAttribute(t,n);break;case"onClick":n!=null&&(r.onclick=Og);break;case"onScroll":n!=null&&Ie("scroll",r);break;case"onScrollEnd":n!=null&&Ie("scrollend",r);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(Kt(61));if(t=n.__html,t!=null){if(i.children!=null)throw Error(Kt(60));r.innerHTML=t}}break;case"multiple":r.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":r.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){r.removeAttribute("xlink:href");break}t=Gh(""+n),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",t);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?r.setAttribute(t,""+n):r.removeAttribute(t);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?r.setAttribute(t,""):r.removeAttribute(t);break;case"capture":case"download":n===!0?r.setAttribute(t,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?r.setAttribute(t,n):r.removeAttribute(t);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?r.setAttribute(t,n):r.removeAttribute(t);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?r.removeAttribute(t):r.setAttribute(t,n);break;case"popover":Ie("beforetoggle",r),Ie("toggle",r),Kh(r,"popover",n);break;case"xlinkActuate":ea(r,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":ea(r,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":ea(r,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":ea(r,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":ea(r,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":ea(r,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":ea(r,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":ea(r,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":ea(r,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":Kh(r,"is",n);break;case"innerText":case"textContent":break;default:(!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(t=nM.get(t)||t,Kh(r,t,n))}}function R0(r,e,t,n,i,o){switch(t){case"style":UO(r,n,o);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(Kt(61));if(t=n.__html,t!=null){if(i.children!=null)throw Error(Kt(60));r.innerHTML=t}}break;case"children":typeof n=="string"?Ku(r,n):(typeof n=="number"||typeof n=="bigint")&&Ku(r,""+n);break;case"onScroll":n!=null&&Ie("scroll",r);break;case"onScrollEnd":n!=null&&Ie("scrollend",r);break;case"onClick":n!=null&&(r.onclick=Og);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!RO.hasOwnProperty(t))t:{if(t[0]==="o"&&t[1]==="n"&&(i=t.endsWith("Capture"),e=t.slice(2,i?t.length-7:void 0),o=r[mi]||null,o=o!=null?o[t]:null,typeof o=="function"&&r.removeEventListener(e,o,i),typeof n=="function")){typeof o!="function"&&o!==null&&(t in r?r[t]=null:r.hasAttribute(t)&&r.removeAttribute(t)),r.addEventListener(e,n,i);break t}t in r?r[t]=n:n===!0?r.setAttribute(t,""):Kh(r,t,n)}}}function Sr(r,e,t){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ie("error",r),Ie("load",r);var n=!1,i=!1,o;for(o in t)if(t.hasOwnProperty(o)){var a=t[o];if(a!=null)switch(o){case"src":n=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(Kt(137,e));default:on(r,e,o,a,t,null)}}i&&on(r,e,"srcSet",t.srcSet,t,null),n&&on(r,e,"src",t.src,t,null);return;case"input":Ie("invalid",r);var l=o=a=i=null,u=null,c=null;for(n in t)if(t.hasOwnProperty(n)){var d=t[n];if(d!=null)switch(n){case"name":i=d;break;case"type":a=d;break;case"checked":u=d;break;case"defaultChecked":c=d;break;case"value":o=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(Kt(137,e));break;default:on(r,e,n,d,t,null)}}jO(r,o,l,u,c,a,i,!1),Op(r);return;case"select":Ie("invalid",r),n=a=o=null;for(i in t)if(t.hasOwnProperty(i)&&(l=t[i],l!=null))switch(i){case"value":o=l;break;case"defaultValue":a=l;break;case"multiple":n=l;default:on(r,e,i,l,t,null)}e=o,t=a,r.multiple=!!n,e!=null?Lu(r,!!n,e,!1):t!=null&&Lu(r,!!n,t,!0);return;case"textarea":Ie("invalid",r),o=i=n=null;for(a in t)if(t.hasOwnProperty(a)&&(l=t[a],l!=null))switch(a){case"value":n=l;break;case"defaultValue":i=l;break;case"children":o=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(Kt(91));break;default:on(r,e,a,l,t,null)}BO(r,n,i,o),Op(r);return;case"option":for(u in t)if(t.hasOwnProperty(u)&&(n=t[u],n!=null))switch(u){case"selected":r.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:on(r,e,u,n,t,null)}return;case"dialog":Ie("beforetoggle",r),Ie("toggle",r),Ie("cancel",r),Ie("close",r);break;case"iframe":case"object":Ie("load",r);break;case"video":case"audio":for(n=0;n<Jf.length;n++)Ie(Jf[n],r);break;case"image":Ie("error",r),Ie("load",r);break;case"details":Ie("toggle",r);break;case"embed":case"source":case"link":Ie("error",r),Ie("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in t)if(t.hasOwnProperty(c)&&(n=t[c],n!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(Kt(137,e));default:on(r,e,c,n,t,null)}return;default:if(K_(e)){for(d in t)t.hasOwnProperty(d)&&(n=t[d],n!==void 0&&R0(r,e,d,n,t,void 0));return}}for(l in t)t.hasOwnProperty(l)&&(n=t[l],n!=null&&on(r,e,l,n,t,null))}function TR(r,e,t,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,o=null,a=null,l=null,u=null,c=null,d=null;for(m in t){var h=t[m];if(t.hasOwnProperty(m)&&h!=null)switch(m){case"checked":break;case"value":break;case"defaultValue":u=h;default:n.hasOwnProperty(m)||on(r,e,m,null,n,h)}}for(var g in n){var m=n[g];if(h=t[g],n.hasOwnProperty(g)&&(m!=null||h!=null))switch(g){case"type":o=m;break;case"name":i=m;break;case"checked":c=m;break;case"defaultChecked":d=m;break;case"value":a=m;break;case"defaultValue":l=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(Kt(137,e));break;default:m!==h&&on(r,e,g,m,n,h)}}r0(r,a,l,u,c,d,o,i);return;case"select":m=a=l=g=null;for(o in t)if(u=t[o],t.hasOwnProperty(o)&&u!=null)switch(o){case"value":break;case"multiple":m=u;default:n.hasOwnProperty(o)||on(r,e,o,null,n,u)}for(i in n)if(o=n[i],u=t[i],n.hasOwnProperty(i)&&(o!=null||u!=null))switch(i){case"value":g=o;break;case"defaultValue":l=o;break;case"multiple":a=o;default:o!==u&&on(r,e,i,o,n,u)}e=l,t=a,n=m,g!=null?Lu(r,!!t,g,!1):!!n!=!!t&&(e!=null?Lu(r,!!t,e,!0):Lu(r,!!t,t?[]:"",!1));return;case"textarea":m=g=null;for(l in t)if(i=t[l],t.hasOwnProperty(l)&&i!=null&&!n.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:on(r,e,l,null,n,i)}for(a in n)if(i=n[a],o=t[a],n.hasOwnProperty(a)&&(i!=null||o!=null))switch(a){case"value":g=i;break;case"defaultValue":m=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(Kt(91));break;default:i!==o&&on(r,e,a,i,n,o)}VO(r,g,m);return;case"option":for(var _ in t)if(g=t[_],t.hasOwnProperty(_)&&g!=null&&!n.hasOwnProperty(_))switch(_){case"selected":r.selected=!1;break;default:on(r,e,_,null,n,g)}for(u in n)if(g=n[u],m=t[u],n.hasOwnProperty(u)&&g!==m&&(g!=null||m!=null))switch(u){case"selected":r.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:on(r,e,u,g,n,m)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var b in t)g=t[b],t.hasOwnProperty(b)&&g!=null&&!n.hasOwnProperty(b)&&on(r,e,b,null,n,g);for(c in n)if(g=n[c],m=t[c],n.hasOwnProperty(c)&&g!==m&&(g!=null||m!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(Kt(137,e));break;default:on(r,e,c,g,n,m)}return;default:if(K_(e)){for(var C in t)g=t[C],t.hasOwnProperty(C)&&g!==void 0&&!n.hasOwnProperty(C)&&R0(r,e,C,void 0,n,g);for(d in n)g=n[d],m=t[d],!n.hasOwnProperty(d)||g===m||g===void 0&&m===void 0||R0(r,e,d,g,n,m);return}}for(var w in t)g=t[w],t.hasOwnProperty(w)&&g!=null&&!n.hasOwnProperty(w)&&on(r,e,w,null,n,g);for(h in n)g=n[h],m=t[h],!n.hasOwnProperty(h)||g===m||g==null&&m==null||on(r,e,h,g,n,m)}var L0=null,N0=null;function qp(r){return r.nodeType===9?r:r.ownerDocument}function XC(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function IT(r,e){if(r===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&e==="foreignObject"?0:r}function j0(r,e){return r==="textarea"||r==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var oy=null;function AR(){var r=window.event;return r&&r.type==="popstate"?r===oy?!1:(oy=r,!0):(oy=null,!1)}var zT=typeof setTimeout=="function"?setTimeout:void 0,kR=typeof clearTimeout=="function"?clearTimeout:void 0,ZC=typeof Promise=="function"?Promise:void 0,DR=typeof queueMicrotask=="function"?queueMicrotask:typeof ZC<"u"?function(r){return ZC.resolve(null).then(r).catch(PR)}:zT;function PR(r){setTimeout(function(){throw r})}function Ts(r){return r==="head"}function $C(r,e){var t=e,n=0,i=0;do{var o=t.nextSibling;if(r.removeChild(t),o&&o.nodeType===8)if(t=o.data,t==="/$"){if(0<n&&8>n){t=n;var a=r.ownerDocument;if(t&1&&Rf(a.documentElement),t&2&&Rf(a.body),t&4)for(t=a.head,Rf(t),a=t.firstChild;a;){var l=a.nextSibling,u=a.nodeName;a[gd]||u==="SCRIPT"||u==="STYLE"||u==="LINK"&&a.rel.toLowerCase()==="stylesheet"||t.removeChild(a),a=l}}if(i===0){r.removeChild(o),id(e);return}i--}else t==="$"||t==="$?"||t==="$!"?i++:n=t.charCodeAt(0)-48;else n=0;t=o}while(t);id(e)}function V0(r){var e=r.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var t=e;switch(e=e.nextSibling,t.nodeName){case"HTML":case"HEAD":case"BODY":V0(t),q_(t);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(t.rel.toLowerCase()==="stylesheet")continue}r.removeChild(t)}}function MR(r,e,t,n){for(;r.nodeType===1;){var i=t;if(r.nodeName.toLowerCase()!==e.toLowerCase()){if(!n&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(n){if(!r[gd])switch(e){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(o=r.getAttribute("rel"),o==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(o!==i.rel||r.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||r.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||r.getAttribute("title")!==(i.title==null?null:i.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(o=r.getAttribute("src"),(o!==(i.src==null?null:i.src)||r.getAttribute("type")!==(i.type==null?null:i.type)||r.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&o&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(e==="input"&&r.type==="hidden"){var o=i.name==null?null:""+i.name;if(i.type==="hidden"&&r.getAttribute("name")===o)return r}else return r;if(r=wo(r.nextSibling),r===null)break}return null}function RR(r,e,t){if(e==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!t||(r=wo(r.nextSibling),r===null))return null;return r}function B0(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function LR(r,e){var t=r.ownerDocument;if(r.data!=="$?"||t.readyState==="complete")e();else{var n=function(){e(),t.removeEventListener("DOMContentLoaded",n)};t.addEventListener("DOMContentLoaded",n),r._reactRetry=n}}function wo(r){for(;r!=null;r=r.nextSibling){var e=r.nodeType;if(e===1||e===3)break;if(e===8){if(e=r.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return r}var U0=null;function JC(r){r=r.previousSibling;for(var e=0;r;){if(r.nodeType===8){var t=r.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return r;e--}else t==="/$"&&e++}r=r.previousSibling}return null}function HT(r,e,t){switch(e=qp(t),r){case"html":if(r=e.documentElement,!r)throw Error(Kt(452));return r;case"head":if(r=e.head,!r)throw Error(Kt(453));return r;case"body":if(r=e.body,!r)throw Error(Kt(454));return r;default:throw Error(Kt(451))}}function Rf(r){for(var e=r.attributes;e.length;)r.removeAttributeNode(e[0]);q_(r)}var oo=new Map,QC=new Set;function Kp(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Oa=$e.d;$e.d={f:NR,r:jR,D:VR,C:BR,L:UR,m:IR,X:HR,S:zR,M:FR};function NR(){var r=Oa.f(),e=Sg();return r||e}function jR(r){var e=oc(r);e!==null&&e.tag===5&&e.type==="form"?NE(e):Oa.r(r)}var lc=typeof document>"u"?null:document;function FT(r,e,t){var n=lc;if(n&&typeof e=="string"&&e){var i=Qi(e);i='link[rel="'+r+'"][href="'+i+'"]',typeof t=="string"&&(i+='[crossorigin="'+t+'"]'),QC.has(i)||(QC.add(i),r={rel:r,crossOrigin:t,href:e},n.querySelector(i)===null&&(e=n.createElement("link"),Sr(e,"link",r),hr(e),n.head.appendChild(e)))}}function VR(r){Oa.D(r),FT("dns-prefetch",r,null)}function BR(r,e){Oa.C(r,e),FT("preconnect",r,e)}function UR(r,e,t){Oa.L(r,e,t);var n=lc;if(n&&r&&e){var i='link[rel="preload"][as="'+Qi(e)+'"]';e==="image"&&t&&t.imageSrcSet?(i+='[imagesrcset="'+Qi(t.imageSrcSet)+'"]',typeof t.imageSizes=="string"&&(i+='[imagesizes="'+Qi(t.imageSizes)+'"]')):i+='[href="'+Qi(r)+'"]';var o=i;switch(e){case"style":o=tc(r);break;case"script":o=uc(r)}oo.has(o)||(r=bn({rel:"preload",href:e==="image"&&t&&t.imageSrcSet?void 0:r,as:e},t),oo.set(o,r),n.querySelector(i)!==null||e==="style"&&n.querySelector(Ed(o))||e==="script"&&n.querySelector(Td(o))||(e=n.createElement("link"),Sr(e,"link",r),hr(e),n.head.appendChild(e)))}}function IR(r,e){Oa.m(r,e);var t=lc;if(t&&r){var n=e&&typeof e.as=="string"?e.as:"script",i='link[rel="modulepreload"][as="'+Qi(n)+'"][href="'+Qi(r)+'"]',o=i;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=uc(r)}if(!oo.has(o)&&(r=bn({rel:"modulepreload",href:r},e),oo.set(o,r),t.querySelector(i)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(t.querySelector(Td(o)))return}n=t.createElement("link"),Sr(n,"link",r),hr(n),t.head.appendChild(n)}}}function zR(r,e,t){Oa.S(r,e,t);var n=lc;if(n&&r){var i=Ru(n).hoistableStyles,o=tc(r);e=e||"default";var a=i.get(o);if(!a){var l={loading:0,preload:null};if(a=n.querySelector(Ed(o)))l.loading=5;else{r=bn({rel:"stylesheet",href:r,"data-precedence":e},t),(t=oo.get(o))&&Ab(r,t);var u=a=n.createElement("link");hr(u),Sr(u,"link",r),u._p=new Promise(function(c,d){u.onload=c,u.onerror=d}),u.addEventListener("load",function(){l.loading|=1}),u.addEventListener("error",function(){l.loading|=2}),l.loading|=4,np(a,e,n)}a={type:"stylesheet",instance:a,count:1,state:l},i.set(o,a)}}}function HR(r,e){Oa.X(r,e);var t=lc;if(t&&r){var n=Ru(t).hoistableScripts,i=uc(r),o=n.get(i);o||(o=t.querySelector(Td(i)),o||(r=bn({src:r,async:!0},e),(e=oo.get(i))&&kb(r,e),o=t.createElement("script"),hr(o),Sr(o,"link",r),t.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},n.set(i,o))}}function FR(r,e){Oa.M(r,e);var t=lc;if(t&&r){var n=Ru(t).hoistableScripts,i=uc(r),o=n.get(i);o||(o=t.querySelector(Td(i)),o||(r=bn({src:r,async:!0,type:"module"},e),(e=oo.get(i))&&kb(r,e),o=t.createElement("script"),hr(o),Sr(o,"link",r),t.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},n.set(i,o))}}function tx(r,e,t,n){var i=(i=fs.current)?Kp(i):null;if(!i)throw Error(Kt(446));switch(r){case"meta":case"title":return null;case"style":return typeof t.precedence=="string"&&typeof t.href=="string"?(e=tc(t.href),t=Ru(i).hoistableStyles,n=t.get(e),n||(n={type:"style",instance:null,count:0,state:null},t.set(e,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(t.rel==="stylesheet"&&typeof t.href=="string"&&typeof t.precedence=="string"){r=tc(t.href);var o=Ru(i).hoistableStyles,a=o.get(r);if(a||(i=i.ownerDocument||i,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},o.set(r,a),(o=i.querySelector(Ed(r)))&&!o._p&&(a.instance=o,a.state.loading=5),oo.has(r)||(t={rel:"preload",as:"style",href:t.href,crossOrigin:t.crossOrigin,integrity:t.integrity,media:t.media,hrefLang:t.hrefLang,referrerPolicy:t.referrerPolicy},oo.set(r,t),o||WR(i,r,t,a.state))),e&&n===null)throw Error(Kt(528,""));return a}if(e&&n!==null)throw Error(Kt(529,""));return null;case"script":return e=t.async,t=t.src,typeof t=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=uc(t),t=Ru(i).hoistableScripts,n=t.get(e),n||(n={type:"script",instance:null,count:0,state:null},t.set(e,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(Kt(444,r))}}function tc(r){return'href="'+Qi(r)+'"'}function Ed(r){return'link[rel="stylesheet"]['+r+"]"}function WT(r){return bn({},r,{"data-precedence":r.precedence,precedence:null})}function WR(r,e,t,n){r.querySelector('link[rel="preload"][as="style"]['+e+"]")?n.loading=1:(e=r.createElement("link"),n.preload=e,e.addEventListener("load",function(){return n.loading|=1}),e.addEventListener("error",function(){return n.loading|=2}),Sr(e,"link",t),hr(e),r.head.appendChild(e))}function uc(r){return'[src="'+Qi(r)+'"]'}function Td(r){return"script[async]"+r}function ex(r,e,t){if(e.count++,e.instance===null)switch(e.type){case"style":var n=r.querySelector('style[data-href~="'+Qi(t.href)+'"]');if(n)return e.instance=n,hr(n),n;var i=bn({},t,{"data-href":t.href,"data-precedence":t.precedence,href:null,precedence:null});return n=(r.ownerDocument||r).createElement("style"),hr(n),Sr(n,"style",i),np(n,t.precedence,r),e.instance=n;case"stylesheet":i=tc(t.href);var o=r.querySelector(Ed(i));if(o)return e.state.loading|=4,e.instance=o,hr(o),o;n=WT(t),(i=oo.get(i))&&Ab(n,i),o=(r.ownerDocument||r).createElement("link"),hr(o);var a=o;return a._p=new Promise(function(l,u){a.onload=l,a.onerror=u}),Sr(o,"link",n),e.state.loading|=4,np(o,t.precedence,r),e.instance=o;case"script":return o=uc(t.src),(i=r.querySelector(Td(o)))?(e.instance=i,hr(i),i):(n=t,(i=oo.get(o))&&(n=bn({},t),kb(n,i)),r=r.ownerDocument||r,i=r.createElement("script"),hr(i),Sr(i,"link",n),r.head.appendChild(i),e.instance=i);case"void":return null;default:throw Error(Kt(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(n=e.instance,e.state.loading|=4,np(n,t.precedence,r));return e.instance}function np(r,e,t){for(var n=t.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=n.length?n[n.length-1]:null,o=i,a=0;a<n.length;a++){var l=n[a];if(l.dataset.precedence===e)o=l;else if(o!==i)break}o?o.parentNode.insertBefore(r,o.nextSibling):(e=t.nodeType===9?t.head:t,e.insertBefore(r,e.firstChild))}function Ab(r,e){r.crossOrigin==null&&(r.crossOrigin=e.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=e.referrerPolicy),r.title==null&&(r.title=e.title)}function kb(r,e){r.crossOrigin==null&&(r.crossOrigin=e.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=e.referrerPolicy),r.integrity==null&&(r.integrity=e.integrity)}var rp=null;function nx(r,e,t){if(rp===null){var n=new Map,i=rp=new Map;i.set(t,n)}else i=rp,n=i.get(t),n||(n=new Map,i.set(t,n));if(n.has(r))return n;for(n.set(r,null),t=t.getElementsByTagName(r),i=0;i<t.length;i++){var o=t[i];if(!(o[gd]||o[Mr]||r==="link"&&o.getAttribute("rel")==="stylesheet")&&o.namespaceURI!=="http://www.w3.org/2000/svg"){var a=o.getAttribute(e)||"";a=r+a;var l=n.get(a);l?l.push(o):n.set(a,[o])}}return n}function rx(r,e,t){r=r.ownerDocument||r,r.head.insertBefore(t,e==="title"?r.querySelector("head > title"):null)}function qR(r,e,t){if(t===1||e.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return r=e.disabled,typeof e.precedence=="string"&&r==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function qT(r){return!(r.type==="stylesheet"&&!(r.state.loading&3))}var td=null;function KR(){}function GR(r,e,t){if(td===null)throw Error(Kt(475));var n=td;if(e.type==="stylesheet"&&(typeof t.media!="string"||matchMedia(t.media).matches!==!1)&&!(e.state.loading&4)){if(e.instance===null){var i=tc(t.href),o=r.querySelector(Ed(i));if(o){r=o._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(n.count++,n=Gp.bind(n),r.then(n,n)),e.state.loading|=4,e.instance=o,hr(o);return}o=r.ownerDocument||r,t=WT(t),(i=oo.get(i))&&Ab(t,i),o=o.createElement("link"),hr(o);var a=o;a._p=new Promise(function(l,u){a.onload=l,a.onerror=u}),Sr(o,"link",t),e.instance=o}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(e,r),(r=e.state.preload)&&!(e.state.loading&3)&&(n.count++,e=Gp.bind(n),r.addEventListener("load",e),r.addEventListener("error",e))}}function YR(){if(td===null)throw Error(Kt(475));var r=td;return r.stylesheets&&r.count===0&&I0(r,r.stylesheets),0<r.count?function(e){var t=setTimeout(function(){if(r.stylesheets&&I0(r,r.stylesheets),r.unsuspend){var n=r.unsuspend;r.unsuspend=null,n()}},6e4);return r.unsuspend=e,function(){r.unsuspend=null,clearTimeout(t)}}:null}function Gp(){if(this.count--,this.count===0){if(this.stylesheets)I0(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Yp=null;function I0(r,e){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Yp=new Map,e.forEach(XR,r),Yp=null,Gp.call(r))}function XR(r,e){if(!(e.state.loading&4)){var t=Yp.get(r);if(t)var n=t.get(null);else{t=new Map,Yp.set(r,t);for(var i=r.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<i.length;o++){var a=i[o];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(t.set(a.dataset.precedence,a),n=a)}n&&t.set(null,n)}i=e.instance,a=i.getAttribute("data-precedence"),o=t.get(a)||n,o===n&&t.set(null,i),t.set(a,i),this.count++,n=Gp.bind(this),i.addEventListener("load",n),i.addEventListener("error",n),o?o.parentNode.insertBefore(i,o.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(i,r.firstChild)),e.state.loading|=4}}var ed={$$typeof:ua,Provider:null,Consumer:null,_currentValue:el,_currentValue2:el,_threadCount:0};function ZR(r,e,t,n,i,o,a,l){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Tm(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tm(0),this.hiddenUpdates=Tm(null),this.identifierPrefix=n,this.onUncaughtError=i,this.onCaughtError=o,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function KT(r,e,t,n,i,o,a,l,u,c,d,h){return r=new ZR(r,e,t,a,l,u,c,h),e=1,o===!0&&(e|=24),o=Ni(3,null,null,e),r.current=o,o.stateNode=r,e=rb(),e.refCount++,r.pooledCache=e,e.refCount++,o.memoizedState={element:n,isDehydrated:t,cache:e},ob(o),r}function GT(r){return r?(r=fu,r):fu}function YT(r,e,t,n,i,o){i=GT(i),n.context===null?n.context=i:n.pendingContext=i,n=ds(e),n.payload={element:t},o=o===void 0?null:o,o!==null&&(n.callback=o),t=hs(r,n,e),t!==null&&(zi(t,r,e),Of(t,r,e))}function ix(r,e){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var t=r.retryLane;r.retryLane=t!==0&&t<e?t:e}}function Db(r,e){ix(r,e),(r=r.alternate)&&ix(r,e)}function XT(r){if(r.tag===13){var e=ac(r,67108864);e!==null&&zi(e,r,67108864),Db(r,67108864)}}var Xp=!0;function $R(r,e,t,n){var i=Te.T;Te.T=null;var o=$e.p;try{$e.p=2,Pb(r,e,t,n)}finally{$e.p=o,Te.T=i}}function JR(r,e,t,n){var i=Te.T;Te.T=null;var o=$e.p;try{$e.p=8,Pb(r,e,t,n)}finally{$e.p=o,Te.T=i}}function Pb(r,e,t,n){if(Xp){var i=z0(n);if(i===null)iy(r,e,n,Zp,t),ox(r,n);else if(tL(i,r,e,t,n))n.stopPropagation();else if(ox(r,n),e&4&&-1<QR.indexOf(r)){for(;i!==null;){var o=oc(i);if(o!==null)switch(o.tag){case 3:if(o=o.stateNode,o.current.memoizedState.isDehydrated){var a=Ws(o.pendingLanes);if(a!==0){var l=o;for(l.pendingLanes|=2,l.entangledLanes|=2;a;){var u=1<<31-Ui(a);l.entanglements[1]|=u,a&=~u}Io(o),!(nn&6)&&(Ip=Lo()+500,Od(0))}}break;case 13:l=ac(o,2),l!==null&&zi(l,o,2),Sg(),Db(o,2)}if(o=z0(n),o===null&&iy(r,e,n,Zp,t),o===i)break;i=o}i!==null&&n.stopPropagation()}else iy(r,e,n,null,t)}}function z0(r){return r=G_(r),Mb(r)}var Zp=null;function Mb(r){if(Zp=null,r=ou(r),r!==null){var e=dd(r);if(e===null)r=null;else{var t=e.tag;if(t===13){if(r=bO(e),r!==null)return r;r=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;r=null}else e!==r&&(r=null)}}return Zp=r,null}function ZT(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(BP()){case xO:return 2;case OO:return 8;case xp:case UP:return 32;case EO:return 268435456;default:return 32}default:return 32}}var H0=!1,gs=null,ms=null,ys=null,nd=new Map,rd=new Map,os=[],QR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ox(r,e){switch(r){case"focusin":case"focusout":gs=null;break;case"dragenter":case"dragleave":ms=null;break;case"mouseover":case"mouseout":ys=null;break;case"pointerover":case"pointerout":nd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":rd.delete(e.pointerId)}}function ef(r,e,t,n,i,o){return r===null||r.nativeEvent!==o?(r={blockedOn:e,domEventName:t,eventSystemFlags:n,nativeEvent:o,targetContainers:[i]},e!==null&&(e=oc(e),e!==null&&XT(e)),r):(r.eventSystemFlags|=n,e=r.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),r)}function tL(r,e,t,n,i){switch(e){case"focusin":return gs=ef(gs,r,e,t,n,i),!0;case"dragenter":return ms=ef(ms,r,e,t,n,i),!0;case"mouseover":return ys=ef(ys,r,e,t,n,i),!0;case"pointerover":var o=i.pointerId;return nd.set(o,ef(nd.get(o)||null,r,e,t,n,i)),!0;case"gotpointercapture":return o=i.pointerId,rd.set(o,ef(rd.get(o)||null,r,e,t,n,i)),!0}return!1}function $T(r){var e=ou(r.target);if(e!==null){var t=dd(e);if(t!==null){if(e=t.tag,e===13){if(e=bO(t),e!==null){r.blockedOn=e,GP(r.priority,function(){if(t.tag===13){var n=Ii();n=F_(n);var i=ac(t,n);i!==null&&zi(i,t,n),Db(t,n)}});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){r.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}r.blockedOn=null}function ip(r){if(r.blockedOn!==null)return!1;for(var e=r.targetContainers;0<e.length;){var t=z0(r.nativeEvent);if(t===null){t=r.nativeEvent;var n=new t.constructor(t.type,t);o0=n,t.target.dispatchEvent(n),o0=null}else return e=oc(t),e!==null&&XT(e),r.blockedOn=t,!1;e.shift()}return!0}function ax(r,e,t){ip(r)&&t.delete(e)}function eL(){H0=!1,gs!==null&&ip(gs)&&(gs=null),ms!==null&&ip(ms)&&(ms=null),ys!==null&&ip(ys)&&(ys=null),nd.forEach(ax),rd.forEach(ax)}function kh(r,e){r.blockedOn===e&&(r.blockedOn=null,H0||(H0=!0,lr.unstable_scheduleCallback(lr.unstable_NormalPriority,eL)))}var Dh=null;function sx(r){Dh!==r&&(Dh=r,lr.unstable_scheduleCallback(lr.unstable_NormalPriority,function(){Dh===r&&(Dh=null);for(var e=0;e<r.length;e+=3){var t=r[e],n=r[e+1],i=r[e+2];if(typeof n!="function"){if(Mb(n||t)===null)continue;break}var o=oc(t);o!==null&&(r.splice(e,3),e-=3,w0(o,{pending:!0,data:i,method:t.method,action:n},n,i))}}))}function id(r){function e(u){return kh(u,r)}gs!==null&&kh(gs,r),ms!==null&&kh(ms,r),ys!==null&&kh(ys,r),nd.forEach(e),rd.forEach(e);for(var t=0;t<os.length;t++){var n=os[t];n.blockedOn===r&&(n.blockedOn=null)}for(;0<os.length&&(t=os[0],t.blockedOn===null);)$T(t),t.blockedOn===null&&os.shift();if(t=(r.ownerDocument||r).$$reactFormReplay,t!=null)for(n=0;n<t.length;n+=3){var i=t[n],o=t[n+1],a=i[mi]||null;if(typeof o=="function")a||sx(t);else if(a){var l=null;if(o&&o.hasAttribute("formAction")){if(i=o,a=o[mi]||null)l=a.formAction;else if(Mb(i)!==null)continue}else l=a.action;typeof l=="function"?t[n+1]=l:(t.splice(n,3),n-=3),sx(t)}}}function Rb(r){this._internalRoot=r}Eg.prototype.render=Rb.prototype.render=function(r){var e=this._internalRoot;if(e===null)throw Error(Kt(409));var t=e.current,n=Ii();YT(t,n,r,e,null,null)};Eg.prototype.unmount=Rb.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var e=r.containerInfo;YT(r.current,2,null,r,null,null),Sg(),e[ic]=null}};function Eg(r){this._internalRoot=r}Eg.prototype.unstable_scheduleHydration=function(r){if(r){var e=PO();r={blockedOn:null,target:r,priority:e};for(var t=0;t<os.length&&e!==0&&e<os[t].priority;t++);os.splice(t,0,r),t===0&&$T(r)}};var lx=yO.version;if(lx!=="19.1.0")throw Error(Kt(527,lx,"19.1.0"));$e.findDOMNode=function(r){var e=r._reactInternals;if(e===void 0)throw typeof r.render=="function"?Error(Kt(188)):(r=Object.keys(r).join(","),Error(Kt(268,r)));return r=PP(e),r=r!==null?wO(r):null,r=r===null?null:r.stateNode,r};var nL={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Te,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ph=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ph.isDisabled&&Ph.supportsFiber)try{hd=Ph.inject(nL),Bi=Ph}catch{}}cg.createRoot=function(r,e){if(!_O(r))throw Error(Kt(299));var t=!1,n="",i=KE,o=GE,a=YE,l=null;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onUncaughtError!==void 0&&(i=e.onUncaughtError),e.onCaughtError!==void 0&&(o=e.onCaughtError),e.onRecoverableError!==void 0&&(a=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(l=e.unstable_transitionCallbacks)),e=KT(r,1,!1,null,null,t,n,i,o,a,l,null),r[ic]=e.current,Tb(r),new Rb(e)};cg.hydrateRoot=function(r,e,t){if(!_O(r))throw Error(Kt(299));var n=!1,i="",o=KE,a=GE,l=YE,u=null,c=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(a=t.onCaughtError),t.onRecoverableError!==void 0&&(l=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(u=t.unstable_transitionCallbacks),t.formState!==void 0&&(c=t.formState)),e=KT(r,1,!0,e,t??null,n,i,o,a,l,u,c),e.context=GT(null),t=e.current,n=Ii(),n=F_(n),i=ds(n),i.callback=null,hs(t,i,n),t=n,e.current.lanes=t,vd(e,t),Io(e),r[ic]=e.current,Tb(r),new Eg(e)};cg.version="19.1.0";function JT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(JT)}catch(r){console.error(r)}}JT(),dO.exports=cg;var rL=dO.exports,Lb={};Object.defineProperty(Lb,"__esModule",{value:!0});Lb.parse=cL;Lb.serialize=fL;const iL=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,oL=/^[\u0021-\u003A\u003C-\u007E]*$/,aL=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,sL=/^[\u0020-\u003A\u003D-\u007E]*$/,lL=Object.prototype.toString,uL=(()=>{const r=function(){};return r.prototype=Object.create(null),r})();function cL(r,e){const t=new uL,n=r.length;if(n<2)return t;const i=(e==null?void 0:e.decode)||dL;let o=0;do{const a=r.indexOf("=",o);if(a===-1)break;const l=r.indexOf(";",o),u=l===-1?n:l;if(a>u){o=r.lastIndexOf(";",a-1)+1;continue}const c=ux(r,o,a),d=cx(r,a,c),h=r.slice(c,d);if(t[h]===void 0){let g=ux(r,a+1,u),m=cx(r,u,g);const _=i(r.slice(g,m));t[h]=_}o=u+1}while(o<n);return t}function ux(r,e,t){do{const n=r.charCodeAt(e);if(n!==32&&n!==9)return e}while(++e<t);return t}function cx(r,e,t){for(;e>t;){const n=r.charCodeAt(--e);if(n!==32&&n!==9)return e+1}return t}function fL(r,e,t){const n=(t==null?void 0:t.encode)||encodeURIComponent;if(!iL.test(r))throw new TypeError(`argument name is invalid: ${r}`);const i=n(e);if(!oL.test(i))throw new TypeError(`argument val is invalid: ${e}`);let o=r+"="+i;if(!t)return o;if(t.maxAge!==void 0){if(!Number.isInteger(t.maxAge))throw new TypeError(`option maxAge is invalid: ${t.maxAge}`);o+="; Max-Age="+t.maxAge}if(t.domain){if(!aL.test(t.domain))throw new TypeError(`option domain is invalid: ${t.domain}`);o+="; Domain="+t.domain}if(t.path){if(!sL.test(t.path))throw new TypeError(`option path is invalid: ${t.path}`);o+="; Path="+t.path}if(t.expires){if(!hL(t.expires)||!Number.isFinite(t.expires.valueOf()))throw new TypeError(`option expires is invalid: ${t.expires}`);o+="; Expires="+t.expires.toUTCString()}if(t.httpOnly&&(o+="; HttpOnly"),t.secure&&(o+="; Secure"),t.partitioned&&(o+="; Partitioned"),t.priority)switch(typeof t.priority=="string"?t.priority.toLowerCase():void 0){case"low":o+="; Priority=Low";break;case"medium":o+="; Priority=Medium";break;case"high":o+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${t.priority}`)}if(t.sameSite)switch(typeof t.sameSite=="string"?t.sameSite.toLowerCase():t.sameSite){case!0:case"strict":o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"none":o+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${t.sameSite}`)}return o}function dL(r){if(r.indexOf("%")===-1)return r;try{return decodeURIComponent(r)}catch{return r}}function hL(r){return lL.call(r)==="[object Date]"}var fx="popstate";function pL(r={}){function e(n,i){let{pathname:o,search:a,hash:l}=n.location;return F0("",{pathname:o,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(n,i){return typeof i=="string"?i:od(i)}return gL(e,t,null,r)}function kn(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function jo(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function vL(){return Math.random().toString(36).substring(2,10)}function dx(r,e){return{usr:r.state,key:r.key,idx:e}}function F0(r,e,t=null,n){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?cc(e):e,state:t,key:e&&e.key||n||vL()}}function od({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function cc(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let n=r.indexOf("?");n>=0&&(e.search=r.substring(n),r=r.substring(0,n)),r&&(e.pathname=r)}return e}function gL(r,e,t,n={}){let{window:i=document.defaultView,v5Compat:o=!1}=n,a=i.history,l="POP",u=null,c=d();c==null&&(c=0,a.replaceState({...a.state,idx:c},""));function d(){return(a.state||{idx:null}).idx}function h(){l="POP";let C=d(),w=C==null?null:C-c;c=C,u&&u({action:l,location:b.location,delta:w})}function g(C,w){l="PUSH";let x=F0(b.location,C,w);c=d()+1;let O=dx(x,c),k=b.createHref(x);try{a.pushState(O,"",k)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;i.location.assign(k)}o&&u&&u({action:l,location:b.location,delta:1})}function m(C,w){l="REPLACE";let x=F0(b.location,C,w);c=d();let O=dx(x,c),k=b.createHref(x);a.replaceState(O,"",k),o&&u&&u({action:l,location:b.location,delta:0})}function _(C){let w=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof C=="string"?C:od(C);return x=x.replace(/ $/,"%20"),kn(w,`No window.location.(origin|href) available to create URL for href: ${x}`),new URL(x,w)}let b={get action(){return l},get location(){return r(i,a)},listen(C){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(fx,h),u=C,()=>{i.removeEventListener(fx,h),u=null}},createHref(C){return e(i,C)},createURL:_,encodeLocation(C){let w=_(C);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:g,replace:m,go(C){return a.go(C)}};return b}function QT(r,e,t="/"){return mL(r,e,t,!1)}function mL(r,e,t,n){let i=typeof e=="string"?cc(e):e,o=Ca(i.pathname||"/",t);if(o==null)return null;let a=tA(r);yL(a);let l=null;for(let u=0;l==null&&u<a.length;++u){let c=kL(o);l=TL(a[u],c,n)}return l}function tA(r,e=[],t=[],n=""){let i=(o,a,l)=>{let u={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};u.relativePath.startsWith("/")&&(kn(u.relativePath.startsWith(n),`Absolute route path "${u.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(n.length));let c=ma([n,u.relativePath]),d=t.concat(u);o.children&&o.children.length>0&&(kn(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),tA(o.children,e,d,c)),!(o.path==null&&!o.index)&&e.push({path:c,score:OL(c,o.index),routesMeta:d})};return r.forEach((o,a)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))i(o,a);else for(let u of eA(o.path))i(o,a,u)}),e}function eA(r){let e=r.split("/");if(e.length===0)return[];let[t,...n]=e,i=t.endsWith("?"),o=t.replace(/\?$/,"");if(n.length===0)return i?[o,""]:[o];let a=eA(n.join("/")),l=[];return l.push(...a.map(u=>u===""?o:[o,u].join("/"))),i&&l.push(...a),l.map(u=>r.startsWith("/")&&u===""?"/":u)}function yL(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:EL(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var _L=/^:[\w-]+$/,bL=3,wL=2,SL=1,CL=10,xL=-2,hx=r=>r==="*";function OL(r,e){let t=r.split("/"),n=t.length;return t.some(hx)&&(n+=xL),e&&(n+=wL),t.filter(i=>!hx(i)).reduce((i,o)=>i+(_L.test(o)?bL:o===""?SL:CL),n)}function EL(r,e){return r.length===e.length&&r.slice(0,-1).every((n,i)=>n===e[i])?r[r.length-1]-e[e.length-1]:0}function TL(r,e,t=!1){let{routesMeta:n}=r,i={},o="/",a=[];for(let l=0;l<n.length;++l){let u=n[l],c=l===n.length-1,d=o==="/"?e:e.slice(o.length)||"/",h=$p({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},d),g=u.route;if(!h&&c&&t&&!n[n.length-1].route.index&&(h=$p({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),a.push({params:i,pathname:ma([o,h.pathname]),pathnameBase:RL(ma([o,h.pathnameBase])),route:g}),h.pathnameBase!=="/"&&(o=ma([o,h.pathnameBase]))}return a}function $p(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,n]=AL(r.path,r.caseSensitive,r.end),i=e.match(t);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((c,{paramName:d,isOptional:h},g)=>{if(d==="*"){let _=l[g]||"";a=o.slice(0,o.length-_.length).replace(/(.)\/+$/,"$1")}const m=l[g];return h&&!m?c[d]=void 0:c[d]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:a,pattern:r}}function AL(r,e=!1,t=!0){jo(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let n=[],i="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,u)=>(n.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(n.push({paramName:"*"}),i+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":r!==""&&r!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function kL(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return jo(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Ca(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=r.charAt(t);return n&&n!=="/"?null:r.slice(t)||"/"}function DL(r,e="/"){let{pathname:t,search:n="",hash:i=""}=typeof r=="string"?cc(r):r;return{pathname:t?t.startsWith("/")?t:PL(t,e):e,search:LL(n),hash:NL(i)}}function PL(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function ay(r,e,t,n){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ML(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function nA(r){let e=ML(r);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function rA(r,e,t,n=!1){let i;typeof r=="string"?i=cc(r):(i={...r},kn(!i.pathname||!i.pathname.includes("?"),ay("?","pathname","search",i)),kn(!i.pathname||!i.pathname.includes("#"),ay("#","pathname","hash",i)),kn(!i.search||!i.search.includes("#"),ay("#","search","hash",i)));let o=r===""||i.pathname==="",a=o?"/":i.pathname,l;if(a==null)l=t;else{let h=e.length-1;if(!n&&a.startsWith("..")){let g=a.split("/");for(;g[0]==="..";)g.shift(),h-=1;i.pathname=g.join("/")}l=h>=0?e[h]:"/"}let u=DL(i,l),c=a&&a!=="/"&&a.endsWith("/"),d=(o||a===".")&&t.endsWith("/");return!u.pathname.endsWith("/")&&(c||d)&&(u.pathname+="/"),u}var ma=r=>r.join("/").replace(/\/\/+/g,"/"),RL=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),LL=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,NL=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function jL(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var iA=["POST","PUT","PATCH","DELETE"];new Set(iA);var VL=["GET",...iA];new Set(VL);var fc=Nt.createContext(null);fc.displayName="DataRouter";var Tg=Nt.createContext(null);Tg.displayName="DataRouterState";var oA=Nt.createContext({isTransitioning:!1});oA.displayName="ViewTransition";var BL=Nt.createContext(new Map);BL.displayName="Fetchers";var UL=Nt.createContext(null);UL.displayName="Await";var zo=Nt.createContext(null);zo.displayName="Navigation";var Ad=Nt.createContext(null);Ad.displayName="Location";var Ho=Nt.createContext({outlet:null,matches:[],isDataRoute:!1});Ho.displayName="Route";var Nb=Nt.createContext(null);Nb.displayName="RouteError";function IL(r,{relative:e}={}){kn(kd(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=Nt.useContext(zo),{hash:i,pathname:o,search:a}=Dd(r,{relative:e}),l=o;return t!=="/"&&(l=o==="/"?t:ma([t,o])),n.createHref({pathname:l,search:a,hash:i})}function kd(){return Nt.useContext(Ad)!=null}function As(){return kn(kd(),"useLocation() may be used only in the context of a <Router> component."),Nt.useContext(Ad).location}var aA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function sA(r){Nt.useContext(zo).static||Nt.useLayoutEffect(r)}function Ag(){let{isDataRoute:r}=Nt.useContext(Ho);return r?tN():zL()}function zL(){kn(kd(),"useNavigate() may be used only in the context of a <Router> component.");let r=Nt.useContext(fc),{basename:e,navigator:t}=Nt.useContext(zo),{matches:n}=Nt.useContext(Ho),{pathname:i}=As(),o=JSON.stringify(nA(n)),a=Nt.useRef(!1);return sA(()=>{a.current=!0}),Nt.useCallback((u,c={})=>{if(jo(a.current,aA),!a.current)return;if(typeof u=="number"){t.go(u);return}let d=rA(u,JSON.parse(o),i,c.relative==="path");r==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:ma([e,d.pathname])),(c.replace?t.replace:t.push)(d,c.state,c)},[e,t,o,i,r])}Nt.createContext(null);function HL(){let{matches:r}=Nt.useContext(Ho),e=r[r.length-1];return e?e.params:{}}function Dd(r,{relative:e}={}){let{matches:t}=Nt.useContext(Ho),{pathname:n}=As(),i=JSON.stringify(nA(t));return Nt.useMemo(()=>rA(r,JSON.parse(i),n,e==="path"),[r,i,n,e])}function FL(r,e){return lA(r,e)}function lA(r,e,t,n){var x;kn(kd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:o}=Nt.useContext(zo),{matches:a}=Nt.useContext(Ho),l=a[a.length-1],u=l?l.params:{},c=l?l.pathname:"/",d=l?l.pathnameBase:"/",h=l&&l.route;{let O=h&&h.path||"";uA(c,!h||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let g=As(),m;if(e){let O=typeof e=="string"?cc(e):e;kn(d==="/"||((x=O.pathname)==null?void 0:x.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${O.pathname}" was given in the \`location\` prop.`),m=O}else m=g;let _=m.pathname||"/",b=_;if(d!=="/"){let O=d.replace(/^\//,"").split("/");b="/"+_.replace(/^\//,"").split("/").slice(O.length).join("/")}let C=!o&&t&&t.matches&&t.matches.length>0?t.matches:QT(r,{pathname:b});jo(h||C!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),jo(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=YL(C&&C.map(O=>Object.assign({},O,{params:Object.assign({},u,O.params),pathname:ma([d,i.encodeLocation?i.encodeLocation(O.pathname).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?d:ma([d,i.encodeLocation?i.encodeLocation(O.pathnameBase).pathname:O.pathnameBase])})),a,t,n);return e&&w?Nt.createElement(Ad.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},w):w}function WL(){let r=QL(),e=jL(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},o={padding:"2px 4px",backgroundColor:n},a=null;return console.error("Error handled by React Router default ErrorBoundary:",r),a=Nt.createElement(Nt.Fragment,null,Nt.createElement("p",null,"💿 Hey developer 👋"),Nt.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Nt.createElement("code",{style:o},"ErrorBoundary")," or"," ",Nt.createElement("code",{style:o},"errorElement")," prop on your route.")),Nt.createElement(Nt.Fragment,null,Nt.createElement("h2",null,"Unexpected Application Error!"),Nt.createElement("h3",{style:{fontStyle:"italic"}},e),t?Nt.createElement("pre",{style:i},t):null,a)}var qL=Nt.createElement(WL,null),KL=class extends Nt.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?Nt.createElement(Ho.Provider,{value:this.props.routeContext},Nt.createElement(Nb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function GL({routeContext:r,match:e,children:t}){let n=Nt.useContext(fc);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),Nt.createElement(Ho.Provider,{value:r},t)}function YL(r,e=[],t=null,n=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let i=r,o=t==null?void 0:t.errors;if(o!=null){let u=i.findIndex(c=>c.route.id&&(o==null?void 0:o[c.route.id])!==void 0);kn(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,u+1))}let a=!1,l=-1;if(t)for(let u=0;u<i.length;u++){let c=i[u];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(l=u),c.route.id){let{loaderData:d,errors:h}=t,g=c.route.loader&&!d.hasOwnProperty(c.route.id)&&(!h||h[c.route.id]===void 0);if(c.route.lazy||g){a=!0,l>=0?i=i.slice(0,l+1):i=[i[0]];break}}}return i.reduceRight((u,c,d)=>{let h,g=!1,m=null,_=null;t&&(h=o&&c.route.id?o[c.route.id]:void 0,m=c.route.errorElement||qL,a&&(l<0&&d===0?(uA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,_=null):l===d&&(g=!0,_=c.route.hydrateFallbackElement||null)));let b=e.concat(i.slice(0,d+1)),C=()=>{let w;return h?w=m:g?w=_:c.route.Component?w=Nt.createElement(c.route.Component,null):c.route.element?w=c.route.element:w=u,Nt.createElement(GL,{match:c,routeContext:{outlet:u,matches:b,isDataRoute:t!=null},children:w})};return t&&(c.route.ErrorBoundary||c.route.errorElement||d===0)?Nt.createElement(KL,{location:t.location,revalidation:t.revalidation,component:m,error:h,children:C(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):C()},null)}function jb(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function XL(r){let e=Nt.useContext(fc);return kn(e,jb(r)),e}function ZL(r){let e=Nt.useContext(Tg);return kn(e,jb(r)),e}function $L(r){let e=Nt.useContext(Ho);return kn(e,jb(r)),e}function Vb(r){let e=$L(r),t=e.matches[e.matches.length-1];return kn(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function JL(){return Vb("useRouteId")}function QL(){var n;let r=Nt.useContext(Nb),e=ZL("useRouteError"),t=Vb("useRouteError");return r!==void 0?r:(n=e.errors)==null?void 0:n[t]}function tN(){let{router:r}=XL("useNavigate"),e=Vb("useNavigate"),t=Nt.useRef(!1);return sA(()=>{t.current=!0}),Nt.useCallback(async(i,o={})=>{jo(t.current,aA),t.current&&(typeof i=="number"?r.navigate(i):await r.navigate(i,{fromRouteId:e,...o}))},[r,e])}var px={};function uA(r,e,t){!e&&!px[r]&&(px[r]=!0,jo(!1,t))}Nt.memo(eN);function eN({routes:r,future:e,state:t}){return lA(r,void 0,t,e)}function op(r){kn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function nN({basename:r="/",children:e=null,location:t,navigationType:n="POP",navigator:i,static:o=!1}){kn(!kd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=r.replace(/^\/*/,"/"),l=Nt.useMemo(()=>({basename:a,navigator:i,static:o,future:{}}),[a,i,o]);typeof t=="string"&&(t=cc(t));let{pathname:u="/",search:c="",hash:d="",state:h=null,key:g="default"}=t,m=Nt.useMemo(()=>{let _=Ca(u,a);return _==null?null:{location:{pathname:_,search:c,hash:d,state:h,key:g},navigationType:n}},[a,u,c,d,h,g,n]);return jo(m!=null,`<Router basename="${a}"> is not able to match the URL "${u}${c}${d}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:Nt.createElement(zo.Provider,{value:l},Nt.createElement(Ad.Provider,{children:e,value:m}))}function rN({children:r,location:e}){return FL(W0(r),e)}function W0(r,e=[]){let t=[];return Nt.Children.forEach(r,(n,i)=>{if(!Nt.isValidElement(n))return;let o=[...e,i];if(n.type===Nt.Fragment){t.push.apply(t,W0(n.props.children,o));return}kn(n.type===op,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),kn(!n.props.index||!n.props.children,"An index route cannot have child routes.");let a={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=W0(n.props.children,o)),t.push(a)}),t}var ap="get",sp="application/x-www-form-urlencoded";function kg(r){return r!=null&&typeof r.tagName=="string"}function iN(r){return kg(r)&&r.tagName.toLowerCase()==="button"}function oN(r){return kg(r)&&r.tagName.toLowerCase()==="form"}function aN(r){return kg(r)&&r.tagName.toLowerCase()==="input"}function sN(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function lN(r,e){return r.button===0&&(!e||e==="_self")&&!sN(r)}var Mh=null;function uN(){if(Mh===null)try{new FormData(document.createElement("form"),0),Mh=!1}catch{Mh=!0}return Mh}var cN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function sy(r){return r!=null&&!cN.has(r)?(jo(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${sp}"`),null):r}function fN(r,e){let t,n,i,o,a;if(oN(r)){let l=r.getAttribute("action");n=l?Ca(l,e):null,t=r.getAttribute("method")||ap,i=sy(r.getAttribute("enctype"))||sp,o=new FormData(r)}else if(iN(r)||aN(r)&&(r.type==="submit"||r.type==="image")){let l=r.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=r.getAttribute("formaction")||l.getAttribute("action");if(n=u?Ca(u,e):null,t=r.getAttribute("formmethod")||l.getAttribute("method")||ap,i=sy(r.getAttribute("formenctype"))||sy(l.getAttribute("enctype"))||sp,o=new FormData(l,r),!uN()){let{name:c,type:d,value:h}=r;if(d==="image"){let g=c?`${c}.`:"";o.append(`${g}x`,"0"),o.append(`${g}y`,"0")}else c&&o.append(c,h)}}else{if(kg(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=ap,n=null,i=sp,a=r}return o&&i==="text/plain"&&(a=o,o=void 0),{action:n,method:t.toLowerCase(),encType:i,formData:o,body:a}}function Bb(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function dN(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function hN(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function pN(r,e,t){let n=await Promise.all(r.map(async i=>{let o=e.routes[i.route.id];if(o){let a=await dN(o,t);return a.links?a.links():[]}return[]}));return yN(n.flat(1).filter(hN).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function vx(r,e,t,n,i,o){let a=(u,c)=>t[c]?u.route.id!==t[c].route.id:!0,l=(u,c)=>{var d;return t[c].pathname!==u.pathname||((d=t[c].route.path)==null?void 0:d.endsWith("*"))&&t[c].params["*"]!==u.params["*"]};return o==="assets"?e.filter((u,c)=>a(u,c)||l(u,c)):o==="data"?e.filter((u,c)=>{var h;let d=n.routes[u.route.id];if(!d||!d.hasLoader)return!1;if(a(u,c)||l(u,c))return!0;if(u.route.shouldRevalidate){let g=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((h=t[0])==null?void 0:h.params)||{},nextUrl:new URL(r,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function vN(r,e,{includeHydrateFallback:t}={}){return gN(r.map(n=>{let i=e.routes[n.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function gN(r){return[...new Set(r)]}function mN(r){let e={},t=Object.keys(r).sort();for(let n of t)e[n]=r[n];return e}function yN(r,e){let t=new Set;return new Set(e),r.reduce((n,i)=>{let o=JSON.stringify(mN(i));return t.has(o)||(t.add(o),n.push({key:o,link:i})),n},[])}var _N=new Set([100,101,204,205]);function bN(r,e){let t=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return t.pathname==="/"?t.pathname="_root.data":e&&Ca(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function cA(){let r=Nt.useContext(fc);return Bb(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function wN(){let r=Nt.useContext(Tg);return Bb(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Ub=Nt.createContext(void 0);Ub.displayName="FrameworkContext";function fA(){let r=Nt.useContext(Ub);return Bb(r,"You must render this element inside a <HydratedRouter> element"),r}function SN(r,e){let t=Nt.useContext(Ub),[n,i]=Nt.useState(!1),[o,a]=Nt.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:c,onMouseLeave:d,onTouchStart:h}=e,g=Nt.useRef(null);Nt.useEffect(()=>{if(r==="render"&&a(!0),r==="viewport"){let b=w=>{w.forEach(x=>{a(x.isIntersecting)})},C=new IntersectionObserver(b,{threshold:.5});return g.current&&C.observe(g.current),()=>{C.disconnect()}}},[r]),Nt.useEffect(()=>{if(n){let b=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(b)}}},[n]);let m=()=>{i(!0)},_=()=>{i(!1),a(!1)};return t?r!=="intent"?[o,g,{}]:[o,g,{onFocus:nf(l,m),onBlur:nf(u,_),onMouseEnter:nf(c,m),onMouseLeave:nf(d,_),onTouchStart:nf(h,m)}]:[!1,g,{}]}function nf(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function CN({page:r,...e}){let{router:t}=cA(),n=Nt.useMemo(()=>QT(t.routes,r,t.basename),[t.routes,r,t.basename]);return n?Nt.createElement(ON,{page:r,matches:n,...e}):null}function xN(r){let{manifest:e,routeModules:t}=fA(),[n,i]=Nt.useState([]);return Nt.useEffect(()=>{let o=!1;return pN(r,e,t).then(a=>{o||i(a)}),()=>{o=!0}},[r,e,t]),n}function ON({page:r,matches:e,...t}){let n=As(),{manifest:i,routeModules:o}=fA(),{basename:a}=cA(),{loaderData:l,matches:u}=wN(),c=Nt.useMemo(()=>vx(r,e,u,i,n,"data"),[r,e,u,i,n]),d=Nt.useMemo(()=>vx(r,e,u,i,n,"assets"),[r,e,u,i,n]),h=Nt.useMemo(()=>{if(r===n.pathname+n.search+n.hash)return[];let _=new Set,b=!1;if(e.forEach(w=>{var O;let x=i.routes[w.route.id];!x||!x.hasLoader||(!c.some(k=>k.route.id===w.route.id)&&w.route.id in l&&((O=o[w.route.id])!=null&&O.shouldRevalidate)||x.hasClientLoader?b=!0:_.add(w.route.id))}),_.size===0)return[];let C=bN(r,a);return b&&_.size>0&&C.searchParams.set("_routes",e.filter(w=>_.has(w.route.id)).map(w=>w.route.id).join(",")),[C.pathname+C.search]},[a,l,n,i,c,e,r,o]),g=Nt.useMemo(()=>vN(d,i),[d,i]),m=xN(d);return Nt.createElement(Nt.Fragment,null,h.map(_=>Nt.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...t})),g.map(_=>Nt.createElement("link",{key:_,rel:"modulepreload",href:_,...t})),m.map(({key:_,link:b})=>Nt.createElement("link",{key:_,...b})))}function EN(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var dA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{dA&&(window.__reactRouterVersion="7.5.3")}catch{}function TN({basename:r,children:e,window:t}){let n=Nt.useRef();n.current==null&&(n.current=pL({window:t,v5Compat:!0}));let i=n.current,[o,a]=Nt.useState({action:i.action,location:i.location}),l=Nt.useCallback(u=>{Nt.startTransition(()=>a(u))},[a]);return Nt.useLayoutEffect(()=>i.listen(l),[i,l]),Nt.createElement(nN,{basename:r,children:e,location:o.location,navigationType:o.action,navigator:i})}var hA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ib=Nt.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:i,reloadDocument:o,replace:a,state:l,target:u,to:c,preventScrollReset:d,viewTransition:h,...g},m){let{basename:_}=Nt.useContext(zo),b=typeof c=="string"&&hA.test(c),C,w=!1;if(typeof c=="string"&&b&&(C=c,dA))try{let U=new URL(window.location.href),Q=c.startsWith("//")?new URL(U.protocol+c):new URL(c),H=Ca(Q.pathname,_);Q.origin===U.origin&&H!=null?c=H+Q.search+Q.hash:w=!0}catch{jo(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let x=IL(c,{relative:i}),[O,k,V]=SN(n,g),Z=PN(c,{replace:a,state:l,target:u,preventScrollReset:d,relative:i,viewTransition:h});function $(U){e&&e(U),U.defaultPrevented||Z(U)}let Y=Nt.createElement("a",{...g,...V,href:C||x,onClick:w||o?e:$,ref:EN(m,k),target:u,"data-discover":!b&&t==="render"?"true":void 0});return O&&!b?Nt.createElement(Nt.Fragment,null,Y,Nt.createElement(CN,{page:x})):Y});Ib.displayName="Link";var AN=Nt.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:i=!1,style:o,to:a,viewTransition:l,children:u,...c},d){let h=Dd(a,{relative:c.relative}),g=As(),m=Nt.useContext(Tg),{navigator:_,basename:b}=Nt.useContext(zo),C=m!=null&&jN(h)&&l===!0,w=_.encodeLocation?_.encodeLocation(h).pathname:h.pathname,x=g.pathname,O=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;t||(x=x.toLowerCase(),O=O?O.toLowerCase():null,w=w.toLowerCase()),O&&b&&(O=Ca(O,b)||O);const k=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let V=x===w||!i&&x.startsWith(w)&&x.charAt(k)==="/",Z=O!=null&&(O===w||!i&&O.startsWith(w)&&O.charAt(w.length)==="/"),$={isActive:V,isPending:Z,isTransitioning:C},Y=V?e:void 0,U;typeof n=="function"?U=n($):U=[n,V?"active":null,Z?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let Q=typeof o=="function"?o($):o;return Nt.createElement(Ib,{...c,"aria-current":Y,className:U,ref:d,style:Q,to:a,viewTransition:l},typeof u=="function"?u($):u)});AN.displayName="NavLink";var kN=Nt.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:n,replace:i,state:o,method:a=ap,action:l,onSubmit:u,relative:c,preventScrollReset:d,viewTransition:h,...g},m)=>{let _=LN(),b=NN(l,{relative:c}),C=a.toLowerCase()==="get"?"get":"post",w=typeof l=="string"&&hA.test(l),x=O=>{if(u&&u(O),O.defaultPrevented)return;O.preventDefault();let k=O.nativeEvent.submitter,V=(k==null?void 0:k.getAttribute("formmethod"))||a;_(k||O.currentTarget,{fetcherKey:e,method:V,navigate:t,replace:i,state:o,relative:c,preventScrollReset:d,viewTransition:h})};return Nt.createElement("form",{ref:m,method:C,action:b,onSubmit:n?u:x,...g,"data-discover":!w&&r==="render"?"true":void 0})});kN.displayName="Form";function DN(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pA(r){let e=Nt.useContext(fc);return kn(e,DN(r)),e}function PN(r,{target:e,replace:t,state:n,preventScrollReset:i,relative:o,viewTransition:a}={}){let l=Ag(),u=As(),c=Dd(r,{relative:o});return Nt.useCallback(d=>{if(lN(d,e)){d.preventDefault();let h=t!==void 0?t:od(u)===od(c);l(r,{replace:h,state:n,preventScrollReset:i,relative:o,viewTransition:a})}},[u,l,c,t,n,e,r,i,o,a])}var MN=0,RN=()=>`__${String(++MN)}__`;function LN(){let{router:r}=pA("useSubmit"),{basename:e}=Nt.useContext(zo),t=JL();return Nt.useCallback(async(n,i={})=>{let{action:o,method:a,encType:l,formData:u,body:c}=fN(n,e);if(i.navigate===!1){let d=i.fetcherKey||RN();await r.fetch(d,t,i.action||o,{preventScrollReset:i.preventScrollReset,formData:u,body:c,formMethod:i.method||a,formEncType:i.encType||l,flushSync:i.flushSync})}else await r.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:u,body:c,formMethod:i.method||a,formEncType:i.encType||l,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[r,e,t])}function NN(r,{relative:e}={}){let{basename:t}=Nt.useContext(zo),n=Nt.useContext(Ho);kn(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),o={...Dd(r||".",{relative:e})},a=As();if(r==null){o.search=a.search;let l=new URLSearchParams(o.search),u=l.getAll("index");if(u.some(d=>d==="")){l.delete("index"),u.filter(h=>h).forEach(h=>l.append("index",h));let d=l.toString();o.search=d?`?${d}`:""}}return(!r||r===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:ma([t,o.pathname])),od(o)}function jN(r,e={}){let t=Nt.useContext(oA);kn(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=pA("useViewTransitionState"),i=Dd(r,{relative:e.relative});if(!t.isTransitioning)return!1;let o=Ca(t.currentLocation.pathname,n)||t.currentLocation.pathname,a=Ca(t.nextLocation.pathname,n)||t.nextLocation.pathname;return $p(i.pathname,a)!=null||$p(i.pathname,o)!=null}new TextEncoder;[..._N];const dc="https://twodoparcialsw1backend.onrender.com";function VN({isOpen:r,onConfirm:e,onCancel:t,message:n}){return r?Yt.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:Yt.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-96",children:[Yt.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Cerrar sesión"}),Yt.jsx("p",{className:"text-sm text-gray-700 mb-6",children:n}),Yt.jsxs("div",{className:"flex justify-end gap-3",children:[Yt.jsx("button",{onClick:t,className:"px-4 py-2 rounded bg-gray-200 text-gray-700 hover:bg-gray-300",children:"Cancelar"}),Yt.jsx("button",{onClick:e,className:"px-4 py-2 rounded bg-red-500 text-white hover:bg-red-600",children:"Cerrar sesión"})]})]})}):null}function vA(){const[r,e]=Nt.useState(null),[t,n]=Nt.useState(!1);Ag();const i=As();Nt.useEffect(()=>{const u=localStorage.getItem("user");u&&e(JSON.parse(u))},[]);const o=()=>n(!0),a=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/"},l=i.pathname.startsWith("/canvas")?"Estás en medio de la edición de un proyecto. Si cierras sesión ahora podrías perder los cambios. ¿Deseas continuar?":"¿Estás seguro que deseas cerrar sesión?";return Yt.jsxs(Yt.Fragment,{children:[Yt.jsxs("header",{className:"w-full h-16 bg-white shadow-md flex items-center justify-between px-8 border-b border-gray-200",children:[Yt.jsx(Ib,{to:"/",className:"text-xl font-semibold text-gray-800 hover:text-indigo-600 transition",children:"🏠 Inicio"}),Yt.jsx("h1",{className:"text-4xl font-bold tracking-tight text-black text-indigo-700",children:"MyEDITOR"}),Yt.jsx("div",{className:"flex items-center gap-4",children:r?Yt.jsxs(Yt.Fragment,{children:[Yt.jsxs("div",{className:"flex items-center gap-2",children:[Yt.jsx("img",{src:r.picture,alt:"avatar",className:"w-9 h-9 rounded-full object-cover border"}),Yt.jsx("span",{className:"text-sm font-medium text-gray-700",children:r.name})]}),Yt.jsx("button",{onClick:o,className:"text-sm px-4 py-2 rounded-md bg-red-500 text-white hover:bg-red-600 transition",children:"Cerrar sesión"})]}):Yt.jsx("a",{href:`${dc}/auth/google`,className:"text-sm px-4 py-2 rounded-md bg-blue-600 text-white hover:bg-blue-700 transition",children:"Iniciar con Google"})})]}),Yt.jsx(VN,{isOpen:t,onCancel:()=>n(!1),onConfirm:a,message:l})]})}function gA(r,e){return function(){return r.apply(e,arguments)}}const{toString:BN}=Object.prototype,{getPrototypeOf:zb}=Object,{iterator:Dg,toStringTag:mA}=Symbol,Pg=(r=>e=>{const t=BN.call(e);return r[t]||(r[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Co=r=>(r=r.toLowerCase(),e=>Pg(e)===r),Mg=r=>e=>typeof e===r,{isArray:hc}=Array,ad=Mg("undefined");function UN(r){return r!==null&&!ad(r)&&r.constructor!==null&&!ad(r.constructor)&&vi(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const yA=Co("ArrayBuffer");function IN(r){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(r):e=r&&r.buffer&&yA(r.buffer),e}const zN=Mg("string"),vi=Mg("function"),_A=Mg("number"),Rg=r=>r!==null&&typeof r=="object",HN=r=>r===!0||r===!1,lp=r=>{if(Pg(r)!=="object")return!1;const e=zb(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(mA in r)&&!(Dg in r)},FN=Co("Date"),WN=Co("File"),qN=Co("Blob"),KN=Co("FileList"),GN=r=>Rg(r)&&vi(r.pipe),YN=r=>{let e;return r&&(typeof FormData=="function"&&r instanceof FormData||vi(r.append)&&((e=Pg(r))==="formdata"||e==="object"&&vi(r.toString)&&r.toString()==="[object FormData]"))},XN=Co("URLSearchParams"),[ZN,$N,JN,QN]=["ReadableStream","Request","Response","Headers"].map(Co),tj=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Pd(r,e,{allOwnKeys:t=!1}={}){if(r===null||typeof r>"u")return;let n,i;if(typeof r!="object"&&(r=[r]),hc(r))for(n=0,i=r.length;n<i;n++)e.call(null,r[n],n,r);else{const o=t?Object.getOwnPropertyNames(r):Object.keys(r),a=o.length;let l;for(n=0;n<a;n++)l=o[n],e.call(null,r[l],l,r)}}function bA(r,e){e=e.toLowerCase();const t=Object.keys(r);let n=t.length,i;for(;n-- >0;)if(i=t[n],e===i.toLowerCase())return i;return null}const Js=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,wA=r=>!ad(r)&&r!==Js;function q0(){const{caseless:r}=wA(this)&&this||{},e={},t=(n,i)=>{const o=r&&bA(e,i)||i;lp(e[o])&&lp(n)?e[o]=q0(e[o],n):lp(n)?e[o]=q0({},n):hc(n)?e[o]=n.slice():e[o]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&Pd(arguments[n],t);return e}const ej=(r,e,t,{allOwnKeys:n}={})=>(Pd(e,(i,o)=>{t&&vi(i)?r[o]=gA(i,t):r[o]=i},{allOwnKeys:n}),r),nj=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),rj=(r,e,t,n)=>{r.prototype=Object.create(e.prototype,n),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:e.prototype}),t&&Object.assign(r.prototype,t)},ij=(r,e,t,n)=>{let i,o,a;const l={};if(e=e||{},r==null)return e;do{for(i=Object.getOwnPropertyNames(r),o=i.length;o-- >0;)a=i[o],(!n||n(a,r,e))&&!l[a]&&(e[a]=r[a],l[a]=!0);r=t!==!1&&zb(r)}while(r&&(!t||t(r,e))&&r!==Object.prototype);return e},oj=(r,e,t)=>{r=String(r),(t===void 0||t>r.length)&&(t=r.length),t-=e.length;const n=r.indexOf(e,t);return n!==-1&&n===t},aj=r=>{if(!r)return null;if(hc(r))return r;let e=r.length;if(!_A(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=r[e];return t},sj=(r=>e=>r&&e instanceof r)(typeof Uint8Array<"u"&&zb(Uint8Array)),lj=(r,e)=>{const n=(r&&r[Dg]).call(r);let i;for(;(i=n.next())&&!i.done;){const o=i.value;e.call(r,o[0],o[1])}},uj=(r,e)=>{let t;const n=[];for(;(t=r.exec(e))!==null;)n.push(t);return n},cj=Co("HTMLFormElement"),fj=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,n,i){return n.toUpperCase()+i}),gx=(({hasOwnProperty:r})=>(e,t)=>r.call(e,t))(Object.prototype),dj=Co("RegExp"),SA=(r,e)=>{const t=Object.getOwnPropertyDescriptors(r),n={};Pd(t,(i,o)=>{let a;(a=e(i,o,r))!==!1&&(n[o]=a||i)}),Object.defineProperties(r,n)},hj=r=>{SA(r,(e,t)=>{if(vi(r)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const n=r[t];if(vi(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},pj=(r,e)=>{const t={},n=i=>{i.forEach(o=>{t[o]=!0})};return hc(r)?n(r):n(String(r).split(e)),t},vj=()=>{},gj=(r,e)=>r!=null&&Number.isFinite(r=+r)?r:e;function mj(r){return!!(r&&vi(r.append)&&r[mA]==="FormData"&&r[Dg])}const yj=r=>{const e=new Array(10),t=(n,i)=>{if(Rg(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[i]=n;const o=hc(n)?[]:{};return Pd(n,(a,l)=>{const u=t(a,i+1);!ad(u)&&(o[l]=u)}),e[i]=void 0,o}}return n};return t(r,0)},_j=Co("AsyncFunction"),bj=r=>r&&(Rg(r)||vi(r))&&vi(r.then)&&vi(r.catch),CA=((r,e)=>r?setImmediate:e?((t,n)=>(Js.addEventListener("message",({source:i,data:o})=>{i===Js&&o===t&&n.length&&n.shift()()},!1),i=>{n.push(i),Js.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",vi(Js.postMessage)),wj=typeof queueMicrotask<"u"?queueMicrotask.bind(Js):typeof process<"u"&&process.nextTick||CA,Sj=r=>r!=null&&vi(r[Dg]),Rt={isArray:hc,isArrayBuffer:yA,isBuffer:UN,isFormData:YN,isArrayBufferView:IN,isString:zN,isNumber:_A,isBoolean:HN,isObject:Rg,isPlainObject:lp,isReadableStream:ZN,isRequest:$N,isResponse:JN,isHeaders:QN,isUndefined:ad,isDate:FN,isFile:WN,isBlob:qN,isRegExp:dj,isFunction:vi,isStream:GN,isURLSearchParams:XN,isTypedArray:sj,isFileList:KN,forEach:Pd,merge:q0,extend:ej,trim:tj,stripBOM:nj,inherits:rj,toFlatObject:ij,kindOf:Pg,kindOfTest:Co,endsWith:oj,toArray:aj,forEachEntry:lj,matchAll:uj,isHTMLForm:cj,hasOwnProperty:gx,hasOwnProp:gx,reduceDescriptors:SA,freezeMethods:hj,toObjectSet:pj,toCamelCase:fj,noop:vj,toFiniteNumber:gj,findKey:bA,global:Js,isContextDefined:wA,isSpecCompliantForm:mj,toJSONObject:yj,isAsyncFn:_j,isThenable:bj,setImmediate:CA,asap:wj,isIterable:Sj};function Me(r,e,t,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}Rt.inherits(Me,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Rt.toJSONObject(this.config),code:this.code,status:this.status}}});const xA=Me.prototype,OA={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{OA[r]={value:r}});Object.defineProperties(Me,OA);Object.defineProperty(xA,"isAxiosError",{value:!0});Me.from=(r,e,t,n,i,o)=>{const a=Object.create(xA);return Rt.toFlatObject(r,a,function(u){return u!==Error.prototype},l=>l!=="isAxiosError"),Me.call(a,r.message,e,t,n,i),a.cause=r,a.name=r.name,o&&Object.assign(a,o),a};const Cj=null;function K0(r){return Rt.isPlainObject(r)||Rt.isArray(r)}function EA(r){return Rt.endsWith(r,"[]")?r.slice(0,-2):r}function mx(r,e,t){return r?r.concat(e).map(function(i,o){return i=EA(i),!t&&o?"["+i+"]":i}).join(t?".":""):e}function xj(r){return Rt.isArray(r)&&!r.some(K0)}const Oj=Rt.toFlatObject(Rt,{},null,function(e){return/^is[A-Z]/.test(e)});function Lg(r,e,t){if(!Rt.isObject(r))throw new TypeError("target must be an object");e=e||new FormData,t=Rt.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,C){return!Rt.isUndefined(C[b])});const n=t.metaTokens,i=t.visitor||d,o=t.dots,a=t.indexes,u=(t.Blob||typeof Blob<"u"&&Blob)&&Rt.isSpecCompliantForm(e);if(!Rt.isFunction(i))throw new TypeError("visitor must be a function");function c(_){if(_===null)return"";if(Rt.isDate(_))return _.toISOString();if(!u&&Rt.isBlob(_))throw new Me("Blob is not supported. Use a Buffer instead.");return Rt.isArrayBuffer(_)||Rt.isTypedArray(_)?u&&typeof Blob=="function"?new Blob([_]):Buffer.from(_):_}function d(_,b,C){let w=_;if(_&&!C&&typeof _=="object"){if(Rt.endsWith(b,"{}"))b=n?b:b.slice(0,-2),_=JSON.stringify(_);else if(Rt.isArray(_)&&xj(_)||(Rt.isFileList(_)||Rt.endsWith(b,"[]"))&&(w=Rt.toArray(_)))return b=EA(b),w.forEach(function(O,k){!(Rt.isUndefined(O)||O===null)&&e.append(a===!0?mx([b],k,o):a===null?b:b+"[]",c(O))}),!1}return K0(_)?!0:(e.append(mx(C,b,o),c(_)),!1)}const h=[],g=Object.assign(Oj,{defaultVisitor:d,convertValue:c,isVisitable:K0});function m(_,b){if(!Rt.isUndefined(_)){if(h.indexOf(_)!==-1)throw Error("Circular reference detected in "+b.join("."));h.push(_),Rt.forEach(_,function(w,x){(!(Rt.isUndefined(w)||w===null)&&i.call(e,w,Rt.isString(x)?x.trim():x,b,g))===!0&&m(w,b?b.concat(x):[x])}),h.pop()}}if(!Rt.isObject(r))throw new TypeError("data must be an object");return m(r),e}function yx(r){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function Hb(r,e){this._pairs=[],r&&Lg(r,this,e)}const TA=Hb.prototype;TA.append=function(e,t){this._pairs.push([e,t])};TA.toString=function(e){const t=e?function(n){return e.call(this,n,yx)}:yx;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function Ej(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function AA(r,e,t){if(!e)return r;const n=t&&t.encode||Ej;Rt.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let o;if(i?o=i(e,t):o=Rt.isURLSearchParams(e)?e.toString():new Hb(e,t).toString(n),o){const a=r.indexOf("#");a!==-1&&(r=r.slice(0,a)),r+=(r.indexOf("?")===-1?"?":"&")+o}return r}class _x{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Rt.forEach(this.handlers,function(n){n!==null&&e(n)})}}const kA={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Tj=typeof URLSearchParams<"u"?URLSearchParams:Hb,Aj=typeof FormData<"u"?FormData:null,kj=typeof Blob<"u"?Blob:null,Dj={isBrowser:!0,classes:{URLSearchParams:Tj,FormData:Aj,Blob:kj},protocols:["http","https","file","blob","url","data"]},Fb=typeof window<"u"&&typeof document<"u",G0=typeof navigator=="object"&&navigator||void 0,Pj=Fb&&(!G0||["ReactNative","NativeScript","NS"].indexOf(G0.product)<0),Mj=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Rj=Fb&&window.location.href||"http://localhost",Lj=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Fb,hasStandardBrowserEnv:Pj,hasStandardBrowserWebWorkerEnv:Mj,navigator:G0,origin:Rj},Symbol.toStringTag,{value:"Module"})),Pr={...Lj,...Dj};function Nj(r,e){return Lg(r,new Pr.classes.URLSearchParams,Object.assign({visitor:function(t,n,i,o){return Pr.isNode&&Rt.isBuffer(t)?(this.append(n,t.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function jj(r){return Rt.matchAll(/\w+|\[(\w*)]/g,r).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Vj(r){const e={},t=Object.keys(r);let n;const i=t.length;let o;for(n=0;n<i;n++)o=t[n],e[o]=r[o];return e}function DA(r){function e(t,n,i,o){let a=t[o++];if(a==="__proto__")return!0;const l=Number.isFinite(+a),u=o>=t.length;return a=!a&&Rt.isArray(i)?i.length:a,u?(Rt.hasOwnProp(i,a)?i[a]=[i[a],n]:i[a]=n,!l):((!i[a]||!Rt.isObject(i[a]))&&(i[a]=[]),e(t,n,i[a],o)&&Rt.isArray(i[a])&&(i[a]=Vj(i[a])),!l)}if(Rt.isFormData(r)&&Rt.isFunction(r.entries)){const t={};return Rt.forEachEntry(r,(n,i)=>{e(jj(n),i,t,0)}),t}return null}function Bj(r,e,t){if(Rt.isString(r))try{return(e||JSON.parse)(r),Rt.trim(r)}catch(n){if(n.name!=="SyntaxError")throw n}return(t||JSON.stringify)(r)}const Md={transitional:kA,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",i=n.indexOf("application/json")>-1,o=Rt.isObject(e);if(o&&Rt.isHTMLForm(e)&&(e=new FormData(e)),Rt.isFormData(e))return i?JSON.stringify(DA(e)):e;if(Rt.isArrayBuffer(e)||Rt.isBuffer(e)||Rt.isStream(e)||Rt.isFile(e)||Rt.isBlob(e)||Rt.isReadableStream(e))return e;if(Rt.isArrayBufferView(e))return e.buffer;if(Rt.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Nj(e,this.formSerializer).toString();if((l=Rt.isFileList(e))||n.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return Lg(l?{"files[]":e}:e,u&&new u,this.formSerializer)}}return o||i?(t.setContentType("application/json",!1),Bj(e)):e}],transformResponse:[function(e){const t=this.transitional||Md.transitional,n=t&&t.forcedJSONParsing,i=this.responseType==="json";if(Rt.isResponse(e)||Rt.isReadableStream(e))return e;if(e&&Rt.isString(e)&&(n&&!this.responseType||i)){const a=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(l){if(a)throw l.name==="SyntaxError"?Me.from(l,Me.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Pr.classes.FormData,Blob:Pr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Rt.forEach(["delete","get","head","post","put","patch"],r=>{Md.headers[r]={}});const Uj=Rt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ij=r=>{const e={};let t,n,i;return r&&r.split(`
`).forEach(function(a){i=a.indexOf(":"),t=a.substring(0,i).trim().toLowerCase(),n=a.substring(i+1).trim(),!(!t||e[t]&&Uj[t])&&(t==="set-cookie"?e[t]?e[t].push(n):e[t]=[n]:e[t]=e[t]?e[t]+", "+n:n)}),e},bx=Symbol("internals");function rf(r){return r&&String(r).trim().toLowerCase()}function up(r){return r===!1||r==null?r:Rt.isArray(r)?r.map(up):String(r)}function zj(r){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=t.exec(r);)e[n[1]]=n[2];return e}const Hj=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function ly(r,e,t,n,i){if(Rt.isFunction(n))return n.call(this,e,t);if(i&&(e=t),!!Rt.isString(e)){if(Rt.isString(n))return e.indexOf(n)!==-1;if(Rt.isRegExp(n))return n.test(e)}}function Fj(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}function Wj(r,e){const t=Rt.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(r,n+t,{value:function(i,o,a){return this[n].call(this,e,i,o,a)},configurable:!0})})}let gi=class{constructor(e){e&&this.set(e)}set(e,t,n){const i=this;function o(l,u,c){const d=rf(u);if(!d)throw new Error("header name must be a non-empty string");const h=Rt.findKey(i,d);(!h||i[h]===void 0||c===!0||c===void 0&&i[h]!==!1)&&(i[h||u]=up(l))}const a=(l,u)=>Rt.forEach(l,(c,d)=>o(c,d,u));if(Rt.isPlainObject(e)||e instanceof this.constructor)a(e,t);else if(Rt.isString(e)&&(e=e.trim())&&!Hj(e))a(Ij(e),t);else if(Rt.isObject(e)&&Rt.isIterable(e)){let l={},u,c;for(const d of e){if(!Rt.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[c=d[0]]=(u=l[c])?Rt.isArray(u)?[...u,d[1]]:[u,d[1]]:d[1]}a(l,t)}else e!=null&&o(t,e,n);return this}get(e,t){if(e=rf(e),e){const n=Rt.findKey(this,e);if(n){const i=this[n];if(!t)return i;if(t===!0)return zj(i);if(Rt.isFunction(t))return t.call(this,i,n);if(Rt.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=rf(e),e){const n=Rt.findKey(this,e);return!!(n&&this[n]!==void 0&&(!t||ly(this,this[n],n,t)))}return!1}delete(e,t){const n=this;let i=!1;function o(a){if(a=rf(a),a){const l=Rt.findKey(n,a);l&&(!t||ly(n,n[l],l,t))&&(delete n[l],i=!0)}}return Rt.isArray(e)?e.forEach(o):o(e),i}clear(e){const t=Object.keys(this);let n=t.length,i=!1;for(;n--;){const o=t[n];(!e||ly(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const t=this,n={};return Rt.forEach(this,(i,o)=>{const a=Rt.findKey(n,o);if(a){t[a]=up(i),delete t[o];return}const l=e?Fj(o):String(o).trim();l!==o&&delete t[o],t[l]=up(i),n[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return Rt.forEach(this,(n,i)=>{n!=null&&n!==!1&&(t[i]=e&&Rt.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[bx]=this[bx]={accessors:{}}).accessors,i=this.prototype;function o(a){const l=rf(a);n[l]||(Wj(i,a),n[l]=!0)}return Rt.isArray(e)?e.forEach(o):o(e),this}};gi.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Rt.reduceDescriptors(gi.prototype,({value:r},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>r,set(n){this[t]=n}}});Rt.freezeMethods(gi);function uy(r,e){const t=this||Md,n=e||t,i=gi.from(n.headers);let o=n.data;return Rt.forEach(r,function(l){o=l.call(t,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function PA(r){return!!(r&&r.__CANCEL__)}function pc(r,e,t){Me.call(this,r??"canceled",Me.ERR_CANCELED,e,t),this.name="CanceledError"}Rt.inherits(pc,Me,{__CANCEL__:!0});function MA(r,e,t){const n=t.config.validateStatus;!t.status||!n||n(t.status)?r(t):e(new Me("Request failed with status code "+t.status,[Me.ERR_BAD_REQUEST,Me.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function qj(r){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return e&&e[1]||""}function Kj(r,e){r=r||10;const t=new Array(r),n=new Array(r);let i=0,o=0,a;return e=e!==void 0?e:1e3,function(u){const c=Date.now(),d=n[o];a||(a=c),t[i]=u,n[i]=c;let h=o,g=0;for(;h!==i;)g+=t[h++],h=h%r;if(i=(i+1)%r,i===o&&(o=(o+1)%r),c-a<e)return;const m=d&&c-d;return m?Math.round(g*1e3/m):void 0}}function Gj(r,e){let t=0,n=1e3/e,i,o;const a=(c,d=Date.now())=>{t=d,i=null,o&&(clearTimeout(o),o=null),r.apply(null,c)};return[(...c)=>{const d=Date.now(),h=d-t;h>=n?a(c,d):(i=c,o||(o=setTimeout(()=>{o=null,a(i)},n-h)))},()=>i&&a(i)]}const Jp=(r,e,t=3)=>{let n=0;const i=Kj(50,250);return Gj(o=>{const a=o.loaded,l=o.lengthComputable?o.total:void 0,u=a-n,c=i(u),d=a<=l;n=a;const h={loaded:a,total:l,progress:l?a/l:void 0,bytes:u,rate:c||void 0,estimated:c&&l&&d?(l-a)/c:void 0,event:o,lengthComputable:l!=null,[e?"download":"upload"]:!0};r(h)},t)},wx=(r,e)=>{const t=r!=null;return[n=>e[0]({lengthComputable:t,total:r,loaded:n}),e[1]]},Sx=r=>(...e)=>Rt.asap(()=>r(...e)),Yj=Pr.hasStandardBrowserEnv?((r,e)=>t=>(t=new URL(t,Pr.origin),r.protocol===t.protocol&&r.host===t.host&&(e||r.port===t.port)))(new URL(Pr.origin),Pr.navigator&&/(msie|trident)/i.test(Pr.navigator.userAgent)):()=>!0,Xj=Pr.hasStandardBrowserEnv?{write(r,e,t,n,i,o){const a=[r+"="+encodeURIComponent(e)];Rt.isNumber(t)&&a.push("expires="+new Date(t).toGMTString()),Rt.isString(n)&&a.push("path="+n),Rt.isString(i)&&a.push("domain="+i),o===!0&&a.push("secure"),document.cookie=a.join("; ")},read(r){const e=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(r){this.write(r,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Zj(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function $j(r,e){return e?r.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):r}function RA(r,e,t){let n=!Zj(e);return r&&(n||t==!1)?$j(r,e):e}const Cx=r=>r instanceof gi?{...r}:r;function hl(r,e){e=e||{};const t={};function n(c,d,h,g){return Rt.isPlainObject(c)&&Rt.isPlainObject(d)?Rt.merge.call({caseless:g},c,d):Rt.isPlainObject(d)?Rt.merge({},d):Rt.isArray(d)?d.slice():d}function i(c,d,h,g){if(Rt.isUndefined(d)){if(!Rt.isUndefined(c))return n(void 0,c,h,g)}else return n(c,d,h,g)}function o(c,d){if(!Rt.isUndefined(d))return n(void 0,d)}function a(c,d){if(Rt.isUndefined(d)){if(!Rt.isUndefined(c))return n(void 0,c)}else return n(void 0,d)}function l(c,d,h){if(h in e)return n(c,d);if(h in r)return n(void 0,c)}const u={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l,headers:(c,d,h)=>i(Cx(c),Cx(d),h,!0)};return Rt.forEach(Object.keys(Object.assign({},r,e)),function(d){const h=u[d]||i,g=h(r[d],e[d],d);Rt.isUndefined(g)&&h!==l||(t[d]=g)}),t}const LA=r=>{const e=hl({},r);let{data:t,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:o,headers:a,auth:l}=e;e.headers=a=gi.from(a),e.url=AA(RA(e.baseURL,e.url,e.allowAbsoluteUrls),r.params,r.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let u;if(Rt.isFormData(t)){if(Pr.hasStandardBrowserEnv||Pr.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((u=a.getContentType())!==!1){const[c,...d]=u?u.split(";").map(h=>h.trim()).filter(Boolean):[];a.setContentType([c||"multipart/form-data",...d].join("; "))}}if(Pr.hasStandardBrowserEnv&&(n&&Rt.isFunction(n)&&(n=n(e)),n||n!==!1&&Yj(e.url))){const c=i&&o&&Xj.read(o);c&&a.set(i,c)}return e},Jj=typeof XMLHttpRequest<"u",Qj=Jj&&function(r){return new Promise(function(t,n){const i=LA(r);let o=i.data;const a=gi.from(i.headers).normalize();let{responseType:l,onUploadProgress:u,onDownloadProgress:c}=i,d,h,g,m,_;function b(){m&&m(),_&&_(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let C=new XMLHttpRequest;C.open(i.method.toUpperCase(),i.url,!0),C.timeout=i.timeout;function w(){if(!C)return;const O=gi.from("getAllResponseHeaders"in C&&C.getAllResponseHeaders()),V={data:!l||l==="text"||l==="json"?C.responseText:C.response,status:C.status,statusText:C.statusText,headers:O,config:r,request:C};MA(function($){t($),b()},function($){n($),b()},V),C=null}"onloadend"in C?C.onloadend=w:C.onreadystatechange=function(){!C||C.readyState!==4||C.status===0&&!(C.responseURL&&C.responseURL.indexOf("file:")===0)||setTimeout(w)},C.onabort=function(){C&&(n(new Me("Request aborted",Me.ECONNABORTED,r,C)),C=null)},C.onerror=function(){n(new Me("Network Error",Me.ERR_NETWORK,r,C)),C=null},C.ontimeout=function(){let k=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const V=i.transitional||kA;i.timeoutErrorMessage&&(k=i.timeoutErrorMessage),n(new Me(k,V.clarifyTimeoutError?Me.ETIMEDOUT:Me.ECONNABORTED,r,C)),C=null},o===void 0&&a.setContentType(null),"setRequestHeader"in C&&Rt.forEach(a.toJSON(),function(k,V){C.setRequestHeader(V,k)}),Rt.isUndefined(i.withCredentials)||(C.withCredentials=!!i.withCredentials),l&&l!=="json"&&(C.responseType=i.responseType),c&&([g,_]=Jp(c,!0),C.addEventListener("progress",g)),u&&C.upload&&([h,m]=Jp(u),C.upload.addEventListener("progress",h),C.upload.addEventListener("loadend",m)),(i.cancelToken||i.signal)&&(d=O=>{C&&(n(!O||O.type?new pc(null,r,C):O),C.abort(),C=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const x=qj(i.url);if(x&&Pr.protocols.indexOf(x)===-1){n(new Me("Unsupported protocol "+x+":",Me.ERR_BAD_REQUEST,r));return}C.send(o||null)})},t3=(r,e)=>{const{length:t}=r=r?r.filter(Boolean):[];if(e||t){let n=new AbortController,i;const o=function(c){if(!i){i=!0,l();const d=c instanceof Error?c:this.reason;n.abort(d instanceof Me?d:new pc(d instanceof Error?d.message:d))}};let a=e&&setTimeout(()=>{a=null,o(new Me(`timeout ${e} of ms exceeded`,Me.ETIMEDOUT))},e);const l=()=>{r&&(a&&clearTimeout(a),a=null,r.forEach(c=>{c.unsubscribe?c.unsubscribe(o):c.removeEventListener("abort",o)}),r=null)};r.forEach(c=>c.addEventListener("abort",o));const{signal:u}=n;return u.unsubscribe=()=>Rt.asap(l),u}},e3=function*(r,e){let t=r.byteLength;if(t<e){yield r;return}let n=0,i;for(;n<t;)i=n+e,yield r.slice(n,i),n=i},n3=async function*(r,e){for await(const t of r3(r))yield*e3(t,e)},r3=async function*(r){if(r[Symbol.asyncIterator]){yield*r;return}const e=r.getReader();try{for(;;){const{done:t,value:n}=await e.read();if(t)break;yield n}}finally{await e.cancel()}},xx=(r,e,t,n)=>{const i=n3(r,e);let o=0,a,l=u=>{a||(a=!0,n&&n(u))};return new ReadableStream({async pull(u){try{const{done:c,value:d}=await i.next();if(c){l(),u.close();return}let h=d.byteLength;if(t){let g=o+=h;t(g)}u.enqueue(new Uint8Array(d))}catch(c){throw l(c),c}},cancel(u){return l(u),i.return()}},{highWaterMark:2})},Ng=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",NA=Ng&&typeof ReadableStream=="function",i3=Ng&&(typeof TextEncoder=="function"?(r=>e=>r.encode(e))(new TextEncoder):async r=>new Uint8Array(await new Response(r).arrayBuffer())),jA=(r,...e)=>{try{return!!r(...e)}catch{return!1}},o3=NA&&jA(()=>{let r=!1;const e=new Request(Pr.origin,{body:new ReadableStream,method:"POST",get duplex(){return r=!0,"half"}}).headers.has("Content-Type");return r&&!e}),Ox=64*1024,Y0=NA&&jA(()=>Rt.isReadableStream(new Response("").body)),Qp={stream:Y0&&(r=>r.body)};Ng&&(r=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Qp[e]&&(Qp[e]=Rt.isFunction(r[e])?t=>t[e]():(t,n)=>{throw new Me(`Response type '${e}' is not supported`,Me.ERR_NOT_SUPPORT,n)})})})(new Response);const a3=async r=>{if(r==null)return 0;if(Rt.isBlob(r))return r.size;if(Rt.isSpecCompliantForm(r))return(await new Request(Pr.origin,{method:"POST",body:r}).arrayBuffer()).byteLength;if(Rt.isArrayBufferView(r)||Rt.isArrayBuffer(r))return r.byteLength;if(Rt.isURLSearchParams(r)&&(r=r+""),Rt.isString(r))return(await i3(r)).byteLength},s3=async(r,e)=>{const t=Rt.toFiniteNumber(r.getContentLength());return t??a3(e)},l3=Ng&&(async r=>{let{url:e,method:t,data:n,signal:i,cancelToken:o,timeout:a,onDownloadProgress:l,onUploadProgress:u,responseType:c,headers:d,withCredentials:h="same-origin",fetchOptions:g}=LA(r);c=c?(c+"").toLowerCase():"text";let m=t3([i,o&&o.toAbortSignal()],a),_;const b=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let C;try{if(u&&o3&&t!=="get"&&t!=="head"&&(C=await s3(d,n))!==0){let V=new Request(e,{method:"POST",body:n,duplex:"half"}),Z;if(Rt.isFormData(n)&&(Z=V.headers.get("content-type"))&&d.setContentType(Z),V.body){const[$,Y]=wx(C,Jp(Sx(u)));n=xx(V.body,Ox,$,Y)}}Rt.isString(h)||(h=h?"include":"omit");const w="credentials"in Request.prototype;_=new Request(e,{...g,signal:m,method:t.toUpperCase(),headers:d.normalize().toJSON(),body:n,duplex:"half",credentials:w?h:void 0});let x=await fetch(_);const O=Y0&&(c==="stream"||c==="response");if(Y0&&(l||O&&b)){const V={};["status","statusText","headers"].forEach(U=>{V[U]=x[U]});const Z=Rt.toFiniteNumber(x.headers.get("content-length")),[$,Y]=l&&wx(Z,Jp(Sx(l),!0))||[];x=new Response(xx(x.body,Ox,$,()=>{Y&&Y(),b&&b()}),V)}c=c||"text";let k=await Qp[Rt.findKey(Qp,c)||"text"](x,r);return!O&&b&&b(),await new Promise((V,Z)=>{MA(V,Z,{data:k,headers:gi.from(x.headers),status:x.status,statusText:x.statusText,config:r,request:_})})}catch(w){throw b&&b(),w&&w.name==="TypeError"&&/Load failed|fetch/i.test(w.message)?Object.assign(new Me("Network Error",Me.ERR_NETWORK,r,_),{cause:w.cause||w}):Me.from(w,w&&w.code,r,_)}}),X0={http:Cj,xhr:Qj,fetch:l3};Rt.forEach(X0,(r,e)=>{if(r){try{Object.defineProperty(r,"name",{value:e})}catch{}Object.defineProperty(r,"adapterName",{value:e})}});const Ex=r=>`- ${r}`,u3=r=>Rt.isFunction(r)||r===null||r===!1,VA={getAdapter:r=>{r=Rt.isArray(r)?r:[r];const{length:e}=r;let t,n;const i={};for(let o=0;o<e;o++){t=r[o];let a;if(n=t,!u3(t)&&(n=X0[(a=String(t)).toLowerCase()],n===void 0))throw new Me(`Unknown adapter '${a}'`);if(n)break;i[a||"#"+o]=n}if(!n){const o=Object.entries(i).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let a=e?o.length>1?`since :
`+o.map(Ex).join(`
`):" "+Ex(o[0]):"as no adapter specified";throw new Me("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return n},adapters:X0};function cy(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new pc(null,r)}function Tx(r){return cy(r),r.headers=gi.from(r.headers),r.data=uy.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),VA.getAdapter(r.adapter||Md.adapter)(r).then(function(n){return cy(r),n.data=uy.call(r,r.transformResponse,n),n.headers=gi.from(n.headers),n},function(n){return PA(n)||(cy(r),n&&n.response&&(n.response.data=uy.call(r,r.transformResponse,n.response),n.response.headers=gi.from(n.response.headers))),Promise.reject(n)})}const BA="1.9.0",jg={};["object","boolean","number","function","string","symbol"].forEach((r,e)=>{jg[r]=function(n){return typeof n===r||"a"+(e<1?"n ":" ")+r}});const Ax={};jg.transitional=function(e,t,n){function i(o,a){return"[Axios v"+BA+"] Transitional option '"+o+"'"+a+(n?". "+n:"")}return(o,a,l)=>{if(e===!1)throw new Me(i(a," has been removed"+(t?" in "+t:"")),Me.ERR_DEPRECATED);return t&&!Ax[a]&&(Ax[a]=!0,console.warn(i(a," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(o,a,l):!0}};jg.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function c3(r,e,t){if(typeof r!="object")throw new Me("options must be an object",Me.ERR_BAD_OPTION_VALUE);const n=Object.keys(r);let i=n.length;for(;i-- >0;){const o=n[i],a=e[o];if(a){const l=r[o],u=l===void 0||a(l,o,r);if(u!==!0)throw new Me("option "+o+" must be "+u,Me.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Me("Unknown option "+o,Me.ERR_BAD_OPTION)}}const cp={assertOptions:c3,validators:jg},Ao=cp.validators;let ll=class{constructor(e){this.defaults=e||{},this.interceptors={request:new _x,response:new _x}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?o&&!String(n.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+o):n.stack=o}catch{}}throw n}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=hl(this.defaults,t);const{transitional:n,paramsSerializer:i,headers:o}=t;n!==void 0&&cp.assertOptions(n,{silentJSONParsing:Ao.transitional(Ao.boolean),forcedJSONParsing:Ao.transitional(Ao.boolean),clarifyTimeoutError:Ao.transitional(Ao.boolean)},!1),i!=null&&(Rt.isFunction(i)?t.paramsSerializer={serialize:i}:cp.assertOptions(i,{encode:Ao.function,serialize:Ao.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),cp.assertOptions(t,{baseUrl:Ao.spelling("baseURL"),withXsrfToken:Ao.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=o&&Rt.merge(o.common,o[t.method]);o&&Rt.forEach(["delete","get","head","post","put","patch","common"],_=>{delete o[_]}),t.headers=gi.concat(a,o);const l=[];let u=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(t)===!1||(u=u&&b.synchronous,l.unshift(b.fulfilled,b.rejected))});const c=[];this.interceptors.response.forEach(function(b){c.push(b.fulfilled,b.rejected)});let d,h=0,g;if(!u){const _=[Tx.bind(this),void 0];for(_.unshift.apply(_,l),_.push.apply(_,c),g=_.length,d=Promise.resolve(t);h<g;)d=d.then(_[h++],_[h++]);return d}g=l.length;let m=t;for(h=0;h<g;){const _=l[h++],b=l[h++];try{m=_(m)}catch(C){b.call(this,C);break}}try{d=Tx.call(this,m)}catch(_){return Promise.reject(_)}for(h=0,g=c.length;h<g;)d=d.then(c[h++],c[h++]);return d}getUri(e){e=hl(this.defaults,e);const t=RA(e.baseURL,e.url,e.allowAbsoluteUrls);return AA(t,e.params,e.paramsSerializer)}};Rt.forEach(["delete","get","head","options"],function(e){ll.prototype[e]=function(t,n){return this.request(hl(n||{},{method:e,url:t,data:(n||{}).data}))}});Rt.forEach(["post","put","patch"],function(e){function t(n){return function(o,a,l){return this.request(hl(l||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:a}))}}ll.prototype[e]=t(),ll.prototype[e+"Form"]=t(!0)});let f3=class UA{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(o){t=o});const n=this;this.promise.then(i=>{if(!n._listeners)return;let o=n._listeners.length;for(;o-- >0;)n._listeners[o](i);n._listeners=null}),this.promise.then=i=>{let o;const a=new Promise(l=>{n.subscribe(l),o=l}).then(i);return a.cancel=function(){n.unsubscribe(o)},a},e(function(o,a,l){n.reason||(n.reason=new pc(o,a,l),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=n=>{e.abort(n)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new UA(function(i){e=i}),cancel:e}}};function d3(r){return function(t){return r.apply(null,t)}}function h3(r){return Rt.isObject(r)&&r.isAxiosError===!0}const Z0={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Z0).forEach(([r,e])=>{Z0[e]=r});function IA(r){const e=new ll(r),t=gA(ll.prototype.request,e);return Rt.extend(t,ll.prototype,e,{allOwnKeys:!0}),Rt.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return IA(hl(r,i))},t}const wn=IA(Md);wn.Axios=ll;wn.CanceledError=pc;wn.CancelToken=f3;wn.isCancel=PA;wn.VERSION=BA;wn.toFormData=Lg;wn.AxiosError=Me;wn.Cancel=wn.CanceledError;wn.all=function(e){return Promise.all(e)};wn.spread=d3;wn.isAxiosError=h3;wn.mergeConfig=hl;wn.AxiosHeaders=gi;wn.formToJSON=r=>DA(Rt.isHTMLForm(r)?new FormData(r):r);wn.getAdapter=VA.getAdapter;wn.HttpStatusCode=Z0;wn.default=wn;const{Axios:_W,AxiosError:bW,CanceledError:wW,isCancel:SW,CancelToken:CW,VERSION:xW,all:OW,Cancel:EW,isAxiosError:TW,spread:AW,toFormData:kW,AxiosHeaders:DW,HttpStatusCode:PW,formToJSON:MW,getAdapter:RW,mergeConfig:LW}=wn,kx=async r=>(await wn.post(`${dc}/designs`,r)).data,p3=async r=>(await wn.get(`${dc}/designs?email=${r}`)).data,zA=async r=>(await wn.get(`${dc}/designs/${r}`)).data,v3=async(r,e)=>(await wn.put(`${dc}/designs/${r}`,e)).data,g3=async r=>(await wn.delete(`${dc}/designs/${r}`)).data;var m3={4729:(r,e,t)=>{var n,i,o;/*!
* Backbone.Undo.js v0.2
* 
* Copyright (c)2013 Oliver Sartun
* Released under the MIT License
*
* Documentation and full license available at
* https://github.com/osartun/Backbone.Undo.js
*/(function(a){i=[t(5706),t(4193)],n=a,o=typeof n=="function"?n.apply(e,i):n,o!==void 0&&(r.exports=o)})(function(a,l){var u=Array.prototype.slice;function c(U,Q,H){return H.length<=4?U.call(Q,H[0],H[1],H[2],H[3]):U.apply(Q,H)}function d(U,Q){return u.call(U,Q)}function h(U,Q){return U==null?!1:(a.isArray(Q)||(Q=d(arguments,1)),a.all(Q,function(H){return H in U}))}var g=function(){var U=!1,Q=-1;function H(){Q++,U=!0,a.defer(function(){U=!1})}return function(){return U||H(),Q}}();function m(){this.registeredObjects=[],this.cidIndexes=[]}m.prototype={isRegistered:function(U){return U&&U.cid?this.registeredObjects[U.cid]:a.contains(this.registeredObjects,U)},register:function(U){return this.isRegistered(U)?!1:(U&&U.cid?(this.registeredObjects[U.cid]=U,this.cidIndexes.push(U.cid)):this.registeredObjects.push(U),!0)},unregister:function(U){if(this.isRegistered(U)){if(U&&U.cid)delete this.registeredObjects[U.cid],this.cidIndexes.splice(a.indexOf(this.cidIndexes,U.cid),1);else{var Q=a.indexOf(this.registeredObjects,U);this.registeredObjects.splice(Q,1)}return!0}return!1},get:function(){return a.map(this.cidIndexes,function(U){return this.registeredObjects[U]},this).concat(this.registeredObjects)}};function _(U,Q,H,D){for(var I=0,T=Q.length,tt;I<T;I++)if(tt=Q[I],!!tt){if(U==="on"){if(!D.objectRegistry.register(tt))continue}else if(!D.objectRegistry.unregister(tt))continue;a.isFunction(tt[U])&&tt[U]("all",H,D)}}function b(U,Q){var H=Q.type,D=Q.undoTypes,I=!D[H]||D[H][U];a.isFunction(I)&&I(Q.object,Q.before,Q.after,Q.options)}function C(U,Q,H,D,I){if(!(H.isCurrentlyUndoRedoing||U==="undo"&&H.pointer===-1||U==="redo"&&H.pointer===H.length-1)){H.isCurrentlyUndoRedoing=!0;var T,tt,M=U==="undo";for(I?tt=M&&H.pointer===H.length-1||!M&&H.pointer===-1?a.clone(H.models):u.apply(H.models,M?[0,H.pointer]:[H.pointer,H.length-1]):(T=H.at(M?H.pointer:H.pointer+1),tt=D?H.where({magicFusionIndex:T.get("magicFusionIndex")}):[T]),H.pointer+=(M?-1:1)*tt.length;T=M?tt.pop():tt.shift();)T[U]();H.isCurrentlyUndoRedoing=!1,Q.trigger(U,Q)}}function w(U,Q){var H=U.condition,D=typeof H;return D==="function"?!!c(H,U,Q):D==="boolean"?H:!0}function x(U,Q,H,D){if(U.track&&!U.isCurrentlyUndoRedoing&&Q in D&&w(D[Q],H)){var I=c(D[Q].on,D[Q],H),T;if(h(I,"object","before","after")){if(I.type=Q,I.magicFusionIndex=g(),I.undoTypes=D,U.pointer<U.length-1)for(var T=U.length-U.pointer-1;T--;)U.pop();U.pointer=U.length,U.add(I),U.length>U.maximumStackLength&&(U.shift(),U.pointer--)}}}var O={add:{undo:function(U,Q,H,D){U.remove(H,D)},redo:function(U,Q,H,D){D.index&&(D.at=D.index),U.add(H,D)},on:function(U,Q,H){return{object:Q,before:void 0,after:U,options:a.clone(H)}}},remove:{undo:function(U,Q,H,D){"index"in D&&(D.at=D.index),U.add(Q,D)},redo:function(U,Q,H,D){U.remove(Q,D)},on:function(U,Q,H){return{object:Q,before:U,after:void 0,options:a.clone(H)}}},change:{undo:function(U,Q,H,D){a.isEmpty(Q)?a.each(a.keys(H),U.unset,U):(U.set(Q),D&&D.unsetData&&D.unsetData.before&&D.unsetData.before.length&&a.each(D.unsetData.before,U.unset,U))},redo:function(U,Q,H,D){a.isEmpty(H)?a.each(a.keys(Q),U.unset,U):(U.set(H),D&&D.unsetData&&D.unsetData.after&&D.unsetData.after.length&&a.each(D.unsetData.after,U.unset,U))},on:function(U,Q){var H=U.changedAttributes(),D=a.keys(H),I=a.pick(U.previousAttributes(),D),T=a.keys(I),tt=(Q||(Q={})).unsetData={after:[],before:[]};return D.length!=T.length&&(D.length>T.length?a.each(D,function(M){M in I||tt.before.push(M)},this):a.each(T,function(M){M in H||tt.after.push(M)})),{object:U,before:I,after:H,options:a.clone(Q)}}},reset:{undo:function(U,Q,H){U.reset(Q)},redo:function(U,Q,H){U.reset(H)},on:function(U,Q){return{object:U,before:Q.previousModels,after:a.clone(U.models)}}}};function k(){}k.prototype=O;function V(U,Q,H,D){if(typeof Q=="object")return a.each(Q,function(I,T){U===2?V(U,I,H,D):V(U,T,I,H)});switch(U){case 0:h(H,"undo","redo","on")&&a.all(a.pick(H,"undo","redo","on"),a.isFunction)&&(D[Q]=H);break;case 1:D[Q]&&a.isObject(H)&&(D[Q]=a.extend({},D[Q],H));break;case 2:delete D[Q];break}return this}var Z=l.Model.extend({defaults:{type:null,object:null,before:null,after:null,magicFusionIndex:null},undo:function(U){b("undo",this.attributes)},redo:function(U){b("redo",this.attributes)}}),$=l.Collection.extend({model:Z,pointer:-1,track:!1,isCurrentlyUndoRedoing:!1,maximumStackLength:1/0,setMaxLength:function(U){this.maximumStackLength=U}}),Y=l.Model.extend({defaults:{maximumStackLength:1/0,track:!1},initialize:function(U){this.stack=new $,this.objectRegistry=new m,this.undoTypes=new k,this.stack.setMaxLength(this.get("maximumStackLength")),this.on("change:maximumStackLength",function(Q,H){this.stack.setMaxLength(H)},this),U&&U.track&&this.startTracking(),U&&U.register&&(a.isArray(U.register)||a.isArguments(U.register)?c(this.register,this,U.register):this.register(U.register))},startTracking:function(){this.set("track",!0),this.stack.track=!0},stopTracking:function(){this.set("track",!1),this.stack.track=!1},isTracking:function(){return this.get("track")},_addToStack:function(U){x(this.stack,U,d(arguments,1),this.undoTypes)},register:function(){_("on",arguments,this._addToStack,this)},unregister:function(){_("off",arguments,this._addToStack,this)},unregisterAll:function(){c(this.unregister,this,this.objectRegistry.get())},undo:function(U){C("undo",this,this.stack,U)},undoAll:function(){C("undo",this,this.stack,!1,!0)},redo:function(U){C("redo",this,this.stack,U)},redoAll:function(){C("redo",this,this.stack,!1,!0)},isAvailable:function(U){var Q=this.stack,H=Q.length;switch(U){case"undo":return H>0&&Q.pointer>-1;case"redo":return H>0&&Q.pointer<H-1;default:return!1}},merge:function(U){for(var Q=a.isArray(U)?U:d(arguments),H;H=Q.pop();)H instanceof Y&&H.stack instanceof $&&(H.stack=this.stack)},addUndoType:function(U,Q){V(0,U,Q,this.undoTypes)},changeUndoType:function(U,Q){V(1,U,Q,this.undoTypes)},removeUndoType:function(U){V(2,U,void 0,this.undoTypes)},clear:function(){this.stack.reset(),this.stack.pointer=-1}});return a.extend(Y,{defaults:function(U){a.extend(Y.prototype.defaults,U)},addUndoType:function(U,Q){V(0,U,Q,O)},changeUndoType:function(U,Q){V(1,U,Q,O)},removeUndoType:function(U){V(2,U,void 0,O)}}),l.UndoManager=Y})},4193:(r,e,t)=>{var n,i;(function(o){var a=typeof self=="object"&&self.self===self&&self||typeof t.g=="object"&&t.g.global===t.g&&t.g;n=[t(5706),t(7774),e],i=(function(l,u,c){a.Backbone=o(a,c,l,u)}).apply(e,n),i!==void 0&&(r.exports=i)})(function(o,a,l,u){var c=o.Backbone,d=Array.prototype.slice;a.VERSION="1.4.1",a.$=u,a.noConflict=function(){return o.Backbone=c,this},a.emulateHTTP=!1,a.emulateJSON=!1;var h=a.Events={},g=/\s+/,m,_=function(E,L,K,it,nt){var G=0,ct;if(K&&typeof K=="object")for(it!==void 0&&("context"in nt)&&nt.context===void 0&&(nt.context=it),ct=l.keys(K);G<ct.length;G++)L=_(E,L,ct[G],K[ct[G]],nt);else if(K&&g.test(K))for(ct=K.split(g);G<ct.length;G++)L=E(L,ct[G],it,nt);else L=E(L,K,it,nt);return L};h.on=function(E,L,K){if(this._events=_(b,this._events||{},E,L,{context:K,ctx:this,listening:m}),m){var it=this._listeners||(this._listeners={});it[m.id]=m,m.interop=!1}return this},h.listenTo=function(E,L,K){if(!E)return this;var it=E._listenId||(E._listenId=l.uniqueId("l")),nt=this._listeningTo||(this._listeningTo={}),G=m=nt[it];G||(this._listenId||(this._listenId=l.uniqueId("l")),G=m=nt[it]=new V(this,E));var ct=C(E,L,K,this);if(m=void 0,ct)throw ct;return G.interop&&G.on(L,K),this};var b=function(E,L,K,it){if(K){var nt=E[L]||(E[L]=[]),G=it.context,ct=it.ctx,st=it.listening;st&&st.count++,nt.push({callback:K,context:G,ctx:G||ct,listening:st})}return E},C=function(E,L,K,it){try{E.on(L,K,it)}catch(nt){return nt}};h.off=function(E,L,K){return this._events?(this._events=_(w,this._events,E,L,{context:K,listeners:this._listeners}),this):this},h.stopListening=function(E,L,K){var it=this._listeningTo;if(!it)return this;for(var nt=E?[E._listenId]:l.keys(it),G=0;G<nt.length;G++){var ct=it[nt[G]];if(!ct)break;ct.obj.off(L,K,this),ct.interop&&ct.off(L,K)}return l.isEmpty(it)&&(this._listeningTo=void 0),this};var w=function(E,L,K,it){if(E){var nt=it.context,G=it.listeners,ct=0,st;if(!L&&!nt&&!K){for(st=l.keys(G);ct<st.length;ct++)G[st[ct]].cleanup();return}for(st=L?[L]:l.keys(E);ct<st.length;ct++){L=st[ct];var jt=E[L];if(!jt)break;for(var ue=[],oe=0;oe<jt.length;oe++){var J=jt[oe];if(K&&K!==J.callback&&K!==J.callback._callback||nt&&nt!==J.context)ue.push(J);else{var gt=J.listening;gt&&gt.off(L,K)}}ue.length?E[L]=ue:delete E[L]}return E}};h.once=function(E,L,K){var it=_(x,{},E,L,this.off.bind(this));return typeof E=="string"&&K==null&&(L=void 0),this.on(it,L,K)},h.listenToOnce=function(E,L,K){var it=_(x,{},L,K,this.stopListening.bind(this,E));return this.listenTo(E,it)};var x=function(E,L,K,it){if(K){var nt=E[L]=l.once(function(){it(L,nt),K.apply(this,arguments)});nt._callback=K}return E};h.trigger=function(E){if(!this._events)return this;for(var L=Math.max(0,arguments.length-1),K=Array(L),it=0;it<L;it++)K[it]=arguments[it+1];return _(O,this._events,E,void 0,K),this};var O=function(E,L,K,it){if(E){var nt=E[L],G=E.all;nt&&G&&(G=G.slice()),nt&&k(nt,it),G&&k(G,[L].concat(it))}return E},k=function(E,L){var K,it=-1,nt=E.length,G=L[0],ct=L[1],st=L[2];switch(L.length){case 0:for(;++it<nt;)(K=E[it]).callback.call(K.ctx);return;case 1:for(;++it<nt;)(K=E[it]).callback.call(K.ctx,G);return;case 2:for(;++it<nt;)(K=E[it]).callback.call(K.ctx,G,ct);return;case 3:for(;++it<nt;)(K=E[it]).callback.call(K.ctx,G,ct,st);return;default:for(;++it<nt;)(K=E[it]).callback.apply(K.ctx,L);return}},V=function(E,L){this.id=E._listenId,this.listener=E,this.obj=L,this.interop=!0,this.count=0,this._events=void 0};V.prototype.on=h.on,V.prototype.off=function(E,L){var K;this.interop?(this._events=_(w,this._events,E,L,{context:void 0,listeners:void 0}),K=!this._events):(this.count--,K=this.count===0),K&&this.cleanup()},V.prototype.cleanup=function(){delete this.listener._listeningTo[this.obj._listenId],this.interop||delete this.obj._listeners[this.id]},h.bind=h.on,h.unbind=h.off,l.extend(a,h);var Z=a.Model=function(E,L){var K=E||{};L||(L={}),this.preinitialize.apply(this,arguments),this.cid=l.uniqueId(this.cidPrefix),this.attributes={},L.collection&&(this.collection=L.collection),L.parse&&(K=this.parse(K,L)||{});var it=l.result(this,"defaults");K=l.defaults(l.extend({},it,K),it),this.set(K,L),this.changed={},this.initialize.apply(this,arguments)};l.extend(Z.prototype,h,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",preinitialize:function(){},initialize:function(){},toJSON:function(E){return l.clone(this.attributes)},sync:function(){return a.sync.apply(this,arguments)},get:function(E){return this.attributes[E]},escape:function(E){return l.escape(this.get(E))},has:function(E){return this.get(E)!=null},matches:function(E){return!!l.iteratee(E,this)(this.attributes)},set:function(E,L,K){if(E==null)return this;var it;if(typeof E=="object"?(it=E,K=L):(it={})[E]=L,K||(K={}),!this._validate(it,K))return!1;var nt=K.unset,G=K.silent,ct=[],st=this._changing;this._changing=!0,st||(this._previousAttributes=l.clone(this.attributes),this.changed={});var jt=this.attributes,ue=this.changed,oe=this._previousAttributes;for(var J in it)L=it[J],l.isEqual(jt[J],L)||ct.push(J),l.isEqual(oe[J],L)?delete ue[J]:ue[J]=L,nt?delete jt[J]:jt[J]=L;if(this.idAttribute in it){var gt=this.id;this.id=this.get(this.idAttribute),this.trigger("changeId",this,gt,K)}if(!G){ct.length&&(this._pending=K);for(var F=0;F<ct.length;F++)this.trigger("change:"+ct[F],this,jt[ct[F]],K)}if(st)return this;if(!G)for(;this._pending;)K=this._pending,this._pending=!1,this.trigger("change",this,K);return this._pending=!1,this._changing=!1,this},unset:function(E,L){return this.set(E,void 0,l.extend({},L,{unset:!0}))},clear:function(E){var L={};for(var K in this.attributes)L[K]=void 0;return this.set(L,l.extend({},E,{unset:!0}))},hasChanged:function(E){return E==null?!l.isEmpty(this.changed):l.has(this.changed,E)},changedAttributes:function(E){if(!E)return this.hasChanged()?l.clone(this.changed):!1;var L=this._changing?this._previousAttributes:this.attributes,K={},it;for(var nt in E){var G=E[nt];l.isEqual(L[nt],G)||(K[nt]=G,it=!0)}return it?K:!1},previous:function(E){return E==null||!this._previousAttributes?null:this._previousAttributes[E]},previousAttributes:function(){return l.clone(this._previousAttributes)},fetch:function(E){E=l.extend({parse:!0},E);var L=this,K=E.success;return E.success=function(it){var nt=E.parse?L.parse(it,E):it;if(!L.set(nt,E))return!1;K&&K.call(E.context,L,it,E),L.trigger("sync",L,it,E)},et(this,E),this.sync("read",this,E)},save:function(E,L,K){var it;E==null||typeof E=="object"?(it=E,K=L):(it={})[E]=L,K=l.extend({validate:!0,parse:!0},K);var nt=K.wait;if(it&&!nt){if(!this.set(it,K))return!1}else if(!this._validate(it,K))return!1;var G=this,ct=K.success,st=this.attributes;K.success=function(oe){G.attributes=st;var J=K.parse?G.parse(oe,K):oe;if(nt&&(J=l.extend({},it,J)),J&&!G.set(J,K))return!1;ct&&ct.call(K.context,G,oe,K),G.trigger("sync",G,oe,K)},et(this,K),it&&nt&&(this.attributes=l.extend({},st,it));var jt=this.isNew()?"create":K.patch?"patch":"update";jt==="patch"&&!K.attrs&&(K.attrs=it);var ue=this.sync(jt,this,K);return this.attributes=st,ue},destroy:function(E){E=E?l.clone(E):{};var L=this,K=E.success,it=E.wait,nt=function(){L.stopListening(),L.trigger("destroy",L,L.collection,E)};E.success=function(ct){it&&nt(),K&&K.call(E.context,L,ct,E),L.isNew()||L.trigger("sync",L,ct,E)};var G=!1;return this.isNew()?l.defer(E.success):(et(this,E),G=this.sync("delete",this,E)),it||nt(),G},url:function(){var E=l.result(this,"urlRoot")||l.result(this.collection,"url")||wt();if(this.isNew())return E;var L=this.get(this.idAttribute);return E.replace(/[^\/]$/,"$&/")+encodeURIComponent(L)},parse:function(E,L){return E},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(E){return this._validate({},l.extend({},E,{validate:!0}))},_validate:function(E,L){if(!L.validate||!this.validate)return!0;E=l.extend({},this.attributes,E);var K=this.validationError=this.validate(E,L)||null;return K?(this.trigger("invalid",this,K,l.extend(L,{validationError:K})),!1):!0}});var $=a.Collection=function(E,L){L||(L={}),this.preinitialize.apply(this,arguments),L.model&&(this.model=L.model),L.comparator!==void 0&&(this.comparator=L.comparator),this._reset(),this.initialize.apply(this,arguments),E&&this.reset(E,l.extend({silent:!0},L))},Y={add:!0,remove:!0,merge:!0},U={add:!0,remove:!1},Q=function(E,L,K){K=Math.min(Math.max(K,0),E.length);var it=Array(E.length-K),nt=L.length,G;for(G=0;G<it.length;G++)it[G]=E[G+K];for(G=0;G<nt;G++)E[G+K]=L[G];for(G=0;G<it.length;G++)E[G+nt+K]=it[G]};l.extend($.prototype,h,{model:Z,preinitialize:function(){},initialize:function(){},toJSON:function(E){return this.map(function(L){return L.toJSON(E)})},sync:function(){return a.sync.apply(this,arguments)},add:function(E,L){return this.set(E,l.extend({merge:!1},L,U))},remove:function(E,L){L=l.extend({},L);var K=!l.isArray(E);E=K?[E]:E.slice();var it=this._removeModels(E,L);return!L.silent&&it.length&&(L.changes={added:[],merged:[],removed:it},this.trigger("update",this,L)),K?it[0]:it},set:function(E,L){if(E!=null){L=l.extend({},Y,L),L.parse&&!this._isModel(E)&&(E=this.parse(E,L)||[]);var K=!l.isArray(E);E=K?[E]:E.slice();var it=L.at;it!=null&&(it=+it),it>this.length&&(it=this.length),it<0&&(it+=this.length+1);var nt=[],G=[],ct=[],st=[],jt={},ue=L.add,oe=L.merge,J=L.remove,gt=!1,F=this.comparator&&it==null&&L.sort!==!1,Lt=l.isString(this.comparator)?this.comparator:null,bt,Ht;for(Ht=0;Ht<E.length;Ht++){bt=E[Ht];var ce=this.get(bt);if(ce){if(oe&&bt!==ce){var ee=this._isModel(bt)?bt.attributes:bt;L.parse&&(ee=ce.parse(ee,L)),ce.set(ee,L),ct.push(ce),F&&!gt&&(gt=ce.hasChanged(Lt))}jt[ce.cid]||(jt[ce.cid]=!0,nt.push(ce)),E[Ht]=ce}else ue&&(bt=E[Ht]=this._prepareModel(bt,L),bt&&(G.push(bt),this._addReference(bt,L),jt[bt.cid]=!0,nt.push(bt)))}if(J){for(Ht=0;Ht<this.length;Ht++)bt=this.models[Ht],jt[bt.cid]||st.push(bt);st.length&&this._removeModels(st,L)}var ne=!1,ve=!F&&ue&&J;if(nt.length&&ve?(ne=this.length!==nt.length||l.some(this.models,function(Oe,Re){return Oe!==nt[Re]}),this.models.length=0,Q(this.models,nt,0),this.length=this.models.length):G.length&&(F&&(gt=!0),Q(this.models,G,it??this.length),this.length=this.models.length),gt&&this.sort({silent:!0}),!L.silent){for(Ht=0;Ht<G.length;Ht++)it!=null&&(L.index=it+Ht),bt=G[Ht],bt.trigger("add",bt,this,L);(gt||ne)&&this.trigger("sort",this,L),(G.length||st.length||ct.length)&&(L.changes={added:G,removed:st,merged:ct},this.trigger("update",this,L))}return K?E[0]:E}},reset:function(E,L){L=L?l.clone(L):{};for(var K=0;K<this.models.length;K++)this._removeReference(this.models[K],L);return L.previousModels=this.models,this._reset(),E=this.add(E,l.extend({silent:!0},L)),L.silent||this.trigger("reset",this,L),E},push:function(E,L){return this.add(E,l.extend({at:this.length},L))},pop:function(E){var L=this.at(this.length-1);return this.remove(L,E)},unshift:function(E,L){return this.add(E,l.extend({at:0},L))},shift:function(E){var L=this.at(0);return this.remove(L,E)},slice:function(){return d.apply(this.models,arguments)},get:function(E){if(E!=null)return this._byId[E]||this._byId[this.modelId(this._isModel(E)?E.attributes:E,E.idAttribute)]||E.cid&&this._byId[E.cid]},has:function(E){return this.get(E)!=null},at:function(E){return E<0&&(E+=this.length),this.models[E]},where:function(E,L){return this[L?"find":"filter"](E)},findWhere:function(E){return this.where(E,!0)},sort:function(E){var L=this.comparator;if(!L)throw new Error("Cannot sort a set without a comparator");E||(E={});var K=L.length;return l.isFunction(L)&&(L=L.bind(this)),K===1||l.isString(L)?this.models=this.sortBy(L):this.models.sort(L),E.silent||this.trigger("sort",this,E),this},pluck:function(E){return this.map(E+"")},fetch:function(E){E=l.extend({parse:!0},E);var L=E.success,K=this;return E.success=function(it){var nt=E.reset?"reset":"set";K[nt](it,E),L&&L.call(E.context,K,it,E),K.trigger("sync",K,it,E)},et(this,E),this.sync("read",this,E)},create:function(E,L){L=L?l.clone(L):{};var K=L.wait;if(E=this._prepareModel(E,L),!E)return!1;K||this.add(E,L);var it=this,nt=L.success;return L.success=function(G,ct,st){K&&it.add(G,st),nt&&nt.call(st.context,G,ct,st)},E.save(null,L),E},parse:function(E,L){return E},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(E,L){return E[L||this.model.prototype.idAttribute||"id"]},values:function(){return new D(this,I)},keys:function(){return new D(this,T)},entries:function(){return new D(this,tt)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(E,L){if(this._isModel(E))return E.collection||(E.collection=this),E;L=L?l.clone(L):{},L.collection=this;var K;return this.model.prototype?K=new this.model(E,L):K=this.model(E,L),K.validationError?(this.trigger("invalid",this,K.validationError,L),!1):K},_removeModels:function(E,L){for(var K=[],it=0;it<E.length;it++){var nt=this.get(E[it]);if(nt){var G=this.indexOf(nt);this.models.splice(G,1),this.length--,delete this._byId[nt.cid];var ct=this.modelId(nt.attributes,nt.idAttribute);ct!=null&&delete this._byId[ct],L.silent||(L.index=G,nt.trigger("remove",nt,this,L)),K.push(nt),this._removeReference(nt,L)}}return K},_isModel:function(E){return E instanceof Z},_addReference:function(E,L){this._byId[E.cid]=E;var K=this.modelId(E.attributes,E.idAttribute);K!=null&&(this._byId[K]=E),E.on("all",this._onModelEvent,this)},_removeReference:function(E,L){delete this._byId[E.cid];var K=this.modelId(E.attributes,E.idAttribute);K!=null&&delete this._byId[K],this===E.collection&&delete E.collection,E.off("all",this._onModelEvent,this)},_onModelEvent:function(E,L,K,it){if(L){if((E==="add"||E==="remove")&&K!==this)return;if(E==="destroy"&&this.remove(L,it),E==="changeId"){var nt=this.modelId(L.previousAttributes(),L.idAttribute),G=this.modelId(L.attributes,L.idAttribute);nt!=null&&delete this._byId[nt],G!=null&&(this._byId[G]=L)}}this.trigger.apply(this,arguments)}});var H=typeof Symbol=="function"&&Symbol.iterator;H&&($.prototype[H]=$.prototype.values);var D=function(E,L){this._collection=E,this._kind=L,this._index=0},I=1,T=2,tt=3;H&&(D.prototype[H]=function(){return this}),D.prototype.next=function(){if(this._collection){if(this._index<this._collection.length){var E=this._collection.at(this._index);this._index++;var L;if(this._kind===I)L=E;else{var K=this._collection.modelId(E.attributes,E.idAttribute);this._kind===T?L=K:L=[K,E]}return{value:L,done:!1}}this._collection=void 0}return{value:void 0,done:!0}};var M=a.View=function(E){this.cid=l.uniqueId("view"),this.preinitialize.apply(this,arguments),l.extend(this,l.pick(E,dt)),this._ensureElement(),this.initialize.apply(this,arguments)},ot=/^(\S+)\s*(.*)$/,dt=["model","collection","el","id","attributes","className","tagName","events"];l.extend(M.prototype,h,{tagName:"div",$:function(E){return this.$el.find(E)},preinitialize:function(){},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(E){return this.undelegateEvents(),this._setElement(E),this.delegateEvents(),this},_setElement:function(E){this.$el=E instanceof a.$?E:a.$(E),this.el=this.$el[0]},delegateEvents:function(E){if(E||(E=l.result(this,"events")),!E)return this;this.undelegateEvents();for(var L in E){var K=E[L];if(l.isFunction(K)||(K=this[K]),!!K){var it=L.match(ot);this.delegate(it[1],it[2],K.bind(this))}}return this},delegate:function(E,L,K){return this.$el.on(E+".delegateEvents"+this.cid,L,K),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(E,L,K){return this.$el.off(E+".delegateEvents"+this.cid,L,K),this},_createElement:function(E){return document.createElement(E)},_ensureElement:function(){if(this.el)this.setElement(l.result(this,"el"));else{var E=l.extend({},l.result(this,"attributes"));this.id&&(E.id=l.result(this,"id")),this.className&&(E.class=l.result(this,"className")),this.setElement(this._createElement(l.result(this,"tagName"))),this._setAttributes(E)}},_setAttributes:function(E){this.$el.attr(E)}});var pt=function(E,L,K,it){switch(L){case 1:return function(){return E[K](this[it])};case 2:return function(nt){return E[K](this[it],nt)};case 3:return function(nt,G){return E[K](this[it],_t(nt,this),G)};case 4:return function(nt,G,ct){return E[K](this[it],_t(nt,this),G,ct)};default:return function(){var nt=d.call(arguments);return nt.unshift(this[it]),E[K].apply(E,nt)}}},Dt=function(E,L,K,it){l.each(K,function(nt,G){L[G]&&(E.prototype[G]=pt(L,nt,G,it))})},_t=function(E,L){return l.isFunction(E)?E:l.isObject(E)&&!L._isModel(E)?rt(E):l.isString(E)?function(K){return K.get(E)}:E},rt=function(E){var L=l.matches(E);return function(K){return L(K.attributes)}},At={forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},mt={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};l.each([[$,At,"models"],[Z,mt,"attributes"]],function(E){var L=E[0],K=E[1],it=E[2];L.mixin=function(nt){var G=l.reduce(l.functions(nt),function(ct,st){return ct[st]=0,ct},{});Dt(L,nt,G,it)},Dt(L,l,K,it)}),a.sync=function(E,L,K){var it=Tt[E];l.defaults(K||(K={}),{emulateHTTP:a.emulateHTTP,emulateJSON:a.emulateJSON});var nt={type:it,dataType:"json"};if(K.url||(nt.url=l.result(L,"url")||wt()),K.data==null&&L&&(E==="create"||E==="update"||E==="patch")&&(nt.contentType="application/json",nt.data=JSON.stringify(K.attrs||L.toJSON(K))),K.emulateJSON&&(nt.contentType="application/x-www-form-urlencoded",nt.data=nt.data?{model:nt.data}:{}),K.emulateHTTP&&(it==="PUT"||it==="DELETE"||it==="PATCH")){nt.type="POST",K.emulateJSON&&(nt.data._method=it);var G=K.beforeSend;K.beforeSend=function(jt){if(jt.setRequestHeader("X-HTTP-Method-Override",it),G)return G.apply(this,arguments)}}nt.type!=="GET"&&!K.emulateJSON&&(nt.processData=!1);var ct=K.error;K.error=function(jt,ue,oe){K.textStatus=ue,K.errorThrown=oe,ct&&ct.call(K.context,jt,ue,oe)};var st=K.xhr=a.ajax(l.extend(nt,K));return L.trigger("request",L,st,K),st};var Tt={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};a.ajax=function(){return a.$.ajax.apply(a.$,arguments)};var $t=a.Router=function(E){E||(E={}),this.preinitialize.apply(this,arguments),E.routes&&(this.routes=E.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},zt=/\((.*?)\)/g,It=/(\(\?)?:\w+/g,Zt=/\*\w+/g,fe=/[\-{}\[\]+?.,\\\^$|#\s]/g;l.extend($t.prototype,h,{preinitialize:function(){},initialize:function(){},route:function(E,L,K){l.isRegExp(E)||(E=this._routeToRegExp(E)),l.isFunction(L)&&(K=L,L=""),K||(K=this[L]);var it=this;return a.history.route(E,function(nt){var G=it._extractParameters(E,nt);it.execute(K,G,L)!==!1&&(it.trigger.apply(it,["route:"+L].concat(G)),it.trigger("route",L,G),a.history.trigger("route",it,L,G))}),this},execute:function(E,L,K){E&&E.apply(this,L)},navigate:function(E,L){return a.history.navigate(E,L),this},_bindRoutes:function(){if(this.routes){this.routes=l.result(this,"routes");for(var E,L=l.keys(this.routes);(E=L.pop())!=null;)this.route(E,this.routes[E])}},_routeToRegExp:function(E){return E=E.replace(fe,"\\$&").replace(zt,"(?:$1)?").replace(It,function(L,K){return K?L:"([^/?]+)"}).replace(Zt,"([^?]*?)"),new RegExp("^"+E+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(E,L){var K=E.exec(L).slice(1);return l.map(K,function(it,nt){return nt===K.length-1?it||null:it?decodeURIComponent(it):null})}});var Jt=a.History=function(){this.handlers=[],this.checkUrl=this.checkUrl.bind(this),typeof window<"u"&&(this.location=window.location,this.history=window.history)},yt=/^[#\/]|\s+$/g,Wt=/^\/+|\/+$/g,R=/#.*$/;Jt.started=!1,l.extend(Jt.prototype,h,{interval:50,atRoot:function(){var E=this.location.pathname.replace(/[^\/]$/,"$&/");return E===this.root&&!this.getSearch()},matchRoot:function(){var E=this.decodeFragment(this.location.pathname),L=E.slice(0,this.root.length-1)+"/";return L===this.root},decodeFragment:function(E){return decodeURI(E.replace(/%25/g,"%2525"))},getSearch:function(){var E=this.location.href.replace(/#.*/,"").match(/\?.+/);return E?E[0]:""},getHash:function(E){var L=(E||this).location.href.match(/#(.*)$/);return L?L[1]:""},getPath:function(){var E=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return E.charAt(0)==="/"?E.slice(1):E},getFragment:function(E){return E==null&&(this._usePushState||!this._wantsHashChange?E=this.getPath():E=this.getHash()),E.replace(yt,"")},start:function(E){if(Jt.started)throw new Error("Backbone.history has already been started");if(Jt.started=!0,this.options=l.extend({root:"/"},this.options,E),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window&&(document.documentMode===void 0||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.history&&this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(Wt,"/"),this._wantsHashChange&&this._wantsPushState)if(!this._hasPushState&&!this.atRoot()){var L=this.root.slice(0,-1)||"/";return this.location.replace(L+"#"+this.getPath()),!0}else this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0});if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var K=document.body,it=K.insertBefore(this.iframe,K.firstChild).contentWindow;it.document.open(),it.document.close(),it.location.hash="#"+this.fragment}var nt=window.addEventListener||function(G,ct){return attachEvent("on"+G,ct)};if(this._usePushState?nt("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?nt("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var E=window.removeEventListener||function(L,K){return detachEvent("on"+L,K)};this._usePushState?E("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&E("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),Jt.started=!1},route:function(E,L){this.handlers.unshift({route:E,callback:L})},checkUrl:function(E){var L=this.getFragment();if(L===this.fragment&&this.iframe&&(L=this.getHash(this.iframe.contentWindow)),L===this.fragment)return!1;this.iframe&&this.navigate(L),this.loadUrl()},loadUrl:function(E){return this.matchRoot()?(E=this.fragment=this.getFragment(E),l.some(this.handlers,function(L){if(L.route.test(E))return L.callback(E),!0})):!1},navigate:function(E,L){if(!Jt.started)return!1;(!L||L===!0)&&(L={trigger:!!L}),E=this.getFragment(E||"");var K=this.root;(E===""||E.charAt(0)==="?")&&(K=K.slice(0,-1)||"/");var it=K+E;E=E.replace(R,"");var nt=this.decodeFragment(E);if(this.fragment!==nt){if(this.fragment=nt,this._usePushState)this.history[L.replace?"replaceState":"pushState"]({},document.title,it);else if(this._wantsHashChange){if(this._updateHash(this.location,E,L.replace),this.iframe&&E!==this.getHash(this.iframe.contentWindow)){var G=this.iframe.contentWindow;L.replace||(G.document.open(),G.document.close()),this._updateHash(G.location,E,L.replace)}}else return this.location.assign(it);if(L.trigger)return this.loadUrl(E)}},_updateHash:function(E,L,K){if(K){var it=E.href.replace(/(javascript:|#).*$/,"");E.replace(it+"#"+L)}else E.hash="#"+L}}),a.history=new Jt;var kt=function(E,L){var K=this,it;return E&&l.has(E,"constructor")?it=E.constructor:it=function(){return K.apply(this,arguments)},l.extend(it,K,L),it.prototype=l.create(K.prototype,E),it.prototype.constructor=it,it.__super__=K.prototype,it};Z.extend=$.extend=$t.extend=M.extend=Jt.extend=kt;var wt=function(){throw new Error('A "url" property or function must be specified')},et=function(E,L){var K=L.error;L.error=function(it){K&&K.call(L.context,E,it,L),E.trigger("error",E,it,L)}};return a})},3640:(r,e,t)=>{(function(n){n(t(4408))})(function(n){n.extendMode("css",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(o,a){return/^[;{}]$/.test(a)}}),n.extendMode("javascript",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(o,a,l,u){return this.jsonMode?/^[\[,{]$/.test(a)||/^}/.test(l):a==";"&&u.lexical&&u.lexical.type==")"?!1:/^[;{}]$/.test(a)&&!/^;/.test(l)}});var i=/^(a|abbr|acronym|area|base|bdo|big|br|button|caption|cite|code|col|colgroup|dd|del|dfn|em|frame|hr|iframe|img|input|ins|kbd|label|legend|link|map|object|optgroup|option|param|q|samp|script|select|small|span|strong|sub|sup|textarea|tt|var)$/;n.extendMode("xml",{commentStart:"<!--",commentEnd:"-->",newlineAfterToken:function(o,a,l,u){var c=!1;return this.configuration=="html"&&(c=u.context?i.test(u.context.tagName):!1),!c&&(o=="tag"&&/>$/.test(a)&&u.context||/^</.test(l))}}),n.defineExtension("commentRange",function(o,a,l){var u=this,c=n.innerMode(u.getMode(),u.getTokenAt(a).state).mode;u.operation(function(){if(o)u.replaceRange(c.commentEnd,l),u.replaceRange(c.commentStart,a),a.line==l.line&&a.ch==l.ch&&u.setCursor(a.line,a.ch+c.commentStart.length);else{var d=u.getRange(a,l),h=d.indexOf(c.commentStart),g=d.lastIndexOf(c.commentEnd);h>-1&&g>-1&&g>h&&(d=d.substr(0,h)+d.substring(h+c.commentStart.length,g)+d.substr(g+c.commentEnd.length)),u.replaceRange(d,a,l)}})}),n.defineExtension("autoIndentRange",function(o,a){var l=this;this.operation(function(){for(var u=o.line;u<=a.line;u++)l.indentLine(u,"smart")})}),n.defineExtension("autoFormatRange",function(o,a){var l=this,u=l.getMode(),c=l.getRange(o,a).split(`
`),d=n.copyState(u,l.getTokenAt(o).state),h=l.getOption("tabSize"),g="",m=0,_=o.ch===0;function b(){g+=`
`,_=!0,++m}for(var C=0;C<c.length;++C){for(var w=new n.StringStream(c[C],h);!w.eol();){var x=n.innerMode(u,d),O=u.token(w,d),k=w.current();w.start=w.pos,(!_||/\S/.test(k))&&(g+=k,_=!1),!_&&x.mode.newlineAfterToken&&x.mode.newlineAfterToken(O,k,w.string.slice(w.pos)||c[C+1]||"",x.state)&&b()}!w.pos&&u.blankLine&&u.blankLine(d),!_&&C<c.length-1&&b()}l.operation(function(){l.replaceRange(g,o,a);for(var V=o.line+1,Z=o.line+m;V<=Z;++V)l.indentLine(V,"smart");l.setSelection(o,l.getCursor(!1))})})})},4408:function(r){(function(e,t){r.exports=t()})(this,function(){var e=navigator.userAgent,t=navigator.platform,n=/gecko\/\d/i.test(e),i=/MSIE \d/.test(e),o=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(e),a=/Edge\/(\d+)/.exec(e),l=i||o||a,u=l&&(i?document.documentMode||6:+(a||o)[1]),c=!a&&/WebKit\//.test(e),d=c&&/Qt\/\d+\.\d+/.test(e),h=!a&&/Chrome\//.test(e),g=/Opera\//.test(e),m=/Apple Computer/.test(navigator.vendor),_=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(e),b=/PhantomJS/.test(e),C=m&&(/Mobile\/\w+/.test(e)||navigator.maxTouchPoints>2),w=/Android/.test(e),x=C||w||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(e),O=C||/Mac/.test(t),k=/\bCrOS\b/.test(e),V=/win/i.test(t),Z=g&&e.match(/Version\/(\d*\.\d*)/);Z&&(Z=Number(Z[1])),Z&&Z>=15&&(g=!1,c=!0);var $=O&&(d||g&&(Z==null||Z<12.11)),Y=n||l&&u>=9;function U(s){return new RegExp("(^|\\s)"+s+"(?:$|\\s)\\s*")}var Q=function(s,f){var v=s.className,p=U(f).exec(v);if(p){var y=v.slice(p.index+p[0].length);s.className=v.slice(0,p.index)+(y?p[1]+y:"")}};function H(s){for(var f=s.childNodes.length;f>0;--f)s.removeChild(s.firstChild);return s}function D(s,f){return H(s).appendChild(f)}function I(s,f,v,p){var y=document.createElement(s);if(v&&(y.className=v),p&&(y.style.cssText=p),typeof f=="string")y.appendChild(document.createTextNode(f));else if(f)for(var S=0;S<f.length;++S)y.appendChild(f[S]);return y}function T(s,f,v,p){var y=I(s,f,v,p);return y.setAttribute("role","presentation"),y}var tt;document.createRange?tt=function(s,f,v,p){var y=document.createRange();return y.setEnd(p||s,v),y.setStart(s,f),y}:tt=function(s,f,v){var p=document.body.createTextRange();try{p.moveToElementText(s.parentNode)}catch{return p}return p.collapse(!0),p.moveEnd("character",v),p.moveStart("character",f),p};function M(s,f){if(f.nodeType==3&&(f=f.parentNode),s.contains)return s.contains(f);do if(f.nodeType==11&&(f=f.host),f==s)return!0;while(f=f.parentNode)}function ot(){var s;try{s=document.activeElement}catch{s=document.body||null}for(;s&&s.shadowRoot&&s.shadowRoot.activeElement;)s=s.shadowRoot.activeElement;return s}function dt(s,f){var v=s.className;U(f).test(v)||(s.className+=(v?" ":"")+f)}function pt(s,f){for(var v=s.split(" "),p=0;p<v.length;p++)v[p]&&!U(v[p]).test(f)&&(f+=" "+v[p]);return f}var Dt=function(s){s.select()};C?Dt=function(s){s.selectionStart=0,s.selectionEnd=s.value.length}:l&&(Dt=function(s){try{s.select()}catch{}});function _t(s){var f=Array.prototype.slice.call(arguments,1);return function(){return s.apply(null,f)}}function rt(s,f,v){f||(f={});for(var p in s)s.hasOwnProperty(p)&&(v!==!1||!f.hasOwnProperty(p))&&(f[p]=s[p]);return f}function At(s,f,v,p,y){f==null&&(f=s.search(/[^\s\u00a0]/),f==-1&&(f=s.length));for(var S=p||0,A=y||0;;){var P=s.indexOf("	",S);if(P<0||P>=f)return A+(f-S);A+=P-S,A+=v-A%v,S=P+1}}var mt=function(){this.id=null,this.f=null,this.time=0,this.handler=_t(this.onTimeout,this)};mt.prototype.onTimeout=function(s){s.id=0,s.time<=+new Date?s.f():setTimeout(s.handler,s.time-+new Date)},mt.prototype.set=function(s,f){this.f=f;var v=+new Date+s;(!this.id||v<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,s),this.time=v)};function Tt(s,f){for(var v=0;v<s.length;++v)if(s[v]==f)return v;return-1}var $t=50,zt={toString:function(){return"CodeMirror.Pass"}},It={scroll:!1},Zt={origin:"*mouse"},fe={origin:"+move"};function Jt(s,f,v){for(var p=0,y=0;;){var S=s.indexOf("	",p);S==-1&&(S=s.length);var A=S-p;if(S==s.length||y+A>=f)return p+Math.min(A,f-y);if(y+=S-p,y+=v-y%v,p=S+1,y>=f)return p}}var yt=[""];function Wt(s){for(;yt.length<=s;)yt.push(R(yt)+" ");return yt[s]}function R(s){return s[s.length-1]}function kt(s,f){for(var v=[],p=0;p<s.length;p++)v[p]=f(s[p],p);return v}function wt(s,f,v){for(var p=0,y=v(f);p<s.length&&v(s[p])<=y;)p++;s.splice(p,0,f)}function et(){}function E(s,f){var v;return Object.create?v=Object.create(s):(et.prototype=s,v=new et),f&&rt(f,v),v}var L=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function K(s){return/\w/.test(s)||s>""&&(s.toUpperCase()!=s.toLowerCase()||L.test(s))}function it(s,f){return f?f.source.indexOf("\\w")>-1&&K(s)?!0:f.test(s):K(s)}function nt(s){for(var f in s)if(s.hasOwnProperty(f)&&s[f])return!1;return!0}var G=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function ct(s){return s.charCodeAt(0)>=768&&G.test(s)}function st(s,f,v){for(;(v<0?f>0:f<s.length)&&ct(s.charAt(f));)f+=v;return f}function jt(s,f,v){for(var p=f>v?-1:1;;){if(f==v)return f;var y=(f+v)/2,S=p<0?Math.ceil(y):Math.floor(y);if(S==f)return s(S)?f:v;s(S)?v=S:f=S+p}}function ue(s,f,v,p){if(!s)return p(f,v,"ltr",0);for(var y=!1,S=0;S<s.length;++S){var A=s[S];(A.from<v&&A.to>f||f==v&&A.to==f)&&(p(Math.max(A.from,f),Math.min(A.to,v),A.level==1?"rtl":"ltr",S),y=!0)}y||p(f,v,"ltr")}var oe=null;function J(s,f,v){var p;oe=null;for(var y=0;y<s.length;++y){var S=s[y];if(S.from<f&&S.to>f)return y;S.to==f&&(S.from!=S.to&&v=="before"?p=y:oe=y),S.from==f&&(S.from!=S.to&&v!="before"?p=y:oe=y)}return p??oe}var gt=function(){var s="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",f="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function v(B){return B<=247?s.charAt(B):1424<=B&&B<=1524?"R":1536<=B&&B<=1785?f.charAt(B-1536):1774<=B&&B<=2220?"r":8192<=B&&B<=8203?"w":B==8204?"b":"L"}var p=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,y=/[stwN]/,S=/[LRr]/,A=/[Lb1n]/,P=/[1n]/;function N(B,at,ft){this.level=B,this.from=at,this.to=ft}return function(B,at){var ft=at=="ltr"?"L":"R";if(B.length==0||at=="ltr"&&!p.test(B))return!1;for(var Ot=B.length,St=[],Pt=0;Pt<Ot;++Pt)St.push(v(B.charCodeAt(Pt)));for(var Ft=0,Qt=ft;Ft<Ot;++Ft){var se=St[Ft];se=="m"?St[Ft]=Qt:Qt=se}for(var de=0,le=ft;de<Ot;++de){var pe=St[de];pe=="1"&&le=="r"?St[de]="n":S.test(pe)&&(le=pe,pe=="r"&&(St[de]="R"))}for(var we=1,_e=St[0];we<Ot-1;++we){var Pe=St[we];Pe=="+"&&_e=="1"&&St[we+1]=="1"?St[we]="1":Pe==","&&_e==St[we+1]&&(_e=="1"||_e=="n")&&(St[we]=_e),_e=Pe}for(var rn=0;rn<Ot;++rn){var rr=St[rn];if(rr==",")St[rn]="N";else if(rr=="%"){var Sn=void 0;for(Sn=rn+1;Sn<Ot&&St[Sn]=="%";++Sn);for(var ii=rn&&St[rn-1]=="!"||Sn<Ot&&St[Sn]=="1"?"1":"N",Ur=rn;Ur<Sn;++Ur)St[Ur]=ii;rn=Sn-1}}for(var zn=0,Ir=ft;zn<Ot;++zn){var cr=St[zn];Ir=="L"&&cr=="1"?St[zn]="L":S.test(cr)&&(Ir=cr)}for(var Yn=0;Yn<Ot;++Yn)if(y.test(St[Yn])){var Hn=void 0;for(Hn=Yn+1;Hn<Ot&&y.test(St[Hn]);++Hn);for(var Tn=(Yn?St[Yn-1]:ft)=="L",zr=(Hn<Ot?St[Hn]:ft)=="L",Wl=Tn==zr?Tn?"L":"R":ft,Ga=Yn;Ga<Hn;++Ga)St[Ga]=Wl;Yn=Hn-1}for(var _r=[],Eo,ir=0;ir<Ot;)if(A.test(St[ir])){var Cm=ir;for(++ir;ir<Ot&&A.test(St[ir]);++ir);_r.push(new N(0,Cm,ir))}else{var ta=ir,Is=_r.length,zs=at=="rtl"?1:0;for(++ir;ir<Ot&&St[ir]!="L";++ir);for(var Ar=ta;Ar<ir;)if(P.test(St[Ar])){ta<Ar&&(_r.splice(Is,0,new N(1,ta,Ar)),Is+=zs);var ql=Ar;for(++Ar;Ar<ir&&P.test(St[Ar]);++Ar);_r.splice(Is,0,new N(2,ql,Ar)),Is+=zs,ta=Ar}else++Ar;ta<ir&&_r.splice(Is,0,new N(1,ta,ir))}return at=="ltr"&&(_r[0].level==1&&(Eo=B.match(/^\s+/))&&(_r[0].from=Eo[0].length,_r.unshift(new N(0,0,Eo[0].length))),R(_r).level==1&&(Eo=B.match(/\s+$/))&&(R(_r).to-=Eo[0].length,_r.push(new N(0,Ot-Eo[0].length,Ot)))),at=="rtl"?_r.reverse():_r}}();function F(s,f){var v=s.order;return v==null&&(v=s.order=gt(s.text,f)),v}var Lt=[],bt=function(s,f,v){if(s.addEventListener)s.addEventListener(f,v,!1);else if(s.attachEvent)s.attachEvent("on"+f,v);else{var p=s._handlers||(s._handlers={});p[f]=(p[f]||Lt).concat(v)}};function Ht(s,f){return s._handlers&&s._handlers[f]||Lt}function ce(s,f,v){if(s.removeEventListener)s.removeEventListener(f,v,!1);else if(s.detachEvent)s.detachEvent("on"+f,v);else{var p=s._handlers,y=p&&p[f];if(y){var S=Tt(y,v);S>-1&&(p[f]=y.slice(0,S).concat(y.slice(S+1)))}}}function ee(s,f){var v=Ht(s,f);if(v.length)for(var p=Array.prototype.slice.call(arguments,2),y=0;y<v.length;++y)v[y].apply(null,p)}function ne(s,f,v){return typeof f=="string"&&(f={type:f,preventDefault:function(){this.defaultPrevented=!0}}),ee(s,v||f.type,s,f),vn(f)||f.codemirrorIgnore}function ve(s){var f=s._handlers&&s._handlers.cursorActivity;if(f)for(var v=s.curOp.cursorActivityHandlers||(s.curOp.cursorActivityHandlers=[]),p=0;p<f.length;++p)Tt(v,f[p])==-1&&v.push(f[p])}function Oe(s,f){return Ht(s,f).length>0}function Re(s){s.prototype.on=function(f,v){bt(this,f,v)},s.prototype.off=function(f,v){ce(this,f,v)}}function De(s){s.preventDefault?s.preventDefault():s.returnValue=!1}function Je(s){s.stopPropagation?s.stopPropagation():s.cancelBubble=!0}function vn(s){return s.defaultPrevented!=null?s.defaultPrevented:s.returnValue==!1}function X(s){De(s),Je(s)}function ht(s){return s.target||s.srcElement}function Ct(s){var f=s.which;return f==null&&(s.button&1?f=1:s.button&2?f=3:s.button&4&&(f=2)),O&&s.ctrlKey&&f==1&&(f=3),f}var Ut=function(){if(l&&u<9)return!1;var s=I("div");return"draggable"in s||"dragDrop"in s}(),ie;function ye(s){if(ie==null){var f=I("span","​");D(s,I("span",[f,document.createTextNode("x")])),s.firstChild.offsetHeight!=0&&(ie=f.offsetWidth<=1&&f.offsetHeight>2&&!(l&&u<8))}var v=ie?I("span","​"):I("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return v.setAttribute("cm-text",""),v}var xe;function ln(s){if(xe!=null)return xe;var f=D(s,document.createTextNode("AخA")),v=tt(f,0,1).getBoundingClientRect(),p=tt(f,1,2).getBoundingClientRect();return H(s),!v||v.left==v.right?!1:xe=p.right-v.right<3}var Pn=`

b`.split(/\n/).length!=3?function(s){for(var f=0,v=[],p=s.length;f<=p;){var y=s.indexOf(`
`,f);y==-1&&(y=s.length);var S=s.slice(f,s.charAt(y-1)=="\r"?y-1:y),A=S.indexOf("\r");A!=-1?(v.push(S.slice(0,A)),f+=A+1):(v.push(S),f=y+1)}return v}:function(s){return s.split(/\r\n?|\n/)},un=window.getSelection?function(s){try{return s.selectionStart!=s.selectionEnd}catch{return!1}}:function(s){var f;try{f=s.ownerDocument.selection.createRange()}catch{}return!f||f.parentElement()!=s?!1:f.compareEndPoints("StartToEnd",f)!=0},bi=function(){var s=I("div");return"oncopy"in s?!0:(s.setAttribute("oncopy","return;"),typeof s.oncopy=="function")}(),cn=null;function Cr(s){if(cn!=null)return cn;var f=D(s,I("span","x")),v=f.getBoundingClientRect(),p=tt(f,0,1).getBoundingClientRect();return cn=Math.abs(v.left-p.left)>1}var $r={},qe={};function Mn(s,f){arguments.length>2&&(f.dependencies=Array.prototype.slice.call(arguments,2)),$r[s]=f}function Ve(s,f){qe[s]=f}function gr(s){if(typeof s=="string"&&qe.hasOwnProperty(s))s=qe[s];else if(s&&typeof s.name=="string"&&qe.hasOwnProperty(s.name)){var f=qe[s.name];typeof f=="string"&&(f={name:f}),s=E(f,s),s.name=f.name}else{if(typeof s=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(s))return gr("application/xml");if(typeof s=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(s))return gr("application/json")}return typeof s=="string"?{name:s}:s||{name:"null"}}function Se(s,f){f=gr(f);var v=$r[f.name];if(!v)return Se(s,"text/plain");var p=v(s,f);if(Jr.hasOwnProperty(f.name)){var y=Jr[f.name];for(var S in y)y.hasOwnProperty(S)&&(p.hasOwnProperty(S)&&(p["_"+S]=p[S]),p[S]=y[S])}if(p.name=f.name,f.helperType&&(p.helperType=f.helperType),f.modeProps)for(var A in f.modeProps)p[A]=f.modeProps[A];return p}var Jr={};function Lr(s,f){var v=Jr.hasOwnProperty(s)?Jr[s]:Jr[s]={};rt(f,v)}function Vn(s,f){if(f===!0)return f;if(s.copyState)return s.copyState(f);var v={};for(var p in f){var y=f[p];y instanceof Array&&(y=y.concat([])),v[p]=y}return v}function Bn(s,f){for(var v;s.innerMode&&(v=s.innerMode(f),!(!v||v.mode==s));)f=v.state,s=v.mode;return v||{mode:s,state:f}}function xr(s,f,v){return s.startState?s.startState(f,v):!0}var Ke=function(s,f,v){this.pos=this.start=0,this.string=s,this.tabSize=f||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=v};Ke.prototype.eol=function(){return this.pos>=this.string.length},Ke.prototype.sol=function(){return this.pos==this.lineStart},Ke.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Ke.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Ke.prototype.eat=function(s){var f=this.string.charAt(this.pos),v;if(typeof s=="string"?v=f==s:v=f&&(s.test?s.test(f):s(f)),v)return++this.pos,f},Ke.prototype.eatWhile=function(s){for(var f=this.pos;this.eat(s););return this.pos>f},Ke.prototype.eatSpace=function(){for(var s=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>s},Ke.prototype.skipToEnd=function(){this.pos=this.string.length},Ke.prototype.skipTo=function(s){var f=this.string.indexOf(s,this.pos);if(f>-1)return this.pos=f,!0},Ke.prototype.backUp=function(s){this.pos-=s},Ke.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=At(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?At(this.string,this.lineStart,this.tabSize):0)},Ke.prototype.indentation=function(){return At(this.string,null,this.tabSize)-(this.lineStart?At(this.string,this.lineStart,this.tabSize):0)},Ke.prototype.match=function(s,f,v){if(typeof s=="string"){var p=function(A){return v?A.toLowerCase():A},y=this.string.substr(this.pos,s.length);if(p(y)==p(s))return f!==!1&&(this.pos+=s.length),!0}else{var S=this.string.slice(this.pos).match(s);return S&&S.index>0?null:(S&&f!==!1&&(this.pos+=S[0].length),S)}},Ke.prototype.current=function(){return this.string.slice(this.start,this.pos)},Ke.prototype.hideFirstChars=function(s,f){this.lineStart+=s;try{return f()}finally{this.lineStart-=s}},Ke.prototype.lookAhead=function(s){var f=this.lineOracle;return f&&f.lookAhead(s)},Ke.prototype.baseToken=function(){var s=this.lineOracle;return s&&s.baseToken(this.pos)};function he(s,f){if(f-=s.first,f<0||f>=s.size)throw new Error("There is no line "+(f+s.first)+" in the document.");for(var v=s;!v.lines;)for(var p=0;;++p){var y=v.children[p],S=y.chunkSize();if(f<S){v=y;break}f-=S}return v.lines[f]}function Jn(s,f,v){var p=[],y=f.line;return s.iter(f.line,v.line+1,function(S){var A=S.text;y==v.line&&(A=A.slice(0,v.ch)),y==f.line&&(A=A.slice(f.ch)),p.push(A),++y}),p}function gn(s,f,v){var p=[];return s.iter(f,v,function(y){p.push(y.text)}),p}function Qn(s,f){var v=f-s.height;if(v)for(var p=s;p;p=p.parent)p.height+=v}function Ne(s){if(s.parent==null)return null;for(var f=s.parent,v=Tt(f.lines,s),p=f.parent;p;f=p,p=p.parent)for(var y=0;p.children[y]!=f;++y)v+=p.children[y].chunkSize();return v+f.first}function tn(s,f){var v=s.first;t:do{for(var p=0;p<s.children.length;++p){var y=s.children[p],S=y.height;if(f<S){s=y;continue t}f-=S,v+=y.chunkSize()}return v}while(!s.lines);for(var A=0;A<s.lines.length;++A){var P=s.lines[A],N=P.height;if(f<N)break;f-=N}return v+A}function Qr(s,f){return f>=s.first&&f<s.first+s.size}function wi(s,f){return String(s.lineNumberFormatter(f+s.firstLineNumber))}function qt(s,f,v){if(v===void 0&&(v=null),!(this instanceof qt))return new qt(s,f,v);this.line=s,this.ch=f,this.sticky=v}function be(s,f){return s.line-f.line||s.ch-f.ch}function Si(s,f){return s.sticky==f.sticky&&be(s,f)==0}function W(s){return qt(s.line,s.ch)}function lt(s,f){return be(s,f)<0?f:s}function Mt(s,f){return be(s,f)<0?s:f}function Gt(s,f){return Math.max(s.first,Math.min(f,s.first+s.size-1))}function Xt(s,f){if(f.line<s.first)return qt(s.first,0);var v=s.first+s.size-1;return f.line>v?qt(v,he(s,v).text.length):ke(f,he(s,f.line).text.length)}function ke(s,f){var v=s.ch;return v==null||v>f?qt(s.line,f):v<0?qt(s.line,0):s}function Le(s,f){for(var v=[],p=0;p<f.length;p++)v[p]=Xt(s,f[p]);return v}var fn=function(s,f){this.state=s,this.lookAhead=f},Ye=function(s,f,v,p){this.state=f,this.doc=s,this.line=v,this.maxLookAhead=p||0,this.baseTokens=null,this.baseTokenPos=1};Ye.prototype.lookAhead=function(s){var f=this.doc.getLine(this.line+s);return f!=null&&s>this.maxLookAhead&&(this.maxLookAhead=s),f},Ye.prototype.baseToken=function(s){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=s;)this.baseTokenPos+=2;var f=this.baseTokens[this.baseTokenPos+1];return{type:f&&f.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-s}},Ye.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},Ye.fromSaved=function(s,f,v){return f instanceof fn?new Ye(s,Vn(s.mode,f.state),v,f.lookAhead):new Ye(s,Vn(s.mode,f),v)},Ye.prototype.save=function(s){var f=s!==!1?Vn(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new fn(f,this.maxLookAhead):f};function ti(s,f,v,p){var y=[s.state.modeGen],S={};xo(s,f.text,s.doc.mode,v,function(B,at){return y.push(B,at)},S,p);for(var A=v.state,P=function(B){v.baseTokens=y;var at=s.state.overlays[B],ft=1,Ot=0;v.state=!0,xo(s,f.text,at.mode,v,function(St,Pt){for(var Ft=ft;Ot<St;){var Qt=y[ft];Qt>St&&y.splice(ft,1,St,y[ft+1],Qt),ft+=2,Ot=Math.min(St,Qt)}if(Pt)if(at.opaque)y.splice(Ft,ft-Ft,St,"overlay "+Pt),ft=Ft+2;else for(;Ft<ft;Ft+=2){var se=y[Ft+1];y[Ft+1]=(se?se+" ":"")+"overlay "+Pt}},S),v.state=A,v.baseTokens=null,v.baseTokenPos=1},N=0;N<s.state.overlays.length;++N)P(N);return{styles:y,classes:S.bgClass||S.textClass?S:null}}function Ta(s,f,v){if(!f.styles||f.styles[0]!=s.state.modeGen){var p=Fo(s,Ne(f)),y=f.text.length>s.options.maxHighlightLength&&Vn(s.doc.mode,p.state),S=ti(s,f,p);y&&(p.state=y),f.stateAfter=p.save(!y),f.styles=S.styles,S.classes?f.styleClasses=S.classes:f.styleClasses&&(f.styleClasses=null),v===s.doc.highlightFrontier&&(s.doc.modeFrontier=Math.max(s.doc.modeFrontier,++s.doc.highlightFrontier))}return f.styles}function Fo(s,f,v){var p=s.doc,y=s.display;if(!p.mode.startState)return new Ye(p,!0,f);var S=so(s,f,v),A=S>p.first&&he(p,S-1).stateAfter,P=A?Ye.fromSaved(p,A,S):new Ye(p,xr(p.mode),S);return p.iter(S,f,function(N){Wo(s,N.text,P);var B=P.line;N.stateAfter=B==f-1||B%5==0||B>=y.viewFrom&&B<y.viewTo?P.save():null,P.nextLine()}),v&&(p.modeFrontier=P.line),P}function Wo(s,f,v,p){var y=s.doc.mode,S=new Ke(f,s.options.tabSize,v);for(S.start=S.pos=p||0,f==""&&qo(y,v.state);!S.eol();)ks(y,S,v.state),S.start=S.pos}function qo(s,f){if(s.blankLine)return s.blankLine(f);if(s.innerMode){var v=Bn(s,f);if(v.mode.blankLine)return v.mode.blankLine(v.state)}}function ks(s,f,v,p){for(var y=0;y<10;y++){p&&(p[0]=Bn(s,v).mode);var S=s.token(f,v);if(f.pos>f.start)return S}throw new Error("Mode "+s.name+" failed to advance stream.")}var Aa=function(s,f,v){this.start=s.start,this.end=s.pos,this.string=s.current(),this.type=f||null,this.state=v};function ka(s,f,v,p){var y=s.doc,S=y.mode,A;f=Xt(y,f);var P=he(y,f.line),N=Fo(s,f.line,v),B=new Ke(P.text,s.options.tabSize,N),at;for(p&&(at=[]);(p||B.pos<f.ch)&&!B.eol();)B.start=B.pos,A=ks(S,B,N.state),p&&at.push(new Aa(B,A,Vn(y.mode,N.state)));return p?at:new Aa(B,A,N.state)}function Ko(s,f){if(s)for(;;){var v=s.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!v)break;s=s.slice(0,v.index)+s.slice(v.index+v[0].length);var p=v[1]?"bgClass":"textClass";f[p]==null?f[p]=v[2]:new RegExp("(?:^|\\s)"+v[2]+"(?:$|\\s)").test(f[p])||(f[p]+=" "+v[2])}return s}function xo(s,f,v,p,y,S,A){var P=v.flattenSpans;P==null&&(P=s.options.flattenSpans);var N=0,B=null,at=new Ke(f,s.options.tabSize,p),ft,Ot=s.options.addModeClass&&[null];for(f==""&&Ko(qo(v,p.state),S);!at.eol();){if(at.pos>s.options.maxHighlightLength?(P=!1,A&&Wo(s,f,p,at.pos),at.pos=f.length,ft=null):ft=Ko(ks(v,at,p.state,Ot),S),Ot){var St=Ot[0].name;St&&(ft="m-"+(ft?St+" "+ft:St))}if(!P||B!=ft){for(;N<at.start;)N=Math.min(at.start,N+5e3),y(N,B);B=ft}at.start=at.pos}for(;N<at.pos;){var Pt=Math.min(at.pos,N+5e3);y(Pt,B),N=Pt}}function so(s,f,v){for(var p,y,S=s.doc,A=v?-1:f-(s.doc.mode.innerMode?1e3:100),P=f;P>A;--P){if(P<=S.first)return S.first;var N=he(S,P-1),B=N.stateAfter;if(B&&(!v||P+(B instanceof fn?B.lookAhead:0)<=S.modeFrontier))return P;var at=At(N.text,null,s.options.tabSize);(y==null||p>at)&&(y=P-1,p=at)}return y}function Da(s,f){if(s.modeFrontier=Math.min(s.modeFrontier,f),!(s.highlightFrontier<f-10)){for(var v=s.first,p=f-1;p>v;p--){var y=he(s,p).stateAfter;if(y&&(!(y instanceof fn)||p+y.lookAhead<f)){v=p+1;break}}s.highlightFrontier=Math.min(s.highlightFrontier,v)}}var Un=!1,qn=!1;function Ds(){Un=!0}function Ci(){qn=!0}function lo(s,f,v){this.marker=s,this.from=f,this.to=v}function Or(s,f){if(s)for(var v=0;v<s.length;++v){var p=s[v];if(p.marker==f)return p}}function Kn(s,f){for(var v,p=0;p<s.length;++p)s[p]!=f&&(v||(v=[])).push(s[p]);return v}function xl(s,f,v){var p=v&&window.WeakSet&&(v.markedSpans||(v.markedSpans=new WeakSet));p&&p.has(s.markedSpans)?s.markedSpans.push(f):(s.markedSpans=s.markedSpans?s.markedSpans.concat([f]):[f],p&&p.add(s.markedSpans)),f.marker.attachLine(s)}function uo(s,f,v){var p;if(s)for(var y=0;y<s.length;++y){var S=s[y],A=S.marker,P=S.from==null||(A.inclusiveLeft?S.from<=f:S.from<f);if(P||S.from==f&&A.type=="bookmark"&&(!v||!S.marker.insertLeft)){var N=S.to==null||(A.inclusiveRight?S.to>=f:S.to>f);(p||(p=[])).push(new lo(A,S.from,N?null:S.to))}}return p}function xi(s,f,v){var p;if(s)for(var y=0;y<s.length;++y){var S=s[y],A=S.marker,P=S.to==null||(A.inclusiveRight?S.to>=f:S.to>f);if(P||S.from==f&&A.type=="bookmark"&&(!v||S.marker.insertLeft)){var N=S.from==null||(A.inclusiveLeft?S.from<=f:S.from<f);(p||(p=[])).push(new lo(A,N?null:S.from-f,S.to==null?null:S.to-f))}}return p}function Go(s,f){if(f.full)return null;var v=Qr(s,f.from.line)&&he(s,f.from.line).markedSpans,p=Qr(s,f.to.line)&&he(s,f.to.line).markedSpans;if(!v&&!p)return null;var y=f.from.ch,S=f.to.ch,A=be(f.from,f.to)==0,P=uo(v,y,A),N=xi(p,S,A),B=f.text.length==1,at=R(f.text).length+(B?y:0);if(P)for(var ft=0;ft<P.length;++ft){var Ot=P[ft];if(Ot.to==null){var St=Or(N,Ot.marker);St?B&&(Ot.to=St.to==null?null:St.to+at):Ot.to=y}}if(N)for(var Pt=0;Pt<N.length;++Pt){var Ft=N[Pt];if(Ft.to!=null&&(Ft.to+=at),Ft.from==null){var Qt=Or(P,Ft.marker);Qt||(Ft.from=at,B&&(P||(P=[])).push(Ft))}else Ft.from+=at,B&&(P||(P=[])).push(Ft)}P&&(P=Oi(P)),N&&N!=P&&(N=Oi(N));var se=[P];if(!B){var de=f.text.length-2,le;if(de>0&&P)for(var pe=0;pe<P.length;++pe)P[pe].to==null&&(le||(le=[])).push(new lo(P[pe].marker,null,null));for(var we=0;we<de;++we)se.push(le);se.push(N)}return se}function Oi(s){for(var f=0;f<s.length;++f){var v=s[f];v.from!=null&&v.from==v.to&&v.marker.clearWhenEmpty!==!1&&s.splice(f--,1)}return s.length?s:null}function Ei(s,f,v){var p=null;if(s.iter(f.line,v.line+1,function(St){if(St.markedSpans)for(var Pt=0;Pt<St.markedSpans.length;++Pt){var Ft=St.markedSpans[Pt].marker;Ft.readOnly&&(!p||Tt(p,Ft)==-1)&&(p||(p=[])).push(Ft)}}),!p)return null;for(var y=[{from:f,to:v}],S=0;S<p.length;++S)for(var A=p[S],P=A.find(0),N=0;N<y.length;++N){var B=y[N];if(!(be(B.to,P.from)<0||be(B.from,P.to)>0)){var at=[N,1],ft=be(B.from,P.from),Ot=be(B.to,P.to);(ft<0||!A.inclusiveLeft&&!ft)&&at.push({from:B.from,to:P.from}),(Ot>0||!A.inclusiveRight&&!Ot)&&at.push({from:P.to,to:B.to}),y.splice.apply(y,at),N+=at.length-3}}return y}function Ps(s){var f=s.markedSpans;if(f){for(var v=0;v<f.length;++v)f[v].marker.detachLine(s);s.markedSpans=null}}function Pa(s,f){if(f){for(var v=0;v<f.length;++v)f[v].marker.attachLine(s);s.markedSpans=f}}function Yo(s){return s.inclusiveLeft?-1:0}function Fi(s){return s.inclusiveRight?1:0}function Xo(s,f){var v=s.lines.length-f.lines.length;if(v!=0)return v;var p=s.find(),y=f.find(),S=be(p.from,y.from)||Yo(s)-Yo(f);if(S)return-S;var A=be(p.to,y.to)||Fi(s)-Fi(f);return A||f.id-s.id}function co(s,f){var v=qn&&s.markedSpans,p;if(v)for(var y=void 0,S=0;S<v.length;++S)y=v[S],y.marker.collapsed&&(f?y.from:y.to)==null&&(!p||Xo(p,y.marker)<0)&&(p=y.marker);return p}function me(s){return co(s,!0)}function ge(s){return co(s,!1)}function Ue(s,f){var v=qn&&s.markedSpans,p;if(v)for(var y=0;y<v.length;++y){var S=v[y];S.marker.collapsed&&(S.from==null||S.from<f)&&(S.to==null||S.to>f)&&(!p||Xo(p,S.marker)<0)&&(p=S.marker)}return p}function Ce(s,f,v,p,y){var S=he(s,f),A=qn&&S.markedSpans;if(A)for(var P=0;P<A.length;++P){var N=A[P];if(N.marker.collapsed){var B=N.marker.find(0),at=be(B.from,v)||Yo(N.marker)-Yo(y),ft=be(B.to,p)||Fi(N.marker)-Fi(y);if(!(at>=0&&ft<=0||at<=0&&ft>=0)&&(at<=0&&(N.marker.inclusiveRight&&y.inclusiveLeft?be(B.to,v)>=0:be(B.to,v)>0)||at>=0&&(N.marker.inclusiveRight&&y.inclusiveLeft?be(B.from,p)<=0:be(B.from,p)<0)))return!0}}}function mn(s){for(var f;f=me(s);)s=f.find(-1,!0).line;return s}function In(s){for(var f;f=ge(s);)s=f.find(1,!0).line;return s}function Er(s){for(var f,v;f=ge(s);)s=f.find(1,!0).line,(v||(v=[])).push(s);return v}function Wi(s,f){var v=he(s,f),p=mn(v);return v==p?f:Ne(p)}function Nr(s,f){if(f>s.lastLine())return f;var v=he(s,f),p;if(!jr(s,v))return f;for(;p=ge(v);)v=p.find(1,!0).line;return Ne(v)+1}function jr(s,f){var v=qn&&f.markedSpans;if(v){for(var p=void 0,y=0;y<v.length;++y)if(p=v[y],!!p.marker.collapsed){if(p.from==null)return!0;if(!p.marker.widgetNode&&p.from==0&&p.marker.inclusiveLeft&&ei(s,f,p))return!0}}}function ei(s,f,v){if(v.to==null){var p=v.marker.find(1,!0);return ei(s,p.line,Or(p.line.markedSpans,v.marker))}if(v.marker.inclusiveRight&&v.to==f.text.length)return!0;for(var y=void 0,S=0;S<f.markedSpans.length;++S)if(y=f.markedSpans[S],y.marker.collapsed&&!y.marker.widgetNode&&y.from==v.to&&(y.to==null||y.to!=v.from)&&(y.marker.inclusiveLeft||v.marker.inclusiveRight)&&ei(s,f,y))return!0}function qi(s){s=mn(s);for(var f=0,v=s.parent,p=0;p<v.lines.length;++p){var y=v.lines[p];if(y==s)break;f+=y.height}for(var S=v.parent;S;v=S,S=v.parent)for(var A=0;A<S.children.length;++A){var P=S.children[A];if(P==v)break;f+=P.height}return f}function Zo(s){if(s.height==0)return 0;for(var f=s.text.length,v,p=s;v=me(p);){var y=v.find(0,!0);p=y.from.line,f+=y.from.ch-y.to.ch}for(p=s;v=ge(p);){var S=v.find(0,!0);f-=p.text.length-S.from.ch,p=S.to.line,f+=p.text.length-S.to.ch}return f}function Ma(s){var f=s.display,v=s.doc;f.maxLine=he(v,v.first),f.maxLineLength=Zo(f.maxLine),f.maxLineChanged=!0,v.iter(function(p){var y=Zo(p);y>f.maxLineLength&&(f.maxLineLength=y,f.maxLine=p)})}var tr=function(s,f,v){this.text=s,Pa(this,f),this.height=v?v(this):1};tr.prototype.lineNo=function(){return Ne(this)},Re(tr);function jd(s,f,v,p){s.text=f,s.stateAfter&&(s.stateAfter=null),s.styles&&(s.styles=null),s.order!=null&&(s.order=null),Ps(s),Pa(s,v);var y=p?p(s):1;y!=s.height&&Qn(s,y)}function Ol(s){s.parent=null,Ps(s)}var Vd={},mc={};function yc(s,f){if(!s||/^\s*$/.test(s))return null;var v=f.addModeClass?mc:Vd;return v[s]||(v[s]=s.replace(/\S+/g,"cm-$&"))}function El(s,f){var v=T("span",null,null,c?"padding-right: .1px":null),p={pre:T("pre",[v],"CodeMirror-line"),content:v,col:0,pos:0,cm:s,trailingSpace:!1,splitSpaces:s.getOption("lineWrapping")};f.measure={};for(var y=0;y<=(f.rest?f.rest.length:0);y++){var S=y?f.rest[y-1]:f.line,A=void 0;p.pos=0,p.addToken=Ud,ln(s.display.measure)&&(A=F(S,s.doc.direction))&&(p.addToken=Id(p.addToken,A)),p.map=[];var P=f!=s.display.externalMeasured&&Ne(S);zd(S,p,Ta(s,S,P)),S.styleClasses&&(S.styleClasses.bgClass&&(p.bgClass=pt(S.styleClasses.bgClass,p.bgClass||"")),S.styleClasses.textClass&&(p.textClass=pt(S.styleClasses.textClass,p.textClass||""))),p.map.length==0&&p.map.push(0,0,p.content.appendChild(ye(s.display.measure))),y==0?(f.measure.map=p.map,f.measure.cache={}):((f.measure.maps||(f.measure.maps=[])).push(p.map),(f.measure.caches||(f.measure.caches=[])).push({}))}if(c){var N=p.content.lastChild;(/\bcm-tab\b/.test(N.className)||N.querySelector&&N.querySelector(".cm-tab"))&&(p.content.className="cm-tab-wrap-hack")}return ee(s,"renderLine",s,f.line,p.pre),p.pre.className&&(p.textClass=pt(p.pre.className,p.textClass||"")),p}function Bd(s){var f=I("span","•","cm-invalidchar");return f.title="\\u"+s.charCodeAt(0).toString(16),f.setAttribute("aria-label",f.title),f}function Ud(s,f,v,p,y,S,A){if(f){var P=s.splitSpaces?Tl(f,s.trailingSpace):f,N=s.cm.state.specialChars,B=!1,at;if(!N.test(f))s.col+=f.length,at=document.createTextNode(P),s.map.push(s.pos,s.pos+f.length,at),l&&u<9&&(B=!0),s.pos+=f.length;else{at=document.createDocumentFragment();for(var ft=0;;){N.lastIndex=ft;var Ot=N.exec(f),St=Ot?Ot.index-ft:f.length-ft;if(St){var Pt=document.createTextNode(P.slice(ft,ft+St));l&&u<9?at.appendChild(I("span",[Pt])):at.appendChild(Pt),s.map.push(s.pos,s.pos+St,Pt),s.col+=St,s.pos+=St}if(!Ot)break;ft+=St+1;var Ft=void 0;if(Ot[0]=="	"){var Qt=s.cm.options.tabSize,se=Qt-s.col%Qt;Ft=at.appendChild(I("span",Wt(se),"cm-tab")),Ft.setAttribute("role","presentation"),Ft.setAttribute("cm-text","	"),s.col+=se}else Ot[0]=="\r"||Ot[0]==`
`?(Ft=at.appendChild(I("span",Ot[0]=="\r"?"␍":"␤","cm-invalidchar")),Ft.setAttribute("cm-text",Ot[0]),s.col+=1):(Ft=s.cm.options.specialCharPlaceholder(Ot[0]),Ft.setAttribute("cm-text",Ot[0]),l&&u<9?at.appendChild(I("span",[Ft])):at.appendChild(Ft),s.col+=1);s.map.push(s.pos,s.pos+1,Ft),s.pos++}}if(s.trailingSpace=P.charCodeAt(f.length-1)==32,v||p||y||B||S||A){var de=v||"";p&&(de+=p),y&&(de+=y);var le=I("span",[at],de,S);if(A)for(var pe in A)A.hasOwnProperty(pe)&&pe!="style"&&pe!="class"&&le.setAttribute(pe,A[pe]);return s.content.appendChild(le)}s.content.appendChild(at)}}function Tl(s,f){if(s.length>1&&!/  /.test(s))return s;for(var v=f,p="",y=0;y<s.length;y++){var S=s.charAt(y);S==" "&&v&&(y==s.length-1||s.charCodeAt(y+1)==32)&&(S=" "),p+=S,v=S==" "}return p}function Id(s,f){return function(v,p,y,S,A,P,N){y=y?y+" cm-force-border":"cm-force-border";for(var B=v.pos,at=B+p.length;;){for(var ft=void 0,Ot=0;Ot<f.length&&(ft=f[Ot],!(ft.to>B&&ft.from<=B));Ot++);if(ft.to>=at)return s(v,p,y,S,A,P,N);s(v,p.slice(0,ft.to-B),y,S,null,P,N),S=null,p=p.slice(ft.to-B),B=ft.to}}}function _c(s,f,v,p){var y=!p&&v.widgetNode;y&&s.map.push(s.pos,s.pos+f,y),!p&&s.cm.display.input.needsContentAttribute&&(y||(y=s.content.appendChild(document.createElement("span"))),y.setAttribute("cm-marker",v.id)),y&&(s.cm.display.input.setUneditable(y),s.content.appendChild(y)),s.pos+=f,s.trailingSpace=!1}function zd(s,f,v){var p=s.markedSpans,y=s.text,S=0;if(!p){for(var A=1;A<v.length;A+=2)f.addToken(f,y.slice(S,S=v[A]),yc(v[A+1],f.cm.options));return}for(var P=y.length,N=0,B=1,at="",ft,Ot,St=0,Pt,Ft,Qt,se,de;;){if(St==N){Pt=Ft=Qt=Ot="",de=null,se=null,St=1/0;for(var le=[],pe=void 0,we=0;we<p.length;++we){var _e=p[we],Pe=_e.marker;if(Pe.type=="bookmark"&&_e.from==N&&Pe.widgetNode)le.push(Pe);else if(_e.from<=N&&(_e.to==null||_e.to>N||Pe.collapsed&&_e.to==N&&_e.from==N)){if(_e.to!=null&&_e.to!=N&&St>_e.to&&(St=_e.to,Ft=""),Pe.className&&(Pt+=" "+Pe.className),Pe.css&&(Ot=(Ot?Ot+";":"")+Pe.css),Pe.startStyle&&_e.from==N&&(Qt+=" "+Pe.startStyle),Pe.endStyle&&_e.to==St&&(pe||(pe=[])).push(Pe.endStyle,_e.to),Pe.title&&((de||(de={})).title=Pe.title),Pe.attributes)for(var rn in Pe.attributes)(de||(de={}))[rn]=Pe.attributes[rn];Pe.collapsed&&(!se||Xo(se.marker,Pe)<0)&&(se=_e)}else _e.from>N&&St>_e.from&&(St=_e.from)}if(pe)for(var rr=0;rr<pe.length;rr+=2)pe[rr+1]==St&&(Ft+=" "+pe[rr]);if(!se||se.from==N)for(var Sn=0;Sn<le.length;++Sn)_c(f,0,le[Sn]);if(se&&(se.from||0)==N){if(_c(f,(se.to==null?P+1:se.to)-N,se.marker,se.from==null),se.to==null)return;se.to==N&&(se=!1)}}if(N>=P)break;for(var ii=Math.min(P,St);;){if(at){var Ur=N+at.length;if(!se){var zn=Ur>ii?at.slice(0,ii-N):at;f.addToken(f,zn,ft?ft+Pt:Pt,Qt,N+zn.length==St?Ft:"",Ot,de)}if(Ur>=ii){at=at.slice(ii-N),N=ii;break}N=Ur,Qt=""}at=y.slice(S,S=v[B++]),ft=yc(v[B++],f.cm.options)}}}function bc(s,f,v){this.line=f,this.rest=Er(f),this.size=this.rest?Ne(R(this.rest))-v+1:1,this.node=this.text=null,this.hidden=jr(s,f)}function Al(s,f,v){for(var p=[],y,S=f;S<v;S=y){var A=new bc(s.doc,he(s.doc,S),S);y=S+A.size,p.push(A)}return p}var $o=null;function Hd(s){$o?$o.ops.push(s):s.ownsGroup=$o={ops:[s],delayedCallbacks:[]}}function Wg(s){var f=s.delayedCallbacks,v=0;do{for(;v<f.length;v++)f[v].call(null);for(var p=0;p<s.ops.length;p++){var y=s.ops[p];if(y.cursorActivityHandlers)for(;y.cursorActivityCalled<y.cursorActivityHandlers.length;)y.cursorActivityHandlers[y.cursorActivityCalled++].call(null,y.cm)}}while(v<f.length)}function wc(s,f){var v=s.ownsGroup;if(v)try{Wg(v)}finally{$o=null,f(v)}}var Ra=null;function En(s,f){var v=Ht(s,f);if(v.length){var p=Array.prototype.slice.call(arguments,2),y;$o?y=$o.delayedCallbacks:Ra?y=Ra:(y=Ra=[],setTimeout(La,0));for(var S=function(P){y.push(function(){return v[P].apply(null,p)})},A=0;A<v.length;++A)S(A)}}function La(){var s=Ra;Ra=null;for(var f=0;f<s.length;++f)s[f]()}function Oo(s,f,v,p){for(var y=0;y<f.changes.length;y++){var S=f.changes[y];S=="text"?Cc(s,f):S=="gutter"?ja(s,f,v,p):S=="class"?kl(s,f):S=="widget"&&Wd(s,f,p)}f.changes=null}function Na(s){return s.node==s.text&&(s.node=I("div",null,null,"position: relative"),s.text.parentNode&&s.text.parentNode.replaceChild(s.node,s.text),s.node.appendChild(s.text),l&&u<8&&(s.node.style.zIndex=2)),s.node}function Fd(s,f){var v=f.bgClass?f.bgClass+" "+(f.line.bgClass||""):f.line.bgClass;if(v&&(v+=" CodeMirror-linebackground"),f.background)v?f.background.className=v:(f.background.parentNode.removeChild(f.background),f.background=null);else if(v){var p=Na(f);f.background=p.insertBefore(I("div",null,v),p.firstChild),s.display.input.setUneditable(f.background)}}function Sc(s,f){var v=s.display.externalMeasured;return v&&v.line==f.line?(s.display.externalMeasured=null,f.measure=v.measure,v.built):El(s,f)}function Cc(s,f){var v=f.text.className,p=Sc(s,f);f.text==f.node&&(f.node=p.pre),f.text.parentNode.replaceChild(p.pre,f.text),f.text=p.pre,p.bgClass!=f.bgClass||p.textClass!=f.textClass?(f.bgClass=p.bgClass,f.textClass=p.textClass,kl(s,f)):v&&(f.text.className=v)}function kl(s,f){Fd(s,f),f.line.wrapClass?Na(f).className=f.line.wrapClass:f.node!=f.text&&(f.node.className="");var v=f.textClass?f.textClass+" "+(f.line.textClass||""):f.line.textClass;f.text.className=v||""}function ja(s,f,v,p){if(f.gutter&&(f.node.removeChild(f.gutter),f.gutter=null),f.gutterBackground&&(f.node.removeChild(f.gutterBackground),f.gutterBackground=null),f.line.gutterClass){var y=Na(f);f.gutterBackground=I("div",null,"CodeMirror-gutter-background "+f.line.gutterClass,"left: "+(s.options.fixedGutter?p.fixedPos:-p.gutterTotalWidth)+"px; width: "+p.gutterTotalWidth+"px"),s.display.input.setUneditable(f.gutterBackground),y.insertBefore(f.gutterBackground,f.text)}var S=f.line.gutterMarkers;if(s.options.lineNumbers||S){var A=Na(f),P=f.gutter=I("div",null,"CodeMirror-gutter-wrapper","left: "+(s.options.fixedGutter?p.fixedPos:-p.gutterTotalWidth)+"px");if(P.setAttribute("aria-hidden","true"),s.display.input.setUneditable(P),A.insertBefore(P,f.text),f.line.gutterClass&&(P.className+=" "+f.line.gutterClass),s.options.lineNumbers&&(!S||!S["CodeMirror-linenumbers"])&&(f.lineNumber=P.appendChild(I("div",wi(s.options,v),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+p.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+s.display.lineNumInnerWidth+"px"))),S)for(var N=0;N<s.display.gutterSpecs.length;++N){var B=s.display.gutterSpecs[N].className,at=S.hasOwnProperty(B)&&S[B];at&&P.appendChild(I("div",[at],"CodeMirror-gutter-elt","left: "+p.gutterLeft[B]+"px; width: "+p.gutterWidth[B]+"px"))}}}function Wd(s,f,v){f.alignable&&(f.alignable=null);for(var p=U("CodeMirror-linewidget"),y=f.node.firstChild,S=void 0;y;y=S)S=y.nextSibling,p.test(y.className)&&f.node.removeChild(y);Va(s,f,v)}function qd(s,f,v,p){var y=Sc(s,f);return f.text=f.node=y.pre,y.bgClass&&(f.bgClass=y.bgClass),y.textClass&&(f.textClass=y.textClass),kl(s,f),ja(s,f,v,p),Va(s,f,p),f.node}function Va(s,f,v){if(xc(s,f.line,f,v,!0),f.rest)for(var p=0;p<f.rest.length;p++)xc(s,f.rest[p],f,v,!1)}function xc(s,f,v,p,y){if(f.widgets)for(var S=Na(v),A=0,P=f.widgets;A<P.length;++A){var N=P[A],B=I("div",[N.node],"CodeMirror-linewidget"+(N.className?" "+N.className:""));N.handleMouseEvents||B.setAttribute("cm-ignore-events","true"),Kd(N,B,v,p),s.display.input.setUneditable(B),y&&N.above?S.insertBefore(B,v.gutter||v.text):S.appendChild(B),En(N,"redraw")}}function Kd(s,f,v,p){if(s.noHScroll){(v.alignable||(v.alignable=[])).push(f);var y=p.wrapperWidth;f.style.left=p.fixedPos+"px",s.coverGutter||(y-=p.gutterTotalWidth,f.style.paddingLeft=p.gutterTotalWidth+"px"),f.style.width=y+"px"}s.coverGutter&&(f.style.zIndex=5,f.style.position="relative",s.noHScroll||(f.style.marginLeft=-p.gutterTotalWidth+"px"))}function Ba(s){if(s.height!=null)return s.height;var f=s.doc.cm;if(!f)return 0;if(!M(document.body,s.node)){var v="position: relative;";s.coverGutter&&(v+="margin-left: -"+f.display.gutters.offsetWidth+"px;"),s.noHScroll&&(v+="width: "+f.display.wrapper.clientWidth+"px;"),D(f.display.measure,I("div",[s.node],null,v))}return s.height=s.node.parentNode.offsetHeight}function Ki(s,f){for(var v=ht(f);v!=s.wrapper;v=v.parentNode)if(!v||v.nodeType==1&&v.getAttribute("cm-ignore-events")=="true"||v.parentNode==s.sizer&&v!=s.mover)return!0}function Ua(s){return s.lineSpace.offsetTop}function Ms(s){return s.mover.offsetHeight-s.lineSpace.offsetHeight}function Gd(s){if(s.cachedPaddingH)return s.cachedPaddingH;var f=D(s.measure,I("pre","x","CodeMirror-line-like")),v=window.getComputedStyle?window.getComputedStyle(f):f.currentStyle,p={left:parseInt(v.paddingLeft),right:parseInt(v.paddingRight)};return!isNaN(p.left)&&!isNaN(p.right)&&(s.cachedPaddingH=p),p}function ni(s){return $t-s.display.nativeBarWidth}function Jo(s){return s.display.scroller.clientWidth-ni(s)-s.display.barWidth}function j(s){return s.display.scroller.clientHeight-ni(s)-s.display.barHeight}function q(s,f,v){var p=s.options.lineWrapping,y=p&&Jo(s);if(!f.measure.heights||p&&f.measure.width!=y){var S=f.measure.heights=[];if(p){f.measure.width=y;for(var A=f.text.firstChild.getClientRects(),P=0;P<A.length-1;P++){var N=A[P],B=A[P+1];Math.abs(N.bottom-B.bottom)>2&&S.push((N.bottom+B.top)/2-v.top)}}S.push(v.bottom-v.top)}}function ut(s,f,v){if(s.line==f)return{map:s.measure.map,cache:s.measure.cache};for(var p=0;p<s.rest.length;p++)if(s.rest[p]==f)return{map:s.measure.maps[p],cache:s.measure.caches[p]};for(var y=0;y<s.rest.length;y++)if(Ne(s.rest[y])>v)return{map:s.measure.maps[y],cache:s.measure.caches[y],before:!0}}function vt(s,f){f=mn(f);var v=Ne(f),p=s.display.externalMeasured=new bc(s.doc,f,v);p.lineN=v;var y=p.built=El(s,p);return p.text=y.pre,D(s.display.lineMeasure,y.pre),p}function Et(s,f,v,p){return re(s,Bt(s,f),v,p)}function xt(s,f){if(f>=s.display.viewFrom&&f<s.display.viewTo)return s.display.view[Ns(s,f)];var v=s.display.externalMeasured;if(v&&f>=v.lineN&&f<v.lineN+v.size)return v}function Bt(s,f){var v=Ne(f),p=xt(s,v);p&&!p.text?p=null:p&&p.changes&&(Oo(s,p,v,Xg(s)),s.curOp.forceUpdate=!0),p||(p=vt(s,f));var y=ut(p,f,v);return{line:f,view:p,rect:null,map:y.map,cache:y.cache,before:y.before,hasHeights:!1}}function re(s,f,v,p,y){f.before&&(v=-1);var S=v+(p||""),A;return f.cache.hasOwnProperty(S)?A=f.cache[S]:(f.rect||(f.rect=f.view.text.getBoundingClientRect()),f.hasHeights||(q(s,f.view,f.rect),f.hasHeights=!0),A=mr(s,f,v,p),A.bogus||(f.cache[S]=A)),{left:A.left,right:A.right,top:y?A.rtop:A.top,bottom:y?A.rbottom:A.bottom}}var Ae={left:0,right:0,top:0,bottom:0};function Ee(s,f,v){for(var p,y,S,A,P,N,B=0;B<s.length;B+=3)if(P=s[B],N=s[B+1],f<P?(y=0,S=1,A="left"):f<N?(y=f-P,S=y+1):(B==s.length-3||f==N&&s[B+3]>f)&&(S=N-P,y=S-1,f>=N&&(A="right")),y!=null){if(p=s[B+2],P==N&&v==(p.insertLeft?"left":"right")&&(A=v),v=="left"&&y==0)for(;B&&s[B-2]==s[B-3]&&s[B-1].insertLeft;)p=s[(B-=3)+2],A="left";if(v=="right"&&y==N-P)for(;B<s.length-3&&s[B+3]==s[B+4]&&!s[B+5].insertLeft;)p=s[(B+=3)+2],A="right";break}return{node:p,start:y,end:S,collapse:A,coverStart:P,coverEnd:N}}function Gn(s,f){var v=Ae;if(f=="left")for(var p=0;p<s.length&&(v=s[p]).left==v.right;p++);else for(var y=s.length-1;y>=0&&(v=s[y]).left==v.right;y--);return v}function mr(s,f,v,p){var y=Ee(f.map,v,p),S=y.node,A=y.start,P=y.end,N=y.collapse,B;if(S.nodeType==3){for(var at=0;at<4;at++){for(;A&&ct(f.line.text.charAt(y.coverStart+A));)--A;for(;y.coverStart+P<y.coverEnd&&ct(f.line.text.charAt(y.coverStart+P));)++P;if(l&&u<9&&A==0&&P==y.coverEnd-y.coverStart?B=S.parentNode.getBoundingClientRect():B=Gn(tt(S,A,P).getClientRects(),p),B.left||B.right||A==0)break;P=A,A=A-1,N="right"}l&&u<11&&(B=Yd(s.display.measure,B))}else{A>0&&(N=p="right");var ft;s.options.lineWrapping&&(ft=S.getClientRects()).length>1?B=ft[p=="right"?ft.length-1:0]:B=S.getBoundingClientRect()}if(l&&u<9&&!A&&(!B||!B.left&&!B.right)){var Ot=S.parentNode.getClientRects()[0];Ot?B={left:Ot.left,right:Ot.left+Pl(s.display),top:Ot.top,bottom:Ot.bottom}:B=Ae}for(var St=B.top-f.rect.top,Pt=B.bottom-f.rect.top,Ft=(St+Pt)/2,Qt=f.view.measure.heights,se=0;se<Qt.length-1&&!(Ft<Qt[se]);se++);var de=se?Qt[se-1]:0,le=Qt[se],pe={left:(N=="right"?B.right:B.left)-f.rect.left,right:(N=="left"?B.left:B.right)-f.rect.left,top:de,bottom:le};return!B.left&&!B.right&&(pe.bogus=!0),s.options.singleCursorHeightPerLine||(pe.rtop=St,pe.rbottom=Pt),pe}function Yd(s,f){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!Cr(s))return f;var v=screen.logicalXDPI/screen.deviceXDPI,p=screen.logicalYDPI/screen.deviceYDPI;return{left:f.left*v,right:f.right*v,top:f.top*p,bottom:f.bottom*p}}function Oc(s){if(s.measure&&(s.measure.cache={},s.measure.heights=null,s.rest))for(var f=0;f<s.rest.length;f++)s.measure.caches[f]={}}function vw(s){s.display.externalMeasure=null,H(s.display.lineMeasure);for(var f=0;f<s.display.view.length;f++)Oc(s.display.view[f])}function Ec(s){vw(s),s.display.cachedCharWidth=s.display.cachedTextHeight=s.display.cachedPaddingH=null,s.options.lineWrapping||(s.display.maxLineChanged=!0),s.display.lineNumChars=null}function gw(){return h&&w?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function mw(){return h&&w?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function qg(s){var f=0;if(s.widgets)for(var v=0;v<s.widgets.length;++v)s.widgets[v].above&&(f+=Ba(s.widgets[v]));return f}function Xd(s,f,v,p,y){if(!y){var S=qg(f);v.top+=S,v.bottom+=S}if(p=="line")return v;p||(p="local");var A=qi(f);if(p=="local"?A+=Ua(s.display):A-=s.display.viewOffset,p=="page"||p=="window"){var P=s.display.lineSpace.getBoundingClientRect();A+=P.top+(p=="window"?0:mw());var N=P.left+(p=="window"?0:gw());v.left+=N,v.right+=N}return v.top+=A,v.bottom+=A,v}function yw(s,f,v){if(v=="div")return f;var p=f.left,y=f.top;if(v=="page")p-=gw(),y-=mw();else if(v=="local"||!v){var S=s.display.sizer.getBoundingClientRect();p+=S.left,y+=S.top}var A=s.display.lineSpace.getBoundingClientRect();return{left:p-A.left,top:y-A.top}}function Zd(s,f,v,p,y){return p||(p=he(s.doc,f.line)),Xd(s,p,Et(s,p,f.ch,y),v)}function fo(s,f,v,p,y,S){p=p||he(s.doc,f.line),y||(y=Bt(s,p));function A(Pt,Ft){var Qt=re(s,y,Pt,Ft?"right":"left",S);return Ft?Qt.left=Qt.right:Qt.right=Qt.left,Xd(s,p,Qt,v)}var P=F(p,s.doc.direction),N=f.ch,B=f.sticky;if(N>=p.text.length?(N=p.text.length,B="before"):N<=0&&(N=0,B="after"),!P)return A(B=="before"?N-1:N,B=="before");function at(Pt,Ft,Qt){var se=P[Ft],de=se.level==1;return A(Qt?Pt-1:Pt,de!=Qt)}var ft=J(P,N,B),Ot=oe,St=at(N,ft,B=="before");return Ot!=null&&(St.other=at(N,Ot,B!="before")),St}function _w(s,f){var v=0;f=Xt(s.doc,f),s.options.lineWrapping||(v=Pl(s.display)*f.ch);var p=he(s.doc,f.line),y=qi(p)+Ua(s.display);return{left:v,right:v,top:y,bottom:y+p.height}}function Kg(s,f,v,p,y){var S=qt(s,f,v);return S.xRel=y,p&&(S.outside=p),S}function Gg(s,f,v){var p=s.doc;if(v+=s.display.viewOffset,v<0)return Kg(p.first,0,null,-1,-1);var y=tn(p,v),S=p.first+p.size-1;if(y>S)return Kg(p.first+p.size-1,he(p,S).text.length,null,1,1);f<0&&(f=0);for(var A=he(p,y);;){var P=qk(s,A,y,f,v),N=Ue(A,P.ch+(P.xRel>0||P.outside>0?1:0));if(!N)return P;var B=N.find(1);if(B.line==y)return B;A=he(p,y=B.line)}}function bw(s,f,v,p){p-=qg(f);var y=f.text.length,S=jt(function(A){return re(s,v,A-1).bottom<=p},y,0);return y=jt(function(A){return re(s,v,A).top>p},S,y),{begin:S,end:y}}function ww(s,f,v,p){v||(v=Bt(s,f));var y=Xd(s,f,re(s,v,p),"line").top;return bw(s,f,v,y)}function Yg(s,f,v,p){return s.bottom<=v?!1:s.top>v?!0:(p?s.left:s.right)>f}function qk(s,f,v,p,y){y-=qi(f);var S=Bt(s,f),A=qg(f),P=0,N=f.text.length,B=!0,at=F(f,s.doc.direction);if(at){var ft=(s.options.lineWrapping?Gk:Kk)(s,f,v,S,at,p,y);B=ft.level!=1,P=B?ft.from:ft.to-1,N=B?ft.to:ft.from-1}var Ot=null,St=null,Pt=jt(function(we){var _e=re(s,S,we);return _e.top+=A,_e.bottom+=A,Yg(_e,p,y,!1)?(_e.top<=y&&_e.left<=p&&(Ot=we,St=_e),!0):!1},P,N),Ft,Qt,se=!1;if(St){var de=p-St.left<St.right-p,le=de==B;Pt=Ot+(le?0:1),Qt=le?"after":"before",Ft=de?St.left:St.right}else{!B&&(Pt==N||Pt==P)&&Pt++,Qt=Pt==0?"after":Pt==f.text.length?"before":re(s,S,Pt-(B?1:0)).bottom+A<=y==B?"after":"before";var pe=fo(s,qt(v,Pt,Qt),"line",f,S);Ft=pe.left,se=y<pe.top?-1:y>=pe.bottom?1:0}return Pt=st(f.text,Pt,1),Kg(v,Pt,Qt,se,p-Ft)}function Kk(s,f,v,p,y,S,A){var P=jt(function(ft){var Ot=y[ft],St=Ot.level!=1;return Yg(fo(s,qt(v,St?Ot.to:Ot.from,St?"before":"after"),"line",f,p),S,A,!0)},0,y.length-1),N=y[P];if(P>0){var B=N.level!=1,at=fo(s,qt(v,B?N.from:N.to,B?"after":"before"),"line",f,p);Yg(at,S,A,!0)&&at.top>A&&(N=y[P-1])}return N}function Gk(s,f,v,p,y,S,A){var P=bw(s,f,p,A),N=P.begin,B=P.end;/\s/.test(f.text.charAt(B-1))&&B--;for(var at=null,ft=null,Ot=0;Ot<y.length;Ot++){var St=y[Ot];if(!(St.from>=B||St.to<=N)){var Pt=St.level!=1,Ft=re(s,p,Pt?Math.min(B,St.to)-1:Math.max(N,St.from)).right,Qt=Ft<S?S-Ft+1e9:Ft-S;(!at||ft>Qt)&&(at=St,ft=Qt)}}return at||(at=y[y.length-1]),at.from<N&&(at={from:N,to:at.to,level:at.level}),at.to>B&&(at={from:at.from,to:B,level:at.level}),at}var Rs;function Dl(s){if(s.cachedTextHeight!=null)return s.cachedTextHeight;if(Rs==null){Rs=I("pre",null,"CodeMirror-line-like");for(var f=0;f<49;++f)Rs.appendChild(document.createTextNode("x")),Rs.appendChild(I("br"));Rs.appendChild(document.createTextNode("x"))}D(s.measure,Rs);var v=Rs.offsetHeight/50;return v>3&&(s.cachedTextHeight=v),H(s.measure),v||1}function Pl(s){if(s.cachedCharWidth!=null)return s.cachedCharWidth;var f=I("span","xxxxxxxxxx"),v=I("pre",[f],"CodeMirror-line-like");D(s.measure,v);var p=f.getBoundingClientRect(),y=(p.right-p.left)/10;return y>2&&(s.cachedCharWidth=y),y||10}function Xg(s){for(var f=s.display,v={},p={},y=f.gutters.clientLeft,S=f.gutters.firstChild,A=0;S;S=S.nextSibling,++A){var P=s.display.gutterSpecs[A].className;v[P]=S.offsetLeft+S.clientLeft+y,p[P]=S.clientWidth}return{fixedPos:Zg(f),gutterTotalWidth:f.gutters.offsetWidth,gutterLeft:v,gutterWidth:p,wrapperWidth:f.wrapper.clientWidth}}function Zg(s){return s.scroller.getBoundingClientRect().left-s.sizer.getBoundingClientRect().left}function Sw(s){var f=Dl(s.display),v=s.options.lineWrapping,p=v&&Math.max(5,s.display.scroller.clientWidth/Pl(s.display)-3);return function(y){if(jr(s.doc,y))return 0;var S=0;if(y.widgets)for(var A=0;A<y.widgets.length;A++)y.widgets[A].height&&(S+=y.widgets[A].height);return v?S+(Math.ceil(y.text.length/p)||1)*f:S+f}}function $g(s){var f=s.doc,v=Sw(s);f.iter(function(p){var y=v(p);y!=p.height&&Qn(p,y)})}function Ls(s,f,v,p){var y=s.display;if(!v&&ht(f).getAttribute("cm-not-content")=="true")return null;var S,A,P=y.lineSpace.getBoundingClientRect();try{S=f.clientX-P.left,A=f.clientY-P.top}catch{return null}var N=Gg(s,S,A),B;if(p&&N.xRel>0&&(B=he(s.doc,N.line).text).length==N.ch){var at=At(B,B.length,s.options.tabSize)-B.length;N=qt(N.line,Math.max(0,Math.round((S-Gd(s.display).left)/Pl(s.display))-at))}return N}function Ns(s,f){if(f>=s.display.viewTo||(f-=s.display.viewFrom,f<0))return null;for(var v=s.display.view,p=0;p<v.length;p++)if(f-=v[p].size,f<0)return p}function Vr(s,f,v,p){f==null&&(f=s.doc.first),v==null&&(v=s.doc.first+s.doc.size),p||(p=0);var y=s.display;if(p&&v<y.viewTo&&(y.updateLineNumbers==null||y.updateLineNumbers>f)&&(y.updateLineNumbers=f),s.curOp.viewChanged=!0,f>=y.viewTo)qn&&Wi(s.doc,f)<y.viewTo&&za(s);else if(v<=y.viewFrom)qn&&Nr(s.doc,v+p)>y.viewFrom?za(s):(y.viewFrom+=p,y.viewTo+=p);else if(f<=y.viewFrom&&v>=y.viewTo)za(s);else if(f<=y.viewFrom){var S=$d(s,v,v+p,1);S?(y.view=y.view.slice(S.index),y.viewFrom=S.lineN,y.viewTo+=p):za(s)}else if(v>=y.viewTo){var A=$d(s,f,f,-1);A?(y.view=y.view.slice(0,A.index),y.viewTo=A.lineN):za(s)}else{var P=$d(s,f,f,-1),N=$d(s,v,v+p,1);P&&N?(y.view=y.view.slice(0,P.index).concat(Al(s,P.lineN,N.lineN)).concat(y.view.slice(N.index)),y.viewTo+=p):za(s)}var B=y.externalMeasured;B&&(v<B.lineN?B.lineN+=p:f<B.lineN+B.size&&(y.externalMeasured=null))}function Ia(s,f,v){s.curOp.viewChanged=!0;var p=s.display,y=s.display.externalMeasured;if(y&&f>=y.lineN&&f<y.lineN+y.size&&(p.externalMeasured=null),!(f<p.viewFrom||f>=p.viewTo)){var S=p.view[Ns(s,f)];if(S.node!=null){var A=S.changes||(S.changes=[]);Tt(A,v)==-1&&A.push(v)}}}function za(s){s.display.viewFrom=s.display.viewTo=s.doc.first,s.display.view=[],s.display.viewOffset=0}function $d(s,f,v,p){var y=Ns(s,f),S,A=s.display.view;if(!qn||v==s.doc.first+s.doc.size)return{index:y,lineN:v};for(var P=s.display.viewFrom,N=0;N<y;N++)P+=A[N].size;if(P!=f){if(p>0){if(y==A.length-1)return null;S=P+A[y].size-f,y++}else S=P-f;f+=S,v+=S}for(;Wi(s.doc,v)!=v;){if(y==(p<0?0:A.length-1))return null;v+=p*A[y-(p<0?1:0)].size,y+=p}return{index:y,lineN:v}}function Yk(s,f,v){var p=s.display,y=p.view;y.length==0||f>=p.viewTo||v<=p.viewFrom?(p.view=Al(s,f,v),p.viewFrom=f):(p.viewFrom>f?p.view=Al(s,f,p.viewFrom).concat(p.view):p.viewFrom<f&&(p.view=p.view.slice(Ns(s,f))),p.viewFrom=f,p.viewTo<v?p.view=p.view.concat(Al(s,p.viewTo,v)):p.viewTo>v&&(p.view=p.view.slice(0,Ns(s,v)))),p.viewTo=v}function Cw(s){for(var f=s.display.view,v=0,p=0;p<f.length;p++){var y=f[p];!y.hidden&&(!y.node||y.changes)&&++v}return v}function Tc(s){s.display.input.showSelection(s.display.input.prepareSelection())}function xw(s,f){f===void 0&&(f=!0);for(var v=s.doc,p={},y=p.cursors=document.createDocumentFragment(),S=p.selection=document.createDocumentFragment(),A=0;A<v.sel.ranges.length;A++)if(!(!f&&A==v.sel.primIndex)){var P=v.sel.ranges[A];if(!(P.from().line>=s.display.viewTo||P.to().line<s.display.viewFrom)){var N=P.empty();(N||s.options.showCursorWhenSelecting)&&Ow(s,P.head,y),N||Xk(s,P,S)}}return p}function Ow(s,f,v){var p=fo(s,f,"div",null,null,!s.options.singleCursorHeightPerLine),y=v.appendChild(I("div"," ","CodeMirror-cursor"));if(y.style.left=p.left+"px",y.style.top=p.top+"px",y.style.height=Math.max(0,p.bottom-p.top)*s.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(s.getWrapperElement().className)){var S=Zd(s,f,"div",null,null);S.right-S.left>0&&(y.style.width=S.right-S.left+"px")}if(p.other){var A=v.appendChild(I("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));A.style.display="",A.style.left=p.other.left+"px",A.style.top=p.other.top+"px",A.style.height=(p.other.bottom-p.other.top)*.85+"px"}}function Jd(s,f){return s.top-f.top||s.left-f.left}function Xk(s,f,v){var p=s.display,y=s.doc,S=document.createDocumentFragment(),A=Gd(s.display),P=A.left,N=Math.max(p.sizerWidth,Jo(s)-p.sizer.offsetLeft)-A.right,B=y.direction=="ltr";function at(le,pe,we,_e){pe<0&&(pe=0),pe=Math.round(pe),_e=Math.round(_e),S.appendChild(I("div",null,"CodeMirror-selected","position: absolute; left: "+le+`px;
                             top: `+pe+"px; width: "+(we??N-le)+`px;
                             height: `+(_e-pe)+"px"))}function ft(le,pe,we){var _e=he(y,le),Pe=_e.text.length,rn,rr;function Sn(zn,Ir){return Zd(s,qt(le,zn),"div",_e,Ir)}function ii(zn,Ir,cr){var Yn=ww(s,_e,null,zn),Hn=Ir=="ltr"==(cr=="after")?"left":"right",Tn=cr=="after"?Yn.begin:Yn.end-(/\s/.test(_e.text.charAt(Yn.end-1))?2:1);return Sn(Tn,Hn)[Hn]}var Ur=F(_e,y.direction);return ue(Ur,pe||0,we??Pe,function(zn,Ir,cr,Yn){var Hn=cr=="ltr",Tn=Sn(zn,Hn?"left":"right"),zr=Sn(Ir-1,Hn?"right":"left"),Wl=pe==null&&zn==0,Ga=we==null&&Ir==Pe,_r=Yn==0,Eo=!Ur||Yn==Ur.length-1;if(zr.top-Tn.top<=3){var ir=(B?Wl:Ga)&&_r,Cm=(B?Ga:Wl)&&Eo,ta=ir?P:(Hn?Tn:zr).left,Is=Cm?N:(Hn?zr:Tn).right;at(ta,Tn.top,Is-ta,Tn.bottom)}else{var zs,Ar,ql,xm;Hn?(zs=B&&Wl&&_r?P:Tn.left,Ar=B?N:ii(zn,cr,"before"),ql=B?P:ii(Ir,cr,"after"),xm=B&&Ga&&Eo?N:zr.right):(zs=B?ii(zn,cr,"before"):P,Ar=!B&&Wl&&_r?N:Tn.right,ql=!B&&Ga&&Eo?P:zr.left,xm=B?ii(Ir,cr,"after"):N),at(zs,Tn.top,Ar-zs,Tn.bottom),Tn.bottom<zr.top&&at(P,Tn.bottom,null,zr.top),at(ql,zr.top,xm-ql,zr.bottom)}(!rn||Jd(Tn,rn)<0)&&(rn=Tn),Jd(zr,rn)<0&&(rn=zr),(!rr||Jd(Tn,rr)<0)&&(rr=Tn),Jd(zr,rr)<0&&(rr=zr)}),{start:rn,end:rr}}var Ot=f.from(),St=f.to();if(Ot.line==St.line)ft(Ot.line,Ot.ch,St.ch);else{var Pt=he(y,Ot.line),Ft=he(y,St.line),Qt=mn(Pt)==mn(Ft),se=ft(Ot.line,Ot.ch,Qt?Pt.text.length+1:null).end,de=ft(St.line,Qt?0:null,St.ch).start;Qt&&(se.top<de.top-2?(at(se.right,se.top,null,se.bottom),at(P,de.top,de.left,de.bottom)):at(se.right,se.top,de.left-se.right,se.bottom)),se.bottom<de.top&&at(P,se.bottom,null,de.top)}v.appendChild(S)}function Jg(s){if(s.state.focused){var f=s.display;clearInterval(f.blinker);var v=!0;f.cursorDiv.style.visibility="",s.options.cursorBlinkRate>0?f.blinker=setInterval(function(){s.hasFocus()||Ml(s),f.cursorDiv.style.visibility=(v=!v)?"":"hidden"},s.options.cursorBlinkRate):s.options.cursorBlinkRate<0&&(f.cursorDiv.style.visibility="hidden")}}function Ew(s){s.hasFocus()||(s.display.input.focus(),s.state.focused||tm(s))}function Qg(s){s.state.delayingBlurEvent=!0,setTimeout(function(){s.state.delayingBlurEvent&&(s.state.delayingBlurEvent=!1,s.state.focused&&Ml(s))},100)}function tm(s,f){s.state.delayingBlurEvent&&!s.state.draggingText&&(s.state.delayingBlurEvent=!1),s.options.readOnly!="nocursor"&&(s.state.focused||(ee(s,"focus",s,f),s.state.focused=!0,dt(s.display.wrapper,"CodeMirror-focused"),!s.curOp&&s.display.selForContextMenu!=s.doc.sel&&(s.display.input.reset(),c&&setTimeout(function(){return s.display.input.reset(!0)},20)),s.display.input.receivedFocus()),Jg(s))}function Ml(s,f){s.state.delayingBlurEvent||(s.state.focused&&(ee(s,"blur",s,f),s.state.focused=!1,Q(s.display.wrapper,"CodeMirror-focused")),clearInterval(s.display.blinker),setTimeout(function(){s.state.focused||(s.display.shift=!1)},150))}function Qd(s){for(var f=s.display,v=f.lineDiv.offsetTop,p=Math.max(0,f.scroller.getBoundingClientRect().top),y=f.lineDiv.getBoundingClientRect().top,S=0,A=0;A<f.view.length;A++){var P=f.view[A],N=s.options.lineWrapping,B=void 0,at=0;if(!P.hidden){if(y+=P.line.height,l&&u<8){var ft=P.node.offsetTop+P.node.offsetHeight;B=ft-v,v=ft}else{var Ot=P.node.getBoundingClientRect();B=Ot.bottom-Ot.top,!N&&P.text.firstChild&&(at=P.text.firstChild.getBoundingClientRect().right-Ot.left-1)}var St=P.line.height-B;if((St>.005||St<-.005)&&(y<p&&(S-=St),Qn(P.line,B),Tw(P.line),P.rest))for(var Pt=0;Pt<P.rest.length;Pt++)Tw(P.rest[Pt]);if(at>s.display.sizerWidth){var Ft=Math.ceil(at/Pl(s.display));Ft>s.display.maxLineLength&&(s.display.maxLineLength=Ft,s.display.maxLine=P.line,s.display.maxLineChanged=!0)}}}Math.abs(S)>2&&(f.scroller.scrollTop+=S)}function Tw(s){if(s.widgets)for(var f=0;f<s.widgets.length;++f){var v=s.widgets[f],p=v.node.parentNode;p&&(v.height=p.offsetHeight)}}function th(s,f,v){var p=v&&v.top!=null?Math.max(0,v.top):s.scroller.scrollTop;p=Math.floor(p-Ua(s));var y=v&&v.bottom!=null?v.bottom:p+s.wrapper.clientHeight,S=tn(f,p),A=tn(f,y);if(v&&v.ensure){var P=v.ensure.from.line,N=v.ensure.to.line;P<S?(S=P,A=tn(f,qi(he(f,P))+s.wrapper.clientHeight)):Math.min(N,f.lastLine())>=A&&(S=tn(f,qi(he(f,N))-s.wrapper.clientHeight),A=N)}return{from:S,to:Math.max(A,S+1)}}function Zk(s,f){if(!ne(s,"scrollCursorIntoView")){var v=s.display,p=v.sizer.getBoundingClientRect(),y=null;if(f.top+p.top<0?y=!0:f.bottom+p.top>(window.innerHeight||document.documentElement.clientHeight)&&(y=!1),y!=null&&!b){var S=I("div","​",null,`position: absolute;
                         top: `+(f.top-v.viewOffset-Ua(s.display))+`px;
                         height: `+(f.bottom-f.top+ni(s)+v.barHeight)+`px;
                         left: `+f.left+"px; width: "+Math.max(2,f.right-f.left)+"px;");s.display.lineSpace.appendChild(S),S.scrollIntoView(y),s.display.lineSpace.removeChild(S)}}}function $k(s,f,v,p){p==null&&(p=0);var y;!s.options.lineWrapping&&f==v&&(v=f.sticky=="before"?qt(f.line,f.ch+1,"before"):f,f=f.ch?qt(f.line,f.sticky=="before"?f.ch-1:f.ch,"after"):f);for(var S=0;S<5;S++){var A=!1,P=fo(s,f),N=!v||v==f?P:fo(s,v);y={left:Math.min(P.left,N.left),top:Math.min(P.top,N.top)-p,right:Math.max(P.left,N.left),bottom:Math.max(P.bottom,N.bottom)+p};var B=em(s,y),at=s.doc.scrollTop,ft=s.doc.scrollLeft;if(B.scrollTop!=null&&(kc(s,B.scrollTop),Math.abs(s.doc.scrollTop-at)>1&&(A=!0)),B.scrollLeft!=null&&(js(s,B.scrollLeft),Math.abs(s.doc.scrollLeft-ft)>1&&(A=!0)),!A)break}return y}function Jk(s,f){var v=em(s,f);v.scrollTop!=null&&kc(s,v.scrollTop),v.scrollLeft!=null&&js(s,v.scrollLeft)}function em(s,f){var v=s.display,p=Dl(s.display);f.top<0&&(f.top=0);var y=s.curOp&&s.curOp.scrollTop!=null?s.curOp.scrollTop:v.scroller.scrollTop,S=j(s),A={};f.bottom-f.top>S&&(f.bottom=f.top+S);var P=s.doc.height+Ms(v),N=f.top<p,B=f.bottom>P-p;if(f.top<y)A.scrollTop=N?0:f.top;else if(f.bottom>y+S){var at=Math.min(f.top,(B?P:f.bottom)-S);at!=y&&(A.scrollTop=at)}var ft=s.options.fixedGutter?0:v.gutters.offsetWidth,Ot=s.curOp&&s.curOp.scrollLeft!=null?s.curOp.scrollLeft:v.scroller.scrollLeft-ft,St=Jo(s)-v.gutters.offsetWidth,Pt=f.right-f.left>St;return Pt&&(f.right=f.left+St),f.left<10?A.scrollLeft=0:f.left<Ot?A.scrollLeft=Math.max(0,f.left+ft-(Pt?0:10)):f.right>St+Ot-3&&(A.scrollLeft=f.right+(Pt?0:10)-St),A}function nm(s,f){f!=null&&(eh(s),s.curOp.scrollTop=(s.curOp.scrollTop==null?s.doc.scrollTop:s.curOp.scrollTop)+f)}function Rl(s){eh(s);var f=s.getCursor();s.curOp.scrollToPos={from:f,to:f,margin:s.options.cursorScrollMargin}}function Ac(s,f,v){(f!=null||v!=null)&&eh(s),f!=null&&(s.curOp.scrollLeft=f),v!=null&&(s.curOp.scrollTop=v)}function Qk(s,f){eh(s),s.curOp.scrollToPos=f}function eh(s){var f=s.curOp.scrollToPos;if(f){s.curOp.scrollToPos=null;var v=_w(s,f.from),p=_w(s,f.to);Aw(s,v,p,f.margin)}}function Aw(s,f,v,p){var y=em(s,{left:Math.min(f.left,v.left),top:Math.min(f.top,v.top)-p,right:Math.max(f.right,v.right),bottom:Math.max(f.bottom,v.bottom)+p});Ac(s,y.scrollLeft,y.scrollTop)}function kc(s,f){Math.abs(s.doc.scrollTop-f)<2||(n||im(s,{top:f}),kw(s,f,!0),n&&im(s),Mc(s,100))}function kw(s,f,v){f=Math.max(0,Math.min(s.display.scroller.scrollHeight-s.display.scroller.clientHeight,f)),!(s.display.scroller.scrollTop==f&&!v)&&(s.doc.scrollTop=f,s.display.scrollbars.setScrollTop(f),s.display.scroller.scrollTop!=f&&(s.display.scroller.scrollTop=f))}function js(s,f,v,p){f=Math.max(0,Math.min(f,s.display.scroller.scrollWidth-s.display.scroller.clientWidth)),!((v?f==s.doc.scrollLeft:Math.abs(s.doc.scrollLeft-f)<2)&&!p)&&(s.doc.scrollLeft=f,Lw(s),s.display.scroller.scrollLeft!=f&&(s.display.scroller.scrollLeft=f),s.display.scrollbars.setScrollLeft(f))}function Dc(s){var f=s.display,v=f.gutters.offsetWidth,p=Math.round(s.doc.height+Ms(s.display));return{clientHeight:f.scroller.clientHeight,viewHeight:f.wrapper.clientHeight,scrollWidth:f.scroller.scrollWidth,clientWidth:f.scroller.clientWidth,viewWidth:f.wrapper.clientWidth,barLeft:s.options.fixedGutter?v:0,docHeight:p,scrollHeight:p+ni(s)+f.barHeight,nativeBarWidth:f.nativeBarWidth,gutterWidth:v}}var Vs=function(s,f,v){this.cm=v;var p=this.vert=I("div",[I("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),y=this.horiz=I("div",[I("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");p.tabIndex=y.tabIndex=-1,s(p),s(y),bt(p,"scroll",function(){p.clientHeight&&f(p.scrollTop,"vertical")}),bt(y,"scroll",function(){y.clientWidth&&f(y.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,l&&u<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Vs.prototype.update=function(s){var f=s.scrollWidth>s.clientWidth+1,v=s.scrollHeight>s.clientHeight+1,p=s.nativeBarWidth;if(v){this.vert.style.display="block",this.vert.style.bottom=f?p+"px":"0";var y=s.viewHeight-(f?p:0);this.vert.firstChild.style.height=Math.max(0,s.scrollHeight-s.clientHeight+y)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(f){this.horiz.style.display="block",this.horiz.style.right=v?p+"px":"0",this.horiz.style.left=s.barLeft+"px";var S=s.viewWidth-s.barLeft-(v?p:0);this.horiz.firstChild.style.width=Math.max(0,s.scrollWidth-s.clientWidth+S)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&s.clientHeight>0&&(p==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:v?p:0,bottom:f?p:0}},Vs.prototype.setScrollLeft=function(s){this.horiz.scrollLeft!=s&&(this.horiz.scrollLeft=s),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Vs.prototype.setScrollTop=function(s){this.vert.scrollTop!=s&&(this.vert.scrollTop=s),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Vs.prototype.zeroWidthHack=function(){var s=O&&!_?"12px":"18px";this.horiz.style.height=this.vert.style.width=s,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new mt,this.disableVert=new mt},Vs.prototype.enableZeroWidthBar=function(s,f,v){s.style.pointerEvents="auto";function p(){var y=s.getBoundingClientRect(),S=v=="vert"?document.elementFromPoint(y.right-1,(y.top+y.bottom)/2):document.elementFromPoint((y.right+y.left)/2,y.bottom-1);S!=s?s.style.pointerEvents="none":f.set(1e3,p)}f.set(1e3,p)},Vs.prototype.clear=function(){var s=this.horiz.parentNode;s.removeChild(this.horiz),s.removeChild(this.vert)};var Pc=function(){};Pc.prototype.update=function(){return{bottom:0,right:0}},Pc.prototype.setScrollLeft=function(){},Pc.prototype.setScrollTop=function(){},Pc.prototype.clear=function(){};function Ll(s,f){f||(f=Dc(s));var v=s.display.barWidth,p=s.display.barHeight;Dw(s,f);for(var y=0;y<4&&v!=s.display.barWidth||p!=s.display.barHeight;y++)v!=s.display.barWidth&&s.options.lineWrapping&&Qd(s),Dw(s,Dc(s)),v=s.display.barWidth,p=s.display.barHeight}function Dw(s,f){var v=s.display,p=v.scrollbars.update(f);v.sizer.style.paddingRight=(v.barWidth=p.right)+"px",v.sizer.style.paddingBottom=(v.barHeight=p.bottom)+"px",v.heightForcer.style.borderBottom=p.bottom+"px solid transparent",p.right&&p.bottom?(v.scrollbarFiller.style.display="block",v.scrollbarFiller.style.height=p.bottom+"px",v.scrollbarFiller.style.width=p.right+"px"):v.scrollbarFiller.style.display="",p.bottom&&s.options.coverGutterNextToScrollbar&&s.options.fixedGutter?(v.gutterFiller.style.display="block",v.gutterFiller.style.height=p.bottom+"px",v.gutterFiller.style.width=f.gutterWidth+"px"):v.gutterFiller.style.display=""}var Pw={native:Vs,null:Pc};function Mw(s){s.display.scrollbars&&(s.display.scrollbars.clear(),s.display.scrollbars.addClass&&Q(s.display.wrapper,s.display.scrollbars.addClass)),s.display.scrollbars=new Pw[s.options.scrollbarStyle](function(f){s.display.wrapper.insertBefore(f,s.display.scrollbarFiller),bt(f,"mousedown",function(){s.state.focused&&setTimeout(function(){return s.display.input.focus()},0)}),f.setAttribute("cm-not-content","true")},function(f,v){v=="horizontal"?js(s,f):kc(s,f)},s),s.display.scrollbars.addClass&&dt(s.display.wrapper,s.display.scrollbars.addClass)}var tD=0;function Bs(s){s.curOp={cm:s,viewChanged:!1,startHeight:s.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++tD,markArrays:null},Hd(s.curOp)}function Us(s){var f=s.curOp;f&&wc(f,function(v){for(var p=0;p<v.ops.length;p++)v.ops[p].cm.curOp=null;eD(v)})}function eD(s){for(var f=s.ops,v=0;v<f.length;v++)nD(f[v]);for(var p=0;p<f.length;p++)rD(f[p]);for(var y=0;y<f.length;y++)iD(f[y]);for(var S=0;S<f.length;S++)oD(f[S]);for(var A=0;A<f.length;A++)aD(f[A])}function nD(s){var f=s.cm,v=f.display;lD(f),s.updateMaxLine&&Ma(f),s.mustUpdate=s.viewChanged||s.forceUpdate||s.scrollTop!=null||s.scrollToPos&&(s.scrollToPos.from.line<v.viewFrom||s.scrollToPos.to.line>=v.viewTo)||v.maxLineChanged&&f.options.lineWrapping,s.update=s.mustUpdate&&new nh(f,s.mustUpdate&&{top:s.scrollTop,ensure:s.scrollToPos},s.forceUpdate)}function rD(s){s.updatedDisplay=s.mustUpdate&&rm(s.cm,s.update)}function iD(s){var f=s.cm,v=f.display;s.updatedDisplay&&Qd(f),s.barMeasure=Dc(f),v.maxLineChanged&&!f.options.lineWrapping&&(s.adjustWidthTo=Et(f,v.maxLine,v.maxLine.text.length).left+3,f.display.sizerWidth=s.adjustWidthTo,s.barMeasure.scrollWidth=Math.max(v.scroller.clientWidth,v.sizer.offsetLeft+s.adjustWidthTo+ni(f)+f.display.barWidth),s.maxScrollLeft=Math.max(0,v.sizer.offsetLeft+s.adjustWidthTo-Jo(f))),(s.updatedDisplay||s.selectionChanged)&&(s.preparedSelection=v.input.prepareSelection())}function oD(s){var f=s.cm;s.adjustWidthTo!=null&&(f.display.sizer.style.minWidth=s.adjustWidthTo+"px",s.maxScrollLeft<f.doc.scrollLeft&&js(f,Math.min(f.display.scroller.scrollLeft,s.maxScrollLeft),!0),f.display.maxLineChanged=!1);var v=s.focus&&s.focus==ot();s.preparedSelection&&f.display.input.showSelection(s.preparedSelection,v),(s.updatedDisplay||s.startHeight!=f.doc.height)&&Ll(f,s.barMeasure),s.updatedDisplay&&am(f,s.barMeasure),s.selectionChanged&&Jg(f),f.state.focused&&s.updateInput&&f.display.input.reset(s.typing),v&&Ew(s.cm)}function aD(s){var f=s.cm,v=f.display,p=f.doc;if(s.updatedDisplay&&Rw(f,s.update),v.wheelStartX!=null&&(s.scrollTop!=null||s.scrollLeft!=null||s.scrollToPos)&&(v.wheelStartX=v.wheelStartY=null),s.scrollTop!=null&&kw(f,s.scrollTop,s.forceScroll),s.scrollLeft!=null&&js(f,s.scrollLeft,!0,!0),s.scrollToPos){var y=$k(f,Xt(p,s.scrollToPos.from),Xt(p,s.scrollToPos.to),s.scrollToPos.margin);Zk(f,y)}var S=s.maybeHiddenMarkers,A=s.maybeUnhiddenMarkers;if(S)for(var P=0;P<S.length;++P)S[P].lines.length||ee(S[P],"hide");if(A)for(var N=0;N<A.length;++N)A[N].lines.length&&ee(A[N],"unhide");v.wrapper.offsetHeight&&(p.scrollTop=f.display.scroller.scrollTop),s.changeObjs&&ee(f,"changes",f,s.changeObjs),s.update&&s.update.finish()}function ri(s,f){if(s.curOp)return f();Bs(s);try{return f()}finally{Us(s)}}function er(s,f){return function(){if(s.curOp)return f.apply(s,arguments);Bs(s);try{return f.apply(s,arguments)}finally{Us(s)}}}function Tr(s){return function(){if(this.curOp)return s.apply(this,arguments);Bs(this);try{return s.apply(this,arguments)}finally{Us(this)}}}function nr(s){return function(){var f=this.cm;if(!f||f.curOp)return s.apply(this,arguments);Bs(f);try{return s.apply(this,arguments)}finally{Us(f)}}}function Mc(s,f){s.doc.highlightFrontier<s.display.viewTo&&s.state.highlight.set(f,_t(sD,s))}function sD(s){var f=s.doc;if(!(f.highlightFrontier>=s.display.viewTo)){var v=+new Date+s.options.workTime,p=Fo(s,f.highlightFrontier),y=[];f.iter(p.line,Math.min(f.first+f.size,s.display.viewTo+500),function(S){if(p.line>=s.display.viewFrom){var A=S.styles,P=S.text.length>s.options.maxHighlightLength?Vn(f.mode,p.state):null,N=ti(s,S,p,!0);P&&(p.state=P),S.styles=N.styles;var B=S.styleClasses,at=N.classes;at?S.styleClasses=at:B&&(S.styleClasses=null);for(var ft=!A||A.length!=S.styles.length||B!=at&&(!B||!at||B.bgClass!=at.bgClass||B.textClass!=at.textClass),Ot=0;!ft&&Ot<A.length;++Ot)ft=A[Ot]!=S.styles[Ot];ft&&y.push(p.line),S.stateAfter=p.save(),p.nextLine()}else S.text.length<=s.options.maxHighlightLength&&Wo(s,S.text,p),S.stateAfter=p.line%5==0?p.save():null,p.nextLine();if(+new Date>v)return Mc(s,s.options.workDelay),!0}),f.highlightFrontier=p.line,f.modeFrontier=Math.max(f.modeFrontier,p.line),y.length&&ri(s,function(){for(var S=0;S<y.length;S++)Ia(s,y[S],"text")})}}var nh=function(s,f,v){var p=s.display;this.viewport=f,this.visible=th(p,s.doc,f),this.editorIsHidden=!p.wrapper.offsetWidth,this.wrapperHeight=p.wrapper.clientHeight,this.wrapperWidth=p.wrapper.clientWidth,this.oldDisplayWidth=Jo(s),this.force=v,this.dims=Xg(s),this.events=[]};nh.prototype.signal=function(s,f){Oe(s,f)&&this.events.push(arguments)},nh.prototype.finish=function(){for(var s=0;s<this.events.length;s++)ee.apply(null,this.events[s])};function lD(s){var f=s.display;!f.scrollbarsClipped&&f.scroller.offsetWidth&&(f.nativeBarWidth=f.scroller.offsetWidth-f.scroller.clientWidth,f.heightForcer.style.height=ni(s)+"px",f.sizer.style.marginBottom=-f.nativeBarWidth+"px",f.sizer.style.borderRightWidth=ni(s)+"px",f.scrollbarsClipped=!0)}function uD(s){if(s.hasFocus())return null;var f=ot();if(!f||!M(s.display.lineDiv,f))return null;var v={activeElt:f};if(window.getSelection){var p=window.getSelection();p.anchorNode&&p.extend&&M(s.display.lineDiv,p.anchorNode)&&(v.anchorNode=p.anchorNode,v.anchorOffset=p.anchorOffset,v.focusNode=p.focusNode,v.focusOffset=p.focusOffset)}return v}function cD(s){if(!(!s||!s.activeElt||s.activeElt==ot())&&(s.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(s.activeElt.nodeName)&&s.anchorNode&&M(document.body,s.anchorNode)&&M(document.body,s.focusNode))){var f=window.getSelection(),v=document.createRange();v.setEnd(s.anchorNode,s.anchorOffset),v.collapse(!1),f.removeAllRanges(),f.addRange(v),f.extend(s.focusNode,s.focusOffset)}}function rm(s,f){var v=s.display,p=s.doc;if(f.editorIsHidden)return za(s),!1;if(!f.force&&f.visible.from>=v.viewFrom&&f.visible.to<=v.viewTo&&(v.updateLineNumbers==null||v.updateLineNumbers>=v.viewTo)&&v.renderedView==v.view&&Cw(s)==0)return!1;Nw(s)&&(za(s),f.dims=Xg(s));var y=p.first+p.size,S=Math.max(f.visible.from-s.options.viewportMargin,p.first),A=Math.min(y,f.visible.to+s.options.viewportMargin);v.viewFrom<S&&S-v.viewFrom<20&&(S=Math.max(p.first,v.viewFrom)),v.viewTo>A&&v.viewTo-A<20&&(A=Math.min(y,v.viewTo)),qn&&(S=Wi(s.doc,S),A=Nr(s.doc,A));var P=S!=v.viewFrom||A!=v.viewTo||v.lastWrapHeight!=f.wrapperHeight||v.lastWrapWidth!=f.wrapperWidth;Yk(s,S,A),v.viewOffset=qi(he(s.doc,v.viewFrom)),s.display.mover.style.top=v.viewOffset+"px";var N=Cw(s);if(!P&&N==0&&!f.force&&v.renderedView==v.view&&(v.updateLineNumbers==null||v.updateLineNumbers>=v.viewTo))return!1;var B=uD(s);return N>4&&(v.lineDiv.style.display="none"),fD(s,v.updateLineNumbers,f.dims),N>4&&(v.lineDiv.style.display=""),v.renderedView=v.view,cD(B),H(v.cursorDiv),H(v.selectionDiv),v.gutters.style.height=v.sizer.style.minHeight=0,P&&(v.lastWrapHeight=f.wrapperHeight,v.lastWrapWidth=f.wrapperWidth,Mc(s,400)),v.updateLineNumbers=null,!0}function Rw(s,f){for(var v=f.viewport,p=!0;;p=!1){if(!p||!s.options.lineWrapping||f.oldDisplayWidth==Jo(s)){if(v&&v.top!=null&&(v={top:Math.min(s.doc.height+Ms(s.display)-j(s),v.top)}),f.visible=th(s.display,s.doc,v),f.visible.from>=s.display.viewFrom&&f.visible.to<=s.display.viewTo)break}else p&&(f.visible=th(s.display,s.doc,v));if(!rm(s,f))break;Qd(s);var y=Dc(s);Tc(s),Ll(s,y),am(s,y),f.force=!1}f.signal(s,"update",s),(s.display.viewFrom!=s.display.reportedViewFrom||s.display.viewTo!=s.display.reportedViewTo)&&(f.signal(s,"viewportChange",s,s.display.viewFrom,s.display.viewTo),s.display.reportedViewFrom=s.display.viewFrom,s.display.reportedViewTo=s.display.viewTo)}function im(s,f){var v=new nh(s,f);if(rm(s,v)){Qd(s),Rw(s,v);var p=Dc(s);Tc(s),Ll(s,p),am(s,p),v.finish()}}function fD(s,f,v){var p=s.display,y=s.options.lineNumbers,S=p.lineDiv,A=S.firstChild;function P(Pt){var Ft=Pt.nextSibling;return c&&O&&s.display.currentWheelTarget==Pt?Pt.style.display="none":Pt.parentNode.removeChild(Pt),Ft}for(var N=p.view,B=p.viewFrom,at=0;at<N.length;at++){var ft=N[at];if(!ft.hidden)if(!ft.node||ft.node.parentNode!=S){var Ot=qd(s,ft,B,v);S.insertBefore(Ot,A)}else{for(;A!=ft.node;)A=P(A);var St=y&&f!=null&&f<=B&&ft.lineNumber;ft.changes&&(Tt(ft.changes,"gutter")>-1&&(St=!1),Oo(s,ft,B,v)),St&&(H(ft.lineNumber),ft.lineNumber.appendChild(document.createTextNode(wi(s.options,B)))),A=ft.node.nextSibling}B+=ft.size}for(;A;)A=P(A)}function om(s){var f=s.gutters.offsetWidth;s.sizer.style.marginLeft=f+"px",En(s,"gutterChanged",s)}function am(s,f){s.display.sizer.style.minHeight=f.docHeight+"px",s.display.heightForcer.style.top=f.docHeight+"px",s.display.gutters.style.height=f.docHeight+s.display.barHeight+ni(s)+"px"}function Lw(s){var f=s.display,v=f.view;if(!(!f.alignWidgets&&(!f.gutters.firstChild||!s.options.fixedGutter))){for(var p=Zg(f)-f.scroller.scrollLeft+s.doc.scrollLeft,y=f.gutters.offsetWidth,S=p+"px",A=0;A<v.length;A++)if(!v[A].hidden){s.options.fixedGutter&&(v[A].gutter&&(v[A].gutter.style.left=S),v[A].gutterBackground&&(v[A].gutterBackground.style.left=S));var P=v[A].alignable;if(P)for(var N=0;N<P.length;N++)P[N].style.left=S}s.options.fixedGutter&&(f.gutters.style.left=p+y+"px")}}function Nw(s){if(!s.options.lineNumbers)return!1;var f=s.doc,v=wi(s.options,f.first+f.size-1),p=s.display;if(v.length!=p.lineNumChars){var y=p.measure.appendChild(I("div",[I("div",v)],"CodeMirror-linenumber CodeMirror-gutter-elt")),S=y.firstChild.offsetWidth,A=y.offsetWidth-S;return p.lineGutter.style.width="",p.lineNumInnerWidth=Math.max(S,p.lineGutter.offsetWidth-A)+1,p.lineNumWidth=p.lineNumInnerWidth+A,p.lineNumChars=p.lineNumInnerWidth?v.length:-1,p.lineGutter.style.width=p.lineNumWidth+"px",om(s.display),!0}return!1}function sm(s,f){for(var v=[],p=!1,y=0;y<s.length;y++){var S=s[y],A=null;if(typeof S!="string"&&(A=S.style,S=S.className),S=="CodeMirror-linenumbers")if(f)p=!0;else continue;v.push({className:S,style:A})}return f&&!p&&v.push({className:"CodeMirror-linenumbers",style:null}),v}function jw(s){var f=s.gutters,v=s.gutterSpecs;H(f),s.lineGutter=null;for(var p=0;p<v.length;++p){var y=v[p],S=y.className,A=y.style,P=f.appendChild(I("div",null,"CodeMirror-gutter "+S));A&&(P.style.cssText=A),S=="CodeMirror-linenumbers"&&(s.lineGutter=P,P.style.width=(s.lineNumWidth||1)+"px")}f.style.display=v.length?"":"none",om(s)}function Rc(s){jw(s.display),Vr(s),Lw(s)}function dD(s,f,v,p){var y=this;this.input=v,y.scrollbarFiller=I("div",null,"CodeMirror-scrollbar-filler"),y.scrollbarFiller.setAttribute("cm-not-content","true"),y.gutterFiller=I("div",null,"CodeMirror-gutter-filler"),y.gutterFiller.setAttribute("cm-not-content","true"),y.lineDiv=T("div",null,"CodeMirror-code"),y.selectionDiv=I("div",null,null,"position: relative; z-index: 1"),y.cursorDiv=I("div",null,"CodeMirror-cursors"),y.measure=I("div",null,"CodeMirror-measure"),y.lineMeasure=I("div",null,"CodeMirror-measure"),y.lineSpace=T("div",[y.measure,y.lineMeasure,y.selectionDiv,y.cursorDiv,y.lineDiv],null,"position: relative; outline: none");var S=T("div",[y.lineSpace],"CodeMirror-lines");y.mover=I("div",[S],null,"position: relative"),y.sizer=I("div",[y.mover],"CodeMirror-sizer"),y.sizerWidth=null,y.heightForcer=I("div",null,null,"position: absolute; height: "+$t+"px; width: 1px;"),y.gutters=I("div",null,"CodeMirror-gutters"),y.lineGutter=null,y.scroller=I("div",[y.sizer,y.heightForcer,y.gutters],"CodeMirror-scroll"),y.scroller.setAttribute("tabIndex","-1"),y.wrapper=I("div",[y.scrollbarFiller,y.gutterFiller,y.scroller],"CodeMirror"),y.wrapper.setAttribute("translate","no"),l&&u<8&&(y.gutters.style.zIndex=-1,y.scroller.style.paddingRight=0),!c&&!(n&&x)&&(y.scroller.draggable=!0),s&&(s.appendChild?s.appendChild(y.wrapper):s(y.wrapper)),y.viewFrom=y.viewTo=f.first,y.reportedViewFrom=y.reportedViewTo=f.first,y.view=[],y.renderedView=null,y.externalMeasured=null,y.viewOffset=0,y.lastWrapHeight=y.lastWrapWidth=0,y.updateLineNumbers=null,y.nativeBarWidth=y.barHeight=y.barWidth=0,y.scrollbarsClipped=!1,y.lineNumWidth=y.lineNumInnerWidth=y.lineNumChars=null,y.alignWidgets=!1,y.cachedCharWidth=y.cachedTextHeight=y.cachedPaddingH=null,y.maxLine=null,y.maxLineLength=0,y.maxLineChanged=!1,y.wheelDX=y.wheelDY=y.wheelStartX=y.wheelStartY=null,y.shift=!1,y.selForContextMenu=null,y.activeTouch=null,y.gutterSpecs=sm(p.gutters,p.lineNumbers),jw(y),v.init(y)}var rh=0,Ti=null;l?Ti=-.53:n?Ti=15:h?Ti=-.7:m&&(Ti=-1/3);function Vw(s){var f=s.wheelDeltaX,v=s.wheelDeltaY;return f==null&&s.detail&&s.axis==s.HORIZONTAL_AXIS&&(f=s.detail),v==null&&s.detail&&s.axis==s.VERTICAL_AXIS?v=s.detail:v==null&&(v=s.wheelDelta),{x:f,y:v}}function hD(s){var f=Vw(s);return f.x*=Ti,f.y*=Ti,f}function Bw(s,f){var v=Vw(f),p=v.x,y=v.y,S=s.display,A=S.scroller,P=A.scrollWidth>A.clientWidth,N=A.scrollHeight>A.clientHeight;if(p&&P||y&&N){if(y&&O&&c){t:for(var B=f.target,at=S.view;B!=A;B=B.parentNode)for(var ft=0;ft<at.length;ft++)if(at[ft].node==B){s.display.currentWheelTarget=B;break t}}if(p&&!n&&!g&&Ti!=null){y&&N&&kc(s,Math.max(0,A.scrollTop+y*Ti)),js(s,Math.max(0,A.scrollLeft+p*Ti)),(!y||y&&N)&&De(f),S.wheelStartX=null;return}if(y&&Ti!=null){var Ot=y*Ti,St=s.doc.scrollTop,Pt=St+S.wrapper.clientHeight;Ot<0?St=Math.max(0,St+Ot-50):Pt=Math.min(s.doc.height,Pt+Ot+50),im(s,{top:St,bottom:Pt})}rh<20&&(S.wheelStartX==null?(S.wheelStartX=A.scrollLeft,S.wheelStartY=A.scrollTop,S.wheelDX=p,S.wheelDY=y,setTimeout(function(){if(S.wheelStartX!=null){var Ft=A.scrollLeft-S.wheelStartX,Qt=A.scrollTop-S.wheelStartY,se=Qt&&S.wheelDY&&Qt/S.wheelDY||Ft&&S.wheelDX&&Ft/S.wheelDX;S.wheelStartX=S.wheelStartY=null,se&&(Ti=(Ti*rh+se)/(rh+1),++rh)}},200)):(S.wheelDX+=p,S.wheelDY+=y))}}var Ai=function(s,f){this.ranges=s,this.primIndex=f};Ai.prototype.primary=function(){return this.ranges[this.primIndex]},Ai.prototype.equals=function(s){if(s==this)return!0;if(s.primIndex!=this.primIndex||s.ranges.length!=this.ranges.length)return!1;for(var f=0;f<this.ranges.length;f++){var v=this.ranges[f],p=s.ranges[f];if(!Si(v.anchor,p.anchor)||!Si(v.head,p.head))return!1}return!0},Ai.prototype.deepCopy=function(){for(var s=[],f=0;f<this.ranges.length;f++)s[f]=new Xe(W(this.ranges[f].anchor),W(this.ranges[f].head));return new Ai(s,this.primIndex)},Ai.prototype.somethingSelected=function(){for(var s=0;s<this.ranges.length;s++)if(!this.ranges[s].empty())return!0;return!1},Ai.prototype.contains=function(s,f){f||(f=s);for(var v=0;v<this.ranges.length;v++){var p=this.ranges[v];if(be(f,p.from())>=0&&be(s,p.to())<=0)return v}return-1};var Xe=function(s,f){this.anchor=s,this.head=f};Xe.prototype.from=function(){return Mt(this.anchor,this.head)},Xe.prototype.to=function(){return lt(this.anchor,this.head)},Xe.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function ho(s,f,v){var p=s&&s.options.selectionsMayTouch,y=f[v];f.sort(function(Ot,St){return be(Ot.from(),St.from())}),v=Tt(f,y);for(var S=1;S<f.length;S++){var A=f[S],P=f[S-1],N=be(P.to(),A.from());if(p&&!A.empty()?N>0:N>=0){var B=Mt(P.from(),A.from()),at=lt(P.to(),A.to()),ft=P.empty()?A.from()==A.head:P.from()==P.head;S<=v&&--v,f.splice(--S,2,new Xe(ft?at:B,ft?B:at))}}return new Ai(f,v)}function Ha(s,f){return new Ai([new Xe(s,f||s)],0)}function Fa(s){return s.text?qt(s.from.line+s.text.length-1,R(s.text).length+(s.text.length==1?s.from.ch:0)):s.to}function Uw(s,f){if(be(s,f.from)<0)return s;if(be(s,f.to)<=0)return Fa(f);var v=s.line+f.text.length-(f.to.line-f.from.line)-1,p=s.ch;return s.line==f.to.line&&(p+=Fa(f).ch-f.to.ch),qt(v,p)}function lm(s,f){for(var v=[],p=0;p<s.sel.ranges.length;p++){var y=s.sel.ranges[p];v.push(new Xe(Uw(y.anchor,f),Uw(y.head,f)))}return ho(s.cm,v,s.sel.primIndex)}function Iw(s,f,v){return s.line==f.line?qt(v.line,s.ch-f.ch+v.ch):qt(v.line+(s.line-f.line),s.ch)}function pD(s,f,v){for(var p=[],y=qt(s.first,0),S=y,A=0;A<f.length;A++){var P=f[A],N=Iw(P.from,y,S),B=Iw(Fa(P),y,S);if(y=P.to,S=B,v=="around"){var at=s.sel.ranges[A],ft=be(at.head,at.anchor)<0;p[A]=new Xe(ft?B:N,ft?N:B)}else p[A]=new Xe(N,N)}return new Ai(p,s.sel.primIndex)}function um(s){s.doc.mode=Se(s.options,s.doc.modeOption),Lc(s)}function Lc(s){s.doc.iter(function(f){f.stateAfter&&(f.stateAfter=null),f.styles&&(f.styles=null)}),s.doc.modeFrontier=s.doc.highlightFrontier=s.doc.first,Mc(s,100),s.state.modeGen++,s.curOp&&Vr(s)}function zw(s,f){return f.from.ch==0&&f.to.ch==0&&R(f.text)==""&&(!s.cm||s.cm.options.wholeLineUpdateBefore)}function cm(s,f,v,p){function y(de){return v?v[de]:null}function S(de,le,pe){jd(de,le,pe,p),En(de,"change",de,f)}function A(de,le){for(var pe=[],we=de;we<le;++we)pe.push(new tr(B[we],y(we),p));return pe}var P=f.from,N=f.to,B=f.text,at=he(s,P.line),ft=he(s,N.line),Ot=R(B),St=y(B.length-1),Pt=N.line-P.line;if(f.full)s.insert(0,A(0,B.length)),s.remove(B.length,s.size-B.length);else if(zw(s,f)){var Ft=A(0,B.length-1);S(ft,ft.text,St),Pt&&s.remove(P.line,Pt),Ft.length&&s.insert(P.line,Ft)}else if(at==ft)if(B.length==1)S(at,at.text.slice(0,P.ch)+Ot+at.text.slice(N.ch),St);else{var Qt=A(1,B.length-1);Qt.push(new tr(Ot+at.text.slice(N.ch),St,p)),S(at,at.text.slice(0,P.ch)+B[0],y(0)),s.insert(P.line+1,Qt)}else if(B.length==1)S(at,at.text.slice(0,P.ch)+B[0]+ft.text.slice(N.ch),y(0)),s.remove(P.line+1,Pt);else{S(at,at.text.slice(0,P.ch)+B[0],y(0)),S(ft,Ot+ft.text.slice(N.ch),St);var se=A(1,B.length-1);Pt>1&&s.remove(P.line+1,Pt-1),s.insert(P.line+1,se)}En(s,"change",s,f)}function Wa(s,f,v){function p(y,S,A){if(y.linked)for(var P=0;P<y.linked.length;++P){var N=y.linked[P];if(N.doc!=S){var B=A&&N.sharedHist;v&&!B||(f(N.doc,B),p(N.doc,y,B))}}}p(s,null,!0)}function Hw(s,f){if(f.cm)throw new Error("This document is already in use.");s.doc=f,f.cm=s,$g(s),um(s),Fw(s),s.options.direction=f.direction,s.options.lineWrapping||Ma(s),s.options.mode=f.modeOption,Vr(s)}function Fw(s){(s.doc.direction=="rtl"?dt:Q)(s.display.lineDiv,"CodeMirror-rtl")}function vD(s){ri(s,function(){Fw(s),Vr(s)})}function ih(s){this.done=[],this.undone=[],this.undoDepth=s?s.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=s?s.maxGeneration:1}function fm(s,f){var v={from:W(f.from),to:Fa(f),text:Jn(s,f.from,f.to)};return Kw(s,v,f.from.line,f.to.line+1),Wa(s,function(p){return Kw(p,v,f.from.line,f.to.line+1)},!0),v}function Ww(s){for(;s.length;){var f=R(s);if(f.ranges)s.pop();else break}}function gD(s,f){if(f)return Ww(s.done),R(s.done);if(s.done.length&&!R(s.done).ranges)return R(s.done);if(s.done.length>1&&!s.done[s.done.length-2].ranges)return s.done.pop(),R(s.done)}function qw(s,f,v,p){var y=s.history;y.undone.length=0;var S=+new Date,A,P;if((y.lastOp==p||y.lastOrigin==f.origin&&f.origin&&(f.origin.charAt(0)=="+"&&y.lastModTime>S-(s.cm?s.cm.options.historyEventDelay:500)||f.origin.charAt(0)=="*"))&&(A=gD(y,y.lastOp==p)))P=R(A.changes),be(f.from,f.to)==0&&be(f.from,P.to)==0?P.to=Fa(f):A.changes.push(fm(s,f));else{var N=R(y.done);for((!N||!N.ranges)&&oh(s.sel,y.done),A={changes:[fm(s,f)],generation:y.generation},y.done.push(A);y.done.length>y.undoDepth;)y.done.shift(),y.done[0].ranges||y.done.shift()}y.done.push(v),y.generation=++y.maxGeneration,y.lastModTime=y.lastSelTime=S,y.lastOp=y.lastSelOp=p,y.lastOrigin=y.lastSelOrigin=f.origin,P||ee(s,"historyAdded")}function mD(s,f,v,p){var y=f.charAt(0);return y=="*"||y=="+"&&v.ranges.length==p.ranges.length&&v.somethingSelected()==p.somethingSelected()&&new Date-s.history.lastSelTime<=(s.cm?s.cm.options.historyEventDelay:500)}function yD(s,f,v,p){var y=s.history,S=p&&p.origin;v==y.lastSelOp||S&&y.lastSelOrigin==S&&(y.lastModTime==y.lastSelTime&&y.lastOrigin==S||mD(s,S,R(y.done),f))?y.done[y.done.length-1]=f:oh(f,y.done),y.lastSelTime=+new Date,y.lastSelOrigin=S,y.lastSelOp=v,p&&p.clearRedo!==!1&&Ww(y.undone)}function oh(s,f){var v=R(f);v&&v.ranges&&v.equals(s)||f.push(s)}function Kw(s,f,v,p){var y=f["spans_"+s.id],S=0;s.iter(Math.max(s.first,v),Math.min(s.first+s.size,p),function(A){A.markedSpans&&((y||(y=f["spans_"+s.id]={}))[S]=A.markedSpans),++S})}function _D(s){if(!s)return null;for(var f,v=0;v<s.length;++v)s[v].marker.explicitlyCleared?f||(f=s.slice(0,v)):f&&f.push(s[v]);return f?f.length?f:null:s}function bD(s,f){var v=f["spans_"+s.id];if(!v)return null;for(var p=[],y=0;y<f.text.length;++y)p.push(_D(v[y]));return p}function Gw(s,f){var v=bD(s,f),p=Go(s,f);if(!v)return p;if(!p)return v;for(var y=0;y<v.length;++y){var S=v[y],A=p[y];if(S&&A)t:for(var P=0;P<A.length;++P){for(var N=A[P],B=0;B<S.length;++B)if(S[B].marker==N.marker)continue t;S.push(N)}else A&&(v[y]=A)}return v}function Nl(s,f,v){for(var p=[],y=0;y<s.length;++y){var S=s[y];if(S.ranges){p.push(v?Ai.prototype.deepCopy.call(S):S);continue}var A=S.changes,P=[];p.push({changes:P});for(var N=0;N<A.length;++N){var B=A[N],at=void 0;if(P.push({from:B.from,to:B.to,text:B.text}),f)for(var ft in B)(at=ft.match(/^spans_(\d+)$/))&&Tt(f,Number(at[1]))>-1&&(R(P)[ft]=B[ft],delete B[ft])}}return p}function dm(s,f,v,p){if(p){var y=s.anchor;if(v){var S=be(f,y)<0;S!=be(v,y)<0?(y=f,f=v):S!=be(f,v)<0&&(f=v)}return new Xe(y,f)}else return new Xe(v||f,f)}function ah(s,f,v,p,y){y==null&&(y=s.cm&&(s.cm.display.shift||s.extend)),yr(s,new Ai([dm(s.sel.primary(),f,v,y)],0),p)}function Yw(s,f,v){for(var p=[],y=s.cm&&(s.cm.display.shift||s.extend),S=0;S<s.sel.ranges.length;S++)p[S]=dm(s.sel.ranges[S],f[S],null,y);var A=ho(s.cm,p,s.sel.primIndex);yr(s,A,v)}function hm(s,f,v,p){var y=s.sel.ranges.slice(0);y[f]=v,yr(s,ho(s.cm,y,s.sel.primIndex),p)}function Xw(s,f,v,p){yr(s,Ha(f,v),p)}function wD(s,f,v){var p={ranges:f.ranges,update:function(y){this.ranges=[];for(var S=0;S<y.length;S++)this.ranges[S]=new Xe(Xt(s,y[S].anchor),Xt(s,y[S].head))},origin:v&&v.origin};return ee(s,"beforeSelectionChange",s,p),s.cm&&ee(s.cm,"beforeSelectionChange",s.cm,p),p.ranges!=f.ranges?ho(s.cm,p.ranges,p.ranges.length-1):f}function Zw(s,f,v){var p=s.history.done,y=R(p);y&&y.ranges?(p[p.length-1]=f,sh(s,f,v)):yr(s,f,v)}function yr(s,f,v){sh(s,f,v),yD(s,s.sel,s.cm?s.cm.curOp.id:NaN,v)}function sh(s,f,v){(Oe(s,"beforeSelectionChange")||s.cm&&Oe(s.cm,"beforeSelectionChange"))&&(f=wD(s,f,v));var p=v&&v.bias||(be(f.primary().head,s.sel.primary().head)<0?-1:1);$w(s,Qw(s,f,p,!0)),!(v&&v.scroll===!1)&&s.cm&&s.cm.getOption("readOnly")!="nocursor"&&Rl(s.cm)}function $w(s,f){f.equals(s.sel)||(s.sel=f,s.cm&&(s.cm.curOp.updateInput=1,s.cm.curOp.selectionChanged=!0,ve(s.cm)),En(s,"cursorActivity",s))}function Jw(s){$w(s,Qw(s,s.sel,null,!1))}function Qw(s,f,v,p){for(var y,S=0;S<f.ranges.length;S++){var A=f.ranges[S],P=f.ranges.length==s.sel.ranges.length&&s.sel.ranges[S],N=lh(s,A.anchor,P&&P.anchor,v,p),B=lh(s,A.head,P&&P.head,v,p);(y||N!=A.anchor||B!=A.head)&&(y||(y=f.ranges.slice(0,S)),y[S]=new Xe(N,B))}return y?ho(s.cm,y,f.primIndex):f}function jl(s,f,v,p,y){var S=he(s,f.line);if(S.markedSpans)for(var A=0;A<S.markedSpans.length;++A){var P=S.markedSpans[A],N=P.marker,B="selectLeft"in N?!N.selectLeft:N.inclusiveLeft,at="selectRight"in N?!N.selectRight:N.inclusiveRight;if((P.from==null||(B?P.from<=f.ch:P.from<f.ch))&&(P.to==null||(at?P.to>=f.ch:P.to>f.ch))){if(y&&(ee(N,"beforeCursorEnter"),N.explicitlyCleared))if(S.markedSpans){--A;continue}else break;if(!N.atomic)continue;if(v){var ft=N.find(p<0?1:-1),Ot=void 0;if((p<0?at:B)&&(ft=tS(s,ft,-p,ft&&ft.line==f.line?S:null)),ft&&ft.line==f.line&&(Ot=be(ft,v))&&(p<0?Ot<0:Ot>0))return jl(s,ft,f,p,y)}var St=N.find(p<0?-1:1);return(p<0?B:at)&&(St=tS(s,St,p,St.line==f.line?S:null)),St?jl(s,St,f,p,y):null}}return f}function lh(s,f,v,p,y){var S=p||1,A=jl(s,f,v,S,y)||!y&&jl(s,f,v,S,!0)||jl(s,f,v,-S,y)||!y&&jl(s,f,v,-S,!0);return A||(s.cantEdit=!0,qt(s.first,0))}function tS(s,f,v,p){return v<0&&f.ch==0?f.line>s.first?Xt(s,qt(f.line-1)):null:v>0&&f.ch==(p||he(s,f.line)).text.length?f.line<s.first+s.size-1?qt(f.line+1,0):null:new qt(f.line,f.ch+v)}function eS(s){s.setSelection(qt(s.firstLine(),0),qt(s.lastLine()),It)}function nS(s,f,v){var p={canceled:!1,from:f.from,to:f.to,text:f.text,origin:f.origin,cancel:function(){return p.canceled=!0}};return v&&(p.update=function(y,S,A,P){y&&(p.from=Xt(s,y)),S&&(p.to=Xt(s,S)),A&&(p.text=A),P!==void 0&&(p.origin=P)}),ee(s,"beforeChange",s,p),s.cm&&ee(s.cm,"beforeChange",s.cm,p),p.canceled?(s.cm&&(s.cm.curOp.updateInput=2),null):{from:p.from,to:p.to,text:p.text,origin:p.origin}}function Vl(s,f,v){if(s.cm){if(!s.cm.curOp)return er(s.cm,Vl)(s,f,v);if(s.cm.state.suppressEdits)return}if(!((Oe(s,"beforeChange")||s.cm&&Oe(s.cm,"beforeChange"))&&(f=nS(s,f,!0),!f))){var p=Un&&!v&&Ei(s,f.from,f.to);if(p)for(var y=p.length-1;y>=0;--y)rS(s,{from:p[y].from,to:p[y].to,text:y?[""]:f.text,origin:f.origin});else rS(s,f)}}function rS(s,f){if(!(f.text.length==1&&f.text[0]==""&&be(f.from,f.to)==0)){var v=lm(s,f);qw(s,f,v,s.cm?s.cm.curOp.id:NaN),Nc(s,f,v,Go(s,f));var p=[];Wa(s,function(y,S){!S&&Tt(p,y.history)==-1&&(sS(y.history,f),p.push(y.history)),Nc(y,f,null,Go(y,f))})}}function uh(s,f,v){var p=s.cm&&s.cm.state.suppressEdits;if(!(p&&!v)){for(var y=s.history,S,A=s.sel,P=f=="undo"?y.done:y.undone,N=f=="undo"?y.undone:y.done,B=0;B<P.length&&(S=P[B],!(v?S.ranges&&!S.equals(s.sel):!S.ranges));B++);if(B!=P.length){for(y.lastOrigin=y.lastSelOrigin=null;;)if(S=P.pop(),S.ranges){if(oh(S,N),v&&!S.equals(s.sel)){yr(s,S,{clearRedo:!1});return}A=S}else if(p){P.push(S);return}else break;var at=[];oh(A,N),N.push({changes:at,generation:y.generation}),y.generation=S.generation||++y.maxGeneration;for(var ft=Oe(s,"beforeChange")||s.cm&&Oe(s.cm,"beforeChange"),Ot=function(Ft){var Qt=S.changes[Ft];if(Qt.origin=f,ft&&!nS(s,Qt,!1))return P.length=0,{};at.push(fm(s,Qt));var se=Ft?lm(s,Qt):R(P);Nc(s,Qt,se,Gw(s,Qt)),!Ft&&s.cm&&s.cm.scrollIntoView({from:Qt.from,to:Fa(Qt)});var de=[];Wa(s,function(le,pe){!pe&&Tt(de,le.history)==-1&&(sS(le.history,Qt),de.push(le.history)),Nc(le,Qt,null,Gw(le,Qt))})},St=S.changes.length-1;St>=0;--St){var Pt=Ot(St);if(Pt)return Pt.v}}}}function iS(s,f){if(f!=0&&(s.first+=f,s.sel=new Ai(kt(s.sel.ranges,function(y){return new Xe(qt(y.anchor.line+f,y.anchor.ch),qt(y.head.line+f,y.head.ch))}),s.sel.primIndex),s.cm)){Vr(s.cm,s.first,s.first-f,f);for(var v=s.cm.display,p=v.viewFrom;p<v.viewTo;p++)Ia(s.cm,p,"gutter")}}function Nc(s,f,v,p){if(s.cm&&!s.cm.curOp)return er(s.cm,Nc)(s,f,v,p);if(f.to.line<s.first){iS(s,f.text.length-1-(f.to.line-f.from.line));return}if(!(f.from.line>s.lastLine())){if(f.from.line<s.first){var y=f.text.length-1-(s.first-f.from.line);iS(s,y),f={from:qt(s.first,0),to:qt(f.to.line+y,f.to.ch),text:[R(f.text)],origin:f.origin}}var S=s.lastLine();f.to.line>S&&(f={from:f.from,to:qt(S,he(s,S).text.length),text:[f.text[0]],origin:f.origin}),f.removed=Jn(s,f.from,f.to),v||(v=lm(s,f)),s.cm?SD(s.cm,f,p):cm(s,f,p),sh(s,v,It),s.cantEdit&&lh(s,qt(s.firstLine(),0))&&(s.cantEdit=!1)}}function SD(s,f,v){var p=s.doc,y=s.display,S=f.from,A=f.to,P=!1,N=S.line;s.options.lineWrapping||(N=Ne(mn(he(p,S.line))),p.iter(N,A.line+1,function(St){if(St==y.maxLine)return P=!0,!0})),p.sel.contains(f.from,f.to)>-1&&ve(s),cm(p,f,v,Sw(s)),s.options.lineWrapping||(p.iter(N,S.line+f.text.length,function(St){var Pt=Zo(St);Pt>y.maxLineLength&&(y.maxLine=St,y.maxLineLength=Pt,y.maxLineChanged=!0,P=!1)}),P&&(s.curOp.updateMaxLine=!0)),Da(p,S.line),Mc(s,400);var B=f.text.length-(A.line-S.line)-1;f.full?Vr(s):S.line==A.line&&f.text.length==1&&!zw(s.doc,f)?Ia(s,S.line,"text"):Vr(s,S.line,A.line+1,B);var at=Oe(s,"changes"),ft=Oe(s,"change");if(ft||at){var Ot={from:S,to:A,text:f.text,removed:f.removed,origin:f.origin};ft&&En(s,"change",s,Ot),at&&(s.curOp.changeObjs||(s.curOp.changeObjs=[])).push(Ot)}s.display.selForContextMenu=null}function Bl(s,f,v,p,y){var S;p||(p=v),be(p,v)<0&&(S=[p,v],v=S[0],p=S[1]),typeof f=="string"&&(f=s.splitLines(f)),Vl(s,{from:v,to:p,text:f,origin:y})}function oS(s,f,v,p){v<s.line?s.line+=p:f<s.line&&(s.line=f,s.ch=0)}function aS(s,f,v,p){for(var y=0;y<s.length;++y){var S=s[y],A=!0;if(S.ranges){S.copied||(S=s[y]=S.deepCopy(),S.copied=!0);for(var P=0;P<S.ranges.length;P++)oS(S.ranges[P].anchor,f,v,p),oS(S.ranges[P].head,f,v,p);continue}for(var N=0;N<S.changes.length;++N){var B=S.changes[N];if(v<B.from.line)B.from=qt(B.from.line+p,B.from.ch),B.to=qt(B.to.line+p,B.to.ch);else if(f<=B.to.line){A=!1;break}}A||(s.splice(0,y+1),y=0)}}function sS(s,f){var v=f.from.line,p=f.to.line,y=f.text.length-(p-v)-1;aS(s.done,v,p,y),aS(s.undone,v,p,y)}function jc(s,f,v,p){var y=f,S=f;return typeof f=="number"?S=he(s,Gt(s,f)):y=Ne(f),y==null?null:(p(S,y)&&s.cm&&Ia(s.cm,y,v),S)}function Vc(s){this.lines=s,this.parent=null;for(var f=0,v=0;v<s.length;++v)s[v].parent=this,f+=s[v].height;this.height=f}Vc.prototype={chunkSize:function(){return this.lines.length},removeInner:function(s,f){for(var v=s,p=s+f;v<p;++v){var y=this.lines[v];this.height-=y.height,Ol(y),En(y,"delete")}this.lines.splice(s,f)},collapse:function(s){s.push.apply(s,this.lines)},insertInner:function(s,f,v){this.height+=v,this.lines=this.lines.slice(0,s).concat(f).concat(this.lines.slice(s));for(var p=0;p<f.length;++p)f[p].parent=this},iterN:function(s,f,v){for(var p=s+f;s<p;++s)if(v(this.lines[s]))return!0}};function Bc(s){this.children=s;for(var f=0,v=0,p=0;p<s.length;++p){var y=s[p];f+=y.chunkSize(),v+=y.height,y.parent=this}this.size=f,this.height=v,this.parent=null}Bc.prototype={chunkSize:function(){return this.size},removeInner:function(s,f){this.size-=f;for(var v=0;v<this.children.length;++v){var p=this.children[v],y=p.chunkSize();if(s<y){var S=Math.min(f,y-s),A=p.height;if(p.removeInner(s,S),this.height-=A-p.height,y==S&&(this.children.splice(v--,1),p.parent=null),(f-=S)==0)break;s=0}else s-=y}if(this.size-f<25&&(this.children.length>1||!(this.children[0]instanceof Vc))){var P=[];this.collapse(P),this.children=[new Vc(P)],this.children[0].parent=this}},collapse:function(s){for(var f=0;f<this.children.length;++f)this.children[f].collapse(s)},insertInner:function(s,f,v){this.size+=f.length,this.height+=v;for(var p=0;p<this.children.length;++p){var y=this.children[p],S=y.chunkSize();if(s<=S){if(y.insertInner(s,f,v),y.lines&&y.lines.length>50){for(var A=y.lines.length%25+25,P=A;P<y.lines.length;){var N=new Vc(y.lines.slice(P,P+=25));y.height-=N.height,this.children.splice(++p,0,N),N.parent=this}y.lines=y.lines.slice(0,A),this.maybeSpill()}break}s-=S}},maybeSpill:function(){if(!(this.children.length<=10)){var s=this;do{var f=s.children.splice(s.children.length-5,5),v=new Bc(f);if(s.parent){s.size-=v.size,s.height-=v.height;var y=Tt(s.parent.children,s);s.parent.children.splice(y+1,0,v)}else{var p=new Bc(s.children);p.parent=s,s.children=[p,v],s=p}v.parent=s.parent}while(s.children.length>10);s.parent.maybeSpill()}},iterN:function(s,f,v){for(var p=0;p<this.children.length;++p){var y=this.children[p],S=y.chunkSize();if(s<S){var A=Math.min(f,S-s);if(y.iterN(s,A,v))return!0;if((f-=A)==0)break;s=0}else s-=S}}};var Uc=function(s,f,v){if(v)for(var p in v)v.hasOwnProperty(p)&&(this[p]=v[p]);this.doc=s,this.node=f};Uc.prototype.clear=function(){var s=this.doc.cm,f=this.line.widgets,v=this.line,p=Ne(v);if(!(p==null||!f)){for(var y=0;y<f.length;++y)f[y]==this&&f.splice(y--,1);f.length||(v.widgets=null);var S=Ba(this);Qn(v,Math.max(0,v.height-S)),s&&(ri(s,function(){lS(s,v,-S),Ia(s,p,"widget")}),En(s,"lineWidgetCleared",s,this,p))}},Uc.prototype.changed=function(){var s=this,f=this.height,v=this.doc.cm,p=this.line;this.height=null;var y=Ba(this)-f;y&&(jr(this.doc,p)||Qn(p,p.height+y),v&&ri(v,function(){v.curOp.forceUpdate=!0,lS(v,p,y),En(v,"lineWidgetChanged",v,s,Ne(p))}))},Re(Uc);function lS(s,f,v){qi(f)<(s.curOp&&s.curOp.scrollTop||s.doc.scrollTop)&&nm(s,v)}function CD(s,f,v,p){var y=new Uc(s,v,p),S=s.cm;return S&&y.noHScroll&&(S.display.alignWidgets=!0),jc(s,f,"widget",function(A){var P=A.widgets||(A.widgets=[]);if(y.insertAt==null?P.push(y):P.splice(Math.min(P.length,Math.max(0,y.insertAt)),0,y),y.line=A,S&&!jr(s,A)){var N=qi(A)<s.scrollTop;Qn(A,A.height+Ba(y)),N&&nm(S,y.height),S.curOp.forceUpdate=!0}return!0}),S&&En(S,"lineWidgetAdded",S,y,typeof f=="number"?f:Ne(f)),y}var uS=0,qa=function(s,f){this.lines=[],this.type=f,this.doc=s,this.id=++uS};qa.prototype.clear=function(){if(!this.explicitlyCleared){var s=this.doc.cm,f=s&&!s.curOp;if(f&&Bs(s),Oe(this,"clear")){var v=this.find();v&&En(this,"clear",v.from,v.to)}for(var p=null,y=null,S=0;S<this.lines.length;++S){var A=this.lines[S],P=Or(A.markedSpans,this);s&&!this.collapsed?Ia(s,Ne(A),"text"):s&&(P.to!=null&&(y=Ne(A)),P.from!=null&&(p=Ne(A))),A.markedSpans=Kn(A.markedSpans,P),P.from==null&&this.collapsed&&!jr(this.doc,A)&&s&&Qn(A,Dl(s.display))}if(s&&this.collapsed&&!s.options.lineWrapping)for(var N=0;N<this.lines.length;++N){var B=mn(this.lines[N]),at=Zo(B);at>s.display.maxLineLength&&(s.display.maxLine=B,s.display.maxLineLength=at,s.display.maxLineChanged=!0)}p!=null&&s&&this.collapsed&&Vr(s,p,y+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,s&&Jw(s.doc)),s&&En(s,"markerCleared",s,this,p,y),f&&Us(s),this.parent&&this.parent.clear()}},qa.prototype.find=function(s,f){s==null&&this.type=="bookmark"&&(s=1);for(var v,p,y=0;y<this.lines.length;++y){var S=this.lines[y],A=Or(S.markedSpans,this);if(A.from!=null&&(v=qt(f?S:Ne(S),A.from),s==-1))return v;if(A.to!=null&&(p=qt(f?S:Ne(S),A.to),s==1))return p}return v&&{from:v,to:p}},qa.prototype.changed=function(){var s=this,f=this.find(-1,!0),v=this,p=this.doc.cm;!f||!p||ri(p,function(){var y=f.line,S=Ne(f.line),A=xt(p,S);if(A&&(Oc(A),p.curOp.selectionChanged=p.curOp.forceUpdate=!0),p.curOp.updateMaxLine=!0,!jr(v.doc,y)&&v.height!=null){var P=v.height;v.height=null;var N=Ba(v)-P;N&&Qn(y,y.height+N)}En(p,"markerChanged",p,s)})},qa.prototype.attachLine=function(s){if(!this.lines.length&&this.doc.cm){var f=this.doc.cm.curOp;(!f.maybeHiddenMarkers||Tt(f.maybeHiddenMarkers,this)==-1)&&(f.maybeUnhiddenMarkers||(f.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(s)},qa.prototype.detachLine=function(s){if(this.lines.splice(Tt(this.lines,s),1),!this.lines.length&&this.doc.cm){var f=this.doc.cm.curOp;(f.maybeHiddenMarkers||(f.maybeHiddenMarkers=[])).push(this)}},Re(qa);function Ul(s,f,v,p,y){if(p&&p.shared)return xD(s,f,v,p,y);if(s.cm&&!s.cm.curOp)return er(s.cm,Ul)(s,f,v,p,y);var S=new qa(s,y),A=be(f,v);if(p&&rt(p,S,!1),A>0||A==0&&S.clearWhenEmpty!==!1)return S;if(S.replacedWith&&(S.collapsed=!0,S.widgetNode=T("span",[S.replacedWith],"CodeMirror-widget"),p.handleMouseEvents||S.widgetNode.setAttribute("cm-ignore-events","true"),p.insertLeft&&(S.widgetNode.insertLeft=!0)),S.collapsed){if(Ce(s,f.line,f,v,S)||f.line!=v.line&&Ce(s,v.line,f,v,S))throw new Error("Inserting collapsed marker partially overlapping an existing one");Ci()}S.addToHistory&&qw(s,{from:f,to:v,origin:"markText"},s.sel,NaN);var P=f.line,N=s.cm,B;if(s.iter(P,v.line+1,function(ft){N&&S.collapsed&&!N.options.lineWrapping&&mn(ft)==N.display.maxLine&&(B=!0),S.collapsed&&P!=f.line&&Qn(ft,0),xl(ft,new lo(S,P==f.line?f.ch:null,P==v.line?v.ch:null),s.cm&&s.cm.curOp),++P}),S.collapsed&&s.iter(f.line,v.line+1,function(ft){jr(s,ft)&&Qn(ft,0)}),S.clearOnEnter&&bt(S,"beforeCursorEnter",function(){return S.clear()}),S.readOnly&&(Ds(),(s.history.done.length||s.history.undone.length)&&s.clearHistory()),S.collapsed&&(S.id=++uS,S.atomic=!0),N){if(B&&(N.curOp.updateMaxLine=!0),S.collapsed)Vr(N,f.line,v.line+1);else if(S.className||S.startStyle||S.endStyle||S.css||S.attributes||S.title)for(var at=f.line;at<=v.line;at++)Ia(N,at,"text");S.atomic&&Jw(N.doc),En(N,"markerAdded",N,S)}return S}var Ic=function(s,f){this.markers=s,this.primary=f;for(var v=0;v<s.length;++v)s[v].parent=this};Ic.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var s=0;s<this.markers.length;++s)this.markers[s].clear();En(this,"clear")}},Ic.prototype.find=function(s,f){return this.primary.find(s,f)},Re(Ic);function xD(s,f,v,p,y){p=rt(p),p.shared=!1;var S=[Ul(s,f,v,p,y)],A=S[0],P=p.widgetNode;return Wa(s,function(N){P&&(p.widgetNode=P.cloneNode(!0)),S.push(Ul(N,Xt(N,f),Xt(N,v),p,y));for(var B=0;B<N.linked.length;++B)if(N.linked[B].isParent)return;A=R(S)}),new Ic(S,A)}function cS(s){return s.findMarks(qt(s.first,0),s.clipPos(qt(s.lastLine())),function(f){return f.parent})}function OD(s,f){for(var v=0;v<f.length;v++){var p=f[v],y=p.find(),S=s.clipPos(y.from),A=s.clipPos(y.to);if(be(S,A)){var P=Ul(s,S,A,p.primary,p.primary.type);p.markers.push(P),P.parent=p}}}function ED(s){for(var f=function(p){var y=s[p],S=[y.primary.doc];Wa(y.primary.doc,function(N){return S.push(N)});for(var A=0;A<y.markers.length;A++){var P=y.markers[A];Tt(S,P.doc)==-1&&(P.parent=null,y.markers.splice(A--,1))}},v=0;v<s.length;v++)f(v)}var TD=0,Br=function(s,f,v,p,y){if(!(this instanceof Br))return new Br(s,f,v,p,y);v==null&&(v=0),Bc.call(this,[new Vc([new tr("",null)])]),this.first=v,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=v;var S=qt(v,0);this.sel=Ha(S),this.history=new ih(null),this.id=++TD,this.modeOption=f,this.lineSep=p,this.direction=y=="rtl"?"rtl":"ltr",this.extend=!1,typeof s=="string"&&(s=this.splitLines(s)),cm(this,{from:S,to:S,text:s}),yr(this,Ha(S),It)};Br.prototype=E(Bc.prototype,{constructor:Br,iter:function(s,f,v){v?this.iterN(s-this.first,f-s,v):this.iterN(this.first,this.first+this.size,s)},insert:function(s,f){for(var v=0,p=0;p<f.length;++p)v+=f[p].height;this.insertInner(s-this.first,f,v)},remove:function(s,f){this.removeInner(s-this.first,f)},getValue:function(s){var f=gn(this,this.first,this.first+this.size);return s===!1?f:f.join(s||this.lineSeparator())},setValue:nr(function(s){var f=qt(this.first,0),v=this.first+this.size-1;Vl(this,{from:f,to:qt(v,he(this,v).text.length),text:this.splitLines(s),origin:"setValue",full:!0},!0),this.cm&&Ac(this.cm,0,0),yr(this,Ha(f),It)}),replaceRange:function(s,f,v,p){f=Xt(this,f),v=v?Xt(this,v):f,Bl(this,s,f,v,p)},getRange:function(s,f,v){var p=Jn(this,Xt(this,s),Xt(this,f));return v===!1?p:v===""?p.join(""):p.join(v||this.lineSeparator())},getLine:function(s){var f=this.getLineHandle(s);return f&&f.text},getLineHandle:function(s){if(Qr(this,s))return he(this,s)},getLineNumber:function(s){return Ne(s)},getLineHandleVisualStart:function(s){return typeof s=="number"&&(s=he(this,s)),mn(s)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(s){return Xt(this,s)},getCursor:function(s){var f=this.sel.primary(),v;return s==null||s=="head"?v=f.head:s=="anchor"?v=f.anchor:s=="end"||s=="to"||s===!1?v=f.to():v=f.from(),v},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:nr(function(s,f,v){Xw(this,Xt(this,typeof s=="number"?qt(s,f||0):s),null,v)}),setSelection:nr(function(s,f,v){Xw(this,Xt(this,s),Xt(this,f||s),v)}),extendSelection:nr(function(s,f,v){ah(this,Xt(this,s),f&&Xt(this,f),v)}),extendSelections:nr(function(s,f){Yw(this,Le(this,s),f)}),extendSelectionsBy:nr(function(s,f){var v=kt(this.sel.ranges,s);Yw(this,Le(this,v),f)}),setSelections:nr(function(s,f,v){if(s.length){for(var p=[],y=0;y<s.length;y++)p[y]=new Xe(Xt(this,s[y].anchor),Xt(this,s[y].head||s[y].anchor));f==null&&(f=Math.min(s.length-1,this.sel.primIndex)),yr(this,ho(this.cm,p,f),v)}}),addSelection:nr(function(s,f,v){var p=this.sel.ranges.slice(0);p.push(new Xe(Xt(this,s),Xt(this,f||s))),yr(this,ho(this.cm,p,p.length-1),v)}),getSelection:function(s){for(var f=this.sel.ranges,v,p=0;p<f.length;p++){var y=Jn(this,f[p].from(),f[p].to());v=v?v.concat(y):y}return s===!1?v:v.join(s||this.lineSeparator())},getSelections:function(s){for(var f=[],v=this.sel.ranges,p=0;p<v.length;p++){var y=Jn(this,v[p].from(),v[p].to());s!==!1&&(y=y.join(s||this.lineSeparator())),f[p]=y}return f},replaceSelection:function(s,f,v){for(var p=[],y=0;y<this.sel.ranges.length;y++)p[y]=s;this.replaceSelections(p,f,v||"+input")},replaceSelections:nr(function(s,f,v){for(var p=[],y=this.sel,S=0;S<y.ranges.length;S++){var A=y.ranges[S];p[S]={from:A.from(),to:A.to(),text:this.splitLines(s[S]),origin:v}}for(var P=f&&f!="end"&&pD(this,p,f),N=p.length-1;N>=0;N--)Vl(this,p[N]);P?Zw(this,P):this.cm&&Rl(this.cm)}),undo:nr(function(){uh(this,"undo")}),redo:nr(function(){uh(this,"redo")}),undoSelection:nr(function(){uh(this,"undo",!0)}),redoSelection:nr(function(){uh(this,"redo",!0)}),setExtending:function(s){this.extend=s},getExtending:function(){return this.extend},historySize:function(){for(var s=this.history,f=0,v=0,p=0;p<s.done.length;p++)s.done[p].ranges||++f;for(var y=0;y<s.undone.length;y++)s.undone[y].ranges||++v;return{undo:f,redo:v}},clearHistory:function(){var s=this;this.history=new ih(this.history),Wa(this,function(f){return f.history=s.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(s){return s&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(s){return this.history.generation==(s||this.cleanGeneration)},getHistory:function(){return{done:Nl(this.history.done),undone:Nl(this.history.undone)}},setHistory:function(s){var f=this.history=new ih(this.history);f.done=Nl(s.done.slice(0),null,!0),f.undone=Nl(s.undone.slice(0),null,!0)},setGutterMarker:nr(function(s,f,v){return jc(this,s,"gutter",function(p){var y=p.gutterMarkers||(p.gutterMarkers={});return y[f]=v,!v&&nt(y)&&(p.gutterMarkers=null),!0})}),clearGutter:nr(function(s){var f=this;this.iter(function(v){v.gutterMarkers&&v.gutterMarkers[s]&&jc(f,v,"gutter",function(){return v.gutterMarkers[s]=null,nt(v.gutterMarkers)&&(v.gutterMarkers=null),!0})})}),lineInfo:function(s){var f;if(typeof s=="number"){if(!Qr(this,s)||(f=s,s=he(this,s),!s))return null}else if(f=Ne(s),f==null)return null;return{line:f,handle:s,text:s.text,gutterMarkers:s.gutterMarkers,textClass:s.textClass,bgClass:s.bgClass,wrapClass:s.wrapClass,widgets:s.widgets}},addLineClass:nr(function(s,f,v){return jc(this,s,f=="gutter"?"gutter":"class",function(p){var y=f=="text"?"textClass":f=="background"?"bgClass":f=="gutter"?"gutterClass":"wrapClass";if(!p[y])p[y]=v;else{if(U(v).test(p[y]))return!1;p[y]+=" "+v}return!0})}),removeLineClass:nr(function(s,f,v){return jc(this,s,f=="gutter"?"gutter":"class",function(p){var y=f=="text"?"textClass":f=="background"?"bgClass":f=="gutter"?"gutterClass":"wrapClass",S=p[y];if(S)if(v==null)p[y]=null;else{var A=S.match(U(v));if(!A)return!1;var P=A.index+A[0].length;p[y]=S.slice(0,A.index)+(!A.index||P==S.length?"":" ")+S.slice(P)||null}else return!1;return!0})}),addLineWidget:nr(function(s,f,v){return CD(this,s,f,v)}),removeLineWidget:function(s){s.clear()},markText:function(s,f,v){return Ul(this,Xt(this,s),Xt(this,f),v,v&&v.type||"range")},setBookmark:function(s,f){var v={replacedWith:f&&(f.nodeType==null?f.widget:f),insertLeft:f&&f.insertLeft,clearWhenEmpty:!1,shared:f&&f.shared,handleMouseEvents:f&&f.handleMouseEvents};return s=Xt(this,s),Ul(this,s,s,v,"bookmark")},findMarksAt:function(s){s=Xt(this,s);var f=[],v=he(this,s.line).markedSpans;if(v)for(var p=0;p<v.length;++p){var y=v[p];(y.from==null||y.from<=s.ch)&&(y.to==null||y.to>=s.ch)&&f.push(y.marker.parent||y.marker)}return f},findMarks:function(s,f,v){s=Xt(this,s),f=Xt(this,f);var p=[],y=s.line;return this.iter(s.line,f.line+1,function(S){var A=S.markedSpans;if(A)for(var P=0;P<A.length;P++){var N=A[P];!(N.to!=null&&y==s.line&&s.ch>=N.to||N.from==null&&y!=s.line||N.from!=null&&y==f.line&&N.from>=f.ch)&&(!v||v(N.marker))&&p.push(N.marker.parent||N.marker)}++y}),p},getAllMarks:function(){var s=[];return this.iter(function(f){var v=f.markedSpans;if(v)for(var p=0;p<v.length;++p)v[p].from!=null&&s.push(v[p].marker)}),s},posFromIndex:function(s){var f,v=this.first,p=this.lineSeparator().length;return this.iter(function(y){var S=y.text.length+p;if(S>s)return f=s,!0;s-=S,++v}),Xt(this,qt(v,f))},indexFromPos:function(s){s=Xt(this,s);var f=s.ch;if(s.line<this.first||s.ch<0)return 0;var v=this.lineSeparator().length;return this.iter(this.first,s.line,function(p){f+=p.text.length+v}),f},copy:function(s){var f=new Br(gn(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return f.scrollTop=this.scrollTop,f.scrollLeft=this.scrollLeft,f.sel=this.sel,f.extend=!1,s&&(f.history.undoDepth=this.history.undoDepth,f.setHistory(this.getHistory())),f},linkedDoc:function(s){s||(s={});var f=this.first,v=this.first+this.size;s.from!=null&&s.from>f&&(f=s.from),s.to!=null&&s.to<v&&(v=s.to);var p=new Br(gn(this,f,v),s.mode||this.modeOption,f,this.lineSep,this.direction);return s.sharedHist&&(p.history=this.history),(this.linked||(this.linked=[])).push({doc:p,sharedHist:s.sharedHist}),p.linked=[{doc:this,isParent:!0,sharedHist:s.sharedHist}],OD(p,cS(this)),p},unlinkDoc:function(s){if(s instanceof yn&&(s=s.doc),this.linked)for(var f=0;f<this.linked.length;++f){var v=this.linked[f];if(v.doc==s){this.linked.splice(f,1),s.unlinkDoc(this),ED(cS(this));break}}if(s.history==this.history){var p=[s.id];Wa(s,function(y){return p.push(y.id)},!0),s.history=new ih(null),s.history.done=Nl(this.history.done,p),s.history.undone=Nl(this.history.undone,p)}},iterLinkedDocs:function(s){Wa(this,s)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(s){return this.lineSep?s.split(this.lineSep):Pn(s)},lineSeparator:function(){return this.lineSep||`
`},setDirection:nr(function(s){s!="rtl"&&(s="ltr"),s!=this.direction&&(this.direction=s,this.iter(function(f){return f.order=null}),this.cm&&vD(this.cm))})}),Br.prototype.eachLine=Br.prototype.iter;var fS=0;function AD(s){var f=this;if(dS(f),!(ne(f,s)||Ki(f.display,s))){De(s),l&&(fS=+new Date);var v=Ls(f,s,!0),p=s.dataTransfer.files;if(!(!v||f.isReadOnly()))if(p&&p.length&&window.FileReader&&window.File)for(var y=p.length,S=Array(y),A=0,P=function(){++A==y&&er(f,function(){v=Xt(f.doc,v);var St={from:v,to:v,text:f.doc.splitLines(S.filter(function(Pt){return Pt!=null}).join(f.doc.lineSeparator())),origin:"paste"};Vl(f.doc,St),Zw(f.doc,Ha(Xt(f.doc,v),Xt(f.doc,Fa(St))))})()},N=function(St,Pt){if(f.options.allowDropFileTypes&&Tt(f.options.allowDropFileTypes,St.type)==-1){P();return}var Ft=new FileReader;Ft.onerror=function(){return P()},Ft.onload=function(){var Qt=Ft.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(Qt)){P();return}S[Pt]=Qt,P()},Ft.readAsText(St)},B=0;B<p.length;B++)N(p[B],B);else{if(f.state.draggingText&&f.doc.sel.contains(v)>-1){f.state.draggingText(s),setTimeout(function(){return f.display.input.focus()},20);return}try{var at=s.dataTransfer.getData("Text");if(at){var ft;if(f.state.draggingText&&!f.state.draggingText.copy&&(ft=f.listSelections()),sh(f.doc,Ha(v,v)),ft)for(var Ot=0;Ot<ft.length;++Ot)Bl(f.doc,"",ft[Ot].anchor,ft[Ot].head,"drag");f.replaceSelection(at,"around","paste"),f.display.input.focus()}}catch{}}}}function kD(s,f){if(l&&(!s.state.draggingText||+new Date-fS<100)){X(f);return}if(!(ne(s,f)||Ki(s.display,f))&&(f.dataTransfer.setData("Text",s.getSelection()),f.dataTransfer.effectAllowed="copyMove",f.dataTransfer.setDragImage&&!m)){var v=I("img",null,null,"position: fixed; left: 0; top: 0;");v.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",g&&(v.width=v.height=1,s.display.wrapper.appendChild(v),v._top=v.offsetTop),f.dataTransfer.setDragImage(v,0,0),g&&v.parentNode.removeChild(v)}}function DD(s,f){var v=Ls(s,f);if(v){var p=document.createDocumentFragment();Ow(s,v,p),s.display.dragCursor||(s.display.dragCursor=I("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),s.display.lineSpace.insertBefore(s.display.dragCursor,s.display.cursorDiv)),D(s.display.dragCursor,p)}}function dS(s){s.display.dragCursor&&(s.display.lineSpace.removeChild(s.display.dragCursor),s.display.dragCursor=null)}function hS(s){if(document.getElementsByClassName){for(var f=document.getElementsByClassName("CodeMirror"),v=[],p=0;p<f.length;p++){var y=f[p].CodeMirror;y&&v.push(y)}v.length&&v[0].operation(function(){for(var S=0;S<v.length;S++)s(v[S])})}}var pS=!1;function PD(){pS||(MD(),pS=!0)}function MD(){var s;bt(window,"resize",function(){s==null&&(s=setTimeout(function(){s=null,hS(RD)},100))}),bt(window,"blur",function(){return hS(Ml)})}function RD(s){var f=s.display;f.cachedCharWidth=f.cachedTextHeight=f.cachedPaddingH=null,f.scrollbarsClipped=!1,s.setSize()}for(var Ka={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},zc=0;zc<10;zc++)Ka[zc+48]=Ka[zc+96]=String(zc);for(var ch=65;ch<=90;ch++)Ka[ch]=String.fromCharCode(ch);for(var Hc=1;Hc<=12;Hc++)Ka[Hc+111]=Ka[Hc+63235]="F"+Hc;var Qo={};Qo.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Qo.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Qo.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Qo.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Qo.default=O?Qo.macDefault:Qo.pcDefault;function LD(s){var f=s.split(/-(?!$)/);s=f[f.length-1];for(var v,p,y,S,A=0;A<f.length-1;A++){var P=f[A];if(/^(cmd|meta|m)$/i.test(P))S=!0;else if(/^a(lt)?$/i.test(P))v=!0;else if(/^(c|ctrl|control)$/i.test(P))p=!0;else if(/^s(hift)?$/i.test(P))y=!0;else throw new Error("Unrecognized modifier name: "+P)}return v&&(s="Alt-"+s),p&&(s="Ctrl-"+s),S&&(s="Cmd-"+s),y&&(s="Shift-"+s),s}function ND(s){var f={};for(var v in s)if(s.hasOwnProperty(v)){var p=s[v];if(/^(name|fallthrough|(de|at)tach)$/.test(v))continue;if(p=="..."){delete s[v];continue}for(var y=kt(v.split(" "),LD),S=0;S<y.length;S++){var A=void 0,P=void 0;S==y.length-1?(P=y.join(" "),A=p):(P=y.slice(0,S+1).join(" "),A="...");var N=f[P];if(!N)f[P]=A;else if(N!=A)throw new Error("Inconsistent bindings for "+P)}delete s[v]}for(var B in f)s[B]=f[B];return s}function Il(s,f,v,p){f=fh(f);var y=f.call?f.call(s,p):f[s];if(y===!1)return"nothing";if(y==="...")return"multi";if(y!=null&&v(y))return"handled";if(f.fallthrough){if(Object.prototype.toString.call(f.fallthrough)!="[object Array]")return Il(s,f.fallthrough,v,p);for(var S=0;S<f.fallthrough.length;S++){var A=Il(s,f.fallthrough[S],v,p);if(A)return A}}}function vS(s){var f=typeof s=="string"?s:Ka[s.keyCode];return f=="Ctrl"||f=="Alt"||f=="Shift"||f=="Mod"}function gS(s,f,v){var p=s;return f.altKey&&p!="Alt"&&(s="Alt-"+s),($?f.metaKey:f.ctrlKey)&&p!="Ctrl"&&(s="Ctrl-"+s),($?f.ctrlKey:f.metaKey)&&p!="Mod"&&(s="Cmd-"+s),!v&&f.shiftKey&&p!="Shift"&&(s="Shift-"+s),s}function mS(s,f){if(g&&s.keyCode==34&&s.char)return!1;var v=Ka[s.keyCode];return v==null||s.altGraphKey?!1:(s.keyCode==3&&s.code&&(v=s.code),gS(v,s,f))}function fh(s){return typeof s=="string"?Qo[s]:s}function zl(s,f){for(var v=s.doc.sel.ranges,p=[],y=0;y<v.length;y++){for(var S=f(v[y]);p.length&&be(S.from,R(p).to)<=0;){var A=p.pop();if(be(A.from,S.from)<0){S.from=A.from;break}}p.push(S)}ri(s,function(){for(var P=p.length-1;P>=0;P--)Bl(s.doc,"",p[P].from,p[P].to,"+delete");Rl(s)})}function pm(s,f,v){var p=st(s.text,f+v,v);return p<0||p>s.text.length?null:p}function vm(s,f,v){var p=pm(s,f.ch,v);return p==null?null:new qt(f.line,p,v<0?"after":"before")}function gm(s,f,v,p,y){if(s){f.doc.direction=="rtl"&&(y=-y);var S=F(v,f.doc.direction);if(S){var A=y<0?R(S):S[0],P=y<0==(A.level==1),N=P?"after":"before",B;if(A.level>0||f.doc.direction=="rtl"){var at=Bt(f,v);B=y<0?v.text.length-1:0;var ft=re(f,at,B).top;B=jt(function(Ot){return re(f,at,Ot).top==ft},y<0==(A.level==1)?A.from:A.to-1,B),N=="before"&&(B=pm(v,B,1))}else B=y<0?A.to:A.from;return new qt(p,B,N)}}return new qt(p,y<0?v.text.length:0,y<0?"before":"after")}function jD(s,f,v,p){var y=F(f,s.doc.direction);if(!y)return vm(f,v,p);v.ch>=f.text.length?(v.ch=f.text.length,v.sticky="before"):v.ch<=0&&(v.ch=0,v.sticky="after");var S=J(y,v.ch,v.sticky),A=y[S];if(s.doc.direction=="ltr"&&A.level%2==0&&(p>0?A.to>v.ch:A.from<v.ch))return vm(f,v,p);var P=function(se,de){return pm(f,se instanceof qt?se.ch:se,de)},N,B=function(se){return s.options.lineWrapping?(N=N||Bt(s,f),ww(s,f,N,se)):{begin:0,end:f.text.length}},at=B(v.sticky=="before"?P(v,-1):v.ch);if(s.doc.direction=="rtl"||A.level==1){var ft=A.level==1==p<0,Ot=P(v,ft?1:-1);if(Ot!=null&&(ft?Ot<=A.to&&Ot<=at.end:Ot>=A.from&&Ot>=at.begin)){var St=ft?"before":"after";return new qt(v.line,Ot,St)}}var Pt=function(se,de,le){for(var pe=function(rn,rr){return rr?new qt(v.line,P(rn,1),"before"):new qt(v.line,rn,"after")};se>=0&&se<y.length;se+=de){var we=y[se],_e=de>0==(we.level!=1),Pe=_e?le.begin:P(le.end,-1);if(we.from<=Pe&&Pe<we.to||(Pe=_e?we.from:P(we.to,-1),le.begin<=Pe&&Pe<le.end))return pe(Pe,_e)}},Ft=Pt(S+p,p,at);if(Ft)return Ft;var Qt=p>0?at.end:P(at.begin,-1);return Qt!=null&&!(p>0&&Qt==f.text.length)&&(Ft=Pt(p>0?0:y.length-1,p,B(Qt)),Ft)?Ft:null}var Fc={selectAll:eS,singleSelection:function(s){return s.setSelection(s.getCursor("anchor"),s.getCursor("head"),It)},killLine:function(s){return zl(s,function(f){if(f.empty()){var v=he(s.doc,f.head.line).text.length;return f.head.ch==v&&f.head.line<s.lastLine()?{from:f.head,to:qt(f.head.line+1,0)}:{from:f.head,to:qt(f.head.line,v)}}else return{from:f.from(),to:f.to()}})},deleteLine:function(s){return zl(s,function(f){return{from:qt(f.from().line,0),to:Xt(s.doc,qt(f.to().line+1,0))}})},delLineLeft:function(s){return zl(s,function(f){return{from:qt(f.from().line,0),to:f.from()}})},delWrappedLineLeft:function(s){return zl(s,function(f){var v=s.charCoords(f.head,"div").top+5,p=s.coordsChar({left:0,top:v},"div");return{from:p,to:f.from()}})},delWrappedLineRight:function(s){return zl(s,function(f){var v=s.charCoords(f.head,"div").top+5,p=s.coordsChar({left:s.display.lineDiv.offsetWidth+100,top:v},"div");return{from:f.from(),to:p}})},undo:function(s){return s.undo()},redo:function(s){return s.redo()},undoSelection:function(s){return s.undoSelection()},redoSelection:function(s){return s.redoSelection()},goDocStart:function(s){return s.extendSelection(qt(s.firstLine(),0))},goDocEnd:function(s){return s.extendSelection(qt(s.lastLine()))},goLineStart:function(s){return s.extendSelectionsBy(function(f){return yS(s,f.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(s){return s.extendSelectionsBy(function(f){return _S(s,f.head)},{origin:"+move",bias:1})},goLineEnd:function(s){return s.extendSelectionsBy(function(f){return VD(s,f.head.line)},{origin:"+move",bias:-1})},goLineRight:function(s){return s.extendSelectionsBy(function(f){var v=s.cursorCoords(f.head,"div").top+5;return s.coordsChar({left:s.display.lineDiv.offsetWidth+100,top:v},"div")},fe)},goLineLeft:function(s){return s.extendSelectionsBy(function(f){var v=s.cursorCoords(f.head,"div").top+5;return s.coordsChar({left:0,top:v},"div")},fe)},goLineLeftSmart:function(s){return s.extendSelectionsBy(function(f){var v=s.cursorCoords(f.head,"div").top+5,p=s.coordsChar({left:0,top:v},"div");return p.ch<s.getLine(p.line).search(/\S/)?_S(s,f.head):p},fe)},goLineUp:function(s){return s.moveV(-1,"line")},goLineDown:function(s){return s.moveV(1,"line")},goPageUp:function(s){return s.moveV(-1,"page")},goPageDown:function(s){return s.moveV(1,"page")},goCharLeft:function(s){return s.moveH(-1,"char")},goCharRight:function(s){return s.moveH(1,"char")},goColumnLeft:function(s){return s.moveH(-1,"column")},goColumnRight:function(s){return s.moveH(1,"column")},goWordLeft:function(s){return s.moveH(-1,"word")},goGroupRight:function(s){return s.moveH(1,"group")},goGroupLeft:function(s){return s.moveH(-1,"group")},goWordRight:function(s){return s.moveH(1,"word")},delCharBefore:function(s){return s.deleteH(-1,"codepoint")},delCharAfter:function(s){return s.deleteH(1,"char")},delWordBefore:function(s){return s.deleteH(-1,"word")},delWordAfter:function(s){return s.deleteH(1,"word")},delGroupBefore:function(s){return s.deleteH(-1,"group")},delGroupAfter:function(s){return s.deleteH(1,"group")},indentAuto:function(s){return s.indentSelection("smart")},indentMore:function(s){return s.indentSelection("add")},indentLess:function(s){return s.indentSelection("subtract")},insertTab:function(s){return s.replaceSelection("	")},insertSoftTab:function(s){for(var f=[],v=s.listSelections(),p=s.options.tabSize,y=0;y<v.length;y++){var S=v[y].from(),A=At(s.getLine(S.line),S.ch,p);f.push(Wt(p-A%p))}s.replaceSelections(f)},defaultTab:function(s){s.somethingSelected()?s.indentSelection("add"):s.execCommand("insertTab")},transposeChars:function(s){return ri(s,function(){for(var f=s.listSelections(),v=[],p=0;p<f.length;p++)if(f[p].empty()){var y=f[p].head,S=he(s.doc,y.line).text;if(S){if(y.ch==S.length&&(y=new qt(y.line,y.ch-1)),y.ch>0)y=new qt(y.line,y.ch+1),s.replaceRange(S.charAt(y.ch-1)+S.charAt(y.ch-2),qt(y.line,y.ch-2),y,"+transpose");else if(y.line>s.doc.first){var A=he(s.doc,y.line-1).text;A&&(y=new qt(y.line,1),s.replaceRange(S.charAt(0)+s.doc.lineSeparator()+A.charAt(A.length-1),qt(y.line-1,A.length-1),y,"+transpose"))}}v.push(new Xe(y,y))}s.setSelections(v)})},newlineAndIndent:function(s){return ri(s,function(){for(var f=s.listSelections(),v=f.length-1;v>=0;v--)s.replaceRange(s.doc.lineSeparator(),f[v].anchor,f[v].head,"+input");f=s.listSelections();for(var p=0;p<f.length;p++)s.indentLine(f[p].from().line,null,!0);Rl(s)})},openLine:function(s){return s.replaceSelection(`
`,"start")},toggleOverwrite:function(s){return s.toggleOverwrite()}};function yS(s,f){var v=he(s.doc,f),p=mn(v);return p!=v&&(f=Ne(p)),gm(!0,s,p,f,1)}function VD(s,f){var v=he(s.doc,f),p=In(v);return p!=v&&(f=Ne(p)),gm(!0,s,v,f,-1)}function _S(s,f){var v=yS(s,f.line),p=he(s.doc,v.line),y=F(p,s.doc.direction);if(!y||y[0].level==0){var S=Math.max(v.ch,p.text.search(/\S/)),A=f.line==v.line&&f.ch<=S&&f.ch;return qt(v.line,A?0:S,v.sticky)}return v}function dh(s,f,v){if(typeof f=="string"&&(f=Fc[f],!f))return!1;s.display.input.ensurePolled();var p=s.display.shift,y=!1;try{s.isReadOnly()&&(s.state.suppressEdits=!0),v&&(s.display.shift=!1),y=f(s)!=zt}finally{s.display.shift=p,s.state.suppressEdits=!1}return y}function BD(s,f,v){for(var p=0;p<s.state.keyMaps.length;p++){var y=Il(f,s.state.keyMaps[p],v,s);if(y)return y}return s.options.extraKeys&&Il(f,s.options.extraKeys,v,s)||Il(f,s.options.keyMap,v,s)}var UD=new mt;function Wc(s,f,v,p){var y=s.state.keySeq;if(y){if(vS(f))return"handled";if(/\'$/.test(f)?s.state.keySeq=null:UD.set(50,function(){s.state.keySeq==y&&(s.state.keySeq=null,s.display.input.reset())}),bS(s,y+" "+f,v,p))return!0}return bS(s,f,v,p)}function bS(s,f,v,p){var y=BD(s,f,p);return y=="multi"&&(s.state.keySeq=f),y=="handled"&&En(s,"keyHandled",s,f,v),(y=="handled"||y=="multi")&&(De(v),Jg(s)),!!y}function wS(s,f){var v=mS(f,!0);return v?f.shiftKey&&!s.state.keySeq?Wc(s,"Shift-"+v,f,function(p){return dh(s,p,!0)})||Wc(s,v,f,function(p){if(typeof p=="string"?/^go[A-Z]/.test(p):p.motion)return dh(s,p)}):Wc(s,v,f,function(p){return dh(s,p)}):!1}function ID(s,f,v){return Wc(s,"'"+v+"'",f,function(p){return dh(s,p,!0)})}var mm=null;function SS(s){var f=this;if(!(s.target&&s.target!=f.display.input.getField())&&(f.curOp.focus=ot(),!ne(f,s))){l&&u<11&&s.keyCode==27&&(s.returnValue=!1);var v=s.keyCode;f.display.shift=v==16||s.shiftKey;var p=wS(f,s);g&&(mm=p?v:null,!p&&v==88&&!bi&&(O?s.metaKey:s.ctrlKey)&&f.replaceSelection("",null,"cut")),n&&!O&&!p&&v==46&&s.shiftKey&&!s.ctrlKey&&document.execCommand&&document.execCommand("cut"),v==18&&!/\bCodeMirror-crosshair\b/.test(f.display.lineDiv.className)&&zD(f)}}function zD(s){var f=s.display.lineDiv;dt(f,"CodeMirror-crosshair");function v(p){(p.keyCode==18||!p.altKey)&&(Q(f,"CodeMirror-crosshair"),ce(document,"keyup",v),ce(document,"mouseover",v))}bt(document,"keyup",v),bt(document,"mouseover",v)}function CS(s){s.keyCode==16&&(this.doc.sel.shift=!1),ne(this,s)}function xS(s){var f=this;if(!(s.target&&s.target!=f.display.input.getField())&&!(Ki(f.display,s)||ne(f,s)||s.ctrlKey&&!s.altKey||O&&s.metaKey)){var v=s.keyCode,p=s.charCode;if(g&&v==mm){mm=null,De(s);return}if(!(g&&(!s.which||s.which<10)&&wS(f,s))){var y=String.fromCharCode(p??v);y!="\b"&&(ID(f,s,y)||f.display.input.onKeyPress(s))}}}var HD=400,ym=function(s,f,v){this.time=s,this.pos=f,this.button=v};ym.prototype.compare=function(s,f,v){return this.time+HD>s&&be(f,this.pos)==0&&v==this.button};var qc,Kc;function FD(s,f){var v=+new Date;return Kc&&Kc.compare(v,s,f)?(qc=Kc=null,"triple"):qc&&qc.compare(v,s,f)?(Kc=new ym(v,s,f),qc=null,"double"):(qc=new ym(v,s,f),Kc=null,"single")}function OS(s){var f=this,v=f.display;if(!(ne(f,s)||v.activeTouch&&v.input.supportsTouch())){if(v.input.ensurePolled(),v.shift=s.shiftKey,Ki(v,s)){c||(v.scroller.draggable=!1,setTimeout(function(){return v.scroller.draggable=!0},100));return}if(!_m(f,s)){var p=Ls(f,s),y=Ct(s),S=p?FD(p,y):"single";window.focus(),y==1&&f.state.selectingText&&f.state.selectingText(s),!(p&&WD(f,y,p,S,s))&&(y==1?p?KD(f,p,S,s):ht(s)==v.scroller&&De(s):y==2?(p&&ah(f.doc,p),setTimeout(function(){return v.input.focus()},20)):y==3&&(Y?f.display.input.onContextMenu(s):Qg(f)))}}}function WD(s,f,v,p,y){var S="Click";return p=="double"?S="Double"+S:p=="triple"&&(S="Triple"+S),S=(f==1?"Left":f==2?"Middle":"Right")+S,Wc(s,gS(S,y),y,function(A){if(typeof A=="string"&&(A=Fc[A]),!A)return!1;var P=!1;try{s.isReadOnly()&&(s.state.suppressEdits=!0),P=A(s,v)!=zt}finally{s.state.suppressEdits=!1}return P})}function qD(s,f,v){var p=s.getOption("configureMouse"),y=p?p(s,f,v):{};if(y.unit==null){var S=k?v.shiftKey&&v.metaKey:v.altKey;y.unit=S?"rectangle":f=="single"?"char":f=="double"?"word":"line"}return(y.extend==null||s.doc.extend)&&(y.extend=s.doc.extend||v.shiftKey),y.addNew==null&&(y.addNew=O?v.metaKey:v.ctrlKey),y.moveOnDrag==null&&(y.moveOnDrag=!(O?v.altKey:v.ctrlKey)),y}function KD(s,f,v,p){l?setTimeout(_t(Ew,s),0):s.curOp.focus=ot();var y=qD(s,v,p),S=s.doc.sel,A;s.options.dragDrop&&Ut&&!s.isReadOnly()&&v=="single"&&(A=S.contains(f))>-1&&(be((A=S.ranges[A]).from(),f)<0||f.xRel>0)&&(be(A.to(),f)>0||f.xRel<0)?GD(s,p,f,y):YD(s,p,f,y)}function GD(s,f,v,p){var y=s.display,S=!1,A=er(s,function(B){c&&(y.scroller.draggable=!1),s.state.draggingText=!1,s.state.delayingBlurEvent&&(s.hasFocus()?s.state.delayingBlurEvent=!1:Qg(s)),ce(y.wrapper.ownerDocument,"mouseup",A),ce(y.wrapper.ownerDocument,"mousemove",P),ce(y.scroller,"dragstart",N),ce(y.scroller,"drop",A),S||(De(B),p.addNew||ah(s.doc,v,null,null,p.extend),c&&!m||l&&u==9?setTimeout(function(){y.wrapper.ownerDocument.body.focus({preventScroll:!0}),y.input.focus()},20):y.input.focus())}),P=function(B){S=S||Math.abs(f.clientX-B.clientX)+Math.abs(f.clientY-B.clientY)>=10},N=function(){return S=!0};c&&(y.scroller.draggable=!0),s.state.draggingText=A,A.copy=!p.moveOnDrag,bt(y.wrapper.ownerDocument,"mouseup",A),bt(y.wrapper.ownerDocument,"mousemove",P),bt(y.scroller,"dragstart",N),bt(y.scroller,"drop",A),s.state.delayingBlurEvent=!0,setTimeout(function(){return y.input.focus()},20),y.scroller.dragDrop&&y.scroller.dragDrop()}function ES(s,f,v){if(v=="char")return new Xe(f,f);if(v=="word")return s.findWordAt(f);if(v=="line")return new Xe(qt(f.line,0),Xt(s.doc,qt(f.line+1,0)));var p=v(s,f);return new Xe(p.from,p.to)}function YD(s,f,v,p){l&&Qg(s);var y=s.display,S=s.doc;De(f);var A,P,N=S.sel,B=N.ranges;if(p.addNew&&!p.extend?(P=S.sel.contains(v),P>-1?A=B[P]:A=new Xe(v,v)):(A=S.sel.primary(),P=S.sel.primIndex),p.unit=="rectangle")p.addNew||(A=new Xe(v,v)),v=Ls(s,f,!0,!0),P=-1;else{var at=ES(s,v,p.unit);p.extend?A=dm(A,at.anchor,at.head,p.extend):A=at}p.addNew?P==-1?(P=B.length,yr(S,ho(s,B.concat([A]),P),{scroll:!1,origin:"*mouse"})):B.length>1&&B[P].empty()&&p.unit=="char"&&!p.extend?(yr(S,ho(s,B.slice(0,P).concat(B.slice(P+1)),0),{scroll:!1,origin:"*mouse"}),N=S.sel):hm(S,P,A,Zt):(P=0,yr(S,new Ai([A],0),Zt),N=S.sel);var ft=v;function Ot(le){if(be(ft,le)!=0)if(ft=le,p.unit=="rectangle"){for(var pe=[],we=s.options.tabSize,_e=At(he(S,v.line).text,v.ch,we),Pe=At(he(S,le.line).text,le.ch,we),rn=Math.min(_e,Pe),rr=Math.max(_e,Pe),Sn=Math.min(v.line,le.line),ii=Math.min(s.lastLine(),Math.max(v.line,le.line));Sn<=ii;Sn++){var Ur=he(S,Sn).text,zn=Jt(Ur,rn,we);rn==rr?pe.push(new Xe(qt(Sn,zn),qt(Sn,zn))):Ur.length>zn&&pe.push(new Xe(qt(Sn,zn),qt(Sn,Jt(Ur,rr,we))))}pe.length||pe.push(new Xe(v,v)),yr(S,ho(s,N.ranges.slice(0,P).concat(pe),P),{origin:"*mouse",scroll:!1}),s.scrollIntoView(le)}else{var Ir=A,cr=ES(s,le,p.unit),Yn=Ir.anchor,Hn;be(cr.anchor,Yn)>0?(Hn=cr.head,Yn=Mt(Ir.from(),cr.anchor)):(Hn=cr.anchor,Yn=lt(Ir.to(),cr.head));var Tn=N.ranges.slice(0);Tn[P]=XD(s,new Xe(Xt(S,Yn),Hn)),yr(S,ho(s,Tn,P),Zt)}}var St=y.wrapper.getBoundingClientRect(),Pt=0;function Ft(le){var pe=++Pt,we=Ls(s,le,!0,p.unit=="rectangle");if(we)if(be(we,ft)!=0){s.curOp.focus=ot(),Ot(we);var _e=th(y,S);(we.line>=_e.to||we.line<_e.from)&&setTimeout(er(s,function(){Pt==pe&&Ft(le)}),150)}else{var Pe=le.clientY<St.top?-20:le.clientY>St.bottom?20:0;Pe&&setTimeout(er(s,function(){Pt==pe&&(y.scroller.scrollTop+=Pe,Ft(le))}),50)}}function Qt(le){s.state.selectingText=!1,Pt=1/0,le&&(De(le),y.input.focus()),ce(y.wrapper.ownerDocument,"mousemove",se),ce(y.wrapper.ownerDocument,"mouseup",de),S.history.lastSelOrigin=null}var se=er(s,function(le){le.buttons===0||!Ct(le)?Qt(le):Ft(le)}),de=er(s,Qt);s.state.selectingText=de,bt(y.wrapper.ownerDocument,"mousemove",se),bt(y.wrapper.ownerDocument,"mouseup",de)}function XD(s,f){var v=f.anchor,p=f.head,y=he(s.doc,v.line);if(be(v,p)==0&&v.sticky==p.sticky)return f;var S=F(y);if(!S)return f;var A=J(S,v.ch,v.sticky),P=S[A];if(P.from!=v.ch&&P.to!=v.ch)return f;var N=A+(P.from==v.ch==(P.level!=1)?0:1);if(N==0||N==S.length)return f;var B;if(p.line!=v.line)B=(p.line-v.line)*(s.doc.direction=="ltr"?1:-1)>0;else{var at=J(S,p.ch,p.sticky),ft=at-A||(p.ch-v.ch)*(P.level==1?-1:1);at==N-1||at==N?B=ft<0:B=ft>0}var Ot=S[N+(B?-1:0)],St=B==(Ot.level==1),Pt=St?Ot.from:Ot.to,Ft=St?"after":"before";return v.ch==Pt&&v.sticky==Ft?f:new Xe(new qt(v.line,Pt,Ft),p)}function TS(s,f,v,p){var y,S;if(f.touches)y=f.touches[0].clientX,S=f.touches[0].clientY;else try{y=f.clientX,S=f.clientY}catch{return!1}if(y>=Math.floor(s.display.gutters.getBoundingClientRect().right))return!1;p&&De(f);var A=s.display,P=A.lineDiv.getBoundingClientRect();if(S>P.bottom||!Oe(s,v))return vn(f);S-=P.top-A.viewOffset;for(var N=0;N<s.display.gutterSpecs.length;++N){var B=A.gutters.childNodes[N];if(B&&B.getBoundingClientRect().right>=y){var at=tn(s.doc,S),ft=s.display.gutterSpecs[N];return ee(s,v,s,at,ft.className,f),vn(f)}}}function _m(s,f){return TS(s,f,"gutterClick",!0)}function AS(s,f){Ki(s.display,f)||ZD(s,f)||ne(s,f,"contextmenu")||Y||s.display.input.onContextMenu(f)}function ZD(s,f){return Oe(s,"gutterContextMenu")?TS(s,f,"gutterContextMenu",!1):!1}function kS(s){s.display.wrapper.className=s.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+s.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Ec(s)}var Hl={toString:function(){return"CodeMirror.Init"}},DS={},hh={};function $D(s){var f=s.optionHandlers;function v(p,y,S,A){s.defaults[p]=y,S&&(f[p]=A?function(P,N,B){B!=Hl&&S(P,N,B)}:S)}s.defineOption=v,s.Init=Hl,v("value","",function(p,y){return p.setValue(y)},!0),v("mode",null,function(p,y){p.doc.modeOption=y,um(p)},!0),v("indentUnit",2,um,!0),v("indentWithTabs",!1),v("smartIndent",!0),v("tabSize",4,function(p){Lc(p),Ec(p),Vr(p)},!0),v("lineSeparator",null,function(p,y){if(p.doc.lineSep=y,!!y){var S=[],A=p.doc.first;p.doc.iter(function(N){for(var B=0;;){var at=N.text.indexOf(y,B);if(at==-1)break;B=at+y.length,S.push(qt(A,at))}A++});for(var P=S.length-1;P>=0;P--)Bl(p.doc,y,S[P],qt(S[P].line,S[P].ch+y.length))}}),v("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,function(p,y,S){p.state.specialChars=new RegExp(y.source+(y.test("	")?"":"|	"),"g"),S!=Hl&&p.refresh()}),v("specialCharPlaceholder",Bd,function(p){return p.refresh()},!0),v("electricChars",!0),v("inputStyle",x?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),v("spellcheck",!1,function(p,y){return p.getInputField().spellcheck=y},!0),v("autocorrect",!1,function(p,y){return p.getInputField().autocorrect=y},!0),v("autocapitalize",!1,function(p,y){return p.getInputField().autocapitalize=y},!0),v("rtlMoveVisually",!V),v("wholeLineUpdateBefore",!0),v("theme","default",function(p){kS(p),Rc(p)},!0),v("keyMap","default",function(p,y,S){var A=fh(y),P=S!=Hl&&fh(S);P&&P.detach&&P.detach(p,A),A.attach&&A.attach(p,P||null)}),v("extraKeys",null),v("configureMouse",null),v("lineWrapping",!1,QD,!0),v("gutters",[],function(p,y){p.display.gutterSpecs=sm(y,p.options.lineNumbers),Rc(p)},!0),v("fixedGutter",!0,function(p,y){p.display.gutters.style.left=y?Zg(p.display)+"px":"0",p.refresh()},!0),v("coverGutterNextToScrollbar",!1,function(p){return Ll(p)},!0),v("scrollbarStyle","native",function(p){Mw(p),Ll(p),p.display.scrollbars.setScrollTop(p.doc.scrollTop),p.display.scrollbars.setScrollLeft(p.doc.scrollLeft)},!0),v("lineNumbers",!1,function(p,y){p.display.gutterSpecs=sm(p.options.gutters,y),Rc(p)},!0),v("firstLineNumber",1,Rc,!0),v("lineNumberFormatter",function(p){return p},Rc,!0),v("showCursorWhenSelecting",!1,Tc,!0),v("resetSelectionOnContextMenu",!0),v("lineWiseCopyCut",!0),v("pasteLinesPerSelection",!0),v("selectionsMayTouch",!1),v("readOnly",!1,function(p,y){y=="nocursor"&&(Ml(p),p.display.input.blur()),p.display.input.readOnlyChanged(y)}),v("screenReaderLabel",null,function(p,y){y=y===""?null:y,p.display.input.screenReaderLabelChanged(y)}),v("disableInput",!1,function(p,y){y||p.display.input.reset()},!0),v("dragDrop",!0,JD),v("allowDropFileTypes",null),v("cursorBlinkRate",530),v("cursorScrollMargin",0),v("cursorHeight",1,Tc,!0),v("singleCursorHeightPerLine",!0,Tc,!0),v("workTime",100),v("workDelay",100),v("flattenSpans",!0,Lc,!0),v("addModeClass",!1,Lc,!0),v("pollInterval",100),v("undoDepth",200,function(p,y){return p.doc.history.undoDepth=y}),v("historyEventDelay",1250),v("viewportMargin",10,function(p){return p.refresh()},!0),v("maxHighlightLength",1e4,Lc,!0),v("moveInputWithCursor",!0,function(p,y){y||p.display.input.resetPosition()}),v("tabindex",null,function(p,y){return p.display.input.getField().tabIndex=y||""}),v("autofocus",null),v("direction","ltr",function(p,y){return p.doc.setDirection(y)},!0),v("phrases",null)}function JD(s,f,v){var p=v&&v!=Hl;if(!f!=!p){var y=s.display.dragFunctions,S=f?bt:ce;S(s.display.scroller,"dragstart",y.start),S(s.display.scroller,"dragenter",y.enter),S(s.display.scroller,"dragover",y.over),S(s.display.scroller,"dragleave",y.leave),S(s.display.scroller,"drop",y.drop)}}function QD(s){s.options.lineWrapping?(dt(s.display.wrapper,"CodeMirror-wrap"),s.display.sizer.style.minWidth="",s.display.sizerWidth=null):(Q(s.display.wrapper,"CodeMirror-wrap"),Ma(s)),$g(s),Vr(s),Ec(s),setTimeout(function(){return Ll(s)},100)}function yn(s,f){var v=this;if(!(this instanceof yn))return new yn(s,f);this.options=f=f?rt(f):{},rt(DS,f,!1);var p=f.value;typeof p=="string"?p=new Br(p,f.mode,null,f.lineSeparator,f.direction):f.mode&&(p.modeOption=f.mode),this.doc=p;var y=new yn.inputStyles[f.inputStyle](this),S=this.display=new dD(s,p,y,f);S.wrapper.CodeMirror=this,kS(this),f.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Mw(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new mt,keySeq:null,specialChars:null},f.autofocus&&!x&&S.input.focus(),l&&u<11&&setTimeout(function(){return v.display.input.reset(!0)},20),tP(this),PD(),Bs(this),this.curOp.forceUpdate=!0,Hw(this,p),f.autofocus&&!x||this.hasFocus()?setTimeout(function(){v.hasFocus()&&!v.state.focused&&tm(v)},20):Ml(this);for(var A in hh)hh.hasOwnProperty(A)&&hh[A](this,f[A],Hl);Nw(this),f.finishInit&&f.finishInit(this);for(var P=0;P<bm.length;++P)bm[P](this);Us(this),c&&f.lineWrapping&&getComputedStyle(S.lineDiv).textRendering=="optimizelegibility"&&(S.lineDiv.style.textRendering="auto")}yn.defaults=DS,yn.optionHandlers=hh;function tP(s){var f=s.display;bt(f.scroller,"mousedown",er(s,OS)),l&&u<11?bt(f.scroller,"dblclick",er(s,function(N){if(!ne(s,N)){var B=Ls(s,N);if(!(!B||_m(s,N)||Ki(s.display,N))){De(N);var at=s.findWordAt(B);ah(s.doc,at.anchor,at.head)}}})):bt(f.scroller,"dblclick",function(N){return ne(s,N)||De(N)}),bt(f.scroller,"contextmenu",function(N){return AS(s,N)}),bt(f.input.getField(),"contextmenu",function(N){f.scroller.contains(N.target)||AS(s,N)});var v,p={end:0};function y(){f.activeTouch&&(v=setTimeout(function(){return f.activeTouch=null},1e3),p=f.activeTouch,p.end=+new Date)}function S(N){if(N.touches.length!=1)return!1;var B=N.touches[0];return B.radiusX<=1&&B.radiusY<=1}function A(N,B){if(B.left==null)return!0;var at=B.left-N.left,ft=B.top-N.top;return at*at+ft*ft>20*20}bt(f.scroller,"touchstart",function(N){if(!ne(s,N)&&!S(N)&&!_m(s,N)){f.input.ensurePolled(),clearTimeout(v);var B=+new Date;f.activeTouch={start:B,moved:!1,prev:B-p.end<=300?p:null},N.touches.length==1&&(f.activeTouch.left=N.touches[0].pageX,f.activeTouch.top=N.touches[0].pageY)}}),bt(f.scroller,"touchmove",function(){f.activeTouch&&(f.activeTouch.moved=!0)}),bt(f.scroller,"touchend",function(N){var B=f.activeTouch;if(B&&!Ki(f,N)&&B.left!=null&&!B.moved&&new Date-B.start<300){var at=s.coordsChar(f.activeTouch,"page"),ft;!B.prev||A(B,B.prev)?ft=new Xe(at,at):!B.prev.prev||A(B,B.prev.prev)?ft=s.findWordAt(at):ft=new Xe(qt(at.line,0),Xt(s.doc,qt(at.line+1,0))),s.setSelection(ft.anchor,ft.head),s.focus(),De(N)}y()}),bt(f.scroller,"touchcancel",y),bt(f.scroller,"scroll",function(){f.scroller.clientHeight&&(kc(s,f.scroller.scrollTop),js(s,f.scroller.scrollLeft,!0),ee(s,"scroll",s))}),bt(f.scroller,"mousewheel",function(N){return Bw(s,N)}),bt(f.scroller,"DOMMouseScroll",function(N){return Bw(s,N)}),bt(f.wrapper,"scroll",function(){return f.wrapper.scrollTop=f.wrapper.scrollLeft=0}),f.dragFunctions={enter:function(N){ne(s,N)||X(N)},over:function(N){ne(s,N)||(DD(s,N),X(N))},start:function(N){return kD(s,N)},drop:er(s,AD),leave:function(N){ne(s,N)||dS(s)}};var P=f.input.getField();bt(P,"keyup",function(N){return CS.call(s,N)}),bt(P,"keydown",er(s,SS)),bt(P,"keypress",er(s,xS)),bt(P,"focus",function(N){return tm(s,N)}),bt(P,"blur",function(N){return Ml(s,N)})}var bm=[];yn.defineInitHook=function(s){return bm.push(s)};function Gc(s,f,v,p){var y=s.doc,S;v==null&&(v="add"),v=="smart"&&(y.mode.indent?S=Fo(s,f).state:v="prev");var A=s.options.tabSize,P=he(y,f),N=At(P.text,null,A);P.stateAfter&&(P.stateAfter=null);var B=P.text.match(/^\s*/)[0],at;if(!p&&!/\S/.test(P.text))at=0,v="not";else if(v=="smart"&&(at=y.mode.indent(S,P.text.slice(B.length),P.text),at==zt||at>150)){if(!p)return;v="prev"}v=="prev"?f>y.first?at=At(he(y,f-1).text,null,A):at=0:v=="add"?at=N+s.options.indentUnit:v=="subtract"?at=N-s.options.indentUnit:typeof v=="number"&&(at=N+v),at=Math.max(0,at);var ft="",Ot=0;if(s.options.indentWithTabs)for(var St=Math.floor(at/A);St;--St)Ot+=A,ft+="	";if(Ot<at&&(ft+=Wt(at-Ot)),ft!=B)return Bl(y,ft,qt(f,0),qt(f,B.length),"+input"),P.stateAfter=null,!0;for(var Pt=0;Pt<y.sel.ranges.length;Pt++){var Ft=y.sel.ranges[Pt];if(Ft.head.line==f&&Ft.head.ch<B.length){var Qt=qt(f,B.length);hm(y,Pt,new Xe(Qt,Qt));break}}}var po=null;function ph(s){po=s}function wm(s,f,v,p,y){var S=s.doc;s.display.shift=!1,p||(p=S.sel);var A=+new Date-200,P=y=="paste"||s.state.pasteIncoming>A,N=Pn(f),B=null;if(P&&p.ranges.length>1)if(po&&po.text.join(`
`)==f){if(p.ranges.length%po.text.length==0){B=[];for(var at=0;at<po.text.length;at++)B.push(S.splitLines(po.text[at]))}}else N.length==p.ranges.length&&s.options.pasteLinesPerSelection&&(B=kt(N,function(se){return[se]}));for(var ft=s.curOp.updateInput,Ot=p.ranges.length-1;Ot>=0;Ot--){var St=p.ranges[Ot],Pt=St.from(),Ft=St.to();St.empty()&&(v&&v>0?Pt=qt(Pt.line,Pt.ch-v):s.state.overwrite&&!P?Ft=qt(Ft.line,Math.min(he(S,Ft.line).text.length,Ft.ch+R(N).length)):P&&po&&po.lineWise&&po.text.join(`
`)==N.join(`
`)&&(Pt=Ft=qt(Pt.line,0)));var Qt={from:Pt,to:Ft,text:B?B[Ot%B.length]:N,origin:y||(P?"paste":s.state.cutIncoming>A?"cut":"+input")};Vl(s.doc,Qt),En(s,"inputRead",s,Qt)}f&&!P&&MS(s,f),Rl(s),s.curOp.updateInput<2&&(s.curOp.updateInput=ft),s.curOp.typing=!0,s.state.pasteIncoming=s.state.cutIncoming=-1}function PS(s,f){var v=s.clipboardData&&s.clipboardData.getData("Text");if(v)return s.preventDefault(),!f.isReadOnly()&&!f.options.disableInput&&ri(f,function(){return wm(f,v,0,null,"paste")}),!0}function MS(s,f){if(!(!s.options.electricChars||!s.options.smartIndent))for(var v=s.doc.sel,p=v.ranges.length-1;p>=0;p--){var y=v.ranges[p];if(!(y.head.ch>100||p&&v.ranges[p-1].head.line==y.head.line)){var S=s.getModeAt(y.head),A=!1;if(S.electricChars){for(var P=0;P<S.electricChars.length;P++)if(f.indexOf(S.electricChars.charAt(P))>-1){A=Gc(s,y.head.line,"smart");break}}else S.electricInput&&S.electricInput.test(he(s.doc,y.head.line).text.slice(0,y.head.ch))&&(A=Gc(s,y.head.line,"smart"));A&&En(s,"electricInput",s,y.head.line)}}}function RS(s){for(var f=[],v=[],p=0;p<s.doc.sel.ranges.length;p++){var y=s.doc.sel.ranges[p].head.line,S={anchor:qt(y,0),head:qt(y+1,0)};v.push(S),f.push(s.getRange(S.anchor,S.head))}return{text:f,ranges:v}}function LS(s,f,v,p){s.setAttribute("autocorrect",v?"":"off"),s.setAttribute("autocapitalize",p?"":"off"),s.setAttribute("spellcheck",!!f)}function NS(){var s=I("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),f=I("div",[s],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return c?s.style.width="1000px":s.setAttribute("wrap","off"),C&&(s.style.border="1px solid black"),LS(s),f}function eP(s){var f=s.optionHandlers,v=s.helpers={};s.prototype={constructor:s,focus:function(){window.focus(),this.display.input.focus()},setOption:function(p,y){var S=this.options,A=S[p];S[p]==y&&p!="mode"||(S[p]=y,f.hasOwnProperty(p)&&er(this,f[p])(this,y,A),ee(this,"optionChange",this,p))},getOption:function(p){return this.options[p]},getDoc:function(){return this.doc},addKeyMap:function(p,y){this.state.keyMaps[y?"push":"unshift"](fh(p))},removeKeyMap:function(p){for(var y=this.state.keyMaps,S=0;S<y.length;++S)if(y[S]==p||y[S].name==p)return y.splice(S,1),!0},addOverlay:Tr(function(p,y){var S=p.token?p:s.getMode(this.options,p);if(S.startState)throw new Error("Overlays may not be stateful.");wt(this.state.overlays,{mode:S,modeSpec:p,opaque:y&&y.opaque,priority:y&&y.priority||0},function(A){return A.priority}),this.state.modeGen++,Vr(this)}),removeOverlay:Tr(function(p){for(var y=this.state.overlays,S=0;S<y.length;++S){var A=y[S].modeSpec;if(A==p||typeof p=="string"&&A.name==p){y.splice(S,1),this.state.modeGen++,Vr(this);return}}}),indentLine:Tr(function(p,y,S){typeof y!="string"&&typeof y!="number"&&(y==null?y=this.options.smartIndent?"smart":"prev":y=y?"add":"subtract"),Qr(this.doc,p)&&Gc(this,p,y,S)}),indentSelection:Tr(function(p){for(var y=this.doc.sel.ranges,S=-1,A=0;A<y.length;A++){var P=y[A];if(P.empty())P.head.line>S&&(Gc(this,P.head.line,p,!0),S=P.head.line,A==this.doc.sel.primIndex&&Rl(this));else{var N=P.from(),B=P.to(),at=Math.max(S,N.line);S=Math.min(this.lastLine(),B.line-(B.ch?0:1))+1;for(var ft=at;ft<S;++ft)Gc(this,ft,p);var Ot=this.doc.sel.ranges;N.ch==0&&y.length==Ot.length&&Ot[A].from().ch>0&&hm(this.doc,A,new Xe(N,Ot[A].to()),It)}}}),getTokenAt:function(p,y){return ka(this,p,y)},getLineTokens:function(p,y){return ka(this,qt(p),y,!0)},getTokenTypeAt:function(p){p=Xt(this.doc,p);var y=Ta(this,he(this.doc,p.line)),S=0,A=(y.length-1)/2,P=p.ch,N;if(P==0)N=y[2];else for(;;){var B=S+A>>1;if((B?y[B*2-1]:0)>=P)A=B;else if(y[B*2+1]<P)S=B+1;else{N=y[B*2+2];break}}var at=N?N.indexOf("overlay "):-1;return at<0?N:at==0?null:N.slice(0,at-1)},getModeAt:function(p){var y=this.doc.mode;return y.innerMode?s.innerMode(y,this.getTokenAt(p).state).mode:y},getHelper:function(p,y){return this.getHelpers(p,y)[0]},getHelpers:function(p,y){var S=[];if(!v.hasOwnProperty(y))return S;var A=v[y],P=this.getModeAt(p);if(typeof P[y]=="string")A[P[y]]&&S.push(A[P[y]]);else if(P[y])for(var N=0;N<P[y].length;N++){var B=A[P[y][N]];B&&S.push(B)}else P.helperType&&A[P.helperType]?S.push(A[P.helperType]):A[P.name]&&S.push(A[P.name]);for(var at=0;at<A._global.length;at++){var ft=A._global[at];ft.pred(P,this)&&Tt(S,ft.val)==-1&&S.push(ft.val)}return S},getStateAfter:function(p,y){var S=this.doc;return p=Gt(S,p??S.first+S.size-1),Fo(this,p+1,y).state},cursorCoords:function(p,y){var S,A=this.doc.sel.primary();return p==null?S=A.head:typeof p=="object"?S=Xt(this.doc,p):S=p?A.from():A.to(),fo(this,S,y||"page")},charCoords:function(p,y){return Zd(this,Xt(this.doc,p),y||"page")},coordsChar:function(p,y){return p=yw(this,p,y||"page"),Gg(this,p.left,p.top)},lineAtHeight:function(p,y){return p=yw(this,{top:p,left:0},y||"page").top,tn(this.doc,p+this.display.viewOffset)},heightAtLine:function(p,y,S){var A=!1,P;if(typeof p=="number"){var N=this.doc.first+this.doc.size-1;p<this.doc.first?p=this.doc.first:p>N&&(p=N,A=!0),P=he(this.doc,p)}else P=p;return Xd(this,P,{top:0,left:0},y||"page",S||A).top+(A?this.doc.height-qi(P):0)},defaultTextHeight:function(){return Dl(this.display)},defaultCharWidth:function(){return Pl(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(p,y,S,A,P){var N=this.display;p=fo(this,Xt(this.doc,p));var B=p.bottom,at=p.left;if(y.style.position="absolute",y.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(y),N.sizer.appendChild(y),A=="over")B=p.top;else if(A=="above"||A=="near"){var ft=Math.max(N.wrapper.clientHeight,this.doc.height),Ot=Math.max(N.sizer.clientWidth,N.lineSpace.clientWidth);(A=="above"||p.bottom+y.offsetHeight>ft)&&p.top>y.offsetHeight?B=p.top-y.offsetHeight:p.bottom+y.offsetHeight<=ft&&(B=p.bottom),at+y.offsetWidth>Ot&&(at=Ot-y.offsetWidth)}y.style.top=B+"px",y.style.left=y.style.right="",P=="right"?(at=N.sizer.clientWidth-y.offsetWidth,y.style.right="0px"):(P=="left"?at=0:P=="middle"&&(at=(N.sizer.clientWidth-y.offsetWidth)/2),y.style.left=at+"px"),S&&Jk(this,{left:at,top:B,right:at+y.offsetWidth,bottom:B+y.offsetHeight})},triggerOnKeyDown:Tr(SS),triggerOnKeyPress:Tr(xS),triggerOnKeyUp:CS,triggerOnMouseDown:Tr(OS),execCommand:function(p){if(Fc.hasOwnProperty(p))return Fc[p].call(null,this)},triggerElectric:Tr(function(p){MS(this,p)}),findPosH:function(p,y,S,A){var P=1;y<0&&(P=-1,y=-y);for(var N=Xt(this.doc,p),B=0;B<y&&(N=Sm(this.doc,N,P,S,A),!N.hitSide);++B);return N},moveH:Tr(function(p,y){var S=this;this.extendSelectionsBy(function(A){return S.display.shift||S.doc.extend||A.empty()?Sm(S.doc,A.head,p,y,S.options.rtlMoveVisually):p<0?A.from():A.to()},fe)}),deleteH:Tr(function(p,y){var S=this.doc.sel,A=this.doc;S.somethingSelected()?A.replaceSelection("",null,"+delete"):zl(this,function(P){var N=Sm(A,P.head,p,y,!1);return p<0?{from:N,to:P.head}:{from:P.head,to:N}})}),findPosV:function(p,y,S,A){var P=1,N=A;y<0&&(P=-1,y=-y);for(var B=Xt(this.doc,p),at=0;at<y;++at){var ft=fo(this,B,"div");if(N==null?N=ft.left:ft.left=N,B=jS(this,ft,P,S),B.hitSide)break}return B},moveV:Tr(function(p,y){var S=this,A=this.doc,P=[],N=!this.display.shift&&!A.extend&&A.sel.somethingSelected();if(A.extendSelectionsBy(function(at){if(N)return p<0?at.from():at.to();var ft=fo(S,at.head,"div");at.goalColumn!=null&&(ft.left=at.goalColumn),P.push(ft.left);var Ot=jS(S,ft,p,y);return y=="page"&&at==A.sel.primary()&&nm(S,Zd(S,Ot,"div").top-ft.top),Ot},fe),P.length)for(var B=0;B<A.sel.ranges.length;B++)A.sel.ranges[B].goalColumn=P[B]}),findWordAt:function(p){var y=this.doc,S=he(y,p.line).text,A=p.ch,P=p.ch;if(S){var N=this.getHelper(p,"wordChars");(p.sticky=="before"||P==S.length)&&A?--A:++P;for(var B=S.charAt(A),at=it(B,N)?function(ft){return it(ft,N)}:/\s/.test(B)?function(ft){return/\s/.test(ft)}:function(ft){return!/\s/.test(ft)&&!it(ft)};A>0&&at(S.charAt(A-1));)--A;for(;P<S.length&&at(S.charAt(P));)++P}return new Xe(qt(p.line,A),qt(p.line,P))},toggleOverwrite:function(p){p!=null&&p==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?dt(this.display.cursorDiv,"CodeMirror-overwrite"):Q(this.display.cursorDiv,"CodeMirror-overwrite"),ee(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==ot()},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:Tr(function(p,y){Ac(this,p,y)}),getScrollInfo:function(){var p=this.display.scroller;return{left:p.scrollLeft,top:p.scrollTop,height:p.scrollHeight-ni(this)-this.display.barHeight,width:p.scrollWidth-ni(this)-this.display.barWidth,clientHeight:j(this),clientWidth:Jo(this)}},scrollIntoView:Tr(function(p,y){p==null?(p={from:this.doc.sel.primary().head,to:null},y==null&&(y=this.options.cursorScrollMargin)):typeof p=="number"?p={from:qt(p,0),to:null}:p.from==null&&(p={from:p,to:null}),p.to||(p.to=p.from),p.margin=y||0,p.from.line!=null?Qk(this,p):Aw(this,p.from,p.to,p.margin)}),setSize:Tr(function(p,y){var S=this,A=function(N){return typeof N=="number"||/^\d+$/.test(String(N))?N+"px":N};p!=null&&(this.display.wrapper.style.width=A(p)),y!=null&&(this.display.wrapper.style.height=A(y)),this.options.lineWrapping&&vw(this);var P=this.display.viewFrom;this.doc.iter(P,this.display.viewTo,function(N){if(N.widgets){for(var B=0;B<N.widgets.length;B++)if(N.widgets[B].noHScroll){Ia(S,P,"widget");break}}++P}),this.curOp.forceUpdate=!0,ee(this,"refresh",this)}),operation:function(p){return ri(this,p)},startOperation:function(){return Bs(this)},endOperation:function(){return Us(this)},refresh:Tr(function(){var p=this.display.cachedTextHeight;Vr(this),this.curOp.forceUpdate=!0,Ec(this),Ac(this,this.doc.scrollLeft,this.doc.scrollTop),om(this.display),(p==null||Math.abs(p-Dl(this.display))>.5||this.options.lineWrapping)&&$g(this),ee(this,"refresh",this)}),swapDoc:Tr(function(p){var y=this.doc;return y.cm=null,this.state.selectingText&&this.state.selectingText(),Hw(this,p),Ec(this),this.display.input.reset(),Ac(this,p.scrollLeft,p.scrollTop),this.curOp.forceScroll=!0,En(this,"swapDoc",this,y),y}),phrase:function(p){var y=this.options.phrases;return y&&Object.prototype.hasOwnProperty.call(y,p)?y[p]:p},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Re(s),s.registerHelper=function(p,y,S){v.hasOwnProperty(p)||(v[p]=s[p]={_global:[]}),v[p][y]=S},s.registerGlobalHelper=function(p,y,S,A){s.registerHelper(p,y,A),v[p]._global.push({pred:S,val:A})}}function Sm(s,f,v,p,y){var S=f,A=v,P=he(s,f.line),N=y&&s.direction=="rtl"?-v:v;function B(){var de=f.line+N;return de<s.first||de>=s.first+s.size?!1:(f=new qt(de,f.ch,f.sticky),P=he(s,de))}function at(de){var le;if(p=="codepoint"){var pe=P.text.charCodeAt(f.ch+(v>0?0:-1));if(isNaN(pe))le=null;else{var we=v>0?pe>=55296&&pe<56320:pe>=56320&&pe<57343;le=new qt(f.line,Math.max(0,Math.min(P.text.length,f.ch+v*(we?2:1))),-v)}}else y?le=jD(s.cm,P,f,v):le=vm(P,f,v);if(le==null)if(!de&&B())f=gm(y,s.cm,P,f.line,N);else return!1;else f=le;return!0}if(p=="char"||p=="codepoint")at();else if(p=="column")at(!0);else if(p=="word"||p=="group")for(var ft=null,Ot=p=="group",St=s.cm&&s.cm.getHelper(f,"wordChars"),Pt=!0;!(v<0&&!at(!Pt));Pt=!1){var Ft=P.text.charAt(f.ch)||`
`,Qt=it(Ft,St)?"w":Ot&&Ft==`
`?"n":!Ot||/\s/.test(Ft)?null:"p";if(Ot&&!Pt&&!Qt&&(Qt="s"),ft&&ft!=Qt){v<0&&(v=1,at(),f.sticky="after");break}if(Qt&&(ft=Qt),v>0&&!at(!Pt))break}var se=lh(s,f,S,A,!0);return Si(S,se)&&(se.hitSide=!0),se}function jS(s,f,v,p){var y=s.doc,S=f.left,A;if(p=="page"){var P=Math.min(s.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),N=Math.max(P-.5*Dl(s.display),3);A=(v>0?f.bottom:f.top)+v*N}else p=="line"&&(A=v>0?f.bottom+3:f.top-3);for(var B;B=Gg(s,S,A),!!B.outside;){if(v<0?A<=0:A>=y.height){B.hitSide=!0;break}A+=v*5}return B}var Qe=function(s){this.cm=s,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new mt,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};Qe.prototype.init=function(s){var f=this,v=this,p=v.cm,y=v.div=s.lineDiv;y.contentEditable=!0,LS(y,p.options.spellcheck,p.options.autocorrect,p.options.autocapitalize);function S(P){for(var N=P.target;N;N=N.parentNode){if(N==y)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(N.className))break}return!1}bt(y,"paste",function(P){!S(P)||ne(p,P)||PS(P,p)||u<=11&&setTimeout(er(p,function(){return f.updateFromDOM()}),20)}),bt(y,"compositionstart",function(P){f.composing={data:P.data,done:!1}}),bt(y,"compositionupdate",function(P){f.composing||(f.composing={data:P.data,done:!1})}),bt(y,"compositionend",function(P){f.composing&&(P.data!=f.composing.data&&f.readFromDOMSoon(),f.composing.done=!0)}),bt(y,"touchstart",function(){return v.forceCompositionEnd()}),bt(y,"input",function(){f.composing||f.readFromDOMSoon()});function A(P){if(!(!S(P)||ne(p,P))){if(p.somethingSelected())ph({lineWise:!1,text:p.getSelections()}),P.type=="cut"&&p.replaceSelection("",null,"cut");else if(p.options.lineWiseCopyCut){var N=RS(p);ph({lineWise:!0,text:N.text}),P.type=="cut"&&p.operation(function(){p.setSelections(N.ranges,0,It),p.replaceSelection("",null,"cut")})}else return;if(P.clipboardData){P.clipboardData.clearData();var B=po.text.join(`
`);if(P.clipboardData.setData("Text",B),P.clipboardData.getData("Text")==B){P.preventDefault();return}}var at=NS(),ft=at.firstChild;p.display.lineSpace.insertBefore(at,p.display.lineSpace.firstChild),ft.value=po.text.join(`
`);var Ot=ot();Dt(ft),setTimeout(function(){p.display.lineSpace.removeChild(at),Ot.focus(),Ot==y&&v.showPrimarySelection()},50)}}bt(y,"copy",A),bt(y,"cut",A)},Qe.prototype.screenReaderLabelChanged=function(s){s?this.div.setAttribute("aria-label",s):this.div.removeAttribute("aria-label")},Qe.prototype.prepareSelection=function(){var s=xw(this.cm,!1);return s.focus=ot()==this.div,s},Qe.prototype.showSelection=function(s,f){!s||!this.cm.display.view.length||((s.focus||f)&&this.showPrimarySelection(),this.showMultipleSelections(s))},Qe.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Qe.prototype.showPrimarySelection=function(){var s=this.getSelection(),f=this.cm,v=f.doc.sel.primary(),p=v.from(),y=v.to();if(f.display.viewTo==f.display.viewFrom||p.line>=f.display.viewTo||y.line<f.display.viewFrom){s.removeAllRanges();return}var S=vh(f,s.anchorNode,s.anchorOffset),A=vh(f,s.focusNode,s.focusOffset);if(!(S&&!S.bad&&A&&!A.bad&&be(Mt(S,A),p)==0&&be(lt(S,A),y)==0)){var P=f.display.view,N=p.line>=f.display.viewFrom&&VS(f,p)||{node:P[0].measure.map[2],offset:0},B=y.line<f.display.viewTo&&VS(f,y);if(!B){var at=P[P.length-1].measure,ft=at.maps?at.maps[at.maps.length-1]:at.map;B={node:ft[ft.length-1],offset:ft[ft.length-2]-ft[ft.length-3]}}if(!N||!B){s.removeAllRanges();return}var Ot=s.rangeCount&&s.getRangeAt(0),St;try{St=tt(N.node,N.offset,B.offset,B.node)}catch{}St&&(!n&&f.state.focused?(s.collapse(N.node,N.offset),St.collapsed||(s.removeAllRanges(),s.addRange(St))):(s.removeAllRanges(),s.addRange(St)),Ot&&s.anchorNode==null?s.addRange(Ot):n&&this.startGracePeriod()),this.rememberSelection()}},Qe.prototype.startGracePeriod=function(){var s=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){s.gracePeriod=!1,s.selectionChanged()&&s.cm.operation(function(){return s.cm.curOp.selectionChanged=!0})},20)},Qe.prototype.showMultipleSelections=function(s){D(this.cm.display.cursorDiv,s.cursors),D(this.cm.display.selectionDiv,s.selection)},Qe.prototype.rememberSelection=function(){var s=this.getSelection();this.lastAnchorNode=s.anchorNode,this.lastAnchorOffset=s.anchorOffset,this.lastFocusNode=s.focusNode,this.lastFocusOffset=s.focusOffset},Qe.prototype.selectionInEditor=function(){var s=this.getSelection();if(!s.rangeCount)return!1;var f=s.getRangeAt(0).commonAncestorContainer;return M(this.div,f)},Qe.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||ot()!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},Qe.prototype.blur=function(){this.div.blur()},Qe.prototype.getField=function(){return this.div},Qe.prototype.supportsTouch=function(){return!0},Qe.prototype.receivedFocus=function(){var s=this,f=this;this.selectionInEditor()?setTimeout(function(){return s.pollSelection()},20):ri(this.cm,function(){return f.cm.curOp.selectionChanged=!0});function v(){f.cm.state.focused&&(f.pollSelection(),f.polling.set(f.cm.options.pollInterval,v))}this.polling.set(this.cm.options.pollInterval,v)},Qe.prototype.selectionChanged=function(){var s=this.getSelection();return s.anchorNode!=this.lastAnchorNode||s.anchorOffset!=this.lastAnchorOffset||s.focusNode!=this.lastFocusNode||s.focusOffset!=this.lastFocusOffset},Qe.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var s=this.getSelection(),f=this.cm;if(w&&h&&this.cm.display.gutterSpecs.length&&nP(s.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var v=vh(f,s.anchorNode,s.anchorOffset),p=vh(f,s.focusNode,s.focusOffset);v&&p&&ri(f,function(){yr(f.doc,Ha(v,p),It),(v.bad||p.bad)&&(f.curOp.selectionChanged=!0)})}}},Qe.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var s=this.cm,f=s.display,v=s.doc.sel.primary(),p=v.from(),y=v.to();if(p.ch==0&&p.line>s.firstLine()&&(p=qt(p.line-1,he(s.doc,p.line-1).length)),y.ch==he(s.doc,y.line).text.length&&y.line<s.lastLine()&&(y=qt(y.line+1,0)),p.line<f.viewFrom||y.line>f.viewTo-1)return!1;var S,A,P;p.line==f.viewFrom||(S=Ns(s,p.line))==0?(A=Ne(f.view[0].line),P=f.view[0].node):(A=Ne(f.view[S].line),P=f.view[S-1].node.nextSibling);var N=Ns(s,y.line),B,at;if(N==f.view.length-1?(B=f.viewTo-1,at=f.lineDiv.lastChild):(B=Ne(f.view[N+1].line)-1,at=f.view[N+1].node.previousSibling),!P)return!1;for(var ft=s.doc.splitLines(rP(s,P,at,A,B)),Ot=Jn(s.doc,qt(A,0),qt(B,he(s.doc,B).text.length));ft.length>1&&Ot.length>1;)if(R(ft)==R(Ot))ft.pop(),Ot.pop(),B--;else if(ft[0]==Ot[0])ft.shift(),Ot.shift(),A++;else break;for(var St=0,Pt=0,Ft=ft[0],Qt=Ot[0],se=Math.min(Ft.length,Qt.length);St<se&&Ft.charCodeAt(St)==Qt.charCodeAt(St);)++St;for(var de=R(ft),le=R(Ot),pe=Math.min(de.length-(ft.length==1?St:0),le.length-(Ot.length==1?St:0));Pt<pe&&de.charCodeAt(de.length-Pt-1)==le.charCodeAt(le.length-Pt-1);)++Pt;if(ft.length==1&&Ot.length==1&&A==p.line)for(;St&&St>p.ch&&de.charCodeAt(de.length-Pt-1)==le.charCodeAt(le.length-Pt-1);)St--,Pt++;ft[ft.length-1]=de.slice(0,de.length-Pt).replace(/^\u200b+/,""),ft[0]=ft[0].slice(St).replace(/\u200b+$/,"");var we=qt(A,St),_e=qt(B,Ot.length?R(Ot).length-Pt:0);if(ft.length>1||ft[0]||be(we,_e))return Bl(s.doc,ft,we,_e,"+input"),!0},Qe.prototype.ensurePolled=function(){this.forceCompositionEnd()},Qe.prototype.reset=function(){this.forceCompositionEnd()},Qe.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Qe.prototype.readFromDOMSoon=function(){var s=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(s.readDOMTimeout=null,s.composing)if(s.composing.done)s.composing=null;else return;s.updateFromDOM()},80))},Qe.prototype.updateFromDOM=function(){var s=this;(this.cm.isReadOnly()||!this.pollContent())&&ri(this.cm,function(){return Vr(s.cm)})},Qe.prototype.setUneditable=function(s){s.contentEditable="false"},Qe.prototype.onKeyPress=function(s){s.charCode==0||this.composing||(s.preventDefault(),this.cm.isReadOnly()||er(this.cm,wm)(this.cm,String.fromCharCode(s.charCode==null?s.keyCode:s.charCode),0))},Qe.prototype.readOnlyChanged=function(s){this.div.contentEditable=String(s!="nocursor")},Qe.prototype.onContextMenu=function(){},Qe.prototype.resetPosition=function(){},Qe.prototype.needsContentAttribute=!0;function VS(s,f){var v=xt(s,f.line);if(!v||v.hidden)return null;var p=he(s.doc,f.line),y=ut(v,p,f.line),S=F(p,s.doc.direction),A="left";if(S){var P=J(S,f.ch);A=P%2?"right":"left"}var N=Ee(y.map,f.ch,A);return N.offset=N.collapse=="right"?N.end:N.start,N}function nP(s){for(var f=s;f;f=f.parentNode)if(/CodeMirror-gutter-wrapper/.test(f.className))return!0;return!1}function Fl(s,f){return f&&(s.bad=!0),s}function rP(s,f,v,p,y){var S="",A=!1,P=s.doc.lineSeparator(),N=!1;function B(St){return function(Pt){return Pt.id==St}}function at(){A&&(S+=P,N&&(S+=P),A=N=!1)}function ft(St){St&&(at(),S+=St)}function Ot(St){if(St.nodeType==1){var Pt=St.getAttribute("cm-text");if(Pt){ft(Pt);return}var Ft=St.getAttribute("cm-marker"),Qt;if(Ft){var se=s.findMarks(qt(p,0),qt(y+1,0),B(+Ft));se.length&&(Qt=se[0].find(0))&&ft(Jn(s.doc,Qt.from,Qt.to).join(P));return}if(St.getAttribute("contenteditable")=="false")return;var de=/^(pre|div|p|li|table|br)$/i.test(St.nodeName);if(!/^br$/i.test(St.nodeName)&&St.textContent.length==0)return;de&&at();for(var le=0;le<St.childNodes.length;le++)Ot(St.childNodes[le]);/^(pre|p)$/i.test(St.nodeName)&&(N=!0),de&&(A=!0)}else St.nodeType==3&&ft(St.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;Ot(f),f!=v;)f=f.nextSibling,N=!1;return S}function vh(s,f,v){var p;if(f==s.display.lineDiv){if(p=s.display.lineDiv.childNodes[v],!p)return Fl(s.clipPos(qt(s.display.viewTo-1)),!0);f=null,v=0}else for(p=f;;p=p.parentNode){if(!p||p==s.display.lineDiv)return null;if(p.parentNode&&p.parentNode==s.display.lineDiv)break}for(var y=0;y<s.display.view.length;y++){var S=s.display.view[y];if(S.node==p)return iP(S,f,v)}}function iP(s,f,v){var p=s.text.firstChild,y=!1;if(!f||!M(p,f))return Fl(qt(Ne(s.line),0),!0);if(f==p&&(y=!0,f=p.childNodes[v],v=0,!f)){var S=s.rest?R(s.rest):s.line;return Fl(qt(Ne(S),S.text.length),y)}var A=f.nodeType==3?f:null,P=f;for(!A&&f.childNodes.length==1&&f.firstChild.nodeType==3&&(A=f.firstChild,v&&(v=A.nodeValue.length));P.parentNode!=p;)P=P.parentNode;var N=s.measure,B=N.maps;function at(Qt,se,de){for(var le=-1;le<(B?B.length:0);le++)for(var pe=le<0?N.map:B[le],we=0;we<pe.length;we+=3){var _e=pe[we+2];if(_e==Qt||_e==se){var Pe=Ne(le<0?s.line:s.rest[le]),rn=pe[we]+de;return(de<0||_e!=Qt)&&(rn=pe[we+(de?1:0)]),qt(Pe,rn)}}}var ft=at(A,P,v);if(ft)return Fl(ft,y);for(var Ot=P.nextSibling,St=A?A.nodeValue.length-v:0;Ot;Ot=Ot.nextSibling){if(ft=at(Ot,Ot.firstChild,0),ft)return Fl(qt(ft.line,ft.ch-St),y);St+=Ot.textContent.length}for(var Pt=P.previousSibling,Ft=v;Pt;Pt=Pt.previousSibling){if(ft=at(Pt,Pt.firstChild,-1),ft)return Fl(qt(ft.line,ft.ch+Ft),y);Ft+=Pt.textContent.length}}var Rn=function(s){this.cm=s,this.prevInput="",this.pollingFast=!1,this.polling=new mt,this.hasSelection=!1,this.composing=null};Rn.prototype.init=function(s){var f=this,v=this,p=this.cm;this.createField(s);var y=this.textarea;s.wrapper.insertBefore(this.wrapper,s.wrapper.firstChild),C&&(y.style.width="0px"),bt(y,"input",function(){l&&u>=9&&f.hasSelection&&(f.hasSelection=null),v.poll()}),bt(y,"paste",function(A){ne(p,A)||PS(A,p)||(p.state.pasteIncoming=+new Date,v.fastPoll())});function S(A){if(!ne(p,A)){if(p.somethingSelected())ph({lineWise:!1,text:p.getSelections()});else if(p.options.lineWiseCopyCut){var P=RS(p);ph({lineWise:!0,text:P.text}),A.type=="cut"?p.setSelections(P.ranges,null,It):(v.prevInput="",y.value=P.text.join(`
`),Dt(y))}else return;A.type=="cut"&&(p.state.cutIncoming=+new Date)}}bt(y,"cut",S),bt(y,"copy",S),bt(s.scroller,"paste",function(A){if(!(Ki(s,A)||ne(p,A))){if(!y.dispatchEvent){p.state.pasteIncoming=+new Date,v.focus();return}var P=new Event("paste");P.clipboardData=A.clipboardData,y.dispatchEvent(P)}}),bt(s.lineSpace,"selectstart",function(A){Ki(s,A)||De(A)}),bt(y,"compositionstart",function(){var A=p.getCursor("from");v.composing&&v.composing.range.clear(),v.composing={start:A,range:p.markText(A,p.getCursor("to"),{className:"CodeMirror-composing"})}}),bt(y,"compositionend",function(){v.composing&&(v.poll(),v.composing.range.clear(),v.composing=null)})},Rn.prototype.createField=function(s){this.wrapper=NS(),this.textarea=this.wrapper.firstChild},Rn.prototype.screenReaderLabelChanged=function(s){s?this.textarea.setAttribute("aria-label",s):this.textarea.removeAttribute("aria-label")},Rn.prototype.prepareSelection=function(){var s=this.cm,f=s.display,v=s.doc,p=xw(s);if(s.options.moveInputWithCursor){var y=fo(s,v.sel.primary().head,"div"),S=f.wrapper.getBoundingClientRect(),A=f.lineDiv.getBoundingClientRect();p.teTop=Math.max(0,Math.min(f.wrapper.clientHeight-10,y.top+A.top-S.top)),p.teLeft=Math.max(0,Math.min(f.wrapper.clientWidth-10,y.left+A.left-S.left))}return p},Rn.prototype.showSelection=function(s){var f=this.cm,v=f.display;D(v.cursorDiv,s.cursors),D(v.selectionDiv,s.selection),s.teTop!=null&&(this.wrapper.style.top=s.teTop+"px",this.wrapper.style.left=s.teLeft+"px")},Rn.prototype.reset=function(s){if(!(this.contextMenuPending||this.composing)){var f=this.cm;if(f.somethingSelected()){this.prevInput="";var v=f.getSelection();this.textarea.value=v,f.state.focused&&Dt(this.textarea),l&&u>=9&&(this.hasSelection=v)}else s||(this.prevInput=this.textarea.value="",l&&u>=9&&(this.hasSelection=null))}},Rn.prototype.getField=function(){return this.textarea},Rn.prototype.supportsTouch=function(){return!1},Rn.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!x||ot()!=this.textarea))try{this.textarea.focus()}catch{}},Rn.prototype.blur=function(){this.textarea.blur()},Rn.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Rn.prototype.receivedFocus=function(){this.slowPoll()},Rn.prototype.slowPoll=function(){var s=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){s.poll(),s.cm.state.focused&&s.slowPoll()})},Rn.prototype.fastPoll=function(){var s=!1,f=this;f.pollingFast=!0;function v(){var p=f.poll();!p&&!s?(s=!0,f.polling.set(60,v)):(f.pollingFast=!1,f.slowPoll())}f.polling.set(20,v)},Rn.prototype.poll=function(){var s=this,f=this.cm,v=this.textarea,p=this.prevInput;if(this.contextMenuPending||!f.state.focused||un(v)&&!p&&!this.composing||f.isReadOnly()||f.options.disableInput||f.state.keySeq)return!1;var y=v.value;if(y==p&&!f.somethingSelected())return!1;if(l&&u>=9&&this.hasSelection===y||O&&/[\uf700-\uf7ff]/.test(y))return f.display.input.reset(),!1;if(f.doc.sel==f.display.selForContextMenu){var S=y.charCodeAt(0);if(S==8203&&!p&&(p="​"),S==8666)return this.reset(),this.cm.execCommand("undo")}for(var A=0,P=Math.min(p.length,y.length);A<P&&p.charCodeAt(A)==y.charCodeAt(A);)++A;return ri(f,function(){wm(f,y.slice(A),p.length-A,null,s.composing?"*compose":null),y.length>1e3||y.indexOf(`
`)>-1?v.value=s.prevInput="":s.prevInput=y,s.composing&&(s.composing.range.clear(),s.composing.range=f.markText(s.composing.start,f.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},Rn.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Rn.prototype.onKeyPress=function(){l&&u>=9&&(this.hasSelection=null),this.fastPoll()},Rn.prototype.onContextMenu=function(s){var f=this,v=f.cm,p=v.display,y=f.textarea;f.contextMenuPending&&f.contextMenuPending();var S=Ls(v,s),A=p.scroller.scrollTop;if(!S||g)return;var P=v.options.resetSelectionOnContextMenu;P&&v.doc.sel.contains(S)==-1&&er(v,yr)(v.doc,Ha(S),It);var N=y.style.cssText,B=f.wrapper.style.cssText,at=f.wrapper.offsetParent.getBoundingClientRect();f.wrapper.style.cssText="position: static",y.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(s.clientY-at.top-5)+"px; left: "+(s.clientX-at.left-5)+`px;
      z-index: 1000; background: `+(l?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var ft;c&&(ft=window.scrollY),p.input.focus(),c&&window.scrollTo(null,ft),p.input.reset(),v.somethingSelected()||(y.value=f.prevInput=" "),f.contextMenuPending=St,p.selForContextMenu=v.doc.sel,clearTimeout(p.detectingSelectAll);function Ot(){if(y.selectionStart!=null){var Ft=v.somethingSelected(),Qt="​"+(Ft?y.value:"");y.value="⇚",y.value=Qt,f.prevInput=Ft?"":"​",y.selectionStart=1,y.selectionEnd=Qt.length,p.selForContextMenu=v.doc.sel}}function St(){if(f.contextMenuPending==St&&(f.contextMenuPending=!1,f.wrapper.style.cssText=B,y.style.cssText=N,l&&u<9&&p.scrollbars.setScrollTop(p.scroller.scrollTop=A),y.selectionStart!=null)){(!l||l&&u<9)&&Ot();var Ft=0,Qt=function(){p.selForContextMenu==v.doc.sel&&y.selectionStart==0&&y.selectionEnd>0&&f.prevInput=="​"?er(v,eS)(v):Ft++<10?p.detectingSelectAll=setTimeout(Qt,500):(p.selForContextMenu=null,p.input.reset())};p.detectingSelectAll=setTimeout(Qt,200)}}if(l&&u>=9&&Ot(),Y){X(s);var Pt=function(){ce(window,"mouseup",Pt),setTimeout(St,20)};bt(window,"mouseup",Pt)}else setTimeout(St,50)},Rn.prototype.readOnlyChanged=function(s){s||this.reset(),this.textarea.disabled=s=="nocursor",this.textarea.readOnly=!!s},Rn.prototype.setUneditable=function(){},Rn.prototype.needsContentAttribute=!1;function oP(s,f){if(f=f?rt(f):{},f.value=s.value,!f.tabindex&&s.tabIndex&&(f.tabindex=s.tabIndex),!f.placeholder&&s.placeholder&&(f.placeholder=s.placeholder),f.autofocus==null){var v=ot();f.autofocus=v==s||s.getAttribute("autofocus")!=null&&v==document.body}function p(){s.value=P.getValue()}var y;if(s.form&&(bt(s.form,"submit",p),!f.leaveSubmitMethodAlone)){var S=s.form;y=S.submit;try{var A=S.submit=function(){p(),S.submit=y,S.submit(),S.submit=A}}catch{}}f.finishInit=function(N){N.save=p,N.getTextArea=function(){return s},N.toTextArea=function(){N.toTextArea=isNaN,p(),s.parentNode.removeChild(N.getWrapperElement()),s.style.display="",s.form&&(ce(s.form,"submit",p),!f.leaveSubmitMethodAlone&&typeof s.form.submit=="function"&&(s.form.submit=y))}},s.style.display="none";var P=yn(function(N){return s.parentNode.insertBefore(N,s.nextSibling)},f);return P}function aP(s){s.off=ce,s.on=bt,s.wheelEventPixels=hD,s.Doc=Br,s.splitLines=Pn,s.countColumn=At,s.findColumn=Jt,s.isWordChar=K,s.Pass=zt,s.signal=ee,s.Line=tr,s.changeEnd=Fa,s.scrollbarModel=Pw,s.Pos=qt,s.cmpPos=be,s.modes=$r,s.mimeModes=qe,s.resolveMode=gr,s.getMode=Se,s.modeExtensions=Jr,s.extendMode=Lr,s.copyState=Vn,s.startState=xr,s.innerMode=Bn,s.commands=Fc,s.keyMap=Qo,s.keyName=mS,s.isModifierKey=vS,s.lookupKey=Il,s.normalizeKeyMap=ND,s.StringStream=Ke,s.SharedTextMarker=Ic,s.TextMarker=qa,s.LineWidget=Uc,s.e_preventDefault=De,s.e_stopPropagation=Je,s.e_stop=X,s.addClass=dt,s.contains=M,s.rmClass=Q,s.keyNames=Ka}$D(yn),eP(yn);var sP="iter insert remove copy getEditor constructor".split(" ");for(var gh in Br.prototype)Br.prototype.hasOwnProperty(gh)&&Tt(sP,gh)<0&&(yn.prototype[gh]=function(s){return function(){return s.apply(this.doc,arguments)}}(Br.prototype[gh]));return Re(Br),yn.inputStyles={textarea:Rn,contenteditable:Qe},yn.defineMode=function(s){!yn.defaults.mode&&s!="null"&&(yn.defaults.mode=s),Mn.apply(this,arguments)},yn.defineMIME=Ve,yn.defineMode("null",function(){return{token:function(s){return s.skipToEnd()}}}),yn.defineMIME("text/plain","null"),yn.defineExtension=function(s,f){yn.prototype[s]=f},yn.defineDocExtension=function(s,f){Br.prototype[s]=f},yn.fromTextArea=oP,aP(yn),yn.version="5.63.0",yn})},7389:(r,e,t)=>{(function(n){n(t(4408))})(function(n){n.defineMode("css",function(H,D){var I=D.inline;D.propertyKeywords||(D=n.resolveMode("text/css"));var T=H.indentUnit,tt=D.tokenHooks,M=D.documentTypes||{},ot=D.mediaTypes||{},dt=D.mediaFeatures||{},pt=D.mediaValueKeywords||{},Dt=D.propertyKeywords||{},_t=D.nonStandardPropertyKeywords||{},rt=D.fontProperties||{},At=D.counterDescriptors||{},mt=D.colorKeywords||{},Tt=D.valueKeywords||{},$t=D.allowNested,zt=D.lineComment,It=D.supportsAtComponent===!0,Zt=H.highlightNonStandardPropertyKeywords!==!1,fe,Jt;function yt(G,ct){return fe=ct,G}function Wt(G,ct){var st=G.next();if(tt[st]){var jt=tt[st](G,ct);if(jt!==!1)return jt}if(st=="@")return G.eatWhile(/[\w\\\-]/),yt("def",G.current());if(st=="="||(st=="~"||st=="|")&&G.eat("="))return yt(null,"compare");if(st=='"'||st=="'")return ct.tokenize=R(st),ct.tokenize(G,ct);if(st=="#")return G.eatWhile(/[\w\\\-]/),yt("atom","hash");if(st=="!")return G.match(/^\s*\w*/),yt("keyword","important");if(/\d/.test(st)||st=="."&&G.eat(/\d/))return G.eatWhile(/[\w.%]/),yt("number","unit");if(st==="-"){if(/[\d.]/.test(G.peek()))return G.eatWhile(/[\w.%]/),yt("number","unit");if(G.match(/^-[\w\\\-]*/))return G.eatWhile(/[\w\\\-]/),G.match(/^\s*:/,!1)?yt("variable-2","variable-definition"):yt("variable-2","variable");if(G.match(/^\w+-/))return yt("meta","meta")}else return/[,+>*\/]/.test(st)?yt(null,"select-op"):st=="."&&G.match(/^-?[_a-z][_a-z0-9-]*/i)?yt("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(st)?yt(null,st):G.match(/^[\w-.]+(?=\()/)?(/^(url(-prefix)?|domain|regexp)$/i.test(G.current())&&(ct.tokenize=kt),yt("variable callee","variable")):/[\w\\\-]/.test(st)?(G.eatWhile(/[\w\\\-]/),yt("property","word")):yt(null,null)}function R(G){return function(ct,st){for(var jt=!1,ue;(ue=ct.next())!=null;){if(ue==G&&!jt){G==")"&&ct.backUp(1);break}jt=!jt&&ue=="\\"}return(ue==G||!jt&&G!=")")&&(st.tokenize=null),yt("string","string")}}function kt(G,ct){return G.next(),G.match(/^\s*[\"\')]/,!1)?ct.tokenize=null:ct.tokenize=R(")"),yt(null,"(")}function wt(G,ct,st){this.type=G,this.indent=ct,this.prev=st}function et(G,ct,st,jt){return G.context=new wt(st,ct.indentation()+(jt===!1?0:T),G.context),st}function E(G){return G.context.prev&&(G.context=G.context.prev),G.context.type}function L(G,ct,st){return nt[st.context.type](G,ct,st)}function K(G,ct,st,jt){for(var ue=jt||1;ue>0;ue--)st.context=st.context.prev;return L(G,ct,st)}function it(G){var ct=G.current().toLowerCase();Tt.hasOwnProperty(ct)?Jt="atom":mt.hasOwnProperty(ct)?Jt="keyword":Jt="variable"}var nt={};return nt.top=function(G,ct,st){if(G=="{")return et(st,ct,"block");if(G=="}"&&st.context.prev)return E(st);if(It&&/@component/i.test(G))return et(st,ct,"atComponentBlock");if(/^@(-moz-)?document$/i.test(G))return et(st,ct,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/i.test(G))return et(st,ct,"atBlock");if(/^@(font-face|counter-style)/i.test(G))return st.stateArg=G,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(G))return"keyframes";if(G&&G.charAt(0)=="@")return et(st,ct,"at");if(G=="hash")Jt="builtin";else if(G=="word")Jt="tag";else{if(G=="variable-definition")return"maybeprop";if(G=="interpolation")return et(st,ct,"interpolation");if(G==":")return"pseudo";if($t&&G=="(")return et(st,ct,"parens")}return st.context.type},nt.block=function(G,ct,st){if(G=="word"){var jt=ct.current().toLowerCase();return Dt.hasOwnProperty(jt)?(Jt="property","maybeprop"):_t.hasOwnProperty(jt)?(Jt=Zt?"string-2":"property","maybeprop"):$t?(Jt=ct.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(Jt+=" error","maybeprop")}else return G=="meta"?"block":!$t&&(G=="hash"||G=="qualifier")?(Jt="error","block"):nt.top(G,ct,st)},nt.maybeprop=function(G,ct,st){return G==":"?et(st,ct,"prop"):L(G,ct,st)},nt.prop=function(G,ct,st){if(G==";")return E(st);if(G=="{"&&$t)return et(st,ct,"propBlock");if(G=="}"||G=="{")return K(G,ct,st);if(G=="(")return et(st,ct,"parens");if(G=="hash"&&!/^#([0-9a-fA-f]{3,4}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/.test(ct.current()))Jt+=" error";else if(G=="word")it(ct);else if(G=="interpolation")return et(st,ct,"interpolation");return"prop"},nt.propBlock=function(G,ct,st){return G=="}"?E(st):G=="word"?(Jt="property","maybeprop"):st.context.type},nt.parens=function(G,ct,st){return G=="{"||G=="}"?K(G,ct,st):G==")"?E(st):G=="("?et(st,ct,"parens"):G=="interpolation"?et(st,ct,"interpolation"):(G=="word"&&it(ct),"parens")},nt.pseudo=function(G,ct,st){return G=="meta"?"pseudo":G=="word"?(Jt="variable-3",st.context.type):L(G,ct,st)},nt.documentTypes=function(G,ct,st){return G=="word"&&M.hasOwnProperty(ct.current())?(Jt="tag",st.context.type):nt.atBlock(G,ct,st)},nt.atBlock=function(G,ct,st){if(G=="(")return et(st,ct,"atBlock_parens");if(G=="}"||G==";")return K(G,ct,st);if(G=="{")return E(st)&&et(st,ct,$t?"block":"top");if(G=="interpolation")return et(st,ct,"interpolation");if(G=="word"){var jt=ct.current().toLowerCase();jt=="only"||jt=="not"||jt=="and"||jt=="or"?Jt="keyword":ot.hasOwnProperty(jt)?Jt="attribute":dt.hasOwnProperty(jt)?Jt="property":pt.hasOwnProperty(jt)?Jt="keyword":Dt.hasOwnProperty(jt)?Jt="property":_t.hasOwnProperty(jt)?Jt=Zt?"string-2":"property":Tt.hasOwnProperty(jt)?Jt="atom":mt.hasOwnProperty(jt)?Jt="keyword":Jt="error"}return st.context.type},nt.atComponentBlock=function(G,ct,st){return G=="}"?K(G,ct,st):G=="{"?E(st)&&et(st,ct,$t?"block":"top",!1):(G=="word"&&(Jt="error"),st.context.type)},nt.atBlock_parens=function(G,ct,st){return G==")"?E(st):G=="{"||G=="}"?K(G,ct,st,2):nt.atBlock(G,ct,st)},nt.restricted_atBlock_before=function(G,ct,st){return G=="{"?et(st,ct,"restricted_atBlock"):G=="word"&&st.stateArg=="@counter-style"?(Jt="variable","restricted_atBlock_before"):L(G,ct,st)},nt.restricted_atBlock=function(G,ct,st){return G=="}"?(st.stateArg=null,E(st)):G=="word"?(st.stateArg=="@font-face"&&!rt.hasOwnProperty(ct.current().toLowerCase())||st.stateArg=="@counter-style"&&!At.hasOwnProperty(ct.current().toLowerCase())?Jt="error":Jt="property","maybeprop"):"restricted_atBlock"},nt.keyframes=function(G,ct,st){return G=="word"?(Jt="variable","keyframes"):G=="{"?et(st,ct,"top"):L(G,ct,st)},nt.at=function(G,ct,st){return G==";"?E(st):G=="{"||G=="}"?K(G,ct,st):(G=="word"?Jt="tag":G=="hash"&&(Jt="builtin"),"at")},nt.interpolation=function(G,ct,st){return G=="}"?E(st):G=="{"||G==";"?K(G,ct,st):(G=="word"?Jt="variable":G!="variable"&&G!="("&&G!=")"&&(Jt="error"),"interpolation")},{startState:function(G){return{tokenize:null,state:I?"block":"top",stateArg:null,context:new wt(I?"block":"top",G||0,null)}},token:function(G,ct){if(!ct.tokenize&&G.eatSpace())return null;var st=(ct.tokenize||Wt)(G,ct);return st&&typeof st=="object"&&(fe=st[1],st=st[0]),Jt=st,fe!="comment"&&(ct.state=nt[ct.state](fe,G,ct)),Jt},indent:function(G,ct){var st=G.context,jt=ct&&ct.charAt(0),ue=st.indent;return st.type=="prop"&&(jt=="}"||jt==")")&&(st=st.prev),st.prev&&(jt=="}"&&(st.type=="block"||st.type=="top"||st.type=="interpolation"||st.type=="restricted_atBlock")?(st=st.prev,ue=st.indent):(jt==")"&&(st.type=="parens"||st.type=="atBlock_parens")||jt=="{"&&(st.type=="at"||st.type=="atBlock"))&&(ue=Math.max(0,st.indent-T))),ue},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:zt,fold:"brace"}});function i(H){for(var D={},I=0;I<H.length;++I)D[H[I].toLowerCase()]=!0;return D}var o=["domain","regexp","url","url-prefix"],a=i(o),l=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],u=i(l),c=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover","prefers-color-scheme"],d=i(c),h=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive","dark","light"],g=i(h),m=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","all","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","binding","bleed","block-size","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-content","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","inset","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","left","letter-spacing","line-break","line-height","line-height-step","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","place-content","place-items","place-self","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotate","rotation","rotation-point","row-gap","ruby-align","ruby-overhang","ruby-position","ruby-span","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-type","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-orientation","text-outline","text-overflow","text-rendering","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","touch-action","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","paint-order","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],_=i(m),b=["accent-color","aspect-ratio","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","content-visibility","margin-block","margin-block-end","margin-block-start","margin-inline","margin-inline-end","margin-inline-start","overflow-anchor","overscroll-behavior","padding-block","padding-block-end","padding-block-start","padding-inline","padding-inline-end","padding-inline-start","scroll-snap-stop","scrollbar-3d-light-color","scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-track-color","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","shape-inside","zoom"],C=i(b),w=["font-display","font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],x=i(w),O=["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"],k=i(O),V=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],Z=i(V),$=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","blur","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","brightness","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","contrast","copy","counter","counters","cover","crop","cross","crosshair","cubic-bezier","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","drop-shadow","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","grayscale","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","hue-rotate","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","manipulation","match","matrix","matrix3d","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiple_mask_images","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturate","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","self-start","self-end","semi-condensed","semi-expanded","separate","sepia","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","square-button","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],Y=i($),U=o.concat(l).concat(c).concat(h).concat(m).concat(b).concat(V).concat($);n.registerHelper("hintWords","css",U);function Q(H,D){for(var I=!1,T;(T=H.next())!=null;){if(I&&T=="/"){D.tokenize=null;break}I=T=="*"}return["comment","comment"]}n.defineMIME("text/css",{documentTypes:a,mediaTypes:u,mediaFeatures:d,mediaValueKeywords:g,propertyKeywords:_,nonStandardPropertyKeywords:C,fontProperties:x,counterDescriptors:k,colorKeywords:Z,valueKeywords:Y,tokenHooks:{"/":function(H,D){return H.eat("*")?(D.tokenize=Q,Q(H,D)):!1}},name:"css"}),n.defineMIME("text/x-scss",{mediaTypes:u,mediaFeatures:d,mediaValueKeywords:g,propertyKeywords:_,nonStandardPropertyKeywords:C,colorKeywords:Z,valueKeywords:Y,fontProperties:x,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(H,D){return H.eat("/")?(H.skipToEnd(),["comment","comment"]):H.eat("*")?(D.tokenize=Q,Q(H,D)):["operator","operator"]},":":function(H){return H.match(/^\s*\{/,!1)?[null,null]:!1},$:function(H){return H.match(/^[\w-]+/),H.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(H){return H.eat("{")?[null,"interpolation"]:!1}},name:"css",helperType:"scss"}),n.defineMIME("text/x-less",{mediaTypes:u,mediaFeatures:d,mediaValueKeywords:g,propertyKeywords:_,nonStandardPropertyKeywords:C,colorKeywords:Z,valueKeywords:Y,fontProperties:x,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(H,D){return H.eat("/")?(H.skipToEnd(),["comment","comment"]):H.eat("*")?(D.tokenize=Q,Q(H,D)):["operator","operator"]},"@":function(H){return H.eat("{")?[null,"interpolation"]:H.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/i,!1)?!1:(H.eatWhile(/[\w\\\-]/),H.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),n.defineMIME("text/x-gss",{documentTypes:a,mediaTypes:u,mediaFeatures:d,propertyKeywords:_,nonStandardPropertyKeywords:C,fontProperties:x,counterDescriptors:k,colorKeywords:Z,valueKeywords:Y,supportsAtComponent:!0,tokenHooks:{"/":function(H,D){return H.eat("*")?(D.tokenize=Q,Q(H,D)):!1}},name:"css",helperType:"gss"})})},8253:(r,e,t)=>{(function(n){n(t(4408),t(9701),t(6061),t(7389))})(function(n){var i={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]};function o(g,m,_){var b=g.current(),C=b.search(m);return C>-1?g.backUp(b.length-C):b.match(/<\/?$/)&&(g.backUp(b.length),g.match(m,!1)||g.match(b)),_}var a={};function l(g){var m=a[g];return m||(a[g]=new RegExp("\\s+"+g+`\\s*=\\s*('|")?([^'"]+)('|")?\\s*`))}function u(g,m){var _=g.match(l(m));return _?/^\s*(.*?)\s*$/.exec(_[2])[1]:""}function c(g,m){return new RegExp((m?"^":"")+"</s*"+g+"s*>","i")}function d(g,m){for(var _ in g)for(var b=m[_]||(m[_]=[]),C=g[_],w=C.length-1;w>=0;w--)b.unshift(C[w])}function h(g,m){for(var _=0;_<g.length;_++){var b=g[_];if(!b[0]||b[1].test(u(m,b[0])))return b[2]}}n.defineMode("htmlmixed",function(g,m){var _=n.getMode(g,{name:"xml",htmlMode:!0,multilineTagIndentFactor:m.multilineTagIndentFactor,multilineTagIndentPastTag:m.multilineTagIndentPastTag,allowMissingTagName:m.allowMissingTagName}),b={},C=m&&m.tags,w=m&&m.scriptTypes;if(d(i,b),C&&d(C,b),w)for(var x=w.length-1;x>=0;x--)b.script.unshift(["type",w[x].matches,w[x].mode]);function O(k,V){var Z=_.token(k,V.htmlState),$=/\btag\b/.test(Z),Y;if($&&!/[<>\s\/]/.test(k.current())&&(Y=V.htmlState.tagName&&V.htmlState.tagName.toLowerCase())&&b.hasOwnProperty(Y))V.inTag=Y+" ";else if(V.inTag&&$&&/>$/.test(k.current())){var U=/^([\S]+) (.*)/.exec(V.inTag);V.inTag=null;var Q=k.current()==">"&&h(b[U[1]],U[2]),H=n.getMode(g,Q),D=c(U[1],!0),I=c(U[1],!1);V.token=function(T,tt){return T.match(D,!1)?(tt.token=O,tt.localState=tt.localMode=null,null):o(T,I,tt.localMode.token(T,tt.localState))},V.localMode=H,V.localState=n.startState(H,_.indent(V.htmlState,"",""))}else V.inTag&&(V.inTag+=k.current(),k.eol()&&(V.inTag+=" "));return Z}return{startState:function(){var k=n.startState(_);return{token:O,inTag:null,localMode:null,localState:null,htmlState:k}},copyState:function(k){var V;return k.localState&&(V=n.copyState(k.localMode,k.localState)),{token:k.token,inTag:k.inTag,localMode:k.localMode,localState:V,htmlState:n.copyState(_,k.htmlState)}},token:function(k,V){return V.token(k,V)},indent:function(k,V,Z){return!k.localMode||/^\s*<\//.test(V)?_.indent(k.htmlState,V,Z):k.localMode.indent?k.localMode.indent(k.localState,V,Z):n.Pass},innerMode:function(k){return{state:k.localState||k.htmlState,mode:k.localMode||_}}}},"xml","javascript","css"),n.defineMIME("text/html","htmlmixed")})},6061:(r,e,t)=>{(function(n){n(t(4408))})(function(n){n.defineMode("javascript",function(i,o){var a=i.indentUnit,l=o.statementIndent,u=o.jsonld,c=o.json||u,d=o.trackScope!==!1,h=o.typescript,g=o.wordCharacters||/[\w$\xa1-\uffff]/,m=function(){function W(fn){return{type:fn,style:"keyword"}}var lt=W("keyword a"),Mt=W("keyword b"),Gt=W("keyword c"),Xt=W("keyword d"),ke=W("operator"),Le={type:"atom",style:"atom"};return{if:W("if"),while:lt,with:lt,else:Mt,do:Mt,try:Mt,finally:Mt,return:Xt,break:Xt,continue:Xt,new:W("new"),delete:Gt,void:Gt,throw:Gt,debugger:W("debugger"),var:W("var"),const:W("var"),let:W("var"),function:W("function"),catch:W("catch"),for:W("for"),switch:W("switch"),case:W("case"),default:W("default"),in:ke,typeof:ke,instanceof:ke,true:Le,false:Le,null:Le,undefined:Le,NaN:Le,Infinity:Le,this:W("this"),class:W("class"),super:W("atom"),yield:Gt,export:W("export"),import:W("import"),extends:Gt,await:Gt}}(),_=/[+\-*&%=<>!?|~^@]/,b=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function C(W){for(var lt=!1,Mt,Gt=!1;(Mt=W.next())!=null;){if(!lt){if(Mt=="/"&&!Gt)return;Mt=="["?Gt=!0:Gt&&Mt=="]"&&(Gt=!1)}lt=!lt&&Mt=="\\"}}var w,x;function O(W,lt,Mt){return w=W,x=Mt,lt}function k(W,lt){var Mt=W.next();if(Mt=='"'||Mt=="'")return lt.tokenize=V(Mt),lt.tokenize(W,lt);if(Mt=="."&&W.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return O("number","number");if(Mt=="."&&W.match(".."))return O("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(Mt))return O(Mt);if(Mt=="="&&W.eat(">"))return O("=>","operator");if(Mt=="0"&&W.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return O("number","number");if(/\d/.test(Mt))return W.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),O("number","number");if(Mt=="/")return W.eat("*")?(lt.tokenize=Z,Z(W,lt)):W.eat("/")?(W.skipToEnd(),O("comment","comment")):Si(W,lt,1)?(C(W),W.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),O("regexp","string-2")):(W.eat("="),O("operator","operator",W.current()));if(Mt=="`")return lt.tokenize=$,$(W,lt);if(Mt=="#"&&W.peek()=="!")return W.skipToEnd(),O("meta","meta");if(Mt=="#"&&W.eatWhile(g))return O("variable","property");if(Mt=="<"&&W.match("!--")||Mt=="-"&&W.match("->")&&!/\S/.test(W.string.slice(0,W.start)))return W.skipToEnd(),O("comment","comment");if(_.test(Mt))return(Mt!=">"||!lt.lexical||lt.lexical.type!=">")&&(W.eat("=")?(Mt=="!"||Mt=="=")&&W.eat("="):/[<>*+\-|&?]/.test(Mt)&&(W.eat(Mt),Mt==">"&&W.eat(Mt))),Mt=="?"&&W.eat(".")?O("."):O("operator","operator",W.current());if(g.test(Mt)){W.eatWhile(g);var Gt=W.current();if(lt.lastType!="."){if(m.propertyIsEnumerable(Gt)){var Xt=m[Gt];return O(Xt.type,Xt.style,Gt)}if(Gt=="async"&&W.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return O("async","keyword",Gt)}return O("variable","variable",Gt)}}function V(W){return function(lt,Mt){var Gt=!1,Xt;if(u&&lt.peek()=="@"&&lt.match(b))return Mt.tokenize=k,O("jsonld-keyword","meta");for(;(Xt=lt.next())!=null&&!(Xt==W&&!Gt);)Gt=!Gt&&Xt=="\\";return Gt||(Mt.tokenize=k),O("string","string")}}function Z(W,lt){for(var Mt=!1,Gt;Gt=W.next();){if(Gt=="/"&&Mt){lt.tokenize=k;break}Mt=Gt=="*"}return O("comment","comment")}function $(W,lt){for(var Mt=!1,Gt;(Gt=W.next())!=null;){if(!Mt&&(Gt=="`"||Gt=="$"&&W.eat("{"))){lt.tokenize=k;break}Mt=!Mt&&Gt=="\\"}return O("quasi","string-2",W.current())}var Y="([{}])";function U(W,lt){lt.fatArrowAt&&(lt.fatArrowAt=null);var Mt=W.string.indexOf("=>",W.start);if(!(Mt<0)){if(h){var Gt=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(W.string.slice(W.start,Mt));Gt&&(Mt=Gt.index)}for(var Xt=0,ke=!1,Le=Mt-1;Le>=0;--Le){var fn=W.string.charAt(Le),Ye=Y.indexOf(fn);if(Ye>=0&&Ye<3){if(!Xt){++Le;break}if(--Xt==0){fn=="("&&(ke=!0);break}}else if(Ye>=3&&Ye<6)++Xt;else if(g.test(fn))ke=!0;else if(/["'\/`]/.test(fn))for(;;--Le){if(Le==0)return;var ti=W.string.charAt(Le-1);if(ti==fn&&W.string.charAt(Le-2)!="\\"){Le--;break}}else if(ke&&!Xt){++Le;break}}ke&&!Xt&&(lt.fatArrowAt=Le)}}var Q={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function H(W,lt,Mt,Gt,Xt,ke){this.indented=W,this.column=lt,this.type=Mt,this.prev=Xt,this.info=ke,Gt!=null&&(this.align=Gt)}function D(W,lt){if(!d)return!1;for(var Mt=W.localVars;Mt;Mt=Mt.next)if(Mt.name==lt)return!0;for(var Gt=W.context;Gt;Gt=Gt.prev)for(var Mt=Gt.vars;Mt;Mt=Mt.next)if(Mt.name==lt)return!0}function I(W,lt,Mt,Gt,Xt){var ke=W.cc;for(T.state=W,T.stream=Xt,T.marked=null,T.cc=ke,T.style=lt,W.lexical.hasOwnProperty("align")||(W.lexical.align=!0);;){var Le=ke.length?ke.pop():c?yt:fe;if(Le(Mt,Gt)){for(;ke.length&&ke[ke.length-1].lex;)ke.pop()();return T.marked?T.marked:Mt=="variable"&&D(W,Gt)?"variable-2":lt}}}var T={state:null,marked:null,cc:null};function tt(){for(var W=arguments.length-1;W>=0;W--)T.cc.push(arguments[W])}function M(){return tt.apply(null,arguments),!0}function ot(W,lt){for(var Mt=lt;Mt;Mt=Mt.next)if(Mt.name==W)return!0;return!1}function dt(W){var lt=T.state;if(T.marked="def",!!d){if(lt.context){if(lt.lexical.info=="var"&&lt.context&&lt.context.block){var Mt=pt(W,lt.context);if(Mt!=null){lt.context=Mt;return}}else if(!ot(W,lt.localVars)){lt.localVars=new rt(W,lt.localVars);return}}o.globalVars&&!ot(W,lt.globalVars)&&(lt.globalVars=new rt(W,lt.globalVars))}}function pt(W,lt){if(lt)if(lt.block){var Mt=pt(W,lt.prev);return Mt?Mt==lt.prev?lt:new _t(Mt,lt.vars,!0):null}else return ot(W,lt.vars)?lt:new _t(lt.prev,new rt(W,lt.vars),!1);else return null}function Dt(W){return W=="public"||W=="private"||W=="protected"||W=="abstract"||W=="readonly"}function _t(W,lt,Mt){this.prev=W,this.vars=lt,this.block=Mt}function rt(W,lt){this.name=W,this.next=lt}var At=new rt("this",new rt("arguments",null));function mt(){T.state.context=new _t(T.state.context,T.state.localVars,!1),T.state.localVars=At}function Tt(){T.state.context=new _t(T.state.context,T.state.localVars,!0),T.state.localVars=null}function $t(){T.state.localVars=T.state.context.vars,T.state.context=T.state.context.prev}$t.lex=!0;function zt(W,lt){var Mt=function(){var Gt=T.state,Xt=Gt.indented;if(Gt.lexical.type=="stat")Xt=Gt.lexical.indented;else for(var ke=Gt.lexical;ke&&ke.type==")"&&ke.align;ke=ke.prev)Xt=ke.indented;Gt.lexical=new H(Xt,T.stream.column(),W,null,Gt.lexical,lt)};return Mt.lex=!0,Mt}function It(){var W=T.state;W.lexical.prev&&(W.lexical.type==")"&&(W.indented=W.lexical.indented),W.lexical=W.lexical.prev)}It.lex=!0;function Zt(W){function lt(Mt){return Mt==W?M():W==";"||Mt=="}"||Mt==")"||Mt=="]"?tt():M(lt)}return lt}function fe(W,lt){return W=="var"?M(zt("vardef",lt),ye,Zt(";"),It):W=="keyword a"?M(zt("form"),R,fe,It):W=="keyword b"?M(zt("form"),fe,It):W=="keyword d"?T.stream.match(/^\s*$/,!1)?M():M(zt("stat"),wt,Zt(";"),It):W=="debugger"?M(Zt(";")):W=="{"?M(zt("}"),Tt,bt,It,$t):W==";"?M():W=="if"?(T.state.lexical.info=="else"&&T.state.cc[T.state.cc.length-1]==It&&T.state.cc.pop()(),M(zt("form"),R,fe,It,cn)):W=="function"?M(Mn):W=="for"?M(zt("form"),Tt,Cr,fe,$t,It):W=="class"||h&&lt=="interface"?(T.marked="keyword",M(zt("form",W=="class"?W:lt),Lr,It)):W=="variable"?h&&lt=="declare"?(T.marked="keyword",M(fe)):h&&(lt=="module"||lt=="enum"||lt=="type")&&T.stream.match(/^\s*\w/,!1)?(T.marked="keyword",lt=="enum"?M(wi):lt=="type"?M(gr,Zt("operator"),ve,Zt(";")):M(zt("form"),xe,Zt("{"),zt("}"),bt,It,It)):h&&lt=="namespace"?(T.marked="keyword",M(zt("form"),yt,fe,It)):h&&lt=="abstract"?(T.marked="keyword",M(fe)):M(zt("stat"),jt):W=="switch"?M(zt("form"),R,Zt("{"),zt("}","switch"),Tt,bt,It,It,$t):W=="case"?M(yt,Zt(":")):W=="default"?M(Zt(":")):W=="catch"?M(zt("form"),mt,Jt,fe,It,$t):W=="export"?M(zt("stat"),Ke,It):W=="import"?M(zt("stat"),Jn,It):W=="async"?M(fe):lt=="@"?M(yt,fe):tt(zt("stat"),yt,Zt(";"),It)}function Jt(W){if(W=="(")return M(Se,Zt(")"))}function yt(W,lt){return kt(W,lt,!1)}function Wt(W,lt){return kt(W,lt,!0)}function R(W){return W!="("?tt():M(zt(")"),wt,Zt(")"),It)}function kt(W,lt,Mt){if(T.state.fatArrowAt==T.stream.start){var Gt=Mt?nt:it;if(W=="(")return M(mt,zt(")"),F(Se,")"),It,Zt("=>"),Gt,$t);if(W=="variable")return tt(mt,xe,Zt("=>"),Gt,$t)}var Xt=Mt?E:et;return Q.hasOwnProperty(W)?M(Xt):W=="function"?M(Mn,Xt):W=="class"||h&&lt=="interface"?(T.marked="keyword",M(zt("form"),Jr,It)):W=="keyword c"||W=="async"?M(Mt?Wt:yt):W=="("?M(zt(")"),wt,Zt(")"),It,Xt):W=="operator"||W=="spread"?M(Mt?Wt:yt):W=="["?M(zt("]"),Qr,It,Xt):W=="{"?Lt(oe,"}",null,Xt):W=="quasi"?tt(L,Xt):W=="new"?M(G(Mt)):M()}function wt(W){return W.match(/[;\}\)\],]/)?tt():tt(yt)}function et(W,lt){return W==","?M(wt):E(W,lt,!1)}function E(W,lt,Mt){var Gt=Mt==!1?et:E,Xt=Mt==!1?yt:Wt;if(W=="=>")return M(mt,Mt?nt:it,$t);if(W=="operator")return/\+\+|--/.test(lt)||h&&lt=="!"?M(Gt):h&&lt=="<"&&T.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?M(zt(">"),F(ve,">"),It,Gt):lt=="?"?M(yt,Zt(":"),Xt):M(Xt);if(W=="quasi")return tt(L,Gt);if(W!=";"){if(W=="(")return Lt(Wt,")","call",Gt);if(W==".")return M(ue,Gt);if(W=="[")return M(zt("]"),wt,Zt("]"),It,Gt);if(h&&lt=="as")return T.marked="keyword",M(ve,Gt);if(W=="regexp")return T.state.lastType=T.marked="operator",T.stream.backUp(T.stream.pos-T.stream.start-1),M(Xt)}}function L(W,lt){return W!="quasi"?tt():lt.slice(lt.length-2)!="${"?M(L):M(wt,K)}function K(W){if(W=="}")return T.marked="string-2",T.state.tokenize=$,M(L)}function it(W){return U(T.stream,T.state),tt(W=="{"?fe:yt)}function nt(W){return U(T.stream,T.state),tt(W=="{"?fe:Wt)}function G(W){return function(lt){return lt=="."?M(W?st:ct):lt=="variable"&&h?M(Ct,W?E:et):tt(W?Wt:yt)}}function ct(W,lt){if(lt=="target")return T.marked="keyword",M(et)}function st(W,lt){if(lt=="target")return T.marked="keyword",M(E)}function jt(W){return W==":"?M(It,fe):tt(et,Zt(";"),It)}function ue(W){if(W=="variable")return T.marked="property",M()}function oe(W,lt){if(W=="async")return T.marked="property",M(oe);if(W=="variable"||T.style=="keyword"){if(T.marked="property",lt=="get"||lt=="set")return M(J);var Mt;return h&&T.state.fatArrowAt==T.stream.start&&(Mt=T.stream.match(/^\s*:\s*/,!1))&&(T.state.fatArrowAt=T.stream.pos+Mt[0].length),M(gt)}else{if(W=="number"||W=="string")return T.marked=u?"property":T.style+" property",M(gt);if(W=="jsonld-keyword")return M(gt);if(h&&Dt(lt))return T.marked="keyword",M(oe);if(W=="[")return M(yt,Ht,Zt("]"),gt);if(W=="spread")return M(Wt,gt);if(lt=="*")return T.marked="keyword",M(oe);if(W==":")return tt(gt)}}function J(W){return W!="variable"?tt(gt):(T.marked="property",M(Mn))}function gt(W){if(W==":")return M(Wt);if(W=="(")return tt(Mn)}function F(W,lt,Mt){function Gt(Xt,ke){if(Mt?Mt.indexOf(Xt)>-1:Xt==","){var Le=T.state.lexical;return Le.info=="call"&&(Le.pos=(Le.pos||0)+1),M(function(fn,Ye){return fn==lt||Ye==lt?tt():tt(W)},Gt)}return Xt==lt||ke==lt?M():Mt&&Mt.indexOf(";")>-1?tt(W):M(Zt(lt))}return function(Xt,ke){return Xt==lt||ke==lt?M():tt(W,Gt)}}function Lt(W,lt,Mt){for(var Gt=3;Gt<arguments.length;Gt++)T.cc.push(arguments[Gt]);return M(zt(lt,Mt),F(W,lt),It)}function bt(W){return W=="}"?M():tt(fe,bt)}function Ht(W,lt){if(h){if(W==":")return M(ve);if(lt=="?")return M(Ht)}}function ce(W,lt){if(h&&(W==":"||lt=="in"))return M(ve)}function ee(W){if(h&&W==":")return T.stream.match(/^\s*\w+\s+is\b/,!1)?M(yt,ne,ve):M(ve)}function ne(W,lt){if(lt=="is")return T.marked="keyword",M()}function ve(W,lt){if(lt=="keyof"||lt=="typeof"||lt=="infer"||lt=="readonly")return T.marked="keyword",M(lt=="typeof"?Wt:ve);if(W=="variable"||lt=="void")return T.marked="type",M(ht);if(lt=="|"||lt=="&")return M(ve);if(W=="string"||W=="number"||W=="atom")return M(ht);if(W=="[")return M(zt("]"),F(ve,"]",","),It,ht);if(W=="{")return M(zt("}"),Re,It,ht);if(W=="(")return M(F(X,")"),Oe,ht);if(W=="<")return M(F(ve,">"),ve);if(W=="quasi")return tt(Je,ht)}function Oe(W){if(W=="=>")return M(ve)}function Re(W){return W.match(/[\}\)\]]/)?M():W==","||W==";"?M(Re):tt(De,Re)}function De(W,lt){if(W=="variable"||T.style=="keyword")return T.marked="property",M(De);if(lt=="?"||W=="number"||W=="string")return M(De);if(W==":")return M(ve);if(W=="[")return M(Zt("variable"),ce,Zt("]"),De);if(W=="(")return tt(Ve,De);if(!W.match(/[;\}\)\],]/))return M()}function Je(W,lt){return W!="quasi"?tt():lt.slice(lt.length-2)!="${"?M(Je):M(ve,vn)}function vn(W){if(W=="}")return T.marked="string-2",T.state.tokenize=$,M(Je)}function X(W,lt){return W=="variable"&&T.stream.match(/^\s*[?:]/,!1)||lt=="?"?M(X):W==":"?M(ve):W=="spread"?M(X):tt(ve)}function ht(W,lt){if(lt=="<")return M(zt(">"),F(ve,">"),It,ht);if(lt=="|"||W=="."||lt=="&")return M(ve);if(W=="[")return M(ve,Zt("]"),ht);if(lt=="extends"||lt=="implements")return T.marked="keyword",M(ve);if(lt=="?")return M(ve,Zt(":"),ve)}function Ct(W,lt){if(lt=="<")return M(zt(">"),F(ve,">"),It,ht)}function Ut(){return tt(ve,ie)}function ie(W,lt){if(lt=="=")return M(ve)}function ye(W,lt){return lt=="enum"?(T.marked="keyword",M(wi)):tt(xe,Ht,un,bi)}function xe(W,lt){if(h&&Dt(lt))return T.marked="keyword",M(xe);if(W=="variable")return dt(lt),M();if(W=="spread")return M(xe);if(W=="[")return Lt(Pn,"]");if(W=="{")return Lt(ln,"}")}function ln(W,lt){return W=="variable"&&!T.stream.match(/^\s*:/,!1)?(dt(lt),M(un)):(W=="variable"&&(T.marked="property"),W=="spread"?M(xe):W=="}"?tt():W=="["?M(yt,Zt("]"),Zt(":"),ln):M(Zt(":"),xe,un))}function Pn(){return tt(xe,un)}function un(W,lt){if(lt=="=")return M(Wt)}function bi(W){if(W==",")return M(ye)}function cn(W,lt){if(W=="keyword b"&&lt=="else")return M(zt("form","else"),fe,It)}function Cr(W,lt){if(lt=="await")return M(Cr);if(W=="(")return M(zt(")"),$r,It)}function $r(W){return W=="var"?M(ye,qe):W=="variable"?M(qe):tt(qe)}function qe(W,lt){return W==")"?M():W==";"?M(qe):lt=="in"||lt=="of"?(T.marked="keyword",M(yt,qe)):tt(yt,qe)}function Mn(W,lt){if(lt=="*")return T.marked="keyword",M(Mn);if(W=="variable")return dt(lt),M(Mn);if(W=="(")return M(mt,zt(")"),F(Se,")"),It,ee,fe,$t);if(h&&lt=="<")return M(zt(">"),F(Ut,">"),It,Mn)}function Ve(W,lt){if(lt=="*")return T.marked="keyword",M(Ve);if(W=="variable")return dt(lt),M(Ve);if(W=="(")return M(mt,zt(")"),F(Se,")"),It,ee,$t);if(h&&lt=="<")return M(zt(">"),F(Ut,">"),It,Ve)}function gr(W,lt){if(W=="keyword"||W=="variable")return T.marked="type",M(gr);if(lt=="<")return M(zt(">"),F(Ut,">"),It)}function Se(W,lt){return lt=="@"&&M(yt,Se),W=="spread"?M(Se):h&&Dt(lt)?(T.marked="keyword",M(Se)):h&&W=="this"?M(Ht,un):tt(xe,Ht,un)}function Jr(W,lt){return W=="variable"?Lr(W,lt):Vn(W,lt)}function Lr(W,lt){if(W=="variable")return dt(lt),M(Vn)}function Vn(W,lt){if(lt=="<")return M(zt(">"),F(Ut,">"),It,Vn);if(lt=="extends"||lt=="implements"||h&&W==",")return lt=="implements"&&(T.marked="keyword"),M(h?ve:yt,Vn);if(W=="{")return M(zt("}"),Bn,It)}function Bn(W,lt){if(W=="async"||W=="variable"&&(lt=="static"||lt=="get"||lt=="set"||h&&Dt(lt))&&T.stream.match(/^\s+[\w$\xa1-\uffff]/,!1))return T.marked="keyword",M(Bn);if(W=="variable"||T.style=="keyword")return T.marked="property",M(xr,Bn);if(W=="number"||W=="string")return M(xr,Bn);if(W=="[")return M(yt,Ht,Zt("]"),xr,Bn);if(lt=="*")return T.marked="keyword",M(Bn);if(h&&W=="(")return tt(Ve,Bn);if(W==";"||W==",")return M(Bn);if(W=="}")return M();if(lt=="@")return M(yt,Bn)}function xr(W,lt){if(lt=="!"||lt=="?")return M(xr);if(W==":")return M(ve,un);if(lt=="=")return M(Wt);var Mt=T.state.lexical.prev,Gt=Mt&&Mt.info=="interface";return tt(Gt?Ve:Mn)}function Ke(W,lt){return lt=="*"?(T.marked="keyword",M(tn,Zt(";"))):lt=="default"?(T.marked="keyword",M(yt,Zt(";"))):W=="{"?M(F(he,"}"),tn,Zt(";")):tt(fe)}function he(W,lt){if(lt=="as")return T.marked="keyword",M(Zt("variable"));if(W=="variable")return tt(Wt,he)}function Jn(W){return W=="string"?M():W=="("?tt(yt):W=="."?tt(et):tt(gn,Qn,tn)}function gn(W,lt){return W=="{"?Lt(gn,"}"):(W=="variable"&&dt(lt),lt=="*"&&(T.marked="keyword"),M(Ne))}function Qn(W){if(W==",")return M(gn,Qn)}function Ne(W,lt){if(lt=="as")return T.marked="keyword",M(gn)}function tn(W,lt){if(lt=="from")return T.marked="keyword",M(yt)}function Qr(W){return W=="]"?M():tt(F(Wt,"]"))}function wi(){return tt(zt("form"),xe,Zt("{"),zt("}"),F(qt,"}"),It,It)}function qt(){return tt(xe,un)}function be(W,lt){return W.lastType=="operator"||W.lastType==","||_.test(lt.charAt(0))||/[,.]/.test(lt.charAt(0))}function Si(W,lt,Mt){return lt.tokenize==k&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(lt.lastType)||lt.lastType=="quasi"&&/\{\s*$/.test(W.string.slice(0,W.pos-(Mt||0)))}return{startState:function(W){var lt={tokenize:k,lastType:"sof",cc:[],lexical:new H((W||0)-a,0,"block",!1),localVars:o.localVars,context:o.localVars&&new _t(null,null,!1),indented:W||0};return o.globalVars&&typeof o.globalVars=="object"&&(lt.globalVars=o.globalVars),lt},token:function(W,lt){if(W.sol()&&(lt.lexical.hasOwnProperty("align")||(lt.lexical.align=!1),lt.indented=W.indentation(),U(W,lt)),lt.tokenize!=Z&&W.eatSpace())return null;var Mt=lt.tokenize(W,lt);return w=="comment"?Mt:(lt.lastType=w=="operator"&&(x=="++"||x=="--")?"incdec":w,I(lt,Mt,w,x,W))},indent:function(W,lt){if(W.tokenize==Z||W.tokenize==$)return n.Pass;if(W.tokenize!=k)return 0;var Mt=lt&&lt.charAt(0),Gt=W.lexical,Xt;if(!/^\s*else\b/.test(lt))for(var ke=W.cc.length-1;ke>=0;--ke){var Le=W.cc[ke];if(Le==It)Gt=Gt.prev;else if(Le!=cn&&Le!=$t)break}for(;(Gt.type=="stat"||Gt.type=="form")&&(Mt=="}"||(Xt=W.cc[W.cc.length-1])&&(Xt==et||Xt==E)&&!/^[,\.=+\-*:?[\(]/.test(lt));)Gt=Gt.prev;l&&Gt.type==")"&&Gt.prev.type=="stat"&&(Gt=Gt.prev);var fn=Gt.type,Ye=Mt==fn;return fn=="vardef"?Gt.indented+(W.lastType=="operator"||W.lastType==","?Gt.info.length+1:0):fn=="form"&&Mt=="{"?Gt.indented:fn=="form"?Gt.indented+a:fn=="stat"?Gt.indented+(be(W,lt)?l||a:0):Gt.info=="switch"&&!Ye&&o.doubleIndentSwitch!=!1?Gt.indented+(/^(?:case|default)\b/.test(lt)?a:2*a):Gt.align?Gt.column+(Ye?0:1):Gt.indented+(Ye?0:a)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:c?null:"/*",blockCommentEnd:c?null:"*/",blockCommentContinue:c?null:" * ",lineComment:c?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:c?"json":"javascript",jsonldMode:u,jsonMode:c,expressionAllowed:Si,skipExpression:function(W){I(W,"atom","atom","true",new n.StringStream("",2,null))}}}),n.registerHelper("wordChars","javascript",/[\w$]/),n.defineMIME("text/javascript","javascript"),n.defineMIME("text/ecmascript","javascript"),n.defineMIME("application/javascript","javascript"),n.defineMIME("application/x-javascript","javascript"),n.defineMIME("application/ecmascript","javascript"),n.defineMIME("application/json",{name:"javascript",json:!0}),n.defineMIME("application/x-json",{name:"javascript",json:!0}),n.defineMIME("application/manifest+json",{name:"javascript",json:!0}),n.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),n.defineMIME("text/typescript",{name:"javascript",typescript:!0}),n.defineMIME("application/typescript",{name:"javascript",typescript:!0})})},9701:(r,e,t)=>{(function(n){n(t(4408))})(function(n){var i={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},o={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};n.defineMode("xml",function(a,l){var u=a.indentUnit,c={},d=l.htmlMode?i:o;for(var h in d)c[h]=d[h];for(var h in l)c[h]=l[h];var g,m;function _(M,ot){function dt(_t){return ot.tokenize=_t,_t(M,ot)}var pt=M.next();if(pt=="<")return M.eat("!")?M.eat("[")?M.match("CDATA[")?dt(w("atom","]]>")):null:M.match("--")?dt(w("comment","-->")):M.match("DOCTYPE",!0,!0)?(M.eatWhile(/[\w\._\-]/),dt(x(1))):null:M.eat("?")?(M.eatWhile(/[\w\._\-]/),ot.tokenize=w("meta","?>"),"meta"):(g=M.eat("/")?"closeTag":"openTag",ot.tokenize=b,"tag bracket");if(pt=="&"){var Dt;return M.eat("#")?M.eat("x")?Dt=M.eatWhile(/[a-fA-F\d]/)&&M.eat(";"):Dt=M.eatWhile(/[\d]/)&&M.eat(";"):Dt=M.eatWhile(/[\w\.\-:]/)&&M.eat(";"),Dt?"atom":"error"}else return M.eatWhile(/[^&<]/),null}_.isInText=!0;function b(M,ot){var dt=M.next();if(dt==">"||dt=="/"&&M.eat(">"))return ot.tokenize=_,g=dt==">"?"endTag":"selfcloseTag","tag bracket";if(dt=="=")return g="equals",null;if(dt=="<"){ot.tokenize=_,ot.state=$,ot.tagName=ot.tagStart=null;var pt=ot.tokenize(M,ot);return pt?pt+" tag error":"tag error"}else return/[\'\"]/.test(dt)?(ot.tokenize=C(dt),ot.stringStartCol=M.column(),ot.tokenize(M,ot)):(M.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function C(M){var ot=function(dt,pt){for(;!dt.eol();)if(dt.next()==M){pt.tokenize=b;break}return"string"};return ot.isInAttribute=!0,ot}function w(M,ot){return function(dt,pt){for(;!dt.eol();){if(dt.match(ot)){pt.tokenize=_;break}dt.next()}return M}}function x(M){return function(ot,dt){for(var pt;(pt=ot.next())!=null;){if(pt=="<")return dt.tokenize=x(M+1),dt.tokenize(ot,dt);if(pt==">")if(M==1){dt.tokenize=_;break}else return dt.tokenize=x(M-1),dt.tokenize(ot,dt)}return"meta"}}function O(M){return M&&M.toLowerCase()}function k(M,ot,dt){this.prev=M.context,this.tagName=ot||"",this.indent=M.indented,this.startOfLine=dt,(c.doNotIndent.hasOwnProperty(ot)||M.context&&M.context.noIndent)&&(this.noIndent=!0)}function V(M){M.context&&(M.context=M.context.prev)}function Z(M,ot){for(var dt;;){if(!M.context||(dt=M.context.tagName,!c.contextGrabbers.hasOwnProperty(O(dt))||!c.contextGrabbers[O(dt)].hasOwnProperty(O(ot))))return;V(M)}}function $(M,ot,dt){return M=="openTag"?(dt.tagStart=ot.column(),Y):M=="closeTag"?U:$}function Y(M,ot,dt){return M=="word"?(dt.tagName=ot.current(),m="tag",D):c.allowMissingTagName&&M=="endTag"?(m="tag bracket",D(M,ot,dt)):(m="error",Y)}function U(M,ot,dt){if(M=="word"){var pt=ot.current();return dt.context&&dt.context.tagName!=pt&&c.implicitlyClosed.hasOwnProperty(O(dt.context.tagName))&&V(dt),dt.context&&dt.context.tagName==pt||c.matchClosing===!1?(m="tag",Q):(m="tag error",H)}else return c.allowMissingTagName&&M=="endTag"?(m="tag bracket",Q(M,ot,dt)):(m="error",H)}function Q(M,ot,dt){return M!="endTag"?(m="error",Q):(V(dt),$)}function H(M,ot,dt){return m="error",Q(M,ot,dt)}function D(M,ot,dt){if(M=="word")return m="attribute",I;if(M=="endTag"||M=="selfcloseTag"){var pt=dt.tagName,Dt=dt.tagStart;return dt.tagName=dt.tagStart=null,M=="selfcloseTag"||c.autoSelfClosers.hasOwnProperty(O(pt))?Z(dt,pt):(Z(dt,pt),dt.context=new k(dt,pt,Dt==dt.indented)),$}return m="error",D}function I(M,ot,dt){return M=="equals"?T:(c.allowMissing||(m="error"),D(M,ot,dt))}function T(M,ot,dt){return M=="string"?tt:M=="word"&&c.allowUnquoted?(m="string",D):(m="error",D(M,ot,dt))}function tt(M,ot,dt){return M=="string"?tt:D(M,ot,dt)}return{startState:function(M){var ot={tokenize:_,state:$,indented:M||0,tagName:null,tagStart:null,context:null};return M!=null&&(ot.baseIndent=M),ot},token:function(M,ot){if(!ot.tagName&&M.sol()&&(ot.indented=M.indentation()),M.eatSpace())return null;g=null;var dt=ot.tokenize(M,ot);return(dt||g)&&dt!="comment"&&(m=null,ot.state=ot.state(g||dt,M,ot),m&&(dt=m=="error"?dt+" error":m)),dt},indent:function(M,ot,dt){var pt=M.context;if(M.tokenize.isInAttribute)return M.tagStart==M.indented?M.stringStartCol+1:M.indented+u;if(pt&&pt.noIndent)return n.Pass;if(M.tokenize!=b&&M.tokenize!=_)return dt?dt.match(/^(\s*)/)[0].length:0;if(M.tagName)return c.multilineTagIndentPastTag!==!1?M.tagStart+M.tagName.length+2:M.tagStart+u*(c.multilineTagIndentFactor||1);if(c.alignCDATA&&/<!\[CDATA\[/.test(ot))return 0;var Dt=ot&&/^<(\/)?([\w_:\.-]*)/.exec(ot);if(Dt&&Dt[1])for(;pt;)if(pt.tagName==Dt[2]){pt=pt.prev;break}else if(c.implicitlyClosed.hasOwnProperty(O(pt.tagName)))pt=pt.prev;else break;else if(Dt)for(;pt;){var _t=c.contextGrabbers[O(pt.tagName)];if(_t&&_t.hasOwnProperty(O(Dt[2])))pt=pt.prev;else break}for(;pt&&pt.prev&&!pt.startOfLine;)pt=pt.prev;return pt?pt.indent+u:M.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:c.htmlMode?"html":"xml",helperType:c.htmlMode?"html":"xml",skipAttribute:function(M){M.state==T&&(M.state=D)},xmlCurrentTag:function(M){return M.tagName?{name:M.tagName,close:M.type=="closeTag"}:null},xmlCurrentContext:function(M){for(var ot=[],dt=M.context;dt;dt=dt.prev)ot.push(dt.tagName);return ot.reverse()}}}),n.defineMIME("text/xml","xml"),n.defineMIME("application/xml","xml"),n.mimeModes.hasOwnProperty("text/html")||n.defineMIME("text/html",{name:"xml",htmlMode:!0})})},7058:(r,e,t)=>{t.d(e,{A:()=>a});var n=t(9156),i=function(){var l=function(u,c){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var g in h)Object.prototype.hasOwnProperty.call(h,g)&&(d[g]=h[g])},l(u,c)};return function(u,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");l(u,c);function d(){this.constructor=u}u.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d)}}(),o=function(l){i(u,l);function u(c,d,h){var g=l.call(this,d,h)||this;return g._module=c,g}return Object.defineProperty(u.prototype,"module",{get:function(){return this._module},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"config",{get:function(){return this._module.config},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"em",{get:function(){return this._module.em},enumerable:!1,configurable:!0}),u}(n.Kx);const a=o},179:(r,e,t)=>{t.d(e,{A:()=>l,F:()=>o});var n=t(7058),i=function(){var u=function(c,d){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,g){h.__proto__=g}||function(h,g){for(var m in g)Object.prototype.hasOwnProperty.call(g,m)&&(h[m]=g[m])},u(c,d)};return function(c,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");u(c,d);function h(){this.constructor=c}c.prototype=d===null?Object.create(d):(h.prototype=d.prototype,new h)}}(),o;(function(u){u.Select="select",u.Hover="hover",u.Spacing="spacing",u.Target="target",u.Resize="resize"})(o||(o={}));var a=function(u){i(c,u);function c(){return u!==null&&u.apply(this,arguments)||this}return c.prototype.defaults=function(){return{id:"",type:""}},Object.defineProperty(c.prototype,"type",{get:function(){return this.get("type")||""},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"component",{get:function(){var d,h=this.get("component");return h||((d=this.get("componentView"))===null||d===void 0?void 0:d.model)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"componentView",{get:function(){var d,h=this.get("componentView");return h||((d=this.get("component"))===null||d===void 0?void 0:d.getView())},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"el",{get:function(){var d;return(d=this.componentView)===null||d===void 0?void 0:d.el},enumerable:!1,configurable:!0}),c.prototype.getBoxRect=function(d){var h=this,g=h.el,m=h.em,_=m.Canvas.getCanvasView(),b=this.get("boxRect");return b||(g&&_?_.getElBoxRect(g,d):{x:0,y:0,width:0,height:0})},c.prototype.getStyle=function(d){d===void 0&&(d={});var h=d.boxRect||this.getBoxRect(d),g=h.width,m=h.height,_=h.x,b=h.y;return{width:"".concat(g,"px"),height:"".concat(m,"px"),top:"0",left:"0",position:"absolute",translate:"".concat(_,"px ").concat(b,"px")}},c.prototype.isType=function(d){return this.type===d},c}(n.A);const l=a},1738:(r,e,t)=>{t.d(e,{A:()=>i});var n;(function(o){o.run="command:run",o.runCommand="command:run:",o.runBeforeCommand="command:run:before:",o.abort="command:abort:",o.stop="command:stop",o.stopCommand="command:stop:",o.stopBeforeCommand="command:stop:before:",o.call="command:call",o.callCommand="command:call:"})(n||(n={}));const i=n},9484:(r,e,t)=>{t.r(e),t.d(e,{default:()=>n});const n={run:function(i){i.Components.clear(),i.Css.clear()}}},9516:(r,e,t)=>{t.r(e),t.d(e,{default:()=>a});var n=t(5706),i=t(9966),o=t(6294);const a={run:function(l){(0,n.bindAll)(this,"onKeyUp","enableDragger","disableDragger"),this.editor=l,this.canvasModel=this.canvas.getCanvasView().model,this.toggleMove(1)},stop:function(l){this.toggleMove(),this.disableDragger()},onKeyUp:function(l){(0,o.Ch)(l)===" "&&this.editor.stopCommand(this.id)},enableDragger:function(l){this.toggleDragger(1,l)},disableDragger:function(l){this.toggleDragger(0,l)},toggleDragger:function(l,u){var c=this,d=c.canvasModel,h=c.em,g=this.dragger,m=l?"add":"remove";this.getCanvas().classList[m]("".concat(this.ppfx,"is__grabbing")),g||(g=new i.A({getPosition:function(){return{x:d.get("x"),y:d.get("y")}},setPosition:function(_){var b=_.x,C=_.y;d.set({x:b,y:C})},onStart:function(_,b){h.trigger("canvas:move:start",b)},onDrag:function(_,b){h.trigger("canvas:move",b)},onEnd:function(_,b){h.trigger("canvas:move:end",b)}}),this.dragger=g),l?g.start(u):g.stop()},toggleMove:function(l){var u=this.ppfx,c=l?"add":"remove",d=l?"on":"off",h={on:o.on,off:o.AU},g=this.getCanvas(),m=["".concat(u,"is__grab")];!l&&m.push("".concat(u,"is__grabbing")),m.forEach(function(_){return g.classList[c](_)}),h[d](document,"keyup",this.onKeyUp),h[d](g,"mousedown",this.enableDragger),h[d](document,"mouseup",this.disableDragger)}}},9946:(r,e,t)=>{t.r(e),t.d(e,{default:()=>c,defineCommand:()=>l});var n=t(9156),i=t(1738),o=function(){var d=function(h,g){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,_){m.__proto__=_}||function(m,_){for(var b in _)Object.prototype.hasOwnProperty.call(_,b)&&(m[b]=_[b])},d(h,g)};return function(h,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");d(h,g);function m(){this.constructor=h}h.prototype=g===null?Object.create(g):(m.prototype=g.prototype,new m)}}(),a=function(){return a=Object.assign||function(d){for(var h,g=1,m=arguments.length;g<m;g++){h=arguments[g];for(var _ in h)Object.prototype.hasOwnProperty.call(h,_)&&(d[_]=h[_])}return d},a.apply(this,arguments)};function l(d){return d}var u=function(d){o(h,d);function h(g){var m=d.call(this,0)||this;m.config=g||{},m.em=m.config.em||{};var _=m.config.stylePrefix;return m.pfx=_,m.ppfx=m.config.pStylePrefix,m.hoverClass="".concat(_,"hover"),m.badgeClass="".concat(_,"badge"),m.plhClass="".concat(_,"placeholder"),m.freezClass="".concat(m.ppfx,"freezed"),m.canvas=m.em.Canvas,m.init(m.config),m}return h.prototype.onFrameScroll=function(g){},h.prototype.getCanvas=function(){return this.canvas.getElement()},h.prototype.getCanvasBody=function(){return this.canvas.getBody()},h.prototype.getCanvasTools=function(){return this.canvas.getToolsEl()},h.prototype.offset=function(g){var m=g.getBoundingClientRect();return{top:m.top+g.ownerDocument.body.scrollTop,left:m.left+g.ownerDocument.body.scrollLeft}},h.prototype.init=function(g){},h.prototype.callRun=function(g,m){m===void 0&&(m={});var _=this.id;if(g.trigger("".concat(i.A.runBeforeCommand).concat(_),{options:m}),m.abort){g.trigger("".concat(i.A.abort).concat(_),{options:m});return}var b=m.sender||g,C=this.run(g,b,m),w={id:_,result:C,options:m},x=a(a({},w),{type:"run"});return this.noStop||(g.Commands.active[_]=C),g.trigger("".concat(i.A.runCommand).concat(_),w),g.trigger("".concat(i.A.callCommand).concat(_),x),g.trigger(i.A.run,w),g.trigger(i.A.call,x),C},h.prototype.callStop=function(g,m){m===void 0&&(m={});var _=this.id,b=m.sender||g;g.trigger("".concat(i.A.stopBeforeCommand).concat(_),{options:m});var C=this.stop(g,b,m),w={id:_,result:C,options:m},x=a(a({},w),{type:"stop"});return delete g.Commands.active[_],g.trigger("".concat(i.A.stopCommand).concat(_),w),g.trigger("".concat(i.A.callCommand).concat(_),x),g.trigger(i.A.stop,w),g.trigger(i.A.call,x),C},h.prototype.stopCommand=function(g){this.em.Commands.stop(this.id,g)},h.prototype.run=function(g,m,_){},h.prototype.stop=function(g,m,_){},h}(n.Kx);const c=u},7801:(r,e,t)=>{t.r(e),t.d(e,{default:()=>a});var n=t(5706),i=function(l,u,c){if(c||arguments.length===2)for(var d=0,h=u.length,g;d<h;d++)(g||!(d in u))&&(g||(g=Array.prototype.slice.call(u,0,d)),g[d]=u[d]);return l.concat(g||Array.prototype.slice.call(u))},o={run:function(l,u,c){var d=this;c===void 0&&(c={});var h=[],g=c.component||l.getSelectedAll();return g=(0,n.isArray)(g)?i([],g,!0):[g],g.filter(Boolean).forEach(function(m){var _,b;if(!m.get("removable"))return d.em.logWarning("The element is not removable",{component:m});h.push(m);var C=((b=(_=m.delegate)===null||_===void 0?void 0:_.remove)===null||b===void 0?void 0:b.call(_,m))||m;C.remove()}),l.selectRemove(h),h}};const a=o},4864:(r,e,t)=>{t.r(e),t.d(e,{default:()=>u});var n=t(5706),i=t(9966),o=t(1166),a=function(){return a=Object.assign||function(c){for(var d,h=1,g=arguments.length;h<g;h++){d=arguments[h];for(var m in d)Object.prototype.hasOwnProperty.call(d,m)&&(c[m]=d[m])}return c},a.apply(this,arguments)},l="dmode";const u={run:function(c,d,h){var g=this,m,_;if(h===void 0&&(h={}),(0,n.bindAll)(this,"setPosition","onStart","onDrag","onEnd","getPosition","getGuidesStatic","renderGuide","getGuidesTarget"),!h.target)throw new Error("Target option is required");var b=a({doc:(m=h.target.getEl())===null||m===void 0?void 0:m.ownerDocument,onStart:this.onStart,onEnd:this.onEnd,onDrag:this.onDrag,getPosition:this.getPosition,setPosition:this.setPosition,guidesStatic:function(){var w;return(w=g.guidesStatic)!==null&&w!==void 0?w:[]},guidesTarget:function(){var w;return(w=g.guidesTarget)!==null&&w!==void 0?w:[]}},(_=h.dragger)!==null&&_!==void 0?_:{});this.setupGuides(),this.opts=h,this.editor=c,this.em=c.getModel(),this.target=h.target,this.isTran=h.mode=="translate",this.guidesContainer=this.getGuidesContainer(),this.guidesTarget=this.getGuidesTarget(),this.guidesStatic=this.getGuidesStatic();var C=this.dragger;return C?C.setOptions(b):(C=new i.A(b),this.dragger=C),h.event&&C.start(h.event),this.toggleDrag(!0),this.em.trigger("".concat(l,":start"),this.getEventOpts()),C},getEventOpts:function(){var c,d,h=(d=(c=this.guidesTarget)===null||c===void 0?void 0:c.filter(function(g){return g.active}))!==null&&d!==void 0?d:[];return{mode:this.opts.mode,component:this.target,target:this.target,guidesTarget:this.guidesTarget,guidesStatic:this.guidesStatic,guidesMatched:this.getGuidesMatched(h),command:this}},stop:function(){this.toggleDrag()},setupGuides:function(){var c;((c=this.guides)!==null&&c!==void 0?c:[]).forEach(function(d){var h,g=d.guide;(h=g==null?void 0:g.parentNode)===null||h===void 0||h.removeChild(g)}),this.guides=[]},getGuidesContainer:function(){var c=this,d,h,g,m,_=this.guidesEl;if(!_){var b=this,C=b.editor,w=b.em,x=b.opts,O=(d=C.getConfig().stylePrefix)!==null&&d!==void 0?d:"",k=document.createElement("div"),V=document.createElement("div"),Z='<div class="'.concat(O,"guide-info__line ").concat(O,`danger-bg">
        <div class="`).concat(O,"guide-info__content ").concat(O,`danger-color"></div>
      </div>`);_=document.createElement("div"),_.className="".concat(O,"guides"),k.className="".concat(O,"guide-info ").concat(O,"guide-info__x"),V.className="".concat(O,"guide-info ").concat(O,"guide-info__y"),k.innerHTML=Z,V.innerHTML=Z,_.appendChild(k),_.appendChild(V),(h=C.Canvas.getGlobalToolsEl())===null||h===void 0||h.appendChild(_),this.guidesEl=_,this.elGuideInfoX=k,this.elGuideInfoY=V,this.elGuideInfoContentX=(g=k.querySelector(".".concat(O,"guide-info__content")))!==null&&g!==void 0?g:void 0,this.elGuideInfoContentY=(m=V.querySelector(".".concat(O,"guide-info__content")))!==null&&m!==void 0?m:void 0,w.on("canvas:update frame:scroll",(0,n.debounce)(function(){var $;c.updateGuides(),x.debug&&(($=c.guides)===null||$===void 0||$.forEach(function(Y){return c.renderGuide(Y)}))},200))}return _},getGuidesStatic:function(){var c=this,d=[],h=this.target.getEl(),g=h==null?void 0:h.parentElement;return g?((0,n.each)(g.children,function(m){return d=d.concat(h!==m?c.getElementGuides(m):[])}),d.concat(this.getElementGuides(g))):[]},getGuidesTarget:function(){return this.getElementGuides(this.target.getEl())},updateGuides:function(c){var d=this,h,g,m,_=(h=c??this.guides)!==null&&h!==void 0?h:[];_.forEach(function(b){var C=b.origin,w=g===C?m:d.getElementPos(C);g=C,m=w,(0,n.each)(d.getGuidePosUpdate(b,w),function(x,O){b[O]=x}),b.originRect=w})},getGuidePosUpdate:function(c,d){var h={},g=d.top,m=d.height,_=d.left,b=d.width;switch(c.type){case"t":h.y=g;break;case"b":h.y=g+m;break;case"l":h.x=_;break;case"r":h.x=_+b;break;case"x":h.x=_+b/2;break;case"y":h.y=g+m/2;break}return h},renderGuide:function(c){var d,h;if(!this.opts.skipGuidesRender){var g=(d=c.guide)!==null&&d!==void 0?d:document.createElement("div"),m="px",_=c.active?2:1;if(g.style.cssText="position: absolute; background-color: ".concat(c.active?"green":"red",";"),!g.children.length){var b=document.createElement("div");b.style.cssText="position: absolute; color: red; padding: 5px; top: 0; left: 0;",g.appendChild(b)}return c.y?(g.style.width="100%",g.style.height="".concat(_).concat(m),g.style.top="".concat(c.y).concat(m),g.style.left="0"):(g.style.width="".concat(_).concat(m),g.style.height="100%",g.style.left="".concat(c.x).concat(m),g.style.top="0".concat(m)),!c.guide&&((h=this.guidesContainer)===null||h===void 0||h.appendChild(g)),g}},getElementPos:function(c){return this.editor.Canvas.getElementPos(c,{noScroll:1})},getElementGuides:function(c){var d=this,h=this.opts,g=c,m=this.getElementPos(c),_=(0,o.getComponentModel)(c),b=(0,o.getComponentView)(c),C=m.top,w=m.height,x=m.left,O=m.width,k=[{type:"t",y:C},{type:"b",y:C+w},{type:"l",x},{type:"r",x:x+O},{type:"x",x:x+O/2},{type:"y",y:C+w/2}],V=k.map(function(Z){var $=h.debug?d.renderGuide(Z):void 0;return a(a({},Z),{component:_,componentView:b,componentEl:g,origin:g,componentElRect:m,originRect:m,guideEl:$,guide:$})});return V.forEach(function(Z){var $;return($=d.guides)===null||$===void 0?void 0:$.push(Z)}),V},getTranslate:function(c,d){d===void 0&&(d="x");var h=0;return(c||"").split(" ").forEach(function(g){var m=g.trim(),_="translate".concat(d.toUpperCase(),"(");m.indexOf(_)===0&&(h=parseFloat(m.replace(_,"")))}),h},setTranslate:function(c,d,h){var g="translate".concat(d.toUpperCase(),"("),m="".concat(g).concat(h,")"),_=(c||"").split(" ").map(function(b){var C=b.trim();return C.indexOf(g)===0&&(b=m),b}).join(" ");return _.indexOf(g)<0&&(_+=" ".concat(m)),_},getPosition:function(){var c=this,d=c.target,h=c.isTran,g=d.getStyle(),m=g.transform,_=g.left,b=g.top,C=0,w=0;return h&&m?(C=this.getTranslate(m),w=this.getTranslate(m,"y")):(C=parseFloat(_??"0"),w=parseFloat(b??"0")),{x:C,y:w}},setPosition:function(c){var d,h,g=c.x,m=c.y,_=c.end,b=c.position,C=c.width,w=c.height,x=this,O=x.target,k=x.isTran,V=x.em,Z=x.opts,$="px",Y=!_,U="".concat(parseInt("".concat(g),10)).concat($),Q="".concat(parseInt("".concat(m),10)).concat($),H={};if(k){var D=(h=(d=O.getStyle())===null||d===void 0?void 0:d.transform)!==null&&h!==void 0?h:"";D=this.setTranslate(D,"x",U),D=this.setTranslate(D,"y",Q),H={transform:D,__p:Y}}else{var I={position:b,width:C,height:w},T={left:U,top:Q,__p:Y};(0,n.keys)(I).forEach(function(tt){var M=I[tt];M&&(T[tt]=M)}),H=T}Z.addStyle?Z.addStyle({component:O,styles:H,partial:!_}):O.addStyle(H,{avoidStore:!_}),V.Styles.__emitCmpStyleUpdate(H,{components:V.getSelected()})},_getDragData:function(){var c=this.target;return{target:c,parent:c.parent(),index:c.index()}},onStart:function(c){var d,h=this,g=h.target,m=h.editor,_=h.isTran,b=h.opts,C=m.Canvas,w=g.getStyle(),x="absolute",O=[x,"relative"];if((d=b.onStart)===null||d===void 0||d.call(b,this._getDragData()),!_){if(w.position!==x){var k=C.offset(g.getEl()),V=k.left,Z=k.top,$=k.width,Y=k.height,U=g.parent(),Q=null;do{var H=U==null?void 0:U.getStyle(),D=H==null?void 0:H.position;D&&(Q=O.indexOf(D)>=0?U:null),U=U==null?void 0:U.parent()}while(U&&!Q);if(b.center){var I=C.getMouseRelativeCanvas(c),T=I.x,tt=I.y;V=T,Z=tt}else if(Q){var M=C.offset(Q.getEl());V=V-M.left,Z=Z-M.top}this.setPosition({x:V,y:Z,width:"".concat($,"px"),height:"".concat(Y,"px"),position:x})}this.guidesStatic=this.getGuidesStatic()}},onDrag:function(c){var d=this,h,g,m=this,_=m.guidesTarget,b=m.opts;this.updateGuides(_),b.debug&&(_==null||_.forEach(function(C){return d.renderGuide(C)})),b.guidesInfo&&this.renderGuideInfo((h=_==null?void 0:_.filter(function(C){return C.active}))!==null&&h!==void 0?h:[]),(g=b.onDrag)===null||g===void 0||g.call(b,this._getDragData()),this.opts.event=c,this.em.trigger("".concat(l,":move"),this.getEventOpts())},onEnd:function(c,d,h){var g,m=this,_=m.editor,b=m.opts,C=m.id;(g=b.onEnd)===null||g===void 0||g.call(b,c,h,a(a({event:c},h),this._getDragData())),_.stopCommand("".concat(C)),this.hideGuidesInfo(),this.em.trigger("".concat(l,":end"),this.getEventOpts())},hideGuidesInfo:function(){var c=this;["X","Y"].forEach(function(d){var h=c["elGuideInfo".concat(d)];h&&(h.style.display="none")})},renderGuideInfo:function(c){var d=this;c===void 0&&(c=[]),this.hideGuidesInfo();var h=this.getGuidesMatched(c);h.forEach(function(g){d.opts.skipGuidesRender||d.renderSingleGuideInfo(g),d.em.trigger("".concat(l,":active"),a(a({},d.getEventOpts()),g))})},renderSingleGuideInfo:function(c){var d=c.posFirst,h=c.posSecond,g=c.size,m=c.sizeRaw,_=c.guide,b=c.elGuideInfo,C=c.elGuideInfoCnt,w=(0,n.isUndefined)(_.x)?"y":"x",x=w==="y",O=b.style;O.display="",O[x?"top":"left"]="".concat(d,"px"),O[x?"left":"top"]="".concat(h,"px"),O[x?"width":"height"]="".concat(g,"px"),C.innerHTML="".concat(Math.round(m),"px")},getGuidesMatched:function(c){var d=this;c===void 0&&(c=[]);var h=this.guidesStatic,g=h===void 0?[]:h;return c.map(function(m){var _=m.origin,b=m.x,C=d.getElementPos(_),w=(0,n.isUndefined)(b)?"y":"x",x=w==="y",O=C[x?"left":"top"],k=C.rect[x?"left":"top"],V=x?O+C.width:O+C.height,Z=x?k+C.rect.width:k+C.rect.height,$=g.filter(function($t){var zt,It={l:["r","x"],r:["l","x"],x:["l","r"],t:["b","y"],b:["t","y"],y:["t","b"]};return $t.type===m.type||((zt=It[m.type])===null||zt===void 0?void 0:zt.includes($t.type))}).map(function($t){var zt=$t.originRect,It=zt.left,Zt=zt.width,fe=zt.top,Jt=zt.height,yt=x?It:fe,Wt=x?It+Zt:fe+Jt;return{gap:Wt<O?O-Wt:yt-V,guide:$t}}).filter(function($t){return $t.gap>0}).sort(function($t,zt){return $t.gap-zt.gap}).map(function($t){return $t.guide}).filter(function($t){switch(m.type){case"l":case"r":case"x":return Math.abs($t.x-m.x)<1;case"t":case"b":case"y":return Math.abs($t.y-m.y)<1;default:return!1}}),Y=$[0];if(Y){var U=Y.originRect,Q=U.left,H=U.width,D=U.top,I=U.height,T=U.rect,tt=x?Q<C.left:D<C.top,M=x?Q:D,ot=x?T.left:T.top,dt=x?Q+H:D+I,pt=x?T.left+T.width:T.top+T.height,Dt=x?m.y:m.x,_t=tt?dt:V,rt=tt?O-dt:M-V,At=tt?k-pt:ot-Z,mt=d["elGuideInfo".concat(w.toUpperCase())],Tt=d["elGuideInfoContent".concat(w.toUpperCase())];return{guide:m,guidesStatic:g,matched:Y,posFirst:Dt,posSecond:_t,size:rt,sizeRaw:At,elGuideInfo:mt,elGuideInfoCnt:Tt}}else return null}).filter(Boolean)},toggleDrag:function(c){var d=this,h=d.ppfx,g=d.editor,m=c?"add":"remove",_=["".concat(h,"is__grabbing")],b=g.Canvas,C=b.getBody();_.forEach(function(w){return C.classList[m](w)}),b[c?"startAutoscroll":"stopAutoscroll"]()},editor:void 0,em:void 0,opts:void 0,target:void 0}},6134:(r,e,t)=>{t.r(e),t.d(e,{default:()=>n});const n={run:function(i){if(i.Canvas.hasFocus()){var o=[];i.getSelectedAll().forEach(function(a){var l=a.components(),u=l&&l.filter(function(c){return c.get("selectable")})[0];u&&o.push(u)}),o.length&&i.select(o)}}}},914:(r,e,t)=>{t.r(e),t.d(e,{default:()=>n});const n={run:function(i,o,a){if(a===void 0&&(a={}),!(!i.Canvas.hasFocus()&&!a.force)){var l=[];i.getSelectedAll().forEach(function(u){for(var c=u.parent();c&&!c.get("selectable");)c=c.parent();c&&l.push(c)}),l.length&&i.select(l)}}}},5547:(r,e,t)=>{t.r(e),t.d(e,{default:()=>n});const n={run:function(i){if(i.Canvas.hasFocus()){var o=[];i.getSelectedAll().forEach(function(a){var l=a.parent();if(l){var u=l.components().length,c=0,d=0,h;do c++,d=a.index()+c,h=d<=u?l.getChildAt(d):null;while(h&&!h.get("selectable"));o.push(h||a)}}),o.length&&i.select(o)}}}},8655:(r,e,t)=>{t.r(e),t.d(e,{default:()=>n});const n={run:function(i){if(i.Canvas.hasFocus()){var o=[];i.getSelectedAll().forEach(function(a){var l=a.parent();if(l){var u=0,c=0,d;do u++,c=a.index()-u,d=c>=0?l.getChildAt(c):null;while(d&&!d.get("selectable"));o.push(d||a)}}),o.length&&i.select(o)}}}},7640:(r,e,t)=>{t.r(e),t.d(e,{default:()=>i});var n=t(5706);const i={run:function(o,a,l){l===void 0&&(l={});var u=l.target,c=[];if(!u.get("styles"))return c;var d=u.get("type"),h=o.Pages.getAllWrappers(),g=(0,n.flatten)(h.map(function(_){return _.findType(d)})).length;if(!g){var m=o.CssComposer.getAll();c=m.filter(function(_){return _.get("group")==="cmp:".concat(d)}),m.remove(c)}return c}}},5837:(r,e,t)=>{t.r(e),t.d(e,{default:()=>i});var n=function(o,a,l){if(l||arguments.length===2)for(var u=0,c=a.length,d;u<c;u++)(d||!(u in a))&&(d||(d=Array.prototype.slice.call(a,0,u)),d[u]=a[u]);return o.concat(d||Array.prototype.slice.call(a))};const i={run:function(o){var a=o.getModel(),l=n([],o.getSelectedAll(),!0).map(function(u){var c,d;return((d=(c=u.delegate)===null||c===void 0?void 0:c.copy)===null||d===void 0?void 0:d.call(c,u))||u}).filter(Boolean);l.length&&a.set("clipboard",l)}}},6477:(r,e,t)=>{t.r(e),t.d(e,{default:()=>i});var n=t(6294);const i={run:function(o,a,l){var u=this;l===void 0&&(l={}),a&&a.set&&a.set("active",0);var c=o.getConfig(),d=o.Modal,h=c.stylePrefix;if(this.cm=o.CodeManager||null,!this.editors){var g=this.buildEditor("htmlmixed","hopscotch","HTML"),m=this.buildEditor("css","hopscotch","CSS");this.htmlEditor=g.model,this.cssEditor=m.model;var _=(0,n.a_)("div",{class:"".concat(h,"export-dl")});_.appendChild(g.el),_.appendChild(m.el),this.editors=_}d.open({title:c.textViewCode,content:this.editors}).getModel().once("change:open",function(){return o.stopCommand("".concat(u.id))}),this.htmlEditor.setContent(o.getHtml(l.optsHtml)),this.cssEditor.setContent(o.getCss(l.optsCss))},stop:function(o){var a=o.Modal;a&&a.close()},buildEditor:function(o,a,l){var u=this.em.CodeManager,c=u.createViewer({label:l,codeName:o,theme:a}),d=new u.EditorView({model:c,config:u.getConfig()}).render().el;return{model:c,el:d}}}},1772:(r,e,t)=>{t.r(e),t.d(e,{default:()=>i});var n=t(5706);const i={isEnabled:function(){var o=document;return!!(o.fullscreenElement||o.webkitFullscreenElement||o.mozFullScreenElement)},enable:function(o){var a="";return o.requestFullscreen?o.requestFullscreen():o.webkitRequestFullscreen?(a="webkit",o.webkitRequestFullscreen()):o.mozRequestFullScreen?(a="moz",o.mozRequestFullScreen()):o.msRequestFullscreen&&o.msRequestFullscreen(),a},disable:function(){var o=document;this.isEnabled()&&(o.exitFullscreen?o.exitFullscreen():o.webkitExitFullscreen?o.webkitExitFullscreen():o.mozCancelFullScreen?o.mozCancelFullScreen():o.msExitFullscreen&&o.msExitFullscreen())},fsChanged:function(o){this.isEnabled()||(this.stopCommand({sender:this.sender}),document.removeEventListener("".concat(o||"","fullscreenchange"),this.fsChanged))},run:function(o,a,l){l===void 0&&(l={}),this.sender=a;var u=l.target,c=(0,n.isElement)(u)?u:document.querySelector(u),d=this.enable(c||o.getContainer());this.fsChanged=this.fsChanged.bind(this,d),document.addEventListener(d+"fullscreenchange",this.fsChanged)},stop:function(o,a){a&&a.set&&a.set("active",!1),this.disable()}}},741:(r,e,t)=>{t.r(e),t.d(e,{default:()=>u});var n=t(5706),i=t(7774),o=t(6294),a=t(9317),l=t(1406);const u=(0,n.extend)({},l.default,a.default,{init:function(c){a.default.init.apply(this,arguments),(0,n.bindAll)(this,"initSorter","rollback","onEndMove"),this.opt=c,this.hoverClass=this.ppfx+"highlighter-warning",this.badgeClass=this.ppfx+"badge-warning",this.noSelClass=this.ppfx+"no-select"},enable:function(){for(var c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];a.default.enable.apply(this,c),this.getBadgeEl().addClass(this.badgeClass),this.getHighlighterEl().addClass(this.hoverClass);var h=this.$wrapper;h.css("cursor","move"),h.on("mousedown",this.initSorter),h.addClass(this.noSelClass)},toggleClipboard:function(){},initSorter:function(c){var d=(0,i.default)(c.target).data("model"),h=d.get("draggable");h&&(this.cacheEl=null,this.startSelectPosition(c.target,this.frameEl.contentDocument),this.sorter.draggable=h,this.sorter.eventHandlers.legacyOnEndMove=this.onEndMove.bind(this),this.stopSelectComponent(),this.$wrapper.off("mousedown",this.initSorter),(0,o.on)(this.getContentWindow(),"keydown",this.rollback))},initSorterFromModel:function(c){var d=c.get("draggable");if(d){this.cacheEl=null;var h=c.view.el;this.startSelectPosition(h,this.frameEl.contentDocument),this.sorter.draggable=d,this.sorter.eventHandlers.legacyOnEndMove=this.onEndMoveFromModel.bind(this),this.stopSelectComponent(),(0,o.on)(this.getContentWindow(),"keydown",this.rollback)}},initSorterFromModels:function(c){this.cacheEl=null;var d=c[c.length-1],h=this.em.getCurrentFrame(),g=d.getEl(h==null?void 0:h.model),m=g.ownerDocument,_=c.map(function(b){var C;return(C=b==null?void 0:b.view)===null||C===void 0?void 0:C.el});this.startSelectPosition(_,m,{onStart:this.onStart}),this.sorter.eventHandlers.legacyOnMoveClb=this.onDrag,this.sorter.eventHandlers.legacyOnEndMove=this.onEndMoveFromModel.bind(this),this.stopSelectComponent(),(0,o.on)(this.getContentWindow(),"keydown",this.rollback)},onEndMoveFromModel:function(){(0,o.AU)(this.getContentWindow(),"keydown",this.rollback)},onEndMove:function(){this.enable(),(0,o.AU)(this.getContentWindow(),"keydown",this.rollback)},onSelect:function(c,d){},rollback:function(c,d){var h=c.which||c.keyCode;(h==27||d)&&this.sorter.cancelDrag()},getBadgeEl:function(){return this.$badge||(this.$badge=(0,i.default)(this.getBadge())),this.$badge},getHighlighterEl:function(){return this.$hl||(this.$hl=(0,i.default)(this.canvas.getHighlighter())),this.$hl},stop:function(){for(var c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];a.default.stop.apply(this,c),this.getBadgeEl().removeClass(this.badgeClass),this.getHighlighterEl().removeClass(this.hoverClass);var h=this.$wrapper;h.css("cursor","").unbind().removeClass(this.noSelClass)}})},2924:(r,e,t)=>{t.r(e),t.d(e,{default:()=>o});var n=t(5706),i=t(6294);const o={open:function(a){var l=this,u=this,c=u.editor,d=u.title,h=u.config,g=u.am,m=h.custom;if((0,n.isFunction)(m.open))return m.open(g.__customData());var _=c.Modal;_.open({title:d,content:a}).onceClose(function(){return c.stopCommand(l.id)})},close:function(){var a=this.config.custom;if((0,n.isFunction)(a.close))return a.close(this.am.__customData());var l=this.editor.Modal;l&&l.close()},run:function(a,l,u){u===void 0&&(u={});var c=a.AssetManager,d=c.getConfig(),h=u.types,g=h===void 0?[]:h,m=u.accept,_=u.select;if(this.title=u.modalTitle||a.t("assetManager.modalTitle")||"",this.editor=a,this.config=d,this.am=c,c.setTarget(u.target),c.onClick(u.onClick),c.onDblClick(u.onDblClick),c.onSelect(u.onSelect),c.__behaviour({select:_,types:g,options:u}),d.custom)this.rendered=this.rendered||(0,i.a_)("div"),this.rendered.className="".concat(d.stylePrefix,"custom-wrp"),c.__behaviour({container:this.rendered}),c.__trgCustom();else{if(!this.rendered||g){var b=c.getAll().filter(function(w){return w});g&&g.length&&(b=b.filter(function(w){return g.indexOf(w.get("type"))!==-1})),c.render(b),this.rendered=c.getContainer()}if(m){var C=this.rendered.querySelector("input#".concat(d.stylePrefix,"uploadFile"));C&&C.setAttribute("accept",m)}}return this.open(this.rendered),this},stop:function(a){this.editor=a,this.close(this.rendered)}}},3963:(r,e,t)=>{t.r(e),t.d(e,{default:()=>o});var n=t(5706),i=t(6294);const o={open:function(){var a=this,l=a.container,u=a.editor,c=a.bm,d=a.config,h=d.custom,g=d.appendTo;if((0,n.isFunction)(h.open))return h.open(c.__customData());if(this.firstRender&&!g){var m="views-container",_=u.Panels,b=_.getPanel(m)||_.addPanel({id:m});b.set("appendContent",l).trigger("change:appendContent"),h||l.appendChild(c.render())}l&&(l.style.display="block")},close:function(){var a=this,l=a.container,u=a.config,c=u.custom;if((0,n.isFunction)(c.close))return c.close(this.bm.__customData());l&&(l.style.display="none")},run:function(a){var l=a.Blocks;this.config=l.getConfig(),this.firstRender=!this.container,this.container=this.container||(0,i.a_)("div"),this.editor=a,this.bm=l;var u=this.container;l.__behaviour({container:u}),this.config.custom&&l.__trgCustom(),this.open()},stop:function(){this.close()}}},1479:(r,e,t)=>{t.r(e),t.d(e,{default:()=>n});const n={run:function(i){var o=i.LayerManager,a=i.Panels,l=o.getConfig();if(!l.appendTo){if(!this.layers){var u="views-container",c=document.createElement("div"),d=a.getPanel(u)||a.addPanel({id:u});l.custom?o.__trgCustom({container:c}):c.appendChild(o.render()),d.set("appendContent",c).trigger("change:appendContent"),this.layers=c}this.layers.style.display="block"}},stop:function(){var i=this.layers;i&&(i.style.display="none")}}},3473:(r,e,t)=>{t.r(e),t.d(e,{default:()=>i});var n=t(7774);const i={run:function(o,a){if(this.sender=a,!this.$cnt){var l=o.getConfig(),u=o.Panels,c=o.DeviceManager,d=o.SelectorManager,h=o.StyleManager,g="change:appendContent",m=(0,n.default)("<div></div>"),_=(0,n.default)("<div></div>"),b=(0,n.default)("<div></div>"),C=(0,n.default)("<div></div>");if(this.$cnt=m,this.$cntInner=_,_.append(b),_.append(C),m.append(_),c&&l.showDevices){var w=u.addPanel({id:"devices-c"}),x=c.render();w.set("appendContent",x).trigger(g)}var O=d.getConfig();O.custom?d.__trgCustom({container:b.get(0)}):O.appendTo||b.append(d.render([])),this.sm=h;var k=h.getConfig(),V=k.stylePrefix;this.$header=(0,n.default)('<div class="'.concat(V,'header">').concat(o.t("styleManager.empty"),"</div>")),m.append(this.$header),k.custom?h.__trgCustom({container:C.get(0)}):k.appendTo||C.append(h.render());var Z="views-container",$=u.getPanel(Z)||u.addPanel({id:Z});$.set("appendContent",m).trigger(g);var Y=o.getModel();this.listenTo(Y,h.events.target,this.toggleSm)}this.toggleSm()},toggleSm:function(){var o=this,a=o.sender,l=o.sm,u=o.$cntInner,c=o.$header;a&&a.get&&!a.get("active")||!l||(l.getSelected()?(u==null||u.show(),c==null||c.hide()):(u==null||u.hide(),c==null||c.show()))},stop:function(){var o,a;(o=this.$cntInner)===null||o===void 0||o.hide(),(a=this.$header)===null||a===void 0||a.hide()}}},5054:(r,e,t)=>{t.r(e),t.d(e,{default:()=>i});var n=t(7774);const i={run:function(o,a){this.sender=a;var l=o.getModel(),u=o.Config,c=u.stylePrefix,d=o.TraitManager,h=d.getConfig(),g;if(!h.appendTo){if(!this.$cn){this.$cn=(0,n.default)("<div></div>"),this.$cn2=(0,n.default)("<div></div>"),this.$cn.append(this.$cn2),this.$header=(0,n.default)("<div>").append('<div class="'.concat(h.stylePrefix,'header">').concat(l.t("traitManager.empty"),"</div>")),this.$cn.append(this.$header),h.custom?d.__trgCustom({container:this.$cn2.get(0)}):(this.$cn2.append('<div class="'.concat(c,'traits-label">').concat(l.t("traitManager.label"),"</div>")),this.$cn2.append(d.render()));var m=o.Panels;m.getPanel("views-container")?g=m.getPanel("views-container"):g=m.addPanel({id:"views-container"}),g==null||g.set("appendContent",this.$cn.get(0)).trigger("change:appendContent"),this.target=o.getModel(),this.listenTo(this.target,"component:toggled",this.toggleTm)}this.toggleTm()}},toggleTm:function(){var o=this.sender;o&&o.get&&!o.get("active")||(this.target.getSelectedAll().length===1?(this.$cn2.show(),this.$header.hide()):(this.$cn2.hide(),this.$header.show()))},stop:function(){this.$cn2&&this.$cn2.hide(),this.$header&&this.$header.hide()}}},6979:(r,e,t)=>{t.r(e),t.d(e,{default:()=>i});var n=t(5706);const i={run:function(a,l,u){u===void 0&&(u={});var c=a.getModel(),d=c.get("clipboard"),h=a.getSelected();d!=null&&d.length&&h&&(a.getSelectedAll().forEach(function(g){var m,_,b,C=((_=(m=g.delegate)===null||m===void 0?void 0:m.copy)===null||_===void 0?void 0:_.call(m,g))||g,w=C.collection,x;if(w){var O=C.index()+1,k={at:O,action:u.action||"paste-component"};(0,n.contains)(d,C)&&C.get("copyable")?x=w.add(C.clone(),k):x=o(a,d,C.parent(),k)}else{var V=(b=c.Pages.getSelected())===null||b===void 0?void 0:b.getMainComponent(),k={at:(V==null?void 0:V.components().length)||0,action:u.action||"paste-component"};x=o(a,d,V,k)}x=(0,n.isArray)(x)?x:[x],x.forEach(function(Z){return a.trigger("component:paste",Z)})}),h.emitUpdate())}};function o(a,l,u,c){var d=l.filter(function(g){return g.get("copyable")}),h=d.filter(function(g){return a.Components.canMove(u,g).result});return u.components().add(h.map(function(g){return g.clone()}),c)}},4457:(r,e,t)=>{t.r(e),t.d(e,{default:()=>a});var n=t(5706),i=function(l,u,c){if(c||arguments.length===2)for(var d=0,h=u.length,g;d<h;d++)(g||!(d in u))&&(g||(g=Array.prototype.slice.call(u,0,d)),g[d]=u[d]);return l.concat(g||Array.prototype.slice.call(u))},o="core:component-outline";const a={getPanels:function(l){return this.panels||(this.panels=l.Panels.getPanels()),this.panels},preventDrag:function(l){l.abort=1},tglEffects:function(l){var u=this.em,c=l?"on":"off";if(u){var d=u.Canvas,h=d.getBody(),g=d.getToolbarEl();g&&(g.style.display=l?"none":"");var m=h.querySelectorAll(".".concat(this.ppfx,"no-pointer"));(0,n.each)(m,function(_){return _.style.pointerEvents=l?"all":""}),u[c]("run:tlb-move:before",this.preventDrag)}},run:function(l,u){var c=this;this.sender=u,this.selected=i([],l.getSelectedAll(),!0),l.select(),this.shouldRunSwVisibility||(this.shouldRunSwVisibility=l.Commands.isActive(o)),this.shouldRunSwVisibility&&l.stopCommand(o),l.getModel().stopDefault();var d=this.getPanels(l),h=l.Canvas.getElement(),g=l.getEl(),m=l.Config.stylePrefix;if(!this.helper){var _=document.createElement("span");_.className="".concat(m,"off-prv fa fa-eye-slash"),g.appendChild(_),_.onclick=function(){return c.stopCommand()},this.helper=_}this.helper.style.display="inline-block",d.forEach(function(C){return C.set("visible",!1)});var b=h.style;b.width="100%",b.height="100%",b.top="0",b.left="0",b.padding="0",b.margin="0",l.refresh(),this.tglEffects(1)},stop:function(l){var u=this,c=u.sender,d=c===void 0?{}:c,h=u.selected;d.set&&d.set("active",0);var g=this.getPanels(l);this.shouldRunSwVisibility&&(l.runCommand(o),this.shouldRunSwVisibility=!1),l.getModel().runDefault(),g.forEach(function(_){return _.set("visible",!0)});var m=l.Canvas.getElement();m.setAttribute("style",""),h&&l.select(h),delete this.selected,this.helper&&(this.helper.style.display="none"),l.refresh(),this.tglEffects()}}},5493:(r,e,t)=>{t.r(e),t.d(e,{default:()=>i});var n=function(){return n=Object.assign||function(o){for(var a,l=1,u=arguments.length;l<u;l++){a=arguments[l];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(o[c]=a[c])}return o},n.apply(this,arguments)};const i={run:function(o,a,l){var u=l||{},c=o.Canvas,d=c.getCanvasView(),h=n({appendTo:c.getResizerEl(),prefix:o.getConfig().stylePrefix,posFetcher:d.getElementPos.bind(d),mousePosFetcher:c.getMouseRelativePos.bind(c)},u.options||{}),g=this.canvasResizer;return(!g||u.forceNew)&&(this.canvasResizer=new o.Utils.Resizer(h),g=this.canvasResizer),g.setOptions(h,!0),g.blur(),g.focus(u.el),g},stop:function(){var o;(o=this.canvasResizer)===null||o===void 0||o.blur()}}},9317:(r,e,t)=>{t.r(e),t.d(e,{default:()=>Q});var n=t(5706),i=t(9156),o=function(){var H=function(D,I){return H=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,tt){T.__proto__=tt}||function(T,tt){for(var M in tt)Object.prototype.hasOwnProperty.call(tt,M)&&(T[M]=tt[M])},H(D,I)};return function(D,I){if(typeof I!="function"&&I!==null)throw new TypeError("Class extends value "+String(I)+" is not a constructor or null");H(D,I);function T(){this.constructor=D}D.prototype=I===null?Object.create(I):(T.prototype=I.prototype,new T)}}(),a=function(H){o(D,H);function D(){return H!==null&&H.apply(this,arguments)||this}return D.prototype.defaults=function(){return{command:"",attributes:{}}},D}(i.Kx);const l=a;var u=function(){var H=function(D,I){return H=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,tt){T.__proto__=tt}||function(T,tt){for(var M in tt)Object.prototype.hasOwnProperty.call(tt,M)&&(T[M]=tt[M])},H(D,I)};return function(D,I){if(typeof I!="function"&&I!==null)throw new TypeError("Class extends value "+String(I)+" is not a constructor or null");H(D,I);function T(){this.constructor=D}D.prototype=I===null?Object.create(I):(T.prototype=I.prototype,new T)}}(),c=function(H){u(D,H);function D(){return H!==null&&H.apply(this,arguments)||this}return D}(i.pM);const d=c;c.prototype.model=l;var h=t(8242),g=function(){var H=function(D,I){return H=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,tt){T.__proto__=tt}||function(T,tt){for(var M in tt)Object.prototype.hasOwnProperty.call(tt,M)&&(T[M]=tt[M])},H(D,I)};return function(D,I){if(typeof I!="function"&&I!==null)throw new TypeError("Class extends value "+String(I)+" is not a constructor or null");H(D,I);function T(){this.constructor=D}D.prototype=I===null?Object.create(I):(T.prototype=I.prototype,new T)}}(),m=function(){return m=Object.assign||function(H){for(var D,I=1,T=arguments.length;I<T;I++){D=arguments[I];for(var tt in D)Object.prototype.hasOwnProperty.call(D,tt)&&(H[tt]=D[tt])}return H},m.apply(this,arguments)},_=function(H){g(D,H);function D(I){var T=H.call(this,I)||this;return T.em=I.config.em,T}return D.prototype.events=function(){return this.model.get("events")||{mousedown:"handleClick"}},D.prototype.attributes=function(){return this.model.get("attributes")},D.prototype.handleClick=function(I){I.preventDefault(),I.stopPropagation();var T=this.em,tt=T.Canvas.getFrameEl().getBoundingClientRect(),M=tt.left,ot=tt.top,dt=m(m({},I),{clientX:I.clientX-M,clientY:I.clientY-ot});T.trigger("toolbar:run:before",{event:dt}),this.execCommand(dt)},D.prototype.execCommand=function(I){var T=this,tt=T.em,M=T.model,ot={event:I},dt=M.get("command"),pt=tt.Editor;(0,n.isFunction)(dt)&&dt(pt,null,ot),(0,n.isString)(dt)&&pt.runCommand(dt,ot)},D.prototype.render=function(){var I=this,T=I.em,tt=I.$el,M=I.model,ot=M.get("id"),dt=M.get("label"),pt=T.getConfig().stylePrefix;return tt.addClass("".concat(pt,"toolbar-item")),ot&&tt.addClass("".concat(pt,"toolbar-item__").concat(ot)),dt&&tt.append(dt),this},D}(i.Ss);const b=_;var C=function(){var H=function(D,I){return H=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,tt){T.__proto__=tt}||function(T,tt){for(var M in tt)Object.prototype.hasOwnProperty.call(tt,M)&&(T[M]=tt[M])},H(D,I)};return function(D,I){if(typeof I!="function"&&I!==null)throw new TypeError("Class extends value "+String(I)+" is not a constructor or null");H(D,I);function T(){this.constructor=D}D.prototype=I===null?Object.create(I):(T.prototype=I.prototype,new T)}}(),w=function(H){C(D,H);function D(I){var T=H.call(this,I)||this,tt=I.em;return T.em=tt,T.config={em:tt},T.listenTo(T.collection,"reset",T.render),T}return D.prototype.onRender=function(){var I=this.em.config.stylePrefix;this.el.className="".concat(I,"toolbar-items")},D}(h.A);const x=w;w.prototype.itemView=b;var O=t(6294),k=t(1166),V=t(179),Z=t(2225),$=function(){return $=Object.assign||function(H){for(var D,I=1,T=arguments.length;I<T;I++){D=arguments[I];for(var tt in D)Object.prototype.hasOwnProperty.call(D,tt)&&(H[tt]=D[tt])}return H},$.apply(this,arguments)},Y=function(H,D){var I={};for(var T in H)Object.prototype.hasOwnProperty.call(H,T)&&D.indexOf(T)<0&&(I[T]=H[T]);if(H!=null&&typeof Object.getOwnPropertySymbols=="function")for(var tt=0,T=Object.getOwnPropertySymbols(H);tt<T.length;tt++)D.indexOf(T[tt])<0&&Object.prototype.propertyIsEnumerable.call(H,T[tt])&&(I[T[tt]]=H[T[tt]]);return I},U;const Q={activeResizer:!1,init:function(){this.onSelect=(0,n.debounce)(this.onSelect,0),(0,n.bindAll)(this,"onHover","onOut","onClick","onCanvasScroll","onFrameScroll","onFrameResize","onFrameUpdated","onContainerChange")},enable:function(){this.frameOff=this.canvasOff=this.adjScroll=null,this.startSelectComponent(),U=!0},startSelectComponent:function(){this.toggleSelectComponent(1),this.em.getSelected()&&this.onSelect()},stopSelectComponent:function(){this.toggleSelectComponent()},toggleSelectComponent:function(H){var D=this,I=this,T=I.em,tt=I.canvas,M=tt.getCanvasView().el,ot=T.getConfig().listenToEl,dt=T.getContainer().parentNode,pt=H?"on":"off",Dt={on:O.on,off:O.AU},_t=Z.I.update;!ot.length&&dt&&ot.push(dt);var rt=function(At,mt,Tt){Dt[pt](Tt,"scroll",D.onCanvasScroll,!0),Dt[pt](mt,"mouseover",D.onHover),Dt[pt](mt,"mouseleave",D.onOut),Dt[pt](mt,"click",D.onClick),Dt[pt](At,"scroll",D.onFrameScroll,!0),Dt[pt](At,"resize",D.onFrameResize)};Dt[pt](window,"resize",this.onFrameUpdated),Dt[pt](ot,"scroll",this.onContainerChange),T[pt]("component:toggled ".concat(_t," undo redo"),this.onSelect,this),T[pt]("change:componentHovered",this.onHovered,this),T[pt]("".concat(Z.I.resize," styleable:change component:input"),this.updateGlobalPos,this),T[pt]("".concat(_t,":toolbar"),this._upToolbar,this),T[pt]("frame:updated",this.onFrameUpdated,this),T[pt]("canvas:updateTools",this.onFrameUpdated,this),T[pt](T.Canvas.events.refresh,this.updateAttached,this),T.Canvas.getFrames().forEach(function(At){var mt=At.view,Tt=mt==null?void 0:mt.getWindow();Tt&&rt(Tt,mt==null?void 0:mt.getBody(),M)})},onHover:function(H){H.stopPropagation();var D=this.em,I=H.target,T=(0,k.getComponentView)(I),tt=T==null?void 0:T.frameView,M=T==null?void 0:T.model;if(!M)for(var ot=I.parentNode;!M&&ot&&!(0,O.ZQ)(ot);)M=(0,k.getComponentModel)(ot),ot=ot.parentNode;this.currentDoc=I.ownerDocument,D.setHovered(M,{useValid:!0}),tt&&D.setCurrentFrame(tt)},onFrameUpdated:function(){this.updateLocalPos(),this.updateGlobalPos()},onHovered:function(H,D){var I=this,T,tt={};D?(T=D.views)===null||T===void 0||T.forEach(function(M){var ot=M.el,dt=I.getElementPos(ot);tt={el:ot,pos:dt,component:D,view:M},ot.ownerDocument===I.currentDoc&&(I.elHovered=tt),I.updateToolsLocal(tt)}):(this.currentDoc=null,this.elHovered=0,this.updateToolsLocal(),this.canvas.getFrames().forEach(function(M){var ot=M.view,dt=ot&&ot.getToolsEl();dt&&I.toggleToolsEl(0,0,{el:dt})}))},onSelect:function(){var H=this.em,D=H.getSelected(),I=H.getCurrentFrame(),T=D&&D.getView(I==null?void 0:I.model),tt=T==null?void 0:T.el,M={};if(tt&&(0,O.zN)(tt)){var ot=this.getElementPos(tt);M={el:tt,pos:ot,component:D,view:T}}this.elSelected=M,this.updateToolsGlobal(),this.updateLocalPos(M),this.initResize(D)},updateGlobalPos:function(){var H=this.getElSelected();H.el&&(H.pos=this.getElementPos(H.el),this.updateToolsGlobal())},updateLocalPos:function(H){var D=this.getElHovered();D.el&&(D.pos=this.getElementPos(D.el),this.updateToolsLocal(H))},getElHovered:function(){return this.elHovered||{}},getElSelected:function(){return this.elSelected||{}},onOut:function(){this.em.setHovered()},toggleToolsEl:function(H,D,I){I===void 0&&(I={});var T=I.el||this.canvas.getToolsEl(D);return T&&(T.style.display=H?"":"none"),T||{}},showElementOffset:function(H,D,I){I===void 0&&(I={}),U&&this.editor.runCommand("show-offset",{el:H,elPos:D,view:I.view,force:1,top:0,left:0})},hideElementOffset:function(H){this.editor.stopCommand("show-offset",{view:H})},showFixedElementOffset:function(H,D){this.editor.runCommand("show-offset",{el:H,elPos:D,state:"Fixed"})},hideFixedElementOffset:function(){this.editor&&this.editor.stopCommand("show-offset",{state:"Fixed"})},hideHighlighter:function(H){this.canvas.getHighlighter(H).style.opacity=0},onClick:function(H){H.stopPropagation(),H.preventDefault();var D=this.em;if(D.get("_cmpDrag"))return D.set("_cmpDrag");var I=H.target,T=(0,k.getComponentModel)(I);if(!T)for(var tt=I.parentNode;!T&&tt&&!(0,O.ZQ)(tt);)T=(0,k.getComponentModel)(tt),tt=tt.parentNode;if(T){if(D.isEditing()&&(!T.get("textable")&&T.isChildOf("text")||D.getEditing()!==T))return;this.select(T,H)}},select:function(H,D){if(D===void 0&&(D={}),!!H){var I=this.em;I.setSelected(H,{event:D,useValid:!0}),this.initResize(I.getSelected())}},updateBadge:function(H,D,I){I===void 0&&(I={});var T=this.canvas,tt=(0,k.getComponentModel)(H),M=this.getBadge(I),ot=M.style;if(!tt||!tt.get("badgable")){ot.display="none";return}if(!I.posOnly){var dt=this.canvas.getConfig(),pt=tt.getIcon(),Dt=dt.pStylePrefix||"",_t="".concat(Dt,"badge"),rt=dt.customBadgeLabel,At="".concat(pt?'<div class="'.concat(_t,'__icon">').concat(pt,"</div>"):"",`
        <div class="`).concat(_t,'__name">').concat(tt.getName(),"</div>");M.innerHTML=rt?rt(tt):At}var mt="px";ot.display="block";var Tt=T.getTargetToElementFixed(H,M,{pos:D}),$t=Tt.top,zt=I.leftOff<0?-I.leftOff:0;ot.top=$t+mt,ot.left=zt+mt},showHighlighter:function(H){this.canvas.getHighlighter(H).style.opacity=""},initResize:function(H){var D=this,I=D.em,T=D.canvas,tt=I.Editor,M=!(0,n.isElement)(H)&&(0,O.GW)(H)?H:I.getSelected(),ot=M==null?void 0:M.get("resizable"),dt=V.F.Resize,pt=T.hasCustomSpot(dt);T.removeSpots({type:dt});var Dt={component:M,hasCustomResize:pt,resizable:ot};M&&I.trigger(Z.I.resizeInit,Dt);var _t=Dt.resizable;if(M&&_t){T.addSpot({type:dt,component:M});var rt=(0,n.isElement)(H)?H:M.getEl(),At=(0,k.isObject)(_t)?_t:{},mt=At.onStart,Tt=mt===void 0?function(){}:mt,$t=At.onMove,zt=$t===void 0?function(){}:$t,It=At.onEnd,Zt=It===void 0?function(){}:It,fe=At.updateTarget,Jt=fe===void 0?function(){}:fe,yt=Y(At,["onStart","onMove","onEnd","updateTarget"]);if(pt||!rt||this.activeResizer)return;var Wt,R=I.config,kt=R.stylePrefix||"",wt="".concat(kt,"resizing"),et=this,E={component:M,el:rt},L=function(it,nt,G){var ct=G.docs;ct&&ct.forEach(function(st){var jt=st.body,ue=jt.className||"";jt.className=(it=="add"?"".concat(ue," ").concat(wt):ue.replace(wt,"")).trim()})},K=$({onStart:function(it,nt){Tt(it,nt);var G=nt.el,ct=nt.config,st=nt.resizer,jt=ct.keyHeight,ue=ct.keyWidth,oe=ct.currentUnit,J=ct.keepAutoHeight,gt=ct.keepAutoWidth;L("add",it,nt),Wt=I.Styles.getModelToStyle(M);var F=getComputedStyle(G),Lt=Wt.getStyle(),bt=Lt[ue];ct.autoWidth=gt&&bt==="auto",isNaN(parseFloat(bt))&&(bt=F[ue]);var Ht=Lt[jt];ct.autoHeight=J&&Ht==="auto",isNaN(parseFloat(Ht))&&(Ht=F[jt]),st.startDim.w=parseFloat(bt),st.startDim.h=parseFloat(Ht),U=!1,oe&&(ct.unitHeight=(0,k.getUnitFromValue)(Ht),ct.unitWidth=(0,k.getUnitFromValue)(bt)),et.activeResizer=!0,tt.trigger(Z.I.resize,$($({},E),{type:"start"}))},onMove:function(it){zt(it),tt.trigger(Z.I.resize,$($({},E),{type:"move"}))},onEnd:function(it,nt){Zt(it,nt),L("remove",it,nt),tt.trigger(Z.I.resize,$($({},E),{type:"end"})),U=!0,et.activeResizer=!1},updateTarget:function(it,nt,G){var ct;if(Jt(it,nt,G),!!Wt){var st=G.store,jt=G.selectedHandler,ue=G.config,oe=ue.keyHeight,J=ue.keyWidth,gt=ue.autoHeight,F=ue.autoWidth,Lt=ue.unitWidth,bt=ue.unitHeight,Ht=["tc","bc"].indexOf(jt)>=0,ce=["cl","cr"].indexOf(jt)>=0,ee={};if(!Ht){var ne=((ct=T.getBody())===null||ct===void 0?void 0:ct.offsetWidth)||0,ve=nt.w<ne?nt.w:ne;ee[J]=F?"auto":"".concat(ve).concat(Lt)}ce||(ee[oe]=gt?"auto":"".concat(nt.h).concat(bt)),I.getDragMode(M)&&(ee.top="".concat(nt.t).concat(bt),ee.left="".concat(nt.l).concat(Lt));var Oe=$($({},ee),{__p:!st});Wt.addStyle(Oe,{avoidStore:!st}),I.Styles.__emitCmpStyleUpdate(Oe,{components:I.getSelected()})}}},yt);this.resizer=tt.runCommand("resize",{el:rt,options:K,force:1})}else{if(pt)return;tt.stopCommand("resize"),this.resizer=null}},updateToolbar:function(H){var D=this.canvas,I=this.config.em,T=H===I?I.getSelected():H,tt=D.getToolbarEl(),M=tt.style,ot=T.get("toolbar"),dt=I.config.showToolbar,pt=!D.hasCustomSpot(V.F.Select);if(T&&dt&&ot&&ot.length&&pt){if(M.display="",!this.toolbar){tt.innerHTML="",this.toolbar=new d(ot);var Dt=new x({collection:this.toolbar,em:I});tt.appendChild(Dt.render().el)}this.toolbar.reset(ot),M.top="-100px",M.left="0"}else M.display="none"},updateToolbarPos:function(H){var D="px",I=this.canvas.getToolbarEl().style;I.top="".concat(H.top).concat(D),I.left="".concat(H.left).concat(D),I.opacity=""},getCanvasPosition:function(){return this.canvas.getCanvasView().getPosition()},getBadge:function(H){return H===void 0&&(H={}),this.canvas.getBadgeEl(H.view)},onCanvasScroll:function(H){this.onFrameScroll(H),this.onContainerChange()},onFrameScroll:function(){this.updateTools(),this.canvas.refreshSpots()},onFrameResize:function(){this.canvas.refresh({all:!0})},updateTools:function(){this.updateLocalPos(),this.updateGlobalPos()},isCompSelected:function(H){return H&&H.get("status")==="selected"},updateToolsLocal:function(H){var D=this.em.getConfig(),I=H||this.getElHovered(),T=I.el,tt=I.pos,M=I.view,ot=I.component;if(!T){this.lastHovered=0;return}var dt=ot.get("hoverable"),pt=this.lastHovered!==T,Dt=pt?{}:{posOnly:1},_t=this.canvas.hasCustomSpot(V.F.Hover);pt&&dt&&(this.lastHovered=T,_t?this.hideHighlighter(M):this.showHighlighter(M),this.showElementOffset(T,tt,{view:M})),this.isCompSelected(ot)&&(this.hideHighlighter(M),!D.showOffsetsSelected&&this.hideElementOffset(M));var rt="px",At=this.toggleToolsEl(1,M),mt=At.style,Tt=this.canvas.canvasRectOffset(T,tt),$t=Tt.top,zt=Tt.left;!_t&&this.updateBadge(T,tt,$($({},Dt),{view:M,topOff:$t,leftOff:zt})),mt.top=$t+rt,mt.left=zt+rt,mt.width=tt.width+rt,mt.height=tt.height+rt,this._trgToolUp("local",{component:ot,el:At,top:$t,left:zt,width:tt.width,height:tt.height})},_upToolbar:(0,n.debounce)(function(){this.updateToolsGlobal({force:1})},0),_trgToolUp:function(H,D){D===void 0&&(D={}),this.em.trigger("canvas:tools:update",$({type:H},D))},updateToolsGlobal:function(H){H===void 0&&(H={});var D=this.getElSelected(),I=D.el,T=D.pos,tt=D.component;if(!I){this.toggleToolsEl(),this.lastSelected=0;return}var M=this.canvas,ot=this.lastSelected!==I;(ot||H.force)&&(this.lastSelected=I,this.updateToolbar(tt));var dt="px",pt=this.toggleToolsEl(1),Dt=pt.style,_t=M.getTargetToElementFixed(I,M.getToolbarEl(),{pos:T}),rt=_t.canvasOffsetTop,At=_t.canvasOffsetLeft;Dt.top=rt+dt,Dt.left=At+dt,Dt.width=T.width+dt,Dt.height=T.height+dt,this.updateToolbarPos({top:_t.top,left:_t.left}),this._trgToolUp("global",{component:tt,el:pt,top:rt,left:At,width:T.width,height:T.height})},updateAttached:(0,n.debounce)(function(){this.updateGlobalPos()},0),onContainerChange:(0,n.debounce)(function(){this.em.refreshCanvas()},150),getElementPos:function(H){return this.canvas.getCanvasView().getElementPos(H,{noScroll:!0})},hideBadge:function(){this.getBadge().style.display="none"},cleanPrevious:function(H){H&&H.set({status:"",state:""})},getContentWindow:function(){return this.canvas.getWindow()},run:function(H){(0,k.hasWin)()&&(this.editor=H&&H.get("Editor"),this.enable())},stop:function(H,D,I){if(I===void 0&&(I={}),!!(0,k.hasWin)()){var T=this,tt=T.em,M=T.editor;this.onHovered(),this.stopSelectComponent(),!I.preserveSelected&&tt.setSelected(),this.toggleToolsEl(),this.updateAttached.cancel(),M&&M.stopCommand("resize")}}}},1406:(r,e,t)=>{t.r(e),t.d(e,{default:()=>a});var n=t(7774),i=t(1447),o=t(8433);const a={startSelectPosition:function(l,u,c){c===void 0&&(c={}),this.isPointed=!1;var d=this.em.Utils,h=l[0].ownerDocument.body;d&&(this.sorter=new d.ComponentSorter({em:this.em,treeClass:i.A,containerContext:{container:h,containerSel:"*",itemSel:"*",pfx:this.ppfx,document:u,placeholderElement:this.canvas.getPlacerEl()},positionOptions:{windowMargin:1,canvasRelative:!0},dragBehavior:{dragDirection:o.A.BothDirections,nested:!0}})),c.onStart&&(this.sorter.eventHandlers.legacyOnStartSort=c.onStart),l&&l.length>0&&this.sorter.startSort(l.map(function(g){return{element:g}}))},getOffsetDim:function(){var l=this.offset(this.canvas.getFrameEl()),u=this.offset(this.canvas.getElement()),c=l.top-u.top,d=l.left-u.left;return{top:c,left:d}},stopSelectPosition:function(){this.posTargetCollection=null,this.posIndex=this.posMethod=="after"&&this.cDim.length!==0?this.posIndex+1:this.posIndex,this.sorter&&this.sorter.cancelDrag(),this.cDim&&(this.posIsLastEl=this.cDim.length!==0&&this.posMethod=="after"&&this.posIndex==this.cDim.length,this.posTargetEl=this.cDim.length===0?(0,n.default)(this.outsideElem):!this.posIsLastEl&&this.cDim[this.posIndex]?(0,n.default)(this.cDim[this.posIndex][5]).parent():(0,n.default)(this.outsideElem),this.posTargetModel=this.posTargetEl.data("model"),this.posTargetCollection=this.posTargetEl.data("model-comp"))},enable:function(){this.startSelectPosition()},nearFloat:function(l,u,c){var d=l||0,h=u||"before",g=c.length,m=g!==0&&h=="after"&&d==g;return g!==0&&(!m&&!c[d][4]||c[d-1]&&!c[d-1][4]||m&&!c[d-1][4])?1:0},run:function(){this.enable()},stop:function(){this.stopSelectPosition(),this.$wrapper.css("cursor",""),this.$wrapper.unbind()}}},9395:(r,e,t)=>{t.r(e),t.d(e,{default:()=>l});var n=t(5706),i=t(179),o=t(7774),a=function(){return a=Object.assign||function(u){for(var c,d=1,h=arguments.length;d<h;d++){c=arguments[d];for(var g in c)Object.prototype.hasOwnProperty.call(c,g)&&(u[g]=c[g])}return u},a.apply(this,arguments)};const l={getOffsetMethod:function(u){var c=u||"";return"get"+c+"OffsetViewerEl"},run:function(u,c,d){var h=this.canvas,g=d||{},m=g.state||"",_=u.getConfig(),b=this.em.getZoomDecimal(),C=g.el;if(!_.showOffsets||!(C instanceof HTMLElement)||!_.showOffsetsSelected&&m=="Fixed"){u.stopCommand("".concat(this.id),d);return}if(!h.hasCustomSpot(i.F.Spacing)){var w=a({},g.elPos||h.getElementPos(C));(0,n.isUndefined)(g.top)||(w.top=g.top),(0,n.isUndefined)(g.left)||(w.left=g.left);var x=window.getComputedStyle(C),O=this.ppfx,k=m+"State",V=this.getOffsetMethod(m),Z=h[V](d.view);Z.style.opacity="";var $=this["marginT"+m],Y=this["marginB"+m],U=this["marginL"+m],Q=this["marginR"+m],H=this["padT"+m],D=this["padB"+m],I=this["padL"+m],T=this["padR"+m];if(Z.childNodes.length&&(this[k]="1",$=Z.querySelector("[data-offset-m-t]"),Y=Z.querySelector("[data-offset-m-b]"),U=Z.querySelector("[data-offset-m-l]"),Q=Z.querySelector("[data-offset-m-r]"),H=Z.querySelector("[data-offset-p-t]"),D=Z.querySelector("[data-offset-p-b]"),I=Z.querySelector("[data-offset-p-l]"),T=Z.querySelector("[data-offset-p-r]")),!this[k]){var tt=m.toLowerCase(),M=tt+"margin-v",ot=tt+"padding-v",dt=(0,o.default)('<div class="'.concat(O,'marginName">')).get(0),pt=(0,o.default)('<div class="'.concat(O,'paddingName">')).get(0),Dt=O+M+"-el",_t=O+ot+"-el",rt="".concat(Dt," ").concat(O+M),At="".concat(_t," ").concat(O+ot);$=(0,o.default)('<div class="'.concat(rt,'-top"></div>')).get(0),Y=(0,o.default)('<div class="'.concat(rt,'-bottom"></div>')).get(0),U=(0,o.default)('<div class="'.concat(rt,'-left"></div>')).get(0),Q=(0,o.default)('<div class="'.concat(rt,'-right"></div>')).get(0),H=(0,o.default)('<div class="'.concat(At,'-top"></div>')).get(0),D=(0,o.default)('<div class="'.concat(At,'-bottom"></div>')).get(0),I=(0,o.default)('<div class="'.concat(At,'-left"></div>')).get(0),T=(0,o.default)('<div class="'.concat(At,'-right"></div>')).get(0),this["marginT"+m]=$,this["marginB"+m]=Y,this["marginL"+m]=U,this["marginR"+m]=Q,this["padT"+m]=H,this["padB"+m]=D,this["padL"+m]=I,this["padR"+m]=T,dt.appendChild($),dt.appendChild(Y),dt.appendChild(U),dt.appendChild(Q),pt.appendChild(H),pt.appendChild(D),pt.appendChild(I),pt.appendChild(T),Z.appendChild(dt),Z.appendChild(pt),this[k]="1"}var mt="px",Tt=parseFloat(x.marginLeft.replace(mt,""))*b,$t=parseFloat(x.marginRight.replace(mt,""))*b,zt=parseFloat(x.marginTop.replace(mt,""))*b,It=parseFloat(x.marginBottom.replace(mt,""))*b,Zt=$.style,fe=Y.style,Jt=U.style,yt=Q.style,Wt=H.style,R=D.style,kt=I.style,wt=T.style,et=parseFloat(w.left),E=parseFloat(x.width)*b+mt;Zt.height=zt+mt,Zt.width=E,Zt.top=w.top-zt+mt,Zt.left=et+mt,fe.height=It+mt,fe.width=E,fe.top=w.top+w.height+mt,fe.left=et+mt;var L=w.height+zt+It+mt,K=w.top-zt+mt;Jt.height=L,Jt.width=Tt+mt,Jt.top=K,Jt.left=et-Tt+mt,yt.height=L,yt.width=$t+mt,yt.top=K,yt.left=et+w.width+mt;var it=parseFloat(x.paddingTop)*b;Wt.height=it+mt;var nt=parseFloat(x.paddingBottom)*b;R.height=nt+mt;var G=w.height-nt-it+mt,ct=w.top+it+mt;kt.height=G,kt.width=parseFloat(x.paddingLeft)*b+mt,kt.top=ct;var st=parseFloat(x.paddingRight)*b;wt.height=G,wt.width=st+mt,wt.top=ct}},stop:function(u,c,d){d===void 0&&(d={});var h=d||{},g=h.state||"",m=this.getOffsetMethod(g),_=d.view,b=this.canvas,C=b[m](_);C.style.opacity=0}}},7285:(r,e,t)=>{t.r(e),t.d(e,{default:()=>o});var n=t(5706),i=t(1166);const o={init:function(){(0,n.bindAll)(this,"_onFramesChange")},run:function(a){this.toggleVis(a,!0)},stop:function(a){this.toggleVis(a,!1)},toggleVis:function(a,l){if(l===void 0&&(l=!0),!a.Commands.isActive("preview")){var u=a.Canvas,c=l?"on":"off",d=u.getModel();d[c]("change:frames",this._onFramesChange),this.handleFrames(u.getFrames(),l)}},handleFrames:function(a,l){var u=this;a.forEach(function(c){var d;!((d=c.view)===null||d===void 0)&&d.loaded&&u._upFrame(c,l),c.__ol||(c.on("loaded",function(){return u._upFrame(c)}),c.__ol=!0)})},_onFramesChange:function(a,l){this.handleFrames(l)},_upFrame:function(a,l){var u,c=this,d=c.ppfx,h=c.em,g=c.id,m=(0,i.isDef)(l)?l:h.Commands.isActive(g),_=m?"add":"remove",b="".concat(d,"dashed");(u=a.view)===null||u===void 0||u.getBody().classList[_](b)}}},9156:(r,e,t)=>{t.d(e,{Kx:()=>u,Ss:()=>d,e2:()=>l,lK:()=>g,pM:()=>c,x2:()=>h});var n=t(4193),i=t.n(n),o=function(){var m=function(_,b){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,w){C.__proto__=w}||function(C,w){for(var x in w)Object.prototype.hasOwnProperty.call(w,x)&&(C[x]=w[x])},m(_,b)};return function(_,b){if(typeof b!="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");m(_,b);function C(){this.constructor=_}_.prototype=b===null?Object.create(b):(C.prototype=b.prototype,new C)}}(),a=function(){return a=Object.assign||function(m){for(var _,b=1,C=arguments.length;b<C;b++){_=arguments[b];for(var w in _)Object.prototype.hasOwnProperty.call(_,w)&&(m[w]=_[w])}return m},a.apply(this,arguments)},l="add remove reset change",u=function(m){o(_,m);function _(){return m!==null&&m.apply(this,arguments)||this}return _}(i().Model),c=function(m){o(_,m);function _(){return m!==null&&m.apply(this,arguments)||this}return _}(i().Collection),d=function(m){o(_,m);function _(){return m!==null&&m.apply(this,arguments)||this}return _}(i().View),h;(function(m){m.Screen="screen",m.World="world"})(h||(h={}));var g={x:0,y:0};a(a({},g),{width:0,height:0})},2225:(r,e,t)=>{t.d(e,{I:()=>i,t:()=>n});var n;(function(o){o.remove="component:remove",o.add="component:add",o.move="component:move"})(n||(n={}));var i;(function(o){o.add="component:add",o.remove="component:remove",o.removeBefore="component:remove:before",o.removed="component:removed",o.create="component:create",o.update="component:update",o.updateInside="component:update-inside",o.select="component:select",o.selectBefore="component:select:before",o.scriptMount="component:script:mount",o.scriptMountBefore="component:script:mount:before",o.scriptUnmount="component:script:unmount",o.render="component:render",o.resize="component:resize",o.resizeInit="component:resize:init",o.symbolMainAdd="symbol:main:add",o.symbolMainUpdate="symbol:main:update",o.symbolMainUpdateDeep="symbol:main:update-deep",o.symbolMainRemove="symbol:main:remove",o.symbolMain="symbol:main",o.symbolInstanceAdd="symbol:instance:add",o.symbolInstanceRemove="symbol:instance:remove",o.symbolInstance="symbol:instance",o.symbol="symbol"})(i||(i={}))},8242:(r,e,t)=>{t.d(e,{A:()=>l});var n=t(5706),i=t(9156),o=function(){var u=function(c,d){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,g){h.__proto__=g}||function(h,g){for(var m in g)Object.prototype.hasOwnProperty.call(g,m)&&(h[m]=g[m])},u(c,d)};return function(c,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");u(c,d);function h(){this.constructor=c}c.prototype=d===null?Object.create(d):(h.prototype=d.prototype,new h)}}(),a=function(u){o(c,u);function c(d,h,g){d===void 0&&(d={}),g===void 0&&(g=!1);var m=u.call(this,d)||this;return m.itemsView="",m.itemType="type",m.reuseView=!1,m.config=h||d.config||{},g&&m.listenTo(m.collection,"add",m.addTo),m.items=[],m}return c.prototype.addTo=function(d){this.add(d)},c.prototype.itemViewNotFound=function(d){var h=this,g=h.config,m=h.ns,_=g.em,b="".concat(m?"[".concat(m,"]: "):"","'").concat(d,"' type not found");_&&_.logWarning(b)},c.prototype.add=function(d,h){var g=this,m=g.config,_=g.reuseView,b=g.items,C=this.itemsView||{},w=["button","checkbox","color","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"],x=h||null,O=this.itemView,k=d.get(this.itemType),V;C[k]?O=C[k]:k&&!C[k]&&!(0,n.includes)(w,k)&&this.itemViewNotFound(k),d.view&&_?V=d.view:V=new O({model:d,config:m},m),b&&b.push(V);var Z=V.render().el;x?x.appendChild(Z):this.$el.append(Z)},c.prototype.render=function(){var d=document.createDocumentFragment();return this.clearItems(),this.$el.empty(),this.collection.length&&this.collection.each(function(h){this.add(h,d)},this),this.$el.append(d),this.onRender(),this},c.prototype.onRender=function(){},c.prototype.onRemoveBefore=function(d,h){},c.prototype.onRemove=function(d,h){},c.prototype.remove=function(d){d===void 0&&(d={});var h=this.items;return this.onRemoveBefore(h,d),this.clearItems(),u.prototype.remove.call(this),this.onRemove(h,d),this},c.prototype.clearItems=function(){this.items},c}(i.Ss);const l=a;a.prototype.itemView=""},9966:(r,e,t)=>{t.d(e,{A:()=>c});var n=t(5706),i=t(6294),o=function(){return o=Object.assign||function(d){for(var h,g=1,m=arguments.length;g<m;g++){h=arguments[g];for(var _ in h)Object.prototype.hasOwnProperty.call(h,_)&&(d[_]=h[_])}return d},o.apply(this,arguments)},a=function(){return{x:0,y:0}},l=["x","y"],u=function(){function d(h){return h===void 0&&(h={}),this.opts={snapGuides:{x:5,y:5},snapOffset:5,scale:1},(0,n.bindAll)(this,"drag","stop","keyHandle","handleScroll"),this.setOptions(h),this.delta=a(),this.lastScroll=a(),this.lastScrollDiff=a(),this.startPointer=a(),this.startPosition=a(),this.globScrollDiff=a(),this.currentPointer=a(),this.position=a(),this.guidesStatic=[],this.guidesTarget=[],this.docs=[],this}return d.prototype.setOptions=function(h){h===void 0&&(h={}),this.opts=o(o({},this.opts),h)},d.prototype.toggleDrag=function(h){var g=this.getDocumentEl(),m=this.getContainerEl(),_=this.getWindowEl(),b=h?"on":"off",C={on:i.on,off:i.AU};C[b](m,"mousemove dragover",this.drag),C[b](g,"mouseup dragend touchend",this.stop),C[b](g,"keydown",this.keyHandle),C[b](_,"scroll",this.handleScroll)},d.prototype.handleScroll=function(){var h=this,g=h.lastScroll,m=h.delta,_=this.getScrollInfo(),b={x:_.x-g.x,y:_.y-g.y};this.move(m.x+b.x,m.y+b.y),this.lastScrollDiff=b},d.prototype.start=function(h){var g=this.opts,m=g.onStart;this.toggleDrag(!0),this.startPointer=this.getPointerPos(h),this.guidesStatic=(0,n.result)(g,"guidesStatic")||[],this.guidesTarget=(0,n.result)(g,"guidesTarget")||[],(0,n.isFunction)(m)&&m(h,this),this.startPosition=this.getStartPosition(),this.lastScrollDiff=a(),this.globScrollDiff=a(),this.drag(h)},d.prototype.drag=function(h){var g=this,m=this,_=m.opts,b=m.lastScrollDiff,C=m.globScrollDiff,w=_.onDrag,x=this.startPointer,O=this.getPointerPos(h),k={x:C.x+b.x,y:C.y+b.y};this.globScrollDiff=k;var V={x:O.x-x.x+k.x,y:O.y-x.y+k.y};this.lastScrollDiff=a();var Z=function(D){l.forEach(function(I){return D[I]=D[I]*(0,n.result)(_,"scale")}),g.delta=D,g.move(D.x,D.y),(0,n.isFunction)(w)&&w(h,g)},$=o({},V);if(this.currentPointer=O,this.lastScroll=this.getScrollInfo(),Z(V),this.guidesTarget.length){var Y=this.snapGuides($),U=Y.newDelta,Q=Y.trgX,H=Y.trgY;(Q||H)&&Z(U)}h.which===0&&this.stop(h)},d.prototype.snapGuides=function(h){var g=this,m=o({},h),_=this,b=_.trgX,C=_.trgY;return this.guidesTarget.forEach(function(w){w.x&&g.trgX||w.y&&g.trgY||(w.active=!1,g.guidesStatic.forEach(function(x){if(!(w.y&&x.x||w.x&&x.y)){var O=w.y&&x.y,k=O?"y":"x",V=w[k],Z=x[k],$=h[k],Y=O?C:b;if(g.isPointIn(V,Z,{axis:k})&&(0,n.isUndefined)(Y)){var U=$-(V-Z);g.setGuideLock(w,U)}}}))}),b=this.trgX,C=this.trgY,l.forEach(function(w){var x=w.toUpperCase(),O=g["trg".concat(x)];O&&!g.isPointIn(h[w],O.lock,{axis:w})&&(g.setGuideLock(O,null),O=null),O&&!(0,n.isUndefined)(O.lock)&&(m[w]=O.lock)}),{newDelta:m,trgX:this.trgX,trgY:this.trgY}},d.prototype.isPointIn=function(h,g,m){var _,b=m===void 0?{}:m,C=b.offset,w=b.axis,x=this.opts,O=x.snapGuides,k=O===void 0?{}:O,V=x.snapOffset,Z=V===void 0?0:V,$=w==="x"?k.x:w==="y"?k.y:void 0,Y=$===0?0:(_=C??$)!==null&&_!==void 0?_:Z;return Y===0?!1:h>=g&&h<=g+Y||h<=g&&h>=g-Y},d.prototype.setGuideLock=function(h,g){var m=(0,n.isUndefined)(h.x)?"Y":"X",_="trg".concat(m);return g!==null?(h.active=!0,h.lock=g,this[_]=h):(delete h.active,delete h.lock,delete this[_]),h},d.prototype.stop=function(h,g){g===void 0&&(g={});var m=this.delta,_=!!g.cancel,b=_?0:m.x,C=_?0:m.y;this.toggleDrag(),this.move(b,C,!0);var w=this.opts.onEnd;(0,n.isFunction)(w)&&w(h,this,{cancelled:_})},d.prototype.keyHandle=function(h){(0,i.v$)(h)&&this.stop(h,{cancel:!0})},d.prototype.move=function(h,g,m){var _=this,b=_.el,C=_.opts,w=this.startPosition;if(w){var x=C.setPosition,O=w.x+h,k=w.y+g;this.position={x:O,y:k,end:m},(0,n.isFunction)(x)&&x(this.position),b&&(b.style.left="".concat(O,"px"),b.style.top="".concat(k,"px"))}},d.prototype.getContainerEl=function(){var h=this.opts.container;return h?[h]:this.getDocumentEl()},d.prototype.getWindowEl=function(){var h=this.getContainerEl();return h.map(function(g){var m=g.ownerDocument||g;return m.defaultView||m.parentWindow})},d.prototype.getDocumentEl=function(h){var g=this.opts.doc;if(h=h||this.el,!this.docs.length){var m=[document];h&&m.push(h.ownerDocument),g&&m.push(g),this.docs=m}return this.docs},d.prototype.getPointerPos=function(h){var g=this.opts.getPointerPosition,m=(0,i.G2)(h);return g?g(h):{x:m.clientX,y:m.clientY}},d.prototype.getStartPosition=function(){var h=this,g=h.el,m=h.opts,_=m.getPosition,b=a();return(0,n.isFunction)(_)?b=_():g&&(b={x:parseFloat(g.style.left),y:parseFloat(g.style.top)}),b},d.prototype.getScrollInfo=function(){var h=this.opts.doc,g=h&&h.body;return{y:g?g.scrollTop:0,x:g?g.scrollLeft:0}},d.prototype.detectAxisLock=function(h,g){var m=h,_=g,b=Math.abs(m),C=Math.abs(_);if(_>=b||_<=-b)return"x";if(m>C||m<-C)return"y"},d}();const c=u},7774:(r,e,t)=>{t.r(e),t.d(e,{default:()=>vn});var n=typeof document<"u"?document:null,i=typeof window<"u"?window:null,o=Array.prototype,a=o.filter,l=o.indexOf,u=o.map,c=o.push,d=o.reverse,h=o.slice,g=o.splice,m=/^#[\w-]*$/,_=/^\.[\w-]*$/,b=/<.+>/,C=/^\w+$/;function w(X,ht){return ht===void 0&&(ht=n),_.test(X)?ht.getElementsByClassName(X.slice(1)):C.test(X)?ht.getElementsByTagName(X):ht.querySelectorAll(X)}function x(X,ht){if(ht===void 0&&(ht=n),!!X){if(X.__cash)return X;var Ct=X;if(I(X)){if(ht.__cash&&(ht=ht[0]),Ct=m.test(X)?ht.getElementById(X.slice(1)):b.test(X)?Oe(X):w(X,ht),!Ct)return}else if(D(X))return this.ready(X);(Ct.nodeType||Ct===i)&&(Ct=[Ct]),this.length=Ct.length;for(var Ut=0,ie=this.length;Ut<ie;Ut++)this[Ut]=Ct[Ut]}}function O(X,ht){return new x(X,ht)}var k=O.fn=O.prototype=x.prototype={constructor:O,__cash:!0,length:0,splice:g};k.get=function(X){return X===void 0?h.call(this):this[X<0?X+this.length:X]},k.eq=function(X){return O(this.get(X))},k.first=function(){return this.eq(0)},k.last=function(){return this.eq(-1)},k.map=function(X){return O(u.call(this,function(ht,Ct){return X.call(ht,Ct,ht)}))},k.slice=function(){return O(h.apply(this,arguments))};var V=/(?:^\w|[A-Z]|\b\w)/g,Z=/[\s-_]+/g;function $(X){return X.replace(V,function(ht,Ct){return ht[Ct?"toUpperCase":"toLowerCase"]()}).replace(Z,"")}O.camelCase=$;function Y(X,ht){for(var Ct=0,Ut=X.length;Ct<Ut&&ht.call(X[Ct],X[Ct],Ct,X)!==!1;Ct++);}O.each=Y,k.each=function(X){return Y(this,function(ht,Ct){return X.call(ht,Ct,ht)}),this},k.removeProp=function(X){return this.each(function(ht,Ct){delete Ct[X]})};function U(X){X===void 0&&(X=this);for(var ht=arguments,Ct=ht.length,Ut=Ct<2?0:1;Ut<Ct;Ut++)for(var ie in ht[Ut])X[ie]=ht[Ut][ie];return X}O.extend=k.extend=U;var Q=1;O.guid=Q;function H(X,ht){var Ct=X&&(X.matches||X.webkitMatchesSelector||X.mozMatchesSelector||X.msMatchesSelector||X.oMatchesSelector);return!!Ct&&Ct.call(X,ht)}O.matches=H;function D(X){return typeof X=="function"}O.isFunction=D;function I(X){return typeof X=="string"}O.isString=I;function T(X){return!isNaN(parseFloat(X))&&isFinite(X)}O.isNumeric=T;var tt=Array.isArray;O.isArray=tt,k.prop=function(X,ht){if(X){if(I(X))return arguments.length<2?this[0]&&this[0][X]:this.each(function(Ut,ie){ie[X]=ht});for(var Ct in X)this.prop(Ct,X[Ct]);return this}};function M(X){return I(X)?function(ht,Ct){return H(Ct,X)}:X.__cash?function(ht,Ct){return X.is(Ct)}:function(ht,Ct,Ut){return Ct===Ut}}k.filter=function(X){if(!X)return O();var ht=D(X)?X:M(X);return O(a.call(this,function(Ct,Ut){return ht.call(Ct,Ut,Ct,X)}))};var ot=/\S+/g;function dt(X){return I(X)?X.match(ot)||[]:[]}k.hasClass=function(X){var ht=dt(X),Ct=!1;return ht.length&&this.each(function(Ut,ie){return Ct=ie.classList.contains(ht[0]),!Ct}),Ct},k.removeAttr=function(X){var ht=dt(X);return ht.length?this.each(function(Ct,Ut){Y(ht,function(ie){Ut.removeAttribute(ie)})}):this},k.attr=function(X,ht){if(X){if(I(X)){if(arguments.length<2){if(!this[0])return;var Ct=this[0].getAttribute(X);return Ct===null?void 0:Ct}return ht===null?this.removeAttr(X):this.each(function(ie,ye){ye.setAttribute(X,ht)})}for(var Ut in X)this.attr(Ut,X[Ut]);return this}},k.toggleClass=function(X,ht){var Ct=dt(X),Ut=ht!==void 0;return Ct.length?this.each(function(ie,ye){Y(Ct,function(xe){Ut?ht?ye.classList.add(xe):ye.classList.remove(xe):ye.classList.toggle(xe)})}):this},k.addClass=function(X){return this.toggleClass(X,!0)},k.removeClass=function(X){return arguments.length?this.toggleClass(X,!1):this.attr("class","")};function pt(X){return X.filter(function(ht,Ct,Ut){return Ut.indexOf(ht)===Ct})}O.unique=pt,k.add=function(X,ht){return O(pt(this.get().concat(O(X,ht).get())))};function Dt(X,ht,Ct){if(X.nodeType===1){var Ut=i.getComputedStyle(X,null);return ht?Ct?Ut.getPropertyValue(ht):Ut[ht]:Ut}}function _t(X,ht){return parseInt(Dt(X,ht),10)||0}var rt=/^--/;function At(X){return rt.test(X)}var mt={},Tt=n&&n.createElement("div"),$t=Tt?Tt.style:{},zt=["webkit","moz","ms","o"];function It(X,ht){if(ht===void 0&&(ht=At(X)),ht)return X;if(!mt[X]){var Ct=$(X),Ut=""+Ct.charAt(0).toUpperCase()+Ct.slice(1),ie=(Ct+" "+zt.join(Ut+" ")+Ut).split(" ");Y(ie,function(ye){if(ye in $t)return mt[X]=ye,!1})}return mt[X]}O.prefixedProp=It;var Zt={animationIterationCount:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0};function fe(X,ht,Ct){return Ct===void 0&&(Ct=At(X)),!Ct&&!Zt[X]&&T(ht)?ht+"px":ht}k.css=function(X,ht){if(I(X)){var Ct=At(X);return X=It(X,Ct),arguments.length<2?this[0]&&Dt(this[0],X,Ct):X?(ht=fe(X,ht,Ct),this.each(function(ie,ye){ye.nodeType===1&&(Ct?ye.style.setProperty(X,ht):ye.style[X]=ht)})):this}for(var Ut in X)this.css(Ut,X[Ut]);return this};var Jt="__cashData",yt=/^data-(.*)/;O.hasData=function(X){return Jt in X};function Wt(X){return X[Jt]=X[Jt]||{}}function R(X,ht){var Ct=Wt(X);if(ht){if(!(ht in Ct)){var Ut=X.dataset?X.dataset[ht]||X.dataset[$(ht)]:O(X).attr("data-"+ht);if(Ut!==void 0){try{Ut=JSON.parse(Ut)}catch{}Ct[ht]=Ut}}return Ct[ht]}return Ct}function kt(X,ht){ht===void 0?delete X[Jt]:delete Wt(X)[ht]}function wt(X,ht,Ct){Wt(X)[ht]=Ct}k.data=function(X,ht){var Ct=this;if(!X)return this[0]?(Y(this[0].attributes,function(ie){var ye=ie.name.match(yt);ye&&Ct.data(ye[1])}),R(this[0])):void 0;if(I(X))return ht===void 0?this[0]&&R(this[0],X):this.each(function(ie,ye){return wt(ye,X,ht)});for(var Ut in X)this.data(Ut,X[Ut]);return this},k.removeData=function(X){return this.each(function(ht,Ct){return kt(Ct,X)})};function et(X,ht){return _t(X,"border"+(ht?"Left":"Top")+"Width")+_t(X,"padding"+(ht?"Left":"Top"))+_t(X,"padding"+(ht?"Right":"Bottom"))+_t(X,"border"+(ht?"Right":"Bottom")+"Width")}Y(["Width","Height"],function(X){k["inner"+X]=function(){if(this[0])return this[0]===i?i["inner"+X]:this[0]["client"+X]}}),Y(["width","height"],function(X,ht){k[X]=function(Ct){return this[0]?arguments.length?(Ct=parseInt(Ct,10),this.each(function(Ut,ie){if(ie.nodeType===1){var ye=Dt(ie,"boxSizing");ie.style[X]=fe(X,Ct+(ye==="border-box"?et(ie,!ht):0))}})):this[0]===i?this[0][$("outer-"+X)]:this[0].getBoundingClientRect()[X]-et(this[0],!ht):Ct===void 0?void 0:this}}),Y(["Width","Height"],function(X,ht){k["outer"+X]=function(Ct){if(this[0])return this[0]===i?i["outer"+X]:this[0]["offset"+X]+(Ct?_t(this[0],"margin"+(ht?"Top":"Left"))+_t(this[0],"margin"+(ht?"Bottom":"Right")):0)}});function E(X,ht){for(var Ct=0,Ut=ht.length;Ct<Ut;Ct++)if(X.indexOf(ht[Ct])<0)return!1;return!0}function L(X,ht,Ct){Y(X[Ct],function(Ut){Ut[0];var ie=Ut[1];ht.removeEventListener(Ct,ie)}),delete X[Ct]}var K="__cashEvents",it=".";function nt(X){return X[K]=X[K]||{}}function G(X,ht,Ct,Ut){Ut.guid=Ut.guid||Q++;var ie=nt(X);ie[ht]=ie[ht]||[],ie[ht].push([Ct,Ut]),X.addEventListener(ht,Ut)}function ct(X){var ht=X.split(it);return[ht[0],ht.slice(1).sort()]}function st(X,ht,Ct,Ut){var ie=nt(X);if(ht){var ye=ie[ht];if(!ye)return;Ut&&(Ut.guid=Ut.guid||Q++),ie[ht]=ye.filter(function(xe){var ln=xe[0],Pn=xe[1];if(Ut&&Pn.guid!==Ut.guid||!E(ln,Ct))return!0;X.removeEventListener(ht,Pn)})}else if(!Ct||!Ct.length)for(ht in ie)L(ie,X,ht);else for(ht in ie)st(X,ht,Ct,Ut)}k.off=function(X,ht){var Ct=this;return X===void 0?this.each(function(Ut,ie){return st(ie)}):Y(dt(X),function(Ut){var ie=ct(Ut),ye=ie[0],xe=ie[1];Ct.each(function(ln,Pn){return st(Pn,ye,xe,ht)})}),this},k.on=function(X,ht,Ct,Ut){var ie=this;if(!I(X)){for(var ye in X)this.on(ye,ht,X[ye]);return this}return D(ht)&&(Ct=ht,ht=!1),Y(dt(X),function(xe){var ln=ct(xe),Pn=ln[0],un=ln[1];ie.each(function(bi,cn){var Cr=function $r(qe){if(!(qe.namespace&&!E(un,qe.namespace.split(it)))){var Mn=cn;if(ht){for(var Ve=qe.target;!H(Ve,ht);)if(Ve===cn||(Ve=Ve.parentNode,!Ve))return;Mn=Ve}qe.namespace=qe.namespace||"";var gr=Ct.call(Mn,qe,qe.data);Ut&&st(cn,Pn,un,$r),gr===!1&&(qe.preventDefault(),qe.stopPropagation())}};Cr.guid=Ct.guid=Ct.guid||Q++,G(cn,Pn,un,Cr)})}),this},k.one=function(X,ht,Ct){return this.on(X,ht,Ct,!0)},k.ready=function(X){var ht=function(){return X(O)};return n.readyState!=="loading"?setTimeout(ht):n.addEventListener("DOMContentLoaded",ht),this},k.trigger=function(X,ht){var Ct=X;if(I(X)){var Ut=ct(X),ie=Ut[0],ye=Ut[1];Ct=n.createEvent("HTMLEvents"),Ct.initEvent(ie,!0,!0),Ct.namespace=ye.join(it)}return Ct.data=ht,this.each(function(xe,ln){ln.dispatchEvent(Ct)})};function jt(X){var ht=[];return Y(X.options,function(Ct){Ct.selected&&!Ct.disabled&&!Ct.parentNode.disabled&&ht.push(Ct.value)}),ht}function ue(X){return X.selectedIndex<0?null:X.options[X.selectedIndex].value}var oe=/select-one/i,J=/select-multiple/i;function gt(X){var ht=X.type;return oe.test(ht)?ue(X):J.test(ht)?jt(X):X.value}var F=/%20/g;function Lt(X,ht){return"&"+encodeURIComponent(X)+"="+encodeURIComponent(ht).replace(F,"+")}var bt=/file|reset|submit|button|image/i,Ht=/radio|checkbox/i;k.serialize=function(){var X="";return this.each(function(ht,Ct){Y(Ct.elements||[Ct],function(Ut){if(!(Ut.disabled||!Ut.name||Ut.tagName==="FIELDSET")&&!bt.test(Ut.type)&&!(Ht.test(Ut.type)&&!Ut.checked)){var ie=gt(Ut);if(ie!==void 0){var ye=tt(ie)?ie:[ie];Y(ye,function(xe){X+=Lt(Ut.name,xe)})}}})}),X.substr(1)},k.val=function(X){return X===void 0?this[0]&&gt(this[0]):this.each(function(ht,Ct){var Ut=J.test(Ct.type),ie=X===null?Ut?[]:"":X;Ut&&tt(ie)?Y(Ct.options,function(ye){ye.selected=ie.indexOf(ye.value)>=0}):Ct.value=ie})},k.clone=function(){return this.map(function(X,ht){return ht.cloneNode(!0)})},k.detach=function(){return this.each(function(X,ht){ht.parentNode&&ht.parentNode.removeChild(ht)})};var ce=/^\s*<(\w+)[^>]*>/,ee=/^\s*<(\w+)\s*\/?>(?:<\/\1>)?\s*$/,ne;function ve(){if(!ne){var X=n.createElement("table"),ht=n.createElement("tr");ne={"*":n.createElement("div"),tr:n.createElement("tbody"),td:ht,th:ht,thead:X,tbody:X,tfoot:X}}}function Oe(X){if(ve(),!I(X))return[];if(ee.test(X))return[n.createElement(RegExp.$1)];var ht=ce.test(X)&&RegExp.$1,Ct=ne[ht]||ne["*"];return Ct.innerHTML=X,O(Ct.childNodes).detach().get()}O.parseHTML=Oe,k.empty=function(){var X=this[0];if(X)for(;X.firstChild;)X.removeChild(X.firstChild);return this};function Re(X,ht,Ct){Ct?X.insertBefore(ht,X.childNodes[0]):X.appendChild(ht)}function De(X,ht,Ct){if(ht!==void 0){var Ut=I(ht);!Ut&&ht.length?Y(ht,function(ie){return De(X,ie,Ct)}):Y(X,Ut?function(ie){ie.insertAdjacentHTML(Ct?"afterbegin":"beforeend",ht)}:function(ie,ye){return Re(ie,ye?ht.cloneNode(!0):ht,Ct)})}}k.append=function(){var X=this;return Y(arguments,function(ht){De(X,ht)}),this},k.appendTo=function(X){return De(O(X),this),this},k.html=function(X){if(X===void 0)return this[0]&&this[0].innerHTML;var ht=X.nodeType?X[0].outerHTML:X;return this.each(function(Ct,Ut){Ut.innerHTML=ht})},k.insertAfter=function(X){var ht=this;return O(X).each(function(Ct,Ut){var ie=Ut.parentNode;ht.each(function(ye,xe){ie.insertBefore(Ct?xe.cloneNode(!0):xe,Ut.nextSibling)})}),this},k.after=function(){var X=this;return Y(d.apply(arguments),function(ht){d.apply(O(ht).slice()).insertAfter(X)}),this},k.insertBefore=function(X){var ht=this;return O(X).each(function(Ct,Ut){var ie=Ut.parentNode;ht.each(function(ye,xe){ie.insertBefore(Ct?xe.cloneNode(!0):xe,Ut)})}),this},k.before=function(){var X=this;return Y(arguments,function(ht){O(ht).insertBefore(X)}),this},k.prepend=function(){var X=this;return Y(arguments,function(ht){De(X,ht,!0)}),this},k.prependTo=function(X){return De(O(X),d.apply(this.slice()),!0),this},k.remove=function(){return this.detach().off()},k.replaceWith=function(X){var ht=this;return this.each(function(Ct,Ut){var ie=Ut.parentNode;if(ie){var ye=Ct?O(X).clone():O(X);if(!ye[0])return ht.remove(),!1;ie.replaceChild(ye[0],Ut),O(ye[0]).after(ye.slice(1))}})},k.replaceAll=function(X){return O(X).replaceWith(this),this},k.text=function(X){return X===void 0?this[0]?this[0].textContent:"":this.each(function(ht,Ct){Ct.textContent=X})};var Je=n&&n.documentElement;k.offset=function(){var X=this[0];if(X){var ht=X.getBoundingClientRect();return{top:ht.top+i.pageYOffset-Je.clientTop,left:ht.left+i.pageXOffset-Je.clientLeft}}},k.offsetParent=function(){return O(this[0]&&this[0].offsetParent)},k.position=function(){var X=this[0];if(X)return{left:X.offsetLeft,top:X.offsetTop}},k.children=function(X){var ht=[];return this.each(function(Ct,Ut){c.apply(ht,Ut.children)}),ht=O(pt(ht)),X?ht.filter(function(Ct,Ut){return H(Ut,X)}):ht},k.contents=function(){var X=[];return this.each(function(ht,Ct){c.apply(X,Ct.tagName==="IFRAME"?[Ct.contentDocument]:Ct.childNodes)}),O(X.length&&pt(X))},k.find=function(X){for(var ht=[],Ct=0,Ut=this.length;Ct<Ut;Ct++){var ie=w(X,this[Ct]);ie.length&&c.apply(ht,ie)}return O(ht.length&&pt(ht))},k.has=function(X){var ht=I(X)?function(Ct,Ut){return!!w(X,Ut).length}:function(Ct,Ut){return Ut.contains(X)};return this.filter(ht)},k.is=function(X){if(!X||!this[0])return!1;var ht=M(X),Ct=!1;return this.each(function(Ut,ie){return Ct=ht(Ut,ie,X),!Ct}),Ct},k.next=function(){return O(this[0]&&this[0].nextElementSibling)},k.not=function(X){if(!X||!this[0])return this;var ht=M(X);return this.filter(function(Ct,Ut){return!ht(Ct,Ut,X)})},k.parent=function(){var X=[];return this.each(function(ht,Ct){Ct&&Ct.parentNode&&X.push(Ct.parentNode)}),O(pt(X))},k.index=function(X){var ht=X?O(X)[0]:this[0],Ct=X?this:O(ht).parent().children();return l.call(Ct,ht)},k.closest=function(X){return!X||!this[0]?O():this.is(X)?this.filter(X):this.parent().closest(X)},k.parents=function(X){var ht=[],Ct;return this.each(function(Ut,ie){for(Ct=ie;Ct&&Ct.parentNode&&Ct!==n.body.parentNode;)Ct=Ct.parentNode,(!X||X&&H(Ct,X))&&ht.push(Ct)}),O(pt(ht))},k.prev=function(){return O(this[0]&&this[0].previousElementSibling)},k.siblings=function(){var X=this[0];return this.parent().children().filter(function(ht,Ct){return Ct!==X})};const vn=O},6294:(r,e,t)=>{t.d(e,{AU:()=>Dt,BC:()=>C,C8:()=>Y,Ch:()=>H,Ci:()=>T,D8:()=>l,G2:()=>D,GW:()=>$,GZ:()=>x,I6:()=>h,LJ:()=>ot,Sc:()=>b,X6:()=>g,Xy:()=>U,YZ:()=>c,ZQ:()=>u,_I:()=>_t,a_:()=>w,af:()=>k,bG:()=>_,cx:()=>d,ir:()=>V,kk:()=>dt,on:()=>pt,rp:()=>M,v$:()=>I,yL:()=>O,zN:()=>m});var n=t(5706),i=function(rt,At,mt){if(mt||arguments.length===2)for(var Tt=0,$t=At.length,zt;Tt<$t;Tt++)(zt||!(Tt in At))&&(zt||(zt=Array.prototype.slice.call(At,0,Tt)),zt[Tt]=At[Tt]);return rt.concat(zt||Array.prototype.slice.call(At))},o="tag",a="attributes",l="transitionend oTransitionEnd transitionend webkitTransitionEnd",u=function(rt){return(rt==null?void 0:rt.nodeType)===Node.DOCUMENT_NODE},c=function(rt){var At=rt&&rt.parentNode;At&&At.removeChild(rt)};function d(){for(var rt=[],At=0;At<arguments.length;At++)rt[At]=arguments[At];var mt=Array.isArray(rt[0])?rt[0]:i([],rt,!0);return mt.filter(Boolean).join(" ")}var h=function(rt,At){return rt.querySelectorAll(At)},g=function(rt,At){return At===void 0&&(At={}),rt&&rt.setAttribute&&(0,n.each)(At,function(mt,Tt){return rt.setAttribute(Tt,mt)})},m=function(rt){var At;return rt&&!!(rt.offsetWidth||rt.offsetHeight||!((At=rt.getClientRects)===null||At===void 0)&&At.call(rt).length)},_=function(rt,At){var mt;(mt=rt.parentNode)===null||mt===void 0||mt.replaceChild(At,rt)},b=function(rt,At,mt){var Tt=rt.childNodes,$t=Tt.length,zt=(0,n.isUndefined)(mt)?$t:mt;(0,n.isString)(At)&&(rt.insertAdjacentHTML("beforeEnd",At),At=rt.lastChild,rt.removeChild(At)),zt>=$t?rt.appendChild(At):rt.insertBefore(At,Tt[zt])},C=function(rt,At){return b(rt,At)},w=function(rt,At,mt){At===void 0&&(At={});var Tt=document.createElement(rt);return At&&(0,n.each)(At,function($t,zt){return Tt.setAttribute(zt,$t)}),mt&&((0,n.isString)(mt)?Tt.innerHTML=mt:Tt.appendChild(mt)),Tt},x=function(rt){return document.createTextNode(rt)},O=function(rt,At){var mt,Tt=rt.type;try{mt=new window[At](Tt,rt)}catch{mt=document.createEvent(At),mt.initEvent(Tt,!0,!0)}return mt._parentEvent=rt,Tt.indexOf("key")===0&&(mt.keyCodeVal=rt.keyCode,["keyCode","which"].forEach(function($t){Object.defineProperty(mt,$t,{get:function(){return this.keyCodeVal}})})),mt},k=function(rt,At){At===void 0&&(At=[]);var mt=Array.isArray(At)?At:[At];mt.forEach(function(Tt){var $t=Tt[o]||"div",zt=Tt[a]||{},It=document.createElement($t);(0,n.each)(zt,function(Zt,fe){It.setAttribute(fe,Zt)}),rt.appendChild(It)})},V=function(rt){return(rt==null?void 0:rt.nodeType)===Node.TEXT_NODE},Z=function(rt){return(rt==null?void 0:rt.nodeType)===Node.COMMENT_NODE},$=function(rt){return rt&&!V(rt)&&!Z(rt)},Y=function(rt){var At={top:0,left:0,width:0,height:0};if(!rt)return At;var mt;if(V(rt)){var Tt=document.createRange();Tt.selectNode(rt),mt=Tt.getBoundingClientRect(),Tt.detach()}return mt||(rt.getBoundingClientRect?rt.getBoundingClientRect():At)},U=function(rt){var At=(rt==null?void 0:rt.ownerDocument)||document,mt=At.documentElement,Tt=At.defaultView||window;return{x:(Tt.pageXOffset||mt.scrollLeft||0)-(mt.clientLeft||0),y:(Tt.pageYOffset||mt.scrollTop||0)-(mt.clientTop||0)}},Q=function(rt){return rt.which||rt.keyCode},H=function(rt){return String.fromCharCode(Q(rt))},D=function(rt){return rt.touches&&rt.touches[0]?rt.touches[0]:rt},I=function(rt){return Q(rt)===27},T=function(rt){return Q(rt)===13},tt=function(rt){return rt.ctrlKey},M=function(rt){return tt(rt)||rt.metaKey},ot=function(rt){if(!rt)return"";var At=rt.name,mt=rt.publicId,Tt=rt.systemId,$t=mt?' PUBLIC "'.concat(mt,'"'):"",zt=!mt&&Tt?' SYSTEM "'.concat(Tt,'"'):"";return"<!DOCTYPE ".concat(At).concat($t).concat(zt,">")},dt=function(rt){rt===void 0&&(rt={});var At=[];return(0,n.each)(rt,function(mt,Tt){return At.push("".concat(Tt,'="').concat(mt,'"'))}),At.join(" ")},pt=function(rt,At,mt,Tt){var $t=At.split(/\s+/),zt=(0,n.isArray)(rt)?rt:[rt];$t.forEach(function(It){zt.forEach(function(Zt){return Zt==null?void 0:Zt.addEventListener(It,mt,Tt)})})},Dt=function(rt,At,mt,Tt){var $t=At.split(/\s+/),zt=(0,n.isArray)(rt)?rt:[rt];$t.forEach(function(It){zt.forEach(function(Zt){return Zt==null?void 0:Zt.removeEventListener(It,mt,Tt)})})},_t=function(rt){var At=rt.replace(/-([a-zA-Z0-9])/g,function(mt,Tt){return Tt.toUpperCase()});return At}},1166:(r,e,t)=>{t.r(e),t.d(e,{appendStyles:()=>Y,buildBase64UrlFromSvg:()=>Jt,camelCase:()=>D,capitalize:()=>At,createId:()=>fe,deepMerge:()=>pt,escape:()=>ot,escapeNodeContent:()=>dt,find:()=>M,get:()=>g,getComponentModel:()=>It,getComponentView:()=>zt,getElement:()=>tt,getGlobal:()=>O,getModel:()=>Dt,getUiClass:()=>$,getUnitFromValue:()=>Q,getViewEl:()=>Tt,hasDnd:()=>T,hasWin:()=>x,isBultInMethod:()=>_,isComponent:()=>$t,isDef:()=>w,isEmptyObj:()=>rt,isObject:()=>_t,isRule:()=>mt,matches:()=>Z,normalizeFloat:()=>I,normalizeKey:()=>b,serialize:()=>m,setViewEl:()=>Zt,shallowDiff:()=>U,stringToPath:()=>d,toLowerCase:()=>k,upFirst:()=>H,wait:()=>C});var n=t(5706),i=t(6294),o=function(){return o=Object.assign||function(yt){for(var Wt,R=1,kt=arguments.length;R<kt;R++){Wt=arguments[R];for(var wt in Wt)Object.prototype.hasOwnProperty.call(Wt,wt)&&(yt[wt]=Wt[wt])}return yt},o.apply(this,arguments)},a=function(yt,Wt,R){if(R||arguments.length===2)for(var kt=0,wt=Wt.length,et;kt<wt;kt++)(et||!(kt in Wt))&&(et||(et=Array.prototype.slice.call(Wt,0,kt)),et[kt]=Wt[kt]);return yt.concat(et||Array.prototype.slice.call(Wt))},l={},u=/\\(\\)?/g,c=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,d=function(yt){var Wt=[];return yt.charCodeAt(0)===46&&Wt.push(""),yt.replace(c,function(R,kt,wt,et){return Wt.push(wt?et.replace(u,"$1"):kt||R),""}),Wt};function h(yt,Wt){return(0,n.isArray)(yt)?yt:Wt.hasOwnProperty(yt)?[yt]:d(yt)}var g=function(yt,Wt,R){for(var kt,wt=h(Wt,yt),et=wt.length,E=0;yt!=null&&E<et;)yt=yt["".concat(wt[E++])];return(kt=E&&E==et?yt:void 0)!==null&&kt!==void 0?kt:R},m=function(yt){return JSON.parse(JSON.stringify(yt))},_=function(yt){return(0,n.isFunction)(l[yt])},b=function(yt){return _(yt)?"_".concat(yt):yt},C=function(yt){return yt===void 0&&(yt=0),new Promise(function(Wt){return setTimeout(Wt,yt)})},w=function(yt){return typeof yt<"u"},x=function(){return typeof window<"u"},O=function(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:t.g},k=function(yt){return(yt||"").toLowerCase()},V=x()?window.Element.prototype:{},Z=V.matches||V.webkitMatchesSelector||V.mozMatchesSelector||V.msMatchesSelector,$=function(yt,Wt){var R=yt.getConfig(),kt=R.stylePrefix,wt=R.customUI;return[wt&&"".concat(kt,"cui"),Wt].filter(function(et){return et}).join(" ")},Y=function(yt,Wt){Wt===void 0&&(Wt={});var R=(0,n.isArray)(yt)?a([],yt,!0):[yt];if(R.length){var kt=R.shift();if(kt&&(!Wt.unique||!document.querySelector('link[href="'.concat(kt,'"]')))){var wt=document.head,et=document.createElement("link");et.href=kt,et.rel="stylesheet",Wt.prepand?wt.insertBefore(et,wt.firstChild):wt.appendChild(et)}Y(R)}},U=function(yt,Wt){var R={},kt=(0,n.keys)(Wt);for(var wt in yt)if(yt.hasOwnProperty(wt)){var et=yt[wt],E=Wt[wt];kt.indexOf(wt)>=0?et!==E&&(R[wt]=E):R[wt]=null}for(var wt in Wt)Wt.hasOwnProperty(wt)&&(0,n.isUndefined)(yt[wt])&&(R[wt]=Wt[wt]);return R},Q=function(yt){return yt.replace(parseFloat(yt),"")},H=function(yt){return yt[0].toUpperCase()+yt.toLowerCase().slice(1)},D=function(yt){return yt.replace(/-./g,function(Wt){return Wt[1].toUpperCase()})},I=function(yt,Wt,R){Wt===void 0&&(Wt=1),R===void 0&&(R=0);var kt=0;if(isNaN(yt))return R;if(yt=parseFloat(yt),Math.floor(yt)!==yt){var wt=Wt.toString().split(".")[1];kt=wt?wt.length:0}return kt?parseFloat(yt.toFixed(kt)):yt},T=function(yt){return"draggable"in document.createElement("i")&&(yt?yt.config.nativeDnD:!0)},tt=function(yt){if((0,n.isElement)(yt)||(0,i.ir)(yt))return yt;if(yt&&yt.getEl)return yt.getEl()},M=function(yt,Wt){var R=null;return yt.some(function(kt,wt){return Wt(kt,wt,yt)?(R=kt,1):0}),R},ot=function(yt){return yt===void 0&&(yt=""),"".concat(yt).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;").replace(/`/g,"&#96;")},dt=function(yt){return yt===void 0&&(yt=""),"".concat(yt).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},pt=function(){for(var yt=[],Wt=0;Wt<arguments.length;Wt++)yt[Wt]=arguments[Wt];for(var R=o({},yt[0]),kt=1;kt<yt.length;kt++){var wt=o({},yt[kt]);for(var et in wt){var E=R[et],L=wt[et];_t(E)&&_t(L)?R[et]=pt(E,L):R[et]=L}}return R},Dt=function(yt,Wt){var R;return!Wt&&yt&&yt.__cashData?R=yt.__cashData.model:Wt&&(0,n.isElement)(yt)&&(R=Wt(yt).data("model")),R},_t=function(yt){return yt&&!Array.isArray(yt)&&typeof yt=="object"},rt=function(yt){return Object.keys(yt).length<=0},At=function(yt){return yt===void 0&&(yt=""),yt&&yt.charAt(0).toUpperCase()+yt.substring(1)},mt=function(yt){return yt&&yt.toCSS},Tt=function(yt){return yt==null?void 0:yt.__gjsv},$t=function(yt){return!!(yt!=null&&yt.toHTML)},zt=function(yt){return Tt(yt)},It=function(yt){var Wt;return(Wt=zt(yt))===null||Wt===void 0?void 0:Wt.model},Zt=function(yt,Wt){yt.__gjsv=Wt},fe=function(yt){yt===void 0&&(yt=16);for(var Wt="",R="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",kt=R.length,wt=0;wt<yt;wt++)Wt+=R.charAt(Math.floor(Math.random()*kt));return Wt},Jt=function(yt){if(yt&&yt.substr(0,4)==="<svg"){var Wt="";return x()?Wt=window.btoa(yt):typeof Buffer<"u"&&(Wt=Buffer.from(yt,"utf8").toString("base64")),Wt?"data:image/svg+xml;base64,".concat(Wt):yt}return yt}},6756:(r,e,t)=>{t.d(e,{h:()=>o});var n=t(3178),i=function(){var l=function(u,c){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var g in h)Object.prototype.hasOwnProperty.call(h,g)&&(d[g]=h[g])},l(u,c)};return function(u,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");l(u,c);function d(){this.constructor=u}u.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d)}}(),o=function(l){i(u,l);function u(){var c=l!==null&&l.apply(this,arguments)||this;return c.displayCache=new Map,c}return u.prototype.getChildren=function(){return this.getDisplayedChildren()},u.prototype.getDisplayedChildren=function(){var c=this,d=this.model.components(),h=d.filter(function(g){return c.isChildDisplayed(g)});return h.map(function(g){return new c.constructor(g)})},u.prototype.isChildDisplayed=function(c){if(this.displayCache.has(c))return this.displayCache.get(c);var d=c.getEl(),h=a(d);return this.displayCache.set(c,h),h},u.prototype.getParent=function(){var c=this.model.parent();return c?new this.constructor(c):null},u.prototype.addChildAt=function(c,d,h){var g,m,_,b,C,w,x,O;h===void 0&&(h={action:"add-component"});var k=((m=(g=this.model)===null||g===void 0?void 0:g.isInstanceOf)===null||m===void 0?void 0:m.call(g,"text"))&&((b=(_=c==null?void 0:c.model)===null||_===void 0?void 0:_.get)===null||b===void 0?void 0:b.call(_,"textable"));if(k)return(O=(x=(w=(C=this.model)===null||C===void 0?void 0:C.getView)===null||w===void 0?void 0:w.call(C))===null||x===void 0?void 0:x.insertComponent)===null||O===void 0?void 0:O.call(x,c==null?void 0:c.model,{action:h.action});var V=this.model.components().add(c.model,{at:this.getRealIndex(d),action:h.action});return new this.constructor(V)},u.prototype.removeChildAt=function(c,d){d===void 0&&(d={temporary:!1});var h=this.model.components().at(this.getRealIndex(c));h&&this.model.components().remove(h,d)},u.prototype.indexOfChild=function(c){return this.getDisplayIndex(c)},u.prototype.getDisplayIndex=function(c){var d=this.getDisplayedChildren();return d?d.findIndex(function(h){return h.model===c.model}):-1},u.prototype.getRealIndex=function(c){if(c===-1)return-1;for(var d=0,h=this.model.components(),g=0;g<h.length;g++){var m=h.at(g),_=this.isChildDisplayed(m);if(_&&d++,d===c+1)return g}return-1},u.prototype.canMove=function(c,d){return this.model.em.Components.canMove(this.model,c.model,this.getRealIndex(d)).result},u.prototype.restNodeState=function(){this.clearState();var c=this.model;this.setContentEditable(!1),c.em.getEditing()===c&&this.disableEditing()},u.prototype.setContentEditable=function(c){this.element&&this.isTextNode()&&(this.element.contentEditable=c?"true":"false")},u.prototype.disableEditing=function(){var c,d;(d=(c=this.view)===null||c===void 0?void 0:c.disableEditing)===null||d===void 0||d.call(c)},u.prototype.clearState=function(){var c,d;(d=(c=this.model).set)===null||d===void 0||d.call(c,"status","")},u.prototype.setSelectedParentState=function(){var c,d;(d=(c=this.model).set)===null||d===void 0||d.call(c,"status","selected-parent")},u.prototype.isTextNode=function(){var c,d;return(d=(c=this.model).isInstanceOf)===null||d===void 0?void 0:d.call(c,"text")},u.prototype.isTextable=function(){var c,d;return(d=(c=this.model).get)===null||d===void 0?void 0:d.call(c,"textable")},u}(n.$);function a(l){return l?typeof l=="object"&&l.nodeType===Node.ELEMENT_NODE&&window.getComputedStyle(l).display!=="none"&&l.offsetWidth>0&&l.offsetHeight>0:!1}},1447:(r,e,t)=>{t.d(e,{A:()=>a});var n=t(6756),i=function(){var l=function(u,c){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var g in h)Object.prototype.hasOwnProperty.call(h,g)&&(d[g]=h[g])},l(u,c)};return function(u,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");l(u,c);function d(){this.constructor=u}u.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d)}}(),o=function(l){i(u,l);function u(){var c=l!==null&&l.apply(this,arguments)||this;return c._dropAreaConfig={ratio:.8,minUndroppableDimension:1,maxUndroppableDimension:15},c}return Object.defineProperty(u.prototype,"view",{get:function(){var c,d;return(d=(c=this.model).getView)===null||d===void 0?void 0:d.call(c)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"element",{get:function(){var c,d;return(d=(c=this.model).getEl)===null||d===void 0?void 0:d.call(c)},enumerable:!1,configurable:!0}),u}(n.h);const a=o},3178:(r,e,t)=>{t.d(e,{$:()=>n});var n=function(){function i(o,a){a===void 0&&(a={}),this._dropAreaConfig={ratio:1,minUndroppableDimension:0,maxUndroppableDimension:0},this._model=o,this._dragSource=a}return Object.defineProperty(i.prototype,"model",{get:function(){return this._model},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"dragSource",{get:function(){return this._dragSource},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"dropArea",{get:function(){var o,a;return this.getParent()?(a=this.nodeDimensions)===null||a===void 0?void 0:a.getDropArea(this._dropAreaConfig):(o=this.nodeDimensions)===null||o===void 0?void 0:o.clone()},enumerable:!1,configurable:!0}),i.prototype.isWithinDropBounds=function(o,a){return!!this.dropArea&&this.dropArea.isWithinBounds(o,a)},i.prototype.equals=function(o){return!!(o!=null&&o._model)&&this._model===o._model},i.prototype.adjustDimensions=function(o){var a,l;o.topDifference===0&&o.leftDifference===0||((a=this.nodeDimensions)===null||a===void 0||a.adjustDimensions(o),(l=this.childrenDimensions)===null||l===void 0||l.forEach(function(u){return u.adjustDimensions(o)}))},i}()},8433:(r,e,t)=>{t.d(e,{A:()=>n});var n;(function(i){i.Vertical="Vertical",i.Horizontal="Horizontal",i.BothDirections="BothDirections"})(n||(n={}))},585:(r,e,t)=>{var n={"./CanvasClear":9484,"./CanvasClear.ts":9484,"./CanvasMove":9516,"./CanvasMove.ts":9516,"./CommandAbstract":9946,"./CommandAbstract.ts":9946,"./ComponentDelete":7801,"./ComponentDelete.ts":7801,"./ComponentDrag":4864,"./ComponentDrag.ts":4864,"./ComponentEnter":6134,"./ComponentEnter.ts":6134,"./ComponentExit":914,"./ComponentExit.ts":914,"./ComponentNext":5547,"./ComponentNext.ts":5547,"./ComponentPrev":8655,"./ComponentPrev.ts":8655,"./ComponentStyleClear":7640,"./ComponentStyleClear.ts":7640,"./CopyComponent":5837,"./CopyComponent.ts":5837,"./ExportTemplate":6477,"./ExportTemplate.ts":6477,"./Fullscreen":1772,"./Fullscreen.ts":1772,"./MoveComponent":741,"./MoveComponent.ts":741,"./OpenAssets":2924,"./OpenAssets.ts":2924,"./OpenBlocks":3963,"./OpenBlocks.ts":3963,"./OpenLayers":1479,"./OpenLayers.ts":1479,"./OpenStyleManager":3473,"./OpenStyleManager.ts":3473,"./OpenTraitManager":5054,"./OpenTraitManager.ts":5054,"./PasteComponent":6979,"./PasteComponent.ts":6979,"./Preview":4457,"./Preview.ts":4457,"./Resize":5493,"./Resize.ts":5493,"./SelectComponent":9317,"./SelectComponent.ts":9317,"./SelectPosition":1406,"./SelectPosition.ts":1406,"./ShowOffset":9395,"./ShowOffset.ts":9395,"./SwitchVisibility":7285,"./SwitchVisibility.ts":7285};function i(a){var l=o(a);return t(l)}function o(a){if(!t.o(n,a)){var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}return n[a]}i.keys=function(){return Object.keys(n)},i.resolve=o,r.exports=i,i.id=585},5706:(r,e,t)=>{t.r(e),t.d(e,{VERSION:()=>i,after:()=>Oi,all:()=>Zo,allKeys:()=>ne,any:()=>Ma,assign:()=>Cr,before:()=>Ei,bind:()=>Da,bindAll:()=>Ds,chain:()=>ka,chunk:()=>Ki,clone:()=>gr,collect:()=>Er,compact:()=>Fd,compose:()=>Go,constant:()=>et,contains:()=>tr,countBy:()=>zd,create:()=>Ve,debounce:()=>xl,default:()=>Jo,defaults:()=>$r,defer:()=>Or,delay:()=>lo,detect:()=>Ce,difference:()=>Cc,drop:()=>Oo,each:()=>In,escape:()=>Gt,every:()=>Zo,extend:()=>cn,extendOwn:()=>Cr,filter:()=>ei,find:()=>Ce,findIndex:()=>Fi,findKey:()=>Pa,findLastIndex:()=>Xo,findWhere:()=>mn,first:()=>La,flatten:()=>Sc,foldl:()=>Nr,foldr:()=>jr,forEach:()=>In,functions:()=>un,get:()=>Bn,groupBy:()=>Id,has:()=>xr,head:()=>La,identity:()=>Ke,include:()=>tr,includes:()=>tr,indexBy:()=>_c,indexOf:()=>ge,initial:()=>En,inject:()=>Nr,intersection:()=>qd,invert:()=>Pn,invoke:()=>jd,isArguments:()=>R,isArray:()=>Jt,isArrayBuffer:()=>_t,isBoolean:()=>D,isDataView:()=>fe,isDate:()=>ot,isElement:()=>I,isEmpty:()=>J,isEqual:()=>ee,isError:()=>pt,isFinite:()=>kt,isFunction:()=>mt,isMap:()=>Ct,isMatch:()=>gt,isNaN:()=>wt,isNull:()=>Q,isNumber:()=>M,isObject:()=>U,isRegExp:()=>dt,isSet:()=>ie,isString:()=>tt,isSymbol:()=>Dt,isTypedArray:()=>ct,isUndefined:()=>H,isWeakMap:()=>Ut,isWeakSet:()=>ye,iteratee:()=>Ne,keys:()=>oe,last:()=>Na,lastIndexOf:()=>Ue,map:()=>Er,mapObject:()=>Qr,matcher:()=>he,matches:()=>he,max:()=>mc,memoize:()=>Ci,methods:()=>un,min:()=>yc,mixin:()=>Ms,negate:()=>xi,noop:()=>wi,now:()=>W,object:()=>Kd,omit:()=>Ra,once:()=>Ps,pairs:()=>ln,partial:()=>so,partition:()=>bc,pick:()=>wc,pluck:()=>Ol,property:()=>Jn,propertyOf:()=>qt,random:()=>Si,range:()=>Ba,reduce:()=>Nr,reduceRight:()=>jr,reject:()=>qi,rest:()=>Oo,restArguments:()=>Y,result:()=>qo,sample:()=>El,select:()=>ei,shuffle:()=>Bd,size:()=>Hd,some:()=>Ma,sortBy:()=>Ud,sortedIndex:()=>co,tail:()=>Oo,take:()=>La,tap:()=>Se,template:()=>Wo,templateSettings:()=>Le,throttle:()=>Kn,times:()=>be,toArray:()=>$o,toPath:()=>Jr,transpose:()=>Va,unescape:()=>ke,union:()=>Wd,uniq:()=>ja,unique:()=>ja,uniqueId:()=>Aa,unzip:()=>Va,values:()=>xe,where:()=>Vd,without:()=>kl,wrap:()=>uo,zip:()=>xc});var n={};t.r(n),t.d(n,{VERSION:()=>i,after:()=>Oi,all:()=>Zo,allKeys:()=>ne,any:()=>Ma,assign:()=>Cr,before:()=>Ei,bind:()=>Da,bindAll:()=>Ds,chain:()=>ka,chunk:()=>Ki,clone:()=>gr,collect:()=>Er,compact:()=>Fd,compose:()=>Go,constant:()=>et,contains:()=>tr,countBy:()=>zd,create:()=>Ve,debounce:()=>xl,default:()=>Gd,defaults:()=>$r,defer:()=>Or,delay:()=>lo,detect:()=>Ce,difference:()=>Cc,drop:()=>Oo,each:()=>In,escape:()=>Gt,every:()=>Zo,extend:()=>cn,extendOwn:()=>Cr,filter:()=>ei,find:()=>Ce,findIndex:()=>Fi,findKey:()=>Pa,findLastIndex:()=>Xo,findWhere:()=>mn,first:()=>La,flatten:()=>Sc,foldl:()=>Nr,foldr:()=>jr,forEach:()=>In,functions:()=>un,get:()=>Bn,groupBy:()=>Id,has:()=>xr,head:()=>La,identity:()=>Ke,include:()=>tr,includes:()=>tr,indexBy:()=>_c,indexOf:()=>ge,initial:()=>En,inject:()=>Nr,intersection:()=>qd,invert:()=>Pn,invoke:()=>jd,isArguments:()=>R,isArray:()=>Jt,isArrayBuffer:()=>_t,isBoolean:()=>D,isDataView:()=>fe,isDate:()=>ot,isElement:()=>I,isEmpty:()=>J,isEqual:()=>ee,isError:()=>pt,isFinite:()=>kt,isFunction:()=>mt,isMap:()=>Ct,isMatch:()=>gt,isNaN:()=>wt,isNull:()=>Q,isNumber:()=>M,isObject:()=>U,isRegExp:()=>dt,isSet:()=>ie,isString:()=>tt,isSymbol:()=>Dt,isTypedArray:()=>ct,isUndefined:()=>H,isWeakMap:()=>Ut,isWeakSet:()=>ye,iteratee:()=>Ne,keys:()=>oe,last:()=>Na,lastIndexOf:()=>Ue,map:()=>Er,mapObject:()=>Qr,matcher:()=>he,matches:()=>he,max:()=>mc,memoize:()=>Ci,methods:()=>un,min:()=>yc,mixin:()=>Ms,negate:()=>xi,noop:()=>wi,now:()=>W,object:()=>Kd,omit:()=>Ra,once:()=>Ps,pairs:()=>ln,partial:()=>so,partition:()=>bc,pick:()=>wc,pluck:()=>Ol,property:()=>Jn,propertyOf:()=>qt,random:()=>Si,range:()=>Ba,reduce:()=>Nr,reduceRight:()=>jr,reject:()=>qi,rest:()=>Oo,restArguments:()=>Y,result:()=>qo,sample:()=>El,select:()=>ei,shuffle:()=>Bd,size:()=>Hd,some:()=>Ma,sortBy:()=>Ud,sortedIndex:()=>co,tail:()=>Oo,take:()=>La,tap:()=>Se,template:()=>Wo,templateSettings:()=>Le,throttle:()=>Kn,times:()=>be,toArray:()=>$o,toPath:()=>Jr,transpose:()=>Va,unescape:()=>ke,union:()=>Wd,uniq:()=>ja,unique:()=>ja,uniqueId:()=>Aa,unzip:()=>Va,values:()=>xe,where:()=>Vd,without:()=>kl,wrap:()=>uo,zip:()=>xc});var i="1.13.1",o=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||Function("return this")()||{},a=Array.prototype,l=Object.prototype,u=typeof Symbol<"u"?Symbol.prototype:null,c=a.push,d=a.slice,h=l.toString,g=l.hasOwnProperty,m=typeof ArrayBuffer<"u",_=typeof DataView<"u",b=Array.isArray,C=Object.keys,w=Object.create,x=m&&ArrayBuffer.isView,O=isNaN,k=isFinite,V=!{toString:null}.propertyIsEnumerable("toString"),Z=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],$=Math.pow(2,53)-1;function Y(j,q){return q=q==null?j.length-1:+q,function(){for(var ut=Math.max(arguments.length-q,0),vt=Array(ut),Et=0;Et<ut;Et++)vt[Et]=arguments[Et+q];switch(q){case 0:return j.call(this,vt);case 1:return j.call(this,arguments[0],vt);case 2:return j.call(this,arguments[0],arguments[1],vt)}var xt=Array(q+1);for(Et=0;Et<q;Et++)xt[Et]=arguments[Et];return xt[q]=vt,j.apply(this,xt)}}function U(j){var q=typeof j;return q==="function"||q==="object"&&!!j}function Q(j){return j===null}function H(j){return j===void 0}function D(j){return j===!0||j===!1||h.call(j)==="[object Boolean]"}function I(j){return!!(j&&j.nodeType===1)}function T(j){var q="[object "+j+"]";return function(ut){return h.call(ut)===q}}const tt=T("String"),M=T("Number"),ot=T("Date"),dt=T("RegExp"),pt=T("Error"),Dt=T("Symbol"),_t=T("ArrayBuffer");var rt=T("Function"),At=o.document&&o.document.childNodes;typeof Int8Array!="object"&&typeof At!="function"&&(rt=function(j){return typeof j=="function"||!1});const mt=rt,Tt=T("Object");var $t=_&&Tt(new DataView(new ArrayBuffer(8))),zt=typeof Map<"u"&&Tt(new Map),It=T("DataView");function Zt(j){return j!=null&&mt(j.getInt8)&&_t(j.buffer)}const fe=$t?Zt:It,Jt=b||T("Array");function yt(j,q){return j!=null&&g.call(j,q)}var Wt=T("Arguments");(function(){Wt(arguments)||(Wt=function(j){return yt(j,"callee")})})();const R=Wt;function kt(j){return!Dt(j)&&k(j)&&!isNaN(parseFloat(j))}function wt(j){return M(j)&&O(j)}function et(j){return function(){return j}}function E(j){return function(q){var ut=j(q);return typeof ut=="number"&&ut>=0&&ut<=$}}function L(j){return function(q){return q==null?void 0:q[j]}}const K=L("byteLength"),it=E(K);var nt=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;function G(j){return x?x(j)&&!fe(j):it(j)&&nt.test(h.call(j))}const ct=m?G:et(!1),st=L("length");function jt(j){for(var q={},ut=j.length,vt=0;vt<ut;++vt)q[j[vt]]=!0;return{contains:function(Et){return q[Et]},push:function(Et){return q[Et]=!0,j.push(Et)}}}function ue(j,q){q=jt(q);var ut=Z.length,vt=j.constructor,Et=mt(vt)&&vt.prototype||l,xt="constructor";for(yt(j,xt)&&!q.contains(xt)&&q.push(xt);ut--;)xt=Z[ut],xt in j&&j[xt]!==Et[xt]&&!q.contains(xt)&&q.push(xt)}function oe(j){if(!U(j))return[];if(C)return C(j);var q=[];for(var ut in j)yt(j,ut)&&q.push(ut);return V&&ue(j,q),q}function J(j){if(j==null)return!0;var q=st(j);return typeof q=="number"&&(Jt(j)||tt(j)||R(j))?q===0:st(oe(j))===0}function gt(j,q){var ut=oe(q),vt=ut.length;if(j==null)return!vt;for(var Et=Object(j),xt=0;xt<vt;xt++){var Bt=ut[xt];if(q[Bt]!==Et[Bt]||!(Bt in Et))return!1}return!0}function F(j){if(j instanceof F)return j;if(!(this instanceof F))return new F(j);this._wrapped=j}F.VERSION=i,F.prototype.value=function(){return this._wrapped},F.prototype.valueOf=F.prototype.toJSON=F.prototype.value,F.prototype.toString=function(){return String(this._wrapped)};function Lt(j){return new Uint8Array(j.buffer||j,j.byteOffset||0,K(j))}var bt="[object DataView]";function Ht(j,q,ut,vt){if(j===q)return j!==0||1/j===1/q;if(j==null||q==null)return!1;if(j!==j)return q!==q;var Et=typeof j;return Et!=="function"&&Et!=="object"&&typeof q!="object"?!1:ce(j,q,ut,vt)}function ce(j,q,ut,vt){j instanceof F&&(j=j._wrapped),q instanceof F&&(q=q._wrapped);var Et=h.call(j);if(Et!==h.call(q))return!1;if($t&&Et=="[object Object]"&&fe(j)){if(!fe(q))return!1;Et=bt}switch(Et){case"[object RegExp]":case"[object String]":return""+j==""+q;case"[object Number]":return+j!=+j?+q!=+q:+j==0?1/+j===1/q:+j==+q;case"[object Date]":case"[object Boolean]":return+j==+q;case"[object Symbol]":return u.valueOf.call(j)===u.valueOf.call(q);case"[object ArrayBuffer]":case bt:return ce(Lt(j),Lt(q),ut,vt)}var xt=Et==="[object Array]";if(!xt&&ct(j)){var Bt=K(j);if(Bt!==K(q))return!1;if(j.buffer===q.buffer&&j.byteOffset===q.byteOffset)return!0;xt=!0}if(!xt){if(typeof j!="object"||typeof q!="object")return!1;var re=j.constructor,Ae=q.constructor;if(re!==Ae&&!(mt(re)&&re instanceof re&&mt(Ae)&&Ae instanceof Ae)&&"constructor"in j&&"constructor"in q)return!1}ut=ut||[],vt=vt||[];for(var Ee=ut.length;Ee--;)if(ut[Ee]===j)return vt[Ee]===q;if(ut.push(j),vt.push(q),xt){if(Ee=j.length,Ee!==q.length)return!1;for(;Ee--;)if(!Ht(j[Ee],q[Ee],ut,vt))return!1}else{var Gn=oe(j),mr;if(Ee=Gn.length,oe(q).length!==Ee)return!1;for(;Ee--;)if(mr=Gn[Ee],!(yt(q,mr)&&Ht(j[mr],q[mr],ut,vt)))return!1}return ut.pop(),vt.pop(),!0}function ee(j,q){return Ht(j,q)}function ne(j){if(!U(j))return[];var q=[];for(var ut in j)q.push(ut);return V&&ue(j,q),q}function ve(j){var q=st(j);return function(ut){if(ut==null)return!1;var vt=ne(ut);if(st(vt))return!1;for(var Et=0;Et<q;Et++)if(!mt(ut[j[Et]]))return!1;return j!==X||!mt(ut[Oe])}}var Oe="forEach",Re="has",De=["clear","delete"],Je=["get",Re,"set"],vn=De.concat(Oe,Je),X=De.concat(Je),ht=["add"].concat(De,Oe,Re);const Ct=zt?ve(vn):T("Map"),Ut=zt?ve(X):T("WeakMap"),ie=zt?ve(ht):T("Set"),ye=T("WeakSet");function xe(j){for(var q=oe(j),ut=q.length,vt=Array(ut),Et=0;Et<ut;Et++)vt[Et]=j[q[Et]];return vt}function ln(j){for(var q=oe(j),ut=q.length,vt=Array(ut),Et=0;Et<ut;Et++)vt[Et]=[q[Et],j[q[Et]]];return vt}function Pn(j){for(var q={},ut=oe(j),vt=0,Et=ut.length;vt<Et;vt++)q[j[ut[vt]]]=ut[vt];return q}function un(j){var q=[];for(var ut in j)mt(j[ut])&&q.push(ut);return q.sort()}function bi(j,q){return function(ut){var vt=arguments.length;if(q&&(ut=Object(ut)),vt<2||ut==null)return ut;for(var Et=1;Et<vt;Et++)for(var xt=arguments[Et],Bt=j(xt),re=Bt.length,Ae=0;Ae<re;Ae++){var Ee=Bt[Ae];(!q||ut[Ee]===void 0)&&(ut[Ee]=xt[Ee])}return ut}}const cn=bi(ne),Cr=bi(oe),$r=bi(ne,!0);function qe(){return function(){}}function Mn(j){if(!U(j))return{};if(w)return w(j);var q=qe();q.prototype=j;var ut=new q;return q.prototype=null,ut}function Ve(j,q){var ut=Mn(j);return q&&Cr(ut,q),ut}function gr(j){return U(j)?Jt(j)?j.slice():cn({},j):j}function Se(j,q){return q(j),j}function Jr(j){return Jt(j)?j:[j]}F.toPath=Jr;function Lr(j){return F.toPath(j)}function Vn(j,q){for(var ut=q.length,vt=0;vt<ut;vt++){if(j==null)return;j=j[q[vt]]}return ut?j:void 0}function Bn(j,q,ut){var vt=Vn(j,Lr(q));return H(vt)?ut:vt}function xr(j,q){q=Lr(q);for(var ut=q.length,vt=0;vt<ut;vt++){var Et=q[vt];if(!yt(j,Et))return!1;j=j[Et]}return!!ut}function Ke(j){return j}function he(j){return j=Cr({},j),function(q){return gt(q,j)}}function Jn(j){return j=Lr(j),function(q){return Vn(q,j)}}function gn(j,q,ut){if(q===void 0)return j;switch(ut??3){case 1:return function(vt){return j.call(q,vt)};case 3:return function(vt,Et,xt){return j.call(q,vt,Et,xt)};case 4:return function(vt,Et,xt,Bt){return j.call(q,vt,Et,xt,Bt)}}return function(){return j.apply(q,arguments)}}function Qn(j,q,ut){return j==null?Ke:mt(j)?gn(j,q,ut):U(j)&&!Jt(j)?he(j):Jn(j)}function Ne(j,q){return Qn(j,q,1/0)}F.iteratee=Ne;function tn(j,q,ut){return F.iteratee!==Ne?F.iteratee(j,q):Qn(j,q,ut)}function Qr(j,q,ut){q=tn(q,ut);for(var vt=oe(j),Et=vt.length,xt={},Bt=0;Bt<Et;Bt++){var re=vt[Bt];xt[re]=q(j[re],re,j)}return xt}function wi(){}function qt(j){return j==null?wi:function(q){return Bn(j,q)}}function be(j,q,ut){var vt=Array(Math.max(0,j));q=gn(q,ut,1);for(var Et=0;Et<j;Et++)vt[Et]=q(Et);return vt}function Si(j,q){return q==null&&(q=j,j=0),j+Math.floor(Math.random()*(q-j+1))}const W=Date.now||function(){return new Date().getTime()};function lt(j){var q=function(xt){return j[xt]},ut="(?:"+oe(j).join("|")+")",vt=RegExp(ut),Et=RegExp(ut,"g");return function(xt){return xt=xt==null?"":""+xt,vt.test(xt)?xt.replace(Et,q):xt}}const Mt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},Gt=lt(Mt),Xt=Pn(Mt),ke=lt(Xt),Le=F.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var fn=/(.)^/,Ye={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},ti=/\\|'|\r|\n|\u2028|\u2029/g;function Ta(j){return"\\"+Ye[j]}var Fo=/^\s*(\w|\$)+\s*$/;function Wo(j,q,ut){!q&&ut&&(q=ut),q=$r({},q,F.templateSettings);var vt=RegExp([(q.escape||fn).source,(q.interpolate||fn).source,(q.evaluate||fn).source].join("|")+"|$","g"),Et=0,xt="__p+='";j.replace(vt,function(Ee,Gn,mr,Yd,Oc){return xt+=j.slice(Et,Oc).replace(ti,Ta),Et=Oc+Ee.length,Gn?xt+=`'+
((__t=(`+Gn+`))==null?'':_.escape(__t))+
'`:mr?xt+=`'+
((__t=(`+mr+`))==null?'':__t)+
'`:Yd&&(xt+=`';
`+Yd+`
__p+='`),Ee}),xt+=`';
`;var Bt=q.variable;if(Bt){if(!Fo.test(Bt))throw new Error("variable is not a bare identifier: "+Bt)}else xt=`with(obj||{}){
`+xt+`}
`,Bt="obj";xt=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+xt+`return __p;
`;var re;try{re=new Function(Bt,"_",xt)}catch(Ee){throw Ee.source=xt,Ee}var Ae=function(Ee){return re.call(this,Ee,F)};return Ae.source="function("+Bt+`){
`+xt+"}",Ae}function qo(j,q,ut){q=Lr(q);var vt=q.length;if(!vt)return mt(ut)?ut.call(j):ut;for(var Et=0;Et<vt;Et++){var xt=j==null?void 0:j[q[Et]];xt===void 0&&(xt=ut,Et=vt),j=mt(xt)?xt.call(j):xt}return j}var ks=0;function Aa(j){var q=++ks+"";return j?j+q:q}function ka(j){var q=F(j);return q._chain=!0,q}function Ko(j,q,ut,vt,Et){if(!(vt instanceof q))return j.apply(ut,Et);var xt=Mn(j.prototype),Bt=j.apply(xt,Et);return U(Bt)?Bt:xt}var xo=Y(function(j,q){var ut=xo.placeholder,vt=function(){for(var Et=0,xt=q.length,Bt=Array(xt),re=0;re<xt;re++)Bt[re]=q[re]===ut?arguments[Et++]:q[re];for(;Et<arguments.length;)Bt.push(arguments[Et++]);return Ko(j,vt,this,this,Bt)};return vt});xo.placeholder=F;const so=xo,Da=Y(function(j,q,ut){if(!mt(j))throw new TypeError("Bind must be called on a function");var vt=Y(function(Et){return Ko(j,vt,q,this,ut.concat(Et))});return vt}),Un=E(st);function qn(j,q,ut,vt){if(vt=vt||[],!q&&q!==0)q=1/0;else if(q<=0)return vt.concat(j);for(var Et=vt.length,xt=0,Bt=st(j);xt<Bt;xt++){var re=j[xt];if(Un(re)&&(Jt(re)||R(re)))if(q>1)qn(re,q-1,ut,vt),Et=vt.length;else for(var Ae=0,Ee=re.length;Ae<Ee;)vt[Et++]=re[Ae++];else ut||(vt[Et++]=re)}return vt}const Ds=Y(function(j,q){q=qn(q,!1,!1);var ut=q.length;if(ut<1)throw new Error("bindAll must be passed function names");for(;ut--;){var vt=q[ut];j[vt]=Da(j[vt],j)}return j});function Ci(j,q){var ut=function(vt){var Et=ut.cache,xt=""+(q?q.apply(this,arguments):vt);return yt(Et,xt)||(Et[xt]=j.apply(this,arguments)),Et[xt]};return ut.cache={},ut}const lo=Y(function(j,q,ut){return setTimeout(function(){return j.apply(null,ut)},q)}),Or=so(lo,F,1);function Kn(j,q,ut){var vt,Et,xt,Bt,re=0;ut||(ut={});var Ae=function(){re=ut.leading===!1?0:W(),vt=null,Bt=j.apply(Et,xt),vt||(Et=xt=null)},Ee=function(){var Gn=W();!re&&ut.leading===!1&&(re=Gn);var mr=q-(Gn-re);return Et=this,xt=arguments,mr<=0||mr>q?(vt&&(clearTimeout(vt),vt=null),re=Gn,Bt=j.apply(Et,xt),vt||(Et=xt=null)):!vt&&ut.trailing!==!1&&(vt=setTimeout(Ae,mr)),Bt};return Ee.cancel=function(){clearTimeout(vt),re=0,vt=Et=xt=null},Ee}function xl(j,q,ut){var vt,Et,xt,Bt,re,Ae=function(){var Gn=W()-Et;q>Gn?vt=setTimeout(Ae,q-Gn):(vt=null,ut||(Bt=j.apply(re,xt)),vt||(xt=re=null))},Ee=Y(function(Gn){return re=this,xt=Gn,Et=W(),vt||(vt=setTimeout(Ae,q),ut&&(Bt=j.apply(re,xt))),Bt});return Ee.cancel=function(){clearTimeout(vt),vt=xt=re=null},Ee}function uo(j,q){return so(q,j)}function xi(j){return function(){return!j.apply(this,arguments)}}function Go(){var j=arguments,q=j.length-1;return function(){for(var ut=q,vt=j[q].apply(this,arguments);ut--;)vt=j[ut].call(this,vt);return vt}}function Oi(j,q){return function(){if(--j<1)return q.apply(this,arguments)}}function Ei(j,q){var ut;return function(){return--j>0&&(ut=q.apply(this,arguments)),j<=1&&(q=null),ut}}const Ps=so(Ei,2);function Pa(j,q,ut){q=tn(q,ut);for(var vt=oe(j),Et,xt=0,Bt=vt.length;xt<Bt;xt++)if(Et=vt[xt],q(j[Et],Et,j))return Et}function Yo(j){return function(q,ut,vt){ut=tn(ut,vt);for(var Et=st(q),xt=j>0?0:Et-1;xt>=0&&xt<Et;xt+=j)if(ut(q[xt],xt,q))return xt;return-1}}const Fi=Yo(1),Xo=Yo(-1);function co(j,q,ut,vt){ut=tn(ut,vt,1);for(var Et=ut(q),xt=0,Bt=st(j);xt<Bt;){var re=Math.floor((xt+Bt)/2);ut(j[re])<Et?xt=re+1:Bt=re}return xt}function me(j,q,ut){return function(vt,Et,xt){var Bt=0,re=st(vt);if(typeof xt=="number")j>0?Bt=xt>=0?xt:Math.max(xt+re,Bt):re=xt>=0?Math.min(xt+1,re):xt+re+1;else if(ut&&xt&&re)return xt=ut(vt,Et),vt[xt]===Et?xt:-1;if(Et!==Et)return xt=q(d.call(vt,Bt,re),wt),xt>=0?xt+Bt:-1;for(xt=j>0?Bt:re-1;xt>=0&&xt<re;xt+=j)if(vt[xt]===Et)return xt;return-1}}const ge=me(1,Fi,co),Ue=me(-1,Xo);function Ce(j,q,ut){var vt=Un(j)?Fi:Pa,Et=vt(j,q,ut);if(Et!==void 0&&Et!==-1)return j[Et]}function mn(j,q){return Ce(j,he(q))}function In(j,q,ut){q=gn(q,ut);var vt,Et;if(Un(j))for(vt=0,Et=j.length;vt<Et;vt++)q(j[vt],vt,j);else{var xt=oe(j);for(vt=0,Et=xt.length;vt<Et;vt++)q(j[xt[vt]],xt[vt],j)}return j}function Er(j,q,ut){q=tn(q,ut);for(var vt=!Un(j)&&oe(j),Et=(vt||j).length,xt=Array(Et),Bt=0;Bt<Et;Bt++){var re=vt?vt[Bt]:Bt;xt[Bt]=q(j[re],re,j)}return xt}function Wi(j){var q=function(ut,vt,Et,xt){var Bt=!Un(ut)&&oe(ut),re=(Bt||ut).length,Ae=j>0?0:re-1;for(xt||(Et=ut[Bt?Bt[Ae]:Ae],Ae+=j);Ae>=0&&Ae<re;Ae+=j){var Ee=Bt?Bt[Ae]:Ae;Et=vt(Et,ut[Ee],Ee,ut)}return Et};return function(ut,vt,Et,xt){var Bt=arguments.length>=3;return q(ut,gn(vt,xt,4),Et,Bt)}}const Nr=Wi(1),jr=Wi(-1);function ei(j,q,ut){var vt=[];return q=tn(q,ut),In(j,function(Et,xt,Bt){q(Et,xt,Bt)&&vt.push(Et)}),vt}function qi(j,q,ut){return ei(j,xi(tn(q)),ut)}function Zo(j,q,ut){q=tn(q,ut);for(var vt=!Un(j)&&oe(j),Et=(vt||j).length,xt=0;xt<Et;xt++){var Bt=vt?vt[xt]:xt;if(!q(j[Bt],Bt,j))return!1}return!0}function Ma(j,q,ut){q=tn(q,ut);for(var vt=!Un(j)&&oe(j),Et=(vt||j).length,xt=0;xt<Et;xt++){var Bt=vt?vt[xt]:xt;if(q(j[Bt],Bt,j))return!0}return!1}function tr(j,q,ut,vt){return Un(j)||(j=xe(j)),(typeof ut!="number"||vt)&&(ut=0),ge(j,q,ut)>=0}const jd=Y(function(j,q,ut){var vt,Et;return mt(q)?Et=q:(q=Lr(q),vt=q.slice(0,-1),q=q[q.length-1]),Er(j,function(xt){var Bt=Et;if(!Bt){if(vt&&vt.length&&(xt=Vn(xt,vt)),xt==null)return;Bt=xt[q]}return Bt==null?Bt:Bt.apply(xt,ut)})});function Ol(j,q){return Er(j,Jn(q))}function Vd(j,q){return ei(j,he(q))}function mc(j,q,ut){var vt=-1/0,Et=-1/0,xt,Bt;if(q==null||typeof q=="number"&&typeof j[0]!="object"&&j!=null){j=Un(j)?j:xe(j);for(var re=0,Ae=j.length;re<Ae;re++)xt=j[re],xt!=null&&xt>vt&&(vt=xt)}else q=tn(q,ut),In(j,function(Ee,Gn,mr){Bt=q(Ee,Gn,mr),(Bt>Et||Bt===-1/0&&vt===-1/0)&&(vt=Ee,Et=Bt)});return vt}function yc(j,q,ut){var vt=1/0,Et=1/0,xt,Bt;if(q==null||typeof q=="number"&&typeof j[0]!="object"&&j!=null){j=Un(j)?j:xe(j);for(var re=0,Ae=j.length;re<Ae;re++)xt=j[re],xt!=null&&xt<vt&&(vt=xt)}else q=tn(q,ut),In(j,function(Ee,Gn,mr){Bt=q(Ee,Gn,mr),(Bt<Et||Bt===1/0&&vt===1/0)&&(vt=Ee,Et=Bt)});return vt}function El(j,q,ut){if(q==null||ut)return Un(j)||(j=xe(j)),j[Si(j.length-1)];var vt=Un(j)?gr(j):xe(j),Et=st(vt);q=Math.max(Math.min(q,Et),0);for(var xt=Et-1,Bt=0;Bt<q;Bt++){var re=Si(Bt,xt),Ae=vt[Bt];vt[Bt]=vt[re],vt[re]=Ae}return vt.slice(0,q)}function Bd(j){return El(j,1/0)}function Ud(j,q,ut){var vt=0;return q=tn(q,ut),Ol(Er(j,function(Et,xt,Bt){return{value:Et,index:vt++,criteria:q(Et,xt,Bt)}}).sort(function(Et,xt){var Bt=Et.criteria,re=xt.criteria;if(Bt!==re){if(Bt>re||Bt===void 0)return 1;if(Bt<re||re===void 0)return-1}return Et.index-xt.index}),"value")}function Tl(j,q){return function(ut,vt,Et){var xt=q?[[],[]]:{};return vt=tn(vt,Et),In(ut,function(Bt,re){var Ae=vt(Bt,re,ut);j(xt,Bt,Ae)}),xt}}const Id=Tl(function(j,q,ut){yt(j,ut)?j[ut].push(q):j[ut]=[q]}),_c=Tl(function(j,q,ut){j[ut]=q}),zd=Tl(function(j,q,ut){yt(j,ut)?j[ut]++:j[ut]=1}),bc=Tl(function(j,q,ut){j[ut?0:1].push(q)},!0);var Al=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function $o(j){return j?Jt(j)?d.call(j):tt(j)?j.match(Al):Un(j)?Er(j,Ke):xe(j):[]}function Hd(j){return j==null?0:Un(j)?j.length:oe(j).length}function Wg(j,q,ut){return q in ut}const wc=Y(function(j,q){var ut={},vt=q[0];if(j==null)return ut;mt(vt)?(q.length>1&&(vt=gn(vt,q[1])),q=ne(j)):(vt=Wg,q=qn(q,!1,!1),j=Object(j));for(var Et=0,xt=q.length;Et<xt;Et++){var Bt=q[Et],re=j[Bt];vt(re,Bt,j)&&(ut[Bt]=re)}return ut}),Ra=Y(function(j,q){var ut=q[0],vt;return mt(ut)?(ut=xi(ut),q.length>1&&(vt=q[1])):(q=Er(qn(q,!1,!1),String),ut=function(Et,xt){return!tr(q,xt)}),wc(j,ut,vt)});function En(j,q,ut){return d.call(j,0,Math.max(0,j.length-(q==null||ut?1:q)))}function La(j,q,ut){return j==null||j.length<1?q==null||ut?void 0:[]:q==null||ut?j[0]:En(j,j.length-q)}function Oo(j,q,ut){return d.call(j,q==null||ut?1:q)}function Na(j,q,ut){return j==null||j.length<1?q==null||ut?void 0:[]:q==null||ut?j[j.length-1]:Oo(j,Math.max(0,j.length-q))}function Fd(j){return ei(j,Boolean)}function Sc(j,q){return qn(j,q,!1)}const Cc=Y(function(j,q){return q=qn(q,!0,!0),ei(j,function(ut){return!tr(q,ut)})}),kl=Y(function(j,q){return Cc(j,q)});function ja(j,q,ut,vt){D(q)||(vt=ut,ut=q,q=!1),ut!=null&&(ut=tn(ut,vt));for(var Et=[],xt=[],Bt=0,re=st(j);Bt<re;Bt++){var Ae=j[Bt],Ee=ut?ut(Ae,Bt,j):Ae;q&&!ut?((!Bt||xt!==Ee)&&Et.push(Ae),xt=Ee):ut?tr(xt,Ee)||(xt.push(Ee),Et.push(Ae)):tr(Et,Ae)||Et.push(Ae)}return Et}const Wd=Y(function(j){return ja(qn(j,!0,!0))});function qd(j){for(var q=[],ut=arguments.length,vt=0,Et=st(j);vt<Et;vt++){var xt=j[vt];if(!tr(q,xt)){var Bt;for(Bt=1;Bt<ut&&tr(arguments[Bt],xt);Bt++);Bt===ut&&q.push(xt)}}return q}function Va(j){for(var q=j&&mc(j,st).length||0,ut=Array(q),vt=0;vt<q;vt++)ut[vt]=Ol(j,vt);return ut}const xc=Y(Va);function Kd(j,q){for(var ut={},vt=0,Et=st(j);vt<Et;vt++)q?ut[j[vt]]=q[vt]:ut[j[vt][0]]=j[vt][1];return ut}function Ba(j,q,ut){q==null&&(q=j||0,j=0),ut||(ut=q<j?-1:1);for(var vt=Math.max(Math.ceil((q-j)/ut),0),Et=Array(vt),xt=0;xt<vt;xt++,j+=ut)Et[xt]=j;return Et}function Ki(j,q){if(q==null||q<1)return[];for(var ut=[],vt=0,Et=j.length;vt<Et;)ut.push(d.call(j,vt,vt+=q));return ut}function Ua(j,q){return j._chain?F(q).chain():q}function Ms(j){return In(un(j),function(q){var ut=F[q]=j[q];F.prototype[q]=function(){var vt=[this._wrapped];return c.apply(vt,arguments),Ua(this,ut.apply(F,vt))}}),F}In(["pop","push","reverse","shift","sort","splice","unshift"],function(j){var q=a[j];F.prototype[j]=function(){var ut=this._wrapped;return ut!=null&&(q.apply(ut,arguments),(j==="shift"||j==="splice")&&ut.length===0&&delete ut[0]),Ua(this,ut)}}),In(["concat","join","slice"],function(j){var q=a[j];F.prototype[j]=function(){var ut=this._wrapped;return ut!=null&&(ut=q.apply(ut,arguments)),Ua(this,ut)}});const Gd=F;var ni=Ms(n);ni._=ni;const Jo=ni}},Dx={};function We(r){var e=Dx[r];if(e!==void 0)return e.exports;var t=Dx[r]={exports:{}};return m3[r].call(t.exports,t,t.exports,We),t.exports}We.n=r=>{var e=r&&r.__esModule?()=>r.default:()=>r;return We.d(e,{a:e}),e};We.d=(r,e)=>{for(var t in e)We.o(e,t)&&!We.o(r,t)&&Object.defineProperty(r,t,{enumerable:!0,get:e[t]})};We.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();We.o=(r,e)=>Object.prototype.hasOwnProperty.call(r,e);We.r=r=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})};var Vg={};We.d(Vg,{Ay:()=>r7,I0:()=>Ak,nu:()=>Tk});var z=We(5706),Vt=We(1166);function di(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];var n=r.raw;return n.reduce(function(i,o,a){var l=e[a-1],u=n[a-1];return Array.isArray(l)?l=l.join(""):u&&u.slice(-1)==="$"?i=i.slice(0,-1):l=(0,Vt.escape)(l),i+l+o})}var y3=function(){return{stylePrefix:"gjs-",components:"",style:"",fromElement:!1,projectData:void 0,noticeOnUnload:!0,showOffsets:!1,showOffsetsSelected:!1,forceClass:!0,height:"900px",width:"100%",log:["warning","error"],baseCss:"",protectedCss:"* { box-sizing: border-box; } body {margin: 0;}",canvasCss:"",defaultCommand:"select-comp",showToolbar:!0,showDevices:!0,devicePreviewMode:!1,mediaCondition:"max-width",tagVarStart:"{[ ",tagVarEnd:" ]}",keepEmptyTextNodes:!1,jsInHtml:!0,nativeDnD:!0,multipleSelection:!0,optsHtml:{},optsCss:{},avoidInlineStyle:!0,avoidDefaults:!0,clearStyles:!1,listenToEl:[],cssIcons:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css",icons:{close:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>',move:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M13,6V11H18V7.75L22.25,12L18,16.25V13H13V18H16.25L12,22.25L7.75,18H11V13H6V16.25L1.75,12L6,7.75V11H11V6H7.75L12,1.75L16.25,6H13Z"/></svg>',plus:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z" /></svg>',caret:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M7,10L12,15L17,10H7Z" /></svg>',delete:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z" /></svg>',copy:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z" /></svg>',arrowUp:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M13,20H11V8L5.5,13.5L4.08,12.08L12,4.16L19.92,12.08L18.5,13.5L13,8V20Z" /></svg>',chevron:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z" /></svg>',eye:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z" /></svg>',eyeOff:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M11.83,9L15,12.16C15,12.11 15,12.05 15,12A3,3 0 0,0 12,9C11.94,9 11.89,9 11.83,9M7.53,9.8L9.08,11.35C9.03,11.56 9,11.77 9,12A3,3 0 0,0 12,15C12.22,15 12.44,14.97 12.65,14.92L14.2,16.47C13.53,16.8 12.79,17 12,17A5,5 0 0,1 7,12C7,11.21 7.2,10.47 7.53,9.8M2,4.27L4.28,6.55L4.73,7C3.08,8.3 1.78,10 1,12C2.73,16.39 7,19.5 12,19.5C13.55,19.5 15.03,19.2 16.38,18.66L16.81,19.08L19.73,22L21,20.73L3.27,3M12,7A5,5 0 0,1 17,12C17,12.64 16.87,13.26 16.64,13.82L19.57,16.75C21.07,15.5 22.27,13.86 23,12C21.27,7.61 17,4.5 12,4.5C10.6,4.5 9.26,4.75 8,5.2L10.17,7.35C10.74,7.13 11.35,7 12,7Z" /></svg>'},i18n:{},undoManager:{},assetManager:{},canvas:{},layerManager:{},storageManager:{},richTextEditor:{},domComponents:{},modal:{},codeManager:{},panels:{},commands:{},cssComposer:{},selectorManager:{},deviceManager:{},styleManager:{},blockManager:{},traitManager:{},textViewCode:"Code",keepUnusedStyles:!1,customUI:!1,telemetry:!0}};const _3=y3;var tv=We(4193),b3=We.n(tv),ur=We(7774);const w3=function(r){var e=r.$;if(e&&e.prototype&&e.prototype.constructor.name!=="jQuery"){var t=e.fn;t.hide=function(){return this.css("display","none")},t.show=function(){return this.css("display","block")},t.focus=function(){var o=this.get(0);return o&&o.focus(),this},t.bind=function(o,a){return this.on(o,a)},t.unbind=function(o,a){if((0,z.isObject)(o)){for(var l in o)o.hasOwnProperty(l)&&this.off(l,o[l]);return this}else return this.off(o,a)},t.click=function(o){return o?this.on("click",o):this.trigger("click")},t.change=function(o){return o?this.on("change",o):this.trigger("change")},t.keydown=function(o){return o?this.on("keydown",o):this.trigger("keydown")},t.delegate=function(o,a,l,u){return u||(u=l),this.on(a,o,function(c){c.data=l,u(c)})},t.scrollLeft=function(){var o=this.get(0);o=o.nodeType==9?o.defaultView:o;var a=o instanceof Window?o:null;return a?a.pageXOffset:o.scrollLeft||0},t.scrollTop=function(){var o=this.get(0);o=o.nodeType==9?o.defaultView:o;var a=o instanceof Window?o:null;return a?a.pageYOffset:o.scrollTop||0};var n=e.prototype.offset;t.offset=function(o){var a,l;return o&&(a=o.top,l=o.left),typeof a<"u"&&this.css("top","".concat(a,"px")),typeof l<"u"&&this.css("left","".concat(l,"px")),n.call(this)},e.map=function(o,a){for(var l=[],u=0;u<o.length;u++)l.push(a(o[u],u));return l};var i=Array.prototype.indexOf;e.inArray=function(o,a,l){return a==null?-1:i.call(a,o,l)},e.Event=function(o,a){if(!(this instanceof e.Event))return new e.Event(o,a);this.type=o,this.isDefaultPrevented=function(){return!1}}}};var te=We(9156),HA=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),S3=function(r){HA(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e}(te.Kx),C3=function(r){HA(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getByComponent=function(t){var n=this;return this.filter(function(i){return n.getComponent(i)===t})[0]},e.prototype.addComponent=function(t,n){var i=this,o=((0,z.isArray)(t)?t:[t]).filter(function(a){return!i.hasComponent(a)}).map(function(a){return new S3({component:a})})[0];return this.push(o,n)},e.prototype.getComponent=function(t){return t.get("component")},e.prototype.hasComponent=function(t){var n=this.getByComponent(t);return n&&this.contains(n)},e.prototype.lastComponent=function(){var t=this.last();return t?this.getComponent(t):void 0},e.prototype.allComponents=function(){var t=this;return this.map(function(n){return t.getComponent(n)}).filter(function(n){return n})},e.prototype.removeComponent=function(t,n){var i=this,o=((0,z.isArray)(t)?t:[t]).map(function(a){return i.getByComponent(a)});return this.remove(o,n)},e}(te.pM);const x3=C3;var O3=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),$0=function(){return $0=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},$0.apply(this,arguments)},E3=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))},FA=function(){function r(e,t,n){this.debounced=[],this.collections=[],this.cls=[],this._em=e,this._name=t;var i=this.name.charAt(0).toLowerCase()+this.name.slice(1),o=(0,z.isUndefined)(e.config[i])?e.config[this.name]:e.config[i],a=o===!0?{}:o||{};a.pStylePrefix=e.config.pStylePrefix||"",!(0,z.isUndefined)(o)&&!o&&(a._disable=1),a.em=e,this._config=(0,Vt.deepMerge)(n||{},a)}return Object.defineProperty(r.prototype,"em",{get:function(){return this._em},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),r.prototype.render=function(e){},r.prototype.postLoad=function(e){},r.prototype.onInit=function(){},Object.defineProperty(r.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),r.prototype.getConfig=function(e){return e?this.config[e]:this.config},r.prototype.__logWarn=function(e,t){t===void 0&&(t={}),this.em.logWarning("[".concat(this.name,"]: ").concat(e),t)},r.prototype.destroy=function(){this.__destroy()},r.prototype.__destroy=function(){var e,t,n;(e=this.view)===null||e===void 0||e.remove(),(t=this.state)===null||t===void 0||t.stopListening(),(n=this.state)===null||n===void 0||n.clear(),this.debounced.forEach(function(i){return i.cancel()}),this.collections.forEach(function(i){i.stopListening(),i.reset()})},r.prototype.__appendTo=function(){var e=this.getConfig().appendTo;if(e){var t=(0,z.isElement)(e)?e:document.querySelector(e);if(!t)return this.__logWarn('"appendTo" element not found');t.appendChild(this.render())}},r}();const _i=FA;var Ea=function(r){O3(e,r);function e(t,n,i,o,a,l){l===void 0&&(l={});var u=r.call(this,t,n,a)||this;return u.cls=[],u.private=!1,u.all=i,u.events=o,!l.skipListen&&u.__initListen(),u}return e.prototype.postLoad=function(t){},e.prototype.render=function(t){},e.prototype.getProjectData=function(t){var n={},i=this.storageKey;return i&&(n[i]=t||this.getAll()),n},e.prototype.loadProjectData=function(t,n){t===void 0&&(t={}),n===void 0&&(n={});var i=n.all,o=n.onResult,a=n.reset,l=this.storageKey,u={action:"load"},c=i||this.all,d=t[l];if(typeof d=="string")try{d=JSON.parse(d)}catch{this.__logWarn("Data parsing failed",{input:d})}return a&&d&&c.reset(void 0,u),o?d&&o(d,u):d&&(0,Vt.isDef)(d.length)&&c.reset(d,u),d},e.prototype.clear=function(t){t===void 0&&(t={});var n=this.all;return n&&n.reset(void 0,t),this},e.prototype.getAll=function(){return E3([],this.all.models,!0)},e.prototype.getAllMap=function(){return this.getAll().reduce(function(t,n){return t[n.get(n.idAttribute)]=n,t},{})},e.prototype.__initListen=function(t){t===void 0&&(t={});var n=this,i=n.all,o=n.em,a=n.events;i&&o&&i.on("add",function(l,u,c){return o.trigger(a.add,l,c)}).on("remove",function(l,u,c){return o.trigger(a.remove,l,c)}).on("change",function(l,u){return o.trigger(a.update,l,l.changedAttributes(),u)}).on("all",this.__catchAllEvent,this),this.cls=[i].concat(t.collections||[]),(t.propagate||[]).forEach(function(l){var u=l.entity,c=l.event;u.on("all",function(d,h,g,m){var _=m||g,b=$0({event:d},_);[o,i].map(function(C){return C.trigger(c,h,b)})})})},e.prototype.__remove=function(t,n){var i=this;n===void 0&&(n={});var o=this.em,a=(0,z.isString)(t)?this.get(t):t,l=function(){return a&&i.all.remove(a,n),a};return!n.silent&&(o==null||o.trigger(this.events.removeBefore,a,l,n)),!n.abort&&l()},e.prototype.__catchAllEvent=function(t,n,i,o){var a=this,l=a.em,u=a.events,c=o||i;l&&u.all&&l.trigger(u.all,{event:t,model:n,options:c}),this.__onAllEvent()},e.prototype.__appendTo=function(t){var n=this.config.appendTo;if(n){var i=(0,z.isElement)(n)?n:document.querySelector(n);if(!i)return this.__logWarn('"appendTo" element not found');i.appendChild(this.render(t))}},e.prototype.__onAllEvent=function(){},e.prototype._createId=function(t){t===void 0&&(t=16);var n=this.getAll(),i=n.length+t,o=this.getAllMap(),a;do a=(0,Vt.createId)(i);while(o[a]);return a},e.prototype.__listenAdd=function(t,n){var i=this;t.on("add",function(o,a,l){return i.em.trigger(n,o,l)})},e.prototype.__listenRemove=function(t,n){var i=this;t.on("remove",function(o,a,l){return i.em.trigger(n,o,l)})},e.prototype.__listenUpdate=function(t,n){var i=this;t.on("change",function(o,a){return i.em.trigger(n,o,o.changedAttributes(),a)})},e.prototype.__destroy=function(){var t;this.cls.forEach(function(n){n.stopListening(),n.reset()}),(t=this.view)===null||t===void 0||t.remove(),this.view=void 0},e}(FA),T3=function(){return{stylePrefix:"cv-",scripts:[],styles:[],customBadgeLabel:void 0,autoscrollLimit:50,extHl:!1,frameContent:"<!DOCTYPE html>",frameStyle:`
    body { background-color: #fff }
    * ::-webkit-scrollbar-track { background: rgba(0, 0, 0, 0.1) }
    * ::-webkit-scrollbar-thumb { background: rgba(255, 255, 255, 0.2) }
    * ::-webkit-scrollbar { width: 10px }
  `,notTextable:["button","a","input[type=checkbox]","input[type=radio]"],allowExternalDrop:!0}};const A3=T3;var xs=We(7058),k3=function(){return{default:"",devices:[{id:"desktop",name:"Desktop",width:""},{id:"tablet",name:"Tablet",width:"770px",widthMedia:"992px"},{id:"mobileLandscape",name:"Mobile landscape",width:"568px",widthMedia:"768px"},{id:"mobilePortrait",name:"Mobile portrait",width:"320px",widthMedia:"480px"}]}};const D3=k3;var P3=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),M3=function(r){P3(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.defaults=function(){return{name:"",width:null,height:"",widthMedia:null,priority:null}},e.prototype.initialize=function(){var t=this;this.get("widthMedia")===null&&this.set("widthMedia",this.get("width")),this.get("width")===null&&this.set("width",this.get("widthMedia")),!this.get("priority")&&this.set("priority",parseFloat(this.get("widthMedia"))||0);var n=["width","height","widthMedia"];n.forEach(function(i){return t.checkUnit(i)})},e.prototype.checkUnit=function(t){var n=this.get(t)||"",i=(parseFloat(n)||0).toString()===n.toString();i&&this.set(t,"".concat(n,"px"))},e.prototype.getName=function(){return this.get("name")||this.get("id")},e.prototype.getWidthMedia=function(){return this.get("widthMedia")||""},e}(te.Kx);const WA=M3;var R3=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),qA=function(r){R3(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e}(te.pM);const Px=qA;qA.prototype.model=WA;var L3=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),N3=function(r,e){return Object.defineProperty?Object.defineProperty(r,"raw",{value:e}):r.raw=e,r},j3=function(r){L3(e,r);function e(t){var n=r.call(this,t)||this;return n.config=t.config||{},n.em=n.config.em,n.ppfx=n.config.pStylePrefix||"",n.listenTo(n.em,"change:device",n.updateSelect),n}return e.prototype.template=function(t){var n=t.ppfx,i=t.label;return di(Mx||(Mx=N3([`
      <div class="`,'device-label">',`</div>
      <div class="`,"field ",`select">
        <span id="`,`input-holder">
          <select class="`,`devices"></select>
        </span>
        <div class="`,`sel-arrow">
          <div class="`,`d-s-arrow"></div>
        </div>
      </div>
      <button style="display:none" class="`,`add-trasp" data-add-trasp>+</button>
    `],[`
      <div class="`,'device-label">',`</div>
      <div class="`,"field ",`select">
        <span id="`,`input-holder">
          <select class="`,`devices"></select>
        </span>
        <div class="`,`sel-arrow">
          <div class="`,`d-s-arrow"></div>
        </div>
      </div>
      <button style="display:none" class="`,`add-trasp" data-add-trasp>+</button>
    `])),n,i,n,n,n,n,n,n,n)},e.prototype.events=function(){return{change:"updateDevice","click [data-add-trasp]":"startAdd"}},e.prototype.startAdd=function(){},e.prototype.updateDevice=function(){var t=this.em;if(t){var n=this.devicesEl;t.set("device",n?n.val():"")}},e.prototype.updateSelect=function(){var t=this,n=t.em,i=t.devicesEl;if(n&&n.getDeviceModel&&i){var o=n.getDeviceModel();i.val(o?o.get("id"):"")}},e.prototype.getOptions=function(){var t=this,n=t.collection,i=t.em,o="";return n.forEach(function(a){var l=a.attributes,u=l.name,c=l.id,d=i&&i.t&&i.t("deviceManager.devices.".concat(c))||u;o+='<option value="'.concat(c||u,'">').concat(d,"</option>")}),o},e.prototype.render=function(){var t=this,n=t.em,i=t.ppfx,o=t.$el,a=t.el,l=n&&n.t&&n.t("deviceManager.device");return o.html(this.template({ppfx:i,label:l})),this.devicesEl=o.find(".".concat(i,"devices")),this.devicesEl.append(this.getOptions()),this.devicesEl.val(n.get("device")),a.className="".concat(i,"devices-c"),this},e}(te.Ss);const V3=j3;var Mx,B3=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Lf=function(){return Lf=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Lf.apply(this,arguments)},KA="device",Bg="".concat(KA,":"),U3="".concat(Bg,"select"),GA="".concat(Bg,"update"),I3="".concat(Bg,"add"),YA="".concat(Bg,"remove"),z3="".concat(YA,":before"),H3="change:device",F3={all:KA,select:U3,update:GA,add:I3,remove:YA,removeBefore:z3},W3=function(r){B3(e,r);function e(t){var n,i=r.call(this,t,"DeviceManager",new Px,F3,D3())||this;return i.Device=WA,i.Devices=Px,i.storageKey="",i.devices=i.all,(n=i.config.devices)===null||n===void 0||n.forEach(function(o){return i.add(o,{silent:!0})}),i.select(i.config.default||i.devices.at(0)),t.on(H3,i._onSelect,i),i}return e.prototype._onSelect=function(t,n,i){var o=this,a=o.em,l=o.events,u=t.previous("device"),c=this.get(n),d=l.select;a.trigger(d,c,this.get(u)),this.__catchAllEvent(d,c,i)},e.prototype.add=function(t,n){n===void 0&&(n={});var i,o=n;if((0,z.isString)(t)){var a=n;o=arguments[2]||{},i=Lf(Lf({},o),{id:t,name:o.name||t,width:a})}else i=t;return i.id||(i.id=i.name||this._createId()),this.devices.add(i,o)},e.prototype.get=function(t){var n=this.getAll().filter(function(i){return i.get("name")===t})[0];return n||this.devices.get(t)||null},e.prototype.remove=function(t,n){return n===void 0&&(n={}),this.__remove(t,n)},e.prototype.getDevices=function(){return this.devices.models},e.prototype.select=function(t,n){n===void 0&&(n={});var i=(0,z.isString)(t)?this.get(t):t;return i&&this.em.set("device",i.get("id"),n),this},e.prototype.getSelected=function(){return this.get(this.em.get("device"))},e.prototype.getAll=function(){return this.devices},e.prototype.render=function(){var t,n=this.em;return(t=this.view)===null||t===void 0||t.remove(),this.view=new V3({collection:this.devices,config:Lf({em:n},this.config)}),this.view.render().el},e.prototype.destroy=function(){this.__destroy()},e}(Ea);const q3=W3;var J0;(function(r){r.add="page:add",r.addBefore="page:add:before",r.remove="page:remove",r.removeBefore="page:remove:before",r.select="page:select",r.selectBefore="page:select:before",r.update="page:update",r.all="page"})(J0||(J0={}));const Q0=J0;var K3=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),G3=function(r){K3(e,r);function e(t,n,i){return r.call(this,n,{module:t,modelConstructor:i})||this}return e.prototype.add=function(t,n){var i=this,o,a=(0,z.isArray)(t)?t:(0,z.isUndefined)(t)?void 0:[t];return a=(o=a==null?void 0:a.map(function(l){return l instanceof i.newModel?l:new i.newModel(i.module,l)}))!==null&&o!==void 0?o:[void 0],r.prototype.add.call(this,(0,z.isArray)(t)?a:a[0],n)},e.prototype.preinitialize=function(t,n){this.newModel=n.modelConstructor,this.module=n.module},e}(te.pM);const Ug=G3;var Y3=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),t_=function(){return t_=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},t_.apply(this,arguments)},Rx=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))},Lx="__aw",Nx="__ah",jx=function(r,e){var t,n=r.get(e),i=(t=r.view)===null||t===void 0?void 0:t.el[e==="width"?"offsetWidth":"offsetHeight"];return(0,z.isNumber)(n)?n:(0,z.isString)(n)&&n.endsWith("px")?parseFloat(n):i||0},X3=function(r){Y3(e,r);function e(t,n){var i=r.call(this,t,n)||this,o=i.em,a=i.attributes,l=a.styles,u=a.component,c=o.Components,d=c.getConfig(),h=o.Css.getAll(),g={},m={em:o,config:d,frame:i,idMap:g};if(!(0,Vt.isComponent)(u)){var _=(0,Vt.isObject)(u)?u:{components:u};!_.type&&(_.type="wrapper");var b=c.getType("wrapper").model;i.set("component",new b(_,m))}if(!l)i.set("styles",h);else if(!(0,Vt.isObject)(l)){var C=l;(0,z.keys)(g).length&&(C=(0,z.isString)(C)?o.Parser.parseCss(C):C,o.Css.checkId(C,{idMap:g})),h.add(C),i.set("styles",h)}return!n.width&&i.set(Lx,1),!n.height&&i.set(Nx,1),!i.id&&i.set("id",(0,Vt.createId)()),i}return e.prototype.defaults=function(){return{x:0,y:0,changesCount:0,attributes:{},width:null,height:null,head:[],component:"",styles:"",refFrame:null,_undo:!0,_undoexc:["changesCount"]}},Object.defineProperty(e.prototype,"width",{get:function(){return jx(this,"width")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return jx(this,"height")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"head",{get:function(){return this.get("head")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"refFrame",{get:function(){return this.get("refFrame")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){var t=this.refFrame;return(t==null?void 0:t.getComponent())||this.getComponent()},enumerable:!1,configurable:!0}),e.prototype.initRefs=function(){var t=this.refFrame;if((0,z.isString)(t)){var n=this.module.framesById[t];n&&this.set({refFrame:n},{silent:!0})}},e.prototype.getBoxRect=function(){var t=this.attributes,n=t.x,i=t.y,o=this,a=o.width,l=o.height;return{x:n,y:i,width:a,height:l}},e.prototype.onRemove=function(){!this.refFrame&&this.getComponent().remove({root:1})},e.prototype.changesUp=function(t){t===void 0&&(t={}),!(t.temporary||t.noCount||t.avoidStore)&&this.set("changesCount",this.get("changesCount")+1)},e.prototype.getComponent=function(){return this.get("component")},e.prototype.getStyles=function(){return this.get("styles")},e.prototype.disable=function(){this.trigger("disable")},e.prototype.remove=function(){var t;(t=this.view)===null||t===void 0||t.remove(),this.view=void 0;var n=this.collection;return n&&n.remove(this)},e.prototype.getHead=function(){return Rx([],this.head,!0)},e.prototype.setHead=function(t){return this.set("head",Rx([],t,!0))},e.prototype.addHeadItem=function(t){this.head.push(t)},e.prototype.getHeadByAttr=function(t,n,i){return this.head.filter(function(o){return o.attributes&&o.attributes[t]==n&&(!i||i===o.tag)})[0]},e.prototype.removeHeadByAttr=function(t,n,i){var o=this.getHeadByAttr(t,n,i),a=this.head.indexOf(o);a>=0&&this.head.splice(a,1)},e.prototype.addLink=function(t){var n="link";!this.getHeadByAttr("href",t,n)&&this.addHeadItem({tag:n,attributes:{href:t,rel:"stylesheet"}})},e.prototype.removeLink=function(t){this.removeHeadByAttr("href",t,"link")},e.prototype.addScript=function(t){var n="script";!this.getHeadByAttr("src",t,n)&&this.addHeadItem({tag:n,attributes:{src:t}})},e.prototype.removeScript=function(t){this.removeHeadByAttr("src",t,"script")},e.prototype.getPage=function(){var t;return(t=this.collection)===null||t===void 0?void 0:t.page},e.prototype._emitUpdated=function(t){t===void 0&&(t={}),this.em.trigger("frame:updated",t_({frame:this},t))},e.prototype.hasAutoHeight=function(){var t=this.attributes.height;return!!(t==="auto"||this.config.infiniteCanvas)},e.prototype.toJSON=function(t){t===void 0&&(t={});var n=xs.A.prototype.toJSON.call(this,t),i=(0,z.result)(this,"defaults");return t.fromUndo&&delete n.component,delete n.styles,delete n.changesCount,n[Lx]&&delete n.width,n[Nx]&&delete n.height,n.refFrame&&(n.refFrame=n.refFrame.id,delete n.component),(0,z.forEach)(n,function(o,a){a.indexOf("_")===0&&delete n[a]}),(0,z.forEach)(i,function(o,a){n[a]===o&&delete n[a]}),(0,z.forEach)(["attributes","head"],function(o){(0,z.isEmpty)(n[o])&&delete n[o]}),n},e}(xs.A);const XA=X3;var Z3=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),$3=function(r){Z3(e,r);function e(t,n){n===void 0&&(n=[]);var i=r.call(this,t,n,XA)||this;return i.loadedItems=0,i.itemsToLoad=0,(0,z.bindAll)(i,"itemLoaded"),i.on("add",i.onAdd),i.on("reset",i.onReset),i.on("remove",i.onRemove),i.forEach(function(o){return i.onAdd(o)}),i}return e.prototype.onAdd=function(t){this.module.framesById[t.id]=t},e.prototype.onReset=function(t,n){var i=this,o=(n==null?void 0:n.previousModels)||[];o.map(function(a){return i.onRemove(a)})},e.prototype.onRemove=function(t){t.onRemove(),delete this.module.framesById[t.id]},e.prototype.initRefs=function(){this.forEach(function(t){return t.initRefs()})},e.prototype.itemLoaded=function(){this.loadedItems++,this.loadedItems>=this.itemsToLoad&&(this.trigger("loaded:all"),this.listenToLoadItems(!1))},e.prototype.listenToLoad=function(){this.loadedItems=0,this.itemsToLoad=this.length,this.listenToLoadItems(!0)},e.prototype.listenToLoadItems=function(t){var n=this;this.forEach(function(i){return i[t?"on":"off"]("loaded",n.itemLoaded)})},e}(Ug);const ZA=$3;var J3=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Q3=function(r){J3(e,r);function e(t){var n=this,i=t.em,o=t.config,a=o.scripts,l=o.styles;return n=r.call(this,t,{scripts:a,styles:l})||this,n.set("frames",new ZA(t)),n.on("change:zoom",n.onZoomChange),n.on("change:x change:y",n.onCoordsChange),n.on("change:pointer change:pointerScreen",n.onPointerChange),n.listenTo(i,"change:device ".concat(GA),n.updateDevice),n.listenTo(i,Q0.select,n._pageUpdated),n}return e.prototype.defaults=function(){return{frame:"",frames:[],rulers:!1,zoom:100,x:0,y:0,scripts:[],styles:[],pointer:te.lK,pointerScreen:te.lK}},Object.defineProperty(e.prototype,"frames",{get:function(){return this.get("frames")},enumerable:!1,configurable:!0}),e.prototype.init=function(){var t=this.em,n=t.Pages._initPage();this.set("frames",n.getFrames()),this.updateDevice({frame:n.getMainFrame()})},e.prototype._pageUpdated=function(t,n){var i=this.em;i.setSelected(),i.get("readyCanvas")&&i.stopDefault(),n==null||n.getFrames().map(function(o){return o.disable()}),this.set("frames",t.getFrames()),this.updateDevice({frame:t.getMainFrame()})},e.prototype.updateDevice=function(t){t===void 0&&(t={});var n=this.em,i=n.getDeviceModel(),o=t.frame||n.getCurrentFrameModel();if(o&&i){var a=i.attributes,l=a.width,u=a.height,c=a.minHeight;o.set({width:l,height:u,minHeight:c},{noUndo:1})}},e.prototype.onZoomChange=function(t,n,i){var o=this,a=o.em,l=o.module,u=this.get("zoom");u<1&&this.set("zoom",1),a.trigger(l.events.zoom,{options:i})},e.prototype.onCoordsChange=function(){var t=this,n=t.em,i=t.module;n.trigger(i.events.coords)},e.prototype.onPointerChange=function(){var t=this,n=t.em,i=t.module;n.trigger(i.events.pointer)},e.prototype.getPointerCoords=function(t){t===void 0&&(t=te.x2.World);var n=this.attributes,i=n.pointer,o=n.pointerScreen;return t===te.x2.World?i:o},e}(xs.A);const t5=Q3;var no=We(179),hn=We(2225),e5=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),n5=function(r){e5(e,r);function e(t,n){n===void 0&&(n=[]);var i=r.call(this,t,n,no.A)||this;i.on("add",i.onAdd),i.on("change",i.onChange),i.on("remove",i.onRemove);var o=i.em;i.refreshDbn=(0,z.debounce)(function(){return i.refresh()},0);var a="".concat(hn.I.resize," styleable:change component:input ").concat(hn.I.update," frame:updated undo redo");return i.listenTo(o,a,function(){return i.refreshDbn()}),i}return Object.defineProperty(e.prototype,"em",{get:function(){return this.module.em},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"events",{get:function(){return this.module.events},enumerable:!1,configurable:!0}),e.prototype.refresh=function(){var t=this,n=t.em,i=t.events;n.trigger(i.spot)},e.prototype.onAdd=function(t){this.__trgEvent(this.events.spotAdd,{spot:t})},e.prototype.onChange=function(t){this.__trgEvent(this.events.spotUpdate,{spot:t})},e.prototype.onRemove=function(t){this.__trgEvent(this.events.spotRemove,{spot:t})},e.prototype.__trgEvent=function(t,n){var i=this.module,o=i.em;o.trigger(t,n),this.refreshDbn()},e}(Ug);const r5=n5;var ev;(function(r){r.dragEnter="canvas:dragenter",r.dragOver="canvas:dragover",r.dragEnd="canvas:dragend",r.dragData="canvas:dragdata",r.drop="canvas:drop",r.spot="canvas:spot",r.spotAdd="canvas:spot:add",r.spotUpdate="canvas:spot:update",r.spotRemove="canvas:spot:remove",r.coords="canvas:coords",r.zoom="canvas:zoom",r.pointer="canvas:pointer",r.refresh="canvas:refresh",r.frameLoad="canvas:frame:load",r.frameLoadHead="canvas:frame:load:head",r.frameLoadBody="canvas:frame:load:body"})(ev||(ev={}));const fp=ev;var i5=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),o5=function(r){i5(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"pfx",{get:function(){return this.ppfx+this.config.stylePrefix||""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ppfx",{get:function(){return this.em.config.stylePrefix||""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"module",{get:function(){var t,n;return(n=(t=this.model)===null||t===void 0?void 0:t.module)!==null&&n!==void 0?n:this.collection.module},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"em",{get:function(){return this.module.em},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"config",{get:function(){return this.module.config},enumerable:!1,configurable:!0}),e.prototype.preinitialize=function(t){this.className=""},e}(te.Ss);const ao=o5;var ae=We(6294),a5=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),s5=function(r){a5(e,r);function e(t,n){t===void 0&&(t={}),n===void 0&&(n=!1);var i=r.call(this,t)||this;return i.itemsView="",i.itemType="type",i.reuseView=!1,i.viewCollection=[],n&&i.listenTo(i.collection,"add",i.addTo),i}return e.prototype.addTo=function(t){this.add(t)},e.prototype.itemViewNotFound=function(t){},e.prototype.add=function(t,n){var i=this,o=i.reuseView,a=i.viewCollection,l=n||null,u=t.get(this.itemType),c;t.view&&o?c=t.view:c=this.renderView(t,u),a.push(c);var d=c.render().el;l?l.appendChild(d):this.$el.append(d)},e.prototype.render=function(){var t=this,n=document.createDocumentFragment();return this.clearItems(),this.$el.empty(),this.collection.length&&this.collection.each(function(i){return t.add(i,n)}),this.$el.append(n),this.onRender(),this},e.prototype.onRender=function(){},e.prototype.onRemoveBefore=function(t,n){},e.prototype.onRemove=function(t,n){},e.prototype.remove=function(t){t===void 0&&(t={});var n=this.viewCollection;return this.onRemoveBefore(n,t),this.clearItems(),te.Ss.prototype.remove.apply(this,t),this.onRemove(n,t),this},e.prototype.clearItems=function(){this.viewCollection},e}(ao);const l5=s5;var u5=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),c5=function(r){u5(e,r);function e(t){t===void 0&&(t={});var n=r.call(this,t)||this;n.config=t.config||{};var i=n.model;return n.listenTo(i,"change",n.render),n.listenTo(i,"destroy remove",n.remove),n.listenTo(i.get("selectors"),"change",n.render),i.setView(n),n}return Object.defineProperty(e.prototype,"frameView",{get:function(){return this.config.frameView},enumerable:!1,configurable:!0}),e.prototype.remove=function(){return r.prototype.remove.call(this),this.model.removeView(this),this},e.prototype.updateStyles=function(){this.render()},e.prototype.tagName=function(){return"style"},e.prototype.render=function(){var t=this,n=t.model,i=t.el,o=n.get("important");return i.innerHTML=n.toCSS({important:o}),this},e}(te.Ss);const $A=c5;var f5=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),d5=function(r){f5(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype._createElement=function(){return document.createTextNode("")},e.prototype.render=function(){var t=this.model,n=t.get("important");return this.el.textContent=t.getDeclaration({important:n}),this},e}($A);const h5=d5;var p5=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),fy=function(r,e){return"".concat(r).concat(e?"-".concat(parseFloat(e)):"")},v5=function(r){p5(e,r);function e(t){var n=r.call(this,t)||this;(0,z.bindAll)(n,"sortRules");var i=t.config||{};n.atRules={},n.config=i,n.em=i.em,n.pfx=i.stylePrefix||"",n.className=n.pfx+"rules";var o=n.collection;return n.listenTo(o,"add",n.addTo),n.listenTo(o,"reset",n.render),n}return e.prototype.addTo=function(t){this.addToCollection(t)},e.prototype.addToCollection=function(t,n){if(this.renderStarted){var i=n||null,o=this.config,a={model:t,config:o},l,u;if(t.get("atRuleType")==="keyframes"){var c=t.getAtRule(),d=this.atRules[c];if(!d){var h=document.createElement("style");d=document.createTextNode(""),h.appendChild(document.createTextNode("".concat(c,"{"))),h.appendChild(d),h.appendChild(document.createTextNode("}")),this.atRules[c]=d,l=h}u=new h5(a),d.appendData(u.render().el.textContent)}else u=new $A(a),l=u.render().el;var g=this.className,m=t.get("mediaText"),_=fy(g),b=_;if(m&&(b=fy(g,this.getMediaWidth(m))),l){var C=i||this.el,w=void 0;try{w=C.querySelector("#".concat(b))}catch{}w||(w=C.querySelector("#".concat(_))),w==null||w.appendChild(l)}return l}},e.prototype.getMediaWidth=function(t){return t&&t.replace("(".concat(this.em.getConfig().mediaCondition,": "),"").replace(")","")},e.prototype.sortRules=function(t,n){var i=this.em,o=(i.getConfig().mediaCondition||"").indexOf("min-width")!==-1;if(!o)return 0;var a=o?t:n,l=o?n:t;return a-l},e.prototype.render=function(){var t=this;this.renderStarted=!0,this.atRules={};var n=this,i=n.em,o=n.$el,a=n.collection,l=this.className,u=document.createDocumentFragment();o.empty();var c=i.Devices.getAll().pluck("priority").sort(this.sortRules);return c.every(function(d){return d})&&c.unshift(0),c.forEach(function(d){return u.appendChild((0,ae.a_)("div",{id:fy(l,d)}))}),a.each(function(d){return t.addToCollection(d,u)}),o.append(u),o.attr("class",l),this},e}(te.Ss);const JA=v5;var QA="text/html",g5=QA;const m5=function(r,e){e===void 0&&(e={});var t=new DOMParser,n=e.htmlType||g5,i=n===QA,o=i?r:"<div>".concat(r,"</div>"),a=t.parseFromString(o,n),l;if(i){if(e.asDocument)return a;var u=a.head,c=a.body,d=u.querySelectorAll("script");(0,z.each)(d,function(g){return c.appendChild(g)});var h=[];(0,z.each)(u.children,function(g){return h.push(g)}),(0,z.each)(h,function(g,m){return c.insertBefore(g,c.children[m])}),l=c}else l=a.firstChild;return l};var _s;(function(r){r.html="parse:html",r.htmlRoot="parse:html:root",r.htmlBefore="parse:html:before",r.css="parse:css",r.cssBefore="parse:css:before",r.all="parse"})(_s||(_s={}));var mo=function(){return mo=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},mo.apply(this,arguments)},y5="data-gjs-",_5=function(r,e){return e===void 0&&(e={}),{compTypes:[],modelAttrStart:y5,getPropAttribute:function(t,n){var i=t.replace(this.modelAttrStart,""),o=(n==null?void 0:n.length)||0,a=n==null?void 0:n.substring(0,1),l=n==null?void 0:n.substring(o-1),u=n==="true"?!0:n==="false"?!1:n;try{u=a=="{"&&l=="}"||a=="["&&l=="]"?JSON.parse(u):u}catch{}return{name:i,value:u}},splitPropsFromAttr:function(t){var n=this;t===void 0&&(t={});var i={},o={};return(0,z.each)(t,function(a,l){if(l.indexOf(n.modelAttrStart)===0){var u=n.getPropAttribute(l,a);i[u.name]=u.value}else o[l]=a}),{props:i,attrs:o}},parseStyle:function(t){for(var n={};t.indexOf("/*")>=0;){var i=t.indexOf("/*"),o=t.indexOf("*/")+2;t=t.replace(t.slice(i,o),"")}for(var a=t.split(";"),l=0,u=a.length;l<u;l++){var c=a[l].trim();if(c){var d=c.split(":"),h=d[0].trim(),g=d.slice(1).join(":").trim();n[h]?((0,z.isArray)(n[h])||(n[h]=[n[h]]),n[h].push(g)):n[h]=g}}return n},parseClass:function(t){for(var n=[],i=t.split(" "),o=0,a=i.length;o<a;o++){var l=i[o].trim();l&&n.push(l)}return n},parseNodeAttr:function(t,n){for(var i,o,a=n||{},l=t.attributes||[],u=l.length,c=!!(!((i=e==null?void 0:e.optionsHtml)===null||i===void 0)&&i.convertDataGjsAttributesHyphens),d=c&&!!a.type&&(0,z.result)((o=r==null?void 0:r.Components.getType(a.type))===null||o===void 0?void 0:o.model.prototype,"defaults")||{},h=0;h<u;h++){var g=l[h].nodeName,m=l[h].nodeValue;if(g=="style")a.style=this.parseStyle(m);else if(g=="class")a.classes=this.parseClass(m);else{if(g=="contenteditable")continue;if(g.indexOf(this.modelAttrStart)===0){var _=this.getPropAttribute(g,m),b=_.name;if(c&&!(b in d)){var C=(0,ae._I)(b);b=C in d?C:b}a[b]=_.value}else m===""&&t[g]===!0&&(m=!0),a.attributes||(a.attributes={}),a.attributes[g]=m}}return a},detectNode:function(t,n){var i;n===void 0&&(n={});var o=this.compTypes,a={};if(o){var l=(i=t.getAttribute)===null||i===void 0?void 0:i.call(t,"".concat(this.modelAttrStart,"type"));if(l)a={type:l};else for(var u=0;u<o.length;u++){var c=o[u],d=c.model.isComponent(t,n);if(d){typeof d!="object"&&(d={type:c.id}),a=d;break}}}return a},parseNode:function(t,n){var i;n===void 0&&(n={});var o=((i=t.content)===null||i===void 0?void 0:i.childNodes)||t.childNodes,a=o.length,l=this.detectNode(t,n);if(!l.tagName){var u=t.tagName||"",c=t.namespaceURI||"";l.tagName=u&&c==="http://www.w3.org/1999/xhtml"?u.toLowerCase():u}if(l=this.parseNodeAttr(t,l),!a&&"".concat(t.outerHTML).slice(-2)==="/>"&&(l.void=!0),a&&!l.components&&!n.skipChildren){var d=o[0];a===1&&d.nodeType===3?(!l.type&&(l.type="text"),l.components={type:"textnode",content:d.nodeValue}):l.components=this.parseNodes(t,mo(mo({},n),{inSvg:n.inSvg||l.type==="svg"}))}var h=l.components;if(!l.type&&(h!=null&&h.length)){for(var g=e.textTypes,m=g===void 0?[]:g,_=e.textTags,b=_===void 0?[]:_,C=!0,w=!1,x=0;x<h.length;x++){var O=h[x],k=O.type;if(!m.includes(k)&&!b.includes(O.tagName)){C=!1;break}k==="textnode"&&(w=!0)}C&&w&&(l.type="text")}return l},parseNodes:function(t,n){var i;n===void 0&&(n={});for(var o=[],a=((i=t.content)===null||i===void 0?void 0:i.childNodes)||t.childNodes,l=a.length,u=0;u<l;u++){var c=a[u],d=o[o.length-1],h=this.parseNode(c,n);if(h.type==="textnode"){if((d==null?void 0:d.type)==="textnode"){d.content+=h.content;continue}if(!n.keepEmptyTextNodes){var g=c.nodeValue||"",m=u===0||u===l-1,_=g.includes(`
`);if(g!=" "&&!g.trim()&&(m||_))continue}}!h.tagName&&(0,z.isUndefined)(h.content)||o.push(h)}return o},parse:function(t,n,i){var o,a,l;i===void 0&&(i={});var u=(r==null?void 0:r.get("Config"))||{},c=r==null?void 0:r.Parser,d={html:[]},h=mo(mo({},e),i),g=mo(mo(mo({},e.optionsHtml),{htmlType:((o=e.optionsHtml)===null||o===void 0?void 0:o.htmlType)||e.htmlType}),i),m=mo(mo({},g),{asDocument:this.__checkAsDocument(t,g)}),_=m.preParser,b=m.asDocument,C={input:(0,z.isFunction)(_)?_(t,{editor:r==null?void 0:r.getEditor()}):t};c==null||c.__emitEvent(_s.htmlBefore,C);var w=C.input,x=(0,z.isFunction)(h.parserHtml)?h.parserHtml(w,m):m5(w,m),O=x,k=x;b&&(O=k.documentElement,d.doctype=(0,ae.LJ)(k.doctype));var V=O.querySelectorAll("script"),Z=V.length,$=(0,z.isUndefined)(u.allowScripts)?m.allowScripts:u.allowScripts;if(!$)for(;Z--;)(a=V[Z].parentNode)===null||a===void 0||a.removeChild(V[Z]);if((!m.allowUnsafeAttr||!m.allowUnsafeAttrValue)&&this.__sanitizeNode(O,m),n){for(var Y=O.querySelectorAll("style"),U=Y.length,Q="";U--;)Q=Y[U].innerHTML+Q,(l=Y[U].parentNode)===null||l===void 0||l.removeChild(Y[U]);Q&&(d.css=n.parse(Q))}c==null||c.__emitEvent(_s.htmlRoot,{input:w,root:O});var H=[];if(b)d.head=this.parseNode(k.head,h),d.root=this.parseNodeAttr(O),H=this.parseNode(k.body,h);else{var D=this.parseNodes(O,h);H=D.length===1&&!h.returnArray?D[0]:D}return d.html=H,c==null||c.__emitEvent(_s.html,{input:w,output:d,options:m}),d},__sanitizeNode:function(t,n){var i=this,o=t.attributes||[],a=t.childNodes||[],l=[];(0,z.each)(o,function(u){var c=u.nodeName||"",d=u.nodeValue||"";!n.allowUnsafeAttr&&c.startsWith("on")&&l.push(c),!n.allowUnsafeAttrValue&&d.startsWith("javascript:")&&l.push(c)}),l.map(function(u){return t.removeAttribute(u)}),(0,z.each)(a,function(u){return i.__sanitizeNode(u,n)})},__checkAsDocument:function(t,n){if((0,Vt.isDef)(n.asDocument))return n.asDocument;if((0,z.isFunction)(n.detectDocument))return!!n.detectDocument(t);if(n.detectDocument)return t.toLowerCase().trim().startsWith("<!doctype")}}};const t2=_5;var ec;(function(r){r.add="data:add",r.addBefore="data:add:before",r.remove="data:remove",r.removeBefore="data:remove:before",r.update="data:update",r.path="data:path",r.all="data"})(ec||(ec={}));var e_="data-collection",Nf="data-collection-item",eu="dataResolver",Vx=function(){function r(e,t,n){this.operator=e,this.statements=t,this.opts=n}return r.prototype.evaluate=function(){var e=this,t=this.statements.map(function(n){var i=new e2({condition:n},e.opts);return i.evaluate()});return this.operator.evaluate(t)},r}(),Ig=function(){function r(e,t){this.operationString=e,this.em=t.em}return r.prototype.getOperations=function(){return V5(this.operationsEnum)},r}(),b5=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),nv;(function(r){r.equals="equals",r.isTruthy="isTruthy",r.isFalsy="isFalsy",r.isDefined="isDefined",r.isNull="isNull",r.isUndefined="isUndefined",r.isArray="isArray",r.isObject="isObject",r.isString="isString",r.isNumber="isNumber",r.isBoolean="isBoolean",r.isDefaultValue="isDefaultValue"})(nv||(nv={}));var w5=function(r){b5(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.operationsEnum=nv,t}return e.prototype.evaluate=function(t,n){var i;switch(this.operationString){case"equals":return t===n;case"isTruthy":return!!t;case"isFalsy":return!t;case"isDefined":return t!=null;case"isNull":return t===null;case"isUndefined":return t===void 0;case"isArray":return Array.isArray(t);case"isObject":return typeof t=="object"&&t!==null;case"isString":return typeof t=="string";case"isNumber":return typeof t=="number";case"isBoolean":return typeof t=="boolean";case"isDefaultValue":return t instanceof Cl&&t.get("defaultValue")===n;default:return(i=this.em)===null||i===void 0||i.logWarning("Unsupported generic operation: ".concat(this.operationString)),!1}},e}(Ig),S5=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),vu;(function(r){r.and="and",r.or="or",r.xor="xor"})(vu||(vu={}));var C5=function(r){S5(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.operationsEnum=vu,t}return e.prototype.evaluate=function(t){if(!(t!=null&&t.length))return!1;switch(this.operationString){case vu.and:return t.every(Boolean);case vu.or:return t.some(Boolean);case vu.xor:return t.filter(Boolean).length===1;default:return this.em.logWarning("Unsupported boolean operation: ".concat(this.operationString)),!1}},e}(Ig),x5=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ia;(function(r){r.greaterThan=">",r.lessThan="<",r.greaterThanOrEqual=">=",r.lessThanOrEqual="<=",r.equals="=",r.notEquals="!="})(ia||(ia={}));var O5=function(r){x5(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.operationsEnum=ia,t}return e.prototype.evaluate=function(t,n){if(typeof t!="number")return!1;switch(this.operationString){case ia.greaterThan:return t>n;case ia.lessThan:return t<n;case ia.greaterThanOrEqual:return t>=n;case ia.lessThanOrEqual:return t<=n;case ia.equals:return t===n;case ia.notEquals:return t!==n;default:return this.em.logWarning("Unsupported number operation: ".concat(this.operationString)),!1}},e}(Ig),E5=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),_o;(function(r){r.contains="contains",r.startsWith="startsWith",r.endsWith="endsWith",r.matchesRegex="matchesRegex",r.equalsIgnoreCase="equalsIgnoreCase",r.trimEquals="trimEquals"})(_o||(_o={}));var T5=function(r){E5(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.operationsEnum=_o,t}return e.prototype.evaluate=function(t,n){if(typeof t!="string")return!1;switch(this.operationString){case _o.contains:return t.includes(n);case _o.startsWith:return t.startsWith(n);case _o.endsWith:return t.endsWith(n);case _o.matchesRegex:return n||this.em.logWarning("Regex pattern must be provided."),new RegExp(n??"").test(t);case _o.equalsIgnoreCase:return t.toLowerCase()===n.toLowerCase();case _o.trimEquals:return t.trim()===n.trim();default:return this.em.logWarning("Unsupported string operation: ".concat(this.operationString)),!1}},e}(Ig),A5=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),e2=function(r){A5(e,r);function e(t,n){var i,o=r.call(this,t)||this;return o.collectionsStateMap={},o.em=n.em,o.collectionsStateMap=(i=n.collectionsStateMap)!==null&&i!==void 0?i:{},o}return e.prototype.evaluate=function(){var t=this.get("condition");if(!t||(0,z.isBoolean)(t))return!!t;var n=this.getOperator();return n?n.evaluate(this.getResolvedLeftValue(),this.getResolvedRightValue()):!1},e.prototype.getDependentDataVariables=function(){var t=this.get("condition");return t?this.extractDataVariables(t):[]},e.prototype.getOperations=function(){var t=this.getOperator();return!t||t instanceof Vx?[]:t.getOperations()},e.prototype.updateCollectionStateMap=function(t){this.collectionsStateMap=t},e.prototype.getOperator=function(){var t={em:this.em,collectionsStateMap:this.collectionsStateMap},n=this.get("condition");if(!(!n||(0,z.isBoolean)(n))){var i;if(this.isLogicGroup(n)){var o=n.logicalOperator,a=n.statements,l=new C5(o,t);i=new Vx(l,a,t)}if(this.isExpression(n)){var u=n.left,l=n.operator,c=iv(u,t);i=this.resolveOperator(c,l)}return i}},e.prototype.resolveOperator=function(t,n){var i=this.em;if(this.isOperatorInEnum(n,nv))return new w5(n,{em:i});if(typeof t=="number")return new O5(n,{em:i});if(typeof t=="string")return new T5(n,{em:i})},e.prototype.extractDataVariables=function(t){var n=this,i=[];return this.isExpression(t)?(vl(t.left)&&i.push(t.left),vl(t.right)&&i.push(t.right)):this.isLogicGroup(t)&&t.statements.forEach(function(o){return i.push.apply(i,n.extractDataVariables(o))}),i},e.prototype.isLogicGroup=function(t){return t&&typeof t.logicalOperator<"u"&&Array.isArray(t.statements)},e.prototype.isExpression=function(t){return t&&typeof t.left<"u"&&typeof t.operator=="string"},e.prototype.isOperatorInEnum=function(t,n){return Object.values(n).includes(t)},e.prototype.resolveExpressionSide=function(t){var n=this.get("condition"),i=this,o=i.em,a=i.collectionsStateMap;if(!n||typeof n=="boolean")return n;if(n&&typeof n=="object"&&t in n){var l=n[t];return iv(l,{em:o,collectionsStateMap:a})}},e.prototype.getResolvedLeftValue=function(){return this.resolveExpressionSide("left")},e.prototype.getResolvedRightValue=function(){return this.resolveExpressionSide("right")},e.prototype.toJSON=function(t){var n=this.get("condition");if(typeof n=="object"){var i=JSON.parse(JSON.stringify(n));return i}return n},e}(te.Kx),k5=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Os="data-condition",D5="data-condition-evaluation-changed",dp="data-condition-output-changed",Wb=function(r){k5(e,r);function e(t,n){var i,o=r.call(this,t,n)||this;o.collectionsStateMap={},o.resolverListeners=[],o._previousEvaluationResult=null,o.em=n.em,o.collectionsStateMap=(i=n.collectionsStateMap)!==null&&i!==void 0?i:{};var a=t.condition,l=a===void 0?{}:a,u=new e2({condition:l},{em:o.em});return o._conditionEvaluator=u,o.listenToDataVariables(),o.listenToPropsChange(),o}return e.prototype.defaults=function(){return{type:Os,condition:{left:"",operator:_o.equalsIgnoreCase,right:""},ifTrue:{},ifFalse:{}}},e.prototype.getCondition=function(){return this._conditionEvaluator.get("condition")},e.prototype.getIfTrue=function(){return this.get("ifTrue")},e.prototype.getIfFalse=function(){return this.get("ifFalse")},e.prototype.getOperations=function(){return this._conditionEvaluator.getOperations()},e.prototype.setCondition=function(t){this.set("condition",t),this._conditionEvaluator.set("condition",t),this.trigger(dp,this.getDataValue())},e.prototype.setIfTrue=function(t){this.set("ifTrue",t)},e.prototype.setIfFalse=function(t){this.set("ifFalse",t)},e.prototype.isTrue=function(){return this._conditionEvaluator.evaluate()},e.prototype.getDataValue=function(t){t===void 0&&(t=!1);var n=this,i=n.em,o=n.collectionsStateMap,a={em:i,collectionsStateMap:o},l=this.getIfTrue(),u=this.getIfFalse(),c=this.isTrue();return t?c?l:u:iv(c?l:u,a)},e.prototype.resolvesFromCollection=function(){return!1},e.prototype.updateCollectionsStateMap=function(t){this.collectionsStateMap=t,this._conditionEvaluator.updateCollectionStateMap(t),this.listenToDataVariables(),this.emitConditionEvaluationChange()},e.prototype.listenToPropsChange=function(){var t=this;this.on("change:condition",this.handleConditionChange.bind(this)),this.on("change:condition change:ifTrue change:ifFalse",function(){t.listenToDataVariables()})},e.prototype.handleConditionChange=function(){this.setCondition(this.get("condition"))},e.prototype.listenToDataVariables=function(){this.cleanupListeners(),this.setupConditionDataVariableListeners(),this.setupOutputDataVariableListeners()},e.prototype.setupConditionDataVariableListeners=function(){var t=this;this._conditionEvaluator.getDependentDataVariables().forEach(function(n){t.addListener(n,function(){t.emitConditionEvaluationChange()})})},e.prototype.setupOutputDataVariableListeners=function(){var t=this.isTrue();this.setupOutputVariableListener(this.getIfTrue(),t),this.setupOutputVariableListener(this.getIfFalse(),!t)},e.prototype.setupOutputVariableListener=function(t,n){var i=this;vl(t)&&this.addListener(t,function(){n&&i.trigger(dp,t)})},e.prototype.addListener=function(t,n){var i=new vc({em:this.em,resolver:new Cl(t,{em:this.em,collectionsStateMap:this.collectionsStateMap}),onUpdate:n});this.resolverListeners.push(i)},e.prototype.emitConditionEvaluationChange=function(){var t=this.isTrue();this._previousEvaluationResult!==t&&(this._previousEvaluationResult=t,this.trigger(D5,t),this.emitOutputValueChange())},e.prototype.emitOutputValueChange=function(){var t=this.getDataValue();this.trigger(dp,t)},e.prototype.cleanupListeners=function(){this.resolverListeners.forEach(function(t){return t.destroy()}),this.resolverListeners=[]},e.prototype.toJSON=function(){var t=this.getIfTrue(),n=this.getIfFalse();return{type:Os,condition:this._conditionEvaluator.toJSON(),ifTrue:t,ifFalse:n}},e}(te.Kx),qb="data-condition-true-content",Kb="data-condition-false-content",Dr=function(){return Dr=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Dr.apply(this,arguments)},n2=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))},Qs=function(r){return(0,z.isArray)(r.get(Wr))},rv=function(r){return!!r.get(ci)},Vo=function(r){return!!(Qs(r)||rv(r))},pl=function(r){var e=r.parent();return Vo(r)&&(!e||!Vo(e))},of=function(r){r.__symbReady||(r.on("change",r.__upSymbProps),r.__symbReady=!0)},ro=function(r){var e=r.get(ci);if(e&&(0,z.isString)(e)){var t=r.__getAllById()[e];t?(e=t,r.set(ci,t)):e=0}return e||void 0},pi=function(r){var e=r==null?void 0:r.get(Wr);return e&&(0,z.isArray)(e)&&(e.forEach(function(t,n){t&&(0,z.isString)(t)&&(e[n]=r.__getAllById()[t])}),e=e.filter(function(t){return t&&!(0,z.isString)(t)})),e||void 0},sd=function(r,e){e===void 0&&(e="");var t=r==null?void 0:r.get(mu),n=e.split(":")[0],i=e!==n?[e,n]:[e];return t===!0||(0,z.isArray)(t)&&i.some(function(o){return t.indexOf(o)>=0})},pa=function(r,e){e===void 0&&(e={});var t=[],n=e.changed;if(e.fromInstance||e.noPropagate||e.fromUndo||n&&sd(r,n))return t;var i=pi(r)||[],o=ro(r),a=o?n2([o],pi(o)||[],!0):i;return t=a.filter(function(l){return l!==r}).filter(function(l){return!(n&&sd(l,n))}),t},ld=function(r,e){for(var t=r,n=r.parent(e);n&&Vo(n);)t=n,n=n.parent(e);return t},zg=function(r,e){e===void 0&&(e={});var t=ro(r),n=t&&pi(t);!e.skipRefs&&n&&t.set(Wr,n.filter(function(i){return i!==r})),r.set(ci,0),r.components().forEach(function(i){return zg(i,e)})},jf=function(r,e,t,n){n===void 0&&(n={});var i=ro(r),o=pi(r);!i&&!o||r.em.log(e,{model:r,toUp:t,context:"symbols",opts:n})},P5=function(r,e){e===void 0&&(e={});var t=r.dataResolverWatchers.getPropsDefsOrValues(Dr({},r.changedAttributes())),n=r.dataResolverWatchers.getAttributesDefsOrValues(Dr({},t.attributes));if(M5(t,n),!(0,Vt.isEmptyObj)(t)){var i=pa(r,e);Bx(t,r),jf(r,"props",i,{opts:e,changed:t}),i.forEach(function(o){var a=Dr({},t);Bx(a,o),o.set(a,Dr({fromInstance:r},e))})}},M5=function(r,e){var t=["status","open",Wr,ci,mu,"attributes"];t.forEach(function(n){return delete r[n]}),delete e.id,(0,Vt.isEmptyObj)(e)||(r.attributes=e)},Bx=function(r,e){(0,z.keys)(r).forEach(function(t){R5(r,t,e)||delete r[t]})},R5=function(r,e,t){var n=function(){var i;if(e==="attributes"){var o=r.attributes;return Object.values(o).some(function(a){return!!(a!=null&&a.collectionId)})}return!!(!((i=r[e])===null||i===void 0)&&i.collectionId)}();return!sd(t,e)||n},L5=function(r,e){e===void 0&&(e={});var t=pa(r,e);jf(r,"classes",t,{opts:e}),t.forEach(function(n){n.set("classes",r.get("classes"),{fromInstance:r})}),r.__changesUp(e)},r2=function(r,e,t,n){var i=n||t||{},o=i.fromInstance,a=i.fromUndo,l={fromInstance:o,fromUndo:a},u=e.opt.temporary;if(n)if(n.add){var m=[],_=!!pi(r),d=pa(r,Dr(Dr({},l),{changed:"components:add"}));if(d.length){var b=ro(e);m=pi(b||e)||[],m=n2([],m,!0),m.push(b||e)}!u&&jf(r,"add",d,{opts:n,addedInstances:m.map(function(Y){return Y.cid}),added:e.cid}),d.forEach(function(Y){var U=ld(Y),Q=m.filter(function(D){var I=ld(D,{prev:1});return U&&I&&I===U})[0],H=Q||e.clone({symbol:!0,symbolInv:_});Y.append(H,Dr({fromInstance:r},n))})}else{var C=ro(e);if(C&&!n.temporary&&C.set(Wr,pi(C).filter(function($){return $!==e})),!pl(e)&&!n.skipRefsUp){var w="components:remove",x=n.index,O=e.parent(),k=Dr({fromInstance:e},n),V=pl(e),Z=function(Y){var U=Y.parent();U&&!sd(U,w)&&Y.remove(k)},d=sd(O,w)?[]:pa(e,l);V&&(d=O&&pa(O,Dr(Dr({},l),{changed:w})),Z=function(Y){var U=Y.components().at(x);U&&U.remove(Dr({fromInstance:O},k))}),!u&&jf(r,"remove",d,{opts:n,removed:e.cid,isSymbNested:V}),d.forEach(Z)}}else{var c=e,d=pa(r,Dr(Dr({},l),{changed:"components:reset"})),h=c.models,g=new Set;jf(r,"reset",d,{components:h}),d.forEach(function($){var Y=$.components(),U=h.map(function(Q,H){return r.get(eu)?Q.clone({symbol:Vo(Q)}):!Vo(Q)||g.has(Q)?(g.add(Q),Q.clone({symbol:!0})):Y.at(H)});Y.reset(U,Dr({fromInstance:r},t))})}r.__changesUp(i)};function ud(r){return typeof r=="object"&&[ji,Os].includes(r==null?void 0:r.type)}function N5(r){return r instanceof Cl||r instanceof Wb}function vl(r){return(r==null?void 0:r.type)===ji}function iv(r,e){return ud(r)?(vl(r)&&Cl.resolveDataResolver(r,e),Yb(r,e)):r}function Gb(r,e){var t,n=r.type,i;switch(n){case ji:i=new Cl(r,e);break;case Os:{i=new Wb(r,e);break}default:(t=e.em)===null||t===void 0||t.logWarning("Unsupported dynamic type: ".concat(n));return}return i}function Yb(r,e){var t=Gb(r,e);return t==null?void 0:t.getDataValue()}var j5=function(r){return!!r&&[Nf,qb,Kb].includes(r)};function V5(r){return Object.keys(r).filter(function(e){return isNaN(Number(e))}).map(function(e){return r[e]})}function B5(r){var e=r.collectionsStateMap;if(!e)return!1;var t=Object.keys(e);if(!t.length)return!1;var n=ro(r);if(!n||n===r)return!1;var i=n.collectionsStateMap,o=Object.keys(i),a=o.every(function(l){return t.includes(l)});return a}function U5(r){var e=ro(r);return e?e.getId():""}function I5(r){var e=B5(r),t=e?U5(r):null;return{shouldSync:e,itemId:t}}var z5=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ov=function(){return ov=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},ov.apply(this,arguments)},ji="data-variable",H5=function(r){z5(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.em=n.em,i.collectionsStateMap=n.collectionsStateMap,i}return e.prototype.defaults=function(){return{type:ji,defaultValue:"",path:"",collectionId:void 0,variableType:void 0}},Object.defineProperty(e.prototype,"path",{get:function(){var t;return(t=this.get("path"))!==null&&t!==void 0?t:""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultValue",{get:function(){var t;return(t=this.get("defaultValue"))!==null&&t!==void 0?t:""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"collectionId",{get:function(){return this.get("collectionId")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"variableType",{get:function(){return this.get("variableType")},enumerable:!1,configurable:!0}),e.prototype.resolvesFromCollection=function(){return!!this.collectionId},e.prototype.updateCollectionsStateMap=function(t){this.collectionsStateMap=t,this.trigger("change")},e.prototype.getResolverPath=function(){var t;if(this.resolvesFromCollection()){var n=this.resolveCollectionVariable();return vl(n)?(t=n.path)!==null&&t!==void 0?t:"":!1}return this.path},e.prototype.toJSON=function(t){var n=this.defaults(),i=r.prototype.toJSON.call(this,t),o=Object.fromEntries(Object.entries(i).filter(function(a){var l=a[0],u=a[1];return u!==n[l]}));return ov(ov({},o),{type:ji})},e.prototype.getDataValue=function(){var t={em:this.em,collectionsStateMap:this.collectionsStateMap};return e.resolveDataResolver({path:this.path,defaultValue:this.defaultValue,collectionId:this.collectionId,variableType:this.variableType},t)},e.resolveDataSourceVariable=function(t,n){var i,o;return n.em.DataSources.getValue((i=t.path)!==null&&i!==void 0?i:"",(o=t.defaultValue)!==null&&o!==void 0?o:"")},e.resolveDataResolver=function(t,n){var i,o,a,l;if(t.collectionId){var u=e.resolveCollectionVariable(t,n);return vl(u)?e.resolveDataSourceVariable({path:(i=u.path)!==null&&i!==void 0?i:"",defaultValue:(o=t.defaultValue)!==null&&o!==void 0?o:""},{em:n.em}):u}return e.resolveDataSourceVariable({path:(a=t.path)!==null&&a!==void 0?a:"",defaultValue:(l=t.defaultValue)!==null&&l!==void 0?l:""},{em:n.em})},e.prototype.resolveCollectionVariable=function(){var t=this,n=t.em,i=t.collectionsStateMap;return e.resolveCollectionVariable(this.attributes,{em:n,collectionsStateMap:i})},e.resolveCollectionVariable=function(t,n){var i=t.collectionId,o=i===void 0?"":i,a=t.variableType,l=t.path,u=t.defaultValue,c=u===void 0?"":u,d=n.em,h=n.collectionsStateMap;if(!h)return c;var g=h[o];return g?a?a==="currentItem"?e.resolveCurrentItem(g,l,o,d):g[a]:(d.logError("Missing collection variable type for collection: ".concat(o)),c):c},e.resolveCurrentItem=function(t,n,i,o){var a=t.currentItem;if(!a)return o.logError("Current item is missing for collection: ".concat(i)),"";if(a.type===ji){var l=a.path?"".concat(a.path,".").concat(n):n;return{type:ji,path:l}}return n&&!a[n]?(o.logError("Path not found in current item: ".concat(n," for collection: ").concat(i)),""):n?a[n]:a},e}(te.Kx);const Cl=H5;var F5=function(){function r(e){var t=this;this.listeners=[],this.model=new te.Kx,this.onChange=function(){var n=t.resolver.getDataValue();t.onUpdate(n)},this.em=e.em,this.resolver=e.resolver,this.onUpdate=e.onUpdate,this.listenToResolver()}return r.prototype.createListener=function(e,t,n){return n===void 0&&(n=this.onChange),{obj:e,event:t,callback:n}},r.prototype.listenToResolver=function(){var e=this,t=e.resolver,n=e.model;this.removeListeners();var i=[],o=t.attributes.type;switch(o){case ji:i=this.listenToDataVariable(t);break;case Os:i=this.listenToConditionalVariable(t);break}i.forEach(function(a){return n.listenTo(a.obj,a.event,a.callback)}),this.listeners=i},r.prototype.listenToConditionalVariable=function(e){return[{obj:e,event:dp,callback:this.onChange}]},r.prototype.listenToDataVariable=function(e){var t=this,n=this.em,i=[];i.push(this.createListener(e,"change",function(){t.listenToResolver(),t.onChange()}));var o=e.getResolverPath();if(!o)return i;var a=(0,Vt.stringToPath)(o||"").join("."),l=n.DataSources.fromPath(o),u=l[0],c=l[1];return u&&i.push(this.createListener(u.records,"add remove reset")),c&&i.push(this.createListener(c,"change")),i.push(this.createListener(n.DataSources.all,"add remove reset"),this.createListener(n,"".concat(ec.path,":").concat(a))),i},r.prototype.removeListeners=function(){var e=this;this.listeners.forEach(function(t){return e.model.stopListening(t.obj,t.event,t.callback)}),this.listeners=[]},r.prototype.destroy=function(){this.removeListeners()},r}();const vc=F5;var W5=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),oa=function(){return oa=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},oa.apply(this,arguments)},q5=t2(),n_=function(r){return(0,z.isArray)(r)?r[r.length-1]:r},K5=function(r){W5(e,r);function e(t,n){n===void 0&&(n={});var i=r.call(this,t,n)||this;return i.views=[],i.styleResolverListeners={},i.em=n.em,i}return e.prototype.parseStyle=function(t){return q5.parseStyle(t)},e.prototype.extendStyle=function(t){return oa(oa({},this.getStyle("",{skipResolve:!0})),t)},e.prototype.getStyle=function(t,n){n===void 0&&(n={});var i=this.get("style")||{},o=oa({},i);if(this.em&&!n.skipResolve){var a=this.getResolvedStyles(oa({},o));return t&&(0,z.isString)(t)?a[t]:a}return t&&(0,z.isString)(t)?o[t]:o},e.prototype.setStyle=function(t,n){var i=this;t===void 0&&(t={}),n===void 0&&(n={}),(0,z.isString)(t)&&(t=this.parseStyle(t));var o=this.getStyle(n);n.partial||n.avoidStore?(n.avoidStore=!0,t.__p=!0):delete t.__p;var a=oa({},t),l=oa({},a);(0,z.keys)(l).forEach(function(c){if(l[c]===""){delete l[c];return}var d=l[c];if(ud(d)){var h=Gb(d,{em:i.em,collectionsStateMap:{}});h&&(l[c]=h,i.listenToDataResolver(h,c))}}),this.set("style",l,n);var u=(0,Vt.shallowDiff)(o,l);return delete u.__p,(0,z.keys)(u).forEach(function(c){var d=i.em;n.noEvent||(i.trigger("change:style:".concat(c)),d&&(d.trigger("styleable:change",i,c,n),d.trigger("styleable:change:".concat(c),i,c,n)))}),l},e.prototype.listenToDataResolver=function(t,n){var i=this,o=this.styleResolverListeners[n];o?o.listenToResolver():this.styleResolverListeners[n]=new vc({em:this.em,resolver:t,onUpdate:function(){return i.updateView()}})},e.prototype.getView=function(t){var n=this,i=n.views,o=n.em,a=t||(o==null?void 0:o.getCurrentFrameModel());return a?i.find(function(l){return l.frameView===a.view}):i[0]},e.prototype.setView=function(t){var n=this.views;!n.includes(t)&&n.push(t)},e.prototype.removeView=function(t){var n=this.views;n.splice(n.indexOf(t),1)},e.prototype.updateView=function(){this.views.forEach(function(t){return t.updateStyles()})},e.prototype.getResolvedStyles=function(t){var n=this,i=oa({},t);return(0,z.keys)(i).forEach(function(o){var a=i[o];typeof a=="string"||Array.isArray(a)||(ud(a)&&(i[o]=Yb(a,{em:n.em,collectionsStateMap:{}})),N5(a)&&(i[o]=a.getDataValue()))}),i},e.prototype.addStyle=function(t,n,i){var o;n===void 0&&(n=""),i===void 0&&(i={}),typeof t=="string"?t=(o={},o[t]=n,o):i=n||{},i.addStyle=t,t=this.extendStyle(t),this.setStyle(t,i)},e.prototype.removeStyle=function(t){var n=this.getStyle();delete n[t],this.setStyle(n)},e.prototype.styleToString=function(t){t===void 0&&(t={});var n=[],i=this.getStyle(t),o=t.important,a=function(u){var c=(0,z.isArray)(o)?o.indexOf(u)>=0:o,d=u.substring(0,2),h=d==="__";if(h)return"continue";var g=i[u],m=(0,z.isArray)(g)?g:[g];m.forEach(function(_){var b="".concat(_).concat(c?" !important":"");b&&n.push("".concat(u,":").concat(b,";"))})};for(var l in i)a(l);return n.join("")},e.prototype.getSelectors=function(){return this.get("selectors")||this.get("classes")},e.prototype.getSelectorsString=function(t){return this.selectorsToString?this.selectorsToString(t):this.getSelectors().getFullString()},e}(te.Kx);const i2=K5;var G5=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Li=function(){return Li=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Li.apply(this,arguments)},hp=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t},Ux=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))},gu=function(r,e){if(e===void 0&&(e=[]),!r)return[];var t=(0,z.isArray)(r)||(0,z.isFunction)(r.map)?r:[r];return t.map(function(n){e.push(n.getId()),gu(n.components().models,e)}),e},o2=function(r,e,t){e===void 0&&(e={}),t===void 0&&(t={}),t.visitedCmps=t.visitedCmps||{};var n=t.visitedCmps,i=(0,z.isArray)(r)?r:[r];return i.map(function(o){var a=o.attributes,l=a===void 0?{}:a,u=o.components,c=o.tagName,d=o.style,h=l.id;l.draggable;var g=hp(l,["id","draggable"]),m=o;if(h){if(n[h])n[h].push(m),h=jn.getNewId(e),m.attributes.id=h;else if(n[h]=[],e[h]){m=e[h];var _=m;c&&_.set({tagName:c},Li(Li({},t),{silent:!0})),(0,z.keys)(g).length&&_.addAttributes(g,Li({},t)),(0,z.keys)(d).length&&_.addStyle(d,t)}}var b=(0,z.isFunction)(m.components)?m:null;if(u){var C=o2(u,e,t);b?b.components().reset(C,t):m.components=C}else b&&b.components().reset([],t);return m})},Y5=function(r){G5(e,r);function e(t,n){var i=r.call(this,t,n)||this;i.opt=n,i.listenTo(i,"add",i.onAdd),i.listenTo(i,"remove",i.removeChildren),i.listenTo(i,"reset",i.resetChildren);var o=n.em,a=n.config;return i.config=a,i.em=o,i.domc=n.domc||(o==null?void 0:o.Components),i}return Object.defineProperty(e.prototype,"events",{get:function(){var t;return(t=this.domc)===null||t===void 0?void 0:t.events},enumerable:!1,configurable:!0}),e.prototype.resetChildren=function(t,n){var i=this;n===void 0&&(n={});var o=this,a=n.previousModels||[],l=a.filter(function(d){return!t.get(d.cid)}),u=gu(t),c=gu(a).filter(function(d){return u.indexOf(d)>=0});n.keepIds=(n.keepIds||[]).concat(c),l.forEach(function(d){return i.removeChildren(d,o,n)}),t.each(function(d){return i.onAdd(d)})},e.prototype.resetFromString=function(t,n){var i,o;t===void 0&&(t=""),n===void 0&&(n={}),n.keepIds=gu(this);var a=this,l=a.domc,u=a.em,c=a.parent,d=u==null?void 0:u.Css,h=(l==null?void 0:l.allById())||{},g=this.parseString(t,n),m=o2(g,h,n),_=n.visitedCmps,b=_===void 0?{}:_;Object.keys(b).forEach(function(C){var w=b[C];if(w.length){var x=(d==null?void 0:d.getRules("#".concat(C)))||[];x.length&&w.forEach(function(O){x.forEach(function(k){var V=k.clone();V.set("selectors",["#".concat(O.attributes.id)]),d.getAll().add(V)})})}}),this.reset(m,n),u==null||u.trigger("component:content",c,n,t),(o=(i=c).__checkInnerChilds)===null||o===void 0||o.call(i)},e.prototype.removeChildren=function(t,n,i){var o=this;if(i===void 0&&(i={}),!!t){var a=this,l=a.domc,u=a.em,c=i.temporary||i.fromUndo;if(t.prevColl=this,!c){var d=t.getId(),h=u.Selectors.getAll(),g=u.Css.getAll(),m=(i.keepIds||[]).indexOf(d)<0,_=l?l.allById():{};delete _[d];var b=m?g.remove(g.filter(function(O){return O.getSelectors().getFullString()==="#".concat(d)}),i):[];h.remove(b.map(function(O){return O.getSelectors().at(0)})),t.opt.temporary||(u.Commands.run("core:component-style-clear",{target:t}),t.views.forEach(function(O){O.scriptContainer&&t.emitWithEditor(hn.I.scriptUnmount,{component:t,view:O,el:O.el})}),t.removed(),t.trigger("removed"),u.trigger(hn.I.remove,t),l&&rv(t)&&pl(t)&&l.symbols.__trgEvent(l.events.symbolInstanceRemove,{component:t},!0));var C=t.components();C.forEach(function(O){r2(O,O,C,Li(Li({},i),{skipRefsUp:!0})),o.removeChildren(O,n,i)})}var w=t.components();if(u.stopListening(w),u.stopListening(t),u.stopListening(t.get("classes")),t.__postRemove(),!t.opt.temporary){var x=function(O){O.emitWithEditor(hn.I.removed,O,{removeOptions:i}),O.components().forEach(function(k){return x(k)})};x(t)}}},e.prototype.model=function(t,n){var i=n.collection.opt,o=i.em,a,l=o.Components.componentTypes;n.em=o,n.config=i.config,n.componentTypes=l,n.domc=i.domc;for(var u=0;u<l.length;u++){var c=l[u].id;if(c==t.type){a=l[u].model;break}}return a||(a=l[l.length-1].model,o&&t.type&&o.logWarning("Component type '".concat(t.type,"' not found"),{attrs:t,options:n})),new a(t,n)},e.prototype.parseString=function(t,n){n===void 0&&(n={});var i=this,o=i.em,a=i.domc,l=i.parent,u=l==null?void 0:l.is("wrapper"),c=n.asDocument&&u,d=o.Css,h=o.Parser.parseHtml(t,Li({asDocument:c},n.parserOptions)),g=h.html;if(u&&h.doctype){var m=l,_=h.html||{},b=_.components,C=b===void 0?[]:b,w=hp(_,["components"]),x=h.head||{},O=x.components,k=hp(x,["components"]);g=C,m.set(w,n),m.head.set(k,n),m.head.components(O,n),m.docEl.set(h.root,n),m.set({doctype:h.doctype})}if(jn.checkId(g,h.css,a.componentsById,n),h.css&&d&&!n.temporary){n.at;var V=hp(n,["at"]);d.addCollection(h.css,Li(Li({},V),{extend:1}))}return g},e.prototype.add=function(t,n){var i=this;if(n===void 0&&(n={}),t!=null){n.keepIds=Ux(Ux([],n.keepIds||[],!0),gu(n.previousModels),!0),(0,z.isString)(t)?t=this.parseString(t,n):(0,z.isArray)(t)&&t.forEach(function(a,l){if((0,z.isString)(a)){var u=i.parseString(a,n);t[l]=(0,z.isArray)(u)&&!u.length?null:u}});var o=((0,z.isArray)(t)?t:[t]).filter(Boolean).map(function(a){return i.processDef(a)});return t=(0,z.isArray)(t)?(0,z.flatten)(o,1):o[0],r.prototype.add.call(this,t,n)}},e.prototype.processDef=function(t){if(t.cid&&t.ccid)return t;var n=this,i=n.em,o=n.config,a=o===void 0?{}:o,l=a.processor,u=t;if(l){u=Li({},u);var c=l(u);c&&((0,z.each)(u,function(C,w){return delete u[w]}),(0,z.extend)(u,c))}if(u.$$typeof&&typeof u.props=="object"){u=Li({},u),u.props=Li({},u.props);var d=i.Components,h=i.Parser,g=h.parserHtml;(0,z.each)(u,function(C,w){(0,z.includes)(["props","type"],w)||delete u[w]});var m=u.props,_=m.children;delete m.children,delete u.props;var b=g.splitPropsFromAttr(m);u.attributes=b.attrs,_&&(u.components=_),u.type?d.getType(u.type)||(u.tagName=u.type,delete u.type):u.type="textnode",(0,z.extend)(u,b.props)}return u},e.prototype.onAdd=function(t,n,i){i===void 0&&(i={});var o=this,a=o.domc,l=o.em,u=t.getStyle(),c=l&&l.getConfig().avoidInlineStyle;if(a&&a.Component.ensureInList(t),!(0,z.isEmpty)(u)&&!c&&l&&l.getConfig().forceClass&&!i.temporary){var d=t.cid;l.Css.setClassRule(d,u),t.setStyle({}),t.addClass(d)}if(t.__postAdd({recursive:!0}),l&&!i.temporary){var h=function(g){l.trigger(hn.I.add,g,i),g.components().forEach(function(m){return h(m)})};h(t),a&&rv(t)&&pl(t)&&a.symbols.__trgEvent(a.events.symbolInstanceAdd,{component:t},!0)}},e}(te.pM);const cd=Y5;var X5=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Rh=1,dy=2,a2=function(r){X5(e,r);function e(t,n){n===void 0&&(n={});var i=r.call(this,t,n)||this,o=n.config,a=o===void 0?{}:o,l=i.get("name"),u=i.get("label");l?u||i.set("label",l):i.set("name",u);var c=i.get("name"),d=a.escapeName,h=d?d(c):e.escapeName(c);return i.set("name",h),i.em=n.em,i}return e.prototype.defaults=function(){return{name:"",label:"",type:Rh,active:!0,private:!1,protected:!1,_undo:!0}},e.prototype.isId=function(){return this.get("type")===dy},e.prototype.isClass=function(){return this.get("type")===Rh},e.prototype.getFullName=function(t){t===void 0&&(t={});var n=t.escape,i=this.get("name"),o="";switch(this.get("type")){case Rh:o=".";break;case dy:o="#";break}return o+(n?n(i):i)},e.prototype.toString=function(){return this.getFullName()},e.prototype.getName=function(){return this.get("name")||""},e.prototype.getLabel=function(){return this.get("label")||""},e.prototype.setLabel=function(t){return this.set("label",t)},e.prototype.getActive=function(){return!!this.get("active")},e.prototype.setActive=function(t){return this.set("active",t)},e.prototype.toJSON=function(t){t===void 0&&(t={});var n=this.em,i=te.Kx.prototype.toJSON.call(this,[t]),o=(0,z.result)(this,"defaults");if(n!=null&&n.getConfig().avoidDefaults){(0,z.forEach)(o,function(l,u){i[u]===l&&delete i[u]}),i.label===i.name&&delete i.label;var a=(0,z.keys)(i).length;a===1&&i.name&&(i=i.name),a===2&&i.name&&i.type&&(i=this.getFullName())}return i},e.escapeName=function(t){return"".concat(t).trim().replace(/\s+/g,"-")},e.TYPE_CLASS=Rh,e.TYPE_ID=dy,e}(te.Kx);const Kr=a2;a2.prototype.idAttribute="name";var Z5=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),s2=function(r,e){return r.reduce(function(t,n,i){return t.concat(s2(r.slice(i+1),"".concat(e).concat(n)))},[e])},l2=function(r){Z5(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.modelId=function(t){return"".concat(t.name,"_").concat(t.type||Kr.TYPE_CLASS)},e.prototype.getStyleable=function(){return(0,z.filter)(this.models,function(t){return t.getActive()&&!t.get("private")})},e.prototype.getValid=function(t){var n=t===void 0?{}:t,i=n.noDisabled;return(0,z.filter)(this.models,function(o){return!o.get("private")}).filter(function(o){return i?o.get("active"):1})},e.prototype.getFullString=function(t,n){n===void 0&&(n={});var i=[],o=t||this;return o.forEach(function(a){return i.push(a.getFullName(n))}),n.sort&&i.sort(),i.join("").trim()},e.prototype.getFullName=function(t){t===void 0&&(t={});var n=t.combination,i=t.array,o=[],a=this.map(function(l){return l.getFullName(t)}).sort();return n?a.forEach(function(l,u){o=o.concat(s2(a.slice(u+1),l))}):o=a,i?o:n?o.join(","):o.join("")},e}(te.pM);const cs=l2;l2.prototype.model=Kr;var $5=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ix=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))},J5=function(r){$5(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.defaults=function(){return{id:"",label:"",open:!0,attributes:{}}},e.prototype.getId=function(){return this.get("id")},e.prototype.getLabel=function(){return this.get("label")},e}(te.Kx);const Rd=J5;function u2(r){var e=new Set,t=new Map,n={items:[]};r.forEach(function(o){var a=o.category;if(a){e.add(a);var l=t.get(a);l?l.push(o):t.set(a,[o])}else n.items.push(o)});var i=Array.from(e).map(function(o){return{category:o,items:t.get(o)||[]}});return Ix(Ix([],i,!0),[n],!1)}var Q5=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),zx="category",c2=function(r){Q5(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.initCategory=function(t){var n=t.get(zx),i=n instanceof Rd;if(n&&!i){(0,z.isString)(n)?n={id:n,label:n}:(0,Vt.isObject)(n)&&!n.id&&(n.id=n.label);var o=this.getCategories().add(n);return t.set(zx,o,{silent:!0}),o}else if(i){var o=n;return this.getCategories().add(o),o}},e}(te.pM),t4=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),f2=function(r){t4(e,r);function e(t,n){n===void 0&&(n={});var i=r.call(this,t,n)||this,o=n.events,a=n.em,l=o==null?void 0:o.update;return a&&l&&i.on("change",function(u,c){return a.trigger(l,{category:u,changes:u.changedAttributes(),options:c})}),i}return e.prototype.add=function(t,n){var i=(0,z.isArray)(t)?t:[t];return i.forEach(function(o){return o&&(o.id=(0,Vt.normalizeKey)("".concat(o.id)))}),r.prototype.add.call(this,t,n)},e.prototype.get=function(t){return r.prototype.get.call(this,(0,z.isString)(t)?(0,Vt.normalizeKey)(t):t)},e}(te.pM);const av=f2;f2.prototype.model=Rd;var sv;(function(r){r.select="trait:select",r.value="trait:value",r.categoryUpdate="trait:category:update",r.custom="trait:custom",r.all="trait"})(sv||(sv={}));const r_=sv;var e4=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),lv=function(){return lv=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},lv.apply(this,arguments)},n4=function(r){e4(e,r);function e(t,n){var i=r.call(this,t)||this,o=i.attributes,a=o.target,l=o.name;return!i.get("id")&&i.set("id",l),a&&i.setTarget(a),i.em=n,i}return e.prototype.defaults=function(){return{type:"text",label:"",name:"",unit:"",step:1,value:"",default:"",placeholder:"",category:"",changeProp:!1,options:[]}},Object.defineProperty(e.prototype,"parent",{get:function(){return this.collection},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"category",{get:function(){var t=this.get("category");return t instanceof Rd?t:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"component",{get:function(){return this.target},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"changeProp",{get:function(){return!!this.get("changeProp")},enumerable:!1,configurable:!0}),e.prototype.setTarget=function(t){if(t){var n=this.attributes,i=n.name,o=n.changeProp,a=n.value,l=n.getValue;this.target=t,this.unset("target");var u=o?"change:".concat(i):"change:attributes:".concat(i);this.listenTo(t,u,this.targetUpdated);var c=a||(l?void 0:this.getValue());!(0,z.isUndefined)(c)&&this.set({value:c},{silent:!0})}},e.prototype.getId=function(){return this.get("id")},e.prototype.getType=function(){return this.get("type")},e.prototype.getName=function(){return this.get("name")},e.prototype.getLabel=function(t){var n;t===void 0&&(t={});var i=t.locale,o=i===void 0?!0:i,a=this.getId(),l=this.get("label")||this.getName();return o&&((n=this.em)===null||n===void 0?void 0:n.t("traitManager.traits.labels.".concat(a)))||l},e.prototype.getValue=function(t){return this.getTargetValue(t)},e.prototype.setValue=function(t,n){var i=this;n===void 0&&(n={});var o=this,a=o.component,l=o.em,u=n.partial,c={},d=this.attributes.setValue;if(d){d({value:t,component:a,editor:l==null?void 0:l.getEditor(),trait:this,partial:!!u,options:n,emitUpdate:function(){return i.targetUpdated()}});return}u&&(c.avoidStore=!0),this.setTargetValue(t,c)},e.prototype.getDefault=function(){return this.get("default")},e.prototype.getOptions=function(){return this.get("options")||[]},e.prototype.getOption=function(t){var n=this,i=(0,Vt.isDef)(t)?t:this.getValue();return this.getOptions().filter(function(o){return n.getOptionId(o)===i})[0]},e.prototype.getOptionId=function(t){return t.id||t.value},e.prototype.getOptionLabel=function(t,n){var i;n===void 0&&(n={});var o=n.locale,a=o===void 0?!0:o,l=(0,z.isString)(t)?this.getOption(t):t,u=this.getOptionId(l),c=l.label||l.name||u,d=this.getName();return a&&((i=this.em)===null||i===void 0?void 0:i.t("traitManager.traits.options.".concat(d,".").concat(u)))||c},e.prototype.getCategoryLabel=function(t){t===void 0&&(t={});var n=this,i=n.em,o=n.category,a=t.locale,l=a===void 0?!0:a,u=o==null?void 0:o.getId(),c=o==null?void 0:o.getLabel();return l&&(i==null?void 0:i.t("traitManager.categories.".concat(u)))||c||""},e.prototype.runCommand=function(){var t=this.em,n=this.attributes.command;if(n&&t)return(0,z.isString)(n)?t.Commands.run(n):n(t.Editor,this)},e.prototype.props=function(){return this.attributes},e.prototype.targetUpdated=function(){var t=this,n=t.component,i=t.em,o=this.getTargetValue({useType:!0});this.set({value:o},{fromTarget:1});var a={trait:this,component:n,value:o};n.trigger(r_.value,a),i==null||i.trigger(r_.value,a),i==null||i.trigger("trait:update",a)},e.prototype.getTargetValue=function(t){t===void 0&&(t={});var n=this,i=n.component,o=n.em,a=this.getName(),l=this.get("getValue"),u;if(l?u=l({editor:o==null?void 0:o.getEditor(),trait:this,component:i}):this.changeProp?u=i.get(a):u=i.getAttributes()[a],t.useType){var c=this.getType();if(c==="checkbox"){var d=this.attributes,h=d.valueTrue,g=d.valueFalse;!(0,z.isUndefined)(h)&&h===u?u=!0:!(0,z.isUndefined)(g)&&g===u&&(u=!1)}}return(0,z.isUndefined)(u)?"":u},e.prototype.setTargetValue=function(t,n){var i;n===void 0&&(n={});var o=this,a=o.component,l=o.attributes,u=this.getName();if(!(0,z.isUndefined)(t)){var c=t;if(t==="false"?c=!1:t==="true"&&(c=!0),this.getType()==="checkbox"){var d=l.valueTrue,h=l.valueFalse;c&&!(0,z.isUndefined)(d)&&(c=d),!c&&!(0,z.isUndefined)(h)&&(c=h)}var g=(i={},i[u]=c,i);g.__p=n.avoidStore?null:void 0,this.changeProp?a.set(g,n):a.addAttributes(g,n)}},e.prototype.setValueFromInput=function(t,n,i){n===void 0&&(n=!0),i===void 0&&(i={});var o={value:t};this.set(o,lv(lv({},i),{avoidStore:1})),n&&(this.set("value","",i),this.set(o,i))},e.prototype.getInitValue=function(){var t=this.component,n=this.getName(),i;if(t){var o=t.get("attributes");i=this.changeProp?t.get(n):o[n]}return i||this.get("value")||this.get("default")},e}(te.Kx);const uv=n4;var r4=function(){function r(e){e===void 0&&(e={}),this.config=e}return r.prototype.build=function(e,t){return(0,z.isString)(e)?this.buildFromString(e,t):new uv(e,t)},r.prototype.buildFromString=function(e,t){var n={name:e,type:"text"};switch(e){case"target":n.type="select",n.default=!1,n.options=this.config.optionsTarget;break}return new uv(n,t)},r}();const i4=r4;var o4=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),a4=function(r){o4(e,r);function e(t,n){var i=r.call(this,t)||this;i.categories=new av;var o=n.em;i.em=o,i.categories=new av([],{em:o,events:{update:r_.categoryUpdate}}),i.on("add",i.handleAdd),i.on("reset",i.handleReset);var a=i.module,l=a==null?void 0:a.getConfig();return i.tf=new i4(l),i}return Object.defineProperty(e.prototype,"module",{get:function(){return this.em.Traits},enumerable:!1,configurable:!0}),e.prototype.getCategories=function(){return this.categories},e.prototype.handleReset=function(t,n){var i=n===void 0?{}:n,o=i.previousModels,a=o===void 0?[]:o;a.forEach(function(l){return l.trigger("remove")})},e.prototype.handleAdd=function(t){t.em=this.em;var n=this.target;n&&(t.target=n),this.initCategory(t)},e.prototype.setTarget=function(t){this.target=t,this.models.forEach(function(n){return n.setTarget(t)})},e.prototype.add=function(t,n){if(t!=null){var i=this,o=i.target,a=i.em;if((0,z.isArray)(t)){for(var l=[],u=0,c=t.length;u<c;u++){var d=t[u];l[u]=d instanceof uv?d:this.tf.build(d,a),l[u].setTarget(o)}return r.prototype.add.call(this,l,n)}var h=t instanceof uv?t:this.tf.build(t,a);return h.setTarget(o),r.prototype.add.call(this,h,n)}},e}(c2);const cv=a4;var fv=function(){return fv=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},fv.apply(this,arguments)},Hx=function(){function r(e,t,n){this.component=e,this.updateFn=t,this.resolverListeners={},this.em=n.em}return r.prototype.bindComponent=function(e){this.component=e},r.prototype.setDynamicValues=function(e,t){t===void 0&&(t={});var n=t.skipWatcherUpdates||t.fromDataSource;return n||this.removeListeners(),this.addDynamicValues(e,t)},r.prototype.addDynamicValues=function(e,t){if(t===void 0&&(t={}),!e)return{};var n=this.evaluateValues(e),i=t.skipWatcherUpdates||t.fromDataSource;return i||this.updateListeners(e),n},r.prototype.onCollectionsStateMapUpdate=function(){var e=this,t=this.getValuesResolvingFromCollections();if(t.length){t.forEach(function(i){return e.resolverListeners[i].resolver.updateCollectionsStateMap(e.collectionsStateMap)});var n=this.addDynamicValues(this.getSerializableValues(Object.fromEntries(t.map(function(i){return[i,null]}))));Object.entries(n).forEach(function(i){var o=i[0],a=i[1];return e.updateFn(e.component,o,a)})}},Object.defineProperty(r.prototype,"collectionsStateMap",{get:function(){var e=this.component;return e?e.collectionsStateMap:{}},enumerable:!1,configurable:!0}),r.prototype.updateListeners=function(e){var t=this,n=this,i=n.em,o=n.collectionsStateMap;this.removeListeners(Object.keys(e));for(var a=Object.keys(e),l=function(d){var h=a[d],g=e[h];if(!ud(g))return"continue";var m=Gb(g,{em:i,collectionsStateMap:o});u.resolverListeners[h]=new vc({em:i,resolver:m,onUpdate:function(_){return t.updateFn.bind(t)(t.component,h,_)}})},u=this,c=0;c<a.length;c++)l(c)},r.prototype.evaluateValues=function(e){for(var t=this,n=t.em,i=t.collectionsStateMap,o=fv({},e),a=Object.keys(e),l=0;l<a.length;l++){var u=a[l],c=e[u];ud(c)&&(o[u]=Yb(c,{em:n,collectionsStateMap:i}))}return o},r.prototype.removeListeners=function(e){var t=this,n=e||Object.keys(this.resolverListeners);return n.forEach(function(i){var o,a;t.resolverListeners[i]&&((a=(o=t.resolverListeners[i]).destroy)===null||a===void 0||a.call(o),delete t.resolverListeners[i])}),n},r.prototype.getSerializableValues=function(e){if(!e)return{};for(var t=fv({},e),n=Object.keys(t),i=0;i<n.length;i++){var o=n[i],a=this.resolverListeners[o];a&&(t[o]=a.resolver.toJSON())}return t},r.prototype.getAllSerializableValues=function(){for(var e={},t=Object.keys(this.resolverListeners),n=0;n<t.length;n++){var i=t[n];e[i]=this.resolverListeners[i].resolver.toJSON()}return e},r.prototype.getValuesResolvingFromCollections=function(){var e=this,t=Object.keys(this.resolverListeners).filter(function(n){return e.resolverListeners[n].resolver.resolvesFromCollection()});return t},r.prototype.destroy=function(){this.removeListeners()},r}(),s4=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))},i_={fromDataSource:!0,avoidStore:!0},l4=function(){function r(e,t){this.component=e,this.propertyWatcher=new Hx(e,this.onPropertyUpdate,t),this.attributeWatcher=new Hx(e,this.onAttributeUpdate,t)}return r.prototype.onPropertyUpdate=function(e,t,n){e==null||e.set(t,n,i_)},r.prototype.onAttributeUpdate=function(e,t,n){var i;e==null||e.addAttributes((i={},i[t]=n,i),i_)},r.prototype.bindComponent=function(e){this.component=e,this.propertyWatcher.bindComponent(e),this.attributeWatcher.bindComponent(e),this.updateSymbolOverride()},r.prototype.addProps=function(e,t){var n=this;t===void 0&&(t={});var i=["components"],o=Object.fromEntries(Object.entries(e).map(function(u){var c,d=u[0],h=u[1];return i.includes(d)?[d,h]:[d,n.propertyWatcher.addDynamicValues((c={},c[d]=h,c),t)[d]]}));if(e.attributes){var a=this.attributeWatcher.setDynamicValues(e.attributes,t);o.attributes=a}var l=t.skipWatcherUpdates||t.fromDataSource;return l||this.updateSymbolOverride(),o},r.prototype.removeAttributes=function(e){this.attributeWatcher.removeListeners(e),this.updateSymbolOverride()},r.prototype.updateSymbolOverride=function(){var e,t,n=!!Object.keys((t=(e=this.component)===null||e===void 0?void 0:e.collectionsStateMap)!==null&&t!==void 0?t:{}).length;if(!(!this.component||!n)){var i=this.propertyWatcher.getValuesResolvingFromCollections(),o=this.attributeWatcher.getValuesResolvingFromCollections(),a=s4(["locked","layerable"],i,!0),l=Object.keys(o).length;l&&a.push("attributes");var u=pa(this.component);u.forEach(function(c){c.setSymbolOverride(a,{fromDataSource:!0})}),this.component.setSymbolOverride(a,{fromDataSource:!0})}},r.prototype.onCollectionsStateMapUpdate=function(){this.propertyWatcher.onCollectionsStateMapUpdate(),this.attributeWatcher.onCollectionsStateMapUpdate()},r.prototype.getDynamicPropsDefs=function(){return this.propertyWatcher.getAllSerializableValues()},r.prototype.getDynamicAttributesDefs=function(){return this.attributeWatcher.getAllSerializableValues()},r.prototype.getPropsDefsOrValues=function(e){return this.propertyWatcher.getSerializableValues(e)},r.prototype.getAttributesDefsOrValues=function(e){return this.attributeWatcher.getSerializableValues(e)},r.prototype.destroy=function(){this.propertyWatcher.destroy(),this.attributeWatcher.destroy()},r}(),u4=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),He=function(){return He=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},He.apply(this,arguments)},c4=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t},vo=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))},Fx=function(r){return r.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")},pf=function(r){return!!(r!=null&&r.getConfig().avoidInlineStyle)},Xb="component:drag",Wr="__symbols",ci="__symbol",mu="__symbol_ovrd",pp=hn.I.update,o_=hn.I.updateInside,f4=function(r){u4(e,r);function e(t,n){t===void 0&&(t={});var i=this,o=n.em,a=new l4(void 0,{em:o});i=r.call(this,t,He(He({},n),{dataResolverWatchers:a}))||this,i.collectionsStateMap={},a.bindComponent(i),i.dataResolverWatchers=a,(0,z.bindAll)(i,"__upSymbProps","__upSymbCls","__upSymbComps","syncOnComponentChange");var l=i.parent(),u=l==null?void 0:l.attributes,c=i.get("propagate");if(c&&i.set("propagate",(0,z.isArray)(c)?c:[c]),u&&u.propagate&&!c){var d={},h=u.propagate;h.forEach(function(w){return d[w]=l.get(w)}),d.propagate=h,i.set(He(He({},d),t))}n&&n.config&&n.config.voidElements.indexOf(i.get("tagName"))>=0&&i.set("void",!0),n.em=o,i.opt=n,i.em=o,i.config=n.config||{};var g=i.dataResolverWatchers.getDynamicAttributesDefs();if(i.setAttributes(He(He(He({},(0,z.result)(i,"defaults").attributes||{}),i.get("attributes")||{}),g)),i.ccid=e.createId(i,n),i.preInit(),i.initClasses(),i.initComponents(),i.initTraits(),i.initToolbar(),i.initScriptProps(),i.listenTo(i,"change:script",i.scriptUpdated),i.listenTo(i,"change:tagName",i.tagUpdated),i.listenTo(i,"change:attributes",i.attrUpdated),i.listenTo(i,"change:attributes:id",i._idUpdated),i.on("change:toolbar",i.__emitUpdateTlb),i.on("change",i.__onChange),i.on(o_,i.__propToParent),i.set("status",""),i.views=[],["classes","traits","components"].forEach(function(w){var x="add remove ".concat(w!=="components"?"change":"");i.listenTo(i.get(w),x.trim(),function(){for(var O=[],k=0;k<arguments.length;k++)O[k]=arguments[k];return i.emitUpdate.apply(i,vo([w],O,!1))})}),!n.temporary){var m=o&&o.Css,_=i.attributes,b=_.styles,C=_.type;b&&m&&m.addCollection(b,{avoidUpdateStyle:!0},{group:"cmp:".concat(C)}),i.__postAdd(),i.init(),Vo(i)&&of(i),o==null||o.trigger(hn.I.create,i,n)}return i}return Object.defineProperty(e.prototype,"defaults",{get:function(){var t;return t={tagName:"div",type:"",name:"",removable:!0,draggable:!0,droppable:!0,badgable:!0,stylable:!0,"stylable-require":"","style-signature":"",unstylable:"",highlightable:!0,copyable:!0,resizable:!1,editable:!1,layerable:!0,selectable:!0,hoverable:!0,void:!1,state:"",status:"",content:"",icon:"",style:"",styles:"",classes:"",script:"","script-props":"","script-export":"",attributes:{},traits:["id","title"],propagate:"",dmode:"",toolbar:null,delegate:null},t[ci]=0,t[Wr]=0,t[mu]=0,t._undo=!0,t._undoexc=["status","open"],t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tagName",{get:function(){return this.get("tagName")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"classes",{get:function(){return this.get("classes")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"traits",{get:function(){return this.get("traits")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"content",{get:function(){var t;return(t=this.get("content"))!==null&&t!==void 0?t:""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"toolbar",{get:function(){return this.get("toolbar")||[]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resizable",{get:function(){return this.get("resizable")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"delegate",{get:function(){return this.get("delegate")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"locked",{get:function(){return this.get("locked")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"frame",{get:function(){return this.opt.frame},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"page",{get:function(){var t;return(t=this.frame)===null||t===void 0?void 0:t.getPage()},enumerable:!1,configurable:!0}),e.prototype.preInit=function(){},e.prototype.init=function(){},e.prototype.updated=function(t,n,i){},e.prototype.removed=function(){},e.prototype.set=function(t,n,i){var o,a,l={skipWatcherUpdates:!1,fromDataSource:!1};typeof t=="object"?(a=t,l=n||l):typeof t=="string"?(a=(o={},o[t]=n,o),l=i||l):(a={},l=i||l),this.dataResolverWatchers=this.dataResolverWatchers||l.dataResolverWatchers;var u=this.dataResolverWatchers.addProps(a,l);return r.prototype.set.call(this,u,l)},e.prototype.onCollectionsStateMapUpdate=function(t){this.collectionsStateMap=t,this.dataResolverWatchers.onCollectionsStateMapUpdate();var n=this.components();n.forEach(function(i){return i.onCollectionsStateMapUpdate(t)})},e.prototype.syncComponentsCollectionState=function(){this.stopListening(this.components(),"add remove reset",this.syncOnComponentChange),this.listenTo(this.components(),"add remove reset",this.syncOnComponentChange),this.components().forEach(function(t){return t.syncComponentsCollectionState()})},e.prototype.stopSyncComponentCollectionState=function(){this.stopListening(this.components(),"add remove reset",this.syncOnComponentChange),this.collectionsStateMap={},this.components().forEach(function(t){return t.stopSyncComponentCollectionState()})},e.prototype.syncOnComponentChange=function(t,n,i){var o=this;if(!(!this.collectionsStateMap||!Object.keys(this.collectionsStateMap).length)){var a=i||n||{};if(i)if(a.add){var u=t;u.syncComponentsCollectionState(),u.onCollectionsStateMapUpdate(this.collectionsStateMap)}else{var c=t;c.stopSyncComponentCollectionState()}else{var l=a.previousModels||[];l.forEach(function(d){return d.stopSyncComponentCollectionState()}),this.components().forEach(function(d){d.syncComponentsCollectionState(),d.onCollectionsStateMapUpdate(o.collectionsStateMap)})}}},e.prototype.__postAdd=function(t){t===void 0&&(t={});var n=this.em,i=n==null?void 0:n.UndoManager,o=this.components();i&&!this.__hasUm&&(i.add(o),i.add(this.getSelectors()),this.__hasUm=!0),t.recursive&&o.map(function(a){return a.__postAdd(t)})},e.prototype.__postRemove=function(){var t=this.em,n=t==null?void 0:t.UndoManager;n&&(n.remove(this.components()),n.remove(this.getSelectors()),delete this.__hasUm)},e.prototype.__onChange=function(t,n){var i=this,o=this.changedAttributes()||{};(0,z.keys)(o).forEach(function(a){return i.emitUpdate(a)}),["status","open","toolbar","traits"].forEach(function(a){return delete o[a]}),(0,Vt.isEmptyObj)(o)||(this.__changesUp(n),this.__propSelfToParent({component:this,changed:o,options:n}))},e.prototype.__onStyleChange=function(t){var n=this,i=this.em;if(i){var o="component:styleUpdate",a=(0,z.keys)(t),l={style:t};i.trigger(o,this,l),a.forEach(function(g){return i.trigger("".concat(o,":").concat(g),n,l)});var u=this.collectionsStateMap,c=Object.keys(u);if(c.length){var d=c.every(function(g){return u[g].currentIndex===u[g].startIndex});if(d){var h=pa(this);h.forEach(function(g){var m=g.collectionsStateMap,_=Object.keys(m),b=_.every(function(C){return c.includes(C)});b&&g.addStyle(t)})}}}},e.prototype.__changesUp=function(t){var n=this,i=n.em,o=n.frame;[o,i].forEach(function(a){return a&&a.changesUp(t)})},e.prototype.__propSelfToParent=function(t){this.trigger(pp,t),this.__propToParent(t)},e.prototype.__propToParent=function(t){var n=this.parent();n&&n.trigger(o_,t)},e.prototype.__emitUpdateTlb=function(){this.emitUpdate("toolbar")},e.prototype.__getAllById=function(){var t=this.em;return t?t.Components.allById():{}},e.prototype.__upSymbProps=function(t,n){n===void 0&&(n={}),P5(this,n)},e.prototype.__upSymbCls=function(t,n,i){i===void 0&&(i={}),L5(this,i)},e.prototype.__upSymbComps=function(t,n,i){r2(this,t,n,i)},e.prototype.__onDestroy=function(){},e.prototype.is=function(t){return this.get("type")==t},e.prototype.props=function(){return this.attributes},e.prototype.index=function(){var t=this.collection;return t?t.indexOf(this):0},e.prototype.setDragMode=function(t){return this.set("dmode",t)},e.prototype.getDragMode=function(){return this.get("dmode")||""},e.prototype.setSymbolOverride=function(t,n){var i,o;n===void 0&&(n={}),this.set((i={},i[mu]=(o=(0,z.isString)(t)?[t]:t)!==null&&o!==void 0?o:0,i),n)},e.prototype.getSymbolOverride=function(){return this.get(mu)},e.prototype.find=function(t){var n,i=[],o=(n=this.view)===null||n===void 0?void 0:n.$el.find(t);return o==null||o.each(function(a){var l=o.eq(a),u=l.data("model");u&&i.push(u)}),i},e.prototype.findType=function(t){var n=[],i=function(o){return o.forEach(function(a){a.is(t)&&n.push(a),i(a.components())})};return i(this.components()),n},e.prototype.findFirstType=function(t){return this.findType(t).at(0)},e.prototype.closest=function(t){var n,i=(n=this.view)===null||n===void 0?void 0:n.$el.closest(t);return i!=null&&i.length?i.data("model"):void 0},e.prototype.closestType=function(t){for(var n=this.parent();n&&!n.is(t);)n=n.parent();return n},e.prototype.contains=function(t){var n=!1;if(!t)return n;var i=function(o){!n&&o.forEach(function(a){a===t&&(n=!0),!n&&i(a.components())})};return i(this.components()),n},e.prototype.tagUpdated=function(){this.trigger("rerender")},e.prototype.replaceWith=function(t,n){n===void 0&&(n={});var i=this.collection,o=i.indexOf(this);i.remove(this);var a=i.add(t,He(He({},n),{at:o}));return(0,z.isArray)(a)?a:[a]},e.prototype.attrUpdated=function(t,n,i){var o=this;i===void 0&&(i={});var a=this.get("attributes"),l=a.class;l&&this.setClass(l),delete a.class;var u=a.style;u&&this.setStyle(u,i),delete a.style;var c=He({},this.previous("attributes")),d=(0,Vt.shallowDiff)(c,this.get("attributes"));(0,z.keys)(d).forEach(function(h){var g,m="attributes:".concat(h);o.trigger("change:".concat(m),o,d[h],i),(g=o.em)===null||g===void 0||g.trigger("".concat(pp,":").concat(m),o,d[h],i)})},e.prototype.setAttributes=function(t,n){return n===void 0&&(n={skipWatcherUpdates:!1,fromDataSource:!1}),this.set("attributes",He({},t),n),this},e.prototype.addAttributes=function(t,n){n===void 0&&(n={});var i=this.dataResolverWatchers.getDynamicAttributesDefs();return this.setAttributes(He(He(He({},this.getAttributes({noClass:!0})),i),t),n)},e.prototype.removeAttributes=function(t,n){t===void 0&&(t=[]),n===void 0&&(n={});var i=Array.isArray(t)?t:[t];this.dataResolverWatchers.removeAttributes(i);var o=this.getAttributes();return i.map(function(a){return delete o[a]}),this.setAttributes(o,n)},e.prototype.getStyle=function(t,n){t===void 0&&(t={}),n===void 0&&(n={});var i=this.em,o=(0,z.isString)(t)?t:"",a=o?n:t;if(pf(i)&&!a.inline){var l=i.get("state"),u=i.Css,c=u.getIdRule(this.getId(),He({state:l},a));return this.rule=c,c?c.getStyle(o):{}}return r.prototype.getStyle.call(this,o)},e.prototype.setStyle=function(t,n){var i=this;t===void 0&&(t={}),n===void 0&&(n={});var o=this,a=o.opt,l=o.em;if(pf(l)&&!a.temporary&&!n.inline){var u=this.get("style")||{};t=(0,z.isString)(t)?this.parseStyle(t):t,t=He(He({},t),u);var c=l.get("state"),d=l.Css,h=this.getStyle(n);this.rule=d.setIdRule(this.getId(),t,He({state:c},n));var g=(0,Vt.shallowDiff)(h,t);this.set("style","",{silent:!0}),(0,z.keys)(g).forEach(function(m){return i.trigger("change:style:".concat(m))})}else t=r.prototype.setStyle.apply(this,arguments);return a.temporary||this.__onStyleChange(n.addStyle||t),t},e.prototype.getAttributes=function(t){t===void 0&&(t={});var n=this.em,i=[],o=He({},this.get("attributes")),a=n==null?void 0:n.Selectors,l=this.getId();if(t.noClass?delete o.class:(this.classes.forEach(function(d){return i.push((0,z.isString)(d)?d:d.getName())}),i.length&&(o.class=i.join(" "))),!t.noStyle){var u=this.getStyle({inline:!0});(0,Vt.isObject)(u)&&!(0,Vt.isEmptyObj)(u)&&(o.style=this.styleToString({inline:!0}))}if(!(0,z.has)(o,"id")){var c=!1;(pf(n)||!(0,z.isEmpty)(this.getStyle()))&&(c=!!(a!=null&&a.get(l,a.Selector.TYPE_ID))),(Vo(this)||this.get("script-export")||this.get("script"))&&(c=!0),c&&(o.id=l)}return o},e.prototype.addClass=function(t){var n=this.em.Selectors.addClass(t);return this.classes.add(n)},e.prototype.setClass=function(t){return this.classes.reset(),this.addClass(t)},e.prototype.removeClass=function(t){var n=[];t=(0,z.isArray)(t)?t:[t];var i=this.classes,o=Kr.TYPE_CLASS;return t.forEach(function(a){var l=a.split(" ");l.forEach(function(u){var c=i.where({name:u,type:o})[0];c&&n.push(i.remove(c))})}),n},e.prototype.getClasses=function(){var t=this.getAttributes(),n=t.class;return n?n.split(" "):[]},e.prototype.initClasses=function(t,n,i){i===void 0&&(i={});var o="change:classes",a=this.get("attributes")||{},l=a.class,u=c4(a,["class"]),c=[this,o,this.initClasses],d=this.get("classes")||l||[],h=(0,z.isString)(d)?d.split(" "):d;this.stopListening.apply(this,c);var g=this.normalizeClasses(h),m=new cs([]);return this.set("classes",m,i),m.add(g),m.on("add remove reset",this.__upSymbCls),l&&g.length&&this.set("attributes",u),this.listenTo.apply(this,c),this},e.prototype.initComponents=function(){var t="change:components",n=[this,t,this.initComponents];this.stopListening.apply(this,n);var i=new cd([],this.opt);i.parent=this;var o=this.get("components"),a=!this.opt.avoidChildren;return this.set("components",i),a&&o&&i.add((0,z.isFunction)(o)?o(this):o,this.opt),i.on("add remove reset",this.__upSymbComps),this.listenTo.apply(this,n),this},e.prototype.initTraits=function(t){var n=this,i=this.em,o="change:traits";this.off(o,this.initTraits),this.__loadTraits();var a=He({},this.get("attributes")),l=this.traits;l.each(function(c){var d=c.getName(),h=c.getInitValue();c.changeProp?(0,z.isUndefined)(n.get(d))&&n.set(d,h):d&&h&&(a[d]=h)});var u=this.dataResolverWatchers.getDynamicAttributesDefs();return l.length&&this.setAttributes(He(He({},a),u)),this.on(o,this.initTraits),t&&i&&i.trigger("component:toggled"),this},e.prototype.initScriptProps=function(){if(!this.opt.temporary){var t="script-props",n=["change:".concat(t),this.initScriptProps];this.off.apply(this,n);var i=this.previous(t)||[],o=this.get(t)||[],a=i.map(function(u){return"change:".concat(u)}).join(" "),l=o.map(function(u){return"change:".concat(u)}).join(" ");a&&this.off(a,this.__scriptPropsChange),l&&this.on(l,this.__scriptPropsChange),this.on.apply(this,n)}},e.prototype.__scriptPropsChange=function(t,n,i){i===void 0&&(i={}),!i.avoidStore&&this.trigger("rerender")},e.prototype.append=function(t,n){n===void 0&&(n={});var i=(0,z.isArray)(t)?vo([],t,!0):[t],o=i.map(function(l){return(0,z.isString)(l)||l.collection&&l.collection.remove(l,{temporary:!0}),l}),a=this.components().add(o,He({action:hn.t.add},n));return a},e.prototype.components=function(t,n){n===void 0&&(n={});var i=this.get("components");return(0,z.isUndefined)(t)?i:(i.reset(void 0,n),t?this.append(t,n):[])},e.prototype.getChildAt=function(t){return this.components().at(t||0)||void 0},e.prototype.getLastChild=function(){var t=this.components();return t.at(t.length-1)||null},e.prototype.empty=function(t){return t===void 0&&(t={}),this.components().reset(void 0,t),this},e.prototype.parent=function(t){t===void 0&&(t={});var n=this.collection||t.prev&&this.prevColl;return n?n.parent:void 0},e.prototype.parents=function(){var t=this.parent();return t?[t].concat(t.parents()):[]},e.prototype.scriptUpdated=function(){this.set("scriptUpdated",1)},e.prototype.initToolbar=function(){var t=this.em,n=this,i=t&&t.getConfig().stylePrefix||"";if(!n.get("toolbar")&&t){var o=[];n.collection&&o.push({label:t.getIcon("arrowUp"),command:function(a){return a.runCommand("core:component-exit",{force:1})}}),n.get("draggable")&&o.push({attributes:{class:"".concat(i,"no-touch-actions"),draggable:!0},label:t.getIcon("move"),command:"tlb-move"}),n.get("copyable")&&o.push({label:t.getIcon("copy"),command:"tlb-clone"}),n.get("removable")&&o.push({label:t.getIcon("delete"),command:"tlb-delete"}),n.set("toolbar",o)}},e.prototype.__loadTraits=function(t,n){n===void 0&&(n={});var i=t||this.traits;if(!(i instanceof cv)){i=(0,z.isFunction)(i)?i(this):i;var o=new cv([],this.opt);o.setTarget(this),i.length&&o.add(i),this.set({traits:o},n)}return this},e.prototype.getTraits=function(){return this.__loadTraits(),vo([],this.traits.models,!0)},e.prototype.setTraits=function(t){var n=(0,z.isArray)(t)?t:[t];return this.set({traits:n}),this.getTraits()},e.prototype.getTrait=function(t){return this.getTraits().filter(function(n){return n.get("id")===t||n.get("name")===t})[0]||null},e.prototype.updateTrait=function(t,n){var i,o=this.getTrait(t);return o&&o.set(n),(i=this.em)===null||i===void 0||i.trigger("component:toggled"),this},e.prototype.getTraitIndex=function(t){var n=this.getTrait(t);return n?this.traits.indexOf(n):-1},e.prototype.removeTrait=function(t){var n=this,i,o=(0,z.isArray)(t)?t:[t],a=o.map(function(c){return n.getTrait(c)}),l=this.traits,u=a.length?l.remove(a):[];return(i=this.em)===null||i===void 0||i.trigger("component:toggled"),(0,z.isArray)(u)?u:[u]},e.prototype.addTrait=function(t,n){var i;n===void 0&&(n={}),this.__loadTraits();var o=this.traits.add(t,n);return(i=this.em)===null||i===void 0||i.trigger("component:toggled"),(0,z.isArray)(o)?o:[o]},e.prototype.normalizeClasses=function(t){var n=[],i=this.em,o=i==null?void 0:i.Selectors;return o?t.models?vo([],t.models,!0):(t.forEach(function(a){return n.push(o.add(a))}),n):[]},e.prototype.clone=function(t){var n;t===void 0&&(t={});var i=this.em,o=He(He({},this.attributes),this.dataResolverWatchers.getDynamicPropsDefs()),a=He({},this.opt),l=this.getId(),u=i==null?void 0:i.Css;o.attributes=He({},o.attributes?this.dataResolverWatchers.getAttributesDefsOrValues(o.attributes):void 0),o.components=[],o.classes=[],o.traits=[],pl(this)&&(t.symbol=!0),this.get("components").each(function(C,w){o.components[w]=C.clone(He(He({},t),{_inner:1}))}),this.get("traits").each(function(C,w){o.traits[w]=C.clone()}),this.get("classes").each(function(C,w){o.classes[w]=C.get("name")}),o.status="",a.collection=null,a.forCloning=!0;var c=new this.constructor(o,a),d="#".concat(c.getId()),h=u?u.getRules("#".concat(l)):[];h.forEach(function(C){var w=C.clone();w.set("selectors",[d]),u.getAll().add(w)}),c.set(Wr,0);var g=ro(this),m=pi(this);if(!t.symbol&&(g||m))c.set(ci,0),c.set(Wr,0);else if(g){var _=(n=pi(g))!==null&&n!==void 0?n:[];g.set(Wr,vo(vo([],_,!0),[c],!1)),of(c)}else t.symbol&&(Qs(this)?(this.set(Wr,vo(vo([],m,!0),[c],!1)),c.set(ci,this),of(c)):t.symbolInv?(this.set(Wr,[c]),c.set(ci,this),[this,c].map(function(C){return of(C)})):(c.set(Wr,[this]),[this,c].map(function(C){return of(C)}),this.set(ci,c)));var b="component:clone";return i&&i.trigger(b,c),this.trigger(b,c),c},e.prototype.getName=function(t){t===void 0&&(t={});var n=this.em,i=this.attributes,o=i.type,a=i.tagName,l=i.name,u=o||a,c=o?"":a,d="domComponents.names.",h=l&&(n==null?void 0:n.t("".concat(d).concat(l))),g=c&&(n==null?void 0:n.t("".concat(d).concat(c))),m=n&&(n.t("".concat(d).concat(o))||n.t("".concat(d).concat(a))),_=this.get("custom-name");return(t.noCustom?"":_)||h||l||g||(0,Vt.capitalize)(c)||m||(0,Vt.capitalize)(u)},e.prototype.setName=function(t,n){n===void 0&&(n={}),this.set("custom-name",t,n)},e.prototype.getIcon=function(){var t=this.get("icon");return t?t+" ":""},e.prototype.toHTML=function(t){t===void 0&&(t={});var n=t.tag,i=n||this.get("tagName");delete t.tag;var o=this.__attrToString(t),a=o?" ".concat(o):"",l=this.getInnerHTML(t),u=!l&&this.get("void"),c="<".concat(i).concat(a).concat(u?"/":"",">").concat(l);return!u&&(c+="</".concat(i,">")),c},e.prototype.getInnerHTML=function(t){return this.__innerHTML(t)},e.prototype.__innerHTML=function(t){t===void 0&&(t={});var n=this.components();return n.length?n.map(function(i){return i.toHTML(t)}).join(""):this.content},e.prototype.__attrToString=function(t){t===void 0&&(t={});var n=[],i=t.attributes,o=this.getAttrToHTML(t);if(i&&((0,z.isFunction)(i)?o=i(this,o)||{}:(0,Vt.isObject)(i)&&(o=i)),t.withProps){var a=this.toJSON();(0,z.forEach)(a,function(h,g){var m=["classes","attributes","components"];g[0]!=="_"&&m.indexOf(g)<0&&(o["data-gjs-".concat(g)]=(0,z.isArray)(h)||(0,Vt.isObject)(h)?JSON.stringify(h):(0,z.isBoolean)(h)?"".concat(h):h)})}for(var l in o){var u=o[l];if(!(0,z.isUndefined)(u)&&u!==null)if((0,z.isBoolean)(u))u&&n.push(l);else{var c="";if(t.altQuoteAttr&&(0,z.isString)(u)&&u.indexOf('"')>=0)c="'".concat(u.replace(/'/g,"&apos;"),"'");else{var d=(0,z.isString)(u)?u.replace(/"/g,"&quot;"):u;c='"'.concat(d,'"')}n.push("".concat(l,"=").concat(c))}}return n.join(" ")},e.prototype.getAttrToHTML=function(t){var n=this.getAttributes();return pf(this.em)&&(t==null?void 0:t.keepInlineStyle)!==!0&&delete n.style,n},e.prototype.toJSON=function(t){t===void 0&&(t={});var n=tv.Model.prototype.toJSON.call(this,t);if(n=He(He({},n),this.dataResolverWatchers.getDynamicPropsDefs()),n.attributes=this.dataResolverWatchers.getAttributesDefsOrValues(this.getAttributes()),delete n.dataResolverWatchers,delete n.attributes.class,delete n.toolbar,delete n.traits,delete n.status,delete n.open,delete n._undoexc,delete n.delegate,this.collectionsStateMap&&Object.getOwnPropertyNames(this.collectionsStateMap).length>0&&(delete n[ci],delete n[mu],delete n[Wr],delete n.attributes.id),!t.fromUndo){var i=n[ci],o=n[Wr];o&&(0,z.isArray)(o)&&(n[Wr]=o.filter(function(a){return a}).map(function(a){return a.getId?a.getId():a})),i&&!(0,z.isString)(i)&&(n[ci]=i.getId())}return this.em.getConfig().avoidDefaults&&this.getChangedProps(n),n},e.prototype.getChangedProps=function(t){var n=t||tv.Model.prototype.toJSON.apply(this),i=(0,z.result)(this,"defaults");return(0,z.forEach)(i,function(o,a){["type"].indexOf(a)===-1&&n[a]===o&&delete n[a]}),(0,z.isEmpty)(n.type)&&delete n.type,(0,z.forEach)(["attributes","style"],function(o){(0,z.isEmpty)(i[o])&&(0,z.isEmpty)(n[o])&&delete n[o]}),(0,z.forEach)(["classes","components"],function(o){(!n[o]||(0,z.isEmpty)(i[o])&&!n[o].length)&&delete n[o]}),n},e.prototype.getId=function(){var t=this.get("attributes")||{},n=I5(this),i=n.shouldSync,o=n.itemId;return i&&(t.id=o),t.id||this.ccid||this.cid},e.prototype.setId=function(t,n){return this.addAttributes({id:t},n),this},e.prototype.getEl=function(t){var n=this.getView(t);return n&&n.el},e.prototype.getView=function(t){var n=this,i=n.view,o=n.views,a=n.em,l=t||(a==null?void 0:a.getCurrentFrameModel());return l&&(i=o.filter(function(u){return u.frameView===l.view})[0]),i},e.prototype.getCurrentView=function(){var t=this.em.getCurrentFrame(),n=t==null?void 0:t.model;return this.getView(n)},e.prototype.__getScriptProps=function(){var t=this.props(),n=this.get("script-props")||[];return n.reduce(function(i,o){return i[o]=t[o],i},{})},e.prototype.getScriptString=function(t){var n=this,i=t||this.get("script")||"";if(!i)return i;if(this.get("script-props"))i=i.toString().trim();else{if((0,z.isFunction)(i)){var o=i.toString().trim();o=o.slice(o.indexOf("{")+1,o.lastIndexOf("}")),i=o.trim()}var a=this.em.getConfig(),l=Fx(a.tagVarStart||"{[ "),u=Fx(a.tagVarEnd||" ]}"),c=new RegExp("".concat(l,"([\\w\\d-]*)").concat(u),"g");i=i.replace(c,function(d,h){n.scriptUpdated();var g=n.attributes[h]||"";return(0,z.isArray)(g)||typeof g=="object"?JSON.stringify(g):g})}return i},e.prototype.emitUpdate=function(t){for(var n,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];var a=this.em,l=pp+(t?":".concat(t):""),u=t&&this.get(t);t&&this.updated.apply(this,vo([t,u,t&&this.previous(t)],i,!1)),this.trigger.apply(this,vo([l],i,!1)),a&&a.trigger.apply(a,vo([l,this],i,!1)),["components","classes"].indexOf(t)>=0&&this.__propSelfToParent({component:this,changed:(n={},n[t]=u,n),options:i[2]||i[1]||{}})},e.prototype.emitWithEditor=function(t,n,i){[this.em,this].forEach(function(o){return o==null?void 0:o.trigger(t,n,i)})},e.prototype.onAll=function(t){return(0,z.isFunction)(t)&&(t(this),this.components().forEach(function(n){return n.onAll(t)})),this},e.prototype.forEachChild=function(t){(0,z.isFunction)(t)&&this.components().forEach(function(n){t(n),n.forEachChild(t)})},e.prototype.remove=function(t){var n=this;t===void 0&&(t={});var i=this.em,o=this.collection,a=function(){o&&o.remove(n,He({action:hn.t.remove},t)),o||(n.components("",t),n.components().removeChildren(n,void 0,t))},l=He({},t);return[this,i].map(function(u){return u.trigger(hn.I.removeBefore,n,a,l)}),!l.abort&&a(),this},e.prototype.destroy=function(t){return this.stopListening(this.components(),"add remove reset",this.syncOnComponentChange),this.dataResolverWatchers.destroy(),this.__onDestroy(),r.prototype.destroy.call(this,t)},e.prototype.move=function(t,n){if(n===void 0&&(n={}),t){var i=n.at,o=this.index(),a=t===this.parent(),l=o===i||o===i-1;if(!a||!l){a&&i&&i>o&&(n.at=i-1);var u=hn.t.move;this.remove({action:u,temporary:1}),t.append(this,He({action:u},n)),this.emitUpdate()}}return this},e.prototype.isInstanceOf=function(t){var n,i,o=(i=(n=this.em)===null||n===void 0?void 0:n.Components.getType(t))===null||i===void 0?void 0:i.model;if(!o)return!1;var a=this.constructor.typeExtends;return this instanceof o||a.has(t)},e.prototype.isChildOf=function(t){for(var n=(0,z.isString)(t),i=this.parent();i;){if(n){if(i.isInstanceOf(t))return!0}else if(i===t)return!0;i=i.parent()}return!1},e.prototype.resetId=function(t){var n=this.em,i=this.getId();if(!i)return this;var o=e.createId(this);this.setId(o);var a=n==null?void 0:n.Css.getIdRule(i),l=a==null?void 0:a.get("selectors").at(0);return l==null||l.set("name",o),this},e.prototype._getStyleRule=function(t){var n=t===void 0?{}:t,i=n.id,o=this.em,a=i||this.getId();return o==null?void 0:o.Css.getIdRule(a)},e.prototype._getStyleSelector=function(t){var n=this._getStyleRule(t);return n==null?void 0:n.get("selectors").at(0)},e.prototype._idUpdated=function(t,n,i){if(i===void 0&&(i={}),!i.idUpdate){var o=this.ccid,a=(this.get("attributes")||{}).id,l=(this.previous("attributes")||{}).id||o,u=e.getList(this);if(u[a]||!a&&l)return this.setId(l,{idUpdate:!0});delete u[l],u[a]=this,this.ccid=a;var c=this._getStyleSelector({id:l});c&&c.set({name:a,label:a})}},e.getDefaults=function(){return(0,z.result)(this.prototype,"defaults")},e.isComponent=function(t,n){return{tagName:(0,Vt.toLowerCase)(t.tagName)}},e.ensureInList=function(t){var n=e.getList(t),i=t.getId(),o=n[i];if(!o)n[i]=t;else if(o!==t){var a=e.getIncrementId(i,n);t.setId(a),n[a]=t}t.components().forEach(function(l){return e.ensureInList(l)})},e.createId=function(t,n){n===void 0&&(n={});var i=e.getList(t),o=n.idMap,a=o===void 0?{}:o,l=t.get("attributes").id,u;return l?(u=e.getIncrementId(l,i,n),t.setId(u),l!==u&&(a[l]=u)):u=e.getNewId(i),i[u]=t,u},e.getNewId=function(t){for(var n=Object.keys(t).length,i=n.toString().length+2,o=(Math.random()+1.1).toString(36).slice(-i),a="i".concat(o);t[a];)a=e.getNewId(t);return a},e.getIncrementId=function(t,n,i){i===void 0&&(i={});var o=i.keepIds,a=o===void 0?[]:o,l=1,u=t;if(a.indexOf(t)<0)for(;n[u];)l++,u="".concat(t,"-").concat(l);return u},e.getList=function(t){var n,i=t.em,o=i==null?void 0:i.Components;return(n=o==null?void 0:o.componentsById)!==null&&n!==void 0?n:{}},e.checkId=function(t,n,i,o){n===void 0&&(n=[]),i===void 0&&(i={}),o===void 0&&(o={});var a=(0,z.isArray)(t)?t:[t],l=o.keepIds,u=l===void 0?[]:l,c=o.idMap,d=c===void 0?{}:c;a.forEach(function(h){h.attributes;var g=h.attributes,m=g===void 0?{}:g,_=h.components,b=m.id;if(b&&i[b]&&u.indexOf(b)<0){var C=e.getIncrementId(b,i);d[b]=C,m.id=C,(0,z.isArray)(n)&&n.forEach(function(w){var x=w.selectors;x.forEach(function(O,k){O==="#".concat(b)&&(x[k]="#".concat(C))})})}_&&e.checkId(_,n,i,o)})},e.typeExtends=new Set,e}(i2);const jn=f4;var d4=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),dv=function(){return dv=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},dv.apply(this,arguments)},zu="head",h4=["title","style","base","link","meta","script","noscript"],p4=function(r){d4(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"defaults",{get:function(){return dv(dv({},r.prototype.defaults),{type:zu,tagName:zu,draggable:!1,highlightable:!1,droppable:function(t){var n=t.tagName;return!n||h4.includes((0,Vt.toLowerCase)(n))}})},enumerable:!1,configurable:!0}),e.isComponent=function(t){return(0,Vt.toLowerCase)(t.tagName)===zu},e}(jn);const v4=p4;var gl=We(8433),g4=We(1447),m4=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),y4=function(r){m4(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.canMove=function(t,n){var i=this,o=this.getRealIndex(n),a=t._dragSource,l=a.model,u=a.content,c=a.dragDef,d=!l||!this.isSourceSameSymbol(l),h=((0,z.isFunction)(u)?c:u)||t.model;return Array.isArray(h)?d&&h.every(function(g,m){return i.canMoveSingleContent(g,o+m)}):d&&this.canMoveSingleContent(h,o)},e.prototype.canMoveSingleContent=function(t,n){return this.model.em.Components.canMove(this.model,t,n).result},e.prototype.addChildAt=function(t,n){var i=t._dragSource,o=i.content,a=this.isTextNode()&&t.isTextable(),l=(0,z.isFunction)(o)?o():o;return Array.isArray(l)?this.addMultipleChildren(l,n,a):this.addSingleChild(l,n,a)},e.prototype.addSingleChild=function(t,n,i){var o,a,l,u,c;return i?c=(u=(l=(a=(o=this.model)===null||o===void 0?void 0:o.getView)===null||a===void 0?void 0:a.call(o))===null||l===void 0?void 0:l.insertComponent)===null||u===void 0?void 0:u.call(l,t,{action:"add-component"}):c=this.model.components().add(t,{at:this.getRealIndex(n),action:"add-component"}),new this.constructor(c)},e.prototype.addMultipleChildren=function(t,n,i){var o=this,a;return t.forEach(function(l,u){a=o.addSingleChild(l,n+u,i)}),a},e.prototype.isSourceSameSymbol=function(t){if(Vo(this.model)){var n=ld(this.model),i=Qs(n)?n:ro(n);if(i===t)return!0}return!1},Object.defineProperty(e.prototype,"content",{set:function(t){this._dragSource.content=t},enumerable:!1,configurable:!0}),e}(g4.A);const d2=y4;var yu=function(){return yu=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},yu.apply(this,arguments)},_4=function(){function r(e,t){var n=this;this.em=e,this.canvas=e.Canvas;var i=t||this.canvas.getFrames().map(function(a){return a.getComponent().getEl()}),o=Array.isArray(i)?i:[i];this.el=o[0],this.counter=0,(0,z.bindAll)(this,"handleDragEnter","handleDragOver","handleDrop","handleDragLeave","handleDragEnd"),o.forEach(function(a){return n.toggleEffects(a,!0)})}return r.prototype.toggleEffects=function(e,t){var n={on:ae.on,off:ae.AU},i=t?"on":"off";n[i](e,"dragenter",this.handleDragEnter),n[i](e,"dragover",this.handleDragOver),n[i](e,"drop",this.handleDrop),n[i](e,"dragleave",this.handleDragLeave)},r.prototype.__customTglEff=function(e){var t,n=e?ae.on:ae.AU,i=this.el.ownerDocument,o=(t=i.defaultView)===null||t===void 0?void 0:t.frameElement,a=function(l){return{legacyOnStartSort:function(){(0,ae.on)(o,"pointermove",l.onMove)},legacyOnEnd:function(){(0,ae.AU)(o,"pointermove",l.onMove)},customTarget:function(u){var c=u.event;return i.elementFromPoint(c.clientX,c.clientY)}}};this.getSorterOptions=e?a:void 0,n(o,"pointerenter",this.handleDragEnter),n(o,"pointermove",this.handleDragOver),n(document,"pointerup",this.handleDrop),n(o,"pointerout",this.handleDragLeave)},r.prototype.startCustom=function(){this.__customTglEff(!0)},r.prototype.endCustom=function(e){this.over?this.endDrop(e):this.__customTglEff(!1)},r.prototype.endDrop=function(e,t){var n=this,i=n.em,o=n.dragStop;this.counter=0,o&&o(e||!this.over),this.__customTglEff(!1),i.trigger("canvas:dragend",t)},r.prototype.handleDragLeave=function(e){this.updateCounter(-1,e)},r.prototype.updateCounter=function(e,t){this.counter+=e,this.counter===0&&this.endDrop(!0,t)},r.prototype.handleDragEnter=function(e){var t=this,n,i,o,a=this,l=a.em,u=a.canvas,c=e.dataTransfer,d=l.get("dragSource");if(!(!(d!=null&&d.content)&&!u.getConfig().allowExternalDrop)&&(this.updateCounter(1,e),!this.over)){this.over=!0;var h=l.Utils,g=(d==null?void 0:d.content)||"<br>",m;if(l.stopDefault(),l.inAbsoluteMode()){var _=l.Components.getWrapper(),b=_.append({})[0],C=l.Commands.run("core:component-drag",{event:e,guidesInfo:1,center:1,target:b,onEnd:function(Z,$,Y){var U=Y.cancelled,Q;if(!U&&g){Q=_.append(g)[0];var H=u.getOffset(),D=b.getStyle(),I=D.top,T=D.left,tt=D.position,M=(0,ae.Xy)(Z.target),ot=parseInt("".concat(parseFloat(T)+M.x-H.left),10),dt=parseInt("".concat(parseFloat(I)+M.y-H.top),10);Q.addStyle({left:ot+"px",top:dt+"px",position:tt})}t.handleDragEnd(Q,c),b.remove()}});m=function(Z){return C.stop(e,{cancel:Z})},this.setAbsoluteDragContent=function(Z){return g=Z}}else{var w=new h.ComponentSorter({em:l,treeClass:d2,containerContext:{container:this.el,containerSel:"*",itemSel:"*",pfx:"gjs-",placeholderElement:u.getPlacerEl(),document:this.el.ownerDocument},dragBehavior:{dragDirection:gl.A.BothDirections,nested:!0},positionOptions:{windowMargin:1,canvasRelative:!0},eventHandlers:{legacyOnEndMove:this.handleDragEnd}}),x=(n=this.getSorterOptions)===null||n===void 0?void 0:n.call(this,w);x&&(w.eventHandlers.legacyOnStartSort=x.legacyOnStart,w.eventHandlers.legacyOnEnd=x.legacyOnEnd,w.containerContext.customTarget=x.customTarget);var O=this.getTempDropModel(g),k=(i=O.view)===null||i===void 0?void 0:i.el,V=k?[{element:k,dragSource:d}]:[];w.startSort(V),this.sorter=w,this.draggedNode=(o=w.sourceNodes)===null||o===void 0?void 0:o[0],m=function(Z){Z?w.cancelDrag():w.endDrag()}}this.dragStop=m,l.trigger("canvas:dragenter",c,g)}},r.prototype.getTempDropModel=function(e){var t,n=this.em.Components.getComponents(),i={avoidChildren:1,avoidStore:1,avoidUpdateStyle:1},o=n.add(e,yu(yu({},i),{temporary:!0})),a=n.remove(o,yu(yu({},i),{temporary:!0}));return a=a instanceof Array?a[0]:a,(t=a.view)===null||t===void 0||t.$el.data("model",a),a},r.prototype.handleDragEnd=function(e,t){var n=this.em;this.over=!1,e&&(n.set("dragResult",e),n.trigger("canvas:drop",t,e)),n.runDefault({preserveSelected:1})},r.prototype.handleDragOver=function(e){e.preventDefault(),this.em.trigger("canvas:dragover",e)},r.prototype.handleDrop=function(e){var t;e.preventDefault();var n=e.dataTransfer,i=this.getContentByData(n).content;this.draggedNode&&(this.draggedNode.content=i),(t=this.setAbsoluteDragContent)===null||t===void 0||t.call(this,i),this.endDrop(!i,e)},r.prototype.getContentByData=function(e){var t=this.em,n=e&&e.types,i=e&&e.files||[],o=t.get("dragSource"),a=e&&e.getData("text");if(i.length){a=[];for(var l=0;l<i.length;l++){var u=i[l],c=u.type.split("/")[0];c=="image"&&a.push({type:c,file:u,attributes:{alt:u.name}})}}else if(o!=null&&o.content)a=o.content;else if((0,z.indexOf)(n,"text/html")>=0)a=e&&e.getData("text/html").replace(/<\/?meta[^>]*>/g,"");else if((0,z.indexOf)(n,"text/uri-list")>=0)a={type:"link",attributes:{href:a},content:a};else if((0,z.indexOf)(n,"text/json")>=0){var d=e&&e.getData("text/json");d&&(a=JSON.parse(d))}else n.length===1&&n[0]==="text/plain"&&(a="<div>".concat(a,"</div>"));var h={content:a};return t.trigger("canvas:dragdata",e,h),h},r}();const b4=_4;var w4=function(){function r(e,t){e===void 0&&(e=50);var n;this.dragging=!1,this.lastMaxHeight=0,this.zoom=1,this.rectIsInScrollIframe=!1,this.autoscrollLimit=e,this.lastMaxHeight=(n=t==null?void 0:t.lastMaxHeight)!==null&&n!==void 0?n:0,this.onScroll=t==null?void 0:t.onScroll,this.rectIsInScrollIframe=!!(t!=null&&t.rectIsInScrollIframe),(0,z.bindAll)(this,"start","autoscroll","updateClientY","stop")}return r.prototype.start=function(e,t,n){var i=this;this.eventEl=e,this.scrollEl=t,this.lastMaxHeight=(n==null?void 0:n.lastMaxHeight)||Number.POSITIVE_INFINITY,this.zoom=(n==null?void 0:n.zoom)||1,setTimeout(function(){i.toggleAutoscrollFx(!0),requestAnimationFrame(i.autoscroll)},0)},r.prototype.autoscroll=function(){var e,t,n=this.scrollEl;if(this.dragging&&n){var i=(e=this.lastClientY)!==null&&e!==void 0?e:0,o=this.autoscrollLimit,a=this.getEventElHeight(),l=a-o,u=0;i<o&&(u+=i-o),i>l&&(u+=i-l);var c=this.getElScrollTop(n);this.lastClientY!==void 0&&u!==0&&this.lastMaxHeight-u>c&&(n.scrollBy({top:u,left:0,behavior:"auto"}),(t=this.onScroll)===null||t===void 0||t.call(this)),requestAnimationFrame(this.autoscroll)}},r.prototype.getEventElHeight=function(){var e=this.eventEl;if(!e)return 0;var t=e.getBoundingClientRect();return t.height},r.prototype.updateClientY=function(e){var t=this.scrollEl;e.preventDefault();var n=this.rectIsInScrollIframe?0:this.getElScrollTop(t);this.lastClientY=(0,ae.G2)(e).clientY*this.zoom-n},r.prototype.getElScrollTop=function(e){return(e instanceof HTMLElement?e.scrollTop:e==null?void 0:e.scrollY)||0},r.prototype.toggleAutoscrollFx=function(e){this.dragging=e;var t=this.eventEl;if(t){var n=e?"on":"off",i={on:ae.on,off:ae.AU};i[n](t,"mousemove dragover",this.updateClientY),i[n](t,"mouseup",this.stop)}},r.prototype.stop=function(){this.toggleAutoscrollFx(!1)},r}();const h2=w4;var S4=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Gi=function(){return Gi=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Gi.apply(this,arguments)},C4=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))},x4=function(r){S4(e,r);function e(t,n){var i=r.call(this,{model:t})||this;i.dragging=!1,i.loaded=!1,i.lastMaxHeight=0,i.tools={},(0,z.bindAll)(i,"startAutoscroll","stopAutoscroll","_emitUpdate");var o=i.el;i.module._config=Gi(Gi({},i.config||{}),{frameView:i}),i.frameWrapView=n,i.showGlobalTools=(0,z.debounce)(i.showGlobalTools.bind(i),50);var a=i.getCanvasModel();return i.listenTo(t,"change:head",i.updateHead),i.listenTo(a,"change:styles",i.renderStyles),t.view=i,(0,Vt.setViewEl)(o,i),i.autoScroller=new h2(i.config.autoscrollLimit,{rectIsInScrollIframe:!0,onScroll:function(){var l=i.getGlobalToolsEl();l.style.opacity="0",i.showGlobalTools(),i.em.Canvas.spots.refreshDbn()}}),i}return Object.defineProperty(e.prototype,"tagName",{get:function(){return"iframe"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"attributes",{get:function(){return{allowfullscreen:"allowfullscreen"}},enumerable:!1,configurable:!0}),e.prototype.getBoxRect=function(){var t=this,n=t.el,i=t.module,o=i.getCanvasView(),a=i.getCoords(),l=n.getBoundingClientRect(),u=o.getCanvasOffset(),c=o.getViewportDelta(),d=i.getZoomMultiplier(),h=(l.x-u.left-c.x-a.x)*d,g=(l.y-u.top-c.y-a.y)*d,m=l.width*d,_=l.height*d;return{x:h,y:g,width:m,height:_}},e.prototype.updateHead=function(){var t=this.model,n=this.getHead(),i=[],o=[],a=t.head,l=t.previous("head"),u=function(d){return d===void 0&&(d={}),Object.keys(d).sort().map(function(h){return"[".concat(h,'="').concat(d[h],'"]')}).join("")},c=function(d,h,g){d.forEach(function(m){var _=m.tag,b=m.attributes,C=h.some(function(w){return w.tag===_&&u(w.attributes)===u(b)});!C&&g.push(m)})};c(a,l,o),c(l,a,i),i.forEach(function(d){var h,g=n.querySelector("".concat(d.tag).concat(u(d.attributes)));(h=g==null?void 0:g.parentNode)===null||h===void 0||h.removeChild(g)}),(0,ae.af)(n,o)},e.prototype.getEl=function(){return this.el},e.prototype.getCanvasModel=function(){var t;return(t=this===null||this===void 0?void 0:this.em.Canvas)===null||t===void 0?void 0:t.getModel()},e.prototype.getWindow=function(){return this.getEl().contentWindow},e.prototype.getDoc=function(){return this.getEl().contentDocument},e.prototype.getHead=function(){return this.getDoc().querySelector("head")},e.prototype.getBody=function(){return this.getDoc().querySelector("body")},e.prototype.getWrapper=function(){return this.getBody().querySelector("[data-gjs-type=wrapper]")},e.prototype.getJsContainer=function(){return this.jsContainer||(this.jsContainer=(0,ae.a_)("div",{class:"".concat(this.ppfx,"js-cont")})),this.jsContainer},e.prototype.getToolsEl=function(){var t;return(t=this.frameWrapView)===null||t===void 0?void 0:t.elTools},e.prototype.getGlobalToolsEl=function(){return this.em.Canvas.getGlobalToolsEl()},e.prototype.getHighlighter=function(){return this._getTool("[data-hl]")},e.prototype.getBadgeEl=function(){return this._getTool("[data-badge]")},e.prototype.getOffsetViewerEl=function(){return this._getTool("[data-offset]")},e.prototype.getRect=function(){return this.rect||(this.rect=this.el.getBoundingClientRect()),this.rect},e.prototype.getOffsetRect=function(){var t=this.el,n=this.getBody(),i=n.scrollTop,o=n.scrollLeft,a=t.offsetHeight,l=t.offsetWidth;return{top:t.offsetTop,left:t.offsetLeft,height:a,width:l,scrollTop:i,scrollLeft:o,scrollBottom:i+a,scrollRight:o+l}},e.prototype._getTool=function(t){var n=this.tools,i=this.getToolsEl();return n[t]||(n[t]=i.querySelector(t)),n[t]},e.prototype.remove=function(){for(var t,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return this._toggleEffects(!1),this.tools={},(t=this.wrapper)===null||t===void 0||t.remove(),ao.prototype.remove.apply(this,n),this},e.prototype.startAutoscroll=function(){this.autoScroller.start(this.el,this.getWindow(),{lastMaxHeight:this.getWrapper().offsetHeight-this.el.offsetHeight,zoom:this.em.getZoomDecimal()})},e.prototype.stopAutoscroll=function(){this.autoScroller.stop()},e.prototype.showGlobalTools=function(){this.getGlobalToolsEl().style.opacity=""},e.prototype.render=function(){var t=this,n=t.$el,i=t.ppfx,o=t.em;return n.attr({class:"".concat(i,"frame")}),this.renderScripts(),o.trigger("frame:render",this),this},e.prototype.renderScripts=function(){var t=this,n=this,i=n.el,o=n.model,a=n.em,l="frame:load",u={el:i,model:o,view:this},c=this.getCanvasModel(),d=function(h){var g;if(h.length>0){var m=h.shift(),_=(0,ae.a_)("script",Gi({type:"text/javascript"},(0,z.isString)(m)?{src:m}:m));(g=i.contentDocument)===null||g===void 0||g.head.appendChild(_),_.hasAttribute("nomodule")&&"noModule"in HTMLScriptElement.prototype?d(h):_.onerror=_.onload=d.bind(null,h)}else a==null||a.trigger(fp.frameLoadHead,u),t.renderBody(),a==null||a.trigger(fp.frameLoadBody,u),a==null||a.trigger(l,u)};i.onload=function(){var h=t.config.frameContent;if(h){var g=t.getDoc();g.open(),g.write(h),g.close()}u.window=t.getWindow(),a==null||a.trigger("".concat(l,":before"),u),a==null||a.trigger(fp.frameLoad,u),t.renderHead(),d(C4([],c.get("scripts"),!0))}},e.prototype.renderStyles=function(t){t===void 0&&(t={});var n=this.getHead(),i=this.getCanvasModel(),o=function(h){return h===void 0&&(h=[]),h.map(function(g){return{tag:"link",attributes:Gi({rel:"stylesheet"},(0,z.isString)(g)?{href:g}:g)}})},a=o(t.prev||i.previous("styles")),l=o(i==null?void 0:i.get("styles")),u=[],c=[],d=function(h,g,m){h.forEach(function(_){var b=_.attributes.href,C=g.some(function(w){return w.attributes.href===b});!C&&m.push(_)})};d(l,a,c),d(a,l,u),u.forEach(function(h){var g,m=n.querySelector('link[href="'.concat(h.attributes.href,'"]'));(g=m==null?void 0:m.parentNode)===null||g===void 0||g.removeChild(m)}),(0,ae.af)(n,c)},e.prototype.renderHead=function(){var t,n=this,i=n.model,o=n.em,a=i.root,l=(t=o==null?void 0:o.Components)===null||t===void 0?void 0:t.getType(zu).view;l&&(this.headView=new l({el:this.getHead(),model:a.head,config:Gi(Gi({},a.config),{frameView:this})}).render())},e.prototype.renderBody=function(){var t=this,n,i,o,a=this,l=a.config,u=a.em,c=a.model,d=a.ppfx,h=this.getDoc(),g=this.getBody(),m=this.getWindow(),_=c.hasAutoHeight(),b=u.config;m._isEditor=!0,this.renderStyles({prev:[]});var C="#ffca6f";(0,ae.BC)(g,`<style>
      `.concat(b.baseCss||l.frameStyle||"",`

      `).concat(_?"body { overflow: hidden }":"",`

      [data-gjs-type="wrapper"] {
        `).concat(_?"":"min-height: 100vh;",`
        padding-top: 0.001em;
      }

      .`).concat(d,`dashed *[data-gjs-highlightable] {
        outline: 1px dashed rgba(170,170,170,0.7);
        outline-offset: -2px;
      }

      .`).concat(d,`selected {
        outline: 2px solid #3b97e3 !important;
        outline-offset: -2px;
      }

      .`).concat(d,`selected-parent {
        outline: 2px solid `).concat(C,` !important
      }

      .`).concat(d,`no-select {
        user-select: none;
        -webkit-user-select:none;
        -moz-user-select: none;
      }

      .`).concat(d,`freezed {
        opacity: 0.5;
        pointer-events: none;
      }

      .`).concat(d,`no-pointer {
        pointer-events: none;
      }

      .`).concat(d,`pointer-init {
        pointer-events: initial;
      }

      .`).concat(d,`plh-image {
        background: #f5f5f5;
        border: none;
        height: 100px;
        width: 100px;
        display: block;
        outline: 3px solid #ffca6f;
        cursor: pointer;
        outline-offset: -2px
      }

      .`).concat(d,`grabbing {
        cursor: grabbing;
        cursor: -webkit-grabbing;
      }

      .`).concat(d,`is__grabbing {
        overflow-x: hidden;
      }

      .`).concat(d,`is__grabbing,
      .`).concat(d,`is__grabbing * {
        cursor: grabbing !important;
      }

      `).concat(b.canvasCss||"",`
      `).concat(b.protectedCss||"",`
    </style>`));var w=c.root,x=(((n=u==null?void 0:u.Components)===null||n===void 0?void 0:n.getType("wrapper"))||{}).view;x&&(typeof l.customRenderer=="function"?this.wrapper=l.customRenderer({editor:u.Editor,frame:c,window:m,frameView:this}):this.wrapper=new x({model:w,config:Gi(Gi({},w.config),{em:u,frameView:this})}).render(),(0,ae.BC)(g,(i=this.wrapper)===null||i===void 0?void 0:i.el),(0,ae.BC)(g,new JA({collection:c.getStyles(),config:Gi(Gi({},u.Css.getConfig()),{frameView:this})}).render().el),(0,ae.BC)(g,this.getJsContainer()),(0,ae.on)(g,"click",function(O){var k;return O&&((k=O.target)===null||k===void 0?void 0:k.tagName)=="A"&&O.preventDefault()}),(0,ae.on)(g,"submit",function(O){return O&&O.preventDefault()}),[{event:"keydown keyup keypress",class:"KeyboardEvent"},{event:"mousedown mousemove mouseup",class:"MouseEvent"},{event:"pointerdown pointermove pointerup",class:"PointerEvent"},{event:"wheel",class:"WheelEvent",opts:{passive:!l.infiniteCanvas}}].forEach(function(O){return O.event.split(" ").forEach(function(k){h.addEventListener(k,function(V){return t.el.dispatchEvent((0,ae.yL)(V,O.class))},O.opts)})}),this._toggleEffects(!0),(0,Vt.hasDnd)(u)&&(this.droppable=new b4(u,(o=this.wrapper)===null||o===void 0?void 0:o.el)),this.loaded=!0,c.trigger("loaded"))},e.prototype._toggleEffects=function(t){var n=t?ae.on:ae.AU,i=this.getWindow();i&&n(i,"".concat(ae.D8," resize"),this._emitUpdate)},e.prototype._emitUpdate=function(){this.model._emitUpdated()},e}(ao);const O4=x4;var p2=We(9966),E4=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),_u=function(){return _u=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},_u.apply(this,arguments)},T4=function(r){E4(e,r);function e(t,n){var i=r.call(this,{model:t})||this;return(0,z.bindAll)(i,"onScroll","frameLoaded","updateOffset","remove","startDrag"),_u(_u({},t.config),{frameWrapView:i}),i.cv=n,i.frame=new O4(t,i),i.classAnim="".concat(i.ppfx,"frame-wrapper--anim"),i.updateOffset=(0,z.debounce)(i.updateOffset.bind(i),0),i.updateSize=(0,z.debounce)(i.updateSize.bind(i),0),i.listenTo(t,"loaded",i.frameLoaded),i.listenTo(t,"change:x change:y",i.updatePos),i.listenTo(t,"change:width change:height",i.updateSize),i.listenTo(t,"destroy remove",i.remove),i.updatePos(),i.setupDragger(),i}return e.prototype.events=function(){return{"click [data-action-remove]":"remove","mousedown [data-action-move]":"startDrag"}},e.prototype.setupDragger=function(){var t=this,n=this,i=n.module,o=n.model,a,l,u,c=function(d){i.toggleFramesEvents(d)};this.dragger=new p2.A({onStart:function(){var d=o.attributes,h=d.x,g=d.y;u=t.em.getZoomMultiplier(),a=h,l=g,c(!1)},onEnd:function(){return c(!0)},setPosition:function(d){o.set({x:a+d.x*u,y:l+d.y*u})}})},e.prototype.startDrag=function(t){var n;t&&((n=this.dragger)===null||n===void 0||n.start(t))},e.prototype.__clear=function(t){var n=this.frame;n&&n.remove(t),(0,ae.YZ)(this.elTools)},e.prototype.remove=function(t){var n=this,i;return(i=this.sizeObserver)===null||i===void 0||i.disconnect(),this.__clear(t),ao.prototype.remove.apply(this,t),["frame","dragger","cv","elTools"].forEach(function(o){return n[o]=0}),this},e.prototype.updateOffset=function(){var t,n=this,i=n.em,o=n.$el,a=n.frame;!i||i.destroyed||(i.runDefault({preserveSelected:1}),o.removeClass(this.classAnim),(t=a==null?void 0:a.model)===null||t===void 0||t._emitUpdated())},e.prototype.updatePos=function(t){var n=this,i=n.model,o=n.el,a=i.attributes,l=a.x,u=a.y,c=o.style;this.frame.rect=void 0,c.left=isNaN(l)?l:"".concat(l,"px"),c.top=isNaN(u)?u:"".concat(u,"px"),t&&this.updateOffset()},e.prototype.updateSize=function(){this.updateDim()},e.prototype.updateDim=function(){var t=this,n=t.em,i=t.el,o=t.$el,a=t.model,l=t.classAnim,u=t.frame;if(u){u.rect=void 0,o.addClass(l);var c=this.__handleSize(),d=c.noChanges,h=c.width,g=c.height;((0,z.isNull)(h)||(0,z.isNull)(g))&&a.set(_u(_u({},h?{}:{width:i.offsetWidth}),g?{}:{height:i.offsetHeight}),{silent:1}),n.stopDefault({preserveSelected:1}),d?this.updateOffset():setTimeout(this.updateOffset,350)}},e.prototype.onScroll=function(){var t=this,n=t.frame,i=t.em;i.trigger("frame:scroll",{frame:n,body:n.getBody(),target:n.getWindow()})},e.prototype.frameLoaded=function(){var t=this,n=t.frame;t.config,n.getWindow().onscroll=this.onScroll,this.updateDim()},e.prototype.__handleSize=function(){var t,n="px",i=this,o=i.model,a=i.el,l=a.style,u=o.attributes,c=u.width,d=u.height,h=l.width||"",g=l.height||"",m=c||"",_=d||"",b=h==m&&g==_,C=(0,z.isNumber)(m)?"".concat(m).concat(n):m,w=(0,z.isNumber)(_)?"".concat(_).concat(n):_;if(l.width=C,(t=this.sizeObserver)===null||t===void 0||t.disconnect(),o.hasAutoHeight()){var x=this.frame.el,O=x.contentDocument;if(O){var k=new ResizeObserver(function(){var V=parseFloat(o.get("minHeight"))||0,Z=Math.max(O.body.scrollHeight,V);l.height="".concat(Z,"px")});k.observe(O.body),this.sizeObserver=k}}else l.height=w,delete this.sizeObserver;return{noChanges:b,width:c,height:d,newW:m,newH:_}},e.prototype.render=function(){var t=this,n=t.frame,i=t.$el,o=t.ppfx,a=t.cv,l=t.model,u=t.el,c=l.attributes.onRender;this.__clear(),this.__handleSize(),n.render(),i.empty().attr({class:"".concat(o,"frame-wrapper")}).append(`
      <div class="`.concat(o,`frame-wrapper__top gjs-two-color" data-frame-top>
        <div class="`).concat(o,`frame-wrapper__name" data-action-move>
          `).concat(l.get("name")||"",`
        </div>
        <div class="`).concat(o,`frame-wrapper__top-r">
          <div class="`).concat(o,`frame-wrapper__icon" data-action-remove style="display: none">
            <svg viewBox="0 0 24 24"><path d="M19 4h-3.5l-1-1h-5l-1 1H5v2h14M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12z"></path></svg>
          </div>
        </div>
      </div>
      <div class="`).concat(o,`frame-wrapper__right" data-frame-right></div>
      <div class="`).concat(o,`frame-wrapper__left" data-frame-left></div>
      <div class="`).concat(o,`frame-wrapper__bottom" data-frame-bottom></div>
      `)).append(n.el);var d=(0,ae.a_)("div",{class:"".concat(o,"tools"),style:"pointer-events:none; display: none"},`
      <div class="`.concat(o,`highlighter" data-hl></div>
      <div class="`).concat(o,`badge" data-badge></div>
      <div class="`).concat(o,`placeholder">
        <div class="`).concat(o,`placeholder-int"></div>
      </div>
      <div class="`).concat(o,`ghost"></div>
      <div class="`).concat(o,`toolbar" style="pointer-events:all"></div>
      <div class="`).concat(o,`resizer"></div>
      <div class="`).concat(o,`offset-v" data-offset>
        <div class="gjs-marginName" data-offset-m>
          <div class="gjs-margin-v-el gjs-margin-v-top" data-offset-m-t></div>
          <div class="gjs-margin-v-el gjs-margin-v-bottom" data-offset-m-b></div>
          <div class="gjs-margin-v-el gjs-margin-v-left" data-offset-m-l></div>
          <div class="gjs-margin-v-el gjs-margin-v-right" data-offset-m-r></div>
        </div>
        <div class="gjs-paddingName" data-offset-m>
          <div class="gjs-padding-v-el gjs-padding-v-top" data-offset-p-t></div>
          <div class="gjs-padding-v-el gjs-padding-v-bottom" data-offset-p-b></div>
          <div class="gjs-padding-v-el gjs-padding-v-left" data-offset-p-l></div>
          <div class="gjs-padding-v-el gjs-padding-v-right" data-offset-p-r></div>
        </div>
      </div>
      <div class="`).concat(o,`offset-fixed-v"></div>
    `));this.elTools=d;var h=a==null?void 0:a.toolsWrapper;return h&&h.appendChild(d),c&&c({el:u,elTop:u.querySelector("[data-frame-top]"),elRight:u.querySelector("[data-frame-right]"),elBottom:u.querySelector("[data-frame-bottom]"),elLeft:u.querySelector("[data-frame-left]"),frame:l,frameWrapperView:this,remove:this.remove,startDrag:this.startDrag}),this},e}(ao);const A4=T4;var k4=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),D4=function(r){k4(e,r);function e(t,n){t===void 0&&(t={});var i=r.call(this,t,!0)||this;return i.listenTo(i.collection,"reset",i.render),i.canvasView=n.canvasView,i._module=n.module,i}return e.prototype.onRemoveBefore=function(t,n){n===void 0&&(n={}),t.forEach(function(i){return i.remove(n)})},e.prototype.onRender=function(){var t=this,n=t.$el,i=t.ppfx;n.attr({class:"".concat(i,"frames")})},e.prototype.clearItems=function(){var t=this.viewCollection||[];t.forEach(function(n){return n.remove()}),this.viewCollection=[]},e.prototype.renderView=function(t,n){return new A4(t,this.canvasView)},e}(l5);const P4=D4;var M4=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),hv=function(){return hv=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},hv.apply(this,arguments)},R4=function(r){M4(e,r);function e(t){var n=r.call(this,{model:t})||this;n.ready=!1,(0,z.bindAll)(n,"clearOff","onKeyPress","onWheel","onPointer");var i=n,o=i.em,a=i.pfx,l=i.ppfx,u=n.module.events;return n.className="".concat(a,"canvas ").concat(l,"no-touch-actions").concat(o.config.customUI?"":" ".concat(a,"canvas-bg")),n.clsUnscale="".concat(a,"unscale"),n._initFrames(),n.listenTo(o,u.refresh,n.clearOff),n.listenTo(o,"component:selected",n.checkSelected),n.listenTo(o,"".concat(u.coords," ").concat(u.zoom),n.updateFrames),n.listenTo(t,"change:frames",n._onFramesUpdate),n.toggleListeners(!0),n}return e.prototype.template=function(){var t=this.pfx;return`
      <div class="`.concat(t,`canvas__frames" data-frames>
        <div class="`).concat(t,`canvas__spots" data-spots></div>
      </div>
      <div id="`).concat(t,'tools" class="').concat(t,`canvas__tools" data-tools></div>
      <style data-canvas-style></style>
    `)},e.prototype._onFramesUpdate=function(){this._initFrames(),this._renderFrames()},e.prototype._initFrames=function(){var t=this,n=t.frames,i=t.model,o=t.config,a=t.em,l=i.frames;a.set("readyCanvas",0),l.once("loaded:all",function(){return a.set("readyCanvas",1)}),n==null||n.remove(),this.frames=new P4({collection:l},hv(hv({},o),{canvasView:this}))},e.prototype.checkSelected=function(t,n){var i;n===void 0&&(n={});var o=n.scroll,a=this.em.getCurrentFrame();o&&((i=t.views)===null||i===void 0||i.forEach(function(l){l.frameView===a&&l.scrollIntoView(o)}))},e.prototype.remove=function(){for(var t,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return clearTimeout(this.timerZoom),(t=this.frames)===null||t===void 0||t.remove(),this.frames=void 0,ao.prototype.remove.apply(this,n),this.toggleListeners(!1),this},e.prototype.preventDefault=function(t){var n;t&&(t.preventDefault(),(n=t._parentEvent)===null||n===void 0||n.preventDefault())},e.prototype.toggleListeners=function(t){var n=this,i=n.el,o=n.config,a=t?ae.on:ae.AU;a(document,"keypress",this.onKeyPress),a(window,"scroll resize",this.clearOff),a(i,"wheel",this.onWheel,{passive:!o.infiniteCanvas}),a(i,"pointermove",this.onPointer)},e.prototype.screenToWorld=function(t,n){var i=this.module,o=i.getCoords(),a=i.getZoomMultiplier(),l=this.getViewportDelta();return{x:(t-o.x-l.x)*a,y:(n-o.y-l.y)*a}},e.prototype.onPointer=function(t){if(this.config.infiniteCanvas){var n=this.getCanvasOffset(),i=(0,ae.Xy)(),o={x:t.clientX-n.left+i.x,y:t.clientY-n.top+i.y};if(t._parentEvent){var a=t.target.getBoundingClientRect(),l=this.module.getZoomDecimal();o.x=a.left-n.left+i.x+t.clientX*l,o.y=a.top-n.top+i.y+t.clientY*l}this.model.set({pointerScreen:o,pointer:this.screenToWorld(o.x,o.y)})}},e.prototype.onKeyPress=function(t){var n=this.em,i=(0,ae.Ch)(t);i===" "&&n.getZoomDecimal()!==1&&!n.Canvas.isInputFocused()&&(this.preventDefault(t),n.Editor.runCommand("core:canvas-move"))},e.prototype.onWheel=function(t){var n=this,i=n.module,o=n.config;if(o.infiniteCanvas){this.preventDefault(t);var a=t.deltaX,l=t.deltaY,u=i.getZoomDecimal(),c=(0,ae.rp)(t),d=i.getCoords();if(c){var h=u-l*u*.01;i.setZoom(h*100);var g=this.model.getPointerCoords(te.x2.Screen),m=this.getCanvasOffset(),_=g.x-m.width/2,b=g.y-m.height/2,C=h/u,w=_-(_-d.x)*C,x=b-(b-d.y)*C;i.setCoords(w,x)}else this.onPointer(t),i.setCoords(d.x-a,d.y-l)}},e.prototype.updateFrames=function(t){var n=this.em,i=this.toolsWrapper,o={preserveSelected:1};this.updateFramesArea(),this.clearOff(),i.style.display="none",n.trigger("canvas:update",t),clearTimeout(this.timerZoom),this.timerZoom=setTimeout(function(){n.stopDefault(o),n.runDefault(o),i.style.display=""},300)},e.prototype.updateFramesArea=function(){var t=this,n=t.framesArea,i=t.model,o=t.module,a=t.cvStyle,l=t.clsUnscale,u=o.getZoomMultiplier();if(n){var c=i.attributes,d=c.x,h=c.y,g=o.getZoomDecimal();n.style.transform="scale(".concat(g,") translate(").concat(d*u,"px, ").concat(h*u,"px)")}a&&(a.innerHTML=`
        .`.concat(l," { scale: ").concat(u,` }
      `))},e.prototype.fitViewport=function(t){var n,i,o;t===void 0&&(t={});var a=this,l=a.em,u=a.module,c=a.model;this.clearOff();var d=this.getCanvasOffset(),h=t.el,g=h&&((n=(0,Vt.getComponentView)(h))===null||n===void 0?void 0:n.frameView),m=g?g.model:t.frame||l.getCurrentFrameModel()||c.frames.at(0),_=m.attributes,b=_.x,C=_.y,w={x:b??0,y:C??0,width:m.width,height:m.height};if(h){var x=this.getElBoxRect(h);w.x=w.x+x.x,w.y=w.y+x.y,w.width=x.width,w.height=x.height}var O=t.ignoreHeight,k=(i=t.gap)!==null&&i!==void 0?i:0,V=(0,z.isNumber)(k),Z=V?k:k.x,$=V?k:k.y,Y=w.width+Z*2,U=w.height+$*2,Q=d.width,H=d.height,D=Q/Y,I=H/U,T=O?D:Math.min(D,I),tt=T*100,M=(o=(0,z.isFunction)(t.zoom)?t.zoom(tt):t.zoom)!==null&&o!==void 0?o:tt;u.setZoom(M,{from:"fitViewport"});var ot=-w.x+(m.width>=Q?Q/2-Y/2:-Z),dt=-w.y+H/2-U/2,pt=u.getZoomDecimal(),Dt={x:(ot+Z)*pt,y:(dt+$)*pt};if(O){var _t=u.getZoomMultiplier(),rt=H*_t,At=rt-H,mt=At/2;Dt.y=(-w.y+$)*pt-mt/_t}u.setCoords(Dt.x,Dt.y)},e.prototype.isElInViewport=function(t){var n=(0,Vt.getElement)(t),i=(0,ae.C8)(n),o=this.getFrameOffset(n),a=i.top,l=i.left;return a>=0&&l>=0&&a<=o.height&&l<=o.width},e.prototype.offset=function(t,n){n===void 0&&(n={});var i=n.noScroll,o=(0,ae.C8)(t),a=i?{x:0,y:0}:(0,ae.Xy)(t);return{top:o.top+a.y,left:o.left+a.x,width:o.width,height:o.height}},e.prototype.getRectToScreen=function(t){var n,i,o,a,l=this.getCanvasScroll(),u=this.module.getZoomDecimal(),c=this.module.getCoords(),d=this.getViewportDelta(),h=((n=t.x)!==null&&n!==void 0?n:0)*u-l.scrollLeft+c.x+d.x||0,g=((i=t.y)!==null&&i!==void 0?i:0)*u-l.scrollTop+c.y+d.y||0;return{x:h,y:g,width:((o=t.width)!==null&&o!==void 0?o:0)*u,height:((a=t.height)!==null&&a!==void 0?a:0)*u}},e.prototype.getElBoxRect=function(t,n){var i,o,a;n===void 0&&(n={});var l=this.module,u=(0,ae.C8)(t),c=u.width,d=u.height,h=u.left,g=u.top,m=(i=(0,Vt.getComponentView)(t))===null||i===void 0?void 0:i.frameView,_=m==null?void 0:m.getBoxRect(),b=l.getZoomMultiplier(),C=(o=_==null?void 0:_.x)!==null&&o!==void 0?o:0,w=(a=_==null?void 0:_.y)!==null&&a!==void 0?a:0,x=this.el,O=(0,ae.Xy)(),k=h+C+(x.scrollLeft+O.x)*b,V=g+w+(x.scrollTop+O.y)*b,Z={x:k,y:V,width:c,height:d};return n.local&&(Z.x=h,Z.y=g),n.toScreen?this.getRectToScreen(Z):Z},e.prototype.getViewportRect=function(t){t===void 0&&(t={});var n=this.getCanvasOffset(),i=n.top,o=n.left,a=n.width,l=n.height,u=this.module;if(t.toWorld){var c=u.getZoomMultiplier(),d=u.getCoords(),h=this.getViewportDelta(),g=-d.x-h.x||0,m=-d.y-h.y||0;return{x:g*c,y:m*c,width:a*c,height:l*c}}else return{x:o,y:i,width:a,height:l}},e.prototype.getViewportDelta=function(t){var n=this.module.getZoomMultiplier(),i=this.getCanvasOffset(),o=i.width,a=i.height,l=o*n,u=a*n,c=l-o,d=u-a;return{x:c/2/n,y:d/2/n}},e.prototype.clearOff=function(){this.frmOff=void 0,this.cvsOff=void 0},e.prototype.getFrameOffset=function(t){var n;if(!this.frmOff||t){var i=(n=this.frame)===null||n===void 0?void 0:n.el,o=t==null?void 0:t.ownerDocument.defaultView,a=o?o.frameElement:i;this.frmOff=this.offset(a||i)}return this.frmOff},e.prototype.getCanvasOffset=function(){return this.cvsOff||(this.cvsOff=this.offset(this.el)),this.cvsOff},e.prototype.getElementPos=function(t,n){n===void 0&&(n={});var i=this.module.getZoomDecimal(),o=this.getFrameOffset(t),a=this.el,l=this.getCanvasOffset(),u=this.offset(t,n),c=n.avoidFrameOffset?0:o.top,d=n.avoidFrameOffset?0:o.left,h=n.avoidFrameZoom?u.top:u.top*i,g=n.avoidFrameZoom?u.left:u.left*i,m=n.avoidFrameOffset?h:h+c-l.top+a.scrollTop,_=n.avoidFrameOffset?g:g+d-l.left+a.scrollLeft,b=n.avoidFrameZoom?u.height:u.height*i,C=n.avoidFrameZoom?u.width:u.width*i;return{top:m,left:_,height:b,width:C,zoom:i,rect:u}},e.prototype.getElementOffsets=function(t){if(!t||(0,ae.ir)(t))return{};var n={},i=window.getComputedStyle(t),o=this.module.getZoomDecimal(),a=["marginTop","marginRight","marginBottom","marginLeft","paddingTop","paddingRight","paddingBottom","paddingLeft","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth"];return a.forEach(function(l){n[l]=parseFloat(i[l])*o}),n},e.prototype.getPosition=function(t){var n;t===void 0&&(t={});var i=(n=this.frame)===null||n===void 0?void 0:n.el.contentDocument;if(!i)return{top:0,left:0,width:0,height:0};var o=i.body,a=this.module.getZoomDecimal(),l=this.getFrameOffset(),u=this.getCanvasOffset(),c=t.noScroll;return{top:l.top+(c?0:o.scrollTop)*a-u.top,left:l.left+(c?0:o.scrollLeft)*a-u.left,width:u.width,height:u.height}},e.prototype.getCanvasScroll=function(){return this.config.scrollableCanvas?{scrollTop:this.el.scrollTop,scrollLeft:this.el.scrollLeft}:{scrollTop:0,scrollLeft:0}},e.prototype.updateScript=function(t){var n=t.model,i=n.getId(),o={component:n,view:t,el:t.el};if(!t.scriptContainer){t.scriptContainer=(0,ae.a_)("div",{"data-id":i});var a=this.getJsContainer();a==null||a.appendChild(t.scriptContainer)}t.el.id=i,t.scriptContainer.innerHTML="";var l=document.createElement("script"),u=n.getScriptString(),c=n.get("script-props")?u:`function(){
`.concat(u,`
;}`),d=JSON.stringify(n.__getScriptProps());l.innerHTML=`
      setTimeout(function() {
        var item = document.getElementById('`.concat(i,`');
        if (!item) return;
        var script = (`).concat(c,`).bind(item);
        script(`).concat(d,`, { el: item });
      }, 1);`),setTimeout(function(){n.emitWithEditor(hn.I.scriptMountBefore,o);var h=t.scriptContainer;h==null||h.appendChild(l),n.emitWithEditor(hn.I.scriptMount,o)},0)},e.prototype.getJsContainer=function(t){var n=this.getFrameView(t);return n==null?void 0:n.getJsContainer()},e.prototype.getFrameView=function(t){return(t==null?void 0:t.frameView)||this.em.getCurrentFrame()},e.prototype._renderFrames=function(){if(this.ready){var t=this,n=t.model,i=t.frames,o=t.em,a=t.framesArea,l=n.frames;l.listenToLoad(),i.render();var u=l.at(0),c=u==null?void 0:u.view;o.setCurrentFrame(c),a==null||a.appendChild(i.el),this.frame=c,this.updateFramesArea()}},e.prototype.renderFrames=function(){this._renderFrames()},e.prototype.render=function(){var t=this,n=t.el,i=t.$el,o=t.ppfx,a=t.config,l=t.em;i.html(this.template());var u=i.find("[data-frames]");this.framesArea=u.get(0);var c=i.find("[data-tools]");return this.toolsWrapper=c.get(0),c.append(`
      <div class="`.concat(o,"tools ").concat(o,`tools-gl" style="pointer-events:none">
        <div class="`).concat(o,`placeholder">
          <div class="`).concat(o,`placeholder-int"></div>
        </div>
      </div>
      <div id="`).concat(o,`tools" style="pointer-events:none">
        `).concat(a.extHl?'<div class="'.concat(o,'highlighter-sel"></div>'):"",`
        <div class="`).concat(o,`badge"></div>
        <div class="`).concat(o,`ghost"></div>
        <div class="`).concat(o,`toolbar" style="pointer-events:all"></div>
        <div class="`).concat(o,`resizer"></div>
        <div class="`).concat(o,`offset-v"></div>
        <div class="`).concat(o,`offset-fixed-v"></div>
      </div>
    `)),this.toolsEl=n.querySelector("#".concat(o,"tools")),this.hlEl=n.querySelector(".".concat(o,"highlighter")),this.badgeEl=n.querySelector(".".concat(o,"badge")),this.placerEl=n.querySelector(".".concat(o,"placeholder")),this.ghostEl=n.querySelector(".".concat(o,"ghost")),this.toolbarEl=n.querySelector(".".concat(o,"toolbar")),this.resizerEl=n.querySelector(".".concat(o,"resizer")),this.offsetEl=n.querySelector(".".concat(o,"offset-v")),this.fixedOffsetEl=n.querySelector(".".concat(o,"offset-fixed-v")),this.toolsGlobEl=n.querySelector(".".concat(o,"tools-gl")),this.spotsEl=n.querySelector("[data-spots]"),this.cvStyle=n.querySelector("[data-canvas-style]"),n.className=(0,Vt.getUiClass)(l,this.className),a.scrollableCanvas===!0&&(n.style.overflow="auto"),this.ready=!0,this._renderFrames(),this},e}(ao);const L4=R4;var N4=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Gs=function(){return Gs=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Gs.apply(this,arguments)},j4=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))},V4=function(r){N4(e,r);function e(t){var n=r.call(this,t,"Canvas",A3())||this;return n.events=ev,n.framesById={},n.canvas=new t5(n),n.spots=new r5(n),n.model=n.canvas,n.startAutoscroll=n.startAutoscroll.bind(n),n.stopAutoscroll=n.stopAutoscroll.bind(n),n.autoScroller=new h2,n}return e.prototype.getCanvasView=function(){return this.canvasView},e.prototype.postLoad=function(){this.model.init()},e.prototype.getModel=function(){return this.canvas},e.prototype.getElement=function(){return this.getCanvasView().el},e.prototype.getFrame=function(t){return this.getFrames()[t||0]},e.prototype.getFrameEl=function(){var t=(this.canvasView||{}).frame;return t==null?void 0:t.el},e.prototype.getFramesEl=function(){var t;return(t=this.canvasView)===null||t===void 0?void 0:t.framesArea},e.prototype.getWindow=function(){var t=(this.canvasView||{}).frame;return t==null?void 0:t.getWindow()},e.prototype.getDocument=function(){var t=this.getFrameEl();return t==null?void 0:t.contentDocument},e.prototype.getBody=function(){var t=this.getDocument();return t==null?void 0:t.body},e.prototype._getLocalEl=function(t,n,i){var o=t,a=n==null?void 0:n.frameView;return o=a?a[i]():o,o},e.prototype.getGlobalToolsEl=function(){var t;return(t=this.canvasView)===null||t===void 0?void 0:t.toolsGlobEl},e.prototype.getToolsEl=function(t){return this._getLocalEl(this.getCanvasView().toolsEl,t,"getToolsEl")},e.prototype.getHighlighter=function(t){return this._getLocalEl(this.getCanvasView().hlEl,t,"getHighlighter")},e.prototype.getBadgeEl=function(t){return this._getLocalEl(this.getCanvasView().badgeEl,t,"getBadgeEl")},e.prototype.getPlacerEl=function(){return this.getCanvasView().placerEl},e.prototype.getGhostEl=function(){return this.getCanvasView().ghostEl},e.prototype.getToolbarEl=function(){return this.getCanvasView().toolbarEl},e.prototype.getResizerEl=function(){return this.getCanvasView().resizerEl},e.prototype.getOffsetViewerEl=function(t){return this._getLocalEl(this.getCanvasView().offsetEl,t,"getOffsetViewerEl")},e.prototype.getFixedOffsetViewerEl=function(){return this.getCanvasView().fixedOffsetEl},e.prototype.getSpotsEl=function(){var t;return(t=this.canvasView)===null||t===void 0?void 0:t.spotsEl},e.prototype.render=function(){var t;return(t=this.canvasView)===null||t===void 0||t.remove(),this.canvasView=new L4(this.canvas),this.canvasView.render().el},e.prototype.getOffset=function(){var t=this.offset(this.getFrameEl()),n=this.offset(this.getElement());return{top:t.top-n.top,left:t.left-n.left}},e.prototype.offset=function(t){return this.getCanvasView().offset(t)},e.prototype.setCustomBadgeLabel=function(t){this.config.customBadgeLabel=t},e.prototype.getElementPos=function(t,n){return this.getCanvasView().getElementPos(t,n)},e.prototype.getElementOffsets=function(t){return this.getCanvasView().getElementOffsets(t)},e.prototype.getRect=function(){var t,n=(t=this.getCanvasView().getPosition())!==null&&t!==void 0?t:{},i=n.top,o=i===void 0?0:i,a=n.left,l=a===void 0?0:a;return Gs(Gs({},this.getCanvasView().getCanvasOffset()),{topScroll:o,leftScroll:l})},e.prototype.getTargetToElementDim=function(t,n,i){i===void 0&&(i={});var o=i||{},a=this.getCanvasView().getPosition();if(a){var l=o.elPos||this.getCanvasView().getElementPos(n),u=i.toRight||0,c=o.targetHeight||t.offsetHeight,d=o.targetWidth||t.offsetWidth,h=o.event||null,g=l.top-c,m=l.left;m+=u?l.width:0,m=u?m-d:m;var _=m<a.left?a.left:m,b=g<a.top?a.top:g;b=b>l.top+l.height?l.top+l.height:b;var C={top:b,left:_,elementTop:l.top,elementLeft:l.left,elementWidth:l.width,elementHeight:l.height,targetWidth:t.offsetWidth,targetHeight:t.offsetHeight,canvasTop:a.top,canvasLeft:a.left,canvasWidth:a.width,canvasHeight:a.height};return h&&this.em&&this.em.trigger(h,C),C}},e.prototype.canvasRectOffset=function(t,n,i){var o=this;i===void 0&&(i={});var a=function(u){var c=u.defaultView;return c==null?void 0:c.frameElement},l=function(u,c,d){c===void 0&&(c=1);var h=o.em.getZoomDecimal(),g=c?"top":"left",m=u.ownerDocument,_=i.offset?a(m):{},b=_.offsetTop,C=b===void 0?0:b,w=_.offsetLeft,x=w===void 0?0:w,O=m.body||{},k=O.scrollTop,V=k===void 0?0:k,Z=O.scrollLeft,$=Z===void 0?0:Z,Y=c?V:$,U=c?C:x;return d[g]-(Y-U)*h};return{top:l(t,1,n),left:l(t,0,n)}},e.prototype.getTargetToElementFixed=function(t,n,i){i===void 0&&(i={});var o=i.pos||this.getElementPos(t,{noScroll:!0}),a=i.canvasOff||this.canvasRectOffset(t,o),l=n.offsetHeight||0,u=n.offsetWidth||0,c=this.getCanvasView(),d=c.getCanvasScroll(),h=d.scrollTop,g=d.scrollLeft,m=c.getPosition(),_=i.event,b=o.width-u,C=-l,w=(0,z.isUndefined)(i.left)?b:i.left,x=Math.max(-o.left+g,0);w=Math.max(w,x);var O=o.width-u;w=Math.min(w,O);var k=m.width+g-u-o.left;w=Math.min(w,k);var V=a.top<l+h,Z=C;if(V){var $=o.height+l,Y=$<m.height;if(Y)Z=Z+$;else{var U=-a.top+h;Z=U<o.height?U:o.height}}var Q={top:Z,left:w,canvasOffsetTop:a.top,canvasOffsetLeft:a.left,elRect:o,canvasOffset:a,canvasRect:m,targetWidth:u,targetHeight:l};return _&&this.em.trigger(_,Q),Q},e.prototype.getMouseRelativePos=function(t,n){n===void 0&&(n={});var i=n.subWinOffset,o=t.target,a=o.nodeType===Node.DOCUMENT_NODE?o:o.ownerDocument,l=a.defaultView||a.parentWindow,u=l.frameElement,c=i?l.pageYOffset:0,d=i?l.pageXOffset:0,h=this.getZoomMultiplier(),g=0,m=0;if(u){var _=u.getBoundingClientRect();g=_.top||0,m=_.left||0}return{y:(t.clientY+g-c)*h,x:(t.clientX+m-d)*h}},e.prototype.getMouseRelativeCanvas=function(t,n){var i,o=this.getZoomDecimal(),a=this.getCanvasView(),l=(i=a.getPosition(n))!==null&&i!==void 0?i:{top:0,left:0},u=a.getCanvasScroll(),c={top:l.top+u.scrollTop,left:l.left+u.scrollLeft},d=c.top,h=c.left;return{y:t.clientY*o+d,x:t.clientX*o+h}},e.prototype.startDrag=function(t){this.em.set("dragSource",t)},e.prototype.endDrag=function(){this.em.set({dragResult:null,dragSource:void 0})},e.prototype.hasFocus=function(){return this.getDocument().hasFocus()},e.prototype.isInputFocused=function(){var t=this.getDocument(),n=this.getFrameEl(),i=j4(["body"],this.config.notTextable,!0),o=n&&document.activeElement===n,a=o?t&&t.activeElement:document.activeElement;return a&&!i.some(function(l){return a.matches(l)})},e.prototype.scrollTo=function(t,n){n===void 0&&(n={});var i=(0,Vt.getElement)(t),o=i&&(0,Vt.getViewEl)(i);o&&o.scrollIntoView(n)},e.prototype.startAutoscroll=function(t){var n=t&&t.view||this.em.getCurrentFrame();if(n&&n.startAutoscroll(),this.config.scrollableCanvas){var i=this.getCanvasView().el;this.autoScroller.start(i,i,{zoom:this.em.getZoomDecimal()})}},e.prototype.stopAutoscroll=function(t){var n=t&&t.view||this.em.getCurrentFrame();n&&n.stopAutoscroll(),this.config.scrollableCanvas&&this.autoScroller.stop()},e.prototype.setZoom=function(t,n){return n===void 0&&(n={}),this.canvas.set("zoom",typeof t=="string"?parseFloat(t):t,n),this},e.prototype.getZoom=function(){return parseFloat(this.canvas.get("zoom"))},e.prototype.setCoords=function(t,n,i){var o;i===void 0&&(i={});var a=t||t===0,l=n||n===0,u={x:this.canvas.get("x"),y:this.canvas.get("y")};if(a&&(u.x=parseFloat("".concat(t))),l&&(u.y=parseFloat("".concat(n))),i.toWorld){var c=(o=this.canvasView)===null||o===void 0?void 0:o.getViewportDelta();c&&(a&&(u.x=u.x-c.x),l&&(u.y=u.y-c.y))}return this.canvas.set(u),this},e.prototype.getCoords=function(){var t=this.canvas.attributes,n=t.x,i=t.y;return{x:n,y:i}},e.prototype.getPointer=function(t){var n=this.canvas.attributes,i=n.pointer,o=n.pointerScreen;return t?o:i},e.prototype.getZoomDecimal=function(){return this.getZoom()/100},e.prototype.getZoomMultiplier=function(){var t=this.getZoomDecimal();return t?1/t:1},e.prototype.fitViewport=function(t){var n;(n=this.canvasView)===null||n===void 0||n.fitViewport(t)},e.prototype.toggleFramesEvents=function(t){var n=this.getFramesEl().style;n.pointerEvents=t?"":"none"},e.prototype.getFrames=function(){return this.canvas.frames.map(function(t){return t})},e.prototype.addFrame=function(t,n){return t===void 0&&(t={}),n===void 0&&(n={}),this.canvas.frames.add(new XA(this,Gs({},t)),n)},e.prototype.getLastDragResult=function(){return this.em.get("dragResult")},e.prototype.addSpot=function(t,n){var i;n===void 0&&(n={});var o=t,a=this.getSpots(o);if(a.length){var l=a[0];return l.set(o),l}var u=o.componentView||((i=o.component)===null||i===void 0?void 0:i.view),c=new no.A(this,Gs(Gs({},o),{id:o.id||"cs_".concat(o.type,"_").concat(u==null?void 0:u.cid),type:o.type||""}));return this.spots.add(c,n),c},e.prototype.getSpots=function(t){return t===void 0&&(t={}),this.spots.where(t.id?{id:t.id}:t)},e.prototype.removeSpots=function(t){t===void 0&&(t={});var n=(0,z.isArray)(t)?t:this.getSpots(t),i=this.spots.remove(n);return i},e.prototype.hasCustomSpot=function(t){var n=this.config.customSpots;return!!(n===!0||n&&t&&n[t])},e.prototype.getWorldRectToScreen=function(t){var n;return(n=this.canvasView)===null||n===void 0?void 0:n.getRectToScreen(t)},e.prototype.refresh=function(t){t===void 0&&(t={});var n=this,i=n.em,o=n.events,a=n.canvasView;a==null||a.clearOff(),(t.spots||t.all)&&(this.refreshSpots(),i.trigger("canvas:updateTools")),i.set("canvasOffset",this.getOffset()),i.trigger(o.refresh,t)},e.prototype.refreshSpots=function(){this.spots.refresh()},e.prototype.destroy=function(){var t=this,n;this.canvas.stopListening(),(n=this.canvasView)===null||n===void 0||n.remove(),["model","droppable"].forEach(function(i){return t[i]={}})},e}(_i);const B4=V4;var U4=function(){return{stylePrefix:"comp-",components:[],draggableComponents:!0,disableTextInnerChilds:!1,processor:void 0,useFrameDoc:!1,voidElements:["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"]}};const I4=U4;var z4=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),pv=function(){return pv=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},pv.apply(this,arguments)},H4=function(r){z4(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"defaults",{get:function(){return pv(pv({},r.prototype.defaults),{tagName:"",droppable:!1,layerable:!1,selectable:!1,editable:!0})},enumerable:!1,configurable:!0}),e.prototype.toHTML=function(){var t=this.content,n=this.parent();return n!=null&&n.is("script")?t:this.__escapeContent(t)},e.prototype.__escapeContent=function(t){return(0,Vt.escapeNodeContent)(t)},e.isComponent=function(t){var n;if(t.nodeType===3)return{type:"textnode",content:(n=t.textContent)!==null&&n!==void 0?n:""}},e}(jn);const v2=H4;var F4=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),a_=function(){return a_=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},a_.apply(this,arguments)},W4=function(r){F4(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"defaults",{get:function(){return a_({},r.prototype.defaults)},enumerable:!1,configurable:!0}),e.prototype.toHTML=function(){return"<!--".concat(this.content,"-->")},e.isComponent=function(t){var n;if(t.nodeType==8)return{type:"comment",content:(n=t.textContent)!==null&&n!==void 0?n:""}},e}(v2);const q4=W4;var K4=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),vv=function(){return vv=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},vv.apply(this,arguments)},hy="iframe",G4=function(r){K4(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"defaults",{get:function(){return vv(vv({},r.prototype.defaults),{type:hy,tagName:hy,droppable:!1,resizable:!0,traits:["id","title","src"],attributes:{frameborder:"0"}})},enumerable:!1,configurable:!0}),e.isComponent=function(t){return(0,Vt.toLowerCase)(t.tagName)===hy},e}(jn);const Y4=G4;var X4=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),gv=function(){return gv=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},gv.apply(this,arguments)},Wx='xmlns="http://www.w3.org/2000/svg" width="100" viewBox="0 0 24 24" style="fill: rgba(0,0,0,0.15); transform: scale(0.75)"',Z4=function(r){X4(e,r);function e(t,n){t===void 0&&(t={});var i=r.call(this,t,n)||this,o=i.get("attributes").src;return o&&(0,Vt.buildBase64UrlFromSvg)((0,z.result)(i,"defaults").src)!==o&&i.set("src",o,{silent:!0}),i}return Object.defineProperty(e.prototype,"defaults",{get:function(){return gv(gv({},r.prototype.defaults),{type:"image",tagName:"img",void:!0,droppable:0,editable:1,highlightable:0,resizable:{ratioDefault:1},traits:["alt"],src:"<svg ".concat(Wx,`>
        <path d="M8.5 13.5l2.5 3 3.5-4.5 4.5 6H5m16 1V5a2 2 0 0 0-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2z"></path>
      </svg>`),fallback:"<svg ".concat(Wx,`>
        <path d="M2.28 3L1 4.27l2 2V19c0 1.1.9 2 2 2h12.73l2 2L21 21.72 2.28 3m2.55 0L21 19.17V5a2 2 0 0 0-2-2H4.83M8.5 13.5l2.5 3 1-1.25L14.73 18H5l3.5-4.5z"></path>
      </svg>`),file:""})},enumerable:!1,configurable:!0}),e.prototype.initToolbar=function(){r.prototype.initToolbar.call(this);var t=this.em;if(t){var n=t.Commands,i="image-editor";if(n.has(i)){for(var o=!1,a=this.get("toolbar"),l=0;l<a.length;l++)if(a[l].command==="image-editor"){o=!0;break}o||(a.push({attributes:{class:"fa fa-pencil"},command:i}),this.set("toolbar",a))}}},e.prototype.getAttrToHTML=function(){var t=r.prototype.getAttrToHTML.call(this),n=this.getSrcResult();return n&&(t.src=n),t},e.prototype.getSrcResult=function(t){t===void 0&&(t={});var n=this.get(t.fallback?"fallback":"src")||"",i=n;return n&&n.substr(0,4)==="<svg"&&(i=(0,Vt.buildBase64UrlFromSvg)(n)),i},e.prototype.isDefaultSrc=function(){var t=this.get("src"),n=(0,z.result)(this,"defaults").src;return t===n||t===(0,Vt.buildBase64UrlFromSvg)(n)},e.prototype.toJSON=function(t){var n=r.prototype.toJSON.call(this,t),i=n.attributes;return i&&n.src===i.src&&delete n.src,n},e.prototype.parseUri=function(t){var n={},i=function(o){o===void 0&&(o="");for(var a={},l=o.substring(1).split("&"),u=0;u<l.length;u++){var c=l[u].split("="),d=decodeURIComponent(c[0]);d&&(a[d]=decodeURIComponent(c[1]||""))}return a};if((0,Vt.hasWin)())n=document.createElement("a"),n.href=t;else if(typeof URL<"u")try{n=new URL(t)}catch{}return{hostname:n.hostname||"",pathname:n.pathname||"",protocol:n.protocol||"",search:n.search||"",hash:n.hash||"",port:n.port||"",query:i(n.search)}},e.isComponent=function(t){return(0,Vt.toLowerCase)(t.tagName)==="img"},e}(jn);const Zb=Z4;var $4=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),mv=function(){return mv=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},mv.apply(this,arguments)},J4=function(r){$4(e,r);function e(t,n){t===void 0&&(t={});var i=r.call(this,t,n)||this;return i.__checkInnerChilds(),i}return Object.defineProperty(e.prototype,"defaults",{get:function(){return mv(mv({},r.prototype.defaults),{type:"text",droppable:!1,editable:!0})},enumerable:!1,configurable:!0}),e.prototype.__checkInnerChilds=function(){var t=this.em.Components.config.disableTextInnerChilds;if(t){var n=function(i){i.isInstanceOf("textnode")||i.set({locked:!0,layerable:!1})};(0,z.isFunction)(t)?this.forEachChild(function(i){t(i)&&n(i)}):this.forEachChild(n)}},e}(jn);const $b=J4;var Q4=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),yv=function(){return yv=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},yv.apply(this,arguments)},py="label",tV=function(r){Q4(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"defaults",{get:function(){return yv(yv({},r.prototype.defaults),{type:py,tagName:py,traits:["id","title","for"]})},enumerable:!1,configurable:!0}),e.isComponent=function(t){return(0,Vt.toLowerCase)(t.tagName)===py},e}($b);const eV=tV;var nV=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),_v=function(){return _v=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},_v.apply(this,arguments)},qx="link",rV=function(r){nV(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"defaults",{get:function(){return _v(_v({},r.prototype.defaults),{type:qx,tagName:"a",traits:["title","href","target"]})},enumerable:!1,configurable:!0}),e.isComponent=function(t,n){n===void 0&&(n={});var i;if((0,Vt.toLowerCase)(t.tagName)==="a"){var o=n.textTags||[];i={type:qx,editable:!1};var a=t.childNodes,l=a.length;l||delete i.editable,(0,z.forEach)(a,function(u){var c=u.tagName;(u.nodeType==3&&u.textContent.trim()!==""||c&&o.indexOf((0,Vt.toLowerCase)(c))>=0)&&delete i.editable})}return i},e}($b);const iV=rV;var oV=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),bv=function(){return bv=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},bv.apply(this,arguments)},aV=function(r){oV(e,r);function e(t,n){t===void 0&&(t={});var i=r.call(this,t,n)||this;return i.get("src")?i.parseFromSrc():i.updateSrc(),i.listenTo(i,"change:address change:zoom change:mapType",i.updateSrc),i}return Object.defineProperty(e.prototype,"defaults",{get:function(){var t=r.prototype.defaults;return bv(bv({},t),{type:"map",src:"",void:!1,mapUrl:"https://maps.google.com/maps",tagName:"iframe",mapType:"q",address:"",zoom:"1",attributes:{frameborder:0},toolbar:t.toolbar,traits:[{label:"Address",name:"address",placeholder:"eg. London, UK",changeProp:!0},{type:"select",label:"Map type",name:"mapType",changeProp:!0,options:[{id:"q",label:"Roadmap"},{id:"w",label:"Satellite"}]},{label:"Zoom",name:"zoom",type:"range",min:1,max:20,changeProp:!0}]})},enumerable:!1,configurable:!0}),e.prototype.updateSrc=function(){this.set("src",this.getMapUrl())},e.prototype.getMapUrl=function(){var t=this.get("address"),n=this.get("zoom"),i=this.get("mapType");t=t?"&q="+t:"",n=n?"&z="+n:"",i=i?"&t="+i:"";var o=this.get("mapUrl")+"?"+t+n+i;return o+="&output=embed",o},e.prototype.parseFromSrc=function(){var t=this.parseUri(this.get("src")),n=t.query;n.q&&this.set("address",n.q),n.z&&this.set("zoom",n.z),n.t&&this.set("mapType",n.t)},e.isComponent=function(t){if((0,Vt.toLowerCase)(t.tagName)=="iframe"&&/maps\.google\.com/.test(t.src))return{type:"map",src:t.src}},e}(Zb);const sV=aV;var lV=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),wv=function(){return wv=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},wv.apply(this,arguments)},vy="script",uV=function(r){lV(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"defaults",{get:function(){return wv(wv({},r.prototype.defaults),{type:vy,tagName:vy,droppable:!1,draggable:!1,layerable:!1,highlightable:!1})},enumerable:!1,configurable:!0}),e.isComponent=function(t){return(0,Vt.toLowerCase)(t.tagName)===vy},e}(jn);const cV=uV;var fV=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Sv=function(){return Sv=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Sv.apply(this,arguments)},gy="svg",dV=function(r){fV(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"defaults",{get:function(){return Sv(Sv({},r.prototype.defaults),{type:gy,tagName:gy,highlightable:!1,resizable:{ratioDefault:!0}})},enumerable:!1,configurable:!0}),e.prototype.getName=function(){var t=this.get("tagName"),n=this.get("custom-name");return t=t.charAt(0).toUpperCase()+t.slice(1),n||t},e.isComponent=function(t){return(0,Vt.toLowerCase)(t.tagName)===gy},e}(jn);const g2=dV;var hV=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Cv=function(){return Cv=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Cv.apply(this,arguments)},pV=function(r){hV(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"defaults",{get:function(){return Cv(Cv({},r.prototype.defaults),{selectable:!1,hoverable:!1,layerable:!1})},enumerable:!1,configurable:!0}),e.isComponent=function(t,n){return n===void 0&&(n={}),!!n.inSvg},e}(g2);const vV=pV;var gV=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),xv=function(){return xv=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},xv.apply(this,arguments)},my="table",mV=function(r){gV(e,r);function e(t,n){t===void 0&&(t={});var i=r.call(this,t,n)||this,o=i.get("components");return!o.length&&o.add({type:"tbody"}),i}return Object.defineProperty(e.prototype,"defaults",{get:function(){return xv(xv({},r.prototype.defaults),{type:my,tagName:my,droppable:["tbody","thead","tfoot"]})},enumerable:!1,configurable:!0}),e.isComponent=function(t){return(0,Vt.toLowerCase)(t.tagName)===my},e}(jn);const yV=mV;var _V=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ov=function(){return Ov=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Ov.apply(this,arguments)},yy="tbody",bV=function(r){_V(e,r);function e(t,n){t===void 0&&(t={});var i=r.call(this,t,n)||this,o=i.get("components"),a=i.get("columns"),l=i.get("rows");if(!o.length){for(var u=[];l--;){for(var c=[],d=a;d--;)c.push({type:"cell",classes:["cell"]});u.push({type:"row",classes:["row"],components:c})}o.add(u)}return i}return Object.defineProperty(e.prototype,"defaults",{get:function(){return Ov(Ov({},r.prototype.defaults),{type:yy,tagName:yy,draggable:["table"],droppable:["tr"],columns:1,rows:1})},enumerable:!1,configurable:!0}),e.isComponent=function(t){return(0,Vt.toLowerCase)(t.tagName)===yy},e}(jn);const Jb=bV;var wV=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ev=function(){return Ev=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Ev.apply(this,arguments)},SV=function(r){wV(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"defaults",{get:function(){return Ev(Ev({},r.prototype.defaults),{type:"cell",tagName:"td",draggable:["tr"]})},enumerable:!1,configurable:!0}),e.isComponent=function(t){return["td","th"].indexOf((0,Vt.toLowerCase)(t.tagName))>=0},e}(jn);const CV=SV;var xV=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Tv=function(){return Tv=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Tv.apply(this,arguments)},_y="tfoot",OV=function(r){xV(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"defaults",{get:function(){return Tv(Tv({},r.prototype.defaults),{type:_y,tagName:_y})},enumerable:!1,configurable:!0}),e.isComponent=function(t){return(0,Vt.toLowerCase)(t.tagName)===_y},e}(Jb);const EV=OV;var TV=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Av=function(){return Av=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Av.apply(this,arguments)},by="thead",AV=function(r){TV(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"defaults",{get:function(){return Av(Av({},r.prototype.defaults),{type:by,tagName:by})},enumerable:!1,configurable:!0}),e.isComponent=function(t){return(0,Vt.toLowerCase)(t.tagName)===by},e}(Jb);const kV=AV;var DV=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),kv=function(){return kv=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},kv.apply(this,arguments)},Kx="tr",PV=function(r){DV(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"defaults",{get:function(){return kv(kv({},r.prototype.defaults),{tagName:Kx,draggable:["thead","tbody","tfoot"],droppable:["th","td"]})},enumerable:!1,configurable:!0}),e.isComponent=function(t){return(0,Vt.toLowerCase)(t.tagName)===Kx},e}(jn);const MV=PV;var RV=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Dv=function(){return Dv=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Dv.apply(this,arguments)},wy="video",Yl="yt",Xl="vi",Zl="ytnc",Gx="so",Sy=function(r){return r&&r!=="0"},LV=function(r){RV(e,r);function e(t,n){t===void 0&&(t={});var i=r.call(this,t,n)||this;return i.get("src")&&i.parseFromSrc(),i.updatePropsFromAttr(),i.updateTraits(),i.on("change:provider",i.updateTraits),i.on("change:videoId change:provider",i.updateSrc),i}return Object.defineProperty(e.prototype,"defaults",{get:function(){return Dv(Dv({},r.prototype.defaults),{type:wy,tagName:wy,videoId:"",void:!1,provider:Gx,ytUrl:"https://www.youtube.com/embed/",ytncUrl:"https://www.youtube-nocookie.com/embed/",viUrl:"https://player.vimeo.com/video/",loop:!1,poster:"",muted:0,autoplay:!1,controls:!0,color:"",list:"",src:"",rel:1,modestbranding:0,sources:[],attributes:{allowfullscreen:"allowfullscreen"}})},enumerable:!1,configurable:!0}),e.prototype.updatePropsFromAttr=function(){if(this.get("provider")===Gx){var t=this.get("attributes"),n=t.controls,i=t.autoplay,o=t.loop,a={};(0,Vt.isDef)(n)&&(a.controls=!!n),(0,Vt.isDef)(i)&&(a.autoplay=!!i),(0,Vt.isDef)(o)&&(a.loop=!!o),(0,Vt.isEmptyObj)(a)||this.set(a)}},e.prototype.updateTraits=function(){var t=this.em,n=this.get("provider"),i="iframe",o;switch(n){case Yl:case Zl:o=this.getYoutubeTraits();break;case Xl:o=this.getVimeoTraits();break;default:i="video",o=this.getSourceTraits()}this.set({tagName:i},{silent:!0}),this.set({traits:o}),t.get("ready")&&t.trigger("component:toggled")},e.prototype.parseFromSrc=function(){var t=this.get("provider"),n=this.parseUri(this.get("src")),i=n.query;switch(t){case Yl:case Zl:case Xl:this.set("videoId",n.pathname.split("/").pop()),i.list&&this.set("list",i.list),Sy(i.autoplay)&&this.set("autoplay",!0),Sy(i.loop)&&this.set("loop",!0),parseInt(i.controls)===0&&this.set("controls",!1),Sy(i.color)&&this.set("color",i.color),i.rel==="0"&&this.set("rel",0),i.modestbranding==="1"&&this.set("modestbranding",1);break}},e.prototype.updateSrc=function(){var t=this.get("provider"),n="";switch(t){case Yl:n=this.getYoutubeSrc();break;case Zl:n=this.getYoutubeNoCookieSrc();break;case Xl:n=this.getVimeoSrc();break}this.set({src:n})},e.prototype.getAttrToHTML=function(){var t=r.prototype.getAttrToHTML.call(this),n=this.get("provider");switch(n){case Yl:case Zl:case Xl:break;default:t.loop=!!this.get("loop"),t.autoplay=!!this.get("autoplay"),t.controls=!!this.get("controls")}return t},e.prototype.getProviderTrait=function(){return{type:"select",label:"Provider",name:"provider",changeProp:!0,options:[{value:"so",name:"HTML5 Source"},{value:Yl,name:"Youtube"},{value:Zl,name:"Youtube (no cookie)"},{value:Xl,name:"Vimeo"}]}},e.prototype.getSourceTraits=function(){return[this.getProviderTrait(),{label:"Source",name:"src",placeholder:"eg. ./media/video.mp4",changeProp:!0},{label:"Poster",name:"poster",placeholder:"eg. ./media/image.jpg"},this.getAutoplayTrait(),this.getLoopTrait(),this.getControlsTrait()]},e.prototype.getYoutubeTraits=function(){return[this.getProviderTrait(),{label:"Video ID",name:"videoId",placeholder:"eg. jNQXAC9IVRw",changeProp:!0},this.getAutoplayTrait(),this.getLoopTrait(),this.getControlsTrait(),{type:"checkbox",label:"Related",name:"rel",changeProp:!0},{type:"checkbox",label:"Modest",name:"modestbranding",changeProp:!0}]},e.prototype.getVimeoTraits=function(){return[this.getProviderTrait(),{label:"Video ID",name:"videoId",placeholder:"eg. 123456789",changeProp:!0},{label:"Color",name:"color",placeholder:"eg. FF0000",changeProp:!0},this.getAutoplayTrait(),this.getLoopTrait()]},e.prototype.getAutoplayTrait=function(){return{type:"checkbox",label:"Autoplay",name:"autoplay",changeProp:!0}},e.prototype.getLoopTrait=function(){return{type:"checkbox",label:"Loop",name:"loop",changeProp:!0}},e.prototype.getControlsTrait=function(){return{type:"checkbox",label:"Controls",name:"controls",changeProp:!0}},e.prototype.getYoutubeSrc=function(){var t=this.get("videoId"),n=this.get("ytUrl"),i=this.get("list");return n+=t+(t.indexOf("?")<0?"?":""),n+=i?"&list=".concat(i):"",n+=this.get("autoplay")?"&autoplay=1&mute=1":"",n+=this.get("controls")?"":"&controls=0&showinfo=0",n+=this.get("loop")?"&loop=1&playlist=".concat(t):"",n+=this.get("rel")?"":"&rel=0",n+=this.get("modestbranding")?"&modestbranding=1":"",n},e.prototype.getYoutubeNoCookieSrc=function(){var t=this.getYoutubeSrc();return t=t.replace(this.get("ytUrl"),this.get("ytncUrl")),t},e.prototype.getVimeoSrc=function(){var t=this.get("viUrl");return t+=this.get("videoId")+"?",t+=this.get("autoplay")?"&autoplay=1&muted=1":"",t+=this.get("loop")?"&loop=1":"",t+=this.get("controls")?"":"&title=0&portrait=0&badge=0",t+=this.get("color")?"&color="+this.get("color"):"",t},e.isComponent=function(t){var n=t.tagName,i=t.src,o=/youtube\.com\/embed/.test(i),a=/youtube-nocookie\.com\/embed/.test(i),l=/player\.vimeo\.com\/video/.test(i),u=o||a||l;if((0,Vt.toLowerCase)(n)==wy||(0,Vt.toLowerCase)(n)=="iframe"&&u){var c={type:"video"};return i&&(c.src=i),u&&(o?c.provider=Yl:a?c.provider=Zl:l&&(c.provider=Xl)),c}},e}(Zb);const NV=LV;var jV=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),bu=function(){return bu=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},bu.apply(this,arguments)},VV=function(r){jV(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"defaults",{get:function(){return bu(bu({},r.prototype.defaults),{tagName:"body",removable:!1,copyable:!1,draggable:!1,components:[],traits:[],doctype:"",head:null,docEl:null,stylable:["background","background-color","background-image","background-repeat","background-attachment","background-position","background-size"]})},enumerable:!1,configurable:!0}),e.prototype.preInit=function(){var t,n,i=this,o=i.opt,a=i.attributes,l=(t=this.em)===null||t===void 0?void 0:t.Components,u=(n=l==null?void 0:l.getType(zu))===null||n===void 0?void 0:n.model,c=l==null?void 0:l.getType("default").model;if(u){var d=a.head,h=a.docEl;this.set({head:d&&d instanceof jn?d:new u(bu({},d),o),docEl:h&&h instanceof jn?h:new c(bu({tagName:"html"},h),o)},{silent:!0})}},Object.defineProperty(e.prototype,"head",{get:function(){return this.get("head")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docEl",{get:function(){return this.get("docEl")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doctype",{get:function(){return this.attributes.doctype||""},enumerable:!1,configurable:!0}),e.prototype.clone=function(t){var n=r.prototype.clone.call(this,t);return n.set("head",this.get("head").clone(t)),n.set("docEl",this.get("docEl").clone(t)),n},e.prototype.toHTML=function(t){t===void 0&&(t={});var n=this.doctype,i=(0,z.isUndefined)(t.asDocument)?!!n:t.asDocument,o=this,a=o.head,l=o.docEl,u=r.prototype.toHTML.call(this,t),c=i&&(a==null?void 0:a.toHTML(t))||"",d=i&&(0,ae.kk)(l==null?void 0:l.getAttrToHTML())||"",h=d?" ".concat(d):"";return i?"".concat(n,"<html").concat(h,">").concat(c).concat(u,"</html>"):u},e.prototype.__postAdd=function(){var t,n=(t=this.em)===null||t===void 0?void 0:t.UndoManager;return!this.__hasUm&&(n==null||n.add(this)),r.prototype.__postAdd.call(this)},e.prototype.__postRemove=function(){var t,n=(t=this.em)===null||t===void 0?void 0:t.UndoManager;return n==null||n.remove(this),r.prototype.__postRemove.call(this)},e.isComponent=function(){return!1},e}(jn);const BV=VV;var UV=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),IV=function(r){UV(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.compView=dn,t}return e.prototype.initialize=function(t){this.opts=t||{},this.config=t.config||{},this.em=this.config.em;var n=this.collection;this.listenTo(n,"add",this.addTo),this.listenTo(n,"reset",this.resetChildren),this.listenTo(n,"remove",this.removeChildren)},e.prototype.removeChildren=function(t,n,i){var o=this;i===void 0&&(i={}),t.views.forEach(function(l){if(l){var u=l.childrenView,c=l.scriptContainer;u&&u.stopListening(),(0,ae.YZ)(c),l.remove.apply(l)}});var a=t.components();a.forEach(function(l){return o.removeChildren(l,n,i)})},e.prototype.addTo=function(t){this.addToCollection(t,null,this.collection.indexOf(t))},e.prototype.addToCollection=function(t,n,i){for(var o=this,a=o.config,l=o.opts,u=o.em,c=a.frameView,d=(c==null?void 0:c.model)&&t.getView(c.model),h=l.componentTypes||(u==null?void 0:u.Components.getTypes()),g=t.get("type")||"default",m=this.compView,_=0;_<h.length;_++)if(h[_].id==g){m=h[_].view;break}var b=d||new m({model:t,config:a,componentTypes:h}),C;try{C=b.render().el}catch(k){C=document.createTextNode(""),u.logError(k)}if(n)n.appendChild(C);else{var w=this.parentEl,x=w.childNodes;if((0,z.isUndefined)(i))w.appendChild(C);else{var O=x.length==i;O&&i--,O||!x.length?w.appendChild(C):w.insertBefore(C,x[i])}}return t.opt.temporary||u==null||u.trigger("component:mount",t),C},e.prototype.resetChildren=function(t,n){var i=this;n===void 0&&(n={});var o=n.previousModels;n.skipDomReset||(this.parentEl.innerHTML=""),o==null||o.forEach(function(a){return i.removeChildren(a,i.collection)}),t.each(function(a){return i.addToCollection(a)})},e.prototype.render=function(t){var n=this,i=this.el,o=document.createDocumentFragment();return this.parentEl=t||this.el,this.collection.each(function(a){return n.addToCollection(a,o)}),i.innerHTML="",i.appendChild(o),this},e}(te.Ss);const m2=IV;var zV=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ko=function(){return ko=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},ko.apply(this,arguments)},HV=function(r){zV(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.className=function(){return this.getClasses()},e.prototype.tagName=function(){return this.model.get("tagName")},e.prototype.preinitialize=function(t){t===void 0&&(t={}),this.opts=t},e.prototype.initialize=function(t){t===void 0&&(t={});var n=this.model,i=t.config||{},o=i.em,a=n.opt||{},l=this,u=l.$el,c=l.el;this.opts=t,this.modelOpt=a,this.config=i,this.em=o,this.pfx=i.stylePrefix||"",this.ppfx=i.pStylePrefix||"",this.attr=n.get("attributes"),this.classe=this.attr.class||[],this.listenTo(n,"change:style",this.updateStyle),this.listenTo(n,"change:attributes",this.renderAttributes),this.listenTo(n,"change:highlightable",this.updateHighlight),this.listenTo(n,"change:status change:locked",this.updateStatus),this.listenTo(n,"change:script rerender",this.reset),this.listenTo(n,"change:content",this.updateContent),this.listenTo(n,"change",this.handleChange),this.listenTo(n,"active",this.onActive),this.listenTo(n,"disable",this.onDisable),u.data("model",n),(0,Vt.setViewEl)(c,this),n.view=this,this.frameView&&n.views.push(this),this.initClasses(),this.initComponents({avoidRender:!0}),this.events=ko(ko({},this.constructor.getEvents()),{dragstart:"handleDragStart"}),this.delegateEvents(),!a.temporary&&this.init(this._clbObj())},Object.defineProperty(e.prototype,"__cmpStyleOpts",{get:function(){return{state:"",mediaText:""}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"frameView",{get:function(){return this.opts.config.frameView},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"createDoc",{get:function(){var t,n,i=((t=this.frameView)===null||t===void 0?void 0:t.getDoc())||document;return!((n=this.opts.config)===null||n===void 0)&&n.useFrameDoc?i:document},enumerable:!1,configurable:!0}),e.prototype.__isDraggable=function(){var t=this,n=t.model,i=t.config,o=n.attributes.draggable;return i.draggableComponents&&o},e.prototype._clbObj=function(){var t=this,n=t.em,i=t.model,o=t.el;return{editor:n==null?void 0:n.getEditor(),model:i,el:o}},e.prototype.init=function(t){},e.prototype.removed=function(t){},e.prototype.onRender=function(t){},e.prototype.onActive=function(t){},e.prototype.onDisable=function(t){},e.prototype.remove=function(){var t;r.prototype.remove.call(this);var n=this,i=n.model,o=n.$el,a=i.views,l=this.frameView||{};return i.components().forEach(function(u){var c=u.getView(l.model);c==null||c.remove()}),(t=this.childrenView)===null||t===void 0||t.remove(),a.splice(a.indexOf(this),1),this.removed(this._clbObj()),o.data({model:"",collection:"",view:""}),this},e.prototype.handleDragStart=function(t){if(!this.__isDraggable())return!1;t.stopPropagation(),t.preventDefault();var n=this.em.getSelectedAll(),i=n.includes(this.model)?n:[this.model];this.em.Commands.run("tlb-move",{target:i,event:t})},e.prototype.initClasses=function(){var t=this.model,n=t.classes,i="change:classes";n instanceof cs&&(this.stopListening(t,i,this.initClasses),this.listenTo(t,i,this.initClasses),this.listenTo(n,"add remove change reset",this.updateClasses),n.length&&this.importClasses())},e.prototype.initComponents=function(t){t===void 0&&(t={});var n=this,i=n.model,o=n.$el,a=n.childrenView,l="change:components",u=i.get("components"),c=[i,l,this.initComponents];u instanceof cd&&(o.data("collection",u),a&&a.remove(),this.stopListening.apply(this,c),!t.avoidRender&&this.renderChildren(),this.listenTo.apply(this,c))},e.prototype.handleChange=function(){var t=this.model,n=(0,z.keys)(t.changed);if(!(n.length===1&&n[0]==="status")){t.emitUpdate();for(var i in t.changed)t.emitUpdate(i)}},e.prototype.importClasses=function(){var t=this,n=t.em,i=t.model,o=n.Selectors;o&&i.classes.forEach(function(a){return o.add(a.getName())})},e.prototype.updateStatus=function(t){t===void 0&&(t={});var n=this,i=n.em,o=n.el,a=n.ppfx,l=n.model,u=i==null?void 0:i.Canvas,c=u==null?void 0:u.config.extHl,d=l.get("status"),h="".concat(a,"selected"),g="".concat(h,"-parent"),m="".concat(a,"freezed"),_="".concat(a,"hovered"),b="".concat(a,"no-pointer"),C="".concat(a,"pointer-init"),w=[h,g,m,_,b,C],x=c&&!t.noExtHl?"":h;this.$el.removeClass(w.join(" "));var O=o.getAttribute("class")||"",k=[O],V=!(u!=null&&u.hasCustomSpot(no.F.Select)),Z=!(u!=null&&u.hasCustomSpot(no.F.Target));switch(d){case"selected":V&&k.push(x);break;case"selected-parent":Z&&k.push(g);break;case"freezed":k.push(m);break;case"freezed-selected":k.push(m),V&&k.push(x);break;case"hovered":!t.avoidHover&&k.push(_);break}(0,z.isBoolean)(l.locked)&&k.push(l.locked?b:C);var $=k.filter(Boolean).join(" ");$&&o.setAttribute("class",$)},e.prototype.updateHighlight=function(){var t=this.model,n=t.get("textable"),i=t.get("highlightable")&&(n||!t.isChildOf("text"));this.setAttribute("data-gjs-highlightable",i?!0:"")},e.prototype.updateStyle=function(t,n,i){i===void 0&&(i={});var o=this,a=o.model,l=o.em;if(pf(l)&&!i.inline){var u=this.__cmpStyleOpts,c=a.getStyle(ko({inline:!0},u));!(0,z.isEmpty)(c)&&a.setStyle(c,u)}else this.setAttribute("style",a.styleToString(i))},e.prototype.updateStyles=function(){this.updateStyle()},e.prototype.updateClasses=function(){var t=this.model.classes.pluck("name").join(" ");this.setAttribute("class",t),this.updateStatus(),this.onAttrUpdate()},e.prototype.setAttribute=function(t,n){var i=this.$el;n?i.attr(t,n):i.removeAttr(t)},e.prototype.getClasses=function(){return this.model.getClasses().join(" ")},e.prototype.updateAttributes=function(){var t=[],n=this,i=n.model,o=n.$el,a=n.el,l=i.attributes,u=l.textable,c=l.type,d=ko(ko({id:i.getId(),"data-gjs-type":c||"default"},this.__isDraggable()&&{draggable:!0}),u&&{contenteditable:"false"});(0,z.each)(a.attributes,function(g){return t.push(g.nodeName)}),t.forEach(function(g){return o.removeAttr(g)}),this.updateStyle(),this.updateHighlight();var h=ko(ko({},d),i.getAttributes());(0,z.keys)(h).forEach(function(g){return h[g]===!1&&delete h[g]}),o.attr(h)},e.prototype.updateContent=function(){var t=this.model.content,n=this.model.components().length;this.getChildrenContainer().innerHTML=n?"":t},e.prototype.prevDef=function(t){t.preventDefault()},e.prototype.updateScript=function(){var t=this,n=t.model,i=t.em;n.get("script")&&(i==null||i.Canvas.getCanvasView().updateScript(this))},e.prototype.getChildrenContainer=function(){var t=this.el;return typeof this.getChildrenSelector=="function"?t=this.el.querySelector(this.getChildrenSelector()):this.getTemplate,t},e.prototype.getOffsetRect=function(){var t={top:0,left:0,bottom:0,right:0},n=this.el,i=0,o=0,a=function(l){var u=l.offsetParent;u?(i+=u.offsetTop,o+=u.offsetLeft,a(u)):(t.top=n.offsetTop+i,t.left=n.offsetLeft+o,t.bottom=t.top+n.offsetHeight,t.right=t.left+n.offsetWidth)};return a(n),t},e.prototype.isInViewport=function(){var t=this,n=t.el,i=t.em,o=t.frameView,a=i.Canvas.getCanvasView(),l=a.getElBoxRect(n,{local:!0}),u=o.el,c=u.clientHeight,d=u.clientWidth,h=l.y,g=l.x,m=h+l.height,_=g+l.width,b=h>=0&&h<c,C=m>0&&m<c,w=_>=0&&_<d,x=g>0&&g<=d,O=(b||C)&&(w||x);return O},e.prototype.scrollIntoView=function(t){var n;t===void 0&&(t={});var i=this.isInViewport();if(!i||t.force){var o=this.el;if(t.behavior!=="smooth"){var a=this.getOffsetRect();(n=o.ownerDocument.defaultView)===null||n===void 0||n.scrollTo(0,a.top)}else o.scrollIntoView(ko({behavior:"smooth",block:"nearest"},t))}},e.prototype.reset=function(){var t=this,n=t.el,i=t.model;t.scriptContainer&&i.emitWithEditor(hn.I.scriptUnmount,{component:i,view:t,el:n}),this.el="",this._ensureElement(),this._setData(),(0,ae.bG)(n,this.el),this.render()},e.prototype._setData=function(){var t=this,n=t.model,i=t.el,o=n.components(),a=this;this.$el.data({model:n,collection:o,view:a}),(0,Vt.setViewEl)(i,this)},e.prototype._createElement=function(t){return this.createDoc.createElement(t)},e.prototype.renderChildren=function(){this.updateContent();var t=this.getChildrenContainer(),n=this.childrenView||new m2({collection:this.model.get("components"),config:this.config,componentTypes:this.opts.componentTypes});n.render(t),this.childrenView=n;for(var i=Array.prototype.slice.call(n.el.childNodes),o=0,a=i.length;o<a;o++)t.appendChild(i.shift())},e.prototype.renderAttributes=function(){this.updateAttributes(),this.updateClasses()},e.prototype.onAttrUpdate=function(){},e.prototype.render=function(){return this.renderAttributes(),this.modelOpt.temporary?this:(this.renderChildren(),this.updateScript(),(0,Vt.setViewEl)(this.el,this),this.postRender(),this)},e.prototype.postRender=function(){if(!this.modelOpt.temporary){var t=this,n=t.model,i=t.el;this.onRender(this._clbObj()),n.emitWithEditor(hn.I.render,{component:n,view:this,el:i})}},e.getEvents=function(){return(0,z.result)(this.prototype,"events")},e}(te.Ss);const dn=HV;var FV=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),WV=function(r){FV(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype._setAttributes=function(){},e.prototype.renderAttributes=function(){},e.prototype.updateStatus=function(){},e.prototype.updateClasses=function(){},e.prototype.setAttribute=function(){},e.prototype.updateAttributes=function(){},e.prototype.initClasses=function(){},e.prototype.initComponents=function(){},e.prototype.delegateEvents=function(){return this},e.prototype._createElement=function(){return document.createTextNode("")},e.prototype.render=function(){var t=this,n=t.model,i=t.el;return n.opt.temporary?this:(i.textContent=n.content,this)},e}(dn);const y2=WV;var qV=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),KV=function(r){qV(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype._createElement=function(){return document.createComment(this.model.content)},e}(y2);const GV=KV;var YV=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),XV=function(r){YV(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.tagName=function(){return"div"},e.prototype.initialize=function(t){r.prototype.initialize.call(this,t),this.listenTo(this.model,"change:attributes:src",this.updateSrc)},e.prototype.updateSrc=function(){var t=(0,ae.I6)(this.el,"iframe")[0];t&&(0,ae.X6)(t,{src:this.__getSrc()})},e.prototype.render=function(){r.prototype.render.call(this);var t=(0,ae.a_)("iframe",{class:"".concat(this.ppfx,"no-pointer"),style:"width: 100%; height: 100%; border: none",src:this.__getSrc()});return this.el.appendChild(t),this},e.prototype.__getSrc=function(){return this.model.getAttributes().src||""},e}(dn);const ZV=XV;var $V=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),JV=function(r){$V(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.tagName=function(){return"img"},e.prototype.events=function(){return{dblclick:"onActive",click:"initResize",error:"onError",load:"onLoad",dragstart:"noDrag"}},e.prototype.initialize=function(t){r.prototype.initialize.call(this,t),this.listenTo(this.model,"change:src",this.updateSrc),this.classEmpty="".concat(this.ppfx,"plh-image"),this.fetchFile()},e.prototype.fetchFile=function(){if(!this.modelOpt.temporary){var t=this,n=t.model,i=t.em,o=n.get("file");if(o&&i){var a=i.Assets.FileUploader();a==null||a.uploadFile({dataTransfer:{files:[o]}},function(l){var u=l&&l.data&&l.data[0],c=u&&((0,z.isString)(u)?u:u.src);c&&n.set({src:c})}),n.set("file","")}}},e.prototype.updateSrc=function(){var t=this.model;t.addAttributes({src:t.getSrcResult()}),this.updateClasses()},e.prototype.updateClasses=function(){r.prototype.updateClasses.call(this);var t=this,n=t.el,i=t.classEmpty,o=t.model,a=o.getSrcResult()&&!o.isDefaultSrc(),l=a?"remove":"add";n.classList[l](i)},e.prototype.onActive=function(t){t==null||t.stopPropagation();var n=this,i=n.em,o=n.model,a=i==null?void 0:i.Assets;a&&o.get("editable")&&a.open({select:function(l,u){o.set({src:l.getSrc()}),u&&a.close()},target:o,types:["image"],accept:"image/*"})},e.prototype.onError=function(){var t=this,n=t.model,i=t.el,o=n.getSrcResult({fallback:!0});o&&(i.srcset&&(i.srcset=""),i.src=o)},e.prototype.onLoad=function(){this.em.Canvas.refresh({all:!0})},e.prototype.noDrag=function(t){return t.preventDefault(),!1},e.prototype.render=function(){if(this.renderAttributes(),this.modelOpt.temporary)return this;this.updateSrc();var t=this,n=t.$el,i=t.model,o=n.attr("class")||"";return!i.get("src")&&n.attr("class","".concat(o," ").concat(this.classEmpty).trim()),this.postRender(),this},e}(dn);const Qb=JV;var QV=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ys=function(){return Ys=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Ys.apply(this,arguments)},Lh=function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function l(d){try{c(n.next(d))}catch(h){a(h)}}function u(d){try{c(n.throw(d))}catch(h){a(h)}}function c(d){d.done?o(d.value):i(d.value).then(l,u)}c((n=n.apply(r,e||[])).next())})},Nh=function(r,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(c){return function(d){return u([c,d])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(t=0)),t;)try{if(n=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){t.label=c[1];break}if(c[0]===6&&t.label<o[1]){t.label=o[1],o=c;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(c);break}o[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(r,t)}catch(d){c=[6,d],i=0}finally{n=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},t6=function(r){QV(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.events=function(){return{dblclick:"onActive",input:"onInput"}},e.prototype.initialize=function(t){r.prototype.initialize.call(this,t),(0,z.bindAll)(this,"disableEditing","onDisable");var n=this.model,i=this.em;this.listenTo(n,"focus",this.onActive),this.listenTo(n,"change:content",this.updateContentText),this.listenTo(n,"sync:content",this.syncContent),this.rte=i==null?void 0:i.RichTextEditor},e.prototype.updateContentText=function(t,n,i){i===void 0&&(i={}),!i.fromDisable&&this.disableEditing()},e.prototype.canActivate=function(){var t=this,n=t.model,i=t.rteEnabled,o=t.em,a=o==null?void 0:o.getEditing(),l=a===n,u=!0,c=!1,d;if((i||!n.get("editable")||l||(c=n.isChildOf("text")))&&(u=!1,c&&!n.get("textable"))){for(var h=n.parent();h&&!h.isInstanceOf("text");)h=h.parent();h&&h.get("editable")?d=h:u=!0}return{result:u,delegate:d}},e.prototype.onActive=function(t){return Lh(this,void 0,void 0,function(){var n,i,o,a,l,u,c,d,h,g,m,_;return Nh(this,function(b){switch(b.label){case 0:return n=this,i=n.rte,o=n.em,a=this.canActivate(),l=a.result,u=a.delegate,l?((_=t==null?void 0:t.stopPropagation)===null||_===void 0||_.call(t),c=this,[4,this.getContent()]):(u&&((m=t==null?void 0:t.stopPropagation)===null||m===void 0||m.call(t),o.setSelected(u),u.trigger("active",t)),[2]);case 1:if(c.lastContent=b.sent(),!i)return[3,5];b.label=2;case 2:return b.trys.push([2,4,,5]),d=this,h=this,[4,i.enable(d,this.activeRte,{event:t,view:d})];case 3:return h.activeRte=b.sent(),[3,5];case 4:return g=b.sent(),o.logError(g),[3,5];case 5:return this.toggleEvents(!0),[2]}})})},e.prototype.onDisable=function(t){this.disableEditing(t)},e.prototype.disableEditing=function(){return Lh(this,arguments,void 0,function(t){var n,i,o,a,l,u,c,d,h;return t===void 0&&(t={}),Nh(this,function(g){switch(g.label){case 0:return n=this,i=n.model,o=n.rte,a=n.activeRte,l=n.em,u=i&&i.get("editable"),o?(c={},[4,this.getContent()]):[3,7];case 1:d=g.sent(),g.label=2;case 2:return g.trys.push([2,4,,5]),[4,o.disable(this,a,t)];case 3:return c=g.sent(),[3,5];case 4:return h=g.sent(),l.logError(h),[3,5];case 5:return u&&(d!==this.lastContent||c.forceSync)?[4,this.syncContent(Ys(Ys({},t),{content:d}))]:[3,7];case 6:g.sent(),this.lastContent="",g.label=7;case 7:return this.toggleEvents(),[2]}})})},e.prototype.getContent=function(){return Lh(this,void 0,void 0,function(){var t,n,i,o;return Nh(this,function(a){switch(a.label){case 0:return t=this,n=t.rte,i=t.activeRte,o="",n?[4,n.getContent(this,i)]:[3,2];case 1:o=a.sent(),a.label=2;case 2:return[2,o]}})})},e.prototype.syncContent=function(){return Lh(this,arguments,void 0,function(t){var n,i,o,a,l,u,c,d,h;return t===void 0&&(t={}),Nh(this,function(g){switch(g.label){case 0:return n=this,i=n.model,o=n.rte,a=n.rteEnabled,!a&&!t.force?[2]:(h=t.content)!==null&&h!==void 0?(u=h,[3,3]):[3,1];case 1:return[4,this.getContent()];case 2:u=g.sent(),g.label=3;case 3:return l=u,c=i.components(),d=Ys({fromDisable:1},t),i.set("content","",d),o!=null&&o.customRte&&!o.customRte.parseContent?(c.length&&c.reset(void 0,Ys(Ys({},t),{keepIds:gu(c)})),i.set("content",l,d)):c.resetFromString(l,t),[2]}})})},e.prototype.insertComponent=function(t,n){var i;n===void 0&&(n={});var o=this,a=o.model,l=o.el,u=l.ownerDocument,c=u.getSelection();if(c!=null&&c.rangeCount){var d=c.getRangeAt(0),h=d.startContainer,g=d.startOffset,m=(0,Vt.getComponentModel)(h),_=[];if(m&&(!((i=m.is)===null||i===void 0)&&i.call(m,"textnode"))){var b=m.collection;b.forEach(function(x){if(x===m){var O="textnode",k=n.useDomContent?h.textContent||"":x.content;_.push({type:O,content:k.slice(0,g)}),_.push(t),_.push({type:O,content:k.slice(g)})}else _.push(x)});var C=_.filter(Boolean),w=C.indexOf(t);return b.reset(C,n),b.at(w)}}return a.append(t,n)},e.prototype.onInput=function(){var t,n="component",i=["".concat(n,":update"),"".concat(n,":input")].join(" ");(t=this.em)===null||t===void 0||t.trigger(i,this.model)},e.prototype.disablePropagation=function(t){t.stopPropagation()},e.prototype.toggleEvents=function(t){var n=this,i=n.em,o=n.model,a=n.$el,l={on:ae.on,off:ae.AU},u=t?"on":"off";i.setEditing(t?this:!1),this.rteEnabled=!!t;var c=[this.el.ownerDocument,document];if(l.off(c,"mousedown",this.onDisable),l[u](c,"mousedown",this.onDisable),i[u]("toolbar:run:before",this.onDisable),o&&(o[u]("removed",this.onDisable),o.trigger("rte:".concat(t?"enable":"disable"))),a==null||a.off("mousedown",this.disablePropagation),a&&a[u]("mousedown",this.disablePropagation),this.config.draggableComponents)for(var d=this.el;d;)d.draggable=!t,d=d.parentNode,d&&d.tagName=="BODY"&&(d=0)},e}(dn);const _2=t6;var e6=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),n6=function(r){e6(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.render=function(){return r.prototype.render.call(this),this.el.addEventListener("click",this.prevDef,!0),this},e}(_2);const b2=n6;var r6=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),i6=function(r){r6(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e}(b2);const o6=i6;var a6=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),s6=function(r){a6(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.tagName=function(){return"div"},e.prototype.events=function(){return{}},e.prototype.initialize=function(t){r.prototype.initialize.call(this,t),this.classEmpty=this.ppfx+"plh-map"},e.prototype.updateSrc=function(){this.getIframe().src=this.model.get("src")},e.prototype.getIframe=function(){if(!this.iframe){var t=document.createElement("iframe");t.src=this.model.get("src"),t.frameBorder="0",t.style.height="100%",t.style.width="100%",t.className=this.ppfx+"no-pointer",this.iframe=t}return this.iframe},e.prototype.render=function(){return r.prototype.render.call(this),this.updateClasses(),this.el.appendChild(this.getIframe()),this},e}(Qb);const l6=s6;var u6=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),c6=function(r){u6(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.tagName=function(){return"script"},e.prototype.events=function(){return{}},e}(dn);const f6=c6;var d6=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),h6=function(r){d6(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype._createElement=function(t){return document.createElementNS("http://www.w3.org/2000/svg",t)},e}(dn);const Yx=h6;var p6=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),v6=function(r){p6(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e}(dn);const g6=v6;var m6=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),y6=function(r){m6(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e}(dn);const _6=y6;var b6=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),w6=function(r){b6(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e}(dn);const S6=w6;var C6=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),x6=function(r){C6(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e}(dn);const O6=x6;var E6=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),T6=function(r){E6(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e}(dn);const A6=T6;var k6=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),D6=function(r){k6(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.events=function(){return{}},e}(dn);const P6=D6;var M6=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),R6=function(r){M6(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.tagName=function(){return"div"},e.prototype.events=function(){return{}},e.prototype.initialize=function(){dn.prototype.initialize.apply(this,arguments);var t=this.model,n=["loop","autoplay","controls","color","rel","modestbranding","poster"],i=n.map(function(o){return"change:".concat(o)}).join(" ");this.listenTo(t,"change:provider",this.updateProvider),this.listenTo(t,"change:src",this.updateSrc),this.listenTo(t,i,this.updateVideo)},e.prototype.updateProvider=function(){var t=this.model.get("provider");this.el.innerHTML="",this.el.appendChild(this.renderByProvider(t))},e.prototype.updateSrc=function(){var t=this,n=t.model,i=t.videoEl;if(i){var o=n.get("provider"),a=n.get("src");switch(o){case"yt":a=n.getYoutubeSrc();break;case"ytnc":a=n.getYoutubeNoCookieSrc();break;case"vi":a=n.getVimeoSrc();break}i.src=a}},e.prototype.updateVideo=function(){var t=this,n=t.model,i=t.videoEl,o=n.get("provider");switch(o){case"yt":case"ytnc":case"vi":n.trigger("change:videoId");break;default:if(i){var a=i;a.loop=n.get("loop"),a.autoplay=n.get("autoplay"),a.controls=n.get("controls"),a.poster=n.get("poster")}}},e.prototype.renderByProvider=function(t){var n;switch(t){case"yt":n=this.renderYoutube();break;case"ytnc":n=this.renderYoutubeNoCookie();break;case"vi":n=this.renderVimeo();break;default:n=this.renderSource()}return this.videoEl=n,n},e.prototype.renderSource=function(){var t=document.createElement("video");return t.src=this.model.get("src"),this.initVideoEl(t),t},e.prototype.renderYoutube=function(){var t=document.createElement("iframe");return t.src=this.model.getYoutubeSrc(),t.frameBorder="0",t.setAttribute("allowfullscreen","true"),this.initVideoEl(t),t},e.prototype.renderYoutubeNoCookie=function(){var t=document.createElement("iframe");return t.src=this.model.getYoutubeNoCookieSrc(),t.frameBorder="0",t.setAttribute("allowfullscreen","true"),this.initVideoEl(t),t},e.prototype.renderVimeo=function(){var t=document.createElement("iframe");return t.src=this.model.getVimeoSrc(),t.frameBorder="0",t.setAttribute("allowfullscreen","true"),this.initVideoEl(t),t},e.prototype.initVideoEl=function(t){t.className=this.ppfx+"no-pointer",t.style.height="100%",t.style.width="100%"},e.prototype.render=function(){dn.prototype.render.apply(this),this.updateClasses();var t=this.model.get("provider");return this.el.appendChild(this.renderByProvider(t)),this.updateVideo(),this},e}(Qb);const L6=R6;var N6=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),j6=function(r){N6(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.tagName=function(){return"div"},e}(dn);const V6=j6;var B6=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Pv=function(){return Pv=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Pv.apply(this,arguments)},U6=function(r){B6(e,r);function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=r.apply(this,t)||this;i.refreshDbn=(0,z.debounce)(function(){return i.refresh()},0);var o=i.events;return i.on(o.update,i.onUpdate),i.on(o.updateInside,i.onUpdateDeep),i}return e.prototype.removeChildren=function(t,n,i){var o;i===void 0&&(i={}),r.prototype.removeChildren.call(this,t,n,i),(o=pi(t))===null||o===void 0||o.forEach(function(a){return zg(a,{skipRefs:!0})}),this.__trgEvent(this.events.symbolMainRemove,{component:t})},e.prototype.onAdd=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];r.prototype.onAdd.apply(this,t);var i=t[0];this.__trgEvent(this.events.symbolMainAdd,{component:i})},e.prototype.onUpdate=function(t){this.__trgEvent(this.events.symbolMainUpdate,t)},e.prototype.onUpdateDeep=function(t){this.__trgEvent(this.events.symbolMainUpdateDeep,t)},e.prototype.refresh=function(){var t=this,n=t.em,i=t.events;n.trigger(i.symbol)},e.prototype.__trgEvent=function(t,n,i){i===void 0&&(i=!1);var o=this,a=o.em,l=o.events,u=i?l.symbolInstance:l.symbolMain;a.trigger(t,n),a.trigger(u,Pv(Pv({},n),{event:t})),this.refreshDbn()},e}(cd);const I6=U6;var z6=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),wu=function(){return wu=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},wu.apply(this,arguments)},w2=function(r){z6(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.dataResolver=i.initializeDataResolver(t,n),i.listenToPropsChange(),i}return e.prototype.initializeDataResolver=function(t,n){var i,o=(i=t.dataResolver)!==null&&i!==void 0?i:{type:t.type},a=this.createResolverInstance(o,wu(wu({},n),{collectionsStateMap:this.collectionsStateMap}));return a},e.prototype.getDataResolver=function(){return this.get("dataResolver")},e.prototype.setDataResolver=function(t){return this.set("dataResolver",t)},e.prototype.onCollectionsStateMapUpdate=function(t){this.dataResolver.updateCollectionsStateMap(t),r.prototype.onCollectionsStateMapUpdate.call(this,t)},e.prototype.listenToPropsChange=function(){var t=this;this.listenTo(this.dataResolver,"change",(function(){t.__changesUp({m:t})}).bind(this)),this.on("change:dataResolver",function(){t.dataResolver.set(t.get("dataResolver"))})},e.prototype.removePropsListeners=function(){this.stopListening(this.dataResolver),this.off("change:dataResolver"),this.off("change:".concat(this.collectionsStateMap))},e.prototype.destroy=function(t){return this.removePropsListeners(),r.prototype.destroy.call(this,t)},e.prototype.toJSON=function(t){var n=r.prototype.toJSON.call(this,t),i=this.dataResolver.toJSON();return delete i.type,wu(wu({},n),{dataResolver:i})},e}(jn),H6=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Mv=function(){return Mv=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Mv.apply(this,arguments)},F6=function(r){H6(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"defaults",{get:function(){return Mv(Mv({},r.prototype.defaults),{type:ji,dataResolver:{},droppable:!1})},enumerable:!1,configurable:!0}),e.prototype.getPath=function(){return this.dataResolver.get("path")},e.prototype.getCollectionId=function(){return this.dataResolver.get("collectionId")},e.prototype.getVariableType=function(){return this.dataResolver.get("variableType")},e.prototype.getDefaultValue=function(){return this.dataResolver.get("defaultValue")},e.prototype.getDataValue=function(){return this.dataResolver.getDataValue()},e.prototype.resolvesFromCollection=function(){return this.dataResolver.resolvesFromCollection()},e.prototype.getInnerHTML=function(){return this.getDataValue()},e.prototype.setPath=function(t){this.dataResolver.set("path",t)},e.prototype.setDefaultValue=function(t){this.dataResolver.set("defaultValue",t)},e.prototype.resetDataSourcePath=function(t){this.set("dataResolver",{path:t,collectionId:void 0,variableType:void 0})},e.prototype.createResolverInstance=function(t,n){return new Cl(t,n)},e.isComponent=function(t){return(0,Vt.toLowerCase)(t.tagName)===ji},e}(w2);const W6=F6;var q6=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),K6=function(r){q6(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.initialize=function(t){var n=this;t===void 0&&(t={}),r.prototype.initialize.call(this,t),this.dataResolverListener=new vc({em:this.em,resolver:this.model.dataResolver,onUpdate:function(){return n.postRender()}})},e.prototype.remove=function(){return this.dataResolverListener.destroy(),r.prototype.remove.call(this)},e.prototype.postRender=function(){this.el.innerHTML=this.model.getDataValue(),r.prototype.postRender.call(this)},e}(dn);const G6=K6;var Y6=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),X6=function(r){Y6(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.initialize=function(t){t===void 0&&(t={}),r.prototype.initialize.call(this,t),this.postRender=this.postRender.bind(this),this.listenTo(this.model.components(),"reset",this.postRender),this.dataResolverListener=new vc({em:this.em,resolver:this.model.dataResolver,onUpdate:this.postRender})},e.prototype.renderDataResolver=function(){var t=this.model.getIfTrueContent(),n=this.model.getIfFalseContent(),i=t==null?void 0:t.getEl(),o=n==null?void 0:n.getEl(),a=this.model.isTrue();i&&(i.style.display=a?"":"none"),o&&(o.style.display=a?"none":"")},e.prototype.postRender=function(){this.renderDataResolver(),r.prototype.postRender.call(this)},e.prototype.remove=function(){return this.stopListening(this.model.components(),"reset",this.postRender),this.dataResolverListener.destroy(),r.prototype.remove.call(this)},e}(dn);const Z6=X6;var $6=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Rv=function(){return Rv=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Rv.apply(this,arguments)},J6=function(r){$6(e,r);function e(t,n){n===void 0&&(n={});var i,o=r.call(this,t,n)||this;return o.mutable=(i=t.mutable)!==null&&i!==void 0?i:!0,o.on("change",o.handleChange),o}return Object.defineProperty(e.prototype,"cl",{get:function(){return this.collection},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dataSource",{get:function(){return this.cl.dataSource},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"em",{get:function(){return this.dataSource.em},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"index",{get:function(){return this.cl.indexOf(this)},enumerable:!1,configurable:!0}),e.prototype.handleChange=function(){var t=this,n=this.changedAttributes();(0,z.keys)(n).forEach(function(i){return t.triggerChange(i)})},e.prototype.getPath=function(t,n){n===void 0&&(n={});var i=this,o=i.dataSource,a=i.id,l=i.index,u=o.id,c=t?".".concat(t):"";return"".concat(u,".").concat(n.useIndex?l:a).concat(c)},e.prototype.getPaths=function(t){return[this.getPath(t),this.getPath(t,{useIndex:!0})]},e.prototype.triggerChange=function(t){var n=this,i=n.dataSource,o=n.em,a={dataSource:i,dataRecord:this},l=this.getPaths(t);l.forEach(function(u){return o.trigger("".concat(ec.path,":").concat(u),Rv(Rv({},a),{path:u}))})},e.prototype.set=function(t,n,i){var o=this,a,l;if(!this.isNew()&&this.attributes.mutable===!1)throw new Error("Cannot modify immutable record");var u=(l=(a=this.dataSource)===null||a===void 0?void 0:a.transformers)===null||l===void 0?void 0:l.onRecordSetValue,c=function(C,w,x){x===void 0&&(x={});var O=x!=null&&x.avoidTransformers||!u?w:u({id:o.id,key:C,value:w});r.prototype.set.call(o,C,O,x),r.prototype.set.call(o,{__p:x.partial?!0:void 0},x)};if(typeof t=="object"&&t!==null)for(var d=t,h=0,g=Object.entries(d);h<g.length;h++){var m=g[h],_=m[0],b=m[1];c(_,b,n)}else c(t,n,i);return this},e}(te.Kx);const Q6=J6;var tB=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),S2=function(r){tB(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.dataSource=n.dataSource,i}return e}(te.pM);const Xx=S2;S2.prototype.model=Q6;var eB=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Lv=function(){return Lv=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Lv.apply(this,arguments)},nB=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))},rB=function(r){eB(e,r);function e(t,n){var i=r.call(this,Lv(Lv({},t),{records:[]}),n)||this,o=t.records,a=t.transformers;return i.transformers=a||{},o instanceof Xx||i.set({records:new Xx(o,{dataSource:i})}),i.listenTo(i.records,"add",i.onAdd),i.listenTo(i.records,te.e2,i.handleChanges),i}return e.prototype.defaults=function(){return{records:[],transformers:{}}},Object.defineProperty(e.prototype,"records",{get:function(){return this.attributes.records},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"em",{get:function(){return this.collection.em},enumerable:!1,configurable:!0}),e.prototype.onAdd=function(t){t.triggerChange()},e.prototype.addRecord=function(t,n){return this.records.add(t,n)},e.prototype.getRecord=function(t){return this.records.get(t)},e.prototype.getRecords=function(){var t=this;return nB([],this.records.models,!0).map(function(n){return t.getRecord(n.id)})},e.prototype.removeRecord=function(t,n){var i=this.getRecord(t);if((i==null?void 0:i.mutable)===!1&&!(n!=null&&n.dangerously))throw new Error("Cannot remove immutable record");return this.records.remove(t,n)},e.prototype.setRecords=function(t){var n=this;this.records.reset([],{silent:!0}),t.forEach(function(i){n.records.add(i)})},e.prototype.handleChanges=function(t,n,i){this.em.changesUp(i||n)},e}(te.Kx);const C2=rB;var iB=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),oi=function(){return oi=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},oi.apply(this,arguments)},Cy={avoidStore:!0,partial:!0},oB=function(r){iB(e,r);function e(t,n){var i=this;if(n.forCloning)return i=r.call(this,t,n)||this;n.em;var o=oi(oi({},t),{droppable:!1}),a=i=r.call(this,o,n)||this;return i.rebuildChildrenFromCollection=i.rebuildChildrenFromCollection.bind(i),i.listenToPropsChange(),i.rebuildChildrenFromCollection(),a}return Object.defineProperty(e.prototype,"defaults",{get:function(){return oi(oi({},r.prototype.defaults),{droppable:!1,dataResolver:{},type:e_,components:[{type:Nf}]})},enumerable:!1,configurable:!0}),e.prototype.getDataResolver=function(){return this.get("dataResolver")},e.prototype.getItemsCount=function(){var t,n,i=this.getDataSourceItems(),o=Math.max(0,(t=this.getConfigStartIndex())!==null&&t!==void 0?t:0),a=(n=this.getConfigEndIndex())!==null&&n!==void 0?n:Number.MAX_VALUE,l=Math.min(i.length-1,a),u=l-o+1;return Math.max(0,u)},e.prototype.getConfigStartIndex=function(){return this.dataResolver.startIndex},e.prototype.getConfigEndIndex=function(){return this.dataResolver.endIndex},e.prototype.getDataSource=function(){var t;return(t=this.dataResolver)===null||t===void 0?void 0:t.dataSource},e.prototype.getCollectionId=function(){var t;return(t=this.dataResolver)===null||t===void 0?void 0:t.collectionId},e.prototype.getCollectionItemComponents=function(){return this.firstChild.components()},e.prototype.setDataResolver=function(t){return this.set("dataResolver",t)},e.prototype.setCollectionId=function(t){this.updateCollectionConfig({collectionId:t})},e.prototype.setStartIndex=function(t){if(t<0){this.em.logError("Start index should be greater than or equal to 0");return}this.updateCollectionConfig({startIndex:t})},e.prototype.setEndIndex=function(t){this.updateCollectionConfig({endIndex:t})},e.prototype.setDataSource=function(t){this.set(eu,oi(oi({},this.dataResolver),{dataSource:t}))},e.prototype.setCollectionItemComponents=function(t){this.firstChild.components(t)},Object.defineProperty(e.prototype,"firstChild",{get:function(){return this.components().at(0)},enumerable:!1,configurable:!0}),e.prototype.updateCollectionConfig=function(t){this.set(eu,oi(oi({},this.dataResolver),t))},e.prototype.getDataSourceItems=function(){return uB(this.dataResolver.dataSource,this.em)},Object.defineProperty(e.prototype,"dataResolver",{get:function(){return this.get(eu)||{}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"collectionDataSource",{get:function(){return this.dataResolver.dataSource},enumerable:!1,configurable:!0}),e.prototype.listenToDataSource=function(){var t,n=this.em,i=(t=this.collectionDataSource)===null||t===void 0?void 0:t.path;i&&(this.dataSourceWatcher=new vc({em:n,resolver:new Cl({type:ji,path:i},{em:n,collectionsStateMap:this.collectionsStateMap}),onUpdate:this.rebuildChildrenFromCollection}))},e.prototype.rebuildChildrenFromCollection=function(){this.components().reset(this.getCollectionItems(),i_)},e.prototype.getCollectionItems=function(){var t,n=this.ensureFirstChild(),i=n.getStyle().display,o=!i||i==="none",a=o?"":i;n.addStyle({display:"none"},Cy);var l=[n],u=lB(this.dataResolver,this.em);if(!u)return l;var c=this.collectionId,d=this.getDataSourceItems(),h=this.resolveCollectionConfig(d),g=h.startIndex,m=h.endIndex,_=this.hasDuplicateCollectionId();if(_)return this.em.logError('The collection ID "'.concat(c,'" already exists in the parent collection state. Overriding it is not allowed.')),l;for(var b=g;b<=m;b++){var C=b===g,w=this.getCollectionsStateMapForItem(d,b);if(C){(t=pi(n))===null||t===void 0||t.forEach(function(O){return zg(O)}),Zx(n,w),n.addStyle({display:a},Cy);continue}var x=n.clone({symbol:!0,symbolInv:!0});x.set({locked:!0,layerable:!1},Cy),Zx(x,w),l.push(x)}return l},e.prototype.getCollectionsStateMapForItem=function(t,n){var i,o=this.resolveCollectionConfig(t),a=o.startIndex,l=o.endIndex,u=o.totalItems,c=this.collectionId,d=t[n],h=this.collectionsStateMap,g=n-a,m=u-(1+g),_={collectionId:c,currentIndex:n,currentItem:d,startIndex:a,endIndex:l,totalItems:u,remainingItems:m},b=oi(oi({},h),(i={},i[c]=_,i));return b},e.prototype.hasDuplicateCollectionId=function(){var t=this.collectionId,n=this.collectionsStateMap;return!!n[t]},e.prototype.resolveCollectionConfig=function(t){var n,i,o=(n=this.getConfigStartIndex())!==null&&n!==void 0?n:0,a=(i=this.getConfigEndIndex())!==null&&i!==void 0?i:Number.MAX_VALUE,l=Math.min(t.length-1,a),u=l-o+1;return{startIndex:o,endIndex:l,totalItems:u}},e.prototype.ensureFirstChild=function(){var t=this.em.Components.getType(Nf).model;return this.firstChild||new t({type:Nf},this.opt)},e.prototype.listenToPropsChange=function(){var t=this;this.on("change:".concat(eu),function(){t.rebuildChildrenFromCollection(),t.listenToDataSource()}),this.listenToDataSource()},e.prototype.removePropsListeners=function(){var t;this.off("change:".concat(eu)),(t=this.dataSourceWatcher)===null||t===void 0||t.destroy()},e.prototype.onCollectionsStateMapUpdate=function(t){var n=this;this.collectionsStateMap=t,this.dataResolverWatchers.onCollectionsStateMapUpdate();var i=this.getDataSourceItems(),o=this.resolveCollectionConfig(i).startIndex,a=this.components();a.forEach(function(l,u){var c=n.getCollectionsStateMapForItem(i,o+u);l.onCollectionsStateMapUpdate(c)})},e.prototype.stopSyncComponentCollectionState=function(){this.stopListening(this.components(),"add remove reset",this.syncOnComponentChange),this.onCollectionsStateMapUpdate({})},e.prototype.syncOnComponentChange=function(t,n,i){var o=this.collectionsStateMap;this.collectionsStateMap={},r.prototype.syncOnComponentChange.call(this,t,n,i),this.collectionsStateMap=o,this.onCollectionsStateMapUpdate(o)},Object.defineProperty(e.prototype,"collectionId",{get:function(){return this.getDataResolver().collectionId},enumerable:!1,configurable:!0}),e.isComponent=function(t){return(0,Vt.toLowerCase)(t.tagName)===e_},e.prototype.toJSON=function(t){var n,i=r.prototype.toJSON.call(this,t);delete i.droppable,delete i[ci],(n=i.attributes)===null||n===void 0||delete n.id;var o=this.firstChild;return oi(oi({},i),{components:[o]})},e.prototype.destroy=function(t){return this.removePropsListeners(),r.prototype.destroy.call(this,t)},e}(jn);const aB=oB;function Zx(r,e){r.setSymbolOverride(["locked","layerable"]),r.syncComponentsCollectionState(),r.onCollectionsStateMapUpdate(e)}function sB(r,e,t){return r?!0:(t.logError('The "'.concat(e,'" property is required in the collection definition.')),!1)}function lB(r,e){for(var t=[{property:r==null?void 0:r.collectionId,propertyPath:"dataResolver.collectionId"},{property:r==null?void 0:r.dataSource,propertyPath:"dataResolver.dataSource"}],n=0,i=t;n<i.length;n++){var o=i[n].propertyPath;if(!sB(r,o,e))return[]}var a=r==null?void 0:r.startIndex;return a!==void 0&&(a<0||!Number.isInteger(a))&&e.logError("Invalid startIndex: ".concat(a,". It must be a non-negative integer.")),!0}function uB(r,e){var t=[];switch(!0){case(0,z.isArray)(r):t=r;break;case((0,Vt.isObject)(r)&&r instanceof C2):{var n=r.get("id");t=$x(n,e);break}case vl(r):{var i=r.path;if(!i)break;var o=i.split(".").length===1;o?t=$x(i,e):t=e.DataSources.getValue(i,[]);break}}return t}function $x(r,e){var t=e.DataSources.getValue(r,[]),n=Object.keys(t);return n.map(function(i){return{type:ji,path:r+"."+i}})}var cB=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),fB=function(r){cB(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e}(dn);const dB=fB;var hB=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Nv=function(){return Nv=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Nv.apply(this,arguments)},pB=function(r){hB(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"defaults",{get:function(){return Nv(Nv({},r.prototype.defaults),{droppable:!1,type:Os,dataResolver:{condition:{left:"",operator:_o.equalsIgnoreCase,right:""}},components:[{type:qb},{type:Kb}]})},enumerable:!1,configurable:!0}),e.prototype.isTrue=function(){return this.dataResolver.isTrue()},e.prototype.getCondition=function(){return this.dataResolver.getCondition()},e.prototype.getIfTrueContent=function(){return this.components().at(0)},e.prototype.getIfFalseContent=function(){return this.components().at(1)},e.prototype.getOutputContent=function(){return this.isTrue()?this.getIfTrueContent():this.getIfFalseContent()},e.prototype.setCondition=function(t){this.dataResolver.setCondition(t)},e.prototype.setIfTrueComponents=function(t){this.setComponentsAtIndex(0,t)},e.prototype.setIfFalseComponents=function(t){this.setComponentsAtIndex(1,t)},e.prototype.getInnerHTML=function(t){var n,i;return(i=(n=this.getOutputContent())===null||n===void 0?void 0:n.getInnerHTML(t))!==null&&i!==void 0?i:""},e.prototype.createResolverInstance=function(t,n){return new Wb(t,n)},e.prototype.setComponentsAtIndex=function(t,n){var i=this.components().at(t);i==null||i.components(n)},e.isComponent=function(t){return(0,Vt.toLowerCase)(t.tagName)===Os},e}(w2);const vB=pB;var gB=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),jv=function(){return jv=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},jv.apply(this,arguments)},mB=function(r){gB(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"defaults",{get:function(){return jv(jv({},r.prototype.defaults),{removable:!1,draggable:!1})},enumerable:!1,configurable:!0}),e.isComponent=function(t){return j5((0,Vt.toLowerCase)(t.tagName))},e}(jn);const xy=mB;var yB=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),fr=function(){return fr=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},fr.apply(this,arguments)},_B=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t},bB=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))},Su;(function(r){r[r.InvalidSource=0]="InvalidSource",r[r.SourceReject=1]="SourceReject",r[r.TargetReject=2]="TargetReject"})(Su||(Su={}));var wB=function(r){yB(e,r);function e(t){var n=r.call(this,t,"DomComponents",new cd(void 0,{em:t}),hn.I,I4())||this;n.componentTypes=[{id:Nf,model:xy,view:dn},{id:qb,model:xy,view:dn},{id:Kb,model:xy,view:dn},{id:e_,model:aB,view:dB},{id:Os,model:vB,view:Z6},{id:ji,model:W6,view:G6},{id:"cell",model:CV,view:_6},{id:"row",model:MV,view:A6},{id:"table",model:yV,view:P6},{id:"thead",model:kV,view:O6},{id:"tbody",model:Jb,view:g6},{id:"tfoot",model:EV,view:S6},{id:"map",model:sV,view:l6},{id:"link",model:iV,view:b2},{id:"label",model:eV,view:o6},{id:"video",model:NV,view:L6},{id:"image",model:Zb,view:Qb},{id:"script",model:cV,view:f6},{id:"svg-in",model:vV,view:Yx},{id:"svg",model:g2,view:Yx},{id:"iframe",model:Y4,view:ZV},{id:"comment",model:q4,view:GV},{id:"textnode",model:v2,view:y2},{id:zu,model:v4,view:dn},{id:"wrapper",model:BV,view:V6},{id:"text",model:$b,view:_2},{id:"default",model:jn,view:dn}],n.componentsById={},n.Component=jn,n.Components=cd,n.ComponentView=dn,n.ComponentsView=m2,n.storageKey="components",n.keySymbols="symbols",n.events=hn.I;var i=n.config;n.symbols=new I6([],{em:t,config:i,domc:n}),t&&(n.config.components=t.config.components||n.config.components);var o=n.config.pStylePrefix;if(o&&(n.config.stylePrefix=o+n.config.stylePrefix),t){t.get("Parser").compTypes=n.componentTypes,t.on("change:componentHovered",n.componentHovered,n);var a=t.get("selected");t.listenTo(a,"add",function(l,u,c){return n.selectAdd(a.getComponent(l),c)}),t.listenTo(a,"remove",function(l,u,c){return n.selectRemove(a.getComponent(l),c)})}return n}return e.prototype.postLoad=function(){var t=this,n=t.em,i=t.symbols,o=n.UndoManager;o.add(i)},e.prototype.load=function(t){var n=this,i=this.loadProjectData(t,{onResult:function(o){var a=n.getWrapper();if(a||(n.em.Pages.add({},{select:!0}),a=n.getWrapper()),(0,z.isArray)(o))o.length&&a.components(o);else{var l=o.components,u=l===void 0?[]:l,c=_B(o,["components"]);a.set(c),a.components(u)}}});return this.symbols.reset(t[this.keySymbols]||[]),i},e.prototype.store=function(){var t;return t={},t[this.keySymbols]=this.symbols,t},e.prototype.getComponent=function(){var t=this.em.Pages.getSelected(),n=t==null?void 0:t.getMainFrame();return n==null?void 0:n.getComponent()},e.prototype.getWrapper=function(){return this.getComponent()},e.prototype.getComponents=function(){var t=this.getWrapper();return t==null?void 0:t.components()},e.prototype.addComponent=function(t,n){return n===void 0&&(n={}),this.getComponents().add(t,n)},e.prototype.render=function(){var t;return(t=this.componentView)===null||t===void 0?void 0:t.render().el},e.prototype.clear=function(t){t===void 0&&(t={});var n=this.getComponents();return n==null||n.filter(Boolean).forEach(function(i){return i.remove(t)}),this},e.prototype.setComponents=function(t,n){n===void 0&&(n={}),this.clear(n).addComponent(t,n)},e.prototype.addType=function(t,n){var i=this.em,o=n.model,a=o===void 0?{}:o,l=n.view,u=l===void 0?{}:l,c=n.isComponent,d=n.extend,h=n.extendView,g=n.extendFn,m=g===void 0?[]:g,_=n.extendFnView,b=_===void 0?[]:_,C=n.block,w=this.getType(t),x=this.getType(d),O=this.getType(h),k=x||w||this.getType("default"),V=k.model,Z=O?O.view:k.view,$=function(I,T,tt){return I.reduce(function(M,ot){var dt=T[ot],pt=tt.prototype[ot];return dt&&pt&&(M[ot]=function(){for(var Dt=[],_t=0;_t<arguments.length;_t++)Dt[_t]=arguments[_t];pt.bind(this).apply(void 0,Dt),dt.bind(this).apply(void 0,Dt)}),M},{})};if(typeof a=="object"){var Y={defaults:a.defaults};delete a.defaults;var U=new Set(V.typeExtends);U.add(V.getDefaults().type),n.model=V.extend(fr(fr({},a),$(m,a,V)),{typeExtends:U,isComponent:w&&!x&&!c?V.isComponent:c||function(){return 0}}),Object.defineProperty(n.model.prototype,"defaults",{get:function(){return fr(fr({},(0,z.result)(V.prototype,"defaults")||{}),(0,z.result)(Y,"defaults")||{})}})}if(typeof u=="object"&&(n.view=Z.extend(fr(fr({},u),$(b,u,Z)))),w?(w.model=n.model,w.view=n.view):(n.id=t,this.componentTypes.unshift(n)),C){var Q={id:t,label:t,content:{type:t}},H=C===!0?Q:fr(fr({},Q),C);i.Blocks.add(H.id||t,H)}var D="component:type:".concat(w?"update":"add");return i==null||i.trigger(D,w||n),this},e.prototype.getType=function(t){for(var n=this.componentTypes,i=0;i<n.length;i++){var o=n[i].id;if(o==t)return n[i]}},e.prototype.removeType=function(t){var n=this.componentTypes,i=this.getType(t);if(i){var o=n.indexOf(i);return n.splice(o,1),i}},e.prototype.getTypes=function(){return this.componentTypes},e.prototype.selectAdd=function(t,n){var i=this;n===void 0&&(n={}),t&&(t.set({status:"selected"}),["component:selected","component:toggled"].forEach(function(o){return i.em.trigger(o,t,n)}))},e.prototype.selectRemove=function(t,n){var i=this;n===void 0&&(n={}),t&&(this.em,t.set({status:"",state:""}),["component:deselected","component:toggled"].forEach(function(o){return i.em.trigger(o,t,n)}))},e.prototype.componentHovered=function(){var t=this.em,n=t.get("componentHovered"),i=t.previous("componentHovered"),o="hovered";i&&i.get("status")==o&&i.set({status:"",state:""}),n&&(0,z.isEmpty)(n.get("status"))&&n.set("status",o)},e.prototype.getShallowWrapper=function(){var t=this,n=t.shallow,i=t.em;if(!n&&i){var o=i.shallow;if(!o)return;var a=o.Components;if(a.componentTypes=this.componentTypes,n=a.getWrapper(),n){var l=[pp,o_].join(" ");n.on(l,(0,z.debounce)(function(){return n==null?void 0:n.components("")},100))}this.shallow=n}return n},e.prototype.isComponent=function(t){return(0,Vt.isComponent)(t)},e.prototype.addSymbol=function(t){if(!((0,z.isSymbol)(t)&&!pl(t))){var n=t.clone({symbol:!0});return Qs(n)&&this.symbols.add(n),this.em.trigger("component:toggled"),n}},e.prototype.getSymbols=function(){return bB([],this.symbols.models,!0)},e.prototype.detachSymbol=function(t){rv(t)&&zg(t)},e.prototype.getSymbolInfo=function(t,n){n===void 0&&(n={});var i=Qs(t),o=ro(t),a=!!o,l=pi(i?t:o)||[],u=o||(i?t:void 0),c=pa(t,{changed:n.withChanges}),d=i||a,h=d&&pl(t);return{isSymbol:d,isMain:i,isInstance:a,isRoot:h,main:u,instances:l,relatives:c||[]}},e.prototype.canMove=function(t,n,i){var o={result:!1,reason:Su.InvalidSource,target:t,source:null};if(!n||!t)return o;if(Vo(t)&&n instanceof jn&&Vo(n)){var a=ld(t),l=Qs(a)?a:ro(a),u=ld(n),c=Qs(u)?u:ro(u),d=l===c,h=a!==u;if(d&&h)return fr(fr({},o),{reason:Su.TargetReject})}var g=(0,Vt.isComponent)(n)?n:null;if(!g){var m=this.getShallowWrapper();g=(m==null?void 0:m.append(n,{temporary:!0})[0])||null}if(o.source=g,!g)return o;var _=g.get("draggable");if((0,z.isFunction)(_))_=!!_(g,t,i);else{var b=t.getEl();_=(0,z.isArray)(_)?_.join(","):_,_=(0,z.isString)(_)?b==null?void 0:b.matches(_):_}if(!_)return fr(fr({},o),{reason:Su.SourceReject});var C=t.get("droppable");if((0,z.isFunction)(C))C=!!C(g,t,i);else if(C===!1&&t.isInstanceOf("text")&&g.get("textable"))C=!0;else{var b=g.getEl();C=(0,z.isArray)(C)?C.join(","):C,C=(0,z.isString)(C)?b==null?void 0:b.matches(C):C}var w=[t].concat(t.parents()).indexOf(g)>-1;return!C||w?fr(fr({},o),{reason:Su.TargetReject}):fr(fr({},o),{result:!0})},e.prototype.allById=function(){return this.componentsById},e.prototype.getById=function(t){return this.componentsById[t]||null},e.prototype.destroy=function(){var t,n=this.allById();Object.keys(n).forEach(function(i){return n[i]&&n[i].remove()}),(t=this.componentView)===null||t===void 0||t.remove(),[this.em,this.componentsById,this.componentView].forEach(function(i){return{}})},e}(Ea);const SB=wB;var CB=function(){return{stylePrefix:"css-",rules:[]}};const xB=CB;var OB=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),EB=Number.MAX_VALUE,TB=function(r){var e=/(-?\d*\.?\d+)\w{0,}/.exec(r);return e?e[0]:""},AB=function(r){OB(e,r);function e(){var t=r.call(this)||this;return(0,z.bindAll)(t,"sortRules"),t.compCls=[],t.ids=[],t}return e.prototype.buildFromModel=function(t,n){var i=this;n===void 0&&(n={});var o="",a=this.em,l=a&&a.getConfig().avoidInlineStyle,u=t.styleToString(),c=t.classes;this.ids.push("#".concat(t.getId())),c.forEach(function(h){return i.compCls.push(h.getFullName())}),!l&&u&&(o="#".concat(t.getId(),"{").concat(u,"}"));var d=t.components();return d.forEach(function(h){return o+=i.buildFromModel(h,n)}),o},e.prototype.build=function(t,n){var i=this;n===void 0&&(n={});var o=n.json,a=n.em,l=n.cssc||(a==null?void 0:a.Css);this.em=a,this.compCls=[],this.ids=[],this.model=t;var u=[],c=t?this.buildFromModel(t,n):"",d=(0,z.isUndefined)(n.clearStyles)&&a?a.getConfig().clearStyles:n.clearStyles;if(l){var h=n.rules||l.getAll(),g={},m=[];n.onlyMatched&&t&&(0,Vt.hasWin)()&&(h=this.matchedRules(t,h)),h.forEach(function(_){var b=_.getAtRule();if(b){var C=g[b];C?C.push(_):g[b]=[_];return}var w=i.buildFromRule(_,m,n);o?u.push(w):c+=w}),this.sortMediaObject(g).forEach(function(_){var b="",C=_.key,w=_.value;w.forEach(function(x){var O=i.buildFromRule(x,m,n);x.get("singleAtRule")?c+="".concat(C,"{").concat(O,"}"):b+=O,o&&u.push(O)}),b&&(c+="".concat(C,"{").concat(b,"}"))}),a&&d&&h.remove&&h.remove(m)}return o?u.filter(function(_){return _}):c},e.prototype.buildFromRule=function(t,n,i){var o=this,a;i===void 0&&(i={});var l="",u=this.model,c=t.selectorsToString({skipAdd:1}),d=t.get("selectorsAdd"),h=t.get("singleAtRule"),g;if((a=t.get("selectors"))===null||a===void 0||a.forEach(function(_){var b=_.getFullName();(o.compCls.indexOf(b)>=0||o.ids.indexOf(b)>=0||i.keepUnusedStyles)&&(g=1)}),c&&g||d||h||!u){var m=t.getDeclaration({body:1});m&&(i.json?l=t:l+=m)}else n.push(t);return l},e.prototype.matchedRules=function(t,n){var i=this,o=t.getEl(),a=[];return n.forEach(function(l){try{l.selectorsToString().split(",").some(function(u){return o==null?void 0:o.matches(i.__cleanSelector(u))})&&a.push(l)}catch{}}),t.components().forEach(function(l){a=a.concat(i.matchedRules(l,n))}),a=a.filter(function(l,u){return a.indexOf(l)===u}),a},e.prototype.getQueryLength=function(t){var n=/(-?\d*\.?\d+)\w{0,}/.exec(t);return n?parseFloat(n[1]):EB},e.prototype.sortMediaObject=function(t){var n=this;t===void 0&&(t={});var i=[];return(0,z.each)(t,function(o,a){return i.push({key:a,value:o})}),i.sort(function(o,a){var l=[o.key,a.key].every(function(d){return d.indexOf("min-width")!==-1}),u=l?o.key:a.key,c=l?a.key:o.key;return n.getQueryLength(u)-n.getQueryLength(c)})},e.prototype.sortRules=function(t,n){var i=function(u){return u.get("mediaText")||""},o=[i(t),i(n)].every(function(u){return u.indexOf("min-width")!==-1}),a=i(o?t:n),l=i(o?n:t);return this.getQueryLength(a)-this.getQueryLength(l)},e.prototype.__cleanSelector=function(t){return t.split(" ").map(function(n){return n.split(":")[0]}).join(" ")},e}(te.Kx);const kB=AB;var DB=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Vf=function(){return Vf=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Vf.apply(this,arguments)},PB=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))},Oy=((0,Vt.hasWin)()?window:{}).CSS,MB=function(r){DB(e,r);function e(t,n){n===void 0&&(n={});var i=r.call(this,t)||this;return i.views=[],i.config=t||{},i.opt=n,i.em=n.em,i.ensureSelectors(null,null,{}),i.on("change",i.__onChange),i.setStyle(i.get("style")),i}return e.prototype.defaults=function(){return{selectors:[],selectorsAdd:"",style:{},mediaText:"",state:"",stylable:!0,atRuleType:"",singleAtRule:!1,important:!1,group:"",shallow:!1,_undo:!0}},e.prototype.__onChange=function(t,n){var i=this.em,o=this.changedAttributes();o&&!(0,Vt.isEmptyObj)(o)&&(i==null||i.changesUp(n))},e.prototype.clone=function(){var t=Vf({},this.opt),n=Vf({},this.attributes);return n.selectors=this.get("selectors").map(function(i){return i.clone()}),new this.constructor(n,t)},e.prototype.ensureSelectors=function(t,n,i){var o=this.em,a=o==null?void 0:o.Selectors,l=[this,"change:selectors",this.ensureSelectors],u=this.getSelectors();if(this.stopListening.apply(this,l),u.models&&(u=PB([],u.models,!0)),u=(0,z.isString)(u)?[u]:u,Array.isArray(u)){var c=u.filter(function(d){return d}).map(function(d){return a?a.add(d):d});u=new cs(c)}this.set("selectors",u,i),this.listenTo.apply(this,l)},e.prototype.getAtRule=function(){var t=this.get("atRuleType"),n=this.get("mediaText"),i=t?"@".concat(t):n?"@media":"";return i+(n&&i?" ".concat(n):"")},e.prototype.selectorsToString=function(t){t===void 0&&(t={});var n=[],i=this.get("state"),o=this.get("selectorsAdd"),a={escape:function(c){return Oy&&Oy.escape?Oy.escape(c):c}},l=this.getSelectors().getFullString(0,a),u=i&&!t.skipState?":".concat(i):"";return l&&n.push("".concat(l).concat(u)),o&&!t.skipAdd&&n.push(o),n.join(", ")},e.prototype.getDeclaration=function(t){t===void 0&&(t={});var n="",i=this.attributes.important,o=this.selectorsToString(t),a=this.styleToString(Vf({important:i},t)),l=this.get("singleAtRule");return(o||l)&&(a||t.allowEmpty)&&(n=l?a:"".concat(o,"{").concat(a,"}")),n},e.prototype.getDevice=function(){var t=this.em,n=this.attributes,i=n.atRuleType,o=n.mediaText,a=(t==null?void 0:t.Devices.getDevices())||[],l=a.filter(function(u){return u.getWidthMedia()===""})[0];return i!=="media"||!o?l||null:a.filter(function(u){return u.getWidthMedia()===TB(o)})[0]||null},e.prototype.getState=function(){var t=this.em,n=this.get("state"),i=(t==null?void 0:t.Selectors.getStates())||[];return i.filter(function(o){return o.getName()===n})[0]||null},e.prototype.getComponent=function(){var t,n=this.getSelectors(),i=n.length==1&&n.at(0),o=i&&i.isId()&&i.get("name");return o&&((t=this.em)===null||t===void 0?void 0:t.Components.getById(o))||null},e.prototype.toCSS=function(t){t===void 0&&(t={});var n="",i=this.getAtRule(),o=this.getDeclaration(t);return(o||t.allowEmpty)&&(n=o),i&&n&&(n="".concat(i,"{").concat(n,"}")),n},e.prototype.toJSON=function(){for(var t,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=te.Kx.prototype.toJSON.apply(this,n);if(!((t=this.em)===null||t===void 0)&&t.getConfig().avoidDefaults){var a=this.defaults();(0,z.forEach)(a,function(l,u){o[u]===l&&delete o[u]}),delete o.style.__p,(0,z.isEmpty)(o.selectors)&&delete o.selectors,(0,z.isEmpty)(o.style)&&delete o.style}return o},e.prototype.compare=function(t,n,i,o){var a;o===void 0&&(o={});var l=n||"",u=i||"",c=o.selectorsAdd||"",d=o.atRuleType||"",h=!(0,z.isArray)(t)&&!t.models?[t]:t.models||t;u&&!d&&(d="media");var g=h.map(function(C){return C.getFullName()}),m=(a=this.get("selectors"))===null||a===void 0?void 0:a.map(function(C){return C.getFullName()}),_=g.slice().sort(),b=m.slice().sort();return!(g.length!==m.length||!_.every(function(C,w){return C===b[w]})||this.get("state")!==l||this.get("mediaText")!==u||this.get("selectorsAdd")!==c||this.get("atRuleType")!==d)},e}(i2);const x2=MB;var RB=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),O2=function(r){RB(e,r);function e(t,n){var i=r.call(this,t)||this;return i.editor=n==null?void 0:n.em,setTimeout(function(){i.on("remove",i.onRemove),i.on("add",i.onAdd)}),i}return e.prototype.toJSON=function(t){var n=te.pM.prototype.toJSON.call(this,t);return n.filter(function(i){return i.style&&!i.shallow})},e.prototype.onAdd=function(t,n,i){t.ensureSelectors(t,n,i)},e.prototype.onRemove=function(t){var n=this.editor;n.stopListening(t),n.UndoManager.remove(t)},e.prototype.add=function(t,n){return n===void 0&&(n={}),typeof t=="string"&&(t=this.editor.get("Parser").parseCss(t)),n.em=this.editor,te.pM.prototype.add.apply(this,[t,n])},e}(te.pM);const LB=O2;O2.prototype.model=x2;var NB=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Xs=function(){return Xs=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Xs.apply(this,arguments)},jB=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))},VB=function(r){NB(e,r);function e(t){var n=r.call(this,t,"CssComposer",null,{},xB())||this;n.Selectors=cs,n.storageKey="styles";var i=n.config,o=i.pStylePrefix;return o&&(i.stylePrefix=o+i.stylePrefix),i.rules=n.em.config.style||i.rules||"",n.rules=new LB([],i),n}return e.prototype.onLoad=function(){this.rules.add(this.config.rules,{silent:!0})},e.prototype.postLoad=function(){this.em.UndoManager.add(this.getAll())},e.prototype.store=function(){return this.getProjectData()},e.prototype.load=function(t){return this.loadProjectData(t,{all:this.rules})},e.prototype.add=function(t,n,i,o,a){o===void 0&&(o={}),a===void 0&&(a={});var l=n||"",u=i||"",c=Xs({},o),d=this.get(t,l,u,c);return d&&d.config&&!d.config.singleAtRule||(c.state=l,c.mediaText=u,c.selectors=[],u&&!c.atRuleType&&(c.atRuleType="media"),d=new x2(c,this.config),d.get("selectors").add(t,a),this.rules.add(d,a)),d},e.prototype.get=function(t,n,i,o){var a=t;if((0,z.isString)(t)){var l=this.em.Selectors,u=t.split(",")[0].trim(),c=this.em.Parser.parserCss.checkNode({selectors:u})[0];a=l.get(c.selectors)}return this.rules.find(function(d){return d.compare(a,n,i,o)})||null},e.prototype.getAll=function(){return this.rules},e.prototype.addCollection=function(t,n,i){n===void 0&&(n={}),i===void 0&&(i={});var o=this.em,a=[];(0,z.isString)(t)&&(t=o.Parser.parseCss(t));for(var l=t instanceof Array?t:[t],u=0,c=l.length;u<c;u++){var d=l[u]||{};if(d.selectors){var h=o==null?void 0:o.Selectors;h||console.warn("Selector Manager not found");for(var g=d.selectors,m=g instanceof Array?g:[g],_=[],b=0,C=m.length;b<C;b++){var w=h.add(m[b]);_.push(w)}var x=this.get(_,d.state,d.mediaText,d),O=this.add(_,d.state,d.mediaText,d,n),k=!x||!n.avoidUpdateStyle,V=d.style||{};if((0,Vt.isObject)(i)&&O.set(i,n),k){var Z=n.extend?Xs(Xs({},O.get("style")),V):V;O.setStyle(Z,n)}a.push(O)}}return a},e.prototype.addRules=function(t){return this.addCollection(t)},e.prototype.setRule=function(t,n,i){n===void 0&&(n={}),i===void 0&&(i={});var o=i.atRuleType,a=i.atRuleParams,l=this.em.Parser.parserCss.checkNode({selectors:t,style:n})[0],u=l.state,c=l.selectorsAdd,d=this.em.Selectors,h=d.add(l.selectors),g=this.add(h,u,a,{selectorsAdd:c,atRule:o});return i.addStyles?g.addStyle(n,i):g.setStyle(n,i),g},e.prototype.getRule=function(t,n){n===void 0&&(n={});var i=this.em,o=i.Selectors,a=i.Parser.parserCss.checkNode({selectors:t})[0],l=o.get(a.selectors),u=a.state,c=a.selectorsAdd,d=n.atRuleType,h=n.atRuleParams;return l?this.get(l,u,h,{selectorsAdd:c,atRuleType:d}):void 0},e.prototype.getRules=function(t){var n=this.getAll();if(!t)return jB([],n.models,!0);var i={sort:!0},o=(0,z.isString)(t)?t.split(",").map(function(l){return l.trim()}):t,a=n.filter(function(l){return o.indexOf(l.getSelectors().getFullString(null,i))>=0});return a},e.prototype.setIdRule=function(t,n,i){n===void 0&&(n={}),i===void 0&&(i={});var o=i.addOpts,a=o===void 0?{}:o,l=i.mediaText,u=i.state||"",c=(0,z.isUndefined)(l)?this.em.getCurrentMedia():l,d=this.em.Selectors,h=d.add({name:t,type:Kr.TYPE_ID},a),g=this.add(h,u,c,{},a);return g.setStyle(n,Xs(Xs({},i),a)),g},e.prototype.getIdRule=function(t,n){n===void 0&&(n={});var i=n.mediaText,o=n.state||"",a=(0,z.isUndefined)(i)?this.em.getCurrentMedia():i,l=this.em.Selectors.get(t,Kr.TYPE_ID);return l&&this.get(l,o,a)},e.prototype.setClassRule=function(t,n,i){n===void 0&&(n={}),i===void 0&&(i={});var o=i.state||"",a=i.mediaText||this.em.getCurrentMedia(),l=this.em.Selectors,u=l.add({name:t,type:Kr.TYPE_CLASS}),c=this.add(u,o,a);return c.setStyle(n,i),c},e.prototype.getClassRule=function(t,n){n===void 0&&(n={});var i=n.state||"",o=n.mediaText||this.em.getCurrentMedia(),a=this.em.Selectors.get(t,Kr.TYPE_CLASS);return a&&this.get(a,i,o)},e.prototype.remove=function(t,n){var i=(0,z.isString)(t)?this.getRules(t):t,o=this.getAll().remove(i,n);return(0,z.isArray)(o)?o:[o]},e.prototype.clear=function(t){return t===void 0&&(t={}),this.getAll().reset([],t),this},e.prototype.getComponentRules=function(t,n){n===void 0&&(n={});var i=n.state,o=n.mediaText,a=n.current;a&&(i=this.em.get("state")||"",o=this.em.getCurrentMedia());var l=t.getId(),u=this.getAll().filter(function(c){return!(0,z.isUndefined)(i)&&c.get("state")!==i||!(0,z.isUndefined)(o)&&c.get("mediaText")!==o?!1:c.getSelectorsString()==="#".concat(l)});return u},e.prototype.render=function(){var t;return(t=this.rulesView)===null||t===void 0||t.remove(),this.rulesView=new JA({collection:this.rules,config:this.config}),this.rulesView.render().el},e.prototype.checkId=function(t,n){n===void 0&&(n={});var i=n.idMap,o=i===void 0?{}:i,a=[];if(!Object.keys(o).length)return a;var l=Array.isArray(t)?t:[t];return l.forEach(function(u){var c=u.selectors;if(c&&c.length==1){var d=c[0];if((0,z.isString)(d)){if(d[0]==="#"){var h=d.substring(1),g=o[h];h&&g&&(c[0]="#".concat(g),a.push(u))}}else if(d.name&&d.type===Kr.TYPE_ID){var g=o[d.name];g&&(d.name=g,a.push(u))}}}),a},e.prototype.destroy=function(){var t;this.rules.reset(),this.rules.stopListening(),(t=this.rulesView)===null||t===void 0||t.remove()},e}(Ea);const BB=VB;var UB=function(){return{appendTo:"",blocks:[],appendOnClick:!1,custom:!1}};const IB=UB;var zB=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),HB=function(r){zB(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.defaults=function(){return{label:"",content:"",media:"",category:"",activate:!1,select:void 0,resetId:!1,disable:!1,onClick:void 0,attributes:{},dragDef:{}}},Object.defineProperty(e.prototype,"category",{get:function(){var t=this.get("category");return t instanceof Rd?t:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.collection},enumerable:!1,configurable:!0}),e.prototype.getId=function(){return this.id},e.prototype.getLabel=function(){return this.get("label")},e.prototype.getMedia=function(){return this.get("media")},e.prototype.getContent=function(){return this.get("content")},e.prototype.getDragDef=function(){return this.get("dragDef")},e.prototype.getCategoryLabel=function(){var t=this.get("category");return(0,z.isFunction)(t==null?void 0:t.get)?t.get("label"):t!=null&&t.label?t==null?void 0:t.label:t},e}(te.Kx);const E2=HB;var FB=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),T2=function(r){FB(e,r);function e(t,n){var i=r.call(this,t)||this;return i.em=n.em,i.on("add",i.handleAdd),i}return e.prototype.getCategories=function(){return this.em.Blocks.getCategories()},e.prototype.handleAdd=function(t){this.initCategory(t)},e}(c2);const jh=T2;T2.prototype.model=E2;var Bf;(function(r){r.add="block:add",r.remove="block:remove",r.removeBefore="block:remove:before",r.update="block:update",r.dragStart="block:drag:start",r.drag="block:drag",r.dragEnd="block:drag:stop",r.categoryUpdate="block:category:update",r.custom="block:custom",r.all="block"})(Bf||(Bf={}));var WB=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Cu=function(){return Cu=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Cu.apply(this,arguments)},qB=function(r){WB(e,r);function e(t,n){n===void 0&&(n={});var i=r.call(this,t)||this,o=i.model;return i.em=n.em,i.config=n,i.endDrag=i.endDrag.bind(i),i.ppfx=n.pStylePrefix||"",i.listenTo(o,"destroy remove",i.remove),i.listenTo(o,"change",i.render),i}return e.prototype.events=function(){return{click:"handleClick",mousedown:"startDrag",dragstart:"handleDragStart",drag:"handleDrag",dragend:"handleDragEnd"}},e.prototype.__getModule=function(){return this.em.Blocks},e.prototype.handleClick=function(t){var n,i,o=this,a=o.config,l=o.model,u=o.em,c=l.get("onClick")||a.appendOnClick;if(u.trigger("block:click",l,t),c){if((0,z.isFunction)(c))return c(l,u==null?void 0:u.getEditor(),{event:t})}else return;var d=(n=a.getSorter)===null||n===void 0?void 0:n.call(a);if(d){var h=l.get("content"),g=this.getTempDropModel(h),m=(i=g.view)===null||i===void 0?void 0:i.el,_=m?[{element:m,dragSource:{content:h}}]:[],b=u.getSelected(),C,w,x,O=0;if(b)if(w=d.validTarget(b.getEl(),_,O),w)C=b;else{var k=b.parent();k&&(w=d.validTarget(k.getEl(),_,O),w&&(C=k,x=k.components().indexOf(b)+1))}if(!C){var V=u.getWrapper();w=d.validTarget(V.getEl(),_,O),w&&(C=V)}var Z=C&&C.append(h,{at:x})[0];Z&&u.setSelected(Z,{scroll:1})}},e.prototype.startDrag=function(t){var n,i=this,o=i.config,a=i.em,l=i.model,u=l.get("disable");if(!(t.button!==0||!o.getSorter||this.el.draggable||u)){a.refreshCanvas();var c=o.getSorter();c.__currentBlock=l;var d=this.model.get("content"),h=this.getTempDropModel(d),g=(n=h.view)===null||n===void 0?void 0:n.el,m=g?[{element:g,dragSource:{content:d}}]:[];c.startSort(m),(0,ae.on)(document,"mouseup",this.endDrag)}},e.prototype.handleDragStart=function(t){this.__getModule().__startDrag(this.model,t)},e.prototype.handleDrag=function(t){this.__getModule().__drag(t)},e.prototype.handleDragEnd=function(){this.__getModule().__endDrag()},e.prototype.endDrag=function(){var t,n;(0,ae.AU)(document,"mouseup",this.endDrag);var i=(n=(t=this.config).getSorter)===null||n===void 0?void 0:n.call(t);i&&i.endDrag()},e.prototype.getTempDropModel=function(t){var n,i=this.em.Components.getComponents(),o={avoidChildren:1,avoidStore:1,avoidUpdateStyle:1},a=i.add(t,Cu(Cu({},o),{temporary:!0})),l=i.remove(a,Cu(Cu({},o),{temporary:!0}));return l=l instanceof Array?l[0]:l,(n=l.view)===null||n===void 0||n.$el.data("model",l),l},e.prototype.render=function(){var t,n=this,i=n.em,o=n.el,a=n.$el,l=n.ppfx,u=n.model,c=u.get("disable"),d=u.get("attributes")||{},h=d.class||"",g="".concat(l,"block"),m=i&&i.t("blockManager.labels.".concat(u.id))||u.get("label"),_=u.get("render"),b=u.get("media"),C=c?"".concat(g,"--disable"):"".concat(l,"four-color-h");a.attr(d),o.className="".concat(h," ").concat(g," ").concat(l,"one-bg ").concat(C).trim(),o.innerHTML=`
      `.concat(b?'<div class="'.concat(g,'__media">').concat(b,"</div>"):"",`
      <div class="`).concat(g,'-label">').concat(m,`</div>
    `),o.title=d.title||((t=o.textContent)===null||t===void 0?void 0:t.trim()),o.setAttribute("draggable","".concat(!!((0,Vt.hasDnd)(i)&&!c)));var w=_&&_({el:o,model:u,className:g,prefix:l});return w&&(o.innerHTML=w),this},e}(te.Ss);const KB=qB;var GB=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),YB=function(r,e){return Object.defineProperty?Object.defineProperty(r,"raw",{value:e}):r.raw=e,r},XB=function(r){GB(e,r);function e(t,n,i){var o=r.call(this,t)||this;o.config=n;var a=n.pStylePrefix||"";return o.em=n.em,o.catName=i,o.pfx=a,o.caretR="fa fa-caret-right",o.caretD="fa fa-caret-down",o.iconClass="".concat(a,"caret-icon"),o.activeClass="".concat(a,"open"),o.className="".concat(a).concat(i,"-category"),o.listenTo(o.model,"change:open",o.updateVisibility),o.model.view=o,o}return e.prototype.events=function(){return{"click [data-title]":"toggle"}},e.prototype.template=function(t){var n=t.pfx,i=t.label,o=t.catName;return di(Jx||(Jx=YB([`
      <div class="`,`title" data-title>
        <i class="`,`caret-icon"></i>
        `,`
      </div>
      <div class="`,"",`s-c"></div>
    `],[`
      <div class="`,`title" data-title>
        <i class="`,`caret-icon"></i>
        `,`
      </div>
      <div class="`,"",`s-c"></div>
    `])),n,n,i,n,o)},e.prototype.attributes=function(){return this.model.get("attributes")||{}},e.prototype.updateVisibility=function(){this.model.get("open")?this.open():this.close()},e.prototype.open=function(){this.$el.addClass(this.activeClass),this.getIconEl().className="".concat(this.iconClass," ").concat(this.caretD),this.getTypeEl().style.display=""},e.prototype.close=function(){this.$el.removeClass(this.activeClass),this.getIconEl().className="".concat(this.iconClass," ").concat(this.caretR),this.getTypeEl().style.display="none"},e.prototype.toggle=function(){var t=this.model;t.set("open",!t.get("open"))},e.prototype.getIconEl=function(){return this.iconEl||(this.iconEl=this.el.querySelector(".".concat(this.iconClass))),this.iconEl},e.prototype.getTypeEl=function(){return this.typeEl||(this.typeEl=this.el.querySelector(".".concat(this.pfx).concat(this.catName,"s-c"))),this.typeEl},e.prototype.append=function(t){this.getTypeEl().appendChild(t)},e.prototype.render=function(){var t=this,n=t.em,i=t.el,o=t.$el,a=t.model,l=t.pfx,u=t.catName,c=n.t("".concat(u,"Manager.categories.").concat(a.id))||a.get("label");return i.innerHTML=this.template({pfx:l,label:c,catName:u}),o.addClass(this.className),o.css({order:a.get("order")}),this.updateVisibility(),this},e}(te.Ss);const A2=XB;var Jx,ZB=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Vv=function(){return Vv=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Vv.apply(this,arguments)},$B=function(r){ZB(e,r);function e(t,n){var i=r.call(this,t)||this;i.renderedCategories=new Map,(0,z.bindAll)(i,"getSorter","onDrag","onDrop","onMove"),i.config=n||{},i.categories=t.categories||"";var o=i.config.pStylePrefix||"";i.ppfx=o,i.noCatClass="".concat(o,"blocks-no-cat"),i.blockContClass="".concat(o,"blocks-c"),i.catsClass="".concat(o,"block-categories");var a=i.collection;return i.listenTo(a,"add",i.addTo),i.listenTo(a,"reset",i.render),i.em=i.config.em,i.em&&(i.config.getSorter=i.getSorter),i}return e.prototype.__getModule=function(){return this.em.Blocks},e.prototype.updateConfig=function(t){t===void 0&&(t={}),this.config=Vv(Vv({},this.config),t)},e.prototype.getSorter=function(){var t=this.em;if(t){if(!this.sorter){var n=t.Utils,i=t.Canvas;this.sorter=new n.ComponentSorter({em:t,treeClass:d2,containerContext:{container:i.getBody(),containerSel:"*",itemSel:"*",pfx:this.ppfx,placeholderElement:i.getPlacerEl(),document:i.getBody().ownerDocument},dragBehavior:{dragDirection:gl.A.BothDirections,nested:!0},positionOptions:{windowMargin:1,canvasRelative:!0},eventHandlers:{legacyOnStartSort:this.onDrag,legacyOnEndMove:this.onDrop,legacyOnMoveClb:this.onMove}})}return this.sorter}},e.prototype.onDrag=function(t){this.em.stopDefault(),this.__getModule().__startDrag(this.sorter.__currentBlock,t)},e.prototype.onMove=function(t){this.__getModule().__drag(t)},e.prototype.onDrop=function(t){this.em.runDefault(),this.__getModule().__endDrag({component:t}),delete this.sorter.__currentBlock},e.prototype.addTo=function(t){this.add(t)},e.prototype.add=function(t,n){var i=this,o=i.config,a=i.renderedCategories,l=t.get("attributes"),u=new KB({model:t,attributes:l},o),c=u.render().el,d=t.parent.initCategory(t);if(d&&this.categories&&!o.ignoreCategories){var h=d.getId(),g=this.getCategoriesEl(),m=a.get(h);!m&&g&&(m=new A2({model:d},o,"block").render(),a.set(h,m),g.appendChild(m.el)),m==null||m.append(c);return}n?n.appendChild(c):this.append(c)},e.prototype.getCategoriesEl=function(){return this.catsEl||(this.catsEl=this.el.querySelector(".".concat(this.catsClass))),this.catsEl},e.prototype.getBlocksEl=function(){return this.blocksEl||(this.blocksEl=this.el.querySelector(".".concat(this.noCatClass," .").concat(this.blockContClass))),this.blocksEl},e.prototype.append=function(t){var n=this.getBlocksEl();n&&n.appendChild(t)},e.prototype.render=function(){var t=this,n=this.ppfx,i=document.createDocumentFragment();delete this.catsEl,delete this.blocksEl,this.renderedCategories=new Map,this.el.innerHTML=`
      <div class="`.concat(this.catsClass,`"></div>
      <div class="`).concat(this.noCatClass,`">
        <div class="`).concat(this.blockContClass,`"></div>
      </div>
    `),this.collection.each(function(a){return t.add(a,i)}),this.append(i);var o="".concat(this.blockContClass,"s ").concat(n,"one-bg ").concat(n,"two-color");return this.$el.addClass(o),this.rendered=!0,this},e}(te.Ss);const Qx=$B;var JB=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Qa=function(){return Qa=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Qa.apply(this,arguments)},QB=function(r){JB(e,r);function e(t){var n=r.call(this,t,"BlockManager",new jh([],{em:t}),Bf,IB())||this;return n.events=Bf,n.Block=E2,n.Blocks=jh,n.Category=Rd,n.Categories=av,n.storageKey="",n.blocks=n.all,n.blocksVisible=new jh(n.blocks.models,{em:t}),n.categories=new av([],{em:t,events:{update:Bf.categoryUpdate}}),n.__onAllEvent=(0,z.debounce)(function(){return n.__trgCustom()},0),n}return e.prototype.onInit=function(){var t=this,n=t.config,i=t.blocks,o=t.blocksVisible;i.add(n.blocks||[]),i.on("add",function(a){return o.add(a)}),i.on("remove",function(a){return o.remove(a)}),i.on("reset",function(a){return o.reset(a.models)})},e.prototype.__trgCustom=function(){this.em.trigger(this.events.custom,this.__customData())},e.prototype.__customData=function(){var t=this,n=this.__getBehaviour();return{bm:this,blocks:this.getAll().models,container:n.container,dragStart:function(i,o){return t.startDrag(i,o)},drag:function(i){return t.__drag(i)},dragStop:function(i){return t.endDrag(i)}}},e.prototype.__startDrag=function(t,n){var i=this,o=i.em,a=i.events,l=i.blocks,u=t.getContent?t.getContent():t;this._dragBlock=t,o.set({dragResult:null,dragSource:{content:u,dragDef:t.getDragDef()}}),[o,l].map(function(c){return c.trigger(a.dragStart,t,n)})},e.prototype.__drag=function(t){var n=this,i=n.em,o=n.events,a=n.blocks,l=this._dragBlock;[i,a].map(function(u){return u.trigger(o.drag,l,t)})},e.prototype.__endDrag=function(t){t===void 0&&(t={});var n=this,i=n.em,o=n.events,a=n.blocks,l=this._dragBlock,u=t.component||i.get("dragResult");if(delete this._dragBlock,u&&l){var c="activeOnRender",d=u.get&&u.get(c),h=l.get("activate")||d,g=l.get("select"),m=(0,z.isArray)(u)?u[0]:u;(g||h&&g!==!1)&&i.setSelected(m),h&&(m.trigger("active"),d&&m.unset(c)),l.get("resetId")&&m.onAll(function(_){return _.resetId()})}i.set({dragResult:null,dragSource:void 0}),l&&[i,a].map(function(_){return _.trigger(o.dragEnd,u,l)})},e.prototype.__getFrameViews=function(){return this.em.Canvas.getFrames().map(function(t){return t.view}).filter(Boolean)},e.prototype.__behaviour=function(t){return t===void 0&&(t={}),this._bhv=Qa(Qa({},this._bhv||{}),t)},e.prototype.__getBehaviour=function(){return this._bhv||{}},e.prototype.startDrag=function(t,n){this.__startDrag(t,n),this.__getFrameViews().forEach(function(i){var o;return(o=i.droppable)===null||o===void 0?void 0:o.startCustom()})},e.prototype.endDrag=function(t){this.__getFrameViews().forEach(function(n){var i;return(i=n.droppable)===null||i===void 0?void 0:i.endCustom(t)}),this.__endDrag()},e.prototype.postRender=function(){var t=this,n=t.categories,i=t.config,o=t.em,a=this.blocksVisible;this.blocksView=new Qx({collection:a,categories:n},Qa(Qa({},i),{em:o})),this.__appendTo(a.models),this.__trgCustom()},e.prototype.add=function(t,n,i){i===void 0&&(i={});var o=n||{};return o.id=t,this.blocks.add(o,i)},e.prototype.get=function(t){return this.blocks.get(t)},e.prototype.getAll=function(){return this.blocks},e.prototype.getAllVisible=function(){return this.blocksVisible},e.prototype.remove=function(t,n){return n===void 0&&(n={}),this.__remove(t,n)},e.prototype.getCategories=function(){return this.categories},e.prototype.getContainer=function(){var t;return(t=this.blocksView)===null||t===void 0?void 0:t.el},e.prototype.getDragBlock=function(){return this._dragBlock},e.prototype.getBlocksByCategory=function(t){return u2(t||this.getAll().models)},e.prototype.render=function(t,n){n===void 0&&(n={});var i=this,o=i.categories,a=i.config,l=i.em,u=t||this.getAll().models;if(n.external){var c=new jh(u,{em:l});return new Qx({collection:c,categories:o},Qa(Qa({em:l},a),n)).render().el}return this.blocksView&&(this.blocksView.updateConfig(n),this.blocksView.collection.reset(u),this.blocksView.rendered||(this.blocksView.render(),this.blocksView.rendered=!0)),this.getContainer()},e.prototype.destroy=function(){var t,n=[this.blocks,this.blocksVisible,this.categories];n.map(function(i){return i.stopListening()}),n.map(function(i){return i.reset()}),(t=this.blocksView)===null||t===void 0||t.remove()},e}(Ea);const tU=QB;var eU=function(){return{stylePrefix:"clm-",appendTo:"",selectors:[],states:[{name:"hover"},{name:"active"},{name:"nth-of-type(2n)"}],iconAdd:'<svg viewBox="0 0 24 24"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"></path></svg>',iconSync:'<svg viewBox="0 0 24 24"><path d="M12 18c-3.31 0-6-2.69-6-6 0-1 .25-1.97.7-2.8L5.24 7.74A7.93 7.93 0 0 0 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4m0-11V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1-.25 1.97-.7 2.8l1.46 1.46A7.93 7.93 0 0 0 20 12c0-4.42-3.58-8-8-8z"></path></svg>',iconTagOn:'<svg viewBox="0 0 24 24"><path d="M19 19H5V5h10V3H5c-1.11 0-2 .89-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-8h-2m-11.09-.92L6.5 11.5 11 16 21 6l-1.41-1.42L11 13.17l-3.09-3.09z"></path></svg>',iconTagOff:'<svg viewBox="0 0 24 24"><path d="M19 3H5c-1.11 0-2 .89-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5a2 2 0 0 0-2-2m0 2v14H5V5h14z"></path></svg>',iconTagRemove:'<svg viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>',componentFirst:!1,custom:!1}};const nU=eU;var rU=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),k2=function(r){rU(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.defaults=function(){return{name:"",label:""}},e.prototype.getName=function(){return this.get("name")},e.prototype.getLabel=function(){return this.get("label")||this.getName()},e}(te.Kx);const Ey=k2;k2.prototype.idAttribute="name";var iU=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),oU=function(r,e){return Object.defineProperty?Object.defineProperty(r,"raw",{value:e}):r.raw=e,r},t1="contentEditable",aU=function(r){iU(e,r);function e(t){t===void 0&&(t={});var n=r.call(this,t)||this,i=t.config||{};return n.config=i,n.module=t.module,n.coll=t.coll||null,n.pfx=i.stylePrefix||"",n.ppfx=i.pStylePrefix||"",n.em=i.em,n.listenTo(n.model,"change:active",n.updateStatus),n}return e.prototype.template=function(){var t=this,n=t.pfx,i=t.model,o=t.config,a=i.get("label")||"";return di(e1||(e1=oU([`
      <span id="`,'checkbox" class="',`tag-status" data-tag-status></span>
      <span id="`,'tag-label" data-tag-name>',`</span>
      <span id="`,'close" class="','tag-close" data-tag-remove> $',` </span>
    `],[`
      <span id="`,'checkbox" class="',`tag-status" data-tag-status></span>
      <span id="`,'tag-label" data-tag-name>',`</span>
      <span id="`,'close" class="','tag-close" data-tag-remove> $',` </span>
    `])),n,n,n,a,n,n,o.iconTagRemove)},e.prototype.events=function(){return{"click [data-tag-remove]":"removeTag","click [data-tag-status]":"changeStatus","dblclick [data-tag-name]":"startEditTag","focusout [data-tag-name]":"endEditTag"}},e.prototype.getInputEl=function(){return this.inputEl||(this.inputEl=this.el.querySelector("[data-tag-name]")),this.inputEl},e.prototype.startEditTag=function(){var t=this.em,n=this.getInputEl();n[t1]="true",n.focus(),t==null||t.setEditing(!0)},e.prototype.endEditTag=function(){var t=this,n=t.model,i=t.em,o=this.getInputEl(),a=o.textContent||"",l=i==null?void 0:i.Selectors;o[t1]="false",i==null||i.setEditing(!1),l&&l.rename(n,a)!==n&&(o.innerText=n.getLabel())},e.prototype.changeStatus=function(){var t=this.model;t.set("active",!t.getActive())},e.prototype.removeTag=function(){this.module.removeSelected(this.model)},e.prototype.updateStatus=function(){var t=this,n=t.model,i=t.$el,o=t.config,a=o.iconTagOn,l=o.iconTagOff,u=i.find("[data-tag-status]");n.get("active")?(u.html(a),i.removeClass("opac50")):(u.html(l),i.addClass("opac50"))},e.prototype.render=function(){var t=this,n=t.pfx,i=t.ppfx,o=t.$el,a=t.model,l="".concat(n,"tag"),u=["".concat(l," ").concat(i,"three-bg")];return a.get("protected")&&u.push("".concat(l,"-protected")),o.html(this.template()),o.attr("class",u.join(" ")),this.updateStatus(),this},e}(te.Ss);const sU=aU;var e1,lU=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),af=function(r,e){return Object.defineProperty?Object.defineProperty(r,"raw",{value:e}):r.raw=e,r},uU=function(r){lU(e,r);function e(t){t===void 0&&(t={});var n=r.call(this,t)||this;n.config=t.config||{},n.pfx=n.config.stylePrefix||"",n.ppfx=n.config.pStylePrefix||"",n.className=n.pfx+"tags",n.stateInputId=n.pfx+"states",n.stateInputC=n.pfx+"input-c",n.states=n.config.states||[];var i=n.config.em,o=n.collection;n.target=i;var a=i.Selectors;n.module=a,n.em=i,n.componentChanged=(0,z.debounce)(n.componentChanged.bind(n),0),n.checkSync=(0,z.debounce)(n.checkSync.bind(n),0);var l=hn.I.update,u="".concat(l,":classes"),c="component:toggled ".concat(u),d="".concat(u," ").concat(l,":attributes:id change:state");return n.listenTo(i,c,n.componentChanged),n.listenTo(i,"styleManager:update",n.componentChanged),n.listenTo(i,d,n.__handleStateChange),n.listenTo(i,"styleable:change change:device",n.checkSync),n.listenTo(o,"add",n.addNew),n.listenTo(o,"reset",n.renderClasses),n.listenTo(o,"remove",n.tagRemoved),n.listenTo(a.getAll(),a.events.state,(0,z.debounce)(function(){return n.renderStates()},0)),n.delegateEvents(),n}return e.prototype.template=function(t){var n=t.labelInfo,i=t.labelHead,o=t.iconSync,a=t.iconAdd,l=t.pfx,u=t.ppfx;return di(n1||(n1=af([' <div id="','up" class="',`header">
        <div id="`,'label" class="','header-label">',`</div>
        <div id="`,'status-c" class="',`header-status">
          <span id="`,`input-c" data-states-c>
            <div class="`,"field ",`select">
              <span id="`,`input-holder">
                <select id="`,`states" data-states></select>
              </span>
              <div class="`,`sel-arrow">
                <div class="`,`d-s-arrow"></div>
              </div>
            </div>
          </span>
        </div>
      </div>
      <div id="`,'tags-field" class="',`field">
        <div id="`,`tags-c" data-selectors></div>
        <input id="`,`new" data-input />
        <span id="`,'add-tag" class="',"tags-btn ",'tags-btn__add" data-add> $',` </span>
        <span class="`,"tags-btn ",'tags-btn__sync" style="display: none" data-sync-style> $',` </span>
      </div>
      <div class="`,`sels-info">
        <div class="`,'label-sel">',`:</div>
        <div class="`,`sels" data-selected></div>
      </div>`],[' <div id="','up" class="',`header">
        <div id="`,'label" class="','header-label">',`</div>
        <div id="`,'status-c" class="',`header-status">
          <span id="`,`input-c" data-states-c>
            <div class="`,"field ",`select">
              <span id="`,`input-holder">
                <select id="`,`states" data-states></select>
              </span>
              <div class="`,`sel-arrow">
                <div class="`,`d-s-arrow"></div>
              </div>
            </div>
          </span>
        </div>
      </div>
      <div id="`,'tags-field" class="',`field">
        <div id="`,`tags-c" data-selectors></div>
        <input id="`,`new" data-input />
        <span id="`,'add-tag" class="',"tags-btn ",'tags-btn__add" data-add> $',` </span>
        <span class="`,"tags-btn ",'tags-btn__sync" style="display: none" data-sync-style> $',` </span>
      </div>
      <div class="`,`sels-info">
        <div class="`,'label-sel">',`:</div>
        <div class="`,`sels" data-selected></div>
      </div>`])),l,l,l,l,i,l,l,l,u,u,u,l,u,u,l,u,l,l,l,l,l,a,l,l,o,l,l,n,l)},e.prototype.events=function(){return{"change [data-states]":"stateChanged","click [data-add]":"startNewTag","focusout [data-input]":"endNewTag","keyup [data-input]":"onInputKeyUp","click [data-sync-style]":"syncStyle"}},e.prototype.syncStyle=function(){var t=this.em,n=this.getTarget(),i=t.Css,o={noDisabled:1},a=this.getCommonSelectors({opts:o}),l=t.get("state"),u=t.getCurrentMedia(),c=[],d=i.get(a,l,u)||i.add(a,l,u),h;this.getTargets().forEach(function(g){var m=i.getIdRule(g.getId(),{state:l,mediaText:u});h=m.getStyle(),m.setStyle({}),c.push(m)}),h&&d.addStyle(h),t.trigger("component:toggled"),t.trigger("component:sync-style",{component:n,selectors:a,mediaText:u,rule:d,ruleComponents:c,state:l})},e.prototype.tagRemoved=function(t){this.updateStateVis()},e.prototype.addNew=function(t){this.addToClasses(t)},e.prototype.startNewTag=function(){var t,n;(t=this.$addBtn)===null||t===void 0||t.css({display:"none"}),(n=this.$input)===null||n===void 0||n.show().focus()},e.prototype.endNewTag=function(){var t,n;(t=this.$addBtn)===null||t===void 0||t.css({display:""}),(n=this.$input)===null||n===void 0||n.hide().val("")},e.prototype.onInputKeyUp=function(t){var n;t.keyCode===13?(t.preventDefault(),this.addNewTag((n=this.$input)===null||n===void 0?void 0:n.val())):t.keyCode===27&&this.endNewTag()},e.prototype.checkStates=function(){var t=this.em.getState(),n=this.getStates();n&&n.val(t)},e.prototype.componentChanged=function(t){var n=t===void 0?{}:t,i=n.targets;this.updateSelection(i)},e.prototype.updateSelection=function(t){var n=t||this.getTargets();n=(0,z.isArray)(n)?n:[n];var i=[];return n&&n.length&&(i=this.getCommonSelectors({targets:n}),this.checkSync({validSelectors:i})),this.collection.reset(i),this.updateStateVis(n),this.module.__trgCustom(),i},e.prototype.getCommonSelectors=function(t){var n=t===void 0?{}:t,i=n.targets,o=n.opts,a=o===void 0?{}:o,l=i||this.getTargets();return this.module.__getCommonSelectors(l,a)},e.prototype._commonSelectors=function(){for(var t,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return(t=this.module).__common.apply(t,n)},e.prototype.checkSync=function(){var t=this,n=t.$btnSyncEl,i=t.config,o=t.collection,a=this.getTarget(),l;if(a&&i.componentFirst&&o.length){var u=a.getStyle();l=!(0,z.isEmpty)(u)}n&&n[l?"show":"hide"]()},e.prototype.getTarget=function(){return this.target.getSelected()},e.prototype.getTargets=function(){return this.target.getSelectedAll()},e.prototype.updateStateVis=function(t){var n=this.em,i=n&&n.getConfig().avoidInlineStyle,o=this.collection.length||i?"":"none";this.getStatesC().css("display",o),this.updateSelector(t)},e.prototype.__handleStateChange=function(){this.updateSelector(this.getTargets())},e.prototype.updateSelector=function(t){var n=this,i=this.el.querySelector("[data-selected]"),o=[],a=t||this.getTargets();a=(0,z.isArray)(a)?a:[a],a.forEach(function(l){return o.push(n.__getName(l))}),i&&(i.innerHTML=o.join(", ")),this.checkStates()},e.prototype.__getName=function(t){var n=this,i=n.pfx,o=n.config,a=n.em,l=o.selectedName,u=o.componentFirst,c;if((0,z.isString)(t))c=di(r1||(r1=af(['<span class="','sel-gen">',"</span>"],['<span class="','sel-gen">',"</span>"])),i,t);else{var d=t==null?void 0:t.getSelectors();if(!d)return"";var h=d.getStyleable(),g=a.get("state"),m=t.getId?di(i1||(i1=af(['<span class="','sel-cmp">',`</span>
            <span class="`,'sel-id">#',"</span>"],['<span class="','sel-cmp">',`</span>
            <span class="`,'sel-id">#',"</span>"])),i,t.getName(),i,t.getId()):"";c=this.collection.getFullString(h),c=c?di(o1||(o1=af(['<span class="','sel-rule">',"</span>"],['<span class="','sel-rule">',"</span>"])),i,c):t.get("selectorsAdd")||m,c=u&&m?m:c,c+=g?di(a1||(a1=af(['<span class="','sel-state">:',"</span>"],['<span class="','sel-state">:',"</span>"])),i,g):"",c=l?l({result:c,state:g,target:t}):c}return c&&'<span class="'.concat(i,'sel">').concat(c,"</span>")},e.prototype.stateChanged=function(t){var n=this.em,i=t.target.value;n.set("state",i)},e.prototype.addNewTag=function(t){var n=t.trim();n&&(this.module.addSelected({label:n}),this.endNewTag())},e.prototype.addToClasses=function(t,n){var i=n,o=this.getClasses(),a=new sU({model:t,config:this.config,coll:this.collection,module:this.module}).render().el;return i?i.appendChild(a):o.append(a),a},e.prototype.renderClasses=function(){var t=this,n=document.createDocumentFragment(),i=this.getClasses();i.empty(),this.collection.each(function(o){return t.addToClasses(o,n)}),i.append(n)},e.prototype.getClasses=function(){return this.$el.find("[data-selectors]")},e.prototype.getStates=function(){if(!this.$states){var t=this.$el.find("[data-states]");this.$states=t[0]&&t}return this.$states},e.prototype.getStatesC=function(){return this.$statesC||(this.$statesC=this.$el.find("#"+this.stateInputC)),this.$statesC},e.prototype.renderStates=function(){var t=this,n=t.module,i=t.em,o=i.t("selectorManager.emptyState"),a=n.getStates().map(function(u){var c=i.t("selectorManager.states.".concat(u.id))||u.getLabel()||u.id;return'<option value="'.concat(u.id,'">').concat(c,"</option>")}).join(""),l=this.getStates();l&&l.html('<option value="">'.concat(o,"</option>").concat(a)),this.checkStates()},e.prototype.render=function(){var t=this,n=t.em,i=t.pfx,o=t.ppfx,a=t.config,l=t.$el,u=t.el,c=a.render,d=a.iconSync,h=a.iconAdd,g={iconSync:d,iconAdd:h,labelHead:n.t("selectorManager.label"),labelInfo:n.t("selectorManager.selected"),ppfx:o,pfx:i,el:u};l.html(this.template(g));var m=c&&c(g);return m&&m!==u&&l.empty().append(m),this.$input=l.find("[data-input]"),this.$addBtn=l.find("[data-add]"),this.$classes=l.find("#"+i+"tags-c"),this.$btnSyncEl=l.find("[data-sync-style]"),this.$input.hide(),this.renderStates(),this.renderClasses(),l.attr("class","".concat(this.className," ").concat(o,"one-bg ").concat(o,"two-color")),this},e}(te.Ss);const cU=uU;var n1,r1,i1,o1,a1,fU=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Uf=function(){return Uf=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Uf.apply(this,arguments)},Ty=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))},s1=function(r){return(0,z.isString)(r)&&r[0]=="#"},l1=function(r){return(0,z.isString)(r)&&r[0]=="."},D2="selector",Ld="".concat(D2,":"),dU="".concat(Ld,"add"),hU="".concat(Ld,"update"),P2="".concat(Ld,"remove"),pU="".concat(P2,":before"),vU="".concat(Ld,"custom"),M2="".concat(Ld,"state"),gU={all:D2,update:hU,add:dU,remove:P2,removeBefore:pU,state:M2,custom:vU},mU=function(r){fU(e,r);function e(t){var n=r.call(this,t,"SelectorManager",new cs([]),gU,nU(),{skipListen:!0})||this;n.Selector=Kr,n.Selectors=cs,n.storageKey="",(0,z.bindAll)(n,"__updateSelectedByComponents");var i=n.config,o=i.pStylePrefix;o&&(i.stylePrefix=o+i.stylePrefix),n.all=new cs(i.selectors),n.selected=new cs([],{em:t,config:i}),n.states=new te.pM(i.states.map(function(u){return new Ey(u)}),{model:Ey}),n.model=new te.Kx({cFirst:i.componentFirst,_undo:!0}),n.__update=(0,z.debounce)(function(){return n.__trgCustom()},0),n.__initListen({collections:[n.states,n.selected],propagate:[{entity:n.states,event:n.events.state}]}),t.on("change:state",function(u,c){return t.trigger(M2,c)}),n.model.on("change:cFirst",function(u,c){return t.trigger("selector:type",c)});var a="".concat(hn.I.update,":classes");t.on("component:toggled ".concat(a),n.__updateSelectedByComponents);var l="component:toggled ".concat(a," change:device styleManager:update selector:state selector:type style:target");return n.model.listenTo(t,l,function(){return n.__update()}),n}return e.prototype.__trgCustom=function(t){this.em.trigger(this.events.custom,this.__customData(t))},e.prototype.getAll=function(t){return t===void 0&&(t={}),this.all?t.array?Ty([],this.all.models,!0):this.all:[]},e.prototype.__customData=function(t){return t===void 0&&(t={}),this.__ctn=this.__ctn||t.container,{states:this.getStates(),selected:this.getSelected(),container:this.__ctn}},e.prototype.postRender=function(){this.__appendTo(),this.__trgCustom()},e.prototype.select=function(t,n){n===void 0&&(n={});var i=Array.isArray(t)?t:[t],o=this.em.Styles.select(i,n);this.selected.reset(this.__getCommonSelectors(o));var a=this.selectorTags,l=o.filter(function(u){return u}).map(function(u){return(0,Vt.isComponent)(u)||(0,Vt.isRule)(u)&&!u.get("selectorsAdd")?u:u.getSelectorsString()});return a&&a.componentChanged({targets:l}),this},e.prototype.addSelector=function(t,n,i){n===void 0&&(n={}),i===void 0&&(i={});var o=Uf({},n);(0,z.isObject)(t)?o=t:o.name=t,s1(o.name)?(o.name=o.name.substr(1),o.type=Kr.TYPE_ID):l1(o.name)&&(o.name=o.name.substr(1)),o.label&&!o.name&&(o.name=this.escapeName(o.label));var a=o.name,l=this.getConfig(),u=this,c=u.all,d=u.em,h=a?this.get(a,o.type):c.where(o)[0];if(!h){var g=o instanceof Kr?o:new Kr(o,Uf(Uf({},i),{config:l,em:d}));return c.add(g,i)}return h},e.prototype.getSelector=function(t,n){return n===void 0&&(n=Kr.TYPE_CLASS),s1(t)?(t=t.substr(1),n=Kr.TYPE_ID):l1(t)&&(t=t.substr(1)),this.all.where({name:t,type:n})[0]},e.prototype.add=function(t,n){var i=this;n===void 0&&(n={});var o=(0,z.isString)(t)?{}:n;return(0,z.isArray)(t)?t.map(function(a){return i.addSelector(a,n,o)}):this.addSelector(t,n,o)},e.prototype.addClass=function(t){var n=this,i=[];return(0,z.isString)(t)&&(t=t.trim().split(" ")),t.forEach(function(o){return i.push(n.addSelector(o))}),i},e.prototype.get=function(t,n){var i=this;if((0,z.isArray)(t)){var o=[],a=t.map(function(l){return i.getSelector(l)}).filter(Boolean);return a.forEach(function(l){return o.indexOf(l)<0&&o.push(l)}),o}else return this.getSelector(t,n)},e.prototype.remove=function(t,n){return this.__remove(t,n)},e.prototype.rename=function(t,n,i){var o=this.escapeName(n),a=this.get(o);return a||t.set({name:o,label:n},i)},e.prototype.setState=function(t){return this.em.setState(t),this},e.prototype.getState=function(){return this.em.getState()},e.prototype.getStates=function(){return Ty([],this.states.models,!0)},e.prototype.setStates=function(t,n){return this.states.reset(t.map(function(i){return new Ey(i)}),n)},e.prototype.getSelected=function(){return this.__getCommon()},e.prototype.getSelectedAll=function(){return Ty([],this.selected.models,!0)},e.prototype.addSelected=function(t){var n=this.add(t);this.em.getSelectedAll().forEach(function(i){i.getSelectors().add(n)})},e.prototype.removeSelected=function(t){this.em.getSelectedAll().forEach(function(n){!t.get("protected")&&n&&n.getSelectors().remove(t)})},e.prototype.duplicateSelected=function(t,n){var i=this;n===void 0&&(n={});var o=this.em,a=this.getSelected();if(!(a.indexOf(t)<0)){var l=this.getState(),u=o.getCurrentMedia(),c=o.Css.get(a,l,u),d=c==null?void 0:c.getStyle();if(o.getSelectedAll().forEach(function(g){var m=g.getSelectors();if(m.includes(t)){var _=n.suffix||" copy",b=t.getLabel(),C=i.addSelector("".concat(b).concat(_)),w=m.indexOf(t);m.remove(t),m.add(C,{at:w})}}),d){var h=o.Css.add(this.getSelected(),l,u);h.setStyle(d)}}},e.prototype.getSelectedTargets=function(){return this.em.Styles.getSelectedAll()},e.prototype.setComponentFirst=function(t){this.getConfig().componentFirst=t,this.model.set({cFirst:t})},e.prototype.getComponentFirst=function(){return this.getConfig().componentFirst},e.prototype.escapeName=function(t){var n=this.getConfig().escapeName;return n?n(t):Kr.escapeName(t)},e.prototype.render=function(t){var n=this.selectorTags,i=this.getConfig(),o=n==null?void 0:n.el;return this.selected.reset(t),this.selectorTags=new cU({el:o,collection:this.selected,module:this,config:i}),this.selectorTags.render().el},e.prototype.destroy=function(){var t=this,n=t.selectorTags,i=t.model;i.stopListening(),this.__update.cancel(),this.__destroy(),n==null||n.remove(),this.selectorTags=void 0},e.prototype.__getCommon=function(){return this.__getCommonSelectors(this.em.getSelectedAll())},e.prototype.__getCommonSelectors=function(t,n){n===void 0&&(n={});var i=t.map(function(o){return o.getSelectors&&o.getSelectors().getValid(n)}).filter(Boolean);return this.__common.apply(this,i)},e.prototype.__common=function(){for(var t=this,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return n.length?n.length===1?n[0]:n.length===2?n[0].filter(function(o){return n[1].indexOf(o)>=0}):n.slice(1).reduce(function(o,a){return t.__common(o,a)},n[0]):[]},e.prototype.__updateSelectedByComponents=function(){this.selected.reset(this.__getCommon())},e}(Ea);const yU=mU;var _U=function(){return{textTags:["br","b","i","u","a","ul","ol"],textTypes:["text","textnode","comment"],parserCss:void 0,parserHtml:void 0,optionsHtml:{htmlType:"text/html",allowScripts:!1,allowUnsafeAttr:!1,allowUnsafeAttrValue:!1,keepEmptyTextNodes:!1,convertDataGjsAttributesHyphens:!1}}};const bU=_U;var go,Mi={MEDIA_RULE:4,FONT_FACE_RULE:5,PAGE_RULE:6,KEYFRAMES_RULE:7,COUNTER_STYLE_RULE:11,SUPPORTS_RULE:12,DOCUMENT_RULE:13,FONT_FEATURE_VALUES_RULE:14,VIEWPORT_RULE:15},Hu=(go={},go[Mi.MEDIA_RULE]="media",go[Mi.FONT_FACE_RULE]="font-face",go[Mi.PAGE_RULE]="page",go[Mi.KEYFRAMES_RULE]="keyframes",go[Mi.COUNTER_STYLE_RULE]="counter-style",go[Mi.SUPPORTS_RULE]="supports",go[Mi.DOCUMENT_RULE]="document",go[Mi.FONT_FEATURE_VALUES_RULE]="font-feature-values",go[Mi.VIEWPORT_RULE]="viewport",go),R2=(0,z.keys)(Hu),tw=[Mi.FONT_FACE_RULE,Mi.PAGE_RULE,Mi.COUNTER_STYLE_RULE,Mi.VIEWPORT_RULE],wU=R2.filter(function(r){return tw.indexOf(Number(r))<0}).map(function(r){return Hu[r]}).concat(["container","layer"]),SU=tw.map(function(r){return Hu[r]}),L2=function(r){r===void 0&&(r="");for(var e=[],t=[],n=r.split(","),i=0,o=n.length;i<o;i++){var a=n[i].trim();if(/^(\.{1}[\w\-]+)+(:{1,2}[\w\-()]+)?$/gi.test(a)||/^(#{1}[\w\-]+){1}(:{1,2}[\w\-()]+)?$/gi.test(a)){var l=a.split(".").filter(Boolean);t.push(l)}else e.push(a)}return{result:t,add:e}},CU=function(r){for(var e=r.style,t={},n=0,i=e.length;n<i;n++){var o=e[n],a=e.getPropertyValue(o),l=e.getPropertyPriority(o);t[o]="".concat(a).concat(l?" !".concat(l):"")}return t},u1=function(r){var e=r.conditionText||r.media&&r.media.mediaText||r.name||r.selectorText||"";return e.trim()},s_=function(r,e,t){e===void 0&&(e={}),t===void 0&&(t={});var n={},i=r.length,o=r[i-1],a=o?o.split(/:(.+)/):[],l=a[1],u=t.atRule,c=t.selectorsAdd,d=t.mediaText,h=SU.indexOf(u)>=0;return h&&(n.singleAtRule=!0),u&&(n.atRuleType=u),c&&(n.selectorsAdd=c),d&&(n.mediaText=d),l&&(r[i-1]=a[0],n.state=l,a.splice(a.length-1,1)),n.selectors=r,n.style=e,n},c1=function(r){var e=r.cssText,t=e===void 0?"":e;return wU.find(function(n){return t.indexOf("@".concat(n))===0})},N2=function(r){for(var e=[],t=r.cssRules||[],n=0,i=t.length;n<i;n++){var o=t[n],a=o.type,l=!1,u="",c="",d=o.selectorText||o.keyText||"",h=tw.indexOf(a)>=0;if(h)l=!0,u=Hu[a],c=u1(o);else if(R2.indexOf("".concat(a))>=0||!a&&c1(o)){var g=N2(o),m=Hu[a]||c1(o);c=u1(o);for(var _=0,b=g.length;_<b;_++){var C=g[_];c&&(C.mediaText=c),C.atRuleType=m}e=e.concat(g)}if(!(!d&&!h)){for(var w=CU(o),x=L2(d),O=x.add,k=x.result,V=void 0,Z=0,$=k.length;Z<$;Z++){var Y=s_(k[Z],w,{atRule:Hu[a]});e.push(Y),V=Y}if(O.length){var U=O.join(", ");if(V)V.selectorsAdd=U;else{var Y={selectors:[],selectorsAdd:U,style:w};l&&(Y.singleAtRule=l),u&&(Y.atRuleType=u),c&&(Y.mediaText=c),e.push(Y)}}}}return e};const xU=function(r){var e=document.createElement("style");e.innerHTML=r,document.head.appendChild(e);var t=e.sheet;return document.head.removeChild(e),t?N2(t):[]};var OU=function(r,e){return e===void 0&&(e={}),{parse:function(t,n){var i=this;n===void 0&&(n={});var o=[],a=e.parserCss,l=r==null?void 0:r.Editor,u=[],c,d=r==null?void 0:r.Parser,h={input:t};d==null||d.__emitEvent(_s.cssBefore,h);var g=h.input;try{u=a?a(g,l):xU(g)}catch(m){if(c=m,n.throwOnError)throw m}return u.forEach(function(m){return o=o.concat(i.checkNode(m))}),d==null||d.__emitEvent(_s.css,{input:g,output:o,nodes:u,error:c}),o},checkNode:function(t){var n=t.selectors,i=t.style,o=[t];if((0,z.isString)(n)){var a=[],l=t,u=L2(n),c=u.result,d=u.add.join(", "),h={atRule:l.atRule,mediaText:l.params};if(c.length?c.forEach(function(m){a.push(s_(m,i,h))}):a.push(s_([],i,h)),d){var g=a[a.length-1];g.selectorsAdd=d}o=a}return o}}};const EU=OU;var TU=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),l_=function(){return l_=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},l_.apply(this,arguments)},AU=function(r){TU(e,r);function e(t){var n=r.call(this,t,"Parser",bU())||this;n.events=_s;var i=n.config;return n.parserCss=EU(t,i),n.parserHtml=t2(t,i),n}return e.prototype.parseHtml=function(t,n){n===void 0&&(n={});var i=this,o=i.em,a=i.parserHtml;return a.compTypes=o.Components.getTypes()||[],a.parse(t,this.parserCss,n)},e.prototype.parseCss=function(t){return this.parserCss.parse(t)},e.prototype.__emitEvent=function(t,n){var i=this,o=i.em,a=i.events;o.trigger(t,n),o.trigger(a.all,l_({event:t},n))},e.prototype.destroy=function(){},e}(_i);const kU=AU;var DU=function(){return{id:"gjs-",type:"local",autosave:!0,autoload:!0,stepsBeforeSave:1,recovery:!1,onStore:function(r){return r},onLoad:function(r){return r},options:{local:{key:"gjsProject",checkLocal:!0},remote:{headers:{},urlStore:"",urlLoad:"",contentTypeJson:!0,fetchOptions:"",credentials:"include",onStore:function(r){return r},onLoad:function(r){return r}}}}};const PU=DU;var f1=function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function l(d){try{c(n.next(d))}catch(h){a(h)}}function u(d){try{c(n.throw(d))}catch(h){a(h)}}function c(d){d.done?o(d.value):i(d.value).then(l,u)}c((n=n.apply(r,e||[])).next())})},d1=function(r,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(c){return function(d){return u([c,d])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(t=0)),t;)try{if(n=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){t.label=c[1];break}if(c[0]===6&&t.label<o[1]){t.label=o[1],o=c;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(c);break}o[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(r,t)}catch(d){c=[6,d],i=0}finally{n=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},MU=function(){function r(){}return r.prototype.store=function(e){return f1(this,arguments,void 0,function(t,n){return n===void 0&&(n={}),d1(this,function(i){return this.hasLocal(n,!0)&&localStorage.setItem(n.key,JSON.stringify(t)),[2,t]})})},r.prototype.load=function(){return f1(this,arguments,void 0,function(e){var t;return e===void 0&&(e={}),d1(this,function(n){return t={},this.hasLocal(e,!0)&&(t=JSON.parse(localStorage.getItem(e.key)||"{}")),[2,t]})})},r.prototype.hasLocal=function(e,t){if(e===void 0&&(e={}),e.checkLocal&&(!(0,Vt.hasWin)()||!localStorage)){if(t)throw new Error("localStorage not available");return!1}return!0},r}();const RU=MU;function ml(r){"@babel/helpers - typeof";return ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ml(r)}function LU(r){var e=this.constructor;return this.then(function(t){return e.resolve(r()).then(function(){return t})},function(t){return e.resolve(r()).then(function(){return e.reject(t)})})}const NU=LU;function jU(r){var e=this;return new e(function(t,n){if(!(r&&typeof r.length<"u"))return n(new TypeError(ml(r)+" "+r+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var i=Array.prototype.slice.call(r);if(i.length===0)return t([]);var o=i.length;function a(u,c){if(c&&(ml(c)==="object"||typeof c=="function")){var d=c.then;if(typeof d=="function"){d.call(c,function(h){a(u,h)},function(h){i[u]={status:"rejected",reason:h},--o===0&&t(i)});return}}i[u]={status:"fulfilled",value:c},--o===0&&t(i)}for(var l=0;l<i.length;l++)a(l,i[l])})}const VU=jU;function j2(r,e){this.name="AggregateError",this.errors=r,this.message=e||""}j2.prototype=Error.prototype;function BU(r){var e=this;return new e(function(t,n){if(!(r&&typeof r.length<"u"))return n(new TypeError("Promise.any accepts an array"));var i=Array.prototype.slice.call(r);if(i.length===0)return n();for(var o=[],a=0;a<i.length;a++)try{e.resolve(i[a]).then(t).catch(function(l){o.push(l),o.length===i.length&&n(new j2(o,"All promises were rejected"))})}catch(l){n(l)}})}const UU=BU;var IU=setTimeout;function V2(r){return!!(r&&typeof r.length<"u")}function zU(){}function HU(r,e){return function(){r.apply(e,arguments)}}function Dn(r){if(!(this instanceof Dn))throw new TypeError("Promises must be constructed via new");if(typeof r!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],U2(r,this)}function B2(r,e){for(;r._state===3;)r=r._value;if(r._state===0){r._deferreds.push(e);return}r._handled=!0,Dn._immediateFn(function(){var t=r._state===1?e.onFulfilled:e.onRejected;if(t===null){(r._state===1?u_:fd)(e.promise,r._value);return}var n;try{n=t(r._value)}catch(i){fd(e.promise,i);return}u_(e.promise,n)})}function u_(r,e){try{if(e===r)throw new TypeError("A promise cannot be resolved with itself.");if(e&&(ml(e)==="object"||typeof e=="function")){var t=e.then;if(e instanceof Dn){r._state=3,r._value=e,c_(r);return}else if(typeof t=="function"){U2(HU(t,e),r);return}}r._state=1,r._value=e,c_(r)}catch(n){fd(r,n)}}function fd(r,e){r._state=2,r._value=e,c_(r)}function c_(r){r._state===2&&r._deferreds.length===0&&Dn._immediateFn(function(){r._handled||Dn._unhandledRejectionFn(r._value)});for(var e=0,t=r._deferreds.length;e<t;e++)B2(r,r._deferreds[e]);r._deferreds=null}function FU(r,e,t){this.onFulfilled=typeof r=="function"?r:null,this.onRejected=typeof e=="function"?e:null,this.promise=t}function U2(r,e){var t=!1;try{r(function(n){t||(t=!0,u_(e,n))},function(n){t||(t=!0,fd(e,n))})}catch(n){if(t)return;t=!0,fd(e,n)}}Dn.prototype.catch=function(r){return this.then(null,r)};Dn.prototype.then=function(r,e){var t=new this.constructor(zU);return B2(this,new FU(r,e,t)),t};Dn.prototype.finally=NU;Dn.all=function(r){return new Dn(function(e,t){if(!V2(r))return t(new TypeError("Promise.all accepts an array"));var n=Array.prototype.slice.call(r);if(n.length===0)return e([]);var i=n.length;function o(l,u){try{if(u&&(ml(u)==="object"||typeof u=="function")){var c=u.then;if(typeof c=="function"){c.call(u,function(d){o(l,d)},t);return}}n[l]=u,--i===0&&e(n)}catch(d){t(d)}}for(var a=0;a<n.length;a++)o(a,n[a])})};Dn.any=UU;Dn.allSettled=VU;Dn.resolve=function(r){return r&&ml(r)==="object"&&r.constructor===Dn?r:new Dn(function(e){e(r)})};Dn.reject=function(r){return new Dn(function(e,t){t(r)})};Dn.race=function(r){return new Dn(function(e,t){if(!V2(r))return t(new TypeError("Promise.race accepts an array"));for(var n=0,i=r.length;n<i;n++)Dn.resolve(r[n]).then(e,t)})};Dn._immediateFn=typeof setImmediate=="function"&&function(r){setImmediate(r)}||function(r){IU(r,0)};Dn._unhandledRejectionFn=function(e){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};const f_=Dn;(0,Vt.hasWin)()&&(window.Promise=window.Promise||f_);const I2=typeof fetch=="function"?fetch.bind():function(r,e){return new f_(function(t,n){var i=new XMLHttpRequest;i.open(e.method||"get",r),i.withCredentials=e.credentials=="include";for(var o in e.headers||{})i.setRequestHeader(o,e.headers[o]);i.onload=function(a){return t({status:i.status,statusText:i.statusText,text:function(){return f_.resolve(i.responseText)}})},i.onerror=n,i.upload&&e.onProgress&&(i.upload.onprogress=e.onProgress),e.body?i.send(e.body):i.send()})};var Bv=function(){return Bv=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Bv.apply(this,arguments)},h1=function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function l(d){try{c(n.next(d))}catch(h){a(h)}}function u(d){try{c(n.throw(d))}catch(h){a(h)}}function c(d){d.done?o(d.value):i(d.value).then(l,u)}c((n=n.apply(r,e||[])).next())})},p1=function(r,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(c){return function(d){return u([c,d])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(t=0)),t;)try{if(n=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){t.label=c[1];break}if(c[0]===6&&t.label<o[1]){t.label=o[1],o=c;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(c);break}o[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(r,t)}catch(d){c=[6,d],i=0}finally{n=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},WU=function(){function r(){}return r.prototype.store=function(e){return h1(this,arguments,void 0,function(t,n){return n===void 0&&(n={}),p1(this,function(i){switch(i.label){case 0:return[4,this.request(n.urlStore,this.__props(n,t),n)];case 1:return[2,i.sent()]}})})},r.prototype.load=function(){return h1(this,arguments,void 0,function(e){return e===void 0&&(e={}),p1(this,function(t){switch(t.label){case 0:return[4,this.request(e.urlLoad,this.__props(e),e)];case 1:return[2,t.sent()]}})})},r.prototype.request=function(e,t,n){return t===void 0&&(t={}),n===void 0&&(n={}),I2(e,t).then(function(i){var o=i.text(),a=(i.status/200|0)===1;return a?o:o.then(Promise.reject)}).then(function(i){var o=i&&(0,z.isString)(i);return n.contentTypeJson&&o?JSON.parse(i):i})},r.prototype.__props=function(e,t){e===void 0&&(e={});var n=e.contentTypeJson,i=e.headers||{},o=e.fetchOptions||{},a="X-Requested-With",l="Content-Type",u;if((0,z.isUndefined)(i[a])&&(i[a]="XMLHttpRequest"),(0,z.isUndefined)(i[l])&&n&&(i[l]="application/json; charset=utf-8"),t)if(n)u=JSON.stringify(t);else{u=new FormData;for(var c in t)u.append(c,t[c])}var d={method:u?"POST":"GET",credentials:e.credentials,headers:i,body:u};return Bv(Bv({},d),(0,z.isFunction)(o)?o(d):o)},r}();const qU=WU;var d_;(function(r){r.start="storage:start",r.startStore="storage:start:store",r.startLoad="storage:start:load",r.load="storage:load",r.store="storage:store",r.after="storage:after",r.afterStore="storage:after:store",r.afterLoad="storage:after:load",r.end="storage:end",r.endStore="storage:end:store",r.endLoad="storage:end:load",r.error="storage:error",r.errorStore="storage:error:store",r.errorLoad="storage:error:load"})(d_||(d_={}));const Hr=d_;var KU=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),xu=function(){return xu=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},xu.apply(this,arguments)},Ay=function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function l(d){try{c(n.next(d))}catch(h){a(h)}}function u(d){try{c(n.throw(d))}catch(h){a(h)}}function c(d){d.done?o(d.value):i(d.value).then(l,u)}c((n=n.apply(r,e||[])).next())})},ky=function(r,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(c){return function(d){return u([c,d])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(t=0)),t;)try{if(n=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){t.label=c[1];break}if(c[0]===6&&t.label<o[1]){t.label=o[1],o=c;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(c);break}o[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(r,t)}catch(d){c=[6,d],i=0}finally{n=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},Vh="local",v1="remote",GU=function(r){KU(e,r);function e(t){var n=r.call(this,t,"StorageManager",PU())||this;n.storages={},n.events=Hr;var i=n.config;return i._disable&&(i.type=void 0),n.storages={},n.add(Vh,new RU),n.add(v1,new qU),n.setCurrent(i.type),n}return e.prototype.isAutosave=function(){return!!this.config.autosave},e.prototype.setAutosave=function(t){return this.config.autosave=!!t,this},e.prototype.getStepsBeforeSave=function(){return this.config.stepsBeforeSave},e.prototype.setStepsBeforeSave=function(t){return this.config.stepsBeforeSave=t,this},e.prototype.add=function(t,n){return this.storages[t]=n,this},e.prototype.get=function(t){return this.storages[t]},e.prototype.getStorages=function(){return this.storages},e.prototype.getCurrent=function(){return this.config.currentStorage},e.prototype.setCurrent=function(t){return this.getConfig().currentStorage=t,this},e.prototype.getCurrentStorage=function(){return this.get(this.getCurrent())},e.prototype.getStorageOptions=function(t){return this.getCurrentOptions(t)},e.prototype.store=function(t){return Ay(this,arguments,void 0,function(n,i){var o,a,l,u,c,d;return i===void 0&&(i={}),ky(this,function(h){switch(h.label){case 0:o=this.getCurrentStorage(),a=xu(xu({},this.getCurrentOptions()),i),l=this.getRecoveryStorage(),u=this.getCurrentOptions(Vh),h.label=1;case 1:return h.trys.push([1,5,,9]),[4,this.__exec(o,a,n)];case 2:return h.sent(),c=l,c?[4,this.__exec(l,u,{})]:[3,4];case 3:c=h.sent(),h.label=4;case 4:return[3,9];case 5:return d=h.sent(),l?[4,this.__exec(l,u,n)]:[3,7];case 6:return h.sent(),[3,8];case 7:throw d;case 8:return[3,9];case 9:return[2,n]}})})},e.prototype.load=function(){return Ay(this,arguments,void 0,function(t){var n,i,o,a,l;return t===void 0&&(t={}),ky(this,function(u){switch(u.label){case 0:return n=this.getCurrentStorage(),i=xu(xu({},this.getCurrentOptions()),t),o=this.getRecoveryStorage(),o?[4,this.__exec(o,this.getCurrentOptions(Vh))]:[3,5];case 1:if(l=u.sent(),(0,z.isEmpty)(l))return[3,5];u.label=2;case 2:return u.trys.push([2,4,,5]),[4,this.__askRecovery()];case 3:return u.sent(),a=l,[3,5];case 4:return u.sent(),[3,5];case 5:return a?[3,7]:[4,this.__exec(n,i)];case 6:a=u.sent(),u.label=7;case 7:return[2,a||{}]}})})},e.prototype.__askRecovery=function(){var t=this.em,n=this.getRecovery();return new Promise(function(i,o){(0,z.isFunction)(n)?n(i,o,t==null?void 0:t.getEditor()):confirm(t==null?void 0:t.t("storageManager.recover"))?i(null):o()})},e.prototype.getRecovery=function(){return this.config.recovery},e.prototype.getRecoveryStorage=function(){var t=this.getRecovery();return t&&this.getCurrent()===v1&&this.get(Vh)},e.prototype.__exec=function(t,n,i){return Ay(this,void 0,void 0,function(){var o,a,l,u,c,d,h,g,m,_,b,C,w,x;return ky(this,function(O){switch(O.label){case 0:if(o=i?"store":"load",a=this.getConfig(),l=a.onStore,u=a.onLoad,!t)return[2,i||{}];this.onStart(o,i),O.label=1;case 1:return O.trys.push([1,14,,15]),d=(x=this.em)===null||x===void 0?void 0:x.getEditor(),h=void 0,i?(m=l,m?[4,l(i,d)]:[3,3]):[3,7];case 2:m=O.sent(),O.label=3;case 3:return g=m||i,_=n.onStore,_?[4,n.onStore(g,d)]:[3,5];case 4:_=O.sent(),O.label=5;case 5:return g=_||g,[4,t.store(g,n)];case 6:return h=O.sent(),c=i,[3,13];case 7:return[4,t.load(n)];case 8:return h=O.sent(),c=this.__clearKeys(h),b=n.onLoad,b?[4,n.onLoad(c,d)]:[3,10];case 9:b=O.sent(),O.label=10;case 10:return c=b||c,C=u,C?[4,u(c,d)]:[3,12];case 11:C=O.sent(),O.label=12;case 12:c=C||c,O.label=13;case 13:return this.onAfter(o,c,h),this.onEnd(o,c,h),[3,15];case 14:throw w=O.sent(),this.onError(o,w),w;case 15:return[2,c]}})})},e.prototype.__clearKeys=function(t){t===void 0&&(t={});var n=this.getConfig(),i=new RegExp("^".concat(n.id)),o={};for(var a in t){var l=a.replace(i,"");o[l]=t[a]}return o},e.prototype.getCurrentOptions=function(t){var n=this.getConfig(),i=t||this.getCurrent();return n.options[i]||{}},e.prototype.onStart=function(t,n){var i=this.em;if(i){var o=t==="load"?Hr.startLoad:Hr.startStore;i.trigger(Hr.start,t,n),i.trigger(o,n)}},e.prototype.onAfter=function(t,n,i){var o=this.em;if(o){var a=t==="load"?Hr.afterLoad:Hr.afterStore;o.trigger(Hr.after),o.trigger(a,n,i);var l=t==="load"?Hr.load:Hr.store;o.trigger(l,n,i)}},e.prototype.onEnd=function(t,n,i){var o=this.em;if(o){var a=t==="load"?Hr.endLoad:Hr.endStore;o.trigger(Hr.end,t,n,i),o.trigger(a,n,i)}},e.prototype.onError=function(t,n){var i=this.em;if(i){var o=t==="load"?Hr.errorLoad:Hr.errorStore;i.trigger(Hr.error,n,t),i.trigger(o,n),this.onEnd(t,n)}},e.prototype.canAutoload=function(){var t=this.getCurrentStorage();return!!t&&!!this.config.autoload},e.prototype.destroy=function(){this.storages={}},e}(_i);const YU=GU;var XU=function(){return{stylePrefix:"trt-",appendTo:"",optionsTarget:[{value:!1},{value:"_blank"}],custom:!1}};const ZU=XU;var $U=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),If=function(){return If=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},If.apply(this,arguments)},z2=function(r){$U(e,r);function e(t){t===void 0&&(t={});var n=r.call(this,t)||this;n.events={},n.appendInput=!0;var i=t.config,o=i===void 0?{}:i,a=n,l=a.model,u=a.eventCapture,c=l.target,d=l.attributes.type;n.config=o,n.em=o.em,n.pfx=o.stylePrefix||"",n.ppfx=o.pStylePrefix||"",n.target=c,n.className=n.pfx+"trait",n.clsField="".concat(n.ppfx,"field ").concat(n.ppfx,"field-").concat(d);var h=[["change:value",n.onValueChange],["remove",n.removeView]];return h.forEach(function(g){var m=g[0],_=g[1];l.off(m,_),n.listenTo(l,m,_)}),l.view=n,n.listenTo(l,"change:label",n.render),n.listenTo(l,"change:placeholder",n.rerender),n.events={},u.forEach(function(g){return n.events[g]="onChange"}),n.delegateEvents(),n.init(),n}return e.prototype.attributes=function(){return this.model.get("attributes")||{}},e.prototype.templateLabel=function(t){var n=this.ppfx,i=this.getLabel();return'<div class="'.concat(n,'label" title="').concat(i,'">').concat(i,"</div>")},e.prototype.templateInput=function(t){var n=this.clsField;return'<div class="'.concat(n,'" data-input></div>')},e.prototype.getClbOpts=function(){return{component:this.target,trait:this.model,elInput:this.getInputElem()}},e.prototype.removeView=function(){this.remove(),this.removed()},e.prototype.init=function(){},e.prototype.removed=function(){},e.prototype.onRender=function(t){},e.prototype.onUpdate=function(t){},e.prototype.onEvent=function(t){},e.prototype.onChange=function(t){var n=this.getInputElem();n&&!(0,z.isUndefined)(n.value)&&this.model.set("value",n.value),this.onEvent(If(If({},this.getClbOpts()),{event:t}))},e.prototype.getValueForTarget=function(){return this.model.get("value")},e.prototype.setInputValue=function(t){var n=this.getInputElem();n&&(n.value=t)},e.prototype.onValueChange=function(t,n,i){i===void 0&&(i={});var o=this.model,a=this.getValueForTarget();i.fromTarget?(this.setInputValue(a),this.postUpdate()):o.setValue(a,i)},e.prototype.renderLabel=function(){var t=this,n=t.$el,i=t.target,o=this.getLabel(),a=this.templateLabel(i);this.createLabel&&(a=this.createLabel({label:o,component:i,trait:this})||""),n.find("[data-label]").append(a)},e.prototype.getLabel=function(){var t=this.em,n=this.model.attributes,i=n.label,o=n.name;return t.t("traitManager.traits.labels.".concat(o))||(0,Vt.capitalize)(i||o).replace(/-/g," ")},e.prototype.getComponent=function(){return this.target},e.prototype.getInputEl=function(){if(!this.$input){var t=this,n=t.em,i=t.model,o=i,a=i.attributes.name,l=o.get("placeholder")||o.get("default")||"",u=o.get("type")||"text",c=o.get("min"),d=o.get("max"),h=this.getModelValue(),g=(0,ur.default)('<input type="'.concat(u,'">')),m=n.t("traitManager.traits.attributes.".concat(a))||{};g.attr(If({placeholder:l},m)),(0,z.isUndefined)(h)||(o.set({value:h},{silent:!0}),g.prop("value",h)),c&&g.prop("min",c),d&&g.prop("max",d),this.$input=g}return this.$input.get(0)},e.prototype.getInputElem=function(){var t=this,n=t.input,i=t.$input;return n||i&&i.get&&i.get(0)||this.getElInput()},e.prototype.getModelValue=function(){return this.model.getValue()},e.prototype.getElInput=function(){return this.elInput},e.prototype.renderField=function(){var t=this,n=t.$el,i=t.appendInput,o=t.model,a=n.find("[data-input]"),l=a[a.length-1],u=o.el;u||(u=this.createInput?this.createInput(this.getClbOpts()):this.getInputEl()),(0,z.isString)(u)?(l.innerHTML=u,this.elInput=l.firstChild):(i?l.appendChild(u):l.insertBefore(u,l.firstChild),this.elInput=u),o.el=this.elInput},e.prototype.hasLabel=function(){var t=this.model.attributes.label;return!this.noLabel&&t!==!1},e.prototype.rerender=function(){delete this.model.el,this.render()},e.prototype.postUpdate=function(){this.onUpdate(this.getClbOpts())},e.prototype.render=function(){var t=this,n=t.$el,i=t.pfx,o=t.ppfx,a=t.model,l=a.attributes,u=l.type,c=l.id,d=this.hasLabel&&this.hasLabel(),h="".concat(i,"trait");delete this.$input;var g='<div class="'.concat(h," ").concat(h,"--").concat(u,`">
      `).concat(d?'<div class="'.concat(o,'label-wrp" data-label></div>'):"",`
      <div class="`).concat(o,"field-wrp ").concat(o,"field-wrp--").concat(u,`" data-input>
        `).concat(this.templateInput?(0,z.isFunction)(this.templateInput)?this.templateInput(this.getClbOpts()):this.templateInput:"",`
      </div>
    </div>`);return n.empty().append(g),d&&this.renderLabel(),this.renderField(),this.el.className="".concat(h,"__wrp ").concat(h,"__wrp-").concat(c),this.postUpdate(),this.onRender(this.getClbOpts()),this},e}(te.Ss);const xa=z2;z2.prototype.eventCapture=["change"];var JU=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),H2=function(r){JU(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.templateInput=function(){return""},e.prototype.onChange=function(){this.handleClick()},e.prototype.handleClick=function(){this.model.runCommand()},e.prototype.renderLabel=function(){this.model.get("label")&&xa.prototype.renderLabel.apply(this)},e.prototype.getInputEl=function(){var t=this,n=t.model,i=t.ppfx,o=n.props(),a=o.labelButton,l=o.text,u=o.full,c=a||l,d="".concat(i,"btn"),h='<button type="button" class="'.concat(d,"-prim").concat(u?" ".concat(d,"--full"):"",'">').concat(c,"</button>");return h},e}(xa);const QU=H2;H2.prototype.eventCapture=["click button"];var tI=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),eI=function(r){tI(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.appendInput=!1,t}return e.prototype.templateInput=function(){var t=this,n=t.ppfx,i=t.clsField;return'<label class="'.concat(i,`" data-input>
    <i class="`).concat(n,`chk-icon"></i>
  </label>`)},e.prototype.onChange=function(){this.model.set("value",this.getInputElem().checked)},e.prototype.setInputValue=function(t){var n=this.getInputElem();n&&(n.checked=!!t)},e.prototype.getInputEl=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=!this.$input,o=xa.prototype.getInputEl.apply(this,t);if(i){var a=void 0,l=void 0,u=this,c=u.model,d=u.target,h=c.attributes.valueFalse,g=c.getName();c.changeProp?(a=d.get(g),l=a):(l=d.get("attributes")[g],a=!!(l||l==="")),!(0,z.isUndefined)(h)&&l===h&&(a=!1),o.checked=a}return o},e}(xa);const nI=eI;function rI(r,e){if(!(0,Vt.hasWin)())return;var t={beforeShow:m,move:m,change:m,show:m,hide:m,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!0,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:!1,offset:null},n=[],i=!!/msie/i.exec(window.navigator.userAgent),o=function(){function J(Lt,bt){return!!~(""+Lt).indexOf(bt)}var gt=document.createElement("div"),F=gt.style;return F.cssText="background-color:rgba(0,0,0,.5)",J(F.backgroundColor,"rgba")||J(F.backgroundColor,"hsla")}(),a=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),l=function(){var J="";if(i)for(var gt=1;gt<=6;gt++)J+="<div class='sp-"+gt+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",J,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("")}();function u(J,gt,F,Lt){for(var bt=[],Ht=0;Ht<J.length;Ht++){var ce=J[Ht];if(ce){var ee=D(ce),ne=ee.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";ne+=D.equals(gt,ce)?" sp-thumb-active":"";var ve=ee.toString(Lt.preferredFormat||"rgb"),Oe=o?"background-color:"+ee.toRgbString():"filter:"+ee.toFilter();bt.push('<span title="'+ve+'" data-color="'+ee.toRgbString()+'" class="'+ne+'"><span class="sp-thumb-inner" style="'+Oe+';"></span></span>')}else{var Re="sp-clear-display";bt.push(r("<div />").append(r('<span data-color="" style="background-color:transparent;" class="'+Re+'"></span>').attr("title",Lt.noColorSelectedText)).html())}}return"<div class='sp-cf "+F+"'>"+bt.join("")+"</div>"}function c(){for(var J=0;J<n.length;J++)n[J]&&n[J].hide()}function d(J,gt){var F=r.extend({},t,J);return F.callbacks={move:b(F.move,gt),change:b(F.change,gt),show:b(F.show,gt),hide:b(F.hide,gt),beforeShow:b(F.beforeShow,gt)},F}function h(J,gt){var F=d(gt,J),Lt=F.flat,bt=F.showSelectionPalette,Ht=F.localStorageKey,ce=F.theme,ee=F.callbacks,ne=w(Ei,10),ve=!1,Oe=!1,Re=!0,De=0,Je=0,vn=0,X=0,ht=0,Ct=0,Ut=0,ie=0,ye=0,xe=0,ln=1,Pn=[],un=[],bi={},cn=F.selectionPalette.slice(0),Cr=F.maxSelectionSize,$r="sp-dragging",qe=null,Mn=J.ownerDocument;Mn.body;var Ve=r(J),gr=!1,Se=r(l,Mn).addClass(ce),Jr=Se.find(".sp-picker-container"),Lr=Se.find(".sp-color"),Vn=Se.find(".sp-dragger"),Bn=Se.find(".sp-hue"),xr=Se.find(".sp-slider"),Ke=Se.find(".sp-alpha-inner"),he=Se.find(".sp-alpha"),Jn=Se.find(".sp-alpha-handle"),gn=Se.find(".sp-input"),Qn=Se.find(".sp-palette"),Ne=Se.find(".sp-initial"),tn=Se.find(".sp-cancel"),Qr=Se.find(".sp-clear"),wi=Se.find(".sp-choose"),qt=Se.find(".sp-palette-toggle"),be=Ve.is("input"),Si=be&&Ve.attr("type")==="color"&&x(),W=be&&!Lt,lt=W?r(a).addClass(ce).addClass(F.className).addClass(F.replacerClassName):r([]),Mt=W?lt:Ve,Gt=lt.find(".sp-preview-inner"),Xt=F.color||be&&Ve.val(),ke=!1,Le=F.preferredFormat,fn=!F.showButtons||F.clickoutFiresChange,Ye=!Xt,ti=F.allowEmpty&&!Si;function Ta(){if(F.showPaletteOnly&&(F.showPalette=!0),qt.text(F.showPaletteOnly?F.togglePaletteMoreText:F.togglePaletteLessText),F.palette){Pn=F.palette.slice(0),un=r.isArray(Pn[0])?Pn:[Pn],bi={};for(var me=0;me<un.length;me++)for(var ge=0;ge<un[me].length;ge++){var Ue=D(un[me][ge]).toRgbString();bi[Ue]=!0}}Se.toggleClass("sp-flat",Lt),Se.toggleClass("sp-input-disabled",!F.showInput),Se.toggleClass("sp-alpha-enabled",F.showAlpha),Se.toggleClass("sp-clear-enabled",ti),Se.toggleClass("sp-buttons-disabled",!F.showButtons),Se.toggleClass("sp-palette-buttons-disabled",!F.togglePaletteOnly),Se.toggleClass("sp-palette-disabled",!F.showPalette),Se.toggleClass("sp-palette-only",F.showPaletteOnly),Se.toggleClass("sp-initial-disabled",!F.showInitial),Se.addClass(F.className).addClass(F.containerClassName),Ei()}function Fo(){if(i&&Se.find("*:not(input)").attr("unselectable","on"),Ta(),W&&Ve.after(lt).hide(),ti||Qr.hide(),Lt)Ve.after(Se).hide();else{var me=F.appendTo==="parent"?Ve.parent():r(F.appendTo);me.length!==1&&(me=r("body")),me.append(Se)}Wo(),Mt.bind("click.spectrum touchstart.spectrum",function(Ce){gr||Da(),Ce.stopPropagation(),r(Ce.target).is("input")||Ce.preventDefault()}),(Ve.is(":disabled")||F.disabled===!0)&&Fi(),Se.click(_),gn.change(so),gn.bind("paste",function(){setTimeout(so,1)}),gn.keydown(function(Ce){Ce.keyCode==13&&so()}),tn.text(F.cancelText),tn.bind("click.spectrum",function(Ce){Ce.stopPropagation(),Ce.preventDefault(),lo(),Ci()}),Qr.attr("title",F.clearText),Qr.bind("click.spectrum",function(Ce){Ce.stopPropagation(),Ce.preventDefault(),Ye=!0,uo(),Lt&&Oi(!0)}),wi.text(F.chooseText),wi.bind("click.spectrum",function(Ce){Ce.stopPropagation(),Ce.preventDefault(),i&&gn.is(":focus")&&gn.trigger("change"),xl()&&(Oi(!0),Ci())}),qt.text(F.showPaletteOnly?F.togglePaletteMoreText:F.togglePaletteLessText),qt.bind("click.spectrum",function(Ce){Ce.stopPropagation(),Ce.preventDefault(),F.showPaletteOnly=!F.showPaletteOnly,!F.showPaletteOnly&&!Lt&&Se.css("left","-="+(Jr.outerWidth(!0)+5)),Ta()}),C(he,function(Ce,mn,In){ln=Ce/ht,Ye=!1,In.shiftKey&&(ln=Math.round(ln*10)/10),uo()},Ko,xo),C(Bn,function(Ce,mn){ie=parseFloat(mn/X),Ye=!1,F.showAlpha||(ln=1),uo()},Ko,xo),C(Lr,function(Ce,mn,In){if(!In.shiftKey)qe=null;else if(!qe){var Er=ye*De,Wi=Je-xe*Je,Nr=Math.abs(Ce-Er)>Math.abs(mn-Wi);qe=Nr?"x":"y"}var jr=!qe||qe==="x",ei=!qe||qe==="y";jr&&(ye=parseFloat(Ce/De)),ei&&(xe=parseFloat((Je-mn)/Je)),Ye=!1,F.showAlpha||(ln=1),uo()},Ko,xo),Xt?(Or(Xt),xi(),Le=F.preferredFormat||D(Xt).getFormat(),qo(Xt)):xi(),Lt&&Un();function ge(Ce){return Ce.data&&Ce.data.ignore?(Or(r(Ce.target).closest(".sp-thumb-el").data("color")),uo()):(Or(r(Ce.target).closest(".sp-thumb-el").data("color")),uo(),F.hideAfterPaletteSelect&&(Oi(!0),Ci())),!1}var Ue=i?"mousedown.spectrum":"click.spectrum touchstart.spectrum";Qn.delegate(".sp-thumb-el",Ue,ge),Ne.delegate(".sp-thumb-el:nth-child(1)",Ue,{ignore:!0},ge)}function Wo(){if(Ht&&window.localStorage){try{var me=window.localStorage[Ht].split(",#");me.length>1&&(delete window.localStorage[Ht],r.each(me,function(ge,Ue){qo(Ue)}))}catch{}try{cn=window.localStorage[Ht].split(";")}catch{}}}function qo(me){if(bt){var ge=D(me).toRgbString();if(!bi[ge]&&r.inArray(ge,cn)===-1)for(cn.push(ge);cn.length>Cr;)cn.shift();if(Ht&&window.localStorage)try{window.localStorage[Ht]=cn.join(";")}catch{}}}function ks(){var me=[];if(F.showPalette)for(var ge=0;ge<cn.length;ge++){var Ue=D(cn[ge]).toRgbString();bi[Ue]||me.push(cn[ge])}return me.reverse().slice(0,F.maxSelectionSize)}function Aa(){var me=Kn(),ge=r.map(un,function(Ue,Ce){return u(Ue,me,"sp-palette-row sp-palette-row-"+Ce,F)});Wo(),cn&&ge.push(u(ks(),me,"sp-palette-row sp-palette-row-selection",F)),Qn.html(ge.join(""))}function ka(){if(F.showInitial){var me=ke,ge=Kn();Ne.html(u([me,ge],ge,"sp-palette-row-initial",F))}}function Ko(){(Je<=0||De<=0||X<=0)&&Ei(),Oe=!0,Se.addClass($r),qe=null,Ve.trigger("dragstart.spectrum",[Kn()])}function xo(){Oe=!1,Se.removeClass($r),Ve.trigger("dragstop.spectrum",[Kn()])}function so(){var me=gn.val();if((me===null||me==="")&&ti)Or(null),Oi(!0);else{var ge=D(me);ge.isValid()?(Or(ge),Oi(!0)):gn.addClass("sp-validation-error")}}function Da(){ve?Ci():Un()}function Un(){var me=r.Event("beforeShow.spectrum");if(ve){Ei();return}if(Ve.trigger("beforeShow.spectrum",[Kn()]),!(ee.beforeShow(Kn())===!1||me.isDefaultPrevented())){c(),ve=!0;var ge=r(Mn);ge.bind("keydown.spectrum",qn),ge.bind("click.spectrum",Ds),r(window).bind("resize.spectrum",ne),lt.addClass("sp-active"),Se.removeClass("sp-hidden"),Ei(),xi(),ke=Kn(),ka(),ee.show(ke),Ve.trigger("show.spectrum",[ke])}}function qn(me){me.keyCode===27&&Ci()}function Ds(me){me.button!=2&&(Oe||(fn?Oi(!0):lo(),Ci()))}function Ci(){!ve||Lt||(ve=!1,r(Mn).unbind("keydown.spectrum",qn),r(Mn).unbind("click.spectrum",Ds),r(window).unbind("resize.spectrum",ne),lt.removeClass("sp-active"),Se.addClass("sp-hidden"),ee.hide(Kn()),Ve.trigger("hide.spectrum",[Kn()]))}function lo(){Or(ke,!0)}function Or(me,ge){if(D.equals(me,Kn())){xi();return}var Ue,Ce;!me&&ti?Ye=!0:(Ye=!1,Re=!me,Ue=D(me),Ce=Ue.toHsv(),ie=Ce.h%360/360,ye=Ce.s,xe=Ce.v,ln=Ce.a),xi(),Ue&&Ue.isValid()&&!ge&&(Le=F.preferredFormat||Ue.getFormat())}function Kn(me){return me=me||{},ti&&Ye?null:D.fromRatio({h:ie,s:ye,v:xe,a:Math.round(ln*100)/100},{format:me.format||Le})}function xl(){return!gn.hasClass("sp-validation-error")}function uo(){xi(),ee.move(Kn()),Ve.trigger("move.spectrum",[Kn()])}function xi(){gn.removeClass("sp-validation-error"),Go();var me=D.fromRatio({h:ie,s:1,v:1});Lr.css("background-color",me.toHexString());var ge=Le;ln<1&&!(ln===0&&ge==="name")&&(ge==="hex"||ge==="hex3"||ge==="hex6"||ge==="name")&&(ge="rgb");var Ue=Kn({format:ge}),Ce="";if(Gt.removeClass("sp-clear-display"),Gt.css("background-color","transparent"),!Ue&&ti)Gt.addClass("sp-clear-display");else{var mn=Ue.toHexString(),In=Ue.toRgbString();if(o||Ue.alpha===1?Gt.css("background-color",In):(Gt.css("background-color","transparent"),Gt.css("filter",Ue.toFilter())),F.showAlpha){var Er=Ue.toRgb();Er.a=0;var Wi=D(Er).toRgbString(),Nr="linear-gradient(left, "+Wi+", "+mn+")";i?Ke.css("filter",D(Wi).toFilter({gradientType:1},mn)):(Ke.css("background","-webkit-"+Nr),Ke.css("background","-moz-"+Nr),Ke.css("background","-ms-"+Nr),Ke.css("background","linear-gradient(to right, "+Wi+", "+mn+")"))}Ce=Ue.toString(ge)}F.showInput&&gn.val(Ce),F.showPalette&&Aa(),ka()}function Go(){var me=ye,ge=xe;if(ti&&Ye)Jn.hide(),xr.hide(),Vn.hide();else{Jn.show(),xr.show(),Vn.show();var Ue=me*De,Ce=Je-ge*Je;Ue=Math.max(-vn,Math.min(De-vn,Ue-vn)),Ce=Math.max(-vn,Math.min(Je-vn,Ce-vn)),Vn.css({top:Ce+"px",left:Ue+"px"});var mn=ln*ht;Jn.css({left:mn-Ct/2+"px"});var In=ie*X;xr.css({top:In-Ut+"px"})}}function Oi(me){var ge=Kn(),Ue="",Ce=Re?!0:!D.equals(ge,ke);ge&&(Ue=ge.toString(Le),!ve&&qo(ge)),be&&Ve.val(Ue),me&&Ce&&(ee.change(ge),Ve.trigger("change",[ge]))}function Ei(){ve&&(De=Lr.width(),Je=Lr.height(),vn=Vn.height(),Bn.width(),X=Bn.height(),Ut=xr.height(),ht=he.width(),Ct=Jn.width(),Lt||(Se.css("position","absolute"),F.offset?Se.offset(F.offset):Se.offset(g(Se,Mt))),Go(),F.showPalette&&Aa(),Ve.trigger("reflow.spectrum"))}function Ps(){Ve.show(),Mt.unbind("click.spectrum touchstart.spectrum"),Se.remove(),lt.remove(),n[co.id]=null}function Pa(me,ge){if(me===e)return r.extend({},F);if(ge===e)return F[me];F[me]=ge,me==="preferredFormat"&&(Le=F.preferredFormat),Ta()}function Yo(){gr=!1,Ve.attr("disabled",!1),Mt.removeClass("sp-disabled")}function Fi(){Ci(),gr=!0,Ve.attr("disabled",!0),Mt.addClass("sp-disabled")}function Xo(me){F.offset=me,Ei()}Fo();var co={show:Un,hide:Ci,toggle:Da,reflow:Ei,option:Pa,enable:Yo,disable:Fi,offset:Xo,set:function(me){Or(me),Oi()},get:Kn,destroy:Ps,container:Se};return co.id=n.push(co)-1,co}function g(J,gt){for(var F=gt[0],Lt=J[0],bt=Lt.parentElement,Ht=F.getBoundingClientRect(),ce=Lt.offsetWidth,ee=Lt.offsetHeight,ne={top:0,left:0,width:F.offsetWidth,height:F.offsetHeight};F&&(ne.top+=F.offsetTop-F.scrollTop,ne.left+=F.offsetLeft-F.scrollLeft,!(F===bt||!bt.contains(F.offsetParent)));)F=F.offsetParent;return Ht.right+ce>window.innerWidth-window.scrollX&&Ht.right-ce>0&&(ne.left-=ce-ne.width),Ht.bottom+ee<window.innerHeight-window.scrollY?ne.top+=ne.height:ne.top-=ee,ne}function m(){}function _(J){J.stopPropagation()}function b(J,gt){var F=Array.prototype.slice,Lt=F.call(arguments,2);return function(){return J.apply(gt,Lt.concat(F.call(arguments)))}}function C(J,gt,F,Lt){gt=gt||function(){},F=F||function(){},Lt=Lt||function(){};var bt=document,Ht=!1,ce={},ee=0,ne=0,ve="ontouchstart"in window,Oe={};Oe.selectstart=Re,Oe.dragstart=Re,Oe["touchmove mousemove"]=De,Oe["touchend mouseup"]=vn;function Re(X){X.stopPropagation&&X.stopPropagation(),X.preventDefault&&X.preventDefault(),X.returnValue=!1}function De(X){if(Ht){if(i&&bt.documentMode<9&&!X.button)return vn();var ht=X&&X.touches&&X.touches[0],Ct=ht&&ht.pageX||X.pageX,Ut=ht&&ht.pageY||X.pageY,ie=Math.max(0,Math.min(Ct-ce.left,ne)),ye=Math.max(0,Math.min(Ut-ce.top,ee));ve&&Re(X),gt.apply(J,[ie,ye,X])}}function Je(X){var ht=X.which?X.which==3:X.button==2;!ht&&!Ht&&F.apply(J,arguments)!==!1&&(Ht=!0,ee=r(J).height(),ne=r(J).width(),ce=r(J).offset(),r(bt).bind(Oe),r(bt.body).addClass("sp-dragging"),De(X),Re(X))}function vn(){Ht&&(r(bt).unbind(Oe),r(bt.body).removeClass("sp-dragging"),setTimeout(function(){Lt.apply(J,arguments)},0)),Ht=!1}r(J).bind("touchstart mousedown",Je)}function w(J,gt,F){var Lt;return function(){var bt=this,Ht=arguments,ce=function(){Lt=null,J.apply(bt,Ht)};Lt||(Lt=setTimeout(ce,gt))}}function x(){return r.fn.spectrum.inputTypeColorSupport()}var O="spectrum.id";r.fn.spectrum=function(J,gt){if(typeof J=="string"){var F=this,Lt=Array.prototype.slice.call(arguments,1);return this.each(function(){var bt=n[r(this).data(O)];if(bt){var Ht=bt[J];if(!Ht)throw new Error("Spectrum: no such method: '"+J+"'");J=="get"?F=bt.get():J=="container"?F=bt.container:J=="option"?F=bt.option.apply(bt,Lt):J=="destroy"?(bt.destroy(),r(this).removeData(O)):Ht.apply(bt,Lt)}}),F}return this.spectrum("destroy").each(function(){var bt=r.extend({},J,r(this).data()),Ht=h(this,bt);r(this).data(O,Ht.id)})},r.fn.spectrum.load=!0,r.fn.spectrum.loadOpts={},r.fn.spectrum.draggable=C,r.fn.spectrum.defaults=t,r.fn.spectrum.inputTypeColorSupport=function J(){if(typeof J._cachedResult>"u"){var gt=r("<input type='color'/>")[0];J._cachedResult=gt.type==="color"&&gt.value!==""}return J._cachedResult},r.spectrum={},r.spectrum.localization={},r.spectrum.palettes={},r.fn.spectrum.processNativeColorInputs=function(){var J=r("input[type=color]");J.length&&!x()&&J.spectrum({preferredFormat:"hex6"})};var k=/^[\s,#]+/,V=/\s+$/,Z=0,$=Math,Y=$.round,U=$.min,Q=$.max,H=$.random,D=function(J,gt){if(J=J||"",gt=gt||{},J instanceof D)return J;if(!(this instanceof D))return new D(J,gt);var F=I(J);this._originalInput=J,this._r=F.r,this._g=F.g,this._b=F.b,this._a=F.a,this._roundA=Y(100*this._a)/100,this._format=gt.format||F.format,this._gradientType=gt.gradientType,this._r<1&&(this._r=Y(this._r)),this._g<1&&(this._g=Y(this._g)),this._b<1&&(this._b=Y(this._b)),this._ok=F.ok,this._tc_id=Z++};D.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var J=this.toRgb();return(J.r*299+J.g*587+J.b*114)/1e3},setAlpha:function(J){return this._a=et(J),this._roundA=Y(100*this._a)/100,this},toHsv:function(){var J=ot(this._r,this._g,this._b);return{h:J.h*360,s:J.s,v:J.v,a:this._a}},toHsvString:function(){var J=ot(this._r,this._g,this._b),gt=Y(J.h*360),F=Y(J.s*100),Lt=Y(J.v*100);return this._a==1?"hsv("+gt+", "+F+"%, "+Lt+"%)":"hsva("+gt+", "+F+"%, "+Lt+"%, "+this._roundA+")"},toHsl:function(){var J=tt(this._r,this._g,this._b);return{h:J.h*360,s:J.s,l:J.l,a:this._a}},toHslString:function(){var J=tt(this._r,this._g,this._b),gt=Y(J.h*360),F=Y(J.s*100),Lt=Y(J.l*100);return this._a==1?"hsl("+gt+", "+F+"%, "+Lt+"%)":"hsla("+gt+", "+F+"%, "+Lt+"%, "+this._roundA+")"},toHex:function(J){return pt(this._r,this._g,this._b,J)},toHexString:function(J){return"#"+this.toHex(J)},toHex8:function(){return Dt(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:Y(this._r),g:Y(this._g),b:Y(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Y(this._r)+", "+Y(this._g)+", "+Y(this._b)+")":"rgba("+Y(this._r)+", "+Y(this._g)+", "+Y(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Y(E(this._r,255)*100)+"%",g:Y(E(this._g,255)*100)+"%",b:Y(E(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Y(E(this._r,255)*100)+"%, "+Y(E(this._g,255)*100)+"%, "+Y(E(this._b,255)*100)+"%)":"rgba("+Y(E(this._r,255)*100)+"%, "+Y(E(this._g,255)*100)+"%, "+Y(E(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:kt[pt(this._r,this._g,this._b,!0)]||!1},toFilter:function(J){var gt="#"+Dt(this._r,this._g,this._b,this._a),F=gt,Lt=this._gradientType?"GradientType = 1, ":"";if(J){var bt=D(J);F=bt.toHex8String()}return"progid:DXImageTransform.Microsoft.gradient("+Lt+"startColorstr="+gt+",endColorstr="+F+")"},toString:function(J){var gt=!!J;J=J||this._format;var F=!1,Lt=this._a<1&&this._a>=0,bt=!gt&&Lt&&(J==="hex"||J==="hex6"||J==="hex3"||J==="name");return bt?J==="name"&&this._a===0?this.toName():this.toRgbString():(J==="rgb"&&(F=this.toRgbString()),J==="prgb"&&(F=this.toPercentageRgbString()),(J==="hex"||J==="hex6")&&(F=this.toHexString()),J==="hex3"&&(F=this.toHexString(!0)),J==="hex8"&&(F=this.toHex8String()),J==="name"&&(F=this.toName()),J==="hsl"&&(F=this.toHslString()),J==="hsv"&&(F=this.toHsvString()),F||this.toHexString())},_applyModification:function(J,gt){var F=J.apply(null,[this].concat([].slice.call(gt)));return this._r=F._r,this._g=F._g,this._b=F._b,this.setAlpha(F._a),this},lighten:function(){return this._applyModification(mt,arguments)},brighten:function(){return this._applyModification(Tt,arguments)},darken:function(){return this._applyModification($t,arguments)},desaturate:function(){return this._applyModification(_t,arguments)},saturate:function(){return this._applyModification(rt,arguments)},greyscale:function(){return this._applyModification(At,arguments)},spin:function(){return this._applyModification(zt,arguments)},_applyCombination:function(J,gt){return J.apply(null,[this].concat([].slice.call(gt)))},analogous:function(){return this._applyCombination(yt,arguments)},complement:function(){return this._applyCombination(It,arguments)},monochromatic:function(){return this._applyCombination(Wt,arguments)},splitcomplement:function(){return this._applyCombination(Jt,arguments)},triad:function(){return this._applyCombination(Zt,arguments)},tetrad:function(){return this._applyCombination(fe,arguments)}},D.fromRatio=function(J,gt){if(typeof J=="object"){var F={};for(var Lt in J)J.hasOwnProperty(Lt)&&(Lt==="a"?F[Lt]=J[Lt]:F[Lt]=ct(J[Lt]));J=F}return D(J,gt)};function I(J){var gt={r:0,g:0,b:0},F=1,Lt=!1,bt=!1;return typeof J=="string"&&(J=oe(J)),typeof J=="object"&&(J.hasOwnProperty("r")&&J.hasOwnProperty("g")&&J.hasOwnProperty("b")?(gt=T(J.r,J.g,J.b),Lt=!0,bt=String(J.r).substr(-1)==="%"?"prgb":"rgb"):J.hasOwnProperty("h")&&J.hasOwnProperty("s")&&J.hasOwnProperty("v")?(J.s=ct(J.s),J.v=ct(J.v),gt=dt(J.h,J.s,J.v),Lt=!0,bt="hsv"):J.hasOwnProperty("h")&&J.hasOwnProperty("s")&&J.hasOwnProperty("l")&&(J.s=ct(J.s),J.l=ct(J.l),gt=M(J.h,J.s,J.l),Lt=!0,bt="hsl"),J.hasOwnProperty("a")&&(F=J.a)),F=et(F),{ok:Lt,format:J.format||bt,r:U(255,Q(gt.r,0)),g:U(255,Q(gt.g,0)),b:U(255,Q(gt.b,0)),a:F}}function T(J,gt,F){return{r:E(J,255)*255,g:E(gt,255)*255,b:E(F,255)*255}}function tt(J,gt,F){J=E(J,255),gt=E(gt,255),F=E(F,255);var Lt=Q(J,gt,F),bt=U(J,gt,F),Ht,ce,ee=(Lt+bt)/2;if(Lt==bt)Ht=ce=0;else{var ne=Lt-bt;switch(ce=ee>.5?ne/(2-Lt-bt):ne/(Lt+bt),Lt){case J:Ht=(gt-F)/ne+(gt<F?6:0);break;case gt:Ht=(F-J)/ne+2;break;case F:Ht=(J-gt)/ne+4;break}Ht/=6}return{h:Ht,s:ce,l:ee}}function M(J,gt,F){var Lt,bt,Ht;J=E(J,360),gt=E(gt,100),F=E(F,100);function ce(ve,Oe,Re){return Re<0&&(Re+=1),Re>1&&(Re-=1),Re<1/6?ve+(Oe-ve)*6*Re:Re<1/2?Oe:Re<2/3?ve+(Oe-ve)*(2/3-Re)*6:ve}if(gt===0)Lt=bt=Ht=F;else{var ee=F<.5?F*(1+gt):F+gt-F*gt,ne=2*F-ee;Lt=ce(ne,ee,J+1/3),bt=ce(ne,ee,J),Ht=ce(ne,ee,J-1/3)}return{r:Lt*255,g:bt*255,b:Ht*255}}function ot(J,gt,F){J=E(J,255),gt=E(gt,255),F=E(F,255);var Lt=Q(J,gt,F),bt=U(J,gt,F),Ht,ce,ee=Lt,ne=Lt-bt;if(ce=Lt===0?0:ne/Lt,Lt==bt)Ht=0;else{switch(Lt){case J:Ht=(gt-F)/ne+(gt<F?6:0);break;case gt:Ht=(F-J)/ne+2;break;case F:Ht=(J-gt)/ne+4;break}Ht/=6}return{h:Ht,s:ce,v:ee}}function dt(J,gt,F){J=E(J,360)*6,gt=E(gt,100),F=E(F,100);var Lt=$.floor(J),bt=J-Lt,Ht=F*(1-gt),ce=F*(1-bt*gt),ee=F*(1-(1-bt)*gt),ne=Lt%6,ve=[F,ce,Ht,Ht,ee,F][ne],Oe=[ee,F,F,ce,Ht,Ht][ne],Re=[Ht,Ht,ee,F,F,ce][ne];return{r:ve*255,g:Oe*255,b:Re*255}}function pt(J,gt,F,Lt){var bt=[G(Y(J).toString(16)),G(Y(gt).toString(16)),G(Y(F).toString(16))];return Lt&&bt[0].charAt(0)==bt[0].charAt(1)&&bt[1].charAt(0)==bt[1].charAt(1)&&bt[2].charAt(0)==bt[2].charAt(1)?bt[0].charAt(0)+bt[1].charAt(0)+bt[2].charAt(0):bt.join("")}function Dt(J,gt,F,Lt){var bt=[G(st(Lt)),G(Y(J).toString(16)),G(Y(gt).toString(16)),G(Y(F).toString(16))];return bt.join("")}D.equals=function(J,gt){return!J||!gt?!1:D(J).toRgbString()==D(gt).toRgbString()},D.random=function(){return D.fromRatio({r:H(),g:H(),b:H()})};function _t(J,gt){gt=gt===0?0:gt||10;var F=D(J).toHsl();return F.s-=gt/100,F.s=L(F.s),D(F)}function rt(J,gt){gt=gt===0?0:gt||10;var F=D(J).toHsl();return F.s+=gt/100,F.s=L(F.s),D(F)}function At(J){return D(J).desaturate(100)}function mt(J,gt){gt=gt===0?0:gt||10;var F=D(J).toHsl();return F.l+=gt/100,F.l=L(F.l),D(F)}function Tt(J,gt){gt=gt===0?0:gt||10;var F=D(J).toRgb();return F.r=Q(0,U(255,F.r-Y(255*-(gt/100)))),F.g=Q(0,U(255,F.g-Y(255*-(gt/100)))),F.b=Q(0,U(255,F.b-Y(255*-(gt/100)))),D(F)}function $t(J,gt){gt=gt===0?0:gt||10;var F=D(J).toHsl();return F.l-=gt/100,F.l=L(F.l),D(F)}function zt(J,gt){var F=D(J).toHsl(),Lt=(Y(F.h)+gt)%360;return F.h=Lt<0?360+Lt:Lt,D(F)}function It(J){var gt=D(J).toHsl();return gt.h=(gt.h+180)%360,D(gt)}function Zt(J){var gt=D(J).toHsl(),F=gt.h;return[D(J),D({h:(F+120)%360,s:gt.s,l:gt.l}),D({h:(F+240)%360,s:gt.s,l:gt.l})]}function fe(J){var gt=D(J).toHsl(),F=gt.h;return[D(J),D({h:(F+90)%360,s:gt.s,l:gt.l}),D({h:(F+180)%360,s:gt.s,l:gt.l}),D({h:(F+270)%360,s:gt.s,l:gt.l})]}function Jt(J){var gt=D(J).toHsl(),F=gt.h;return[D(J),D({h:(F+72)%360,s:gt.s,l:gt.l}),D({h:(F+216)%360,s:gt.s,l:gt.l})]}function yt(J,gt,F){gt=gt||6,F=F||30;var Lt=D(J).toHsl(),bt=360/F,Ht=[D(J)];for(Lt.h=(Lt.h-(bt*gt>>1)+720)%360;--gt;)Lt.h=(Lt.h+bt)%360,Ht.push(D(Lt));return Ht}function Wt(J,gt){gt=gt||6;for(var F=D(J).toHsv(),Lt=F.h,bt=F.s,Ht=F.v,ce=[],ee=1/gt;gt--;)ce.push(D({h:Lt,s:bt,v:Ht})),Ht=(Ht+ee)%1;return ce}D.mix=function(J,gt,F){F=F===0?0:F||50;var Lt=D(J).toRgb(),bt=D(gt).toRgb(),Ht=F/100,ce=Ht*2-1,ee=bt.a-Lt.a,ne;ce*ee==-1?ne=ce:ne=(ce+ee)/(1+ce*ee),ne=(ne+1)/2;var ve=1-ne,Oe={r:bt.r*ne+Lt.r*ve,g:bt.g*ne+Lt.g*ve,b:bt.b*ne+Lt.b*ve,a:bt.a*Ht+Lt.a*(1-Ht)};return D(Oe)},D.readability=function(J,gt){var F=D(J),Lt=D(gt),bt=F.toRgb(),Ht=Lt.toRgb(),ce=F.getBrightness(),ee=Lt.getBrightness(),ne=Math.max(bt.r,Ht.r)-Math.min(bt.r,Ht.r)+Math.max(bt.g,Ht.g)-Math.min(bt.g,Ht.g)+Math.max(bt.b,Ht.b)-Math.min(bt.b,Ht.b);return{brightness:Math.abs(ce-ee),color:ne}},D.isReadable=function(J,gt){var F=D.readability(J,gt);return F.brightness>125&&F.color>500},D.mostReadable=function(J,gt){for(var F=null,Lt=0,bt=!1,Ht=0;Ht<gt.length;Ht++){var ce=D.readability(J,gt[Ht]),ee=ce.brightness>125&&ce.color>500,ne=3*(ce.brightness/125)+ce.color/500;(ee&&!bt||ee&&bt&&ne>Lt||!ee&&!bt&&ne>Lt)&&(bt=ee,Lt=ne,F=D(gt[Ht]))}return F};var R=D.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},kt=D.hexNames=wt(R);function wt(J){var gt={};for(var F in J)J.hasOwnProperty(F)&&(gt[J[F]]=F);return gt}function et(J){return J=parseFloat(J),(isNaN(J)||J<0||J>1)&&(J=1),J}function E(J,gt){it(J)&&(J="100%");var F=nt(J);return J=U(gt,Q(0,parseFloat(J))),F&&(J=parseInt(J*gt,10)/100),$.abs(J-gt)<1e-6?1:J%gt/parseFloat(gt)}function L(J){return U(1,Q(0,J))}function K(J){return parseInt(J,16)}function it(J){return typeof J=="string"&&J.indexOf(".")!=-1&&parseFloat(J)===1}function nt(J){return typeof J=="string"&&J.indexOf("%")!=-1}function G(J){return J.length==1?"0"+J:""+J}function ct(J){return J<=1&&(J=J*100+"%"),J}function st(J){return Math.round(parseFloat(J)*255).toString(16)}function jt(J){return K(J)/255}var ue=function(){var J="[-\\+]?\\d+%?",gt="[-\\+]?\\d*\\.\\d+%?",F="(?:"+gt+")|(?:"+J+")",Lt="[\\s|\\(]+("+F+")[,|\\s]+("+F+")[,|\\s]+("+F+")\\s*\\)?",bt="[\\s|\\(]+("+F+")[,|\\s]+("+F+")[,|\\s]+("+F+")[,|\\s]+("+F+")\\s*\\)?";return{rgb:new RegExp("rgb"+Lt),rgba:new RegExp("rgba"+bt),hsl:new RegExp("hsl"+Lt),hsla:new RegExp("hsla"+bt),hsv:new RegExp("hsv"+Lt),hsva:new RegExp("hsva"+bt),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function oe(J){J=J.replace(k,"").replace(V,"").toLowerCase();var gt=!1;if(R[J])J=R[J],gt=!0;else if(J=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var F;return(F=ue.rgb.exec(J))?{r:F[1],g:F[2],b:F[3]}:(F=ue.rgba.exec(J))?{r:F[1],g:F[2],b:F[3],a:F[4]}:(F=ue.hsl.exec(J))?{h:F[1],s:F[2],l:F[3]}:(F=ue.hsla.exec(J))?{h:F[1],s:F[2],l:F[3],a:F[4]}:(F=ue.hsv.exec(J))?{h:F[1],s:F[2],v:F[3]}:(F=ue.hsva.exec(J))?{h:F[1],s:F[2],v:F[3],a:F[4]}:(F=ue.hex8.exec(J))?{a:jt(F[1]),r:K(F[2]),g:K(F[3]),b:K(F[4]),format:gt?"name":"hex8"}:(F=ue.hex6.exec(J))?{r:K(F[1]),g:K(F[2]),b:K(F[3]),format:gt?"name":"hex"}:(F=ue.hex3.exec(J))?{r:K(F[1]+""+F[1]),g:K(F[2]+""+F[2]),b:K(F[3]+""+F[3]),format:gt?"name":"hex"}:!1}window.tinycolor=D,r(function(){r.fn.spectrum.load&&r.fn.spectrum.processNativeColorInputs()})}var iI=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),F2=function(r){iI(e,r);function e(t){t===void 0&&(t={});var n=r.call(this,t)||this,i=t.ppfx||"";return n.opts=t,n.ppfx=i,n.em=t.target||{},!t.onChange&&n.listenTo(n.model,"change:value",n.handleModelChange),n}return e.prototype.template=function(){return'<span class="'.concat(this.holderClass(),'"></span>')},e.prototype.inputClass=function(){return"".concat(this.ppfx,"field")},e.prototype.holderClass=function(){return"".concat(this.ppfx,"input-holder")},e.prototype.elementUpdated=function(){this.model.trigger("el:change")},e.prototype.setValue=function(t,n){var i=this.model,o=t||i.get("defaults"),a=this.getInputEl();a&&(a.value=o)},e.prototype.handleModelChange=function(t,n,i){this.setValue(n,i)},e.prototype.handleChange=function(t){t.stopPropagation();var n=this.getInputEl().value;this.__onInputChange(n),this.elementUpdated()},e.prototype.__onInputChange=function(t){this.model.set({value:t},{fromInput:1})},e.prototype.getInputEl=function(){if(!this.inputEl){var t=this,n=t.model,i=t.opts,o=i.type||"text",a=n.get("placeholder")||n.get("defaults")||n.get("default")||"";this.inputEl=(0,ur.default)('<input type="'.concat(o,'" placeholder="').concat(a,'">'))}return this.inputEl.get(0)},e.prototype.render=function(){this.inputEl=null;var t=this.$el;return t.addClass(this.inputClass()),t.html(this.template()),t.find(".".concat(this.holderClass())).append(this.getInputEl()),this},e}(te.Ss);const Uv=F2;F2.prototype.events={change:"handleChange"};var oI=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),zf=function(){return zf=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},zf.apply(this,arguments)};ur.default&&rI(ur.default);var Bh=function(r){var e=r.getFormat()==="name"&&r.toName(),t=r.getAlpha()==1?r.toHexString():r.toRgbString();return e||t.replace(/ /g,"")},aI=function(r){oI(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.template=function(){var t=this.ppfx;return`
      <div class="`.concat(this.holderClass(),`"></div>
      <div class="`).concat(t,`field-colorp">
        <div class="`).concat(t,`field-colorp-c" data-colorp-c>
          <div class="`).concat(t,`checker-bg"></div>
        </div>
      </div>
    `)},e.prototype.inputClass=function(){var t=this.ppfx;return"".concat(t,"field ").concat(t,"field-color")},e.prototype.holderClass=function(){return"".concat(this.ppfx,"input-holder")},e.prototype.remove=function(){return r.prototype.remove.call(this),this.colorEl.spectrum("destroy"),this},e.prototype.handleChange=function(t){t.stopPropagation();var n=t.target.value;(0,z.isUndefined)(n)||this.__onInputChange(n)},e.prototype.__onInputChange=function(t){var n=this,i=n.model,o=n.opts,a=o.onChange,l=t,u=this.getColorEl();if(u){u.spectrum("set",l);var c=u.spectrum("get"),d=l&&Bh(c);d&&(l=d)}a?a(l):i.set({value:l},{fromInput:1})},e.prototype.setValue=function(t,n){n===void 0&&(n={});var i=this.model,o=(0,z.isUndefined)(n.def)?i.get("defaults"):n.def,a=(0,z.isUndefined)(t)?(0,z.isUndefined)(o)?"":o:t,l=this.getInputEl(),u=this.getColorEl(),c=a!="none"?a:"";l.value=a,u.get(0).style.backgroundColor=c,(n.fromTarget||n.fromInput&&!n.avoidStore)&&(u.spectrum("set",c),this.noneColor=a=="none",this.movedColor=c)},e.prototype.getColorEl=function(){var t=this;if(!this.colorEl){var n=this,i=n.em,o=n.model,a=n.opts,l=this.ppfx,u=a.onChange,c=(0,ur.default)('<div class="'.concat(this.ppfx,'field-color-picker"></div>')),d=c.get(0).style,h=i&&i.getConfig&&i.getConfig().colorPicker||{};this.movedColor="";var g=!1,m;this.$el.find("[data-colorp-c]").append(c);var _=function(b,C){C===void 0&&(C=!0),u?u(b,!C):(C&&o.setValueFromInput(0,!1),o.setValueFromInput(b,C))};c.spectrum(zf(zf(zf({color:o.getValue()||!1,containerClassName:"".concat(l,"one-bg ").concat(l,"two-color ").concat(l,"editor-sp"),maxSelectionSize:8,showPalette:!0,showAlpha:!0,chooseText:"Ok",cancelText:"⨯",palette:[]},h),o.get("colorPicker")||{}),{move:function(b){var C=Bh(b);t.movedColor=C,d.backgroundColor=C,_(C,!1)},change:function(b){g=!0;var C=Bh(b);d.backgroundColor=C,_(C),t.noneColor=!1},show:function(b){g=!1,t.movedColor="",m=u?o.getValue({noDefault:!0}):Bh(b)},hide:function(){!g&&(m||u)&&(t.noneColor&&(m=""),d.backgroundColor=m,c.spectrum("set",m),_(m,!1))}})),i&&i.on&&this.listenTo(i,"component:selected",function(){t.movedColor&&_(t.movedColor),g=!0,t.movedColor="",c.spectrum("hide")}),this.colorEl=c}return this.colorEl},e.prototype.render=function(){return Uv.prototype.render.call(this),this.getColorEl(),this},e}(Uv);const W2=aI;var sI=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),lI=function(r){sI(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.templateInput=function(){return""},e.prototype.getInputEl=function(){if(!this.input){var t=this.model,n=this.getModelValue(),i=new W2({model:t,target:this.config.em,contClass:this.ppfx+"field-color",ppfx:this.ppfx}),o=i.render();o.setValue(n,{fromTarget:1}),this.input=o.el}return this.input},e}(xa);const uI=lI;var cI=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),q2=function(r){cI(e,r);function e(t){t===void 0&&(t={});var n=r.call(this,t)||this;return(0,z.bindAll)(n,"moveIncrement","upIncrement"),n.doc=document,n.listenTo(n.model,"change:unit",n.handleModelChange),n}return e.prototype.template=function(){var t=this.ppfx;return`
      <span class="`.concat(t,`input-holder"></span>
      <span class="`).concat(t,`field-units"></span>
      <div class="`).concat(t,`field-arrows" data-arrows>
        <div class="`).concat(t,`field-arrow-u" data-arrow-up></div>
        <div class="`).concat(t,`field-arrow-d" data-arrow-down></div>
      </div>
    `)},e.prototype.inputClass=function(){var t=this.ppfx;return this.opts.contClass||"".concat(t,"field ").concat(t,"field-integer")},e.prototype.setValue=function(t,n){var i=n||{},o=this.validateInputValue(t,{deepCheck:1}),a={value:o.value,unit:""};(o.unit||o.force)&&(a.unit=o.unit),this.model.set(a,i),i.silent&&this.handleModelChange()},e.prototype.handleChange=function(t){t.stopPropagation(),this.setValue(this.getInputEl().value),this.elementUpdated()},e.prototype.handleUnitChange=function(t){t.stopPropagation();var n=this.getUnitEl().value;this.model.set("unit",n),this.elementUpdated()},e.prototype.handleKeyDown=function(t){t.key==="ArrowUp"&&(t.preventDefault(),this.upArrowClick()),t.key==="ArrowDown"&&(t.preventDefault(),this.downArrowClick())},e.prototype.elementUpdated=function(){this.model.trigger("el:change")},e.prototype.handleModelChange=function(){var t=this.model;this.getInputEl().value=t.get("value");var n=this.getUnitEl();n&&(n.value=t.get("unit")||"")},e.prototype.getUnitEl=function(){if(!this.unitEl){var t=this.model,n=t.get("units")||[];if(n.length){var i=['<option value="" disabled hidden>-</option>'];n.forEach(function(a){var l=a==t.get("unit")?"selected":"";i.push("<option ".concat(l,">").concat(a,"</option>"))});var o=document.createElement("div");o.innerHTML='<select class="'.concat(this.ppfx,'input-unit">').concat(i.join(""),"</select>"),this.unitEl=o.firstChild}}return this.unitEl},e.prototype.upArrowClick=function(){var t=this.model,n=t.get("step"),i=parseFloat(this.getInputEl().value);this.setValue(this.normalizeValue(i+n)),this.elementUpdated()},e.prototype.downArrowClick=function(){var t=this.model,n=t.get("step"),i=parseFloat(this.getInputEl().value);this.setValue(this.normalizeValue(i-n)),this.elementUpdated()},e.prototype.downIncrement=function(t){t.preventDefault(),this.moved=!1;var n=this.model.get("value")||0;n=this.normalizeValue(n),this.current={y:t.pageY,val:n},(0,ae.on)(this.doc,"mousemove",this.moveIncrement),(0,ae.on)(this.doc,"mouseup",this.upIncrement)},e.prototype.moveIncrement=function(t){this.moved=!0;var n=this.model,i=n.get("step"),o=this.current,a=this.normalizeValue(o.val+(o.y-t.pageY)*i),l=this.validateInputValue(a),u=l.value,c=l.unit;return this.prValue=u,n.set({value:u,unit:c},{avoidStore:1}),!1},e.prototype.upIncrement=function(){var t=this.model,n=t.get("step");if((0,ae.AU)(this.doc,"mouseup",this.upIncrement),(0,ae.AU)(this.doc,"mousemove",this.moveIncrement),this.prValue&&this.moved){var i=this.prValue-n;t.set("value",i,{avoidStore:1}).set("value",i+n),this.elementUpdated()}},e.prototype.normalizeValue=function(t,n){n===void 0&&(n=0);var i=this.model,o=i.get("step"),a=0;if(isNaN(t))return n;if(t=parseFloat(t),Math.floor(t)!==t){var l=o.toString().split(".")[1];a=l?l.length:0}return a?parseFloat(t.toFixed(a)):t},e.prototype.validateInputValue=function(t,n){n===void 0&&(n={});var i=0,o=n||{},a=this.model,l="",u=(0,z.isUndefined)(t)?l:t,c=n.units||a.get("units")||[],d=a.get("unit")||c.length&&c[0]||"",h=(0,z.isUndefined)(n.max)?a.get("max"):n.max,g=(0,z.isUndefined)(n.min)?a.get("min"):n.min,m=!!a.get("limitlessMax"),_=!!a.get("limitlessMin");if(o.deepCheck){var b=a.get("fixedValues")||[];if(u===""&&(d=""),u){var C=new RegExp("^"+b.join("|"),"g");if(b.length&&C.test(u))u=u.match(C)[0],d="",i=1;else{var w=u+"";u+="",u=parseFloat(u.replace(",",".")),u=isNaN(u)?l:u;var x=w.replace(u,"");(0,z.indexOf)(c,x)>=0&&(d=x)}}}return!isNaN(u)&&u!==""&&(!m&&!(0,z.isUndefined)(h)&&h!==""&&(u=u>h?h:u),!_&&!(0,z.isUndefined)(g)&&g!==""&&(u=u<g?g:u)),{force:i,value:u,unit:d}},e.prototype.render=function(){Uv.prototype.render.call(this),this.unitEl=null;var t=this.getUnitEl();return t&&this.$el.find(".".concat(this.ppfx,"field-units")).get(0).appendChild(t),this},e}(Uv);const K2=q2;q2.prototype.events={"change input":"handleChange","change select":"handleUnitChange","click [data-arrow-up]":"upArrowClick","click [data-arrow-down]":"downArrowClick","mousedown [data-arrows]":"downIncrement",keydown:"handleKeyDown"};var fI=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),dI=function(r){fI(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getValueForTarget=function(){var t=this.model,n=t.attributes,i=n.value,o=n.unit;return!(0,z.isUndefined)(i)&&i!==""?i+o:t.get("default")},e.prototype.getInputEl=function(){if(!this.input){var t=this,n=t.ppfx,i=t.model,o=this.getModelValue(),a=new K2({contClass:"".concat(n,"field-int"),type:"number",model:i,ppfx:n});a.render(),this.$input=a.inputEl,this.$unit=a.unitEl,i.set("value",o,{fromTarget:!0}),this.$input.val(o),this.input=a.el}return this.input},e}(xa);const hI=dI;var pI=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),vI=function(r){pI(e,r);function e(t){t===void 0&&(t={});var n=r.call(this,t)||this;return n.listenTo(n.model,"change:options",n.rerender),n}return e.prototype.templateInput=function(){var t=this,n=t.ppfx,i=t.clsField;return'<div class="'.concat(i,`">
      <div data-input></div>
      <div class="`).concat(n,`sel-arrow">
        <div class="`).concat(n,`d-s-arrow"></div>
      </div>
    </div>`)},e.prototype.getInputEl=function(){if(!this.$input){var t=this,n=t.model,i=t.em,o=n.get("name"),a=n.get("options")||[],l=[],u="<select>";a.forEach(function(h){var g="",m,_,b;(0,z.isString)(h)?(m=h,_=h):(m=h.name||h.label||h.value,_="".concat((0,z.isUndefined)(h.value)?h.id:h.value).replace(/"/g,"&quot;"),b=h.style?h.style.replace(/"/g,"&quot;"):"",g+=b?' style="'.concat(b,'"'):"");var C=i.t("traitManager.traits.options.".concat(o,".").concat(_))||m;u+='<option value="'.concat(_,'"').concat(g,">").concat(C,"</option>"),l.push(_)}),u+="</select>",this.$input=(0,ur.default)(u);var c=n.getTargetValue(),d=l.indexOf(c)>=0?c:n.get("default");!(0,z.isUndefined)(d)&&this.$input.val(d)}return this.$input.get(0)},e}(xa);const gI=vI;var mI=We(8242),yI=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),g1="data-categories",m1="data-no-categories",G2=function(r){yI(e,r);function e(t,n){var i=r.call(this,t)||this;i.reuseView=!0,i.renderedCategories=new Map,i.itemsView=n;var o=t.config||{};i.config=o;var a=t.editor;i.em=a;var l=o.pStylePrefix||"";return i.ppfx=l,i.pfx=l+o.stylePrefix||"",i.className="".concat(i.pfx,"traits"),i.traitContClass="".concat(l,"traits-c"),i.classNoCat="".concat(l,"traits-empty-c"),i.catsClass="".concat(l,"trait-categories"),i.collection=new cv([],{em:a}),i.listenTo(a,"component:toggled",i.updatedCollection),i.updatedCollection(),i}return e.prototype.updatedCollection=function(){var t=this,n=t.ppfx,i=t.em,o=i.getSelected();this.el.className="".concat(this.traitContClass,"s ").concat(n,"one-bg ").concat(n,"two-color"),this.collection=(o==null?void 0:o.traits)||new cv([],{em:i}),this.render()},e.prototype.add=function(t,n){var i=this,o=i.config,a=i.renderedCategories,l=this.itemView,u=t.get(this.itemType);this.itemsView&&this.itemsView[u]&&(l=this.itemsView[u]);var c=new l({config:o,model:t,attributes:t.get("attributes")}),d=c.render().el,h=t.parent.initCategory(t);if(h){var g=h.getId(),m=this.getCategoriesEl(),_=a.get(g);!_&&m&&(_=new A2({model:h},o,"trait").render(),a.set(g,_),m.appendChild(_.el)),_==null||_.append(d);return}n?n.appendChild(d):this.append(d)},e.prototype.getCategoriesEl=function(){return this.catsEl||(this.catsEl=this.el.querySelector("[".concat(g1,"]"))),this.catsEl},e.prototype.getTraitsEl=function(){return this.traitsEl||(this.traitsEl=this.el.querySelector("[".concat(m1,"]"))),this.traitsEl},e.prototype.append=function(t){var n=this.getTraitsEl();n==null||n.appendChild(t)},e.prototype.render=function(){var t=this,n=this,i=n.el,o=n.ppfx,a=n.catsClass,l=n.traitContClass,u=n.classNoCat,c=document.createDocumentFragment();delete this.catsEl,delete this.traitsEl,this.renderedCategories=new Map,i.innerHTML=`
      <div class="`.concat(a,'" ').concat(g1,`></div>
      <div class="`).concat(u," ").concat(l,'" ').concat(m1,`></div>
    `),this.collection.forEach(function(h){return t.add(h,c)}),this.append(c);var d="".concat(l,"s ").concat(o,"one-bg ").concat(o,"two-color");return this.$el.addClass(d),this.rendered=!0,this},e}(mI.A);const y1=G2;G2.prototype.itemView=xa;var _I=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),bI=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))},wI=function(r){_I(e,r);function e(t){var n=r.call(this,t,"TraitManager",ZU())||this;n.TraitsView=y1,n.events=sv,n.state=new te.Kx({traits:[]}),n.types={text:xa,number:hI,select:gI,checkbox:nI,color:uI,button:QU};var i=n,o=i.state,a=i.config,l=i.events,u=a.pStylePrefix;u&&(a.stylePrefix="".concat(u).concat(a.stylePrefix)),(0,z.bindAll)(n,"__onSelect");var c=(0,z.debounce)(function(){return n.__upSel()},0),d=(0,z.debounce)(function(){return n.__onUp()},0);return o.listenTo(t,"component:toggled",c),o.listenTo(t,l.value,d),o.on("change:traits",n.__onSelect),n.debounced=[c,d],n}return e.prototype.select=function(t){var n=(t==null?void 0:t.getTraits())||[];this.state.set({component:t,traits:n}),this.__trgCustom()},e.prototype.getCategories=function(){var t,n=this.getComponent(),i=((t=n==null?void 0:n.traits.categories)===null||t===void 0?void 0:t.models)||[];return bI([],i,!0)},e.prototype.getTraits=function(){return this.getCurrent()},e.prototype.getTraitsByCategory=function(t){return u2(t||this.getTraits())},e.prototype.getComponent=function(){return this.state.attributes.component},e.prototype.addType=function(t,n){var i=this.getType("text");this.types[t]=i.extend(n)},e.prototype.getType=function(t){return this.getTypes()[t]},e.prototype.getTypes=function(){return this.types},e.prototype.getTraitsViewer=function(){return this.view},e.prototype.getCurrent=function(){return this.state.get("traits")||[]},e.prototype.render=function(){var t=this.view,n=this.em;return t=new y1({el:t==null?void 0:t.el,collection:[],editor:n,config:this.getConfig()},this.getTypes()),this.view=t,t.el},e.prototype.postRender=function(){this.__appendTo()},e.prototype.__onSelect=function(){var t=this,n=t.em,i=t.events,o=t.state,a=o.attributes,l=a.component,u=a.traits;n.trigger(i.select,{component:l,traits:u})},e.prototype.__trgCustom=function(t){t===void 0&&(t={});var n=this,i=n.em,o=n.events,a=n.__ctn;this.__ctn=a||t.container,i.trigger(o.custom,this.__customData())},e.prototype.__customData=function(){return{container:this.__ctn}},e.prototype.__upSel=function(){this.select(this.em.getSelected())},e.prototype.__onUp=function(){this.select(this.getComponent())},e}(_i);const SI=wI;var CI=function(){return{stylePrefix:"",appendTo:"",sortable:!0,hidable:!0,hideTextnode:!0,root:"",showWrapper:!0,showHover:!0,scrollCanvas:{behavior:"smooth",block:"nearest"},scrollLayers:{behavior:"auto",block:"nearest"},highlightHover:!0,custom:!1,onInit:function(){},onRender:function(){},extend:{}}};const xI=CI;var OI=We(6756),EI=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),TI=function(r){EI(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t._dropAreaConfig={ratio:.4,minUndroppableDimension:3,maxUndroppableDimension:20},t}return Object.defineProperty(e.prototype,"view",{get:function(){return this.model.viewLayer},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"element",{get:function(){var t;return(t=this.model.viewLayer)===null||t===void 0?void 0:t.el},enumerable:!1,configurable:!0}),e}(OI.h);const AI=TI;var kI=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),DI=function(r){kI(e,r);function e(t){t===void 0&&(t={});var n=r.call(this,t)||this;n.items=[],n.opt=t;var i=t.config||{};n.config=i,n.module=t.module,n.parentView=t.parentView;var o=i.stylePrefix||"";i.pStylePrefix;var a=n.collection;n.listenTo(a,"add",n.addTo),n.listenTo(a,"reset resetNavigator",n.render),n.listenTo(a,"remove",n.removeChildren),n.className="".concat(o,"layers");var l=i.em;if(i.sortable&&!n.opt.sorter){var u=l.Utils,c=i.sortContainer||n.el,d=n.createPlaceholder(o);n.opt.sorter=new u.ComponentSorter({em:l,treeClass:AI,containerContext:{container:c,containerSel:".".concat(n.className),itemSel:".".concat(o,"layer"),pfx:i.pStylePrefix,document,placeholderElement:d},dragBehavior:{dragDirection:gl.A.Vertical,nested:!0}})}return n.$el.data("collection",a),t.parent&&n.$el.data("model",t.parent),n}return e.prototype.createPlaceholder=function(t){var n=document.createElement("div"),i=document.createElement("div");return this.el.parentNode,n.className=t+"placeholder",n.style.display="none",n.style.pointerEvents="none",i.className=t+"placeholder-int",n.appendChild(i),n},e.prototype.removeChildren=function(t){var n=t.viewLayer;n&&(n.remove(),delete t.viewLayer)},e.prototype.addTo=function(t){this.addToCollection(t,null,this.collection.indexOf(t))},e.prototype.addToCollection=function(t,n,i){var o=this,a=o.parentView,l=o.opt,u=o.config,c=o.el,d=l.ItemView,h=l.opened,g=l.module,m=l.level,_=l.sorter,b=t.viewLayer||new d({ItemView:d,level:m,model:t,parentView:a,config:u,sorter:_,opened:h,module:g}),C=b.render().el;if(n)n.appendChild(C);else{var w=c,x=w.childNodes;if((0,z.isUndefined)(i))w.appendChild(C);else{var O=x.length==i;O&&i--,O||!x.length?w.appendChild(C):w.insertBefore(C,x[i])}}return this.items.push(b),C},e.prototype.remove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return te.Ss.prototype.remove.apply(this,t),this.items.map(function(i){return i.remove()}),this},e.prototype.render=function(){var t=this,n=this,i=n.el,o=n.module,a=document.createDocumentFragment();return i.innerHTML="",this.collection.map(function(l){return o.__getLayerFromComponent(l)}).forEach(function(l){return t.addToCollection(l,a)}),i.appendChild(a),i.className=this.className,this},e}(te.Ss);const PI=DI;var Dy=We(9946),MI=function(){return{stylePrefix:"com-",defaults:{},strict:!0,defaultOptions:{}}};const RI=MI;var LI=We(1738),NI=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Iv=function(){return Iv=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Iv.apply(this,arguments)},_1=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))},b1=[["preview","Preview","preview"],["resize","Resize","resize"],["fullscreen","Fullscreen","fullscreen"],["copy","CopyComponent"],["paste","PasteComponent"],["canvas-move","CanvasMove"],["canvas-clear","CanvasClear"],["open-code","ExportTemplate","export-template"],["open-layers","OpenLayers","open-layers"],["open-styles","OpenStyleManager","open-sm"],["open-traits","OpenTraitManager","open-tm"],["open-blocks","OpenBlocks","open-blocks"],["open-assets","OpenAssets","open-assets"],["component-select","SelectComponent","select-comp"],["component-outline","SwitchVisibility","sw-visibility"],["component-offset","ShowOffset","show-offset"],["component-move","MoveComponent","move-comp"],["component-next","ComponentNext"],["component-prev","ComponentPrev"],["component-enter","ComponentEnter"],["component-exit","ComponentExit","select-parent"],["component-delete","ComponentDelete"],["component-style-clear","ComponentStyleClear"],["component-drag","ComponentDrag"]],Y2={preserveSelected:1},X2=function(r){return function(e){return r.trigger("".concat(Xb,":start"),e)}},Z2=function(r){return function(e){return r.trigger(Xb,e)}},$2=function(r,e,t){return t===void 0&&(t={}),function(n,i,o){setTimeout(function(){e.forEach(function(a){return a.set("status",a.get("selectable")?"selected":"")}),r.setSelected(e),e[0].emitUpdate()}),r.trigger("".concat(Xb,":end"),o),setTimeout(function(){return r.runDefault(Y2)}),(t.altMode||o.cancelled)&&r.set("_cmpDrag",1)}},jI=function(r){NI(e,r);function e(t){var n=r.call(this,t,"Commands",RI())||this;n.CommandAbstract=Dy.default,n.defaultCommands={},n.commands={},n.active={},n.events=LI.A;var i=n.config,o=i.pStylePrefix,a=n.defaultCommands;o&&(i.stylePrefix=o+i.stylePrefix),Object.keys(i.defaults).forEach(function(u){var c=i.defaults[u];c.id&&n.add(c.id,c)}),a["tlb-delete"]={run:function(u){return u.runCommand("core:component-delete")}},a["tlb-clone"]={run:function(u){u.runCommand("core:copy"),u.runCommand("core:paste",{action:"clone-component"})}},a["tlb-move"]={run:function(u,c,d){var h,g;d===void 0&&(d={});var m=u.getModel(),_=d.event,b=d.target,C=Array.isArray(b)?b:b?[b]:_1([],u.getSelectedAll(),!0),w=C.map(function(D){var I,T;return((T=(I=D.delegate)===null||I===void 0?void 0:I.move)===null||T===void 0?void 0:T.call(I,D))||D}).filter(Boolean),x=w[w.length-1],O=(_==null?void 0:_.type)==="dragstart",k=["absolute","translate"];if(!(x!=null&&x.get("draggable")))return m.logWarning("The element is not draggable");var V=x.get("dmode")||m.get("dmode"),Z=function(){return m.stopDefault(Y2)},$=(0,z.includes)(k,V);w.forEach(function(D){return D.trigger("disable",{fromMove:!0})}),O?setTimeout(Z,0):Z();var Y=X2(m),U=Z2(m),Q=$2(m,w,{altMode:$});if($)u.runCommand("core:component-drag",{guidesInfo:1,mode:V,target:x,onStart:Y,onDrag:U,onEnd:Q,event:_});else{O&&((h=_==null?void 0:_.dataTransfer)===null||h===void 0||h.setDragImage((g=x.view)===null||g===void 0?void 0:g.el,0,0));var H=u.Commands.get("move-comp");H.onStart=Y,H.onDrag=U,H.onEndMoveFromModel=Q,H.initSorterFromModels(w)}w.filter(function(D){return D.get("selectable")}).forEach(function(D){return D.set("status","freezed-selected")})}},a["core:undo"]=function(u){return u.UndoManager.undo()},a["core:redo"]=function(u){return u.UndoManager.redo()},b1.forEach(function(u){var c=u[2],d=We(585)("./".concat(u[1])).default,h="core:".concat(u[0]);a[h]=d,c&&(a[c]=d,["run","stop"].forEach(function(g){t.on("".concat(g,":").concat(c),function(){for(var m=[],_=0;_<arguments.length;_++)m[_]=arguments[_];return t.trigger.apply(t,_1(["".concat(g,":").concat(h)],m,!1))})}))}),i.model=t.Canvas;for(var l in a)n.add(l,a[l]);return n}return e.prototype.add=function(t,n){var i=(0,z.isFunction)(n)?{run:n}:n;return i.stop||(i.noStop=!0),delete i.initialize,i.id=t,this.commands[t]=Dy.default.extend(i),this},e.prototype.get=function(t){var n=this.commands[t];return(0,z.isFunction)(n)?(n=new n(this.config),this.commands[t]=n):n||this.em.logWarning("'".concat(t,"' command not found")),n},e.prototype.extend=function(t,n){n===void 0&&(n={});var i=this.get(t);if(i){var o=Iv(Iv({},i.constructor.prototype),n);this.add(t,o);var a=b1.filter(function(l){return"core:".concat(l[0])===t&&l[2]})[0];a&&this.add(a[2],o)}return this},e.prototype.has=function(t){return!!this.commands[t]},e.prototype.getAll=function(){return this.commands},e.prototype.run=function(t,n){return n===void 0&&(n={}),this.runCommand(this.get(t),n)},e.prototype.stop=function(t,n){return n===void 0&&(n={}),this.stopCommand(this.get(t),n)},e.prototype.isActive=function(t){return this.getActive().hasOwnProperty(t)},e.prototype.getActive=function(){return this.active},e.prototype.runCommand=function(t,n){var i,o;n===void 0&&(n={});var a;if(t!=null&&t.run){var l=this,u=l.em,c=l.config,d=t.id,h=u.Editor;if(!this.isActive(d)||n.force||!c.strict){var g=(o=(i=c.defaultOptions)===null||i===void 0?void 0:i[d])===null||o===void 0?void 0:o.run;(0,z.isFunction)(g)&&(n=g(n)),a=h&&t.callRun(h,n)}}return a},e.prototype.stopCommand=function(t,n){var i,o;n===void 0&&(n={});var a;if(t!=null&&t.run){var l=this,u=l.em,c=l.config,d=t.id,h=u.Editor;if(this.isActive(d)||n.force||!c.strict){var g=(o=(i=c.defaultOptions)===null||i===void 0?void 0:i[d])===null||o===void 0?void 0:o.stop;(0,z.isFunction)(g)&&(n=g(n)),a=t.callStop(h,n)}}return a},e.prototype.create=function(t){t.stop||(t.noStop=!0);var n=Dy.default.extend(t);return new n(this.config)},e.prototype.__onRun=function(t,n){var i=this,o=i.em,a=i.events;o.on("".concat(a.runCommand).concat(t),n)},e.prototype.__onStop=function(t,n){var i=this,o=i.em,a=i.events;o.on("".concat(a.stopCommand).concat(t),n)},e.prototype.destroy=function(){this.defaultCommands={},this.commands={},this.active={}},e}(_i);const VI=jI;var BI=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),h_=function(){return h_=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},h_.apply(this,arguments)},w1="contentEditable",Uh="data-toggle-move",UI=function(r){BI(e,r);function e(t){var n=r.call(this,t)||this;(0,z.bindAll)(n,"__render"),n.opt=t,n.module=t.module,n.config=t.config||{},n.sorter=t.sorter||"",n.parentView=t.parentView;var i=n,o=i.model,a=i.pfx,l=i.ppfx,u=o.get("type")||"default";return n.className="".concat(a,"layer ").concat(a,"layer__t-").concat(u," no-select ").concat(l,"two-color"),n.inputNameCls="".concat(l,"layer-name"),n.clsTitleC="".concat(a,"layer-title-c"),n.clsTitle="".concat(a,"layer-title"),n.clsCaret="".concat(a,"layer-caret"),n.clsCount="".concat(a,"layer-count"),n.clsMove="".concat(a,"layer-move"),n.clsChildren="".concat(a,"layer-children"),n.clsNoChild="".concat(a,"layer-no-chld"),n.clsEdit="".concat(n.inputNameCls,"--edit"),n.clsNoEdit="".concat(n.inputNameCls,"--no-edit"),n.initComponent(),n}return e.prototype.events=function(){var t;return t={},t["mousedown [".concat(Uh,"]")]="startSort",t["touchstart [".concat(Uh,"]")]="startSort",t["click [data-toggle-visible]"]="toggleVisibility",t["click [data-toggle-open]"]="toggleOpening",t["click [data-toggle-select]"]="handleSelect",t["mouseover [data-toggle-select]"]="handleHover",t["mouseout [data-toggle-select]"]="handleHoverOut",t["dblclick [data-name]"]="handleEdit",t["keydown [data-name]"]="handleEditKey",t["focusout [data-name]"]="handleEditEnd",t},e.prototype.template=function(t){var n=this,i=n.pfx,o=n.ppfx,a=n.config,l=n.clsNoEdit,u=n.module,c=n.opt,d=n.em,h=a.hidable,g=u.getComponents(t).length,m=g?"":this.clsNoChild,_="".concat(this.clsTitle," ").concat(m),b="".concat(this.clsTitleC),C="".concat(this.inputNameCls," ").concat(l," ").concat(o,"no-app"),w=c.level||0,x="".concat(w*10,"px"),O=t.getName(),k=t.getIcon(),V="".concat(i,"layer"),Z=(d==null?void 0:d.getConfig()).icons,$=Z,Y=$.move,U=$.eye,Q=$.eyeOff,H=$.chevron;return`
      <div class="`.concat(i,"layer-item ").concat(o,`one-bg" data-toggle-select>
        <div class="`).concat(i,`layer-item-left">
          `).concat(h?'<i class="'.concat(i,`layer-vis" data-toggle-visible>
                <i class="`).concat(i,'layer-vis-on">').concat(U,`</i>
                <i class="`).concat(i,'layer-vis-off">').concat(Q,`</i>
              </i>`):"",`
          <div class="`).concat(b,`">
            <div class="`).concat(_,'" style="padding-left: ').concat(x,`">
              <div class="`).concat(i,'layer-title-inn" title="').concat(O,`">
                <i class="`).concat(this.clsCaret,'" data-toggle-open>').concat(H,`</i>
                  `).concat(k?'<span class="'.concat(V,'__icon">').concat(k,"</span>"):"",`
                <span class="`).concat(C,'" data-name>').concat(O,`</span>
              </div>
            </div>
          </div>
        </div>
        <div class="`).concat(i,`layer-item-right">
          <div class="`).concat(this.clsCount,'" data-count>').concat(g||"",`</div>
          <div class="`).concat(this.clsMove,'" ').concat(Uh,">").concat(Y||"",`</div>
        </div>
      </div>
      <div class="`).concat(this.clsChildren,`"></div>
    `)},Object.defineProperty(e.prototype,"em",{get:function(){return this.module.em},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ppfx",{get:function(){return this.em.getConfig().stylePrefix},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pfx",{get:function(){return this.config.stylePrefix},enumerable:!1,configurable:!0}),e.prototype.initComponent=function(){var t=this,n=this,i=n.model,o=n.config,a=o.onInit,l=i.components();this.listenTo(l,"remove add reset",this.checkChildren),[["change:status",this.updateStatus],["change:open",this.updateOpening],["change:layerable",this.updateLayerable],["change:style:display",this.updateVisibility],["change:draggable",this.updateMove],["rerender:layer",this.render],["change:name change:custom-name",this.updateName]].forEach(function(u){return t.listenTo(i,u[0],u[1])}),this.$el.data("model",i),this.$el.data("collection",l),i.viewLayer=this,a.bind(this)({component:i,render:this.__render,listenTo:this.listenTo})},e.prototype.updateName=function(){this.getInputName().innerText=this.model.getName()},e.prototype.getVisibilityEl=function(){return this.getItemContainer().find("[data-toggle-visible]")},e.prototype.updateVisibility=function(){var t=this,n=t.pfx,i=t.model,o=t.module,a="".concat(n,"layer-hidden"),l=!o.isVisible(i),u=l?"addClass":"removeClass";this.$el[u](a),this.getVisibilityEl()[u]("".concat(n,"layer-off"))},e.prototype.updateMove=function(){var t=this,n=t.model,i=t.config,o=this.getItemContainer().find("[".concat(Uh,"]"))[0];if(o){var a=n.get("draggable")&&i.sortable;o.style.display=a?"":"none"}},e.prototype.toggleVisibility=function(t){t==null||t.stopImmediatePropagation();var n=this,i=n.module,o=n.model;i.setVisible(o,!i.isVisible(o))},e.prototype.handleEdit=function(t){t==null||t.stopPropagation();var n=this,i=n.em,o=n.$el,a=n.clsNoEdit,l=n.clsEdit,u=this.getInputName();u[w1]="true",u.focus(),document.execCommand("selectAll",!1),i.setEditing(!0),o.find(".".concat(this.inputNameCls)).removeClass(a).addClass(l)},e.prototype.handleEditKey=function(t){t.stopPropagation(),((0,ae.v$)(t)||(0,ae.Ci)(t))&&this.handleEditEnd(t)},e.prototype.handleEditEnd=function(t){t==null||t.stopPropagation();var n=this,i=n.em,o=n.$el,a=n.clsNoEdit,l=n.clsEdit,u=n.model,c=this.getInputName(),d=c.textContent;c.scrollLeft=0,c[w1]="false",u.setName(d),i.setEditing(!1),o.find(".".concat(this.inputNameCls)).addClass(a).removeClass(l),this.updateName()},e.prototype.getInputName=function(){return this.inputName||(this.inputName=this.el.querySelector(".".concat(this.inputNameCls))),this.inputName},e.prototype.updateOpening=function(){var t=this,n=t.$el,i=t.model,o=t.pfx,a="open",l="".concat(o,"layer-open"),u=this.getCaret();this.module.isOpen(i)?(n.addClass(a),u.addClass(l)):(n.removeClass(a),u.removeClass(l))},e.prototype.toggleOpening=function(t){var n=this,i=n.model,o=n.module;t==null||t.stopImmediatePropagation(),i.get("components").length&&o.setOpen(i,!o.isOpen(i))},e.prototype.handleSelect=function(t){t==null||t.stopPropagation();var n=this,i=n.module,o=n.model;i.setLayerData(o,{selected:!0},{event:t})},e.prototype.handleHover=function(t){t==null||t.stopPropagation();var n=this,i=n.module,o=n.model;i.setLayerData(o,{hovered:!0})},e.prototype.handleHoverOut=function(t){t==null||t.stopPropagation();var n=this,i=n.module,o=n.model;i.setLayerData(o,{hovered:!1})},e.prototype.startSort=function(t){var n,i,o;t.stopPropagation();var a=this,l=a.em,u=a.sorter,c=a.model;if(!(t.button&&t.button!==0)&&u){var d=((i=(n=c.delegate)===null||n===void 0?void 0:n.move)===null||i===void 0?void 0:i.call(n,c))||c;u.eventHandlers=h_({legacyOnStartSort:X2(l),legacyOnMoveClb:Z2(l),legacyOnEndMove:$2(l,[d])},u.eventHandlers);var h=((o=d.viewLayer)===null||o===void 0?void 0:o.el)||t.target;u.startSort([{element:h}])}},e.prototype.updateStatus=function(){dn.prototype.updateStatus.apply(this,[{avoidHover:!this.config.highlightHover,noExtHl:!0}])},e.prototype.getItemContainer=function(){return this.$el.children("[data-toggle-select]")},e.prototype.checkChildren=function(){var t=this,n=t.model,i=t.clsNoChild,o=t.module,a=o.getComponents(n).length,l=this.getItemContainer(),u=l.find(".".concat(this.clsTitle)),c=l.find("[data-count]");u[a?"removeClass":"addClass"](i),c.html("".concat(a||"")),!a&&o.setOpen(n,!1)},e.prototype.getCaret=function(){return(!this.caret||!this.caret.length)&&(this.caret=this.getItemContainer().find(".".concat(this.clsCaret))),this.caret},e.prototype.setRoot=function(t){var n,i=(0,z.isString)(t)?(n=this.em.getWrapper())===null||n===void 0?void 0:n.find(t)[0]:t;i&&(this.stopListening(),this.model=i,this.initComponent(),this._rendered&&this.render())},e.prototype.updateLayerable=function(){var t=this.parentView,n=t||this;n.render()},e.prototype.__clearItems=function(){var t;(t=this.items)===null||t===void 0||t.remove()},e.prototype.remove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return te.Ss.prototype.remove.apply(this,t),delete this.model.viewLayer,this.__clearItems(),this},e.prototype.render=function(){var t=this,n=t.model,i=t.config,o=t.pfx,a=t.ppfx,l=t.opt,u=t.sorter;this.__clearItems();var c=l.opened,d=l.module,h=l.ItemView,g=!d.__isLayerable(n),m=this.$el.empty(),_=l.level+1;delete this.inputName,this.items=new PI({ItemView:h,collection:n.get("components"),config:i,sorter:u,opened:c,parentView:this,parent:n,level:_,module:d});var b=this.items.render().$el;return!i.showWrapper&&_===1?m.append(b):(m.html(this.template(n)),m.find(".".concat(this.clsChildren)).append(b)),!d.isVisible(n)&&(this.className+=" ".concat(o,"hide")),g&&(this.className+=" ".concat(a,"hidden")),m.attr("class",this.className),this.updateStatus(),this.updateOpening(),this.updateVisibility(),this.updateMove(),this.__render(),this._rendered=!0,this},e.prototype.__render=function(){var t=this,n=t.model,i=t.config,o=t.el,a=i.onRender,l={component:n,el:o};a.bind(this)(l),this.em.trigger("layer:render",l)},e}(te.Ss);const II=UI;var zI=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),p_=function(){return p_=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},p_.apply(this,arguments)},J2="layer",ew="".concat(J2,":"),Q2="".concat(ew,"root"),tk="".concat(ew,"component"),HI="".concat(ew,"custom"),FI={all:J2,root:Q2,component:tk,custom:HI},Py={mediaText:""},WI=["open","status","locked","custom-name","components","classes"].map(function(r){return"".concat(hn.I.update,":").concat(r)}).join(" "),qI=function(r){return r===void 0&&(r={}),(r.display||"").trim().indexOf("none")===0},KI=function(r){zI(e,r);function e(t){var n=r.call(this,t,"LayerManager",xI())||this;return n.events=FI,(0,z.bindAll)(n,"componentChanged","__onRootChange","__onComponent"),n.model=new xs.A(n,{opened:{}}),n.config.stylePrefix=n.config.pStylePrefix,n}return e.prototype.onLoad=function(){var t=this,n=this,i=n.em,o=n.config,a=n.model;a.listenTo(i,"component:selected",this.componentChanged),a.on("change:root",this.__onRootChange),a.listenTo(i,WI,this.__onComponent),this.componentChanged(),a.listenToOnce(i,"load",function(){t.setRoot(o.root),t.__appendTo()})},e.prototype.setRoot=function(t){var n=this.em.getWrapper(),i=(0,Vt.isComponent)(t)?t:n;t&&(0,z.isString)(t)&&(0,Vt.hasWin)()&&(i=n.find(t)[0]||n);var o=this.__getLayerFromComponent(i);return this.model.set("root",o),o},e.prototype.getRoot=function(){return this.model.get("root")},e.prototype.getComponents=function(t){var n=this;return t.components().map(function(i){return n.__getLayerFromComponent(i)}).filter(function(i){return n.__isLayerable(i)})},e.prototype.setOpen=function(t,n){t.set("open",n)},e.prototype.isOpen=function(t){return!!t.get("open")},e.prototype.setVisible=function(t,n){var i="__prev-display",o=t.getStyle(Py),a=o.display;if(n){var l=t.get(i);delete o.display,l&&(o.display=l,t.unset(i))}else a&&t.set(i,a),o.display="none";t.setStyle(o,Py),this.updateLayer(t),this.em.trigger("component:toggled")},e.prototype.isVisible=function(t){return!qI(t.getStyle(Py))},e.prototype.setLocked=function(t,n){t.set("locked",n)},e.prototype.isLocked=function(t){return!!t.get("locked")},e.prototype.setName=function(t,n){t.set("custom-name",n)},e.prototype.getName=function(t){return t.getName()},e.prototype.getLayerData=function(t){var n=t.get("status");return{name:t.getName(),open:this.isOpen(t),selected:n==="selected",hovered:n==="hovered",visible:this.isVisible(t),locked:this.isLocked(t),components:this.getComponents(t)}},e.prototype.setLayerData=function(t,n,i){var o;i===void 0&&(i={});var a=this,l=a.em,u=a.config,c=n.open,d=n.selected,h=n.hovered,g=n.visible,m=n.locked,_=n.name,b=p_({fromLayers:!0},i);if((0,Vt.isDef)(c)&&this.setOpen(t,c),(0,Vt.isDef)(d))if(d){l.setSelected(t,b);var C=u.scrollCanvas;C&&((o=t.views)===null||o===void 0||o.forEach(function(w){return w.scrollIntoView(C)}))}else l.removeSelected(t,b);(0,Vt.isDef)(h)&&u.showHover&&(h?l.setHovered(t,b):l.setHovered(null,b)),(0,Vt.isDef)(g)&&g!==this.isVisible(t)&&this.setVisible(t,g),(0,Vt.isDef)(m)&&this.setLocked(t,m),(0,Vt.isDef)(_)&&this.setName(t,_)},e.prototype.componentChanged=function(t,n){var i;if(n===void 0&&(n={}),!n.fromLayers){var o=this,a=o.em,l=o.config,u=l.scrollLayers,c=this.model.get("opened"),d=a.getSelected(),h=d==null?void 0:d.parent();for(var g in c)c[g].set("open",!1),delete c[g];for(;h;)h.set("open",!0),c[h.cid]=h,h=h.parent();if(d&&u){var m=(i=d.viewLayer)===null||i===void 0?void 0:i.el;m==null||m.scrollIntoView(u)}}},e.prototype.getAll=function(){return this.view},e.prototype.render=function(){var t,n,i=this,o=i.config,a=i.model,l=II.extend(o.extend);return this.view=new l({el:(t=this.view)===null||t===void 0?void 0:t.el,ItemView:l,level:0,config:o,opened:a.get("opened"),model:this.getRoot(),module:this}),(n=this.view)===null||n===void 0?void 0:n.render().el},e.prototype.destroy=function(){var t;(t=this.view)===null||t===void 0||t.remove()},e.prototype.__onRootChange=function(){var t,n=this.getRoot();(t=this.view)===null||t===void 0||t.setRoot(n),this.em.trigger(Q2,n),this.__trgCustom()},e.prototype.__getLayerFromComponent=function(t){var n,i;return((i=(n=t.delegate)===null||n===void 0?void 0:n.layer)===null||i===void 0?void 0:i.call(n,t))||t},e.prototype.__onComponent=function(t){this.updateLayer(t)},e.prototype.__isLayerable=function(t){var n=t.tagName,i=this.config.hideTextnode,o=!i||!t.isInstanceOf("textnode")&&n!=="br";return o&&t.get("layerable")},e.prototype.__trgCustom=function(t){var n=this,i=n.__ctn,o=n.em,a=n.events;this.__ctn=i||(t==null?void 0:t.container),o.trigger(a.custom,{container:this.__ctn,root:this.getRoot()})},e.prototype.updateLayer=function(t,n){this.em.trigger(tk,t,n)},e}(_i);const GI=KI;var YI=function(){return{assets:[],noAssets:"",stylePrefix:"am-",upload:"",uploadName:"files",headers:{},params:{},credentials:"include",multiUpload:!0,multiUploadSuffix:"[]",autoAdd:!0,customFetch:void 0,uploadFile:void 0,embedAsBase64:!0,handleAdd:void 0,beforeUpload:void 0,showUrlInput:!0,custom:!1,dropzone:!1,openAssetsOnDrop:!0,dropzoneContent:""}};const XI=YI;var ZI=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ek=function(r){ZI(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.getDefaults=function(){return(0,z.result)(this.prototype,"defaults")},e.prototype.defaults=function(){return{type:"",src:""}},e.prototype.getType=function(){return this.get("type")},e.prototype.getSrc=function(){return this.get("src")},e.prototype.getFilename=function(){return this.get("src").split("/").pop().split("?").shift()},e.prototype.getExtension=function(){return this.getFilename().split(".").pop()},e}(te.Kx);const v_=ek;ek.prototype.idAttribute="src";var $I=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),zv=function(){return zv=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},zv.apply(this,arguments)},JI=function(r){$I(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.defaults=function(){return zv(zv({},v_.getDefaults()),{type:"image",unitDim:"px",height:0,width:0})},e}(v_);const QI=JI;var tz=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ez=function(r){tz(e,r);function e(t){var n=r.call(this,t)||this;n.options=t,n.collection=t.collection;var i=t.config||{};n.config=i,n.pfx=i.stylePrefix||"",n.ppfx=i.pStylePrefix||"",n.em=i.em,n.className=n.pfx+"asset",n.listenTo(n.model,"destroy remove",n.remove),n.model.view=n;var o=n.init&&n.init.bind(n);return o&&o(t),n}return e.prototype.__getBhv=function(){var t=this.em,n=t==null?void 0:t.Assets;return(n==null?void 0:n.__getBehaviour())||{}},e.prototype.template=function(t,n){var i=this.pfx;return`
      <div class="`.concat(i,`preview-cont">
        `).concat(this.getPreview(),`
      </div>
      <div class="`).concat(i,`meta">
        `).concat(this.getInfo(),`
      </div>
      <div class="`).concat(i,`close" data-toggle="asset-remove">
        &Cross;
      </div>
    `)},e.prototype.updateTarget=function(t){t&&t.set&&(t.set("attributes",(0,z.clone)(t.get("attributes"))),t.set("src",this.model.get("src")))},e.prototype.getPreview=function(){return""},e.prototype.getInfo=function(){return""},e.prototype.render=function(){var t=this.el;return t.innerHTML=this.template(this,this.model),t.className=this.className,this},e}(te.Ss);const nz=ez;var rz=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),S1=function(r,e){return Object.defineProperty?Object.defineProperty(r,"raw",{value:e}):r.raw=e,r},nk=function(r){rz(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getPreview=function(){var t=this,n=t.pfx,i=t.ppfx,o=t.model,a=o.get("src");return di(C1||(C1=S1([`
      <div class="`,`preview" style="background-image: url('`,`');"></div>
      <div class="`,"preview-bg ",`checker-bg"></div>
    `],[`
      <div class="`,`preview" style="background-image: url('`,`');"></div>
      <div class="`,"preview-bg ",`checker-bg"></div>
    `])),n,a,n,i)},e.prototype.getInfo=function(){var t=this,n=t.pfx,i=t.model,o=i.get("name"),a=i.get("width"),l=i.get("height"),u=i.get("unitDim"),c=a&&l?"".concat(a,"x").concat(l).concat(u):"";return o=o||i.getFilename(),di(x1||(x1=S1([`
      <div class="`,'name">',`</div>
      <div class="`,'dimensions">',`</div>
    `],[`
      <div class="`,'name">',`</div>
      <div class="`,'dimensions">',`</div>
    `])),n,o,n,c)},e.prototype.init=function(t){var n=this.pfx;this.className+=" ".concat(n,"asset-image")},e.prototype.onClick=function(){var t=this,n=t.model,i=t.pfx,o=this.__getBhv().select,a=this.config.onClick,l=this.collection;l.trigger("deselectAll"),this.$el.addClass(i+"highlight"),(0,z.isFunction)(o)?o(n,!1):(0,z.isFunction)(a)?a(n):this.updateTarget(l.target)},e.prototype.onDblClick=function(){var t=this,n=t.em,i=t.model,o=this.__getBhv().select,a=this.config.onDblClick,l=this.collection,u=l.target,c=l.onSelect;(0,z.isFunction)(o)?o(i,!0):(0,z.isFunction)(a)?a(i):(this.updateTarget(u),n==null||n.Modal.close()),(0,z.isFunction)(c)&&c(i)},e.prototype.onRemove=function(t){t.stopImmediatePropagation(),this.model.collection.remove(this.model)},e}(nz);const iz=nk;nk.prototype.events={"click [data-toggle=asset-remove]":"onRemove",click:"onClick",dblclick:"onDblClick"};var C1,x1,Hv=function(){return Hv=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Hv.apply(this,arguments)},oz={types:[],initialize:function(r,e){var t=this;e===void 0&&(e={});var n=e.em;this.em=n,this.opts=e,this.model=function(o,a){o===void 0&&(o={}),a===void 0&&(a={});var l,u,c;if(o&&o.type){var d=t.getBaseType();c=t.getType(o.type),l=c?c.model:d.model,u=c?c.view:d.view}else{var h=t.recognizeType(o);c=h.type,l=c.model,u=c.view,o=h.attributes}var g=new l(o,Hv(Hv({},a),{em:n}));return g.typeView=u,t.model.prototype=l.prototype,g};var i=this.init&&this.init.bind(this);i&&i()},recognizeType:function(r){for(var e=this.getTypes(),t=0;t<e.length;t++){var n=e[t],i=n.isType(r);if(i=typeof i=="boolean"&&i?{type:n.id}:i,i)return{type:n,attributes:i}}return{type:this.getBaseType(),attributes:r}},getBaseType:function(){var r=this.getTypes();return r[r.length-1]},getTypes:function(){return this.types},getType:function(r){for(var e=this.getTypes(),t=0;t<e.length;t++){var n=e[t];if(n.id===r)return n}},addType:function(r,e){var t=this.getType(r),n=this.getBaseType(),i=t?t.model:n.model,o=t?t.view:n.view,a=e.model,l=e.view,u=e.isType;a=a instanceof te.Kx||(0,z.isFunction)(a)?a:i.extend(a||{}),l=l instanceof te.Ss||(0,z.isFunction)(l)?l:o.extend(l||{}),this.extendViewApi&&!e.model&&!e.view&&(l=l.extend(e)),t?(t.model=a,t.view=l,t.isType=u||t.isType):(e.id=r,e.model=a,e.view=l,e.isType=u||function(c){if(c&&c.type==r)return!0},this.getTypes().unshift(e))}};const rk=oz;var az=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),sz=te.pM.extend(rk),ik=function(r){az(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e}(sz);const My=ik;ik.prototype.types=[{id:"image",model:QI,view:iz,isType:function(r){return typeof r=="string"?{type:"image",src:r}:r}}];var g_;(function(r){r.add="asset:add",r.remove="asset:remove",r.removeBefore="asset:remove:before",r.update="asset:update",r.open="asset:open",r.close="asset:close",r.uploadStart="asset:upload:start",r.uploadEnd="asset:upload:end",r.uploadError="asset:upload:error",r.uploadResponse="asset:upload:response",r.custom="asset:custom",r.all="asset"})(g_||(g_={}));const O1=g_;var lz=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ok=function(r){lz(e,r);function e(t){t===void 0&&(t={});var n=r.call(this,t)||this;n.options=t,n.config=t.config,n.pfx=n.config.stylePrefix||"",n.ppfx=n.config.pStylePrefix||"",n.em=n.config.em;var i=n.collection;return n.listenTo(i,"reset",n.renderAssets),n.listenTo(i,"add",n.addToAsset),n.listenTo(i,"remove",n.removedAsset),n.listenTo(i,"deselectAll",n.deselectAll),n}return e.prototype.template=function(t){var n=t.pfx,i=t.ppfx,o=t.em,a="";return this.config.showUrlInput&&(a=`
          <form class="`.concat(n,`add-asset">
            <div class="`).concat(i,"field ").concat(n,`add-field">
              <input placeholder="`).concat(o==null?void 0:o.t("assetManager.inputPlh"),`"/>
            </div>
            <button class="`).concat(i,'btn-prim">').concat(o==null?void 0:o.t("assetManager.addButton"),`</button>
            <div style="clear:both"></div>
          </form>
      `)),`
    <div class="`.concat(n,`assets-cont">
      <div class="`).concat(n,`assets-header">
        `).concat(a,`
      </div>
      <div class="`).concat(n,`assets" data-el="assets"></div>
      <div style="clear:both"></div>
    </div>
    `)},e.prototype.handleSubmit=function(t){t.preventDefault();var n=this.getAddInput(),i=n&&n.value.trim(),o=this.config.handleAdd;if(i){n.value="";var a=this.getAssetsEl();a&&(a.scrollTop=0),o?o.bind(this)(i):this.options.globalCollection.add(i,{at:0})}},e.prototype.getAssetsEl=function(){return this.el.querySelector(".".concat(this.pfx,"assets"))},e.prototype.getAddInput=function(){return(!this.inputUrl||!this.inputUrl.value)&&(this.inputUrl=this.el.querySelector(".".concat(this.pfx,"add-asset input"))),this.inputUrl},e.prototype.removedAsset=function(t){this.collection.length||this.toggleNoAssets()},e.prototype.addToAsset=function(t){this.collection.length==1&&this.toggleNoAssets(!0),this.addAsset(t)},e.prototype.addAsset=function(t,n){n===void 0&&(n=null);var i=n,o=this.collection,a=this.config,l=new t.typeView({model:t,collection:o,config:a}).render().el;if(i)i.appendChild(l);else{var u=this.getAssetsEl();u&&u.insertBefore(l,u.firstChild)}return l},e.prototype.toggleNoAssets=function(t){t===void 0&&(t=!1);var n=this.$el.find(".".concat(this.pfx,"assets"));if(t)n.empty();else{var i=this.config.noAssets;i&&n.append(i)}},e.prototype.deselectAll=function(){var t=this.pfx;this.$el.find(".".concat(t,"highlight")).removeClass("".concat(t,"highlight"))},e.prototype.renderAssets=function(){var t=this,n=document.createDocumentFragment(),i=this.$el.find(".".concat(this.pfx,"assets"));i.empty(),this.toggleNoAssets(!!this.collection.length),this.collection.each(function(o){return t.addAsset(o,n)}),i.append(n)},e.prototype.render=function(){var t=this.options.fu.render().el;return this.$el.empty(),this.$el.append(t).append(this.template(this)),this.el.className="".concat(this.ppfx,"asset-manager"),this.renderAssets(),this},e}(te.Ss);const uz=ok;ok.prototype.events={submit:"handleSubmit"};var cz=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),fz=function(r,e){return Object.defineProperty?Object.defineProperty(r,"raw",{value:e}):r.raw=e,r},dz=function(r){cz(e,r);function e(t){t===void 0&&(t={});var n=r.call(this,t)||this;n.options=t;var i=t.config||{};n.module=t.module,n.config=i,n.em=n.config.em,n.pfx=i.stylePrefix||"",n.ppfx=i.pStylePrefix||"",n.target=n.options.globalCollection||{},n.uploadId=n.pfx+"uploadFile",n.disabled=i.disableUpload!==void 0?i.disableUpload:!i.upload&&!i.embedAsBase64,n.multiUpload=i.multiUpload!==void 0?i.multiUpload:!0;var o=i.uploadFile;return o?n.uploadFile=o.bind(n):!i.upload&&i.embedAsBase64&&(n.uploadFile=e.embedAsBase64),n.delegateEvents(),n}return e.prototype.template=function(t){var n=t.pfx,i=t.title,o=t.uploadId,a=t.disabled,l=t.multiUpload;return di(E1||(E1=fz([`
      <form>
        <div id="`,'title">',`</div>
        <input
          data-input
          type="file"
          id="`,`"
          name="file"
          accept="*/*"
          `,`
          `,`
        />
        <div style="clear:both;"></div>
      </form>
    `],[`
      <form>
        <div id="`,'title">',`</div>
        <input
          data-input
          type="file"
          id="`,`"
          name="file"
          accept="*/*"
          `,`
          `,`
        />
        <div style="clear:both;"></div>
      </form>
    `])),n,i,o,a?"disabled":"",l?"multiple":"")},e.prototype.events=function(){return{"change [data-input]":"uploadFile"}},e.prototype.onUploadStart=function(){var t=this.module;t==null||t.__propEv(t.events.uploadStart)},e.prototype.onUploadEnd=function(t){var n=this,i=n.$el,o=n.module;o==null||o.__propEv(o.events.uploadEnd,t);var a=i.find("input");a&&a.val("")},e.prototype.onUploadError=function(t){var n=this.module;console.error(t),this.onUploadEnd(t),n==null||n.__propEv(n.events.uploadError,t)},e.prototype.onUploadResponse=function(t,n){var i=this,o=i.module,a=i.config,l=i.target,u;try{u=typeof t=="string"?JSON.parse(t):t}catch{u=t}o==null||o.__propEv(o.events.uploadResponse,u),a.autoAdd&&l&&l.add(u.data,{at:0}),this.onUploadEnd(t),n==null||n(u)},e.prototype.uploadFile=function(t,n){var i=this,o=t.dataTransfer?t.dataTransfer.files:t.target.files,a=this.config,l=a.beforeUpload,u=l&&l(o);if(u!==!1){var c=new FormData,d=a.params,h=a.customFetch,g=a.fetchOptions;for(var m in d)c.append(m,d[m]);if(this.multiUpload)for(var _=0;_<o.length;_++)c.append("".concat(a.uploadName).concat(a.multiUploadSuffix),o[_]);else o.length&&c.append(a.uploadName,o[0]);var b=a.upload,C=a.headers,w="X-Requested-With";if(typeof C[w]>"u"&&(C[w]="XMLHttpRequest"),b){this.onUploadStart();var x={method:"post",credentials:a.credentials||"include",headers:C,body:c},O=(g==null?void 0:g(x))||x,k=h?h(b,O):I2(b,O).then(function(V){return(V.status/200|0)==1?V.text():V.text().then(function(Z){return Promise.reject(Z)})});return k.then(function(V){return i.onUploadResponse(V,n)}).catch(function(V){return i.onUploadError(V)})}}},e.prototype.initDrop=function(){var t=this;if(!this.uploadForm){this.uploadForm=this.$el.find("form").get(0);var n=this.uploadForm;"draggable"in n&&(this.uploadForm.ondragover=function(){return n.className=t.pfx+"hover",!1},this.uploadForm.ondragleave=function(){return n.className="",!1},this.uploadForm.ondrop=function(i){n.className="",i.preventDefault(),t.uploadFile(i)})}},e.prototype.initDropzone=function(t){var n=this,i=0,o=this.config,a=t.model,l=t.el,u=a.Editor,c=a.Canvas.getBody(),d=this.ppfx,h="".concat(d,"dropzone-active"),g="".concat(d,"dropzone"),m=function(){l.className=l.className.replace(h,"").trim(),i=0},_=function(){return i||(l.className+=" ".concat(h),i=1),!1},b=function(){return m(),!1},C=function(w){if(m(),w.preventDefault(),w.stopPropagation(),n.uploadFile(w),o.openAssetsOnDrop&&u){var x=u.getSelected();u.runCommand("open-assets",{target:x,onSelect:function(){u.Modal.close(),u.AssetManager.setTarget(null)}})}return!1};t.$el.append('<div class="'.concat(g,'">').concat(o.dropzoneContent,"</div>")),m(),"draggable"in l&&[l,c].forEach(function(w){w.ondragover=_,w.ondragleave=b,w.ondrop=C})},e.prototype.render=function(){var t=this,n=t.$el,i=t.pfx,o=t.em;return n.html(this.template({title:o&&o.t("assetManager.uploadTitle"),uploadId:this.uploadId,disabled:this.disabled,multiUpload:this.multiUpload,pfx:i})),this.initDrop(),n.attr("class",i+"file-uploader"),this},e.embedAsBase64=function(t,n){var i=this,o=t.dataTransfer?t.dataTransfer.files:t.target.files,a={data:[]};if(!FileReader){this.onUploadError(new Error("Unsupported platform, FileReader is not defined"));return}for(var l=[],u=/^(.+)\/(.+)$/,c=function(m){var _=new Promise(function(b,C){var w=new FileReader;w.addEventListener("load",function(x){var O,k=m.name,V=u.exec(m.type);if(V?O=V[1]:O=m.type,O==="image"){var Z={src:w.result,name:k,type:O,height:0,width:0},$=new Image;$.addEventListener("error",function(Y){C(Y)}),$.addEventListener("load",function(){Z.height=$.height,Z.width=$.width,b(Z)}),$.src=Z.src}else b(O?{src:w.result,name:k,type:O}:w.result)}),w.addEventListener("error",function(x){C(x)}),w.addEventListener("abort",function(x){C("Aborted")}),w.readAsDataURL(m)});l.push(_)},d=0,h=o;d<h.length;d++){var g=h[d];c(g)}return Promise.all(l).then(function(m){a.data=m,i.onUploadResponse(a,n)},function(m){i.onUploadError(m)})},e}(te.Ss);const hz=dz;var E1,pz=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ou=function(){return Ou=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Ou.apply(this,arguments)},T1=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))},sf="open-assets",vz=function(r){pz(e,r);function e(t){var n=r.call(this,t,"AssetManager",new My([],t),O1,XI())||this;n.storageKey="assets",n.Asset=v_,n.Assets=My,n.events=O1;var i=n,o=i.all,a=i.config;n.assetsVis=new My([]);var l=a.pStylePrefix;return l&&(a.stylePrefix="".concat(l).concat(a.stylePrefix)),o.on("add",function(u){return n.getAllVisible().add(u)}),o.on("remove",function(u){return n.getAllVisible().remove(u)}),n.__onAllEvent=(0,z.debounce)(function(){return n.__trgCustom()},0),n}return e.prototype.open=function(t){t===void 0&&(t={});var n=this.em.Commands;n.run(sf,Ou({types:["image"],select:function(){}},t))},e.prototype.close=function(){var t=this.em.Commands;t.stop(sf)},e.prototype.isOpen=function(){var t=this.em.Commands;return!!(t!=null&&t.isActive(sf))},e.prototype.add=function(t,n){return n===void 0&&(n={}),typeof n.at>"u"&&(n.at=0),this.all.add(t,n)},e.prototype.get=function(t){return this.all.where({src:t})[0]||null},e.prototype.getAll=function(){return this.all},e.prototype.getAllVisible=function(){return this.assetsVis},e.prototype.remove=function(t,n){return this.__remove(t,n)},e.prototype.store=function(){return this.getProjectData()},e.prototype.load=function(t){return this.loadProjectData(t)},e.prototype.getContainer=function(){var t,n=this.__getBehaviour();return n.container||((t=this.am)===null||t===void 0?void 0:t.el)},e.prototype.getAssetsEl=function(){var t;return(t=this.am)===null||t===void 0?void 0:t.el.querySelector("[data-el=assets]")},e.prototype.render=function(t){if(!this.getConfig().custom){var n=t||this.getAll().models;if(!this.am){var i=this.__viewParams();i.fu=this.FileUploader(),this.am=new uz(Ou({},i)),this.am.render()}return this.assetsVis.reset(n),this.getContainer()}},e.prototype.__viewParams=function(){return{collection:this.assetsVis,globalCollection:this.all,config:this.config,module:this,fu:void 0}},e.prototype.addType=function(t,n){this.getAll().addType(t,n)},e.prototype.getType=function(t){return this.getAll().getType(t)},e.prototype.getTypes=function(){return this.getAll().getTypes()},e.prototype.AssetsView=function(){return this.am},e.prototype.FileUploader=function(){return this.fu||(this.fu=new hz(this.__viewParams())),this.fu},e.prototype.onLoad=function(){var t=this;this.getAll().reset(this.config.assets);var n=this,i=n.em,o=n.events;i.Commands.__onRun(sf,function(){return t.__propEv(o.open)}),i.Commands.__onStop(sf,function(){return t.__propEv(o.close)})},e.prototype.postRender=function(t){var n;this.config.dropzone&&((n=this.fu)===null||n===void 0||n.initDropzone(t))},e.prototype.setTarget=function(t){this.assetsVis.target=t},e.prototype.onSelect=function(t){this.assetsVis.onSelect=t},e.prototype.onClick=function(t){this.config.onClick=t},e.prototype.onDblClick=function(t){this.config.onDblClick=t},e.prototype.__propEv=function(t){for(var n,i,o=[],a=1;a<arguments.length;a++)o[a-1]=arguments[a];(n=this.em).trigger.apply(n,T1([t],o,!1)),(i=this.getAll()).trigger.apply(i,T1([t],o,!1))},e.prototype.__trgCustom=function(){var t=this.__getBehaviour(),n=this.getConfig().custom;!t.container&&!n.open||this.em.trigger(this.events.custom,this.__customData())},e.prototype.__customData=function(){var t=this,n=this.__getBehaviour();return{am:this,open:this.isOpen(),assets:this.getAll().models,types:n.types||[],container:n.container,close:function(){return t.close()},remove:function(i,o){return t.remove(i,o)},select:function(i,o){var a=t.add(i);(0,z.isFunction)(n.select)&&n.select(a,o)},options:n.options||{}}},e.prototype.__behaviour=function(t){return t===void 0&&(t={}),this._bhv=Ou(Ou({},this._bhv||{}),t)},e.prototype.__getBehaviour=function(t){return this._bhv||{}},e.prototype.destroy=function(){var t,n;this.all.stopListening(),this.all.reset(),this.assetsVis.stopListening(),this.assetsVis.reset(),(t=this.fu)===null||t===void 0||t.remove(),(n=this.am)===null||n===void 0||n.remove(),this._bhv={}},e}(Ea);const gz=vz;var mz=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),yz=function(r){mz(e,r);function e(t,n){n===void 0&&(n={});var i=r.call(this,t,n)||this,o=n.em,a={};i.em=o,t.frames||(a.component=t.component,a.styles=t.styles,["component","styles"].map(function(c){return i.unset(c)}));var l=t.frames||[a],u=new ZA(o.Canvas,l);return u.page=i,i.set("frames",u),!i.getId()&&i.set("id",o==null?void 0:o.Pages._createId()),o==null||o.UndoManager.add(u),i}return e.prototype.defaults=function(){return{name:"",frames:[],_undo:!0}},e.prototype.onRemove=function(){this.getFrames().reset()},e.prototype.getFrames=function(){return this.get("frames")},e.prototype.getId=function(){return this.id},e.prototype.getName=function(){return this.get("name")},e.prototype.setName=function(t){return this.set({name:t})},e.prototype.getAllFrames=function(){return this.getFrames().models||[]},e.prototype.getMainFrame=function(){return this.getFrames().at(0)},e.prototype.getMainComponent=function(){var t=this.getMainFrame();return t==null?void 0:t.getComponent()},e.prototype.toJSON=function(t){t===void 0&&(t={});var n=te.Kx.prototype.toJSON.call(this,t),i=(0,z.result)(this,"defaults");return(0,z.forEach)(n,function(o,a){a.indexOf("_")===0&&delete n[a]}),(0,z.forEach)(i,function(o,a){n[a]===o&&delete n[a]}),n},e}(te.Kx);const m_=yz;var _z=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Fv=function(){return Fv=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Fv.apply(this,arguments)},bz=function(r){_z(e,r);function e(t,n){var i=r.call(this,t)||this;return i.on("reset",i.onReset),i.on("remove",i.onRemove),i.model=function(o,a){return a===void 0&&(a={}),new m_(o,Fv(Fv({},a),{em:n}))},i}return e.prototype.onReset=function(t,n){var i=this,o;(o=n==null?void 0:n.previousModels)===null||o===void 0||o.map(function(a){return i.onRemove(a,i,n)})},e.prototype.onRemove=function(t,n,i){i===void 0&&(i={}),!(i.fromUndo||i.temporary)&&(t==null||t.onRemove())},e}(te.pM);const wz=bz;var Sz=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Eu=function(){return Eu=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Eu.apply(this,arguments)},Cz=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t},xz=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))},A1="change:selected",k1="main",Oz=function(r){Sz(e,r);function e(t){var n=r.call(this,t,"PageManager",new wz([],t),Q0)||this;n.events=Q0,n.storageKey="pages",(0,z.bindAll)(n,"_onPageChange");var i=new xs.A(n,{_undo:!0});return n.model=i,n.pages.on("reset",function(o){return o.at(0)&&n.select(o.at(0))}),n.pages.on("all",n.__onChange,n),i.on(A1,n._onPageChange),n}return Object.defineProperty(e.prototype,"pages",{get:function(){return this.all},enumerable:!1,configurable:!0}),e.prototype.getAll=function(){return xz([],this.all.models,!0)},e.prototype.__onChange=function(t,n,i,o){var a=this,l=a.em,u=a.events,c=o||i;l.trigger(u.all,{event:t,page:n,options:c})},e.prototype.onLoad=function(){var t,n=this,i=n.pages,o=n.config,a=n.em,l={silent:!0},u=((t=o.pages)===null||t===void 0?void 0:t.map(function(d){return new m_(d,{em:a,config:o})}))||[];i.add(u,l);var c=i.length?this._initPage():this.add({type:k1},l);c&&this.select(c,l)},e.prototype._onPageChange=function(t,n,i){var o=this,a=o.em,l=o.events,u=a.Layers,c=n.getMainComponent();u&&c&&u.setRoot(c),a.trigger(l.select,n,t.previous("selected")),this.__onChange(A1,n,i)},e.prototype.postLoad=function(){var t=this,n=t.em,i=t.model,o=t.pages,a=n.UndoManager;a.add(i),a.add(o),o.on("add remove reset change",function(l,u,c){return n.changesUp(c||u)})},e.prototype.add=function(t,n){var i=this;n===void 0&&(n={});var o=this,a=o.em,l=o.events;t.id=t.id||this._createId();var u=function(){var c=i.pages.add(new m_(t,{em:i.em,config:i.config}),n);return n.select&&i.select(c),c};return!n.silent&&a.trigger(l.addBefore,t,u,n),n.abort?void 0:u()},e.prototype.remove=function(t,n){var i=this;n===void 0&&(n={});var o=this,a=o.em,l=o.events,u=(0,z.isString)(t)?this.get(t):t,c=function(){return u&&i.pages.remove(u,n),u};return!n.silent&&a.trigger(l.removeBefore,u,c,n),!n.abort&&c()},e.prototype.move=function(t,n){n===void 0&&(n={});var i=this.pages,o=(0,z.isString)(t)?this.get(t):t,a=n.at,l=a===void 0?0:a,u=Cz(n,["at"]);if(o){var c=i.indexOf(o),d=c===l;if(!(l<0||l>=i.length||d))return this.remove(o,Eu(Eu({},u),{temporary:!0})),i.add(o,Eu(Eu({},u),{at:l})),o}},e.prototype.get=function(t){return this.pages.filter(function(n){return n.get(n.idAttribute)===t})[0]},e.prototype.getMain=function(){var t=this.pages;return t.filter(function(n){return n.get("type")===k1})[0]||t.at(0)},e.prototype.getAllWrappers=function(){var t=this.getAll();return(0,z.unique)((0,z.flatten)(t.map(function(n){return n.getAllFrames().map(function(i){return i.getComponent()})})))},e.prototype.select=function(t,n){n===void 0&&(n={});var i=this,o=i.em,a=i.model,l=i.events,u=(0,z.isString)(t)?this.get(t):t;return u&&(o.trigger(l.selectBefore,u,n),a.set("selected",u,n)),this},e.prototype.getSelected=function(){return this.model.get("selected")},e.prototype.destroy=function(){var t=this;this.pages.off().reset(),this.model.stopListening(),this.model.clear({silent:!0}),["selected","model"].map(function(n){return t[n]=0})},e.prototype.store=function(){return this.getProjectData()},e.prototype.load=function(t){var n=this.loadProjectData(t,{all:this.pages,reset:!0});return this.pages.forEach(function(i){return i.getFrames().initRefs()}),n},e.prototype._initPage=function(){return this.get(this.config.selected)||this.getMain()},e.prototype._createId=function(){var t=this.getAll(),n=t.length+16,i=this.getAllMap(),o;do o=(0,Vt.createId)(n);while(i[o]);return o},e}(Ea);const Ez=Oz;var Ry={placeholder:"eg. Text here"};const Tz={assetManager:{addButton:"Add image",inputPlh:"http://path/to/the/image.jpg",modalTitle:"Select Image",uploadTitle:"Drop files here or click to upload"},blockManager:{labels:{},categories:{}},domComponents:{names:{"":"Box",wrapper:"Body",text:"Text",comment:"Comment",image:"Image",video:"Video",label:"Label",link:"Link",map:"Map",tfoot:"Table foot",tbody:"Table body",thead:"Table head",table:"Table",row:"Table row",cell:"Table cell"}},deviceManager:{device:"Device",devices:{desktop:"Desktop",tablet:"Tablet",mobileLandscape:"Mobile Landscape",mobilePortrait:"Mobile Portrait"}},panels:{buttons:{titles:{preview:"Preview",fullscreen:"Fullscreen","sw-visibility":"View components","export-template":"View code","open-sm":"Open Style Manager","open-tm":"Settings","open-layers":"Open Layer Manager","open-blocks":"Open Blocks"}}},selectorManager:{label:"Classes",selected:"Selected",emptyState:"- State -",states:{hover:"Hover",active:"Click","nth-of-type(2n)":"Even/Odd"}},styleManager:{empty:"Select an element before using Style Manager",layer:"Layer",fileButton:"Images",sectors:{general:"General",layout:"Layout",typography:"Typography",decorations:"Decorations",extra:"Extra",flex:"Flex",dimension:"Dimension"},properties:{"text-shadow-h":"X","text-shadow-v":"Y","text-shadow-blur":"Blur","text-shadow-color":"Color","box-shadow-h":"X","box-shadow-v":"Y","box-shadow-blur":"Blur","box-shadow-spread":"Spread","box-shadow-color":"Color","box-shadow-type":"Type","margin-top-sub":"Top","margin-right-sub":"Right","margin-bottom-sub":"Bottom","margin-left-sub":"Left","padding-top-sub":"Top","padding-right-sub":"Right","padding-bottom-sub":"Bottom","padding-left-sub":"Left","border-width-sub":"Width","border-style-sub":"Style","border-color-sub":"Color","border-top-left-radius-sub":"Top Left","border-top-right-radius-sub":"Top Right","border-bottom-right-radius-sub":"Bottom Right","border-bottom-left-radius-sub":"Bottom Left","transform-rotate-x":"Rotate X","transform-rotate-y":"Rotate Y","transform-rotate-z":"Rotate Z","transform-scale-x":"Scale X","transform-scale-y":"Scale Y","transform-scale-z":"Scale Z","transition-property-sub":"Property","transition-duration-sub":"Duration","transition-timing-function-sub":"Timing","background-image-sub":"Image","background-repeat-sub":"Repeat","background-position-sub":"Position","background-attachment-sub":"Attachment","background-size-sub":"Size"}},traitManager:{empty:"Select an element before using Trait Manager",label:"Component settings",categories:{},traits:{labels:{},attributes:{id:Ry,alt:Ry,title:Ry,href:{placeholder:"eg. https://google.com"}},options:{target:{false:"This window",_blank:"New window"}}}},storageManager:{recover:"Do you want to recover unsaved changes?"}};var Az=function(){return{locale:"en",localeFallback:"en",detectLocale:!0,debug:!1,messages:{en:Tz},messagesAdd:void 0}};const kz=Az;var y_;(function(r){r.add="i18n:add",r.update="i18n:update",r.locale="i18n:locale"})(y_||(y_={}));const Dz=y_;var Pz=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Mz=function(r){Pz(e,r);function e(t){var n=r.call(this,t,"I18n",kz())||this;n.events=Dz;var i=n.config.messagesAdd;return i&&n.addMessages(i),n.config.detectLocale&&(n.config.locale=n._localLang()),n}return e.prototype.setLocale=function(t){var n=this,i=n.em,o=n.config,a=n.events;return i.trigger(a.locale,{value:t,valuePrev:o.locale}),o.locale=t,this},e.prototype.getLocale=function(){return this.config.locale},e.prototype.getMessages=function(t,n){n===void 0&&(n={});var i=this.config.messages;return t&&!i[t]&&this._debug("'".concat(t,"' i18n lang not found"),n),t?i[t]:i},e.prototype.setMessages=function(t){var n=this,i=n.em,o=n.config,a=n.events;return o.messages=t,i.trigger(a.update,t),this},e.prototype.addMessages=function(t){var n=this,i=n.em,o=n.events,a=n.config,l=a.messages;return i.trigger(o.add,t),this.setMessages((0,Vt.deepMerge)(l,t)),this},e.prototype.t=function(t,n){n===void 0&&(n={});var i=this.config,o=n.params||{},a=n.l||this.getLocale(),l=n.lFlb||i.localeFallback,u=this._getMsg(t,a,n);return u||(u=this._getMsg(t,l,n)),!u&&this._debug("'".concat(t,"' i18n key not found in '").concat(a,"' lang"),n),u=u&&(0,z.isString)(u)?this._addParams(u,o):u,u},e.prototype._localLang=function(){var t=(0,Vt.hasWin)()&&window.navigator||{},n=t.language||t.userLanguage;return n?n.split("-")[0]:"en"},e.prototype._addParams=function(t,n){var i=new RegExp("{([\\w\\d-]*)}","g");return t.replace(i,function(o,a){return n[a]||""}).trim()},e.prototype._getMsg=function(t,n,i){i===void 0&&(i={});var o=this.getMessages(n,i);if(o){var a=o[t];return!a&&t.indexOf(".")>0&&(a=t.split(".").reduce(function(l,u){if(!(0,z.isUndefined)(l))return l[u]},o)),a}},e.prototype._debug=function(t,n){n===void 0&&(n={});var i=this,o=i.em,a=i.config;(n.debug||a.debug)&&o&&o.logWarning(t)},e.prototype.destroy=function(){},e}(_i);const Rz=Mz;var Zs=function(){return Zs=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Zs.apply(this,arguments)},Lz=function(r,e){e===void 0&&(e={});var t=e.prefix||"",n=document.createElement("i");return n.className=t+"resizer-h "+t+"resizer-h-"+r,n.setAttribute("data-"+t+"handler",r),n},Nz=function(r,e){var t=window,n=r.getBoundingClientRect();return{left:n.left+t.pageXOffset,top:n.top+t.pageYOffset,width:n.width,height:n.height}},jz=function(){function r(e){e===void 0&&(e={}),this.defOpts={ratioDefault:!1,onUpdateContainer:function(){},step:1,minDim:10,maxDim:1/0,unitHeight:"px",unitWidth:"px",keyHeight:"height",keyWidth:"width",currentUnit:!0,silentFrames:!1,avoidContainerUpdate:!1,keepAutoHeight:!1,keepAutoWidth:!1,autoHeight:!1,autoWidth:!1,tl:!0,tc:!0,tr:!0,cl:!0,cr:!0,bl:!0,bc:!0,br:!0},this.opts=Zs({},this.defOpts),this.setOptions(e),(0,z.bindAll)(this,"handleKeyDown","handleMouseDown","move","stop")}return r.prototype.getConfig=function(){return this.opts},r.prototype.setOptions=function(e,t){e===void 0&&(e={}),this.opts=Zs(Zs({},t?this.defOpts:this.opts),e),this.setup()},r.prototype.setup=function(){var e=this.opts,t=e.prefix||"",n=e.appendTo||document.body,i=this.container;for(i||(i=document.createElement("div"),i.className="".concat(t,"resizer-c"),n.appendChild(i),this.container=i);i.firstChild;)i.removeChild(i.firstChild);var o={};["tl","tc","tr","cl","cr","bl","bc","br"].forEach(function(u){return o[u]=e[u]?Lz(u,e):null});for(var a in o){var l=o[a];l&&i.appendChild(l)}this.handlers=o,this.mousePosFetcher=e.mousePosFetcher,this.updateTarget=e.updateTarget,this.posFetcher=e.posFetcher,this.onStart=e.onStart,this.onMove=e.onMove,this.onEnd=e.onEnd,this.onUpdateContainer=e.onUpdateContainer},r.prototype.toggleFrames=function(e){if(this.opts.silentFrames){var t=document.querySelectorAll("iframe");(0,z.each)(t,function(n){return n.style.pointerEvents=e?"none":""})}},r.prototype.isHandler=function(e){var t=this.handlers;for(var n in t)if(t[n]===e)return!0;return!1},r.prototype.getFocusedEl=function(){return this.el},r.prototype.getParentEl=function(){var e;return(e=this.el)===null||e===void 0?void 0:e.parentElement},r.prototype.getDocumentEl=function(){return[this.el.ownerDocument,document]},r.prototype.getElementPos=function(e,t){t===void 0&&(t={});var n=this.posFetcher;return n?n(e,t):Nz(e)},r.prototype.focus=function(e){e&&e===this.el||(this.el=e,this.updateContainer({forceShow:!0}),(0,ae.on)(this.getDocumentEl(),"pointerdown",this.handleMouseDown))},r.prototype.blur=function(){this.container.style.display="none",this.el&&((0,ae.AU)(this.getDocumentEl(),"pointerdown",this.handleMouseDown),delete this.el)},r.prototype.start=function(e){var t=e;if(t.button===0){t.preventDefault(),t.stopPropagation();var n=this.el,i=this.getParentEl(),o=this,a=this.opts||{},l=this.mousePosFetcher,u="data-"+a.prefix+"handler",c=this.getElementPos(n,{avoidFrameZoom:!0,avoidFrameOffset:!0}),d=this.getElementPos(i),h=t.target;this.handlerAttr=h.getAttribute(u),this.clickedHandler=h,this.startDim={t:c.top,l:c.left,w:c.width,h:c.height},this.rectDim={t:c.top,l:c.left,w:c.width,h:c.height},this.startPos=l?l(t):{x:t.clientX,y:t.clientY},this.parentDim={t:d.top,l:d.left,w:d.width,h:d.height};var g=this.getDocumentEl();this.docs=g,(0,ae.on)(g,"pointermove",this.move),(0,ae.on)(g,"keydown",this.handleKeyDown),(0,ae.on)(g,"pointerup",this.stop),(0,z.isFunction)(this.onStart)&&this.onStart(t,{docs:g,config:a,el:n,resizer:o}),this.toggleFrames(!0),this.move(t)}},r.prototype.move=function(e){var t=e,n=this.onMove,i=this.mousePosFetcher,o=i?i(t):{x:t.clientX,y:t.clientY};this.currentPos=o,this.delta={x:o.x-this.startPos.x,y:o.y-this.startPos.y},this.keys={shift:t.shiftKey,ctrl:t.ctrlKey,alt:t.altKey},this.rectDim=this.calc(this),this.updateRect(!1),n&&n(t)},r.prototype.stop=function(e){var t=this.el,n=this.opts,i=this.docs||this.getDocumentEl();(0,ae.AU)(i,"pointermove",this.move),(0,ae.AU)(i,"keydown",this.handleKeyDown),(0,ae.AU)(i,"pointerup",this.stop),this.updateRect(!0),this.toggleFrames(),(0,z.isFunction)(this.onEnd)&&this.onEnd(e,{docs:i,config:n,el:t,resizer:this}),delete this.docs},r.prototype.updateRect=function(e){var t=this.el,n=this,i=this.opts,o=this.rectDim,a=this.updateTarget,l=this.getSelectedHandler(),u=i.unitHeight,c=i.unitWidth,d=i.keyWidth,h=i.keyHeight;if((0,z.isFunction)(a))a(t,o,{store:e,selectedHandler:l,resizer:n,config:i});else{var g=t.style;g[d]=o.w+c,g[h]=o.h+u}this.updateContainer()},r.prototype.updateContainer=function(e){var t;e===void 0&&(e={});var n=this,i=n.opts,o=n.container,a=n.el,l=o.style;!i.avoidContainerUpdate&&a&&e.forceShow&&(l.display="block"),(t=this.onUpdateContainer)===null||t===void 0||t.call(this,{el:o,resizer:this,opts:Zs(Zs({},i),e)})},r.prototype.getSelectedHandler=function(){var e=this.handlers;if(this.selectedHandler){for(var t in e)if(e[t]===this.selectedHandler)return t}},r.prototype.handleKeyDown=function(e){e.keyCode===27&&(this.rectDim=this.startDim,this.stop(e))},r.prototype.handleMouseDown=function(e){var t=e.target;this.isHandler(t)?(this.selectedHandler=t,this.start(e)):t!==this.el&&(delete this.selectedHandler,this.blur())},r.prototype.calc=function(e){var t,n=this.opts||{},i=n.step,o=this.startDim,a=n.minDim,l=n.maxDim,u=e.delta.x,c=e.delta.y,d=this.parentDim.w,h=this.parentDim.h,g=this.opts.unitWidth,m=this.opts.unitHeight,_=this.getParentRect(),b=g==="%"?o.w/100*d:o.w,C=m==="%"?o.h/100*h:o.h,w={t:o.t-_.top,l:o.l-_.left,w:b,h:C};if(e){var x=e.handlerAttr;~x.indexOf("r")&&(t=g==="%"?(0,Vt.normalizeFloat)((b+u*i)/d*100,.01):(0,Vt.normalizeFloat)(b+u*i,i),t=Math.max(a,t),l&&(t=Math.min(l,t)),w.w=t),~x.indexOf("b")&&(t=m==="%"?(0,Vt.normalizeFloat)((C+c*i)/h*100,.01):(0,Vt.normalizeFloat)(C+c*i,i),t=Math.max(a,t),l&&(t=Math.min(l,t)),w.h=t),~x.indexOf("l")&&(t=g==="%"?(0,Vt.normalizeFloat)((b-u*i)/d*100,.01):(0,Vt.normalizeFloat)(b-u*i,i),t=Math.max(a,t),l&&(t=Math.min(l,t)),w.w=t),~x.indexOf("t")&&(t=m==="%"?(0,Vt.normalizeFloat)((C-c*i)/h*100,.01):(0,Vt.normalizeFloat)(C-c*i,i),t=Math.max(a,t),l&&(t=Math.min(l,t)),w.h=t);var O=n.ratioDefault?!e.keys.shift:e.keys.shift;if(x.indexOf("c")<0&&O){var k=o.w/o.h;w.w/w.h>k?w.h=Math.round(w.w/k):w.w=Math.round(w.h*k)}~x.indexOf("l")&&(w.l+=o.w-w.w),~x.indexOf("t")&&(w.t+=o.h-w.h);for(var V in w){var Z=V;w[Z]=parseInt("".concat(w[Z]),10)}return w}},r.prototype.getParentRect=function(){var e={left:0,top:0,width:0,height:0},t=this.el;if(!t)return e;var n=t.offsetParent;return n&&n.tagName!=="BODY"&&(e=this.getElementPos(n)),e},r}();const Vz=jz;var Pi=function(){return Pi=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Pi.apply(this,arguments)};function Bz(r,e,t){for(var n={index:0,placement:"before"},i=0,o=0,a=0,l=0,u=0,c=0,d=0,h,g=0,m=r.length;g<m;g++){h=r[g];var _=h.top,b=h.left,C=h.height,w=h.width;if(a=b+w,d=_+C,u=b+w/2,c=_+C/2,!(o&&b>o||l&&c>=l||i&&a<i))if(n.index=g,!h.dir)t<d&&(l=d),e<u?(o=u,n.placement="before"):(i=u,n.placement="after");else if(t<c){n.placement="before";break}else n.placement="after"}return n}function D1(r){var e=r.getBoundingClientRect();return{top:e.top+document.body.scrollTop,left:e.left+document.body.scrollLeft}}function nw(r,e){return Vt.matches.call(r,e)}function Uz(r,e){var t=__(r),n=__(e),i=n.filter(function(u){return t.includes(u)}),o=i[0];if(!o)return r.model.index()-e.model.index();var a=n[n.indexOf(o)-1],l=t[t.indexOf(o)-1];return l.index()-a.index()}function __(r){return r?[r].concat(__(r.parent())):[]}function Iz(r,e){if(r)for(var t=r.parentNode;t&&t.nodeType===1;){if(nw(t,e))return t;t=t.parentNode}}function zz(r,e){if((0,ae.ir)(r))return!1;var t=r.style||{},n=(0,ur.default)(r),i=(0,ur.default)(e);if(t.overflow&&t.overflow!=="visible")return!1;var o=n.css("float");return o&&o!=="none"||i.css("display")==="flex"&&i.css("flex-direction")!=="column"||!Hz(t.position)?!1:Fz(r)||Wz(n)}function Hz(r){switch(r){case"static":case"relative":case"":return!0;default:return!1}}function Fz(r){var e=["TR","TBODY","THEAD","TFOOT"];return e.includes(r.tagName)}function Wz(r){var e=r.css("display"),t=["block","list-item","table","flex","grid"];return t.includes(e)}function qz(r){var e={containerContext:{container:"",placeholderElement:"",containerSel:"*",itemSel:"*",pfx:"",document},positionOptions:{borderOffset:10,relative:!1,windowMargin:0,offsetTop:0,offsetLeft:0,scale:1,canvasRelative:!1},dragBehavior:{dragDirection:gl.A.Vertical,nested:!1,selectOnEnd:!0},eventHandlers:{}},t=Pi(Pi(Pi({},e),r),{containerContext:Pi(Pi({},e.containerContext),r.containerContext),positionOptions:Pi(Pi({},e.positionOptions),r.positionOptions),dragBehavior:Pi(Pi({},e.dragBehavior),r.dragBehavior),eventHandlers:Pi(Pi({},e.eventHandlers),r.eventHandlers)});return t}var ak=function(){function r(e){this.timeout=null,this.threshold=e}return r.prototype.updateArgs=function(e){this.lastArgs=e},r.prototype.execute=function(e){var t=this;this.timeout||(this.timeout=setTimeout(function(){t.lastArgs&&e(t.lastArgs),t.timeout=null},this.threshold))},r.prototype.clearTimeout=function(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null),delete this.lastArgs},r}(),b_=function(){return b_=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},b_.apply(this,arguments)},Kz=function(){function r(e){this.top=e.top,this.left=e.left,this.height=e.height,this.width=e.width,this.offsets=e.offsets,this.dir=e.dir}return r.prototype.calculateDimensionDifference=function(e){var t=e.top-this.top,n=e.left-this.left;return{topDifference:t,leftDifference:n}},r.prototype.adjustDimensions=function(e){return this.top+=e.topDifference,this.left+=e.leftDifference,this},r.prototype.determinePlacement=function(e,t){var n=this.left+this.width/2,i=this.top+this.height/2;return this.dir?t<i?"before":"after":e<n?"before":"after"},r.prototype.equals=function(e){return e?this.top===e.top&&this.left===e.left&&this.height===e.height&&this.width===e.width&&this.dir===e.dir&&JSON.stringify(this.offsets)===JSON.stringify(e.offsets):!1},r.prototype.clone=function(){return new r({top:this.top,left:this.left,height:this.height,width:this.width,offsets:b_({},this.offsets),dir:this.dir})},r.prototype.getDropArea=function(e){var t=this.clone(),n=this.adjustDropDimension(this.width,this.left,e),i=n.newSize,o=n.newPosition;t.width=i,t.left=o;var a=this.adjustDropDimension(this.height,this.top,e),l=a.newSize,u=a.newPosition;return t.height=l,t.top=u,t},r.prototype.adjustDropDimension=function(e,t,n){var i=n.ratio,o=n.minUndroppableDimension,a=n.maxUndroppableDimension,l=e*(1-i)/2;l=Math.max(l,o),l=Math.min(l,a);var u=e-l*2,c=t+l;return{newSize:u,newPosition:c}},r.prototype.isWithinBounds=function(e,t){return e>=this.left&&e<=this.left+this.width&&t>=this.top&&t<=this.top+this.height},r}();const Gz=Kz;var Yz=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Wv=function(){return Wv=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Wv.apply(this,arguments)},Xz=function(r){Yz(e,r);function e(t){var n=r.call(this)||this;return n.sourceNodes=[],n.containerOffset={top:0,left:0},n.moveThreshold=20,n.treeClass=t.treeClass,n.em=t.em,n.containerContext=t.containerContext,n.positionOptions=t.positionOptions,n.dragDirection=t.dragDirection,n.eventHandlers=t.eventHandlers,(0,z.bindAll)(n,"endDrag","cancelDrag","recalculateTargetOnScroll","startSort","onDragStart","onMove"),n.restLastMoveData(),n.rateLimiter=new ak(n.moveThreshold),n}return e.prototype.startSort=function(t){this.sourceNodes=t,this.bindDragEventHandlers()},e.prototype.bindDragEventHandlers=function(){(0,ae.on)(this.containerContext.container,"dragstart",this.onDragStart),(0,ae.on)(this.containerContext.container,"mousemove dragover",this.onMove),(0,ae.on)(this.containerContext.document,"mouseup dragend touchend",this.endDrag)},e.prototype.recalculateTargetOnScroll=function(){var t=this.lastMoveData.mouseEvent;t&&this.onMove(t)},e.prototype.onMove=function(t){this.rateLimiter.updateArgs(t),this.rateLimiter.execute(this.handleMove.bind(this))},e.prototype.handleMove=function(t){var n,i,o,a,l,u;this.adjustForScroll();var c=this.lastMoveData.targetNode;(i=(n=this.eventHandlers).onMouseMove)===null||i===void 0||i.call(n,t);var d=this.getMousePositionRelativeToContainer(t.clientX,t.clientY),h=d.mouseXRelative,g=d.mouseYRelative,m=this.getTargetNode(t),_=!(m!=null&&m.equals(c));if(_&&((a=(o=this.eventHandlers).onTargetChange)===null||a===void 0||a.call(o,c,m)),!m){this.triggerLegacyOnMoveCallback(t,0),this.triggerMoveEvent(h,g),this.restLastMoveData();return}var b=this.getDropPosition(m,h,g),C=b.index,w=b.placement,x=b.placeholderDimensions,O=!x.equals(this.lastMoveData.placeholderDimensions)||w!==this.lastMoveData.placement;O&&((u=(l=this.eventHandlers).onPlaceholderPositionChange)===null||u===void 0||u.call(l,x,w)),this.lastMoveData=Wv(Wv({},this.lastMoveData),{targetNode:m,mouseEvent:t,index:C,placement:w,placeholderDimensions:x}),this.triggerMoveEvent(h,g),this.triggerLegacyOnMoveCallback(t,C)},e.prototype.adjustForScroll=function(){var t,n,i=this.lastMoveData.targetNode;if(i!=null&&i.element){var o=this.getDim(i==null?void 0:i.element),a=(t=i.nodeDimensions)===null||t===void 0?void 0:t.calculateDimensionDifference(o);a&&i.adjustDimensions(a)}var l=this.lastMoveData.hoveredNode;if(l!=null&&l.element){var o=this.getDim(l==null?void 0:l.element),a=(n=l.nodeDimensions)===null||n===void 0?void 0:n.calculateDimensionDifference(o);a&&l.adjustDimensions(a)}},e.prototype.restLastMoveData=function(){this.lastMoveData={targetNode:void 0,index:void 0,placement:void 0,mouseEvent:void 0}},e.prototype.triggerLegacyOnMoveCallback=function(t,n){var i,o,a,l,u=(i=this.sourceNodes[0])===null||i===void 0?void 0:i.model;(a=(o=this.eventHandlers).legacyOnMoveClb)===null||a===void 0||a.call(o,{event:t,target:u,parent:(l=this.lastMoveData.targetNode)===null||l===void 0?void 0:l.model,index:n})},e.prototype.triggerMoveEvent=function(t,n){var i,o=this.lastMoveData,a=o.targetNode,l=o.placement,u=o.index,c=u?u+(l==="after"?-1:0):0;this.em.trigger("sorter:drag",{target:(a==null?void 0:a.element)||null,targetModel:(i=this.lastMoveData.targetNode)===null||i===void 0?void 0:i.model,sourceModel:this.sourceNodes[0].model,dims:(a==null?void 0:a.childrenDimensions)||[],pos:{index:c,indexEl:c,placement:l},x:t,y:n})},e.prototype.getDropPosition=function(t,n,i){var o,a=t.nodeDimensions,l=t.childrenDimensions,u=t.getChildren(),c=u&&u.length>0;a=a||this.getDim(t.element),t.nodeDimensions=a,l=l||this.getChildrenDim(t),t.childrenDimensions=l;var d=a.clone(),h=0,g="inside";return c&&(o=Bz(l,n,i),h=o.index,g=o.placement,d=l[h].clone(),h=h+(g=="after"?1:0)),{index:h,placement:g,placeholderDimensions:d}},e.prototype.getTargetNode=function(t){var n;this.cacheContainerPosition(this.containerContext.container);var i=this.getMousePositionRelativeToContainer(t.clientX,t.clientY),o=i.mouseXRelative,a=i.mouseYRelative,l=this.getMouseTargetElement(t),u=this.getFirstElementWithAModel(l);if(u){var c=(n=(0,ur.default)(u))===null||n===void 0?void 0:n.data("model");if(c){var d=this.getOrCreateHoveredNode(c),h=this.getDropPosition(d,o,a).index,g=this.getValidParent(d,h,o,a);return this.getOrReuseTargetNode(g)}}},e.prototype.getOrCreateHoveredNode=function(t){var n=this.lastMoveData.hoveredNode,i=new this.treeClass(t),o=i.equals(n)?n:i;return this.lastMoveData.hoveredNode=o,o},e.prototype.getOrReuseTargetNode=function(t){var n=this.lastMoveData.targetNode;return t!=null&&t.equals(n)?n:t},e.prototype.getMouseTargetElement=function(t){var n=this.containerContext.customTarget,i=this.containerContext.document.elementFromPoint(t.clientX,t.clientY),o=n?n({event:t}):i;return o},e.prototype.onDragStart=function(t){this.eventHandlers.onDragStart&&this.eventHandlers.onDragStart(t)},e.prototype.endDrag=function(){this.dropDragged()},e.prototype.cancelDrag=function(){var t,n,i=this.lastMoveData.targetNode;(n=(t=this.eventHandlers).onTargetChange)===null||n===void 0||n.call(t,i,void 0),this.finalizeMove()},e.prototype.finalizeMove=function(){var t,n,i,o;this.cleanupEventListeners(),this.triggerOnDragEndEvent(),(n=(t=this.eventHandlers).onEnd)===null||n===void 0||n.call(t),(o=(i=this.eventHandlers).legacyOnEnd)===null||o===void 0||o.call(i),this.restLastMoveData(),this.rateLimiter.clearTimeout()},e.prototype.dropDragged=function(){var t,n,i=this.lastMoveData,o=i.targetNode,a=i.index;(n=(t=this.eventHandlers).onDrop)===null||n===void 0||n.call(t,o,this.sourceNodes,a),this.finalizeMove()},e.prototype.triggerOnDragEndEvent=function(){var t=this.lastMoveData.targetNode,n=this.sourceNodes[0];this.em.trigger("sorter:drag:end",{targetCollection:t?t.getChildren():null,modelToDrop:n==null?void 0:n.model,warns:[""],validResult:{result:!0,src:this.sourceNodes.map(function(i){return i.element}),srcModel:n==null?void 0:n.model,trg:t==null?void 0:t.element,trgModel:t==null?void 0:t.model,draggable:!0,droppable:!0},dst:t==null?void 0:t.element,srcEl:n==null?void 0:n.element})},e.prototype.getFirstElementWithAModel=function(t){for(var n=function(i){return(0,ur.default)(i).data("model")!==void 0};t&&this.containerContext.container.contains(t);){if(n(t))return t;t=t.parentElement}return null},e.prototype.getValidParent=function(t,n,i,o){if(t){var a=this.lastMoveData.targetNode,l=t.equals(a);if(t.nodeDimensions=l?a.nodeDimensions:this.getDim(t.element),!t.isWithinDropBounds(i,o))return this.handleParentTraversal(t,i,o);var u=l&&n===this.lastMoveData.index;if(u)return a;var c=this.sourceNodes.some(function(d){return t.canMove(d,n)});return this.triggerDragValidation(c,t),c?t:this.handleParentTraversal(t,i,o)}},e.prototype.handleParentTraversal=function(t,n,i){var o=t.getParent();if(o){var a=this.getIndexInParent(o,t,t.nodeDimensions,n,i);return this.getValidParent(o,a,n,i)}},e.prototype.getIndexInParent=function(t,n,i,o,a){var l=t==null?void 0:t.indexOfChild(n);return i.dir=this.getDirection(n.element,t.element),l=l+(i.determinePlacement(o,a)=="after"?1:0),l},e.prototype.triggerDragValidation=function(t,n){var i=this.sourceNodes[0];return this.em.trigger("sorter:drag:validation",{valid:t,src:i==null?void 0:i.element,srcModel:i==null?void 0:i.model,trg:n.element,trgModel:n.model}),i},e.prototype.cleanupEventListeners=function(){var t=this.containerContext.container;(0,ae.AU)(t,"dragstart",this.onDragStart),(0,ae.AU)(t,"mousemove dragover",this.onMove),(0,ae.AU)(this.containerContext.document,"mouseup dragend touchend",this.endDrag)},e.prototype.getDirection=function(t,n){var i;return this.dragDirection===gl.A.Vertical?i=!0:this.dragDirection===gl.A.Horizontal?i=!1:i=zz(t,n),i},e.prototype.getChildrenDim=function(t){var n=this,i=[],o=t.element;if(!o)return[];var a=t.getChildren();return!a||a.length===0?[]:((0,z.each)(a,function(l,u){var c=l.element;if(c&&!(!(0,ae.ir)(c)&&!nw(c,n.containerContext.itemSel))){var d=n.getDim(c);d.dir=n.getDirection(c,o),i.push(d)}}),i)},e.prototype.getMousePositionRelativeToContainer=function(t,n){var i=n-this.containerOffset.top+this.containerContext.container.scrollTop,o=t-this.containerOffset.left+this.containerContext.container.scrollLeft;if(this.positionOptions.canvasRelative){var a=this.em.Canvas.getMouseRelativeCanvas({clientX:t,clientY:n},{noScroll:1});o=a.x,i=a.y}return{mouseXRelative:o,mouseYRelative:i}},e.prototype.cacheContainerPosition=function(t){var n=D1(t),i=this.positionOptions.windowMargin?Math.abs(n.top):n.top,o=this.positionOptions.windowMargin?Math.abs(n.left):n.left;this.containerOffset={top:i,left:o}},e.prototype.getDim=function(t){var n=this.em,i=this.positionOptions.relative,o=this.positionOptions.windowMargin,a=n==null?void 0:n.Canvas,l=a?a.getElementOffsets(t):{},u,c,d,h;if(this.positionOptions.canvasRelative&&this.em){var g=a.getElementPos(t,{noScroll:1});u=g.top,c=g.left,d=g.height,h=g.width}else{var m=D1(t);u=i?t.offsetTop:m.top-(o?-1:1)*this.containerOffset.top,c=i?t.offsetLeft:m.left-(o?-1:1)*this.containerOffset.left,d=t.offsetHeight,h=t.offsetWidth}return new Gz({top:u,left:c,height:d,width:h,offsets:l})},e}(te.Ss),Zz=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),$z=function(r){Zz(e,r);function e(t){var n=r.call(this)||this;return n.pfx=t.pfx||"",n.allowNesting=t.allowNesting||!1,n.container=t.container,n.setElement(t.el),n.offset={top:t.offset.top||0,left:t.offset.left||0},n.moveLimiter=new ak(100),n}return e.prototype.show=function(){this.el.style.display="block"},e.prototype.hide=function(){this.moveLimiter.clearTimeout(),this.el.style.display="none"},e.prototype.move=function(t,n){var i=this,o={elementDimension:t,placement:n};this.moveLimiter.updateArgs(o),this.moveLimiter.execute(function(a){var l=a.elementDimension,u=a.placement;i._move(l,u)})},e.prototype._move=function(t,n){var i=0,o="px",a=0,l=0,u="",c="";this.setOrientationForDimension(t);var d=t.top,h=t.left,g=t.height,m=t.width,_=t.dir,b=t.offsets;if(n==="inside"){if(this.setOrientation("horizontal"),!this.allowNesting){this.hide();return}var C=5,w=(b==null?void 0:b.paddingTop)||C,x=(b==null?void 0:b.paddingLeft)||C,O=(b==null?void 0:b.borderTopWidth)||0,k=(b==null?void 0:b.borderLeftWidth)||0,V=(b==null?void 0:b.borderRightWidth)||0,Z=k+V;a=d+w+O,l=h+x+k,u=Math.max(m-x*2-Z,1)+"px",c="auto"}else _?(u=m+o,c="auto",a=n==="before"?d-i:d+g-i,l=h):(u="auto",c=g-i*2+o,a=d+i,l=n==="before"?h-i:h+m-i,this.setOrientation("vertical"));this.updateStyles(a,l,u,c),this.adjustOffset()},e.prototype.setOrientationForDimension=function(t){this.el.classList.remove("vertical"),this.el.classList.add("horizontal"),t&&!t.dir&&this.setOrientation("vertical")},e.prototype.setOrientation=function(t){this.el.classList.remove("horizontal"),this.el.classList.remove("vertical"),this.el.classList.add(t)},e.prototype.updateStyles=function(t,n,i,o){this.el.style.top=t+"px",this.el.style.left=n+"px",i&&(this.el.style.width=i),o&&(this.el.style.height=o)},e.prototype.adjustOffset=function(){this.$el.css("top","+="+this.offset.top+"px"),this.$el.css("left","+="+this.offset.left+"px")},e}(te.Ss),Tu=function(){return Tu=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Tu.apply(this,arguments)},Jz=function(){function r(e){var t=qz(e);(0,z.bindAll)(this,"startSort","cancelDrag","recalculateTargetOnScroll","rollback","updateOffset","handlePlaceholderMove","finalizeMove"),this.containerContext=t.containerContext,this.positionOptions=t.positionOptions,this.dragBehavior=t.dragBehavior,this.eventHandlers=Tu(Tu({},t.eventHandlers),{onPlaceholderPositionChange:this.handlePlaceholderMove,onEnd:this.finalizeMove}),this.em=e.em,this.treeClass=e.treeClass,this.updateOffset(),this.em.on(this.em.Canvas.events.refresh,this.updateOffset),this.placeholder=this.createPlaceholder(),this.dropLocationDeterminer=new Xz({em:this.em,treeClass:this.treeClass,containerContext:this.containerContext,positionOptions:this.positionOptions,dragDirection:this.dragBehavior.dragDirection,eventHandlers:this.eventHandlers})}return r.prototype.startSort=function(e){var t,n,i,o,a,l,u,c=this.getSourceNodes(e),d=c.sourceNodes,h=c.sourcesWithModel;this.sourceNodes=d,this.dropLocationDeterminer.startSort(d),this.bindDragEventHandlers(),(n=(t=this.eventHandlers).onStartSort)===null||n===void 0||n.call(t,this.sourceNodes,this.containerContext.container);var g=(i=this.sourceNodes[0])===null||i===void 0?void 0:i.model;(a=(o=this.eventHandlers).legacyOnStartSort)===null||a===void 0||a.call(o,{sorter:this,target:g,parent:g&&((l=g.parent)===null||l===void 0?void 0:l.call(g)),index:g&&((u=g.index)===null||u===void 0?void 0:u.call(g))}),this.em.trigger("sorter:drag:start",e[0],h[0])},r.prototype.validTarget=function(e,t,n){if(!e)return!1;var i=(0,ur.default)(e).data("model");if(!i)return!1;var o=new this.treeClass(i),a=this.getSourceNodes(t).sourceNodes,l=a.some(function(u){return o.canMove(u,n)});return l},r.prototype.getSourceNodes=function(e){var t=this,n=e.filter(function(l){return!!l.dragSource||t.findValidSourceElement(l.element)}),i=n.map(function(l){var u;return{model:(u=(0,ur.default)(l.element))===null||u===void 0?void 0:u.data("model"),content:l.dragSource}}),o=i.sort(function(l,u){return Uz(l.model,u.model)}),a=o.map(function(l){return new t.treeClass(l.model,l.content)});return{sourceNodes:a,sourcesWithModel:i}},r.prototype.recalculateTargetOnScroll=function(){this.dropLocationDeterminer.recalculateTargetOnScroll()},r.prototype.cancelDrag=function(){this.triggerNullOnEndMove(!0),this.dropLocationDeterminer.cancelDrag()},r.prototype.endDrag=function(){this.dropLocationDeterminer.endDrag()},r.prototype.handlePlaceholderMove=function(e,t){this.ensurePlaceholderElement(),this.updatePlaceholderPosition(e,t)},r.prototype.createPlaceholder=function(){return new $z({container:this.containerContext.container,allowNesting:this.dragBehavior.nested,pfx:this.containerContext.pfx,el:this.containerContext.placeholderElement,offset:{top:this.positionOptions.offsetTop,left:this.positionOptions.offsetLeft}})},r.prototype.ensurePlaceholderElement=function(){var e=this.placeholder.el,t=this.containerContext.container;e.ownerDocument.contains(e)||t.append(this.placeholder.el)},r.prototype.updateOffset=function(){var e,t=((e=this.em)===null||e===void 0?void 0:e.get("canvasOffset"))||{};this.positionOptions.offsetTop=t.top,this.positionOptions.offsetLeft=t.left},r.prototype.findValidSourceElement=function(e){return e&&!nw(e,"".concat(this.containerContext.itemSel,", ").concat(this.containerContext.containerSel))&&(e=Iz(e,this.containerContext.itemSel)),e},r.prototype.bindDragEventHandlers=function(){(0,ae.on)(this.containerContext.document,"keydown",this.rollback)},r.prototype.updatePlaceholderPosition=function(e,t){this.placeholder.move(e,t)},r.prototype.cleanupEventListeners=function(){(0,ae.AU)(this.containerContext.document,"keydown",this.rollback)},r.prototype.finalizeMove=function(){this.cleanupEventListeners(),this.placeholder.hide(),delete this.sourceNodes},r.prototype.rollback=function(e){(0,ae.AU)(this.containerContext.document,"keydown",this.rollback);var t="Escape";e.key===t&&this.cancelDrag()},r.prototype.triggerNullOnEndMove=function(e){var t,n,i,o,a,l=(t=this.sourceNodes)===null||t===void 0?void 0:t[0].model,u={target:l,parent:l&&((n=l.parent)===null||n===void 0?void 0:n.call(l)),index:l&&((i=l.index)===null||i===void 0?void 0:i.call(l))};(a=(o=this.eventHandlers).legacyOnEndMove)===null||a===void 0||a.call(o,null,this,Tu(Tu({},u),{cancelled:e}))},r}();const sk=Jz;var Qz=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Au=function(){return Au=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Au.apply(this,arguments)},tH=no.F.Target,Ly={id:"sorter-target",type:tH},eH=function(r){Qz(e,r);function e(t){var n=t.em,i=t.treeClass,o=t.containerContext,a=t.dragBehavior,l=t.positionOptions,u=l===void 0?{}:l,c=t.eventHandlers,d=c===void 0?{}:c,h=r.call(this,{em:n,treeClass:i,containerContext:o,positionOptions:u,dragBehavior:a,eventHandlers:Au(Au({},d),{onStartSort:function(g,m){var _;(_=d.onStartSort)===null||_===void 0||_.call(d,g,m),h.onStartSort()},onDrop:function(g,m,_){var b;(b=d.onDrop)===null||b===void 0||b.call(d,g,m,_),h.onDrop(g,m,_)},onTargetChange:function(g,m){var _;(_=d.onTargetChange)===null||_===void 0||_.call(d,g,m),h.onTargetChange(g,m)},onMouseMove:function(g){var m;(m=d.onMouseMove)===null||m===void 0||m.call(d,g),h.onMouseMove(g)}})})||this;return h.targetIsText=!1,h.onMouseMove=function(g){var m,_=h.targetIsText&&((m=h.sourceNodes)===null||m===void 0?void 0:m.some(function(b){return b.isTextable()}));_&&h.updateTextViewCursorPosition(g)},h.onDrop=function(g,m,_){var b=typeof _=="number"?_:-1;if(g&&m.length>0){var C=h.handleNodeAddition(g,m,b);C.length===0&&h.triggerNullOnEndMove(!1)}else h.triggerNullOnEndMove(!0);g==null||g.restNodeState(),h.placeholder.hide()},h.onTargetChange=function(g,m){var _;g==null||g.restNodeState();var b=h.em.Canvas;if(!m){h.placeholder.hide(),b.removeSpots(Ly);return}m==null||m.setSelectedParentState(),h.targetIsText=m.isTextNode();var C=h.targetIsText&&((_=h.sourceNodes)===null||_===void 0?void 0:_.some(function(k){return k.isTextable()}));C?(m.setContentEditable(!0),h.placeholder.hide()):h.placeholder.show();var w=no.F.Select,x=no.F.Hover,O=no.F.Spacing;[w,x,O].forEach(function(k){return b.removeSpots({type:k})}),b.addSpot(Au(Au({},Ly),{component:m.model}))},(0,z.bindAll)(h,"handleScrollEvent"),h}return e.prototype.onStartSort=function(){this.em.clearSelection(),this.setAutoCanvasScroll(!0)},e.prototype.bindDragEventHandlers=function(){this.em.on("frame:scroll",this.handleScrollEvent),r.prototype.bindDragEventHandlers.call(this)},e.prototype.cleanupEventListeners=function(){this.em.off("frame:scroll",this.handleScrollEvent),r.prototype.cleanupEventListeners.call(this)},e.prototype.handleScrollEvent=function(){for(var t,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=(t=n==null?void 0:n[0])===null||t===void 0?void 0:t.frame,a=this.em.Canvas.getCanvasView().frame===o;a&&this.recalculateTargetOnScroll()},e.prototype.handleNodeAddition=function(t,n,i){var o=this;return n.reduce(function(a,l){if(!t.canMove(l,i))return a;if(o.isPositionChanged(t,l,i)){var u=o.moveNode(t,l,i),c=u.index,d=u.addedNode;a.push(d),i=c}return i++,a},[])},e.prototype.isPositionChanged=function(t,n,i){var o=n.getParent(),a=o?o.indexOfChild(n):-1;(o==null?void 0:o.model.cid)===t.model.cid&&a<i&&i--;var l=(o==null?void 0:o.model.cid)===t.model.cid,u=a===i,c=this.targetIsText&&n.isTextable();return!(l&&u&&!c)},e.prototype.moveNode=function(t,n,i){var o=n.getParent();if(o){var a=o.indexOfChild(n);o.removeChildAt(a,{temporary:!0}),o.model.cid===t.model.cid&&a<i&&i--}var l=t.addChildAt(n,i,{action:"move-component"});return l&&this.triggerEndMoveEvent(l),{addedNode:l,index:i}},e.prototype.triggerEndMoveEvent=function(t){var n,i,o,a,l,u;(i=(n=this.eventHandlers).legacyOnEndMove)===null||i===void 0||i.call(n,t.model,this,{target:t.model,parent:t.model&&((a=(o=t.model).parent)===null||a===void 0?void 0:a.call(o)),index:t.model&&((u=(l=t.model).index)===null||u===void 0?void 0:u.call(l))})},e.prototype.finalizeMove=function(){var t,n;(t=this.em)===null||t===void 0||t.Canvas.removeSpots(Ly),(n=this.sourceNodes)===null||n===void 0||n.forEach(function(i){return i.restNodeState()}),this.setAutoCanvasScroll(!1),r.prototype.finalizeMove.call(this)},e.prototype.updateTextViewCursorPosition=function(t){var n=this.em;if(n){var i=n.Canvas,o=i.getDocument(),a=null,l=(0,ae.G2)(t);if(o.caretPositionFromPoint){var u=o.caretPositionFromPoint(l.clientX,l.clientY);u&&(a=o.createRange(),a.setStart(u.offsetNode,u.offset))}else o.caretRangeFromPoint?a=o.caretRangeFromPoint(l.clientX,l.clientY):t.rangeParent&&(a=o.createRange(),a.setStart(t.rangeParent,t.rangeOffset));var c=i.getWindow().getSelection();i.getFrameEl().focus(),c==null||c.removeAllRanges(),a&&(c==null||c.addRange(a))}},e.prototype.setAutoCanvasScroll=function(t){var n=this.em,i=n==null?void 0:n.Canvas;i&&(t?i.startAutoscroll():i.stopAutoscroll())},e}(sk);const P1=eH;var nH=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),qv=function(){return qv=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},qv.apply(this,arguments)},rH=function(r){nH(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.defaults=function(){return{values:{}}},e.prototype.initialize=function(){var t=this.collection;this.prop=t==null?void 0:t.prop},e.prototype.getId=function(){return this.cid},e.prototype.getIndex=function(){var t=this.collection;return t?t.indexOf(this):-1},e.prototype.getValues=function(t){t===void 0&&(t={});var n=this.get("values");return t.camelCase?Object.keys(n).reduce(function(i,o){return i[(0,Vt.camelCase)(o)]=n[o],i},{}):n},e.prototype.getLabel=function(){var t;return(t=this.prop)===null||t===void 0?void 0:t.getLayerLabel(this)},e.prototype.isSelected=function(){var t;return((t=this.prop)===null||t===void 0?void 0:t.getSelectedLayer())===this},e.prototype.select=function(){var t;return(t=this.prop)===null||t===void 0?void 0:t.selectLayer(this)},e.prototype.remove=function(){var t;return(t=this.prop)===null||t===void 0?void 0:t.removeLayer(this)},e.prototype.move=function(t){var n;return(n=this.prop)===null||n===void 0?void 0:n.moveLayer(this,t)},e.prototype.getStylePreview=function(t){var n;return t===void 0&&(t={}),(n=this.prop)===null||n===void 0?void 0:n.getStylePreview(this,t)},e.prototype.hasPreview=function(){var t;return!!(!((t=this.prop)===null||t===void 0)&&t.get("preview"))},e.prototype.upValues=function(t){return t===void 0&&(t={}),this.set("values",qv(qv({},this.getValues()),t))},e}(te.Kx);const vf=rH;var iH=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),lk=function(r){iH(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.initialize=function(t,n){n===void 0&&(n={}),this.prop=n.prop},e}(te.pM);const vp=lk;lk.prototype.model=vf;var oH=We(3178),aH=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),sH=function(r){aH(e,r);function e(t){return r.call(this,t)||this}return e.prototype.getChildren=function(){return this.model instanceof vp?this.model.models.map(function(t){return new e(t)}):null},e.prototype.getParent=function(){var t=this.model instanceof vf?this.model.collection:null;return t?new e(t):null},e.prototype.addChildAt=function(t,n){if(this.model instanceof vf)throw Error("Cannot add a layer model to another layer model");var i=this.model.add(t.model,{at:n});return new e(i)},e.prototype.removeChildAt=function(t){if(this.model instanceof vf)throw Error("Cannot remove a layer model from another layer model");var n=this.model.at(t);n&&this.model.remove(n)},e.prototype.indexOfChild=function(t){return!(t.model instanceof vf)||!(this.model instanceof vp)?-1:this.model.indexOf(t.model)},e.prototype.canMove=function(t,n){return this.model instanceof vp&&!!t.model},Object.defineProperty(e.prototype,"view",{get:function(){return this.model.view},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"element",{get:function(){var t;return(t=this.view)===null||t===void 0?void 0:t.el},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"model",{get:function(){return this._model},enumerable:!1,configurable:!0}),e}(oH.$),lH=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),w_=function(){return w_=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},w_.apply(this,arguments)},uH=function(r){lH(e,r);function e(t){var n=t.em,i=t.containerContext,o=t.dragBehavior,a=t.positionOptions,l=a===void 0?{}:a,u=t.eventHandlers,c=u===void 0?{}:u,d=r.call(this,{em:n,treeClass:sH,containerContext:i,positionOptions:l,dragBehavior:o,eventHandlers:w_({onStartSort:function(h,g){var m;(m=c.onStartSort)===null||m===void 0||m.call(c,h,g),d.onLayerStartSort(h)},onDrop:function(h,g,m){var _;(_=c.onDrop)===null||_===void 0||_.call(c,h,g,m),d.onLayerDrop(h,g,m)},onEnd:function(){d.placeholder.hide()}},c)})||this;return d.onLayerStartSort=function(h){d.em.clearSelection();var g=h[0];d.em.trigger("sorter:drag:start",g==null?void 0:g.element,g==null?void 0:g.model),d.placeholder.show()},d.onLayerDrop=function(h,g,m){if(h){m=typeof m=="number"?m:-1;for(var _=0;_<g.length;_++){var b=g[_];if(h.canMove(b,_)){var C=b.getParent(),w=-1;C&&(w=C.indexOfChild(b),C.removeChildAt(w)),m=w<m?m-1:m,h.addChildAt(b,m)}}d.placeholder.hide()}},d}return e}(sk);const cH=uH;var fH=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),S_=function(){return S_=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},S_.apply(this,arguments)},dH=function(r){fH(e,r);function e(t){var n=r.call(this,t,"Utils")||this;return n.Sorter=P1,n.Resizer=Vz,n.Dragger=p2.A,n.ComponentSorter=P1,n.StyleManagerSorter=cH,n.helpers=S_({},Vt),n}return e.prototype.destroy=function(){},e}(_i);const hH=dH;var hi,Vi={},qr={16:!1,18:!1,17:!1,91:!1},uk="all",yl={"⇧":16,shift:16,"⌥":18,alt:18,option:18,"⌃":17,ctrl:17,control:17,"⌘":91,command:91},ck={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220},rw=function(r){return ck[r]||r.toUpperCase().charCodeAt(0)},nc=[];for(hi=1;hi<20;hi++)ck["f"+hi]=111+hi;function Hf(r,e){for(var t=r.length;t--;)if(r[t]===e)return t;return-1}function pH(r,e){if(r.length!=e.length)return!1;for(var t=0;t<r.length;t++)if(r[t]!==e[t])return!1;return!0}var vH={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey"};function gH(r){for(hi in qr)qr[hi]=r[vH[hi]]}function mH(r){var e,t,n,i,o,a;if(e=r.keyCode,Hf(nc,e)==-1&&nc.push(e),(e==93||e==224)&&(e=91),e in qr){qr[e]=!0;for(n in yl)yl[n]==e&&(Xr[n]=!0);return}if(gH(r),!!Xr.filter.call(this,r)&&e in Vi){for(a=iw(),i=0;i<Vi[e].length;i++)if(t=Vi[e][i],t.scope==a||t.scope=="all"){o=t.mods.length>0;for(n in qr)(!qr[n]&&Hf(t.mods,+n)>-1||qr[n]&&Hf(t.mods,+n)==-1)&&(o=!1);(t.mods.length==0&&!qr[16]&&!qr[18]&&!qr[17]&&!qr[91]||o)&&t.method(r,t)===!1&&(r.preventDefault?r.preventDefault():r.returnValue=!1,r.stopPropagation&&r.stopPropagation(),r.cancelBubble&&(r.cancelBubble=!0))}}}function yH(r){var e=r.keyCode,t,n=Hf(nc,e);if(n>=0&&nc.splice(n,1),(e==93||e==224)&&(e=91),e in qr){qr[e]=!1;for(t in yl)yl[t]==e&&(Xr[t]=!1)}}function _H(){for(hi in qr)qr[hi]=!1;for(hi in yl)Xr[hi]=!1}function Xr(r,e,t){var n,i;n=fk(r),t===void 0&&(t=e,e="all");for(var o=0;o<n.length;o++)i=[],r=n[o].split("+"),r.length>1&&(i=dk(r),r=[r[r.length-1]]),r=r[0],r=rw(r),r in Vi||(Vi[r]=[]),Vi[r].push({shortcut:n[o],scope:e,method:t,key:n[o],mods:i})}function bH(r,e){var t,n,i=[],o,a,l;for(t=fk(r),a=0;a<t.length;a++){if(n=t[a].split("+"),n.length>1&&(i=dk(n)),r=n[n.length-1],r=rw(r),e===void 0&&(e=iw()),!Vi[r])return;for(o=0;o<Vi[r].length;o++)l=Vi[r][o],l.scope===e&&pH(l.mods,i)&&(Vi[r][o]={})}}function wH(r){return typeof r=="string"&&(r=rw(r)),Hf(nc,r)!=-1}function SH(){return nc.slice(0)}function CH(r){var e=(r.target||r.srcElement).tagName;return!(e=="INPUT"||e=="SELECT"||e=="TEXTAREA")}for(hi in yl)Xr[hi]=!1;function xH(r){uk=r||"all"}function iw(){return uk||"all"}function OH(r){var e,t,n;for(e in Vi)for(t=Vi[e],n=0;n<t.length;)t[n].scope===r?t.splice(n,1):n++}function fk(r){var e;return r=r.replace(/\s/g,""),e=r.split(","),e[e.length-1]==""&&(e[e.length-2]+=","),e}function dk(r){for(var e=r.slice(0,r.length-1),t=0;t<e.length;t++)e[t]=yl[e[t]];return e}function Ny(r,e,t){r.addEventListener?r.addEventListener(e,t,!1):r.attachEvent&&r.attachEvent("on"+e,function(){t(window.event)})}Xr.setScope=xH;Xr.getScope=iw;Xr.deleteScope=OH;Xr.filter=CH;Xr.isPressed=wH;Xr.getPressedKeyCodes=SH;Xr.unbind=bH;Xr.handlers=Vi;Xr.init=function(r){Ny(r.document,"keydown",function(e){mH(e)}),Ny(r.document,"keyup",yH),Ny(r,"focus",_H)};const gf=Xr;var EH=function(){return{defaults:{"core:undo":{keys:"⌘+z, ctrl+z",handler:"core:undo",opts:{prevent:!0}},"core:redo":{keys:"⌘+shift+z, ctrl+shift+z",handler:"core:redo",opts:{prevent:!0}},"core:copy":{keys:"⌘+c, ctrl+c",handler:"core:copy"},"core:paste":{keys:"⌘+v, ctrl+v",handler:"core:paste"},"core:component-next":{keys:"s",handler:"core:component-next"},"core:component-prev":{keys:"w",handler:"core:component-prev"},"core:component-enter":{keys:"d",handler:"core:component-enter"},"core:component-exit":{keys:"a",handler:"core:component-exit"},"core:component-delete":{keys:"backspace, delete",handler:"core:component-delete",opts:{prevent:!0}}}}};const TH=EH;var AH=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),M1=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))};(0,Vt.hasWin)()&&gf.init(window);var kH=function(r){AH(e,r);function e(t){var n=r.call(this,t,"Keymaps",TH())||this;return n.keymaster=gf,n.keymaps={},n}return e.prototype.onLoad=function(){if(!this.em.isHeadless){var t=this.config.defaults;for(var n in t){var i=t[n];this.add(n,i.keys,i.handler,i.opts||{})}}},e.prototype.add=function(t,n,i,o){o===void 0&&(o={});var a=this.em,l=a.Commands,u=a.getEditor(),c=a.Canvas,d={id:t,keys:n,handler:i},h=this.keymaps[t];return h&&this.remove(t),this.keymaps[t]=d,gf(n,function(g,m){var _,b={event:g,h:m},C=(0,z.isString)(i)?l.get(i):i,w=!a.isEditing()&&!u.Canvas.isInputFocused();if(w||o.force){o.prevent&&((_=c.getCanvasView())===null||_===void 0||_.preventDefault(g)),(0,z.isFunction)(C)?C(u,0,b):l.runCommand(C,b);var x=[t,m.shortcut,g];a.trigger.apply(a,M1(["keymap:emit"],x,!1)),a.trigger.apply(a,M1(["keymap:emit:".concat(t)],x,!1))}},void 0),a.trigger("keymap:add",d),d},e.prototype.get=function(t){return this.keymaps[t]},e.prototype.getAll=function(){return this.keymaps},e.prototype.remove=function(t){var n=this.em,i=this.get(t);if(i)return delete this.keymaps[t],i.keys.split(", ").forEach(function(o){gf.unbind(o.trim())}),n==null||n.trigger("keymap:remove",i),i},e.prototype.removeAll=function(){var t=this;return Object.keys(this.keymaps).forEach(function(n){return t.remove(n)}),gf.handlers={},this},e.prototype.destroy=function(){this.removeAll(),this.keymaps={}},e}(_i);const DH=kH;var PH=function(){return{stylePrefix:"mdl-",title:"",content:"",backdrop:!0,custom:!1,extend:{}}};const MH=PH;var RH=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),LH=function(r){RH(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.defaults=function(){return{title:"",content:"",attributes:{},open:!1}},e.prototype.open=function(){this.set("open",!0)},e.prototype.close=function(){this.set("open",!1)},e}(xs.A);const NH=LH;var jH=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Kv=function(){return Kv=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Kv.apply(this,arguments)},VH=function(r){jH(e,r);function e(t){var n=r.call(this,t)||this,i=n.model;return n.listenTo(i,"change:open",n.updateOpen),n.listenTo(i,"change:title",n.updateTitle),n.listenTo(i,"change:content",n.updateContent),n}return e.prototype.template=function(t){var n=t.pfx,i=t.ppfx,o=t.content,a=t.title;return'<div class="'.concat(n,"dialog ").concat(i,"one-bg ").concat(i,`two-color">
      <div class="`).concat(n,`header">
        <div class="`).concat(n,'title">').concat(a,`</div>
        <div class="`).concat(n,`btn-close" data-close-modal>&Cross;</div>
      </div>
      <div class="`).concat(n,`content">
        <div id="`).concat(n,'c">').concat(o,`</div>
        <div style="clear:both"></div>
      </div>
    </div>
    <div class="`).concat(n,'collector" style="display: none"></div>')},e.prototype.events=function(){return{click:"onClick","click [data-close-modal]":"hide"}},e.prototype.onClick=function(t){var n=this.config.backdrop;n&&t.target===this.el&&this.hide()},e.prototype.getCollector=function(){return this.$collector||(this.$collector=this.$el.find("."+this.pfx+"collector")),this.$collector},e.prototype.getContent=function(){var t=this.pfx;return this.$content||(this.$content=this.$el.find(".".concat(t,"content #").concat(t,"c"))),this.$content},e.prototype.getTitle=function(t){return t===void 0&&(t={}),this.$title||(this.$title=this.$el.find("."+this.pfx+"title")),t.$?this.$title:this.$title.get(0)},e.prototype.updateContent=function(){var t=this.getContent(),n=t.children(),i=this.getCollector(),o=this.model.get("content");n.length&&i.append(n),t.empty().append(o)},e.prototype.updateTitle=function(){var t=this.getTitle({$:!0});t&&t.empty().append(this.model.get("title"))},e.prototype.updateOpen=function(){this.el.style.display=this.model.get("open")?"":"none"},e.prototype.hide=function(){this.model.close()},e.prototype.show=function(){this.model.open()},e.prototype.updateAttr=function(t){var n=this,i=n.pfx,o=n.$el,a=n.el,l=[].slice.call(a.attributes).map(function(u){return u.name});o.removeAttr(l.join(" ")),o.attr(Kv(Kv({},t||{}),{class:"".concat(i,"container ").concat(t&&t.class||"").trim()}))},e.prototype.render=function(){var t=this.$el,n=this.model.toJSON();return n.pfx=this.pfx,n.ppfx=this.ppfx,t.html(this.template(n)),this.updateAttr(),this.updateOpen(),this},e}(ao);const BH=VH;var UH=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),IH=function(r){UH(e,r);function e(t){var n=r.call(this,t,"Modal",MH())||this;return n.model=new NH(n),n.model.on("change:open",function(i,o){t.trigger("modal:".concat(o?"open":"close"))}),n.model.on("change",(0,z.debounce)(function(){var i=n._evData(),o=n.config.custom;(0,z.isFunction)(o)&&o(i),t.trigger("modal",i)},0)),n}return e.prototype._evData=function(){var t=this,n=this.getTitle(),i=this.getContent(),o=this.model.attributes,a=o.open,l=o.attributes;return{open:a,attributes:l,title:(0,z.isString)(n)?(0,ae.GZ)(n):n,content:(0,z.isString)(i)?(0,ae.GZ)(i):i.get?i.get(0):i,close:function(){t.close()}}},e.prototype.postRender=function(t){var n=t.model.config.el||t.el,i=this.render();i&&(n==null||n.appendChild(i))},e.prototype.open=function(t){t===void 0&&(t={});var n=t.attributes||{};return t.title&&this.setTitle(t.title),t.content&&this.setContent(t.content),this.model.set("attributes",n),this.model.open(),this.modal&&this.modal.updateAttr(n),this},e.prototype.close=function(){return this.model.close(),this},e.prototype.onceClose=function(t){return this.em.once("modal:close",t),this},e.prototype.onceOpen=function(t){return this.em.once("modal:open",t),this},e.prototype.isOpen=function(){return!!this.model.get("open")},e.prototype.setTitle=function(t){return this.model.set("title",t),this},e.prototype.getTitle=function(){return this.model.get("title")},e.prototype.setContent=function(t){return this.model.set("content"," "),this.model.set("content",t),this},e.prototype.getContent=function(){return this.model.get("content")},e.prototype.getContentEl=function(){var t;return(t=this.modal)===null||t===void 0?void 0:t.getContent().get(0)},e.prototype.getModel=function(){return this.model},e.prototype.render=function(){var t;if(!this.config.custom){var n=BH.extend(this.config.extend),i=this.modal&&this.modal.el;return this.modal=new n({el:i,model:this.model,config:this.config}),(t=this.modal)===null||t===void 0?void 0:t.render().el}},e.prototype.destroy=function(){var t;(t=this.modal)===null||t===void 0||t.remove()},e}(_i);const zH=IH;var R1="sw-visibility",L1="export-template",N1="open-sm",j1="open-tm",V1="open-layers",B1="open-blocks",jy="fullscreen",Vy="preview",HH=function(){return{stylePrefix:"pn-",defaults:[{id:"commands",buttons:[{}]},{id:"options",buttons:[{active:!0,id:R1,className:"fa fa-square-o",command:"core:component-outline",context:R1,attributes:{title:"View components"}},{id:Vy,className:"fa fa-eye",command:Vy,context:Vy,attributes:{title:"Preview"}},{id:jy,className:"fa fa-arrows-alt",command:jy,context:jy,attributes:{title:"Fullscreen"}},{id:L1,className:"fa fa-code",command:L1,attributes:{title:"View code"}}]},{id:"views",buttons:[{id:N1,className:"fa fa-paint-brush",command:N1,active:!0,togglable:!1,attributes:{title:"Open Style Manager"}},{id:j1,className:"fa fa-cog",command:j1,togglable:!1,attributes:{title:"Settings"}},{id:V1,className:"fa fa-bars",command:V1,togglable:!1,attributes:{title:"Open Layer Manager"}},{id:B1,className:"fa fa-th-large",command:B1,togglable:!1,attributes:{title:"Open Blocks"}}]}]}};const FH=HH;var WH=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),qH=function(r){WH(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.get("buttons").length&&i.set("buttons",new vk(i.module,i.get("buttons"))),i}return e.prototype.defaults=function(){return{id:"",label:"",tagName:"span",className:"",command:"",context:"",buttons:[],attributes:{},options:{},active:!1,dragDrop:!1,togglable:!0,runDefaultCommand:!0,stopDefaultCommand:!1,disable:!1}},Object.defineProperty(e.prototype,"className",{get:function(){return this.get("className")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"command",{get:function(){return this.get("command")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"active",{get:function(){return this.get("active")},set:function(t){this.set("active",t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"togglable",{get:function(){return this.get("togglable")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"runDefaultCommand",{get:function(){return this.get("runDefaultCommand")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"stopDefaultCommand",{get:function(){return this.get("stopDefaultCommand")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"disable",{get:function(){return this.get("disable")},enumerable:!1,configurable:!0}),e}(xs.A);const hk=qH;var KH=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),pk=function(r){KH(e,r);function e(t,n){return r.call(this,t,n,hk)||this}return e.prototype.deactivateAllExceptOne=function(t,n){this.forEach(function(i,o){i!==t&&(i.set("active",!1),n&&i.get("buttons").length&&i.get("buttons").deactivateAllExceptOne(t,n))})},e.prototype.deactivateAll=function(t,n){var i=t||"";this.forEach(function(o){o.get("context")==i&&o!==n&&o.set("active",!1,{fromCollection:!0})})},e.prototype.disableAllButtons=function(t){var n=t||"";this.forEach(function(i,o){i.get("context")==n&&i.set("disable",!0)})},e.prototype.disableAllButtonsExceptOne=function(t,n){this.forEach(function(i,o){i!==t&&(i.set("disable",!0),n&&i.get("buttons").length&&i.get("buttons").disableAllButtonsExceptOne(t,n))})},e}(Ug);const vk=pk;pk.prototype.model=hk;var GH=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),YH=function(r){GH(e,r);function e(t,n){var i=r.call(this,t,n)||this,o=i.get("buttons")||[];return i.buttons=new vk(t,o),i}return e.prototype.defaults=function(){return{id:"",content:"",visible:!0,buttons:[],attributes:{}}},Object.defineProperty(e.prototype,"buttons",{get:function(){return this.get("buttons")},set:function(t){this.set("buttons",t)},enumerable:!1,configurable:!0}),e}(xs.A);const gk=YH;var XH=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),mk=function(r){XH(e,r);function e(t,n){return r.call(this,t,n,gk)||this}return e}(Ug);const ZH=mk;mk.prototype.model=gk;var $H=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ku=function(){return ku=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},ku.apply(this,arguments)},JH=function(r){$H(e,r);function e(t){var n=r.call(this,t)||this,i=n,o=i.model,a=i.em,l=i.pfx,u=i.ppfx,c=o.className,d=o.attributes,h=d.command,g=d.listen;if(n.id=l+o.get("id"),n.activeCls="".concat(l,"active ").concat(u,"four-color"),n.disableCls="".concat(u,"disabled"),n.btnsVisCls="".concat(l,"visible"),n.className=l+"btn"+(c?" "+c:""),n.listenTo(o,"change",n.render),n.listenTo(o,"change:active updateActive",n.updateActive),n.listenTo(o,"checkActive",n.checkActive),n.listenTo(o,"change:bntsVis",n.updateBtnsVis),n.listenTo(o,"change:attributes",n.updateAttributes),n.listenTo(o,"change:className",n.updateClassName),n.listenTo(o,"change:disable",n.updateDisable),a&&(0,z.isString)(h)&&g){var m={fromListen:!0};n.listenTo(a,"run:".concat(h),function(){return o.set("active",!0,m)}),n.listenTo(a,"stop:".concat(h),function(){return o.set("active",!1,m)})}return a&&a.get&&(n.commands=a.get("Commands")),n}return e.prototype.tagName=function(){return this.model.get("tagName")},e.prototype.events=function(){return{click:"clicked"}},e.prototype.updateClassName=function(){var t=this,n=t.model,i=t.pfx,o=n.className,a=n.get("attributes").class,l="".concat(a||""," ").concat(i,"btn ").concat(o||"");this.$el.attr("class",l.trim())},e.prototype.updateAttributes=function(){var t=this,n=t.em,i=t.model,o=t.$el,a=i.get("attributes")||{},l=n&&n.t&&n.t("panels.buttons.titles.".concat(i.id));o.attr(a),l&&o.attr({title:l}),this.updateClassName()},e.prototype.updateBtnsVis=function(){this.$buttons&&(this.model.get("bntsVis")?this.$buttons.addClass(this.btnsVisCls):this.$buttons.removeClass(this.btnsVisCls))},e.prototype.updateActive=function(t,n,i){var o;i===void 0&&(i={});var a=this,l=a.model,u=a.commands,c=a.$el,d=a.activeCls,h=i.fromCollection,g=i.fromListen,m=l.get("context"),_=l.get("options"),b=l.command,C={};b&&(u&&(0,z.isString)(b)?C=u.get(b)||{}:(0,z.isFunction)(b)?C=u.create({run:b}):b!==null&&(0,z.isObject)(b)&&(C=u.create(b)),l.active?(!h&&((o=l.collection)===null||o===void 0||o.deactivateAll(m,l)),l.set("active",!0,{silent:!0}).trigger("checkActive"),!g&&u.runCommand(C,ku(ku({},_),{sender:l})),C.noStop&&l.set("active",!1)):(c.removeClass(d),!g&&u.stopCommand(C,ku(ku({},_),{sender:l,force:1}))))},e.prototype.updateDisable=function(){var t=this,n=t.disableCls,i=t.model,o=i.disable;this.$el[o?"addClass":"removeClass"](n)},e.prototype.checkActive=function(){var t=this,n=t.model,i=t.$el,o=t.activeCls;n.active?i.addClass(o):i.removeClass(o)},e.prototype.clicked=function(){var t=this.model;t.get("bntsVis")||t.disable||!t.command||this.toggleActive()},e.prototype.toggleActive=function(){var t=this,n=t.model,i=t.em,o=n.active,a=n.togglable;o&&!a||(n.active=!o,o?n.runDefaultCommand&&i.runDefault():n.stopDefaultCommand&&i.stopDefault())},e.prototype.render=function(){var t=this.model,n=t.get("label"),i=this.$el;return!t.get("el")&&i.empty(),this.updateAttributes(),n&&i.append(n),this.checkActive(),this.updateDisable(),this},e}(ao);const QH=JH;var t8=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),e8=function(r){t8(e,r);function e(t){var n=r.call(this,{collection:t})||this;return n.listenTo(n.collection,"add",n.addTo),n.listenTo(n.collection,"reset remove",n.render),n.className=n.pfx+"buttons",n}return e.prototype.addTo=function(t){this.addToCollection(t)},e.prototype.addToCollection=function(t,n){var i=n||null,o=t.get("el"),a=new QH({el:o,model:t}),l=a.render().el;return i?i.appendChild(l):this.$el.append(l),l},e.prototype.render=function(){var t=this,n=document.createDocumentFragment();return this.$el.empty(),this.collection.each(function(i){return t.addToCollection(i,n)}),this.$el.append(n),this.$el.attr("class",(0,z.result)(this,"className")),this},e}(ao);const n8=e8;var r8=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),C_=function(){return C_=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},C_.apply(this,arguments)},i8=function(r){r8(e,r);function e(t){var n=r.call(this,{model:t,el:t.get("el")})||this;return n.className=n.pfx+"panel",n.id=n.pfx+t.get("id"),n.listenTo(t,"change:appendContent",n.appendContent),n.listenTo(t,"change:content",n.updateContent),n.listenTo(t,"change:visible",n.toggleVisible),t.view=n,n}return e.prototype.appendContent=function(){this.$el.append(this.model.get("appendContent"))},e.prototype.updateContent=function(){this.$el.html(this.model.get("content"))},e.prototype.toggleVisible=function(){if(!this.model.get("visible")){this.$el.addClass("".concat(this.ppfx,"hidden"));return}this.$el.removeClass("".concat(this.ppfx,"hidden"))},e.prototype.attributes=function(){return this.model.get("attributes")},e.prototype.initResize=function(){var t=this.em,n=t==null?void 0:t.Editor,i=this.model.get("resizable");if(n&&i){var o=i===!0?[!0,!0,!0,!0]:i,a=o.length,l=void 0,u=void 0,c=void 0,d=!1;if(a==2){var h=o;l=h[0],c=h[0],u=h[1],d=h[1]}else if(a==4){var h=o;l=h[0],u=h[1],c=h[2],d=h[3]}var g=new n.Utils.Resizer(C_({tc:l,cr:u,bc:c,cl:d,tl:!1,tr:!1,bl:!1,br:!1,appendTo:this.el,silentFrames:!0,avoidContainerUpdate:!0,prefix:n.getConfig().stylePrefix,onEnd:function(){t.Canvas.refresh({all:!0})},posFetcher:function(m,_){var b=_.target,C=m.style,w=g.getConfig(),x=w.keyWidth,O=w.keyHeight,k=m.getBoundingClientRect(),V=b=="container",Z=C[x],$=C[O],Y=Z&&!V?parseFloat(Z):k.width,U=$&&!V?parseFloat($):k.height;return{left:0,top:0,width:Y,height:U}}},i&&typeof i!="boolean"?i:{}));g.blur=function(){},g.focus(this.el)}},e.prototype.render=function(){var t=this.model.buttons,n=this.$el,i=this.ppfx,o="".concat(this.className," ").concat(this.id," ").concat(i,"one-bg ").concat(i,"two-color");if(n.addClass(o),this.toggleVisible(),t.length){var a=new n8(t);n.append(a.render().el)}return n.append(this.model.get("content")),this},e}(ao);const o8=i8;var a8=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),s8=function(r){a8(e,r);function e(t){var n=r.call(this,{collection:t})||this;return n.listenTo(t,"add",n.addTo),n.listenTo(t,"reset",n.render),n.listenTo(t,"remove",n.onRemove),n.className=n.pfx+"panels",n}return e.prototype.onRemove=function(t){var n=t.view;n&&n.remove()},e.prototype.addTo=function(t){this.addToCollection(t)},e.prototype.addToCollection=function(t,n){var i=n||null,o=t.get("el"),a=new o8(t),l=a.render().el,u=t.get("appendTo");if(!o)if(u){var c=document.querySelector(u);c==null||c.appendChild(l)}else i?i.appendChild(l):this.$el.append(l);return a.initResize(),l},e.prototype.render=function(){var t=this,n=this.$el,i=document.createDocumentFragment();return n.empty(),this.collection.each(function(o){return t.addToCollection(o,i)}),n.append(i),n.attr("class",this.className),this},e}(ao);const l8=s8;var u8=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),c8=function(r){u8(e,r);function e(t){var n=r.call(this,t,"Panels",FH())||this;return n.panels=new ZH(n,n.config.defaults),n}return e.prototype.getPanels=function(){return this.panels},e.prototype.getPanelsEl=function(){var t;return(t=this.PanelsViewObj)===null||t===void 0?void 0:t.el},e.prototype.addPanel=function(t){return this.panels.add(t)},e.prototype.removePanel=function(t){return this.panels.remove(t)},e.prototype.getPanel=function(t){var n=this.panels.where({id:t});return n.length?n[0]:null},e.prototype.addButton=function(t,n){var i=this.getPanel(t);return i?i.buttons.add(n):null},e.prototype.removeButton=function(t,n){var i=this.getPanel(t);return i&&i.buttons.remove(n)},e.prototype.getButton=function(t,n){var i=this.getPanel(t);if(i){var o=i.buttons.where({id:n});return o.length?o[0]:null}return null},e.prototype.render=function(){var t;return(t=this.PanelsViewObj)===null||t===void 0||t.remove(),this.PanelsViewObj=new l8(this.panels),this.PanelsViewObj.render().el},e.prototype.active=function(){this.getPanels().each(function(t){t.buttons.each(function(n){n.get("active")&&n.trigger("updateActive")})})},e.prototype.disableButtons=function(){this.getPanels().each(function(t){t.buttons.each(function(n){n.get("disable")&&n.trigger("change:disable")})})},e.prototype.destroy=function(){this.panels.reset(),this.panels.stopListening(),this.PanelsViewObj&&this.PanelsViewObj.remove()},e}(_i);const f8=c8;var d8=function(){return{stylePrefix:"cm-",optsCodeViewer:{}}};const h8=d8;var p8=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),v8=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t},g8=function(r){p8(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.build=function(t,n){n===void 0&&(n={});var i=n.em,o=v8(n,["em"]),a=o;if(n.cleanId&&i){var l=i.Css.getAll(),u=l.toJSON().map(function(c){var d=c.selectors,h=d&&d.length===1&&d.models[0];return h&&h.isId()&&h.get("name")}).filter(Boolean);a.attributes||(a.attributes=function(c,d){var h=d.id;return h&&h[0]==="i"&&!c.get("script")&&!c.get("script-export")&&!c.get("attributes").id&&u.indexOf(h)<0&&delete d.id,d})}return t.toHTML(a)},e}(te.Kx);const m8=g8;var y8=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),_8=function(r){y8(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.build=function(t){var n=this,i=t.toJSON();return this.beforeEach(i),(0,z.each)(i,function(o,a){var l=i[a];if(l instanceof te.Kx)i[a]=n.build(l);else if(l instanceof te.pM){var u=l;i[a]=[],u.length&&u.forEach(function(c,d){i[a][d]=n.build(c)})}}),i},e.prototype.beforeEach=function(t){delete t.status},e}(te.Kx);const b8=_8;var w8=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();function S8(r){var e,t=((e=r.toString().match(/\{([\s\S]*)\}/m))===null||e===void 0?void 0:e[1])||"";return t.replace(/^\s*\/\/.*$/gm,"").trim().length===0}var C8=function(r){w8(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.mapModel=function(t){var n,i=this,o="",a=t.get("script-export")||t.get("script"),l=t.get("type"),u=t.get("components"),c=t.getId();if(a){var d=t.get("attributes");d=(0,z.extend)({},d,{id:c}),t.set("attributes",d,{silent:!0});var h=t.getScriptString(a),g=t.get("script-props");if(t.get("scriptUpdated")&&!g)this.mapJs[l+"-"+c]={ids:[c],code:h};else{var m=void 0,_=this.mapJs[l];if(g&&(m=t.__getScriptProps()),_)_.ids.push(c),m&&(_.props[c]=m);else{var b={ids:[c],code:h};m&&(b.props=(n={},n[c]=m,n)),this.mapJs[l]=b}}}return u.forEach(function(C){o+=i.mapModel(C)}),o},e.prototype.build=function(t){this.mapJs={},this.mapModel(t);var n="";for(var i in this.mapJs){var o=this.mapJs[i];if(o.code)if(o.props){if(S8(o.code))continue;n+=`
          var props = `.concat(JSON.stringify(o.props),`;
          var ids = Object.keys(props).map(function(id) { return '#'+id }).join(',');
          var els = document.querySelectorAll(ids);
          for (var i = 0, len = els.length; i < len; i++) {
            var el = els[i];
            (`).concat(o.code,`.bind(el))(props[el.id]);
          }`)}else{var a="#"+o.ids.join(", #");n+=`
          var items = document.querySelectorAll('`.concat(a,`');
          for (var i = 0, len = items.length; i < len; i++) {
            (function(){
`).concat(o.code,`
}.bind(items[i]))();
          }`)}}return n},e}(te.Kx);const x8=C8;var O8=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),x_=function(){return x_=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},x_.apply(this,arguments)},Ff;(0,Vt.hasWin)()&&(Ff=We(4408),We(8253),We(7389),We(3640));var yk=function(r){O8(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.defaults=function(){return{input:"",label:"",codeName:"",theme:"hopscotch",readOnly:!0,lineNumbers:!0,autoFormat:!0}},e.prototype.init=function(t){return(0,z.bindAll)(this,"onChange"),this.editor=Ff.fromTextArea(t,x_({dragDrop:!1,lineWrapping:!0,mode:this.get("codeName")},this.attributes)),this.element=t,this.editor.on("change",this.onChange),this},e.prototype.onChange=function(){this.trigger("update",this)},e.prototype.getEditor=function(){return this.editor},e.prototype.getElement=function(){return this.element},e.prototype.setElement=function(t){return this.element=t,this},e.prototype.refresh=function(){return this.getEditor().refresh(),this},e.prototype.focus=function(){return this.getEditor().focus(),this},e.prototype.getContent=function(){var t=this.getEditor();return t&&t.getValue()},e.prototype.setContent=function(t,n){var i=this;n===void 0&&(n={});var o=this.editor;if(o){o.setValue(t);var a=this.get("autoFormat"),l=o.autoFormatRange&&(a===!0||Array.isArray(a)&&a.includes(this.get("codeName")));l&&(Ff.commands.selectAll(o),o.autoFormatRange(o.getCursor(!0),o.getCursor(!1)),Ff.commands.goDocStart(o)),!n.noRefresh&&setTimeout(function(){return i.refresh()})}},e}(te.Kx);const E8=yk;yk.prototype.CodeMirror=Ff;var T8=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),A8=function(r,e){return Object.defineProperty?Object.defineProperty(r,"raw",{value:e}):r.raw=e,r},k8=function(r){T8(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.template=function(t){var n=t.pfx,i=t.codeName,o=t.label;return di(U1||(U1=A8([`
      <div class="`,'editor" id="',"",`">
        <div id="`,'title">',`</div>
        <div id="`,`code"></div>
      </div>
    `],[`
      <div class="`,'editor" id="',"",`">
        <div id="`,'title">',`</div>
        <div id="`,`code"></div>
      </div>
    `])),n,n,i,n,o,n)},e.prototype.initialize=function(t){this.config=t.config||{},this.pfx=this.config.stylePrefix},e.prototype.render=function(){var t,n,i=this,o=i.model,a=i.pfx,l=i.$el,u=o.toJSON(),c=o.get("input")||((n=(t=o).getElement)===null||n===void 0?void 0:n.call(t));return u.pfx=a,l.html(this.template(u)),l.attr("class","".concat(a,"editor-c")),l.find("#".concat(a,"code")).append(c),this},e}(te.Ss);const D8=k8;var U1,P8=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Gv=function(){return Gv=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Gv.apply(this,arguments)},M8="CodeMirror",R8=function(r){P8(e,r);function e(t){var n=r.call(this,t,"CodeManager",h8())||this;n.EditorView=D8;var i=n.config,o=i.pStylePrefix;return o&&(i.stylePrefix=o+i.stylePrefix),n.generators={},n.viewers={},n.defGenerators={html:new m8,css:new kB,json:new b8,js:new x8},n.defViewers={CodeMirror:new E8},n.loadDefaultGenerators().loadDefaultViewers(),n}return e.prototype.addGenerator=function(t,n){return this.generators[t]=n,this},e.prototype.getGenerator=function(t){return this.generators[t]},e.prototype.getGenerators=function(){return this.generators},e.prototype.addViewer=function(t,n){return this.viewers[t]=n,this},e.prototype.getViewer=function(t){return this.viewers[t]},e.prototype.getViewers=function(){return this.viewers},e.prototype.createViewer=function(t){t===void 0&&(t={});var n=(0,z.isUndefined)(t.type)?M8:t.type,i=this.getViewer(n)&&this.getViewer(n).clone(),o=document.createElement("div"),a=document.createElement("textarea");return o.appendChild(a),i.set(Gv(Gv({},this.config.optsCodeViewer),t)),i.init(a),i.setElement(o),i},e.prototype.updateViewer=function(t,n){t.setContent(n)},e.prototype.getCode=function(t,n,i){i===void 0&&(i={}),i.em=this.em;var o=this.getGenerator(n);return o?o.build(t,i):""},e.prototype.loadDefaultGenerators=function(){for(var t in this.defGenerators)this.addGenerator(t,this.defGenerators[t]);return this},e.prototype.loadDefaultViewers=function(){for(var t in this.defViewers)this.addViewer(t,this.defViewers[t]);return this},e.prototype.destroy=function(){},e}(_i);const L8=R8;var N8=We(4729),j8=We.n(N8),V8=function(){return{maximumStackLength:500,trackSelection:!0}};const B8=V8;var fi;(function(r){r.update="update",r.undo="undo",r.redo="redo",r.load="load",r.projectLoad="project:load",r.projectGet="project:get",r.log="log",r.telemetryInit="telemetry:init",r.destroy="destroy",r.destroyed="destroyed"})(fi||(fi={}));var U8=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),aa=function(){return aa=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},aa.apply(this,arguments)},I8=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))},Ih=function(r){return r.avoidStore||r.noUndo||r.partial},I1=function(r){return Object.keys(r.changedAttributes())},zh=new WeakMap,z8=function(r){U8(e,r);function e(t){var n=r.call(this,t,"UndoManager",B8())||this;n.config._disable&&(n.config.maximumStackLength=0);var i=!0;return n.um=new(j8())(aa({track:!0,register:[]},n.config)),n.um.changeUndoType("change",{condition:function(o){var a=o.get("_undo");if(a){var l=o.get("_undoexc");if((0,z.isArray)(l)&&I1(o).some(function(u){return l.indexOf(u)>=0}))return!1;if((0,z.isBoolean)(a)||(0,z.isArray)(a)&&I1(o).some(function(u){return a.indexOf(u)>=0}))return!0}return!1},on:function(o,a,l){var u=zh.get(o);u||(u=o.previousAttributes(),zh.set(o,u));var c=l||a||{};if(c.noUndo&&setTimeout(function(){zh.delete(o)}),!Ih(c)){var d=o.toJSON({fromUndo:i}),h={object:o,before:u,after:d};return zh.delete(o),(0,z.isEmpty)(d)?void 0:h}}}),n.um.changeUndoType("add",{on:function(o,a,l){if(l===void 0&&(l={}),!(Ih(l)||!n.isRegistered(a)))return{object:a,before:void 0,after:o,options:aa(aa({},l),{fromUndo:i})}}}),n.um.changeUndoType("remove",{on:function(o,a,l){if(l===void 0&&(l={}),!(Ih(l)||!n.isRegistered(a)))return{object:a,before:o,after:void 0,options:aa(aa({},l),{fromUndo:i})}}}),n.um.changeUndoType("reset",{undo:function(o,a){o.reset(a,{fromUndo:i})},redo:function(o,a,l){o.reset(l,{fromUndo:i})},on:function(o,a){if(a===void 0&&(a={}),!(Ih(a)||!n.isRegistered(o)))return{object:o,before:a.previousModels,after:I8([],o.models,!0),options:aa(aa({},a),{fromUndo:i})}}}),n.um.on("undo redo",function(){t.getSelectedAll().map(function(o){return o.trigger("rerender:layer")})}),[fi.undo,fi.redo].forEach(function(o){return n.um.on(o,function(){return t.trigger(o)})}),n}return e.prototype.postLoad=function(){var t=this,n=t.config,i=t.em;n.trackSelection&&i&&this.add(i.get("selected"))},e.prototype.add=function(t){return this.um.register(t),this},e.prototype.remove=function(t){return this.um.unregister(t),this},e.prototype.removeAll=function(){return this.um.unregisterAll(),this},e.prototype.start=function(){return this.um.startTracking(),this},e.prototype.stop=function(){return this.um.stopTracking(),this},e.prototype.undo=function(t){t===void 0&&(t=!0);var n=this,i=n.em,o=n.um;return!i.isEditing()&&o.undo(t),this},e.prototype.undoAll=function(){return this.um.undoAll(),this},e.prototype.redo=function(t){t===void 0&&(t=!0);var n=this,i=n.em,o=n.um;return!i.isEditing()&&o.redo(t),this},e.prototype.redoAll=function(){return this.um.redoAll(),this},e.prototype.hasUndo=function(){return!!this.um.isAvailable("undo")},e.prototype.hasRedo=function(){return!!this.um.isAvailable("redo")},e.prototype.isRegistered=function(t){return!!this.getInstance().objectRegistry.isRegistered(t)},e.prototype.getStack=function(){return this.um.stack},e.prototype.getStackGroup=function(){var t=[],n=[];return this.getStack().forEach(function(i){var o=i.get("magicFusionIndex");n.indexOf(o)<0&&(n.push(o),t.push(i))}),t},e.prototype.skip=function(t){var n=!!this.um.isTracking();n&&this.stop(),t(),n&&this.start()},e.prototype.getGroupedStack=function(){var t={},n=this.getStack(),i=function(o,a){var l=o.attributes,u=l.type,c=l.after,d=l.before,h=l.object,g=l.options,m=g===void 0?{}:g;return{index:a,type:u,after:c,before:d,object:h,options:m}};return n.forEach(function(o,a){var l=o.get("magicFusionIndex"),u=i(o,a);t[l]?t[l].push(u):t[l]=[u]}),Object.keys(t).map(function(o){var a=t[o];return{index:a[a.length-1].index,actions:a,labels:(0,z.unique)(a.reduce(function(l,u){var c,d=(c=u.options)===null||c===void 0?void 0:c.action;return d&&l.push(d),l},[]))}})},e.prototype.goToGroup=function(t){var n=this;if(t){var i=this.getPointer(),o=t.index-i;(0,z.times)(Math.abs(o),function(){n[o<0?"undo":"redo"](!1)})}},e.prototype.getPointer=function(){return this.getStack().pointer},e.prototype.clear=function(){return this.um.clear(),this},e.prototype.getInstance=function(){return this.um},e.prototype.destroy=function(){this.clear().removeAll()},e}(_i);const H8=z8;var F8=function(){return{stylePrefix:"rte-",adjustToolbar:!0,actions:["bold","italic","underline","strikethrough","link","wrap"],custom:!1}};const W8=F8;var Du=function(){return Du=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Du.apply(this,arguments)},Yv;(function(r){r[r.ACTIVE=1]="ACTIVE",r[r.INACTIVE=0]="INACTIVE",r[r.DISABLED=-1]="DISABLED"})(Yv||(Yv={}));var By="_rte",tl={ACTIVE:1,INACTIVE:0,DISABLED:-1},Hh=function(r,e){e===void 0&&(e="A");var t=r.selection()||{},n=t.anchorNode,i=t.focusNode,o=n==null?void 0:n.parentNode,a=i==null?void 0:i.parentNode;return(o==null?void 0:o.nodeName)==e||(a==null?void 0:a.nodeName)==e},Xv="data-selectme",lf={bold:{name:"bold",icon:"<b>B</b>",attributes:{title:"Bold"},result:function(r){return r.exec("bold")}},italic:{name:"italic",icon:"<i>I</i>",attributes:{title:"Italic"},result:function(r){return r.exec("italic")}},underline:{name:"underline",icon:"<u>U</u>",attributes:{title:"Underline"},result:function(r){return r.exec("underline")}},strikethrough:{name:"strikethrough",icon:"<s>S</s>",attributes:{title:"Strike-through"},result:function(r){return r.exec("strikeThrough")}},link:{icon:`<svg viewBox="0 0 24 24">
          <path fill="currentColor" d="M3.9,12C3.9,10.29 5.29,8.9 7,8.9H11V7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H11V15.1H7C5.29,15.1 3.9,13.71 3.9,12M8,13H16V11H8V13M17,7H13V8.9H17C18.71,8.9 20.1,10.29 20.1,12C20.1,13.71 18.71,15.1 17,15.1H13V17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7Z" />
        </svg>`,name:"link",attributes:{style:"font-size:1.4rem;padding:0 4px 2px;",title:"Link"},state:function(r){return r&&r.selection()&&Hh(r)?tl.ACTIVE:tl.INACTIVE},result:function(r){Hh(r)?r.exec("unlink"):r.insertHTML('<a href="" '.concat(Xv,">").concat(r.selection(),"</a>"),{select:!0})}},wrap:{name:"wrap",icon:`<svg viewBox="0 0 24 24">
            <path fill="currentColor" d="M20.71,4.63L19.37,3.29C19,2.9 18.35,2.9 17.96,3.29L9,12.25L11.75,15L20.71,6.04C21.1,5.65 21.1,5 20.71,4.63M7,14A3,3 0 0,0 4,17C4,18.31 2.84,19 2,19C2.92,20.22 4.5,21 6,21A4,4 0 0,0 10,17A3,3 0 0,0 7,14Z" />
        </svg>`,attributes:{title:"Wrap for style"},state:function(r){return r!=null&&r.selection()&&Hh(r,"SPAN")?tl.DISABLED:tl.INACTIVE},result:function(r){!Hh(r,"SPAN")&&r.insertHTML("<span ".concat(Xv,">").concat(r.selection(),"</span>"),{select:!0})}}},q8=function(){function r(e,t,n){n===void 0&&(n={});var i=this;if(this.em=e,this.settings=n,t[By])return t[By];t[By]=this,this.setEl(t),this.updateActiveActions=this.updateActiveActions.bind(this),this.__onKeydown=this.__onKeydown.bind(this),this.__onPaste=this.__onPaste.bind(this);var o=(n.actions||[]).map(function(d){var h=d;return(0,z.isString)(d)?h=Du({},lf[d]):lf[d.name]&&(h=Du(Du({},lf[d.name]),d)),h}),a=o.length?o:Object.keys(lf).map(function(d){return lf[d]});n.classes=Du({actionbar:"actionbar",button:"action",active:"active",disabled:"disabled",inactive:"inactive"},n.classes);var l=n.classes,u=n.actionbar;if(this.actionbar=u,this.classes=l,this.actions=a,!u){if(!this.isCustom(n.module)){var c=n.actionbarContainer;u=document.createElement("div"),u.className=l.actionbar,c==null||c.appendChild(u),this.actionbar=u}a.forEach(function(d){return i.addAction(d)})}return n.styleWithCSS&&this.exec("styleWithCSS"),this}return r.prototype.isCustom=function(e){var t=e||this.em.RichTextEditor;return!!(t!=null&&t.config.custom||t!=null&&t.customRte)},r.prototype.destroy=function(){},r.prototype.setEl=function(e){this.el=e,this.doc=e.ownerDocument},r.prototype.updateActiveActions=function(){var e=this,t=this.getActions();t.forEach(function(n){var i=n.update,o=n.btn,a=e.classes,l=a.active,u=a.inactive,c=a.disabled,d=n.state,h=n.name,g=e.doc,m=Yv.INACTIVE;if(o&&(o.className=o.className.replace(l,"").trim(),o.className=o.className.replace(u,"").trim(),o.className=o.className.replace(c,"").trim()),d){var _=d(e,g);if(m=_,o)switch(_){case tl.ACTIVE:o.className+=" ".concat(l);break;case tl.INACTIVE:o.className+=" ".concat(u);break;case tl.DISABLED:o.className+=" ".concat(c);break}}else g.queryCommandSupported(h)&&g.queryCommandState(h)&&(o&&(o.className+=" ".concat(l)),m=Yv.ACTIVE);n.currentState=m,i==null||i(e,n)}),t.length&&this.em.RichTextEditor.__dbdTrgCustom()},r.prototype.enable=function(e){return this.enabled?this:this.__toggleEffects(!0,e)},r.prototype.disable=function(){return this.__toggleEffects(!1)},r.prototype.__toggleEffects=function(e,t){e===void 0&&(e=!1),t===void 0&&(t={});var n=e?ae.on:ae.AU,i=this,o=i.el,a=i.doc,l=this.actionbarEl();if(l&&(l.style.display=e?"":"none"),o.contentEditable="".concat(!!e),n(o,"mouseup keyup",this.updateActiveActions),n(a,"keydown",this.__onKeydown),n(a,"paste",this.__onPaste),this.enabled=e,e){var u=t.event;if(this.syncActions(),this.updateActiveActions(),u){var c=null;if(a.caretRangeFromPoint){var d=(0,ae.G2)(u);c=a.caretRangeFromPoint(d.clientX,d.clientY)}else u.rangeParent&&(c=a.createRange(),c.setStart(u.rangeParent,u.rangeOffset));var h=a.getSelection();h==null||h.removeAllRanges(),c&&(h==null||h.addRange(c))}o.focus()}return this},r.prototype.__onKeydown=function(e){var t=this.em,n=t.RichTextEditor.getConfig().onKeydown;if(n)return n({ev:e,rte:this,editor:t.getEditor()});var i=this.doc,o=["insertOrderedList","insertUnorderedList"];e.key==="Enter"&&!o.some(function(a){return i.queryCommandState(a)})&&(i.execCommand("insertLineBreak"),e.preventDefault())},r.prototype.__onPaste=function(e){var t=this.em,n=t.RichTextEditor.getConfig().onPaste;if(n)return n({ev:e,rte:this,editor:t.getEditor()});var i=e.clipboardData,o=i.getData("text"),a=i.getData("text/html");if(o&&!a){e.preventDefault();var l=o.replace(/(?:\r\n|\r|\n)/g,"<br/>");this.doc.execCommand("insertHTML",!1,l)}},r.prototype.syncActions=function(){var e=this;this.getActions().forEach(function(t){if(e.actionbar&&(!t.state||t.state&&t.state(e,e.doc)>=0)){var n=t.event||"click",i=t.btn;i&&(i["on".concat(n)]=function(){t.result(e,t),e.updateActiveActions()})}})},r.prototype.addAction=function(e,t){t===void 0&&(t={});var n=t.sync,i=this.actionbarEl();if(i){var o=e.icon,a=e.attributes,l=a===void 0?{}:a,u=document.createElement("span");u.className=this.classes.button,e.btn=u;for(var c in l)u.setAttribute(c,l[c]);typeof o=="string"?u.innerHTML=o:u.appendChild(o),i.appendChild(u)}n&&(this.actions.push(e),this.syncActions())},r.prototype.getActions=function(){return this.actions},r.prototype.selection=function(){return this.doc.getSelection()},r.prototype.exec=function(e,t){this.doc.execCommand(e,!1,t)},r.prototype.actionbarEl=function(){return this.actionbar},r.prototype.insertHTML=function(e,t){var n=t===void 0?{}:t,i=n.select,o=this,a=o.em,l=o.doc,u=o.el,c=l.getSelection();if(c&&c.rangeCount){var d=(0,Vt.getComponentModel)(u)||a.getSelected(),h=l.createElement("div"),g=c.getRangeAt(0);g.deleteContents(),(0,z.isString)(e)?h.innerHTML=e:e&&h.appendChild(e),Array.prototype.slice.call(h.childNodes).forEach(function(m){g.insertNode(m)}),c.removeAllRanges(),c.addRange(g),u.focus(),i&&d&&(d.once("rte:disable",function(){var m=d.find("[".concat(Xv,"]"))[0];m&&(a.setSelected(m),m.removeAttributes(Xv))}),d.trigger("disable"))}},r}();const K8=q8;var G8=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Zv=function(){return Zv=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Zv.apply(this,arguments)},Uy=function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function l(d){try{c(n.next(d))}catch(h){a(h)}}function u(d){try{c(n.throw(d))}catch(h){a(h)}}function c(d){d.done?o(d.value):i(d.value).then(l,u)}c((n=n.apply(r,e||[])).next())})},Iy=function(r,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(c){return function(d){return u([c,d])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(t=0)),t;)try{if(n=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){t.label=c[1];break}if(c[0]===6&&t.label<o[1]){t.label=o[1],o=c;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(c);break}o[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(r,t)}catch(d){c=[6,d],i=0}finally{n=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},Y8=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))},zy="".concat(fp.refresh," frame:scroll ").concat(hn.I.update),X8="rte:enable",Z8="rte:disable",$8="rte:custom",J8={enable:X8,disable:Z8,custom:$8},Q8=function(r){G8(e,r);function e(t){var n=r.call(this,t,"RichTextEditor",W8())||this;n.events=J8;var i=n.config,o=i.pStylePrefix;o&&(i.stylePrefix=o+i.stylePrefix),n.pfx=i.stylePrefix,n.actions=i.actions||[];var a=new te.Kx;return n.model=a,a.on("change:currentView",n.__trgCustom,n),n.__dbdTrgCustom=(0,z.debounce)(function(){return n.__trgCustom()},0),n}return e.prototype.onLoad=function(){if((0,Vt.hasWin)()){var t=this.config,n=t.pStylePrefix,i=t.custom,o=(0,ae.a_)("div",{class:(0,ae.cx)("".concat(n,"rte-toolbar"),!i&&"".concat(n,"one-bg ").concat(n,"rte-toolbar-ui"))});this.toolbar=o,this.initRte((0,ae.a_)("div")),(0,ae.on)(o,"mousedown",function(a){return a.stopPropagation()})}},e.prototype.__trgCustom=function(){var t=this,n=t.model,i=t.em,o=t.events;i.trigger(o.custom,{enabled:!!n.get("currentView"),container:this.getToolbarEl(),actions:this.getAll()})},e.prototype.destroy=function(){var t,n,i;(t=this.globalRte)===null||t===void 0||t.destroy(),(i=(n=this.customRte)===null||n===void 0?void 0:n.destroy)===null||i===void 0||i.call(n),this.model.stopListening().clear({silent:!0}),this.__dbdTrgCustom.cancel(),(0,ae.YZ)(this.toolbar)},e.prototype.postRender=function(t){var n=t.model.get("Canvas");this.toolbar.style.pointerEvents="all",this.hideToolbar(),n.getToolsEl().appendChild(this.toolbar)},e.prototype.initRte=function(t){var n=this.globalRte,i=this,o=i.em,a=i.pfx,l=i.actionbar,u=i.config,c=this.actions||Y8([],u.actions,!0),d={actionbar:"".concat(a,"actionbar"),button:"".concat(a,"action"),active:"".concat(a,"active"),inactive:"".concat(a,"inactive"),disabled:"".concat(a,"disabled")};return n?(n.em=o,n.setEl(t)):(n=new K8(o,t,{classes:d,actions:c,actionbar:l,actionbarContainer:this.toolbar,module:this}),this.globalRte=n),n.actionbar&&(this.actionbar=n.actionbar),n.actions&&(this.actions=n.actions),n},e.prototype.add=function(t,n){var i;n===void 0&&(n={}),n.name=t,(i=this.globalRte)===null||i===void 0||i.addAction(n,{sync:!0})},e.prototype.get=function(t){var n,i;return(n=this.globalRte)===null||n===void 0||n.getActions().forEach(function(o){o.name==t&&(i=o)}),i},e.prototype.getAll=function(){var t;return((t=this.globalRte)===null||t===void 0?void 0:t.getActions())||[]},e.prototype.remove=function(t){var n,i=this.getAll(),o=this.get(t);if(o){var a=o.btn,l=i.indexOf(o);(n=a==null?void 0:a.parentNode)===null||n===void 0||n.removeChild(a),i.splice(l,1)}return o},e.prototype.run=function(t){var n=this.globalRte,i=(0,z.isString)(t)?this.get(t):t;n&&i&&(i.result(n,i),n.updateActiveActions())},e.prototype.getToolbarEl=function(){return this.toolbar},e.prototype.updatePosition=function(){var t=this,n=t.em,i=t.toolbar,o="px",a=n.Canvas,l=i.style,u=a.getTargetToElementFixed(this.lastEl,i,{event:"rteToolbarPosUpdate",left:0});["top","left","bottom","right"].forEach(function(c){var d=u[c];(0,Vt.isDef)(d)&&(l[c]=(0,z.isString)(d)?d:(d||0)+o)})},e.prototype.enable=function(t,n,i){return Uy(this,void 0,void 0,function(){var o,a,l,u,c;return Iy(this,function(d){switch(d.label){case 0:return this.lastEl=t.el,o=this,a=o.customRte,l=o.em,u=t.getChildrenContainer(),this.toolbar.style.display="",[4,a?a.enable(u,n,i):this.initRte(u).enable(i)];case 1:return c=d.sent(),l&&(setTimeout(this.updatePosition.bind(this),0),l.off(zy,this.updatePosition,this),l.on(zy,this.updatePosition,this),l.trigger("rte:enable",t,c)),this.model.set({currentView:t}),[2,c]}})})},e.prototype.getContent=function(t,n){return Uy(this,void 0,void 0,function(){var i,o;return Iy(this,function(a){switch(a.label){case 0:return i=this.customRte,o=t.getChildrenContainer(),i&&n&&(0,z.isFunction)(i.getContent)?[4,i.getContent(o,n,{view:t})]:[3,2];case 1:return[2,a.sent()];case 2:return[2,o.innerHTML]}})})},e.prototype.hideToolbar=function(){var t=this.toolbar.style,n="-1000px";t.top=n,t.left=n,t.display="none"},e.prototype.disable=function(t,n){return Uy(this,arguments,void 0,function(i,o,a){var l,u,c,d;return a===void 0&&(a={}),Iy(this,function(h){switch(h.label){case 0:return l={},u=this.em,c=this.customRte,c?[4,c.disable(i.getChildrenContainer(),o,Zv(Zv({},a),{view:i}))]:[3,2];case 1:return d=h.sent(),d&&(l=d),[3,3];case 2:o&&o.disable(),h.label=3;case 3:return this.hideToolbar(),u&&(u.off(zy,this.updatePosition,this),!a.fromMove&&u.trigger("rte:disable",i,o)),this.model.unset("currentView"),[2,l]}})})},e}(_i);const tF=Q8;var eF=function(){return{sectors:[{name:"General",open:!1,properties:["display","float","position","top","right","left","bottom"]},{name:"Flex",open:!1,properties:["flex-direction","flex-wrap","justify-content","align-items","align-content","order","flex-basis","flex-grow","flex-shrink","align-self"]},{name:"Dimension",open:!1,properties:["width","height","max-width","min-height","margin","padding"]},{name:"Typography",open:!1,properties:["font-family","font-size","font-weight","letter-spacing","color","line-height","text-align","text-shadow"]},{name:"Decorations",open:!1,properties:["background-color","border-radius","border","box-shadow","background"]},{name:"Extra",open:!1,properties:["opacity","transition","transform"]}],appendTo:"",stylePrefix:"sm-",custom:!1,hideNotStylable:!0,highlightChanged:!0,highlightComputed:!0,showComputed:!0,clearProperties:!0,avoidComputed:["width","height"]}};const nF=eF;var rF=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Fr=function(){return Fr=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Fr.apply(this,arguments)},iF=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t},z1=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))},ow=function(r){rF(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.getDefaults=function(){return(0,z.result)(this.prototype,"defaults")},e.prototype.defaults=function(){return{name:"",property:"",type:"",defaults:"",info:"",value:"",icon:"",functionName:"",status:"",visible:!0,fixedValues:["initial","inherit"],full:!1,important:!1,toRequire:!1,requires:void 0,requiresParent:null,parentTarget:null}},e.prototype.initialize=function(t,n){t===void 0&&(t={}),n===void 0&&(n={}),this.em=n.em;var i=this.getId()||"",o=this.get("name")||this.get("label")||"";!this.get("property")&&this.set("property",(o||i).replace(/ /g,"-"));var a=this.get("property");!this.get("id")&&this.set("id",a),!o&&this.set("name",(0,Vt.capitalize)(a).replace(/-/g," ")),this.on("change",this.__upTargets),e.callInit(this,t,n)},e.prototype.__getParentProp=function(){var t,n;return(n=(t=this.collection)===null||t===void 0?void 0:t.opts)===null||n===void 0?void 0:n.parentProp},e.prototype.__upTargets=function(t,n){var i,o=this;n===void 0&&(n={});var a=this.em,l=a.Styles,u=this.getName(),c=n.__clear,d=c?"":this.__getFullValue(n),h=this.__getParentProp(),g=this.changedAttributes(),m=(0,z.keys)(g).reduce(function(O,k){return O[k]=o.previous(k),O},{}),_=z1(z1([],(0,z.keys)(this.__getClearProps()),!0),["__p"],!1),b=(0,z.keys)(g),C=!n.__up&&!h&&(c||_.some(function(O){return b.indexOf(O)>=0})),w=this.get("onChange"),x={property:this,from:m,to:g,value:d,opts:n};l.__trgEv(l.events.propertyUpdate,x),w&&w(x),C&&this.__upTargetsStyle((i={},i[u]=d,i),n)},e.prototype.__upTargetsStyle=function(t,n){var i,o=(i=this.em)===null||i===void 0?void 0:i.get("StyleManager");o==null||o.addStyleTargets(Fr(Fr({},t),{__p:!!n.avoidStore}),n)},e.prototype._up=function(t,n){n===void 0&&(n={}),n.noTarget&&(n.__up=!0);var i=n.partial,o=iF(n,["partial"]);return t.__p=!!(o.avoidStore||i),this.set(t,Fr(Fr({},o),{avoidStore:t.__p}))},e.prototype.up=function(t,n){n===void 0&&(n={}),this.set(t,Fr(Fr({},n),{__up:!0}))},e.prototype.init=function(){},e.prototype.getId=function(){return this.get("id")},e.prototype.getType=function(){return this.get("type")},e.prototype.getName=function(){return this.get("property")},e.prototype.getLabel=function(t){var n;t===void 0&&(t={});var i=t.locale,o=i===void 0?!0:i,a=this.getId(),l=this.get("name")||this.get("label");return o&&((n=this.em)===null||n===void 0?void 0:n.t("styleManager.properties.".concat(a)))||l},e.prototype.getValue=function(t){t===void 0&&(t={});var n=t.noDefault,i=this.get("value");return!this.hasValue()&&!n?this.getDefaultValue():i},e.prototype.hasValue=function(t){t===void 0&&(t={});var n=t.noParent,i=n&&this.getParentTarget(),o=this.get("value");return!(0,z.isUndefined)(o)&&o!==""&&!i},e.prototype.hasValueParent=function(){return this.hasValue()&&!this.hasValue({noParent:!0})},e.prototype.getStyle=function(t){var n;t===void 0&&(t={});var i=this.getName(),o=t.camelCase?(0,Vt.camelCase)(i):i;return n={},n[o]=this.__getFullValue(t),n},e.prototype.getDefaultValue=function(){var t=this.get("default");return"".concat((0,z.isUndefined)(t)?this.get("defaults"):t)},e.prototype.upValue=function(t,n){n===void 0&&(n={});var i=t===null||t===""?this.__getClearProps():this.__parseValue(t,n);return this._up(i,n)},e.prototype.isVisible=function(){return!!this.get("visible")},e.prototype.clear=function(t){return t===void 0&&(t={}),this._up(this.__getClearProps(),Fr(Fr({},t),{__clear:!0})),this},e.prototype.canClear=function(){var t=this.getParent();return t?t.__canClearProp(this):this.hasValue({noParent:!0})},e.prototype.getParent=function(){return this.__getParentProp()},e.prototype.isFull=function(){return!!this.get("full")},e.prototype.__parseValue=function(t,n){return this.parseValue(t,n)},e.prototype.__getClearProps=function(){return{value:"",important:!1}},e.prototype.setValue=function(t,n,i){n===void 0&&(n=!0),i===void 0&&(i={});var o=this.parseValue(t),a=!n;!a&&this.set({value:void 0},{avoidStore:a,silent:!0}),this.set(o,Fr({avoidStore:a},i))},e.prototype.setValueFromInput=function(t,n,i){i===void 0&&(i={}),this.setValue(t,n,Fr(Fr({},i),{fromInput:1}))},e.prototype.parseValue=function(t,n){n===void 0&&(n={});var i={value:t},o="!important",a=this.get("functionName")||"";if((0,z.isString)(t)&&t.indexOf(o)!==-1&&(i.value=t.replace(o,"").trim(),i.important=!0),!a&&!n.complete)return i;var l=[],u="".concat(i.value).trim(),c=u.indexOf("(")+1,d=a||u.substring(0,c-1);if(d&&(i.functionName=d),!a||u.indexOf("".concat(a,"("))===0){var h=u.lastIndexOf(")");l.push(c),h>=0&&l.push(h),i.value=String.prototype.substring.apply(u,l)}if(n.numeric){var g=parseFloat(i.value);i.unit=i.value.replace(g,""),i.value=g}return i},e.prototype.__getFullValue=function(t){var n=t===void 0?{}:t,i=n.withDefault;return!this.hasValue()&&i?this.getDefaultValue():this.getFullValue()},e.prototype.getFullValue=function(t,n){n===void 0&&(n={});var i=this.get("functionName"),o=this.getDefaultValue(),a=(0,z.isUndefined)(t)?this.get("value"):t,l=this.hasValue();if(a&&o&&a===o)return o;if(i&&l){var u=i==="url"?"'".concat(a.replace(/'|"/g,""),"'"):a;a="".concat(i,"(").concat(u,")")}return l&&this.get("important")&&!n.skipImportant&&(a="".concat(a," !important")),a||""},e.prototype.__setParentTarget=function(t){this.up({parentTarget:t})},e.prototype.getParentTarget=function(){return this.get("parentTarget")||null},e.prototype.__parseFn=function(t){t===void 0&&(t="");var n=t.indexOf("(")+1,i=t.lastIndexOf(")");return{name:t.substring(0,n-1).trim(),value:String.prototype.substring.apply(t,[n,i>=0?i:void 0]).trim()}},e.prototype.__checkVisibility=function(t){var n=t.target,i=t.component,o=t.sectors,a=i||n;if(!a)return!1;var l=this.getId(),u=this.getName(),c=this.get("toRequire"),d=this.get("requires"),h=this.get("requiresParent"),g=a.get("unstylable"),m=a.get("stylable-require"),_=a.get("stylable");if((0,z.isArray)(_)&&(_=_.indexOf(u)>=0),(0,z.isArray)(g)&&(_=g.indexOf(u)<0),c&&(_=!n||m&&(m.indexOf(l)>=0||m.indexOf(u)>=0)),o&&d){var b=(0,z.keys)(d);o.forEach(function(O){O.getProperties().forEach(function(k){if((0,z.includes)(b,k.id)){var V=d[k.id];_=_&&(0,z.includes)(V,k.get("value"))}})})}if(h){var C=i&&i.parent(),w=C&&C.getEl();if(w){var x=(0,Vt.hasWin)()?window.getComputedStyle(w):{};(0,z.each)(h,function(O,k){_=_&&x[k]&&(0,z.includes)(O,x[k])})}else _=!1}return!!_},e}(te.Kx);const _n=ow;ow.callParentInit=function(r,e,t,n){n===void 0&&(n={}),r.prototype.initialize.apply(e,[t,Fr(Fr({},n),{skipInit:1})])};ow.callInit=function(r,e,t){t===void 0&&(t={}),!t.skipInit&&r.init(e,t)};var oF=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Pu=function(){return Pu=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Pu.apply(this,arguments)},H1=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))},_k=function(r){return r==="integer"||r==="number"},aF=function(r){oF(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.defaults=function(){return Pu(Pu({},_n.getDefaults()),{detached:!1,properties:[],separator:" ",join:null,fromStyle:null,toStyle:null,full:!0})},e.prototype.initialize=function(t,n){t===void 0&&(t={}),n===void 0&&(n={}),_n.callParentInit(_n,this,t,n);var i=this.em,o=new sw(this.get("properties")||[],{em:i,parentProp:this});this.set("properties",o,{silent:!0}),this.listenTo(o,"change",this.__upProperties),_n.callInit(this,t,n)},Object.defineProperty(e.prototype,"properties",{get:function(){return this.get("properties")||[]},enumerable:!1,configurable:!0}),e.prototype.getProperties=function(){return H1([],this.get("properties").models,!0)},e.prototype.getProperty=function(t){return this.properties.filter(function(n){return n.getId()===t||n.getName()===t})[0]},e.prototype.getPropertyAt=function(t){return this.get("properties").at(t)},e.prototype.isDetached=function(){return!!this.get("detached")},e.prototype.getValues=function(t){var n=t===void 0?{}:t,i=n.byName;return this.getProperties().reduce(function(o,a){var l=i?a.getName():a.getId();return o[l]="".concat(a.__getFullValue()),o},{})},e.prototype.getSeparator=function(){return this.getSplitSeparator()},e.prototype.getJoin=function(){return this.__getJoin()},e.prototype.getStyleFromProps=function(t){var n;t===void 0&&(t={});var i=this.getName(),o=this.__getJoin(),a=this.get("toStyle"),l=this.getValues(),u={};if(a)u=a(l,{join:o,name:i,property:this});else if(l=this.getValues({byName:!0}),this.isDetached())u=l;else{var c=this.getProperties().map(function(d){return d.__getFullValue({withDefault:1})}).filter(Boolean).join(o);u=(n={},n[i]=c,n)}return this.isDetached()?u[i]="":(u[i]=u[i]||"",u=Pu(Pu({},u),this.getProperties().reduce(function(d,h){return d[h.getName()]="",d},{}))),t.camelCase?Object.keys(u).reduce(function(d,h){return d[(0,Vt.camelCase)(h)]=u[h],d},{}):u},e.prototype.getSplitSeparator=function(){return new RegExp("".concat(this.get("separator"),"(?![^\\(]*\\))"))},e.prototype.__upProperties=function(t,n){if(n===void 0&&(n={}),!(n.__up||n.__clearIn)){var i=this.__getParentProp();if(i)return i.__upProperties(this,n);this.__upTargetsStyleProps(n,t)}},e.prototype.__upTargetsStyleProps=function(t,n){var i;t===void 0&&(t={});var o=this.getStyleFromProps();if(this.isDetached()&&n){var a=n.getName();o=(i={},i[a]=o[a],i)}this.__upTargetsStyle(o,t)},e.prototype._up=function(t,n){return n===void 0&&(n={}),this.__setProperties(this.__getSplitValue(t.value),n),_n.prototype._up.call(this,t,n),this},e.prototype.getStyle=function(t){return this.getStyleFromProps(t)},e.prototype.__getFullValue=function(t){if(t===void 0&&(t={}),this.isDetached()||t.__clear)return"";var n=this.getStyleFromProps()[this.getName()]||"";return n_(n)},e.prototype.__getJoin=function(){var t=this.get("join");return(0,z.isString)(t)?t:this.get("separator")},e.prototype.__styleHasProps=function(t){t===void 0&&(t={});var n=this.getName(),i=this.getProperties(),o=i.map(function(l){return l.getName()}),a=H1([n],o,!0);return a.some(function(l){return!(0,z.isUndefined)(t[l])&&t[l]!==""})},e.prototype.__splitValue=function(t,n){return n_(t).split(n).map(function(i){return i.trim()}).filter(Boolean)},e.prototype.__splitStyleName=function(t,n,i){var o=t[n];return this.__splitValue(o||"",i)},e.prototype.__getSplitValue=function(t,n){t===void 0&&(t="");var i=n===void 0?{}:n,o=i.byName,a=this.getProperties(),l=a.length===4&&a.every(function(d){return _k(d.getType())}),u=this.__splitValue(t,this.getSplitSeparator()),c={};return a.forEach(function(d,h){var g=u[h],m=(0,z.isUndefined)(g)?"":g;if(l){var _=u.length;m=u[h]||u[h%_+(_!=1&&_%2?1:0)]||m}var b=o?d.getName():d.getId();c[b]=m||""}),c},e.prototype.__getPropsFromStyle=function(t,n){if(t===void 0&&(t={}),n===void 0&&(n={}),!this.__styleHasProps(t))return null;var i=n.byName,o=this.getName(),a=this.getProperties(),l=this.getSplitSeparator(),u=this.get("fromStyle"),c=u?u(t,{property:this,name:o,separator:l}):{};if(!u){var d=t[o];c=this.__getSplitValue(d||"",{byName:i}),a.forEach(function(h){var g=t[h.getName()],m=i?h.getName():h.getId();!(0,z.isUndefined)(g)&&g!==""&&(c[m]=g)})}return c},e.prototype.__setProperties=function(t,n){t===void 0&&(t={}),n===void 0&&(n={}),this.getProperties().forEach(function(o){var a=t[o.getId()];o.__getFullValue()!==a&&o.upValue(a,n)});var i=(0,z.keys)(t).map(function(o){return t[o]}).join(" ");this.set("value",i,{silent:!0})},e.prototype.clear=function(){var t=this;return this.getProperties().map(function(n){return n.clear({__clearIn:!t.isDetached()})}),_n.prototype.clear.call(this),this},e.prototype.hasValue=function(t){return this.getProperties().some(function(n){return n.hasValue(t)})},e.prototype.getFullValue=function(){return this.__getFullValue()},e.prototype.__canClearProp=function(t){return this.isDetached()&&t.hasValue({noParent:!0})},e}(_n);const nu=aF;var sF=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ai=function(){return ai=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},ai.apply(this,arguments)},lF=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t},uF=/,(?![^\(]*\))/,cF=/\s(?![^(]*\))/,fF=function(r){sF(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.defaults=function(){return ai(ai({},nu.getDefaults()),{layers:[],emptyValue:"unset",layerSeparator:", ",layerJoin:"",prepend:0,preview:!1,layerLabel:null,selectedLayer:null})},e.prototype.initialize=function(t,n){t===void 0&&(t={}),n===void 0&&(n={}),nu.callParentInit(nu,this,t,n);var i=this.get("layers"),o=new vp(i,{prop:this});o.property=this,o.properties=this.get("properties"),this.set("layers",o,{silent:!0}),this.on("change:selectedLayer",this.__upSelected),this.listenTo(o,"add remove",this.__upLayers),nu.callInit(this,t,n)},Object.defineProperty(e.prototype,"layers",{get:function(){return this.get("layers")},enumerable:!1,configurable:!0}),e.prototype.getLayers=function(){return this.layers.models},e.prototype.hasLayers=function(){return this.getLayers().length>0},e.prototype.getLayer=function(t){return t===void 0&&(t=0),this.layers.at(t)||void 0},e.prototype.getSelectedLayer=function(){var t=this.get("selectedLayer");return t&&t.getIndex()>=0?t:void 0},e.prototype.selectLayer=function(t){return this.set("selectedLayer",t,{__select:!0})},e.prototype.selectLayerAt=function(t){t===void 0&&(t=0);var n=this.getLayer(t);return n&&this.selectLayer(n)},e.prototype.moveLayer=function(t,n){n===void 0&&(n=0);var i=this.layers,o=t?t.getIndex():-1;o>=0&&(0,z.isNumber)(n)&&n>=0&&n<i.length&&o!==n&&(this.removeLayer(t),i.add(t,{at:n}))},e.prototype.addLayer=function(t,n){t===void 0&&(t={}),n===void 0&&(n={});var i={};this.getProperties().forEach(function(a){var l=a.getId(),u=t[l];i[l]=(0,z.isUndefined)(u)?a.getDefaultValue():u});var o=this.layers.push({values:i},n);return o},e.prototype.removeLayer=function(t){return this.layers.remove(t)},e.prototype.removeLayerAt=function(t){t===void 0&&(t=0);var n=this.getLayer(t);return n?this.removeLayer(n):null},e.prototype.getLayerLabel=function(t){var n="";if(t){var i=this.get("layerLabel"),o=t.getValues(),a=t.getIndex();if(i)n=i(t,{index:a,values:o,property:this});else{var l=[];this.getProperties().map(function(u){l.push(o[u.getId()])}),n=l.filter(Boolean).join(" ")}}return n},e.prototype.getStyleFromLayer=function(t,n){var i;n===void 0&&(n={});var o=this.__getJoin(),a=this.__getJoinLayers(),l=this.get("toStyle"),u=this.getName(),c=t.getValues(),d;if(l)d=l(c,{join:o,joinLayers:a,name:u,layer:t,property:this});else{var h=this.getProperties().map(function(g){var m=g.getName(),_=c[g.getId()],b=(0,z.isUndefined)(_)?g.getDefaultValue():_;if(n.number&&_k(g.getType())){var C=g.parseValue(_,n.number);b="".concat(C.value).concat(C.unit)}return{name:m,value:b}});d=this.isDetached()?h.reduce(function(g,m){return g[m.name]=m.value,g},{}):(i={},i[this.getName()]=h.map(function(g){return g.value}).join(o),i)}return n.camelCase?Object.keys(d).reduce(function(g,m){return g[(0,Vt.camelCase)(m)]=d[m],g},{}):d},e.prototype.getStylePreview=function(t,n){n===void 0&&(n={});var i={},o=this.get("preview");return o&&(i=this.getStyleFromLayer(t,n)),i},e.prototype.getLayerSeparator=function(){var t=this.get("layerSeparator");return(0,z.isString)(t)?new RegExp("".concat(t,"(?![^\\(]*\\))")):t},e.prototype.hasEmptyValue=function(){return!this.hasLayers()&&!!this.attributes.isEmptyValue},e.prototype.__upProperties=function(t,n){var i;n===void 0&&(n={});var o=this.getSelectedLayer();o&&(o.upValues((i={},i[t.getId()]=t.__getFullValue(),i)),!n.__up&&this.__upTargetsStyleProps(n))},e.prototype.__upLayers=function(t,n,i){this.__upTargetsStyleProps(i||n)},e.prototype.__upTargets=function(t,n){if(n===void 0&&(n={}),!n.__select)return _n.prototype.__upTargets.call(this,t,n)},e.prototype.__upTargetsStyleProps=function(t){t===void 0&&(t={}),this.__upTargetsStyle(this.getStyleFromLayers(t),t)},e.prototype.__upTargetsStyle=function(t,n){return _n.prototype.__upTargetsStyle.call(this,t,n)},e.prototype.__upSelected=function(t,n){var i=t===void 0?{}:t,o=i.noEvent;n===void 0&&(n={});var a=this.em.Styles,l=this.getSelectedLayer(),u=l==null?void 0:l.getValues();u&&this.getProperties().forEach(function(c){var d,h=(d=u[c.getId()])!==null&&d!==void 0?d:"";c.__getFullValue()!==h&&c.upValue(h,ai(ai({},n),{__up:!0}))}),!o&&a.__trgEv(a.events.layerSelect,{property:this})},e.prototype._up=function(t,n){n===void 0&&(n={});var i=t.__layers,o=i===void 0?[]:i,a=lF(t,["__layers"]);return!this.isDetached()&&this.__setLayers(o),this.__upSelected({noEvent:!0},n),_n.prototype._up.call(this,a,n),this},e.prototype.__setLayers=function(t,n){t===void 0&&(t=[]),n===void 0&&(n={});var i=this.layers,o=t.map(function(a){return{values:a}});i.length===o.length?o.map(function(a,l){var u;return(u=i.at(l))===null||u===void 0?void 0:u.upValues(a.values)}):i.reset(o),this.set({isEmptyValue:!!n.isEmptyValue}),this.__upSelected({noEvent:!0})},e.prototype.__parseValue=function(t){var n=this,i=this.parseValue(t);return i.__layers=t.split(uF).map(function(o){return o.trim()}).map(function(o){return n.__parseLayer(o)}).filter(Boolean),i},e.prototype.__parseLayer=function(t){var n=this.get("parseLayer"),i=t.split(cF),o=this.getProperties();return n?n({value:t,values:i}):o.reduce(function(a,l,u){var c=i[u];return a[l.getId()]=(0,z.isUndefined)(c)?l.getDefaultValue():c,a},{})},e.prototype.__getLayersFromStyle=function(t){var n=this;if(t===void 0&&(t={}),!this.__styleHasProps(t))return null;if(this.isEmptyValueStyle(t))return[];var i=this.getName(),o=this.getProperties(),a=this.getLayerSeparator(),l=this.attributes.fromStyle,u=l?l(t,{property:this,name:i,separatorLayers:a}):[];if(!l){var c=this.__splitStyleName(t,i,a).map(function(d){return d.split(n.getSplitSeparator())}).map(function(d){var h={};return o.forEach(function(g,m){var _=d[m];h[g.getId()]=(0,z.isUndefined)(_)?g.getDefaultValue():_}),h});o.forEach(function(d){var h=d.getId();n.__splitStyleName(t,d.getName(),a).map(function(g){var m;return m={},m[h]=g||d.getDefaultValue(),m}).forEach(function(g,m){c[m]=c[m]?ai(ai({},c[m]),g):g})}),u=c}return(0,z.isArray)(u)?u:[u]},e.prototype.getStyle=function(t){return t===void 0&&(t={}),this.getStyleFromLayers(t)},e.prototype.getStyleFromLayers=function(t){var n=this;t===void 0&&(t={});var i={},o=this.getName(),a=this.getLayers(),l=this.getProperties(),u=a.map(function(d){return n.getStyleFromLayer(d,t)});if(u.forEach(function(d){(0,z.keys)(d).map(function(h){i[h]||(i[h]=[]),i[h].push(d[h])})}),(0,z.keys)(i).map(function(d){i[d]=i[d].join(n.__getJoinLayers())}),this.isDetached())i[o]="",!a.length&&l.map(function(d){i[d.getName()]=""});else{var c=l.reduce(function(d,h){return d[h.getName()]="",d},{});i[o]=i[o]||"",i=ai(ai({},i),c)}return ai(ai({},i),t.__clear?{}:this.getEmptyValueStyle())},e.prototype.isEmptyValueStyle=function(t){t===void 0&&(t={});var n=this.getEmptyValueStyle({force:!0}),i=(0,z.keys)(n);return!!i.length&&i.every(function(o){return n[o]===t[o]})},e.prototype.getEmptyValueStyle=function(t){t===void 0&&(t={});var n=this.attributes.emptyValue;if(n&&(!this.hasLayers()||t.force)){var i=this.getName(),o=this.getProperties(),a=(0,z.isString)(n)?n:n({property:this});if((0,z.isString)(a)){var l={};return this.isDetached()?o.map(function(u){l[u.getName()]=a}):l[i]=a,l}else return a}else return{}},e.prototype.__getJoinLayers=function(){var t=this.get("layerJoin"),n=this.get("layerSeparator");return t||((0,z.isString)(n)?n:t)},e.prototype.__getFullValue=function(){if(this.get("detached"))return"";var t=this.getStyleFromLayers();return n_(t[this.getName()])},e.prototype.hasValue=function(t){t===void 0&&(t={});var n=t.noParent,i=n&&this.getParentTarget();return(this.hasLayers()||this.hasEmptyValue())&&!i},e.prototype.clear=function(t){return t===void 0&&(t={}),this.layers.reset(),this.__upTargetsStyleProps(ai(ai({},t),{__clear:!0})),_n.prototype.clear.call(this),this},e.prototype.__canClearProp=function(){return!1},e.prototype.__getLayers=function(){return this.layers},e}(nu);const dF=fF;var hF=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),$v=function(){return $v=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},$v.apply(this,arguments)},pF=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t},vF=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))},Hy="data-clear-style",gF=function(r){hF(e,r);function e(t){t===void 0&&(t={});var n=r.call(this,t)||this;(0,z.bindAll)(n,"__change","__updateStyle");var i=t.config||{},o=i.em;n.config=i,n.em=o,n.pfx=i.stylePrefix||"",n.ppfx=i.pStylePrefix||"",n.__destroyFn=n.destroy?n.destroy.bind(n):function(){};var a=n.model;a.view=n,n.onValueChange=(0,z.debounce)(n.onValueChange.bind(n),10),n.updateStatus=(0,z.debounce)(n.updateStatus.bind(n),0),n.listenTo(a,"destroy remove",n.remove),n.listenTo(a,"change:visible",n.updateVisibility),n.listenTo(a,"change:name change:className change:full",n.render),n.listenTo(a,"change:value",n.onValueChange),n.listenTo(a,"change:parentTarget",n.updateStatus),n.listenTo(o,"change:device",n.onValueChange);var l=n.init&&n.init.bind(n);return l&&l(),n}return e.prototype.events=function(){var t;return t={change:"inputValueChanged"},t["click [".concat(Hy,"]")]="clear",t},e.prototype.template=function(t){var n=this,i=n.pfx,o=n.ppfx;return`
      <div class="`.concat(i,`label" data-sm-label></div>
      <div class="`).concat(o,`fields" data-sm-fields></div>
    `)},e.prototype.templateLabel=function(t){var n=this,i=n.pfx,o=n.em,a=t.parent,l=t.attributes,u=l.icon,c=u===void 0?"":u,d=l.info,h=d===void 0?"":d,g=o==null?void 0:o.getConfig().icons,m=(g==null?void 0:g.close)||"";return`
      <span class="`.concat(i,"icon ").concat(c,'" title="').concat(h,`">
        `).concat(t.getLabel(),`
      </span>
      `).concat(a?"":'<div class="'.concat(i,'clear" style="display: none" ').concat(Hy,">").concat(m,"</div>"),`
    `)},e.prototype.templateInput=function(t){return`
      <div class="`.concat(this.ppfx,`field">
        <input placeholder="`).concat(t.getDefaultValue(),`"/>
      </div>
    `)},e.prototype.remove=function(){var t=this;return te.Ss.prototype.remove.apply(this,arguments),["em","input","$input","view"].forEach(function(n){return t[n]=null}),this.__destroyFn(this._getClbOpts()),this},e.prototype.updateStatus=function(){var t,n=this,i=n.model,o=n.pfx,a=n.ppfx,l=n.config,u="".concat(a,"four-color"),c="".concat(a,"color-warn"),d=this.$el.children(".".concat(o,"label")),h=this.getClearEl(),g=h?h.style:{};d.removeClass("".concat(u," ").concat(c)),g.display="none",i.hasValue({noParent:!0})&&l.highlightChanged?(d.addClass(u),l.clearProperties&&(g.display="")):i.hasValue()&&l.highlightComputed&&d.addClass(c),(t=this.parent)===null||t===void 0||t.updateStatus()},e.prototype.clear=function(t){t&&t.stopPropagation(),this.model.clear()},e.prototype.getClearEl=function(){return this.clearEl||(this.clearEl=this.el.querySelector("[".concat(Hy,"]"))),this.clearEl},e.prototype.inputValueChanged=function(t){t&&t.stopPropagation(),!this.emit&&this.model.upValue(t.target.value)},e.prototype.onValueChange=function(t,n,i){this.setValue(this.model.getFullValue(void 0,{skipImportant:!0})),this.updateStatus()},e.prototype.setValue=function(t){var n=this.model,i=(0,z.isUndefined)(t)||t===""?n.getDefaultValue():t;if(this.update)return this.__update(i);this.__setValueInput(i)},e.prototype.__setValueInput=function(t){var n=this.getInputEl();n&&(n.value=t)},e.prototype.getInputEl=function(){return this.input||(this.input=this.el.querySelector("input")),this.input},e.prototype.updateVisibility=function(){this.el.style.display=this.model.isVisible()?"":"none"},e.prototype.clearCached=function(){delete this.clearEl,delete this.input,delete this.$input},e.prototype.__unset=function(){var t=this.unset&&this.unset.bind(this);t&&t(this._getClbOpts())},e.prototype.__update=function(t){var n=this.update&&this.update.bind(this);n&&n($v($v({},this._getClbOpts()),{value:t}))},e.prototype.__change=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=this.emit&&this.emit.bind(this);i&&i.apply(void 0,vF([this._getClbOpts()],t,!1))},e.prototype.__updateStyle=function(t,n){n===void 0&&(n={});var i=n.complete,o=n.partial;pF(n,["complete","partial"]);var a=this.model,l=i!==!1&&o!==!0;(0,Vt.isObject)(t)?a.__upTargetsStyle(t,{avoidStore:!l}):a.upValue(t,{partial:!l})},e.prototype._getClbOpts=function(){var t=this,n=t.model,i=t.el,o=t.createdEl;return{el:i,createdEl:o,property:n,props:n.attributes,change:this.__change,updateStyle:this.__updateStyle}},e.prototype.render=function(){this.clearCached();var t=this,n=t.pfx,i=t.model,o=t.el,a=t.$el,l=i.getName(),u=i.getType(),c=i.get("className")||"",d="".concat(n,"property"),h=u==="number"?"".concat(n).concat(u," ").concat(n,"integer"):"".concat(n).concat(u);this.createdEl&&this.__destroyFn(this._getClbOpts()),a.empty().append(this.template(i)),a.find("[data-sm-label]").append(this.templateLabel(i));var g=this.create&&this.create.bind(this);this.createdEl=g&&g(this._getClbOpts()),a.find("[data-sm-fields]").append(this.createdEl||this.templateInput(i)),o.className="".concat(d," ").concat(h," ").concat(d,"__").concat(l," ").concat(c).trim(),o.className+=i.isFull()?" ".concat(d,"--full"):"";var m=this.onRender&&this.onRender.bind(this);return m&&m(),this.setValue(i.getValue()),this},e.prototype.onRender=function(){},e}(te.Ss);const ya=gF;var mF=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),yF=function(r){mF(e,r);function e(t){var n=r.call(this,t)||this;n.config=t.config||{},n.pfx=n.config.stylePrefix||"",n.properties=[],n.parent=t.parent;var i=n.collection;return n.listenTo(i,"add",n.addTo),n.listenTo(i,"reset",n.render),n}return e.prototype.addTo=function(t,n,i){this.add(t,null,i)},e.prototype.add=function(t,n,i){i===void 0&&(i={});var o=this,a=o.parent,l=o.config,u=n||this.el,c=new t.typeView({model:t,config:l});a&&(c.parent=a),c.render();var d=c.el;this.properties.push(c),(0,ae.Sc)(u,d,i.at)},e.prototype.remove=function(){return te.Ss.prototype.remove.apply(this,arguments),this.clearItems(),this},e.prototype.clearItems=function(){this.properties.forEach(function(t){return t.remove()}),this.properties=[]},e.prototype.render=function(){var t=this,n=this,i=n.$el,o=n.pfx;this.clearItems();var a=document.createDocumentFragment();return this.collection.forEach(function(l){return t.add(l,a)}),i.empty(),i.append(a),i.attr("class","".concat(o,"properties")),this},e}(te.Ss);const aw=yF;var _F=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Jv=function(){return Jv=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Jv.apply(this,arguments)},bF=function(r){_F(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.templateInput=function(){var t=this.pfx;return`
      <div class="`.concat(t,"field ").concat(t,`composite">
        <span id="`).concat(t,`input-holder"></span>
      </div>
    `)},e.prototype.remove=function(){var t;return(t=this.props)===null||t===void 0||t.remove(),ya.prototype.remove.apply(this,arguments),this},e.prototype.onValueChange=function(){},e.prototype.onRender=function(){var t=this.pfx,n=this.model,i=n.get("properties");if(i.length&&!this.props){var o=n.isDetached(),a=new aw({config:Jv(Jv({},this.config),{highlightComputed:o,highlightChanged:o}),collection:i,parent:this});a.render(),this.$el.find("#".concat(t,"input-holder")).append(a.el),this.props=a}},e.prototype.clearCached=function(){ya.prototype.clearCached.apply(this,arguments),delete this.props},e}(ya);const mf=bF;var wF=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),SF=function(r){wF(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.events=function(){return{click:"select","click [data-close-layer]":"removeItem","mousedown [data-move-layer]":"initSorter","touchstart [data-move-layer]":"initSorter"}},e.prototype.template=function(){var t=this,n=t.pfx,i=t.ppfx,o=t.em,a=o==null?void 0:o.getConfig().icons,l=(a==null?void 0:a.close)||"",u=(a==null?void 0:a.move)||"";return`
      <div class="`.concat(n,`label-wrp">
        <div id="`).concat(n,'move" class="').concat(i,`no-touch-actions" data-move-layer>
          `).concat(u,`
        </div>
        <div id="`).concat(n,`label" data-label></div>
        <div id="`).concat(n,'preview-box" class="').concat(n,`layer-preview" style="display: none" data-preview-box>
          <div id="`).concat(n,'preview" class="').concat(n,`layer-preview-cnt" data-preview></div>
        </div>
        <div id="`).concat(n,'close-layer" class="').concat(n,`btn-close" data-close-layer>
          `).concat(l,`
        </div>
      </div>
      <div id="`).concat(n,`inputs" data-properties></div>
    `)},e.prototype.initialize=function(t){t===void 0&&(t={});var n=this.model,i=t.config||{};this.em=i.em,this.config=i,this.sorter=t.sorter,this.pfx=i.stylePrefix||"",this.ppfx=i.pStylePrefix||"",this.propertyView=t.propertyView;var o=this.propertyView.model;this.listenTo(n,"destroy remove",this.remove),this.listenTo(n,"change:values",this.updateLabel),this.listenTo(o,"change:selectedLayer",this.updateVisibility),n.view=this,n.set({droppable:0,draggable:1}),this.$el.data("model",n)},e.prototype.initSorter=function(){var t;(t=this.sorter)===null||t===void 0||t.startSort([{element:this.el}])},e.prototype.removeItem=function(t){t&&t.stopPropagation(),this.model.remove()},e.prototype.select=function(){this.model.select()},e.prototype.getPropertiesWrapper=function(){return this.propsWrapEl||(this.propsWrapEl=this.el.querySelector("[data-properties]")),this.propsWrapEl},e.prototype.getPreviewEl=function(){return this.previewEl||(this.previewEl=this.el.querySelector("[data-preview]")),this.previewEl},e.prototype.getLabelEl=function(){return this.labelEl||(this.labelEl=this.el.querySelector("[data-label]")),this.labelEl},e.prototype.updateLabel=function(){var t=this.model,n=t.getLabel();if(this.getLabelEl().innerHTML=n,t.hasPreview()){var i=this.getPreviewEl(),o=t.getStylePreview({number:{min:-3,max:3}}),a=(0,z.keys)(o).map(function(l){return"".concat(l,":").concat(o[l])}).join(";");i.setAttribute("style",a)}},e.prototype.updateVisibility=function(){var t,n=this,i=n.pfx,o=n.model,a=n.propertyView,l=this.getPropertiesWrapper(),u=o.isSelected();l.style.display=u?"":"none",this.$el[u?"addClass":"removeClass"]("".concat(i,"active")),u&&l.appendChild((t=a.props)===null||t===void 0?void 0:t.el)},e.prototype.render=function(){var t=this,n=t.el,i=t.pfx,o=t.model;return n.innerHTML=this.template(),n.className="".concat(i,"layer"),o.hasPreview()&&(n.querySelector("[data-preview-box]").style.display=""),this.updateLabel(),this.updateVisibility(),this},e}(te.Ss);const CF=SF;var xF=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),OF=function(r){xF(e,r);function e(t){var n=r.call(this,t)||this,i=n.collection,o=t.config||{},a=o.em,l=o.stylePrefix||"",u=o.pStylePrefix||"";n.config=o,n.pfx=l,n.ppfx=u,n.propertyView=t.propertyView,n.className="".concat(l,"layers ").concat(u,"field"),n.listenTo(i,"add",n.addTo),n.listenTo(i,"reset",n.reset),n.items=[];var c=n.createPlaceholder(o.pStylePrefix);n.$el.append(c);var d=a==null?void 0:a.Utils;return n.sorter=d?new d.StyleManagerSorter({em:a,containerContext:{container:n.el,containerSel:".".concat(l,"layers"),itemSel:".".concat(l,"layer"),pfx:o.pStylePrefix,document,placeholderElement:c},dragBehavior:{dragDirection:gl.A.Vertical,nested:!1}}):void 0,i.view=n,n.$el.data("model",i),n.$el.data("collection",i),n}return e.prototype.addTo=function(t){var n=this.collection.indexOf(t);this.addToCollection(t,null,n)},e.prototype.addToCollection=function(t,n,i){var o=n||null,a=this,l=a.propertyView,u=a.config,c=a.sorter,d=a.$el,h=new CF({model:t,config:u,sorter:c,propertyView:l}),g=h.render().el;if(this.items.push(h),o)o.appendChild(g);else if(typeof i<"u"){var m="before";d.children().length===i&&(i--,m="after"),i<0?d.append(g):d.children().eq(i)[m](g)}else d.append(g);return g},e.prototype.reset=function(t,n){this.clearItems(),this.render()},e.prototype.remove=function(){return this.clearItems(),te.Ss.prototype.remove.apply(this,arguments),this},e.prototype.clearItems=function(){this.items.forEach(function(t){return t.remove()}),this.items=[]},e.prototype.render=function(){var t=this,n=this.$el,i=document.createDocumentFragment();return n.empty(),this.collection.forEach(function(o){return t.addToCollection(o,i)}),n.append(i),n.attr("class",this.className),this},e.prototype.createPlaceholder=function(t){var n=document.createElement("div"),i=document.createElement("div");return this.el.parentNode,n.className=t+"placeholder",n.style.display="none",n.style.pointerEvents="none",i.className=t+"placeholder-int",n.appendChild(i),n},e}(te.Ss);const EF=OF;var TF=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Mu=function(){return Mu=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Mu.apply(this,arguments)},AF=function(r){TF(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.events=function(){return Mu(Mu({},mf.prototype.events()),{"click [data-add-layer]":"addLayer",change:""})},e.prototype.templateInput=function(){var t=this,n=t.pfx,i=t.em,o=i==null?void 0:i.getConfig().icons,a=(o==null?void 0:o.plus)||"+";return`
      <div class="`.concat(n,"field ").concat(n,`stack">
        <button type="button" id="`).concat(n,`add" data-add-layer>
          `).concat(a,`
        </button>
        <div data-layers-wrapper></div>
      </div>
    `)},e.prototype.init=function(){var t=this.model;this.listenTo(t.layers,"change reset",this.updateStatus),this.listenTo(t,"change:isEmptyValue",this.updateStatus)},e.prototype.addLayer=function(){this.model.addLayer({},{at:0})},e.prototype.setValue=function(){},e.prototype.remove=function(){var t;return(t=this.layersView)===null||t===void 0||t.remove(),mf.prototype.remove.apply(this,arguments),this},e.prototype.clearCached=function(){mf.prototype.clearCached.apply(this,arguments),delete this.layersView},e.prototype.onRender=function(){var t=this,n=t.model,i=t.el,o=t.config,a=n.get("properties");if(a.length&&!this.props){var l=new aw({config:Mu(Mu({},o),{highlightComputed:!1,highlightChanged:!1}),collection:a,parent:this});l.render();var u=new EF({collection:n.layers,config:o,propertyView:this});u.render();var c=i.querySelector("[data-layers-wrapper]");c.appendChild(u.el),this.props=l,this.layersView=u}},e}(mf);const kF=AF;var DF=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Qv=function(){return Qv=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Qv.apply(this,arguments)},PF=function(r){DF(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.events=function(){return Qv(Qv({},ya.prototype.events()),{"click [data-clear-asset]":"clear","click [data-open-assets]":"openAssetManager"})},e.prototype.templateInput=function(){var t,n=this,i=n.pfx,o=n.em,a=(t=this.em)===null||t===void 0?void 0:t.getConfig().icons,l=a==null?void 0:a.close;return`
      <div class="`.concat(i,"field ").concat(i,`file">
        <div id='`).concat(i,`input-holder'>
          <div class="`).concat(i,`btn-c">
            <button class="`).concat(i,'btn" id="').concat(i,`images" type="button" data-open-assets>
              `).concat(o.t("styleManager.fileButton"),`
            </button>
          </div>
          <div style="clear:both;"></div>
        </div>
        <div id="`).concat(i,'preview-box" class="').concat(i,`preview-file" data-preview-box>
          <div id="`).concat(i,'preview-file" class="').concat(i,`preview-file-cnt" data-preview></div>
          <div id="`).concat(i,'close" class="').concat(i,'preview-file-close" data-clear-asset>').concat(l,`</div>
        </div>
      </div>
    `)},e.prototype.__setValueInput=function(t){var n=this,i=n.model,o=n.el,a=i.getDefaultValue(),l=o.querySelector("[data-preview-box]"),u=o.querySelector("[data-preview]");l.style.display=!t||t===a?"none":"",u.style.backgroundImage=t||i.getDefaultValue()},e.prototype.openAssetManager=function(){var t=this,n,i=(n=this.em)===null||n===void 0?void 0:n.Assets;i==null||i.open({select:function(o,a){var l=(0,z.isString)(o)?o:o.get("src");t.model.upValue(l,{partial:!a}),a&&i.close()},types:["image"],accept:"image/*"})},e}(ya);const MF=PF;var RF=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),LF=function(r){RF(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.templateInput=function(t){return""},e.prototype.init=function(){var t=this.model;this.listenTo(t,"change:unit",this.onValueChange),this.listenTo(t,"change:units",this.render)},e.prototype.setValue=function(t){},e.prototype.onRender=function(){var t=this,n=t.ppfx,i=t.model,o=t.el;if(!this.inputInst){var a=i.input;a.ppfx=n,a.render();var l=o.querySelector(".".concat(n,"fields"));l.appendChild(a.el),this.input=a.inputEl.get(0),this.inputInst=a}},e.prototype.clearCached=function(){ya.prototype.clearCached.apply(this,arguments),this.inputInst=null},e}(ya);const la=LF;var NF=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),jF=function(r){NF(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.setValue=function(t){var n;(n=this.inputInst)===null||n===void 0||n.setValue(t,{fromTarget:1,def:this.model.getDefaultValue()})},e.prototype.remove=function(){var t=this;la.prototype.remove.apply(this,arguments);var n=this.inputInst;return n&&n.remove&&n.remove(),["inputInst","$color"].forEach(function(i){return t[i]=null}),this},e.prototype.__handleChange=function(t,n){this.model.upValue(t,{partial:n})},e.prototype.onRender=function(){var t;if(!this.inputInst){this.__handleChange=this.__handleChange.bind(this);var n=this,i=n.ppfx,o=n.model,a=n.em,l=n.el,u=new W2({target:a,model:o,ppfx:i,onChange:this.__handleChange}),c=u.render();l.querySelector(".".concat(i,"fields")).appendChild(c.el),this.input=(t=c.inputEl)===null||t===void 0?void 0:t.get(0),this.inputInst=c}},e}(la);const VF=jF;var BF=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),tg=function(){return tg=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},tg.apply(this,arguments)},F1=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))},UF=function(r){BF(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.defaults=function(){return tg(tg({},_n.getDefaults()),{options:[],full:0})},e.prototype.getOptions=function(){var t=this.attributes,n=t.options,i=t.list;return(n&&n.length?n:i)||[]},e.prototype.getOption=function(t){var n=this,i=(0,Vt.isDef)(t)?t:this.getValue();return this.getOptions().filter(function(o){return n.getOptionId(o)===i})[0]||null},e.prototype.setOptions=function(t){return t===void 0&&(t=[]),this.set("options",t),this},e.prototype.addOption=function(t){if(t){var n=this.getOptions();this.setOptions(F1(F1([],n,!0),[t],!1))}return this},e.prototype.getOptionId=function(t){return(0,Vt.isDef)(t.id)?t.id:t.value},e.prototype.getOptionLabel=function(t,n){var i;n===void 0&&(n={});var o=n.locale,a=o===void 0?!0:o,l=((0,z.isString)(t)?this.getOption(t):t)||{},u=this.getOptionId(l),c=l.label||l.name||u,d=n.property||this.getId();return a&&((i=this.em)===null||i===void 0?void 0:i.t("styleManager.options.".concat(d,".").concat(u)))||c},e.prototype.initialize=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];_n.prototype.initialize.apply(this,t),this.listenTo(this,"change:options",this.__onOptionChange)},e.prototype.__onOptionChange=function(){this.set("list",this.get("options"))},e}(_n);const O_=UF;var IF=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),zF=function(r){IF(e,r);function e(t){var n=r.call(this,t)||this;return n.listenTo(n.model,"change:options",n.updateOptions),n}return e.prototype.templateInput=function(){var t=this,n=t.pfx,i=t.ppfx;return`
      <div class="`.concat(i,"field ").concat(i,`select">
        <span id="`).concat(n,`input-holder"></span>
        <div class="`).concat(i,`sel-arrow">
          <div class="`).concat(i,`d-s-arrow"></div>
        </div>
      </div>
    `)},e.prototype.updateOptions=function(){delete this.input,this.onRender()},e.prototype.onRender=function(){var t=this.pfx,n=this.model,i=n.getOptions();if(!this.input){var o=[];i.forEach(function(l){var u=n.getOptionId(l),c=n.getOptionLabel(u),d=l.style?l.style.replace(/"/g,"&quot;"):"",h=d?'style="'.concat(d,'"'):"",g=u.replace(/"/g,"&quot;");o.push('<option value="'.concat(g,'" ').concat(h,">").concat(c,"</option>"))});var a=this.el.querySelector("#".concat(t,"input-holder"));a.innerHTML="<select>".concat(o.join(""),"</select>"),this.input=a.firstChild}},e.prototype.__setValueInput=function(t){var n=this.model,i=this.getInputEl(),o=n.getOptions()[0],a=o?n.getOptionId(o):"";i&&(i.value=t||a)},e}(ya);const bk=zF;var HF=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),eg=function(){return eg=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},eg.apply(this,arguments)},FF=function(r){HF(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.defaults=function(){return eg(eg({},O_.getDefaults()),{full:1})},e}(O_);const WF=FF;var qF=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),KF=function(r){qF(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.templateInput=function(){var t=this.ppfx;return'<div class="'.concat(t,"field ").concat(t,'field-radio"></div>')},e.prototype.onRender=function(){var t=this,n=t.pfx,i=t.ppfx,o=this.model,a="".concat(i,"radio-item-label"),l=o.getName(),u=o.getOptions(),c="".concat(n,"radio ").concat(n,"radio-").concat(l),d=o.cid;if(!this.input){var h=[];u.forEach(function(m){var _=m.className?"".concat(m.className," ").concat(n,"icon ").concat(a):"",b=o.getOptionId(m),C="".concat(l,"-").concat(b,"-").concat(d),w=_?"":o.getOptionLabel(b),x=m.title?'title="'.concat(m.title,'"'):"",O=o.getValue()===b?"checked":"";h.push(`
          <div class="`.concat(i,`radio-item">
            <input type="radio" class="`).concat(c,'" id="').concat(C,'" name="').concat(l,"-").concat(d,'" value="').concat(b,'" ').concat(O,`/>
            <label class="`).concat(_||a,'" ').concat(x,' for="').concat(C,'">').concat(w,`</label>
          </div>
        `))});var g=this.el.querySelector(".".concat(i,"field"));g.innerHTML='<div class="'.concat(i,'radio-items">').concat(h.join(""),"</div>"),this.input=g.firstChild}},e.prototype.__setValueInput=function(t){var n,i=this.model,o=t||i.getDefaultValue(),a=(n=this.getInputEl())===null||n===void 0?void 0:n.querySelector('[value="'.concat(o,'"]'));a&&(a.checked=!0)},e}(bk);const GF=KF;var YF=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),$s=function(){return $s=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},$s.apply(this,arguments)},XF=function(r){YF(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.defaults=function(){return $s($s({},_n.getDefaults()),{units:[],unit:"",min:"",max:"",step:1})},e.prototype.getUnits=function(){return this.get("units")||[]},e.prototype.getUnit=function(){return this.get("unit")},e.prototype.getMin=function(){return this.get("min")},e.prototype.getMax=function(){return this.get("max")},e.prototype.getStep=function(){return this.get("step")},e.prototype.upUnit=function(t,n){return n===void 0&&(n={}),this._up({unit:t},n)},e.prototype.initialize=function(t,n){t===void 0&&(t={}),n===void 0&&(n={}),_n.callParentInit(_n,this,t,n);var i=this.get("unit"),o=this.getUnits();this.input=(0,Vt.hasWin)()?new K2({model:this}):void 0,o.length&&!i&&this.set("unit",o[0],{silent:!0}),_n.callInit(this,t,n)},e.prototype.__getClearProps=function(){return $s($s({},_n.prototype.__getClearProps()),{unit:""})},e.prototype.parseValue=function(t,n){n===void 0&&(n={});var i=_n.prototype.parseValue.apply(this,arguments),o=this.input.validateInputValue(i.value,$s({deepCheck:1},n)),a=o.value,l=o.unit;return i.value=a,i.unit=l,i},e.prototype.getFullValue=function(){var t=this.get("value"),n=this.get("unit"),i=(0,z.isUndefined)(t)?"":"".concat(t),o=!(0,z.isUndefined)(n)&&i?n:"",a="".concat(i).concat(o);return _n.prototype.getFullValue.apply(this,[a])},e}(_n);const ng=XF;var ZF=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),rg=function(){return rg=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},rg.apply(this,arguments)},$F=function(r){ZF(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.defaults=function(){return rg(rg({},ng.getDefaults()),{showInput:1})},e}(ng);const JF=$F;var QF=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ig=function(){return ig=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},ig.apply(this,arguments)},t9=function(r){QF(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.events=function(){return ig(ig({},la.prototype.events()),{"change [type=range]":"inputValueChanged","input [type=range]":"inputValueChangedSoft",change:""})},e.prototype.templateInput=function(t){var n=this.ppfx;return`
      <div class="`.concat(n,"field ").concat(n,`field-range">
        <input type="range" min="`).concat(t.get("min"),'" max="').concat(t.get("max"),'" step="').concat(t.get("step"),`"/>
      </div>
    `)},e.prototype.getSliderEl=function(){return this.slider||(this.slider=this.el.querySelector("input[type=range]")),this.slider},e.prototype.inputValueChanged=function(t){t.stopPropagation(),this.model.upValue(this.getSliderEl().value)},e.prototype.inputValueChangedSoft=function(t){t.stopPropagation(),this.model.upValue(this.getSliderEl().value,{partial:!0})},e.prototype.setValue=function(t){var n=this.model,i=n.parseValue(t);this.getSliderEl().value=t===""?n.getDefaultValue():parseFloat(i.value),la.prototype.setValue.apply(this,arguments)},e.prototype.onRender=function(){la.prototype.onRender.apply(this,arguments),this.model.get("showInput")||(this.inputInst.el.style.display="none")},e.prototype.clearCached=function(){la.prototype.clearCached.apply(this,arguments),delete this.slider},e}(la);const e9=t9;var n9=te.pM.extend(rk),r9=n9.extend({extendViewApi:1,init:function(){var r=this,e=r.opts,t=r.em,n=e.module||(t==null?void 0:t.get("StyleManager"));n&&(n.__listenAdd(this,n.events.propertyAdd),n.__listenRemove(this,n.events.propertyRemove))},types:[{id:"stack",model:dF,view:kF,isType:function(r){if(r&&r.type=="stack")return r}},{id:"composite",model:nu,view:mf,isType:function(r){if(r&&r.type=="composite")return r}},{id:"file",model:_n,view:MF,isType:function(r){if(r&&r.type=="file")return r}},{id:"color",model:_n,view:VF,isType:function(r){if(r&&r.type=="color")return r}},{id:"select",model:O_,view:bk,isType:function(r){if(r&&r.type=="select")return r}},{id:"radio",model:WF,view:GF,isType:function(r){if(r&&r.type=="radio")return r}},{id:"slider",model:JF,view:e9,isType:function(r){if(r&&r.type=="slider")return r}},{id:"integer",model:ng,view:la,isType:function(r){if(r&&r.type=="integer")return r}},{id:"number",model:ng,view:la,isType:function(r){if(r&&r.type=="number")return r}},{id:"base",model:_n,view:ya,isType:function(r){return r.type="base",r}}]});const sw=r9;var i9=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),og=function(){return og=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},og.apply(this,arguments)},o9=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t},a9=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))},s9=function(r){i9(e,r);function e(t,n){n===void 0&&(n={});var i=r.call(this,t)||this,o=n.em;i.em=o;var a=t||{},l=i.buildProperties(a.buildProps),u=i.get("name")||"",c=[];!i.get("id")&&i.set("id",u.replace(/ /g,"_").toLowerCase()),l?c=i.extendProperties(l):c=i.get("properties").map(function(h){return(0,z.isString)(h)?i.buildProperties(h)[0]:h}).filter(Boolean),c=c.map(function(h){return i.checkExtend(h)});var d=new sw(c,{em:o});return d.sector=i,i.set("properties",d),i}return e.prototype.defaults=function(){return{id:"",name:"",open:!0,visible:!0,extendBuilded:!0,properties:[]}},Object.defineProperty(e.prototype,"properties",{get:function(){return this.get("properties")},enumerable:!1,configurable:!0}),e.prototype.getId=function(){return this.get("id")},e.prototype.getName=function(){var t,n=this.getId();return((t=this.em)===null||t===void 0?void 0:t.t("styleManager.sectors.".concat(n)))||this.get("name")},e.prototype.setName=function(t){return this.set("name",t)},e.prototype.isOpen=function(){return!!this.get("open")},e.prototype.setOpen=function(t){return this.set("open",t)},e.prototype.isVisible=function(){return!!this.get("visible")},e.prototype.getProperties=function(t){t===void 0&&(t={});var n=this.properties,i=n.models?a9([],n.models,!0):n;return i.filter(function(o){var a=!0;if(t.withValue&&(a=o.hasValue({noParent:!0})),t.withParentValue){var l=o.hasValue({noParent:!0});a=!l&&o.hasValue()}return a})},e.prototype.getProperty=function(t){return this.getProperties().filter(function(n){return n.get("id")===t})[0]||void 0},e.prototype.addProperty=function(t,n){return this.properties.add(this.checkExtend(t),n)},e.prototype.extendProperties=function(t,n,i){i===void 0&&(i=!1);for(var o=t.length,a=n||this.get("properties"),l=this.get("extendBuilded"),u=[],c=0,d=a.length;c<d;c++){for(var h=a[c],g=0,m=0;m<o;m++){var _=t[m];if(h.property==_.property||h.id==_.property){var b=h.properties;b&&b.length&&(h.properties=this.extendProperties(_.properties||[],b,1)),t[m]=l?(0,z.extend)(_,h):h,u[m]=t[m],g=1;continue}}g||(t.push(h),u.push(h))}return i?u.filter(function(C){return C}):t},e.prototype.checkExtend=function(t){var n=((0,z.isString)(t)?{extend:t}:t)||{},i=n.extend,o=o9(n,["extend"]);return i?og(og({},this.buildProperties([i])[0]||{}),o):t},e.prototype.buildProperties=function(t){var n,i=t||[];if(!i.length)return[];var o=(n=this.em)===null||n===void 0?void 0:n.Styles.builtIn;return o==null?void 0:o.build(i)},e}(te.Kx);const wk=s9;var l9=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ag=function(){return ag=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},ag.apply(this,arguments)},u9=function(r){l9(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.initialize=function(t,n){n===void 0&&(n={});var i=n.module,o=n.em;this.em=o,this.module=i,this.listenTo(this,"reset",this.onReset)},e.prototype.model=function(t,n){n===void 0&&(n={});var i=n.collection.em;return new wk(t,ag(ag({},n),{em:i}))},e.prototype.onReset=function(t,n){n===void 0&&(n={});var i=n.previousModels||[];i.forEach(function(o){return o.get("properties").reset()})},e}(te.pM);const c9=u9;var ts=function(){return ts=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},ts.apply(this,arguments)},f9=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t},Fs=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))},or=function(r){return r.map(function(e){return{id:e}})},d9=function(){function r(){this.props={},this.typeNumber="number",this.typeColor="color",this.typeRadio="radio",this.typeSelect="select",this.typeFile="file",this.typeSlider="slider",this.typeComposite="composite",this.typeStack="stack",this.unitsSize=["px","%","em","rem","vh","vw"],this.unitsSizeNoPerc=["px","em","rem","vh","vw"],this.unitsTime=["s","ms"],this.unitsAngle=["deg","rad","grad"],this.fixedValues=["initial","inherit","auto"];var e=", sans-serif",t=["flex-start","flex-end","center"],n=Fs(Fs([],t,!0),["baseline","stretch"],!1);this.optsBgSize=or(["auto","cover","contain"]),this.optsBgAttach=or(["scroll","fixed","local"]),this.optsBgRepeat=or(["repeat","repeat-x","repeat-y","no-repeat"]),this.optsWrap=or(["nowrap","wrap","wrap-reverse"]),this.optsOverflow=or(["visible","hidden","scroll","auto"]),this.optsDir=or(["row","row-reverse","column","column-reverse"]),this.opstDisplay=or(["block","inline","inline-block","flex","none"]),this.optsTransitFn=or(["linear","ease","ease-in","ease-out","ease-in-out"]),this.optsCursor=or(["auto","pointer","copy","crosshair","grab","grabbing","help","move","text"]),this.optsFloat=or(["none","left","right"]),this.optsPos=or(["static","relative","absolute","fixed"]),this.optsTextAlign=or(["left","center","right","justify"]),this.optsFlexAlign=or(n),this.optsJustCont=or(Fs(Fs([],t,!0),["space-between","space-around","space-evenly"],!1)),this.optsAlignCont=or(Fs(Fs([],t,!0),["space-between","space-around","stretch"],!1)),this.optsAlignSelf=or(Fs(["auto"],n,!0)),this.optsTransitProp=or(["all","width","height","background-color","transform","box-shadow","opacity"]),this.optsBorderStyle=or(["none","solid","dotted","dashed","double","groove","ridge","inset","outset"]),this.optsBgPos=or(["left top","left center","left bottom","right top","right center","right bottom","center top","center center","center bottom"]),this.optsWeight=[{id:"100",label:"Thin"},{id:"200",label:"Extra-Light"},{id:"300",label:"Light"},{id:"400",label:"Normal"},{id:"500",label:"Medium"},{id:"600",label:"Semi-Bold"},{id:"700",label:"Bold"},{id:"800",label:"Extra-Bold"},{id:"900",label:"Ultra-Bold"}],this.optsShadowType=[{id:"",label:"Outside"},{id:"inset",label:"Inside"}],this.optsFonts=["Arial, Helvetica"+e,"Arial Black, Gadget"+e,"Brush Script MT"+e,"Comic Sans MS, cursive"+e,"Courier New, Courier, monospace","Georgia, serif","Helvetica"+e,"Impact, Charcoal"+e,"Lucida Sans Unicode, Lucida Grande"+e,"Tahoma, Geneva"+e,"Times New Roman, Times, serif","Trebuchet MS, Helvetica"+e,"Verdana, Geneva"+e].map(function(i){return{id:i,label:i.split(",")[0]}}),this.fixedFontSizes=["medium","xx-small","x-small","small","large","x-large","xx-large","smaller","larger","length","initial","inherit"],this.fixedLetSpace=["normal","initial","inherit"],this.requireFlex={display:["flex"]},this.init()}return r.prototype.__sub=function(e){var t=this;return function(){return e.map(function(n){if((0,z.isString)(n))return t.get(n);var i=n.extend,o=f9(n,["extend"]);return ts(ts({},t.get(i)),o)})}},r.prototype.init=function(){var e=this,t=this,n=t.fixedValues,i=t.requireFlex,o=t.typeNumber;this.props={};var a=[["text-shadow-h",{type:o,default:"0",units:this.unitsSizeNoPerc}],["top",{default:"auto",units:this.unitsSize,fixedValues:n},"text-shadow-h"],["right",{},"top"],["bottom",{},"top"],["left",{},"top"],["margin-top",{default:"0"},"top"],["margin-right",{},"margin-top"],["margin-bottom",{},"margin-top"],["margin-left",{},"margin-top"],["padding-top",{min:0},"margin-top"],["padding-right",{},"padding-top"],["padding-bottom",{},"padding-top"],["padding-left",{},"padding-top"],["width",{min:0},"top"],["min-width",{},"width"],["max-width",{},"width"],["height",{},"width"],["min-height",{},"width"],["max-height",{},"width"],["flex-basis",{requiresParent:i},"width"],["font-size",{default:"medium",fixedValues:this.fixedFontSizes},"width"],["letter-spacing",{default:"normal",fixedValues:this.fixedLetSpace},"top"],["line-height",{},"letter-spacing"],["text-shadow-v",{},"text-shadow-h"],["text-shadow-blur",{min:0},"text-shadow-h"],["border-radius-c",{property:"border-radius",fixedValues:void 0},"padding-top"],["border-top-left-radius",{},"border-radius-c"],["border-top-right-radius",{},"border-radius-c"],["border-bottom-left-radius",{},"border-radius-c"],["border-bottom-right-radius",{},"border-radius-c"],["border-width",{units:this.unitsSizeNoPerc},"border-radius-c"],["box-shadow-h",{},"text-shadow-h"],["box-shadow-v",{},"text-shadow-h"],["box-shadow-blur",{default:"5px"},"text-shadow-blur"],["box-shadow-spread",{},"text-shadow-h"],["transition-duration",{default:"2s",units:this.unitsTime},"border-radius-c"],["perspective",{},"border-radius-c"],["order",{type:o,default:"0",requiresParent:i}],["flex-grow",{},"order"],["flex-shrink",{default:"1"},"order"],["float",{type:this.typeRadio,default:"none",options:this.optsFloat}],["position",{default:"static",options:this.optsPos},"float"],["text-align",{default:"left",options:this.optsTextAlign},"float"],["color",{type:this.typeColor,default:"black",full:!0}],["text-shadow-color",{},"color"],["border-color",{},"color"],["box-shadow-color",{},"color"],["background-color",{default:"none"},"color"],["background-image",{type:this.typeFile,functionName:"url",default:"none",full:!0}],["opacity",{type:this.typeSlider,default:"1",min:0,max:1,step:.01,full:!0}],["display",{type:this.typeSelect,default:"block",options:this.opstDisplay}],["flex-direction",{default:"row",options:this.optsDir,requires:i},"display"],["flex-wrap",{default:"nowrap",options:this.optsWrap},"flex-direction"],["justify-content",{default:"flex-start",options:this.optsJustCont},"flex-wrap"],["align-items",{default:"stretch",options:this.optsFlexAlign},"flex-wrap"],["align-content",{options:this.optsAlignCont},"align-items"],["align-self",{default:"auto",options:this.optsAlignSelf,requiresParent:i},"display"],["font-family",{default:"Arial, Helvetica, sans-serif",options:this.optsFonts},"display"],["font-weight",{default:"400",options:this.optsWeight},"display"],["border-style",{default:"solid",options:this.optsBorderStyle},"display"],["box-shadow-type",{default:"",options:this.optsShadowType},"display"],["background-repeat",{default:"repeat",options:this.optsBgRepeat},"display"],["background-position",{default:"left top",options:this.optsBgPos},"display"],["background-attachment",{default:"scroll",options:this.optsBgAttach},"display"],["background-size",{default:"auto",options:this.optsBgSize},"display"],["transition-property",{default:"width",options:this.optsTransitProp},"display"],["transition-timing-function",{default:"ease",options:this.optsTransitFn},"display"],["cursor",{default:"auto",options:this.optsCursor},"display"],["overflow",{default:"visible",options:this.optsOverflow},"display"],["overflow-x",{},"overflow"],["overflow-y",{},"overflow"],["margin",{type:this.typeComposite,properties:this.__sub([{extend:"margin-top",id:"margin-top-sub"},{extend:"margin-right",id:"margin-right-sub"},{extend:"margin-bottom",id:"margin-bottom-sub"},{extend:"margin-left",id:"margin-left-sub"}])}],["padding",{properties:this.__sub([{extend:"padding-top",id:"padding-top-sub"},{extend:"padding-right",id:"padding-right-sub"},{extend:"padding-bottom",id:"padding-bottom-sub"},{extend:"padding-left",id:"padding-left-sub"}])},"margin"],["border",{properties:this.__sub([{extend:"border-width",id:"border-width-sub"},{extend:"border-style",id:"border-style-sub"},{extend:"border-color",id:"border-color-sub"}])},"margin"],["border-radius",{properties:this.__sub([{extend:"border-top-left-radius",id:"border-top-left-radius-sub"},{extend:"border-top-right-radius",id:"border-top-right-radius-sub"},{extend:"border-bottom-left-radius",id:"border-bottom-left-radius-sub"},{extend:"border-bottom-right-radius",id:"border-bottom-right-radius-sub"}])},"margin"],["transition",{type:this.typeStack,properties:this.__sub([{extend:"transition-property",id:"transition-property-sub"},{extend:"transition-duration",id:"transition-duration-sub"},{extend:"transition-timing-function",id:"transition-timing-function-sub"}])}],["box-shadow",{preview:!0,layerLabel:function(l,u){var c=u.values,d=c["box-shadow-h"],h=c["box-shadow-v"],g=c["box-shadow-blur"],m=c["box-shadow-spread"];return"".concat(d," ").concat(h," ").concat(g," ").concat(m)},properties:this.__sub(["box-shadow-h","box-shadow-v","box-shadow-blur","box-shadow-spread","box-shadow-color","box-shadow-type"])},"transition"],["text-shadow",{default:"none",layerLabel:function(l,u){var c=u.values,d=c["text-shadow-h"],h=c["text-shadow-v"],g=c["text-shadow-blur"];return"".concat(d," ").concat(h," ").concat(g)},properties:this.__sub(["text-shadow-h","text-shadow-v","text-shadow-blur","text-shadow-color"])},"box-shadow"],["background",{detached:!0,layerLabel:function(l,u){var c=u.values,d=c["background-repeat-sub"]||"",h=c["background-position-sub"]||"",g=c["background-attachment-sub"]||"",m=c["background-size-sub"]||"";return[d,h,g,m].join(" ")},properties:this.__sub([{extend:"background-image",id:"background-image-sub"},{extend:"background-repeat",id:"background-repeat-sub"},{extend:"background-position",id:"background-position-sub"},{extend:"background-attachment",id:"background-attachment-sub"},{extend:"background-size",id:"background-size-sub"}])},"box-shadow"],["transform",{type:"stack",layerSeparator:" ",fromStyle:function(l,u){var c=u.property,d=u.name,h=l[d]||"",g=c.getLayerSeparator();return h?h.split(g).map(function(m){var _=c.__parseFn(m),b=_.name,C=_.value;return{"transform-type":b,"transform-value":C}}):[]},toStyle:function(l,u){var c,d=u.name;return c={},c[d]="".concat(l["transform-type"],"(").concat(l["transform-value"],")"),c},properties:[{property:"transform-type",name:"Type",type:this.typeSelect,default:"rotateZ",full:!0,options:[{id:"scaleX",propValue:{units:[""],step:.01}},{id:"scaleY",propValue:{units:[""],step:.01}},{id:"scaleZ",propValue:{units:[""],step:.01}},{id:"rotateX",propValue:{units:this.unitsAngle,step:1}},{id:"rotateY",propValue:{units:this.unitsAngle,step:1}},{id:"rotateZ",propValue:{units:this.unitsAngle,step:1}},{id:"translateX",propValue:{units:this.unitsSize,step:1}},{id:"translateY",propValue:{units:this.unitsSize,step:1}}],onChange:function(l){var u=l.property,c=l.to;if(c.value){var d=u.getOption(),h=ts({},d.propValue||{}),g=u.getParent().getProperty("transform-value"),m=g.getUnit();(!m||(h==null?void 0:h.units.indexOf(m))<0)&&(h.unit=(h==null?void 0:h.units[0])||""),g.up(h)}}},{property:"transform-value",type:this.typeNumber,default:"0",full:!0}]}]];return a.forEach(function(l){var u=l[0],c=l[1],d=l[2];e.add(u,c||{},{from:d})}),this},r.prototype.add=function(e,t,n){t===void 0&&(t={}),n===void 0&&(n={});var i=n.from||"",o=this.props[i||e]||{},a=ts(ts(ts({},o),{property:e}),t);return a.properties&&(0,z.isFunction)(a.properties)&&(a.properties=a.properties()),this.props[e]=a,a},r.prototype.get=function(e){return this.props[e]},r.prototype.build=function(e){var t=this,n=[],i=(0,z.isString)(e)?[e]:e;return i.forEach(function(o){n.push(t.get(o)||{property:o})}),n},r}();const h9=d9;var p9=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),v9=function(r,e){return Object.defineProperty?Object.defineProperty(r,"raw",{value:e}):r.raw=e,r},g9=function(r){p9(e,r);function e(t){var n=r.call(this,t)||this,i=t.config||{},o=n.model,a=i.em;return n.config=i,n.em=a,n.pfx=i.stylePrefix||"",n.listenTo(o,"destroy remove",n.remove),n.listenTo(o,"change:open",n.updateOpen),n.listenTo(o,"change:visible",n.updateVisibility),n}return e.prototype.template=function(t){var n,i=t.pfx,o=t.label,a=(n=this.em)===null||n===void 0?void 0:n.getConfig().icons,l=(a==null?void 0:a.caret)||"",u="".concat(i,"sector-");return di(W1||(W1=v9([`
      <div class="`,`title" data-sector-title>
        <div class="`,'caret">$',`</div>
        <div class="`,'label">',`</div>
      </div>
    `],[`
      <div class="`,`title" data-sector-title>
        <div class="`,'caret">$',`</div>
        <div class="`,'label">',`</div>
      </div>
    `])),u,u,l,u,o)},e.prototype.events=function(){return{"click [data-sector-title]":"toggle"}},e.prototype.updateOpen=function(){var t=this,n=t.$el,i=t.model,o=t.pfx,a=i.isOpen();n[a?"addClass":"removeClass"]("".concat(o,"open")),this.getPropertiesEl().style.display=a?"":"none"},e.prototype.updateVisibility=function(){this.el.style.display=this.model.isVisible()?"":"none"},e.prototype.getPropertiesEl=function(){var t=this,n=t.$el,i=t.pfx;return n.find(".".concat(i,"properties")).get(0)},e.prototype.toggle=function(){var t=this.model;t.setOpen(!t.get("open"))},e.prototype.renderProperties=function(){var t=this,n=t.model,i=t.config,o=n.get("properties");if(o){var a=new aw({collection:o,config:i});this.$el.append(a.render().el)}},e.prototype.render=function(){var t=this,n=t.pfx,i=t.model,o=t.$el,a=i.getId(),l=i.getName();return o.html(this.template({pfx:n,label:l})),this.renderProperties(),o.attr("class","".concat(n,"sector ").concat(n,"sector__").concat(a," no-select")),this.updateOpen(),this},e}(te.Ss);const m9=g9;var W1,y9=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),_9=function(r){y9(e,r);function e(t){t===void 0&&(t={});var n=r.call(this,t)||this,i=t.module,o=t.config,a=n.collection;return n.pfx=(o==null?void 0:o.stylePrefix)||"",n.ppfx=(o==null?void 0:o.pStylePrefix)||"",n.config=o,n.module=i,n.listenTo(a,"add",n.addTo),n.listenTo(a,"reset",n.render),n}return e.prototype.remove=function(){var t=this;return te.Ss.prototype.remove.apply(this,arguments),["config","module","em"].forEach(function(n){return t[n]={}}),this},e.prototype.addTo=function(t,n,i){i===void 0&&(i={}),this.addToCollection(t,null,i)},e.prototype.addToCollection=function(t,n,i){i===void 0&&(i={});var o=this,a=o.config,l=o.el,u=n||l,c=new m9({model:t,config:a}).render().el;return(0,ae.Sc)(u,c,i.at),c},e.prototype.render=function(){var t=this,n=this,i=n.$el,o=n.pfx,a=n.ppfx;i.empty();var l=document.createDocumentFragment();return this.collection.each(function(u){return t.addToCollection(u,l)}),i.append(l),i.addClass("".concat(o,"sectors ").concat(a,"one-bg ").concat(a,"two-color")),this},e}(te.Ss);const b9=_9;var w9=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),es=function(){return es=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},es.apply(this,arguments)},q1=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))},Sk="style",Nd="".concat(Sk,":"),lw="".concat(Nd,"sector"),S9="".concat(lw,":add"),C9="".concat(lw,":remove"),x9="".concat(lw,":update"),uw="".concat(Nd,"property"),O9="".concat(uw,":add"),E9="".concat(uw,":remove"),T9="".concat(uw,":update"),Ck="".concat(Nd,"layer:select"),E_="".concat(Nd,"target"),A9="".concat(Nd,"custom"),K1=function(r){return r||r===0},k9={all:Sk,sectorAdd:S9,sectorRemove:C9,sectorUpdate:x9,propertyAdd:O9,propertyRemove:E9,propertyUpdate:T9,layerSelect:Ck,target:E_,custom:A9},D9=function(r){w9(e,r);function e(t){var n=r.call(this,t,"StyleManager",new c9([],{em:t}),k9,nF())||this;n.Sector=wk,n.storageKey="",(0,z.bindAll)(n,"__clearStateTarget");var i=n.config,o=i.pStylePrefix;o&&(i.stylePrefix=o+i.stylePrefix),n.builtIn=new h9,n.properties=new sw([],{em:t,module:n}),n.sectors=n.all;var a=new te.Kx({targets:[]});n.model=a;var l=hn.I.update,u="component:toggled ".concat(l,":classes change:state change:device frame:resized selector:type");n.upAll=(0,z.debounce)(function(){return n.__upSel()},0),a.listenTo(t,u,n.upAll),a.listenTo(t,"component:toggled",n.__clearStateTarget);var c=(0,z.debounce)(function(){n.__upProps(),n.__trgCustom()},0);a.listenTo(t,"styleable:change undo redo",c);var d=(0,z.debounce)(function(){return n.__trgCustom()},0);return a.listenTo(t,"".concat(Ck," ").concat(E_),d),a.on("change:lastTarget",function(){return t.trigger(E_,n.getSelected())}),n}return e.prototype.__upSel=function(){this.select(this.em.getSelectedAll())},e.prototype.__trgCustom=function(t){t===void 0&&(t={}),this.__ctn=this.__ctn||t.container,this.em.trigger(this.events.custom,{container:this.__ctn})},e.prototype.__trgEv=function(t){for(var n,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];(n=this.em).trigger.apply(n,q1([t],i,!1))},e.prototype.__clearStateTarget=function(){var t=this,n=this.em,i=this.__getStateTarget();i&&(n==null||n.skip(function(){n.Css.remove(i),t.model.set({stateTarget:null})}))},e.prototype.onLoad=function(){this.sectors.add(this.config.sectors,{silent:!0})},e.prototype.postRender=function(){this.__appendTo()},e.prototype.addSector=function(t,n,i){i===void 0&&(i={});var o=this.getSector(t);return o||(n.id=t,o=this.sectors.add(n,i)),o},e.prototype.getSector=function(t,n){n===void 0&&(n={});var i=this.sectors.where({id:t})[0];return!i&&n.warn&&this._logNoSector(t),i||null},e.prototype.getSectors=function(t){t===void 0&&(t={});var n=this.sectors,i=n&&n.models?t.array?q1([],n.models,!0):n:[];return t.visible?i.filter(function(o){return o.isVisible()}):i},e.prototype.removeSector=function(t){return this.getSectors().remove(this.getSector(t,{warn:!0}))},e.prototype.addProperty=function(t,n,i){i===void 0&&(i={});var o=this.getSector(t,{warn:!0}),a;return o&&(a=o.addProperty(n,i)),a},e.prototype.getProperty=function(t,n){var i=this.getSector(t,{warn:!0}),o;return i&&(o=i.properties.filter(function(a){return a.get("property")===n||a.get("id")===n})[0]),o},e.prototype.getProperties=function(t){var n,i=this.getSector(t,{warn:!0});return i&&(n=i.properties),n},e.prototype.removeProperty=function(t,n){var i=this.getProperties(t);return i?i.remove(this.getProperty(t,n)):null},e.prototype.select=function(t,n){var i=this;n===void 0&&(n={});var o=this.em,a=(0,z.isArray)(t)?t:[t],l=n.stylable,u=o.Css,c=[];a.filter(Boolean).forEach(function(b){var C=b;if((0,z.isString)(b)){var w=u.getRule(b)||u.setRule(b);!(0,z.isUndefined)(l)&&w.set({stylable:l}),C=w}c.push(C)});var d=n.component||c.filter(function(b){return(0,Vt.isComponent)(b)}).reverse()[0];c=c.map(function(b){return i.getModelToStyle(b)});var h=o.getState(),g=c.slice().reverse()[0],m=this.getParentRules(g,{state:h,component:d}),_=this.__getStateTarget();return o.skip(function(){var b;if(h&&(!((b=g==null?void 0:g.getState)===null||b===void 0)&&b.call(g))){var C=g.getStyle();_?_.setStyle(C):_=u.getAll().add({selectors:"gjs-selected",style:C,shallow:!0,important:!0})}else _&&(u.remove(_),_=void 0)}),this.model.set({targets:c,lastTarget:g,lastTargetParents:m,stateTarget:_,component:d}),this.__upProps(n),c},e.prototype.getSelected=function(){return this.model.get("lastTarget")},e.prototype.getSelectedAll=function(){return this.model.get("targets")},e.prototype.getSelectedParents=function(){return this.model.get("lastTargetParents")||[]},e.prototype.__getStateTarget=function(){return this.model.get("stateTarget")},e.prototype.addStyleTargets=function(t,n){this.getSelectedAll().map(function(a){return a.addStyle(t,n)});var i=this.getSelected();i&&this.__emitCmpStyleUpdate(t);var o=this.__getStateTarget();i&&(o==null||o.setStyle(i.getStyle(),n))},e.prototype.getBuiltIn=function(t){return this.builtIn.get(t)},e.prototype.getBuiltInAll=function(){return this.builtIn.props},e.prototype.addBuiltIn=function(t,n){return this.builtIn.add(t,n)},e.prototype.getModelToStyle=function(t,n){n===void 0&&(n={});var i=this.em,o=n.skipAdd;if(i&&(t!=null&&t.toHTML)){var a=i.getConfig(),l=i.UndoManager,u=i.Css,c=i.Selectors,d=c?c.getConfig():{},h=a.devicePreviewMode?"":i.get("state"),g=t.get("classes"),m=g.getStyleable(),_=m.length,b=!d.componentFirst||n.useClasses,C={noCount:1},w={state:h,addOpts:C};l.skip(function(){var x;if(_&&b){var O=i.getCurrentMedia();x=u.get(m,h,O),!x&&!o&&(x=u.add(m,h,O,{},C))}else if(a.avoidInlineStyle){var k=t.getId();x=u.getIdRule(k,w),!x&&!o&&(x=u.setIdRule(k,{},w)),t.is("wrapper")&&x.set("wrapper",1,C)}x&&(t=x)})}return t},e.prototype.getParentRules=function(t,n){var i=n===void 0?{}:n,o=i.state,a=i.component,l=this.em,u=[];if(l&&t){var c=a,d=l.Css,h=l.CodeManager.getGenerator("css"),g=t.toHTML?t:t.getComponent(),m={array:!0},_=[],b=[],C=[],w=[],x=[],O=function(Y){return Y.length?d.getRules().filter(function(U){var Q=U.getSelectors().map(function(H){return H.getFullName()});return Q.length===0?!1:Q.every(function(H){return Y.indexOf(H)>=0})}):[]},k=function(Y){return Y?d.getRules().filter(function(U){return U.selectorsToString()===Y}):[]};if(g)_=d.getRules("#".concat(g.getId())),b=k(g.get("tagName")),w=c?O(c.getSelectors().getFullName(m)):[],x=w.concat(b).concat(_);else{_=c?d.getRules("#".concat(c.getId())):[],b=k((c==null?void 0:c.get("tagName"))||"");var V=(c==null?void 0:c.getSelectors().getFullName(m))||[],Z=V.filter(function(Y){return t.getSelectors().getFullName(m).findIndex(function(U){return U===Y})===-1});C=O(Z.concat(t.getSelectors().getFullName(m))),x=b.concat(_).concat(C)}var $=x.filter(function(Y){return(0,z.isUndefined)(o)?1:Y.get("state")===o}).sort(h.sortRules).reverse();u=$.slice($.indexOf(t)+1)}return u},e.prototype.addType=function(t,n){this.properties.addType(t,n)},e.prototype.getType=function(t){return this.properties.getType(t)},e.prototype.getTypes=function(){return this.properties.getTypes()},e.prototype.createType=function(t,n){var i=n===void 0?{}:n,o=i.model,a=o===void 0?{}:o,l=i.view,u=l===void 0?{}:l,c=this.config,d=this.getType(t);if(d)return new d.view(es({model:new d.model(a),config:c},u))},e.prototype.render=function(){var t=this,n=t.config,i=t.em,o=t.SectView,a=o&&o.el;return this.SectView=new b9({el:a,em:i,config:n,module:this,collection:this.sectors}),this.SectView.render().el},e.prototype._logNoSector=function(t){var n=this.em;n&&n.logWarning("'".concat(t,"' sector not found"))},e.prototype.__emitCmpStyleUpdate=function(t,n){n===void 0&&(n={});var i=this.em;if(!t.__p){var o=this.getSelectedAll(),a=n.components||i.getSelectedAll(),l=Array.isArray(a)?a:[a],u=es({},t);delete u.__p,l.forEach(function(c){return!o.includes(c)&&c.__onStyleChange(u)})}},e.prototype.__upProps=function(t){var n=this;t===void 0&&(t={});var i=this.getSelected();if(i){var o=this.sectors,a=this.model.get("component"),l=this.getSelectedParents(),u=i.getStyle(),c=l.map(function(d){return{target:d,style:d.getStyle()}});o.map(function(d){d.getProperties().map(function(h){n.__upProp(h,u,c,t)})}),o.forEach(function(d){var h=d.getProperties();h.forEach(function(m){var _=m.__checkVisibility({target:i,component:a,sectors:o});m.set("visible",_)});var g=h.some(function(m){return m.isVisible()});d.set("visible",g)})}},e.prototype.__upProp=function(t,n,i,o){var a=this,l=t.getName(),u=n[l],c=K1(u),d=t.getType()==="stack",h=t.getType()==="composite",g=es(es({},o),{__up:!0}),m=!h&&!d,_=t,b=t,C=d?_.__getLayersFromStyle(n):[],w=h?b.__getPropsFromStyle(n):{},x=c?u:null,O=null;if(d&&C===null||h&&w===null){var k=d?"__getLayersFromStyle":"__getPropsFromStyle",V=i.filter(function(Q){return _[k](Q.style)!==null})[0];if(V){x=V.style[l],O=V.target;var Z=_[k](V.style);d?C=Z:w=Z}}else if(!c){x=null;var V=i.filter(function(H){return K1(H.style[l])})[0];V&&(x=V.style[l],O=V.target)}if(t.__setParentTarget(O),m&&t.__getFullValue()!==x&&t.upValue(x,g),d&&_.__setLayers(C||[],{isEmptyValue:_.isEmptyValueStyle(n)}),h){var $=b.getProperties();if(b.isDetached()){var Y=b.__getPropsFromStyle(n,{byName:!0})||{},U=i.map(function(Q){return es(es({},Q),{style:b.__getPropsFromStyle(Q.style,{byName:!0})||{}})});$.map(function(Q){return a.__upProp(Q,Y,U,o)})}else b.__setProperties(w||{},g),b.getProperties().map(function(Q){return Q.__setParentTarget(O)})}},e.prototype.destroy=function(){var t;[this.properties,this.sectors].forEach(function(n){n.reset(),n.stopListening()}),(t=this.SectView)===null||t===void 0||t.remove(),this.model.stopListening(),this.upAll.cancel()},e}(Ea);const P9=D9;var M9=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),sg=function(){return sg=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},sg.apply(this,arguments)},R9=function(r){M9(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.em=n,i.model=function(o,a){return a===void 0&&(a={}),new C2(o,sg(sg({},a),{em:n}))},i}return e}(te.pM);const L9=R9;var N9=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),j9=function(r){N9(e,r);function e(t){var n=r.call(this,t,"DataSources",new L9([],t),ec)||this;return n.storageKey="dataSources",n.events=ec,Object.assign(n,tv.Events),n}return e.prototype.destroy=function(){},e.prototype.add=function(t,n){n===void 0&&(n={});var i=this.all;return t.id=t.id||this._createId(),i.add(t,n)},e.prototype.get=function(t){return this.all.get(t)},e.prototype.getValue=function(t,n){return(0,Vt.get)(this.getContext(),t,n)},e.prototype.getContext=function(){return this.all.reduce(function(t,n){return t[n.id]=n.records.reduce(function(i,o,a){var l=o;return i[l.id||a]=l.attributes,i},{}),t},{})},e.prototype.remove=function(t,n){return this.__remove(t,n)},e.prototype.fromPath=function(t){var n=[],i=(0,Vt.stringToPath)(t||""),o=i[0],a=i[1],l=i.slice(2),u=this.get(o),c=u==null?void 0:u.records.get(a);return u&&n.push(u),c&&(n.push(c),l.length&&n.push(l.join("."))),n},e.prototype.store=function(){var t,n=[];return this.all.forEach(function(i){var o=i.get("skipFromStorage");o||n.push({id:i.id,name:i.get("name"),records:i.records.toJSON(),skipFromStorage:o})}),t={},t[this.storageKey]=n,t},e.prototype.load=function(t){return this.loadProjectData(t)},e.prototype.postLoad=function(){var t=this,n=t.em,i=t.all;n.listenTo(i,te.e2,function(o,a,l){return n.changesUp(l||a)})},e}(Ea);const xk=j9;var V9=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),kr=function(){return kr=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},kr.apply(this,arguments)},Fy=function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function l(d){try{c(n.next(d))}catch(h){a(h)}}function u(d){try{c(n.throw(d))}catch(h){a(h)}}function c(d){d.done?o(d.value):i(d.value).then(l,u)}c((n=n.apply(r,e||[])).next())})},Wy=function(r,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(c){return function(d){return u([c,d])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(t=0)),t;)try{if(n=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){t.label=c[1];break}if(c[0]===6&&t.label<o[1]){t.label=o[1],o=c;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(c);break}o[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(r,t)}catch(d){c=[6,d],i=0}finally{n=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},B9=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t},U9=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))};b3().$=ur.default;var I9=[hH,Rz,DH,H8,YU,q3,kU,P9,yU,zH,L8,f8,tF,SI,GI,B4,VI,tU,xk],z9=[gz,BB,Ez,SB,xk];w3({$:ur.default});var G1={debug:console.log,info:console.info,warning:console.warn,error:console.error},H9=function(r){V9(e,r);function e(t){t===void 0&&(t={});var n=r.call(this)||this;n.Model=te.Kx,n.Collection=te.pM,n.events=fi,n.__skip=!1,n.defaultRunning=!1,n.destroyed=!1,n._config=t;var i=n.config;n.set("Config",t),n.set("modules",[]),n.set("toLoad",[]),n.set("storables",[]),n.set("selected",new x3),n.set("dmode",i.dragMode);var o=i.el,a=i.log,l=a===!0?(0,z.keys)(G1):(0,z.isArray)(a)?a:[];return(0,z.bindAll)(n,"initBaseColorPicker"),o&&i.fromElement&&(i.components=o.innerHTML),n.attrsOrig=o?(0,z.toArray)(o.attributes).reduce(function(u,c){return u[c.nodeName]=c.nodeValue,u},{}):"",i.components&&!i.pageManager&&(i.pageManager={pages:[{component:i.components}]}),I9.forEach(function(u){return n.loadModule(u)}),z9.forEach(function(u){return n.loadStorableModule(u)}),n.on("change:componentHovered",n.componentHovered,n),n.on("change:changesCount",n.updateChanges,n),n.on("change:readyLoad change:readyCanvas",n._checkReady,n),l.forEach(function(u){return n.listenLog(u)}),[{from:"change:selectedComponent",to:"component:toggled"}].forEach(function(u){var c=u.from,d=u.to;n.listenTo(n,c,function(){for(var h=[],g=0;g<arguments.length;g++)h[g]=arguments[g];n.trigger.apply(n,U9([d],h,!1)),n.logWarning("The event '".concat(c,"' is deprecated, replace it with '").concat(d,"'"))})}),n}return e.prototype.defaults=function(){return{editing:0,selected:0,clipboard:null,dmode:0,componentHovered:null,previousModel:null,changesCount:0,storables:[],modules:[],toLoad:[],opened:{},device:""}},Object.defineProperty(e.prototype,"storables",{get:function(){return this.get("storables")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"modules",{get:function(){return this.get("modules")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"toLoad",{get:function(){return this.get("toLoad")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selected",{get:function(){return this.get("selected")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shallow",{get:function(){return this.get("shallow")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"I18n",{get:function(){return this.get("I18n")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Utils",{get:function(){return this.get("Utils")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Commands",{get:function(){return this.get("Commands")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Keymaps",{get:function(){return this.get("Keymaps")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Modal",{get:function(){return this.get("Modal")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Panels",{get:function(){return this.get("Panels")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"CodeManager",{get:function(){return this.get("CodeManager")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"UndoManager",{get:function(){return this.get("UndoManager")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"RichTextEditor",{get:function(){return this.get("RichTextEditor")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Canvas",{get:function(){return this.get("Canvas")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Editor",{get:function(){return this.get("Editor")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Components",{get:function(){return this.get("DomComponents")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Css",{get:function(){return this.get("CssComposer")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Blocks",{get:function(){return this.get("BlockManager")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Selectors",{get:function(){return this.get("SelectorManager")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Storage",{get:function(){return this.get("StorageManager")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Traits",{get:function(){return this.get("TraitManager")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Parser",{get:function(){return this.get("Parser")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Layers",{get:function(){return this.get("LayerManager")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Assets",{get:function(){return this.get("AssetManager")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Devices",{get:function(){return this.get("DeviceManager")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Pages",{get:function(){return this.get("PageManager")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Styles",{get:function(){return this.get("StyleManager")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"DataSources",{get:function(){return this.get("DataSources")},enumerable:!1,configurable:!0}),e.prototype._checkReady=function(){this.get("readyLoad")&&this.get("readyCanvas")&&!this.get("ready")&&this.set("ready",!0)},e.prototype.getContainer=function(){return this.config.el},e.prototype.listenLog=function(t){this.listenTo(this,"log:".concat(t),G1[t])},Object.defineProperty(e.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){var t;return((t=this.config.grapesjs)===null||t===void 0?void 0:t.version)||""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isHeadless",{get:function(){return!!this.config.headless},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isShallow",{get:function(){return!!this.get("isShallow")},enumerable:!1,configurable:!0}),e.prototype.initModules=function(){this.modules.forEach(function(t){return t.onInit()})},e.prototype.getConfig=function(t){var n=this.config;return(0,z.isUndefined)(t)?n:n[t]},e.prototype.loadOnStart=function(){var t=this,n=this.config,i=n.projectData,o=n.headless,a={initial:!0},l=this.Storage;this.toLoad.reverse().forEach(function(d){return d.onLoad()});var u=function(){t.modules.forEach(function(d){return d.postLoad&&d.postLoad(t)}),t.set("readyLoad",1)};o?(i&&this.loadData(i,a),u()):this._storageTimeout=setTimeout(function(){return Fy(t,void 0,void 0,function(){var d;return Wy(this,function(h){switch(h.label){case 0:return i?(this.loadData(i,a),[3,5]):[3,1];case 1:if(!(l!=null&&l.canAutoload()))return[3,5];h.label=2;case 2:return h.trys.push([2,4,,5]),[4,this.load({},a)];case 3:return h.sent(),[3,5];case 4:return d=h.sent(),this.logError(d),[3,5];case 5:return u(),[2]}})})});var c=new e({noticeOnUnload:!1,storageManager:!1,undoManager:!1});c.set({isShallow:!0}),c.Pages.onLoad(),c.Canvas.postLoad(),this.set("shallow",c)},e.prototype.updateChanges=function(t,n,i){var o=this,a=this.Storage,l=this.getDirtyCount();i.isClear||(this.updateItr&&clearTimeout(this.updateItr),this.updateItr=setTimeout(function(){return o.trigger(fi.update)})),this.config.noticeOnUnload&&(window.onbeforeunload=l?function(){return!0}:null),a.isAutosave()&&l>=a.getStepsBeforeSave()&&this.store().catch(function(u){return o.logError(u)})},e.prototype.loadModule=function(t){var n=new t(this);return this.set(n.name,n),n.onLoad&&this.toLoad.push(n),this.modules.push(n),n},e.prototype.loadStorableModule=function(t){var n=this.loadModule(t);return this.storables.push(n),n},e.prototype.init=function(t,n){n===void 0&&(n={}),this.destroyed&&(this.initialize(n),this.destroyed=!1),this.set("Editor",t)},e.prototype.getEditor=function(){return this.get("Editor")},e.prototype.handleUpdates=function(t,n,i){var o=this;i===void 0&&(i={}),!(this.__skip||i.temporary||i.noCount||i.avoidStore||i.partial||!this.get("ready"))&&(this.timedInterval&&clearTimeout(this.timedInterval),this.timedInterval=setTimeout(function(){var a=o.getDirtyCount()||0;i.unset;var l=B9(i,["unset"]);o.set("changesCount",a+1,l)},0))},e.prototype.changesUp=function(t){this.handleUpdates(0,0,t)},e.prototype.componentHovered=function(t,n,i){var o=this.previous("componentHovered");o&&this.trigger("component:unhovered",o,i),n&&this.trigger("component:hovered",n,i)},e.prototype.getSelected=function(){return this.selected.lastComponent()},e.prototype.getSelectedAll=function(){return this.selected.allComponents()},e.prototype.setSelected=function(t,n){var i=this;n===void 0&&(n={});var o=n.event,a=o&&(o.ctrlKey||o.metaKey),l=(o||{}).shiftKey,u=((0,z.isArray)(t)?t:[t]).map(function(g){var m,_;return((_=(m=g==null?void 0:g.delegate)===null||m===void 0?void 0:m.select)===null||_===void 0?void 0:_.call(m,g))||g}).filter(Boolean),c=this.getSelectedAll(),d=this.getConfig().multipleSelection,h=(0,z.isArray)(t);(h||!t)&&this.removeSelected(c.filter(function(g){return!(0,z.contains)(u,g)})),u.forEach(function(g){if(g&&(i.trigger(hn.I.selectBefore,g,n),!g.get("selectable")||n.abort))if(n.useValid){for(var m=g.parent();m&&!m.get("selectable");)m=m.parent();g=m}else return;if(a&&d)return i.toggleSelected(g);if(l&&d){if(i.isEditing())return;i.clearSelection(i.Canvas.getWindow());var _=g.collection,b=g.index(),C,w;if(i.getSelectedAll().forEach(function(x){var O=x.collection,k=x.index();O===_&&(k<b?C=(0,z.isUndefined)(C)?k:Math.max(C,k):k>b&&(w=(0,z.isUndefined)(w)?k:Math.min(w,k)))}),!(0,z.isUndefined)(C))for(;C!==b;)i.addSelected(_.at(C),n),C++;if(!(0,z.isUndefined)(w))for(;w!==b;)i.addSelected(_.at(w),n),w--;return i.addSelected(g,n)}!h&&i.removeSelected(c.filter(function(x){return x!==g})),i.addSelected(g,n)})},e.prototype.addSelected=function(t,n){var i=this;n===void 0&&(n={});var o=(0,z.isArray)(t)?t:[t];o.forEach(function(a){var l=i.selected;if(!(!a||!a.get("selectable")||a.parents().some(function(c){return l.hasComponent(c)}))){n.forceChange&&i.removeSelected(a,n);var u=l.allComponents().filter(function(c){return(0,z.contains)(c.parents(),a)});u.forEach(function(c){return i.removeSelected(c,n)}),l.addComponent(a,n),i.trigger(hn.I.select,a,n),i.Canvas.addSpot({type:no.F.Select,component:a})}})},e.prototype.removeSelected=function(t,n){var i=this;n===void 0&&(n={}),this.selected.removeComponent(t,n);var o=(0,z.isArray)(t)?t:[t];o.forEach(function(a){return i.Canvas.removeSpots({type:no.F.Select,component:a})})},e.prototype.toggleSelected=function(t,n){var i=this;n===void 0&&(n={});var o=(0,z.isArray)(t)?t:[t];o.forEach(function(a){i.selected.hasComponent(a)?i.removeSelected(a,n):i.addSelected(a,n)})},e.prototype.setHovered=function(t,n){var i=this;n===void 0&&(n={});var o=function(u,c){var d=i,h=d.config,g=d.Canvas,m=i.getHovered(),_=i.getSelectedAll(),b=no.F.Hover,C=no.F.Spacing;i.set("componentHovered",u||null,c),m&&(g.removeSpots({type:b,component:m}),g.removeSpots({type:C,component:m})),u&&(g.addSpot({type:b,component:u}),(!_.includes(u)||h.showOffsetsSelected)&&g.addSpot({type:C,component:u}))};if(!t)return o();var a="component:hover";if(n.forceChange&&o(),this.trigger("".concat(a,":before"),t,n),!t.get("hoverable"))if(n.useValid&&!n.abort){for(var l=t.parent();l&&!l.get("hoverable");)l=l.parent();t=l}else return;n.abort||(o(t,n),this.trigger(a,t,n))},e.prototype.getHovered=function(){return this.get("componentHovered")},e.prototype.setComponents=function(t,n){return n===void 0&&(n={}),this.Components.setComponents(t,n)},e.prototype.getComponents=function(){var t=this.Components,n=this.CodeManager;if(!(!t||!n)){var i=t.getComponents();return n.getCode(i,"json")}},e.prototype.setStyle=function(t,n){n===void 0&&(n={});var i=this.Css;return i.clear(n),i.getAll().add(t,n),this},e.prototype.addStyle=function(t,n){n===void 0&&(n={});var i=this.getStyle().add(t,n);return(0,z.isArray)(i)?i:[i]},e.prototype.getStyle=function(){return this.Css.getAll()},e.prototype.setState=function(t){return this.set("state",t),this},e.prototype.getState=function(){return this.get("state")||""},e.prototype.getHtml=function(t){t===void 0&&(t={});var n=this.config,i=n.optsHtml,o=n.jsInHtml?this.getJs(t):"",a=t.component||this.Components.getComponent(),l=a?this.CodeManager.getCode(a,"html",kr(kr({},i),t)):"";return l+=o?"<script>".concat(o,"<\/script>"):"",l},e.prototype.getCss=function(t){t===void 0&&(t={});var n=this.config,i=n.optsCss,o=t.avoidProtected,a=(0,z.isUndefined)(t.keepUnusedStyles)?n.keepUnusedStyles:t.keepUnusedStyles,l=this.Css,u=t.component||this.Components.getComponent(),c=o?"":n.protectedCss,d=u&&this.CodeManager.getCode(u,"css",kr(kr({cssc:l,keepUnusedStyles:a},i),t));return u?t.json?d:c+d:""},e.prototype.getJs=function(t){t===void 0&&(t={});var n=t.component||this.Components.getWrapper();return n?this.CodeManager.getCode(n,"js").trim():""},e.prototype.store=function(t){return Fy(this,void 0,void 0,function(){var n;return Wy(this,function(i){switch(i.label){case 0:return n=this.storeData(),[4,this.Storage.store(n,t)];case 1:return i.sent(),this.clearDirtyCount(),[2,n]}})})},e.prototype.load=function(t){return Fy(this,arguments,void 0,function(n,i){var o;return i===void 0&&(i={}),Wy(this,function(a){switch(a.label){case 0:return[4,this.Storage.load(n)];case 1:return o=a.sent(),this.loadData(o,i),[4,(0,Vt.wait)()];case 2:return a.sent(),i.clear&&(this.UndoManager.clear(),this.clearDirtyCount()),[2,o]}})})},e.prototype.storeData=function(){var t={},n=this.getEditing();n&&n.trigger("sync:content",{noCount:!0}),this.storables.forEach(function(o){t=kr(kr({},t),o.store(1))});var i=JSON.parse(JSON.stringify(t));return this.trigger(fi.projectGet,{project:i}),i},e.prototype.loadData=function(t,n){t===void 0&&(t={}),n===void 0&&(n={});var i=!1;return(0,Vt.isEmptyObj)(t)||(this.storables.forEach(function(o){return o.clear()}),this.storables.forEach(function(o){return o.load(t)}),i=!0),this.trigger(fi.projectLoad,{project:t,loaded:i,initial:!!n.initial}),t},e.prototype.getDeviceModel=function(){var t=this.get("device");return this.Devices.get(t)},e.prototype.runDefault=function(t){t===void 0&&(t={});var n=this.Commands.get(this.config.defaultCommand);!n||this.defaultRunning||(n.stop(this,this,t),n.run(this,this,t),this.defaultRunning=!0)},e.prototype.stopDefault=function(t){t===void 0&&(t={});var n=this.Commands;if(n){var i=n.get(this.config.defaultCommand);!i||!this.defaultRunning||(i.stop(this,this,t),this.defaultRunning=!1)}},e.prototype.refreshCanvas=function(t){t===void 0&&(t={}),this.Canvas.refresh({spots:t.tools})},e.prototype.clearSelection=function(t){var n,i=t||window;(n=i.getSelection())===null||n===void 0||n.removeAllRanges()},e.prototype.getCurrentMedia=function(){var t=this.config,n=this.getDeviceModel(),i=t.mediaCondition,o=t.devicePreviewMode,a=n&&n.get("widthMedia");return n&&a&&!o?"(".concat(i,": ").concat(a,")"):""},e.prototype.getWrapper=function(){return this.Components.getWrapper()},e.prototype.setCurrentFrame=function(t){return this.set("currentFrame",t)},e.prototype.getCurrentFrame=function(){return this.get("currentFrame")},e.prototype.getCurrentFrameModel=function(){var t;return(t=this.getCurrentFrame()||{})===null||t===void 0?void 0:t.model},e.prototype.getIcon=function(t){var n=this.config.icons||{};return n[t]||""},e.prototype.getDirtyCount=function(){return this.get("changesCount")},e.prototype.clearDirtyCount=function(){return this.set({changesCount:0},{isClear:!0})},e.prototype.getZoomDecimal=function(){return this.Canvas.getZoomDecimal()},e.prototype.getZoomMultiplier=function(){return this.Canvas.getZoomMultiplier()},e.prototype.setDragMode=function(t){return this.set("dmode",t)},e.prototype.getDragMode=function(t){var n=(t==null?void 0:t.getDragMode())||this.get("dmode");return n||""},e.prototype.t=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=this.get("I18n");return i==null?void 0:i.t.apply(i,t)},e.prototype.inAbsoluteMode=function(t){return this.getDragMode(t)==="absolute"},e.prototype.destroyAll=function(){var t=this,n=this,i=n.config,o=n.view;this.trigger(fi.destroy);var a=this.getEditor(),l=(i.grapesjs||{}).editors,u=l===void 0?[]:l,c=this.get("shallow");this._storageTimeout&&clearTimeout(this._storageTimeout),c==null||c.destroyAll(),this.stopListening(),this.stopDefault(),(this.modules||[]).slice().reverse().forEach(function(d){return d.destroy()}),o!=null&&o.remove&&o.remove(),this.clear({silent:!0}),this.destroyed=!0,["_config","view","_previousAttributes","_events","_listeners"].forEach(function(d){return t[d]={}}),u.splice(u.indexOf(a),1),(0,Vt.hasWin)()&&(0,ur.default)(i.el).empty().attr(this.attrsOrig),this.trigger(fi.destroyed)},e.prototype.getEditing=function(){var t=this.get("editing");return t&&t.model||void 0},e.prototype.setEditing=function(t){return this.set("editing",t),this},e.prototype.isEditing=function(){return!!this.get("editing")},e.prototype.log=function(t,n){n===void 0&&(n={});var i=fi.log,o=n.ns,a=n.level,l=a===void 0?"debug":a;if(this.trigger(i,t,n),l&&this.trigger("".concat(i,":").concat(l),t,n),o){var u="".concat(i,"-").concat(o);this.trigger(u,t,n),l&&this.trigger("".concat(u,":").concat(l),t,n)}},e.prototype.logInfo=function(t,n){this.log(t,kr(kr({},n),{level:"info"}))},e.prototype.logWarning=function(t,n){this.log(t,kr(kr({},n),{level:"warning"}))},e.prototype.logError=function(t,n){this.log(t,kr(kr({},n),{level:"error"}))},e.prototype.initBaseColorPicker=function(t,n){n===void 0&&(n={});var i=this.config,o=i.colorPicker,a=o===void 0?{}:o,l=i.el,u=i.stylePrefix;return(0,ur.default)(t).spectrum(kr(kr({containerClassName:"".concat(u,"one-bg ").concat(u,"two-color"),appendTo:l||"body",maxSelectionSize:8,showPalette:!0,palette:[],showAlpha:!0,chooseText:"Ok",cancelText:"⨯"},n),a))},e.prototype.skip=function(t){this.__skip=!0;var n=this.UndoManager;n?n.skip(t):t(),this.__skip=!1},e.prototype.data=function(t,n,i){var o="_gjs-data";if(t[o]||(t[o]={}),(0,z.isUndefined)(i))return t[o][n];t[o][n]=i},e}(te.Kx);const F9=H9;function W9(){return window.location.hostname}var q9=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),K9=function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function l(d){try{c(n.next(d))}catch(h){a(h)}}function u(d){try{c(n.throw(d))}catch(h){a(h)}}function c(d){d.done?o(d.value):i(d.value).then(l,u)}c((n=n.apply(r,e||[])).next())})},G9=function(r,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(c){return function(d){return u([c,d])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(t=0)),t;)try{if(n=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){t.label=c[1];break}if(c[0]===6&&t.label<o[1]){t.label=o[1],o=c;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(c);break}o[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(r,t)}catch(d){c=[6,d],i=0}finally{n=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},Y9=function(r){q9(e,r);function e(t){var n=r.call(this,{model:t})||this,i=t.Panels,o=t.UndoManager;return t.view=n,t.once("change:ready",function(){i.active(),i.disableButtons(),o.clear(),t.getConfig().telemetry&&n.sendTelemetryData().catch(function(){}),setTimeout(function(){t.trigger(fi.load,t.Editor),t.clearDirtyCount()})}),n}return e.prototype.render=function(){var t=this,n=this,i=n.$el,o=n.model,a=o.Panels,l=o.Canvas,u=o.config,c=o.modules,d=u.stylePrefix,h=["".concat(d,"editor")];!u.customUI&&h.push("".concat(d,"one-bg ").concat(d,"two-color"));var g=(0,ur.default)(u.el||"body ".concat(u.container));u.cssIcons&&(0,Vt.appendStyles)(u.cssIcons,{unique:!0,prepand:!0}),i.empty(),u.width&&g.css("width",u.width),u.height&&g.css("height",u.height),i.append(l.render()),i.append(a.render());var m=o.shallow,_=m.Canvas.render();return _.style.display="none",i.append(_),i.attr("class",h.join(" ")),g.addClass("".concat(d,"editor-cont")).empty().append(i),c.forEach(function(b){var C;return(C=b.postRender)===null||C===void 0?void 0:C.call(b,t)}),this},e.prototype.sendTelemetryData=function(){return K9(this,void 0,void 0,function(){var t,n,i,o,a,l,u,c;return G9(this,function(d){switch(d.label){case 0:return t=W9(),t==="localhost"||t.includes("localhost")?[2]:(n="gjs_telemetry_sent_",i=this.model.version,o="".concat(n).concat(i),sessionStorage.getItem(o)?[2]:(a="https://app.grapesjs.com",[4,fetch("".concat(a,"/api/gjs/telemetry/collect"),{method:"POST",body:JSON.stringify({domain:t,version:i})})]));case 1:return l=d.sent(),l.ok?[3,3]:(u=Error.bind,c="Failed to send telemetry data ".concat,[4,l.text()]);case 2:throw new(u.apply(Error,[void 0,c.apply("Failed to send telemetry data ",[d.sent()])]));case 3:return sessionStorage.setItem(o,"true"),Object.keys(sessionStorage).forEach(function(h){h.startsWith(n)&&h!==o&&sessionStorage.removeItem(h)}),this.trigger(fi.telemetryInit),[2]}})})},e}(te.Ss);const X9=Y9;var Wf=function(){return Wf=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Wf.apply(this,arguments)},Y1=function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function l(d){try{c(n.next(d))}catch(h){a(h)}}function u(d){try{c(n.throw(d))}catch(h){a(h)}}function c(d){d.done?o(d.value):i(d.value).then(l,u)}c((n=n.apply(r,e||[])).next())})},X1=function(r,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(c){return function(d){return u([c,d])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(t=0)),t;)try{if(n=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){t.label=c[1];break}if(c[0]===6&&t.label<o[1]){t.label=o[1],o=c;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(c);break}o[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(r,t)}catch(d){c=[6,d],i=0}finally{n=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},Z9=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))},$9=function(){function r(e,t){e===void 0&&(e={}),t===void 0&&(t={});var n;this.events=fi,this.html=di;var i=_3();this.config=Wf(Wf(Wf({},i),e),{pStylePrefix:(n=e.stylePrefix)!==null&&n!==void 0?n:i.stylePrefix}),this.em=new F9(this.config),this.$=t.$,this.em.init(this),this.editor=this.em}return Object.defineProperty(r.prototype,"Config",{get:function(){return this.em.config},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"I18n",{get:function(){return this.em.I18n},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Utils",{get:function(){return this.em.Utils},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Commands",{get:function(){return this.em.Commands},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Keymaps",{get:function(){return this.em.Keymaps},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Modal",{get:function(){return this.em.Modal},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Panels",{get:function(){return this.em.Panels},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Canvas",{get:function(){return this.em.Canvas},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Parser",{get:function(){return this.em.Parser},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"CodeManager",{get:function(){return this.em.CodeManager},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"UndoManager",{get:function(){return this.em.UndoManager},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"RichTextEditor",{get:function(){return this.em.RichTextEditor},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Pages",{get:function(){return this.em.Pages},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Components",{get:function(){return this.em.Components},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"DomComponents",{get:function(){return this.em.Components},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Layers",{get:function(){return this.em.Layers},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"LayerManager",{get:function(){return this.em.Layers},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Css",{get:function(){return this.em.Css},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"CssComposer",{get:function(){return this.em.Css},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Storage",{get:function(){return this.em.Storage},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"StorageManager",{get:function(){return this.em.Storage},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Assets",{get:function(){return this.em.Assets},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"AssetManager",{get:function(){return this.em.Assets},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Blocks",{get:function(){return this.em.Blocks},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"BlockManager",{get:function(){return this.em.Blocks},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Traits",{get:function(){return this.em.Traits},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"TraitManager",{get:function(){return this.em.Traits},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Selectors",{get:function(){return this.em.Selectors},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"SelectorManager",{get:function(){return this.em.Selectors},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Styles",{get:function(){return this.em.Styles},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"StyleManager",{get:function(){return this.em.Styles},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Devices",{get:function(){return this.em.Devices},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"DeviceManager",{get:function(){return this.em.Devices},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"DataSources",{get:function(){return this.em.DataSources},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"EditorModel",{get:function(){return this.em},enumerable:!1,configurable:!0}),r.prototype.getConfig=function(e){return this.em.getConfig(e)},r.prototype.getHtml=function(e){return this.em.getHtml(e)},r.prototype.getCss=function(e){return this.em.getCss(e)},r.prototype.getJs=function(e){return this.em.getJs(e)},r.prototype.getComponents=function(){return this.Components.getComponents()},r.prototype.getWrapper=function(){return this.Components.getWrapper()},r.prototype.setComponents=function(e,t){return t===void 0&&(t={}),this.em.setComponents(e,t),this},r.prototype.addComponents=function(e,t){return this.getWrapper().append(e,t)},r.prototype.getStyle=function(){return this.em.Css.getAll()},r.prototype.setStyle=function(e,t){return t===void 0&&(t={}),this.em.setStyle(e,t),this},r.prototype.addStyle=function(e,t){return t===void 0&&(t={}),this.em.addStyle(e,t)},r.prototype.getSelected=function(){return this.em.getSelected()},r.prototype.getSelectedAll=function(){return this.em.getSelectedAll()},r.prototype.getSelectedToStyle=function(){var e=this.em.getSelected();if(e)return this.StyleManager.getModelToStyle(e)},r.prototype.select=function(e,t){return this.em.setSelected(e,t),this},r.prototype.selectAdd=function(e){return this.em.addSelected(e),this},r.prototype.selectRemove=function(e){return this.em.removeSelected(e),this},r.prototype.selectToggle=function(e){return this.em.toggleSelected(e),this},r.prototype.getEditing=function(){return this.em.getEditing()},r.prototype.setDevice=function(e){return this.em.set("device",e),this},r.prototype.getDevice=function(){return this.em.get("device")},r.prototype.runCommand=function(e,t){return t===void 0&&(t={}),this.Commands.run(e,t)},r.prototype.stopCommand=function(e,t){return t===void 0&&(t={}),this.Commands.stop(e,t)},r.prototype.store=function(e){return Y1(this,void 0,void 0,function(){return X1(this,function(t){switch(t.label){case 0:return[4,this.em.store(e)];case 1:return[2,t.sent()]}})})},r.prototype.load=function(e){return Y1(this,arguments,void 0,function(t,n){return n===void 0&&(n={}),X1(this,function(i){switch(i.label){case 0:return[4,this.em.load(t,n)];case 1:return[2,i.sent()]}})})},r.prototype.getProjectData=function(){return this.em.storeData()},r.prototype.loadProjectData=function(e){return this.em.loadData(e)},r.prototype.storeData=function(){return this.em.storeData()},r.prototype.loadData=function(e){return this.em.loadData(e)},r.prototype.getContainer=function(){return this.config.el},r.prototype.getDirtyCount=function(){return this.em.getDirtyCount()},r.prototype.clearDirtyCount=function(){return this.em.clearDirtyCount()},r.prototype.refresh=function(e){this.em.refreshCanvas(e)},r.prototype.setCustomRte=function(e){this.RichTextEditor.customRte=e},r.prototype.setCustomParserCss=function(e){return this.Parser.getConfig().parserCss=e,this},r.prototype.setDragMode=function(e){return this.em.setDragMode(e),this},r.prototype.log=function(e,t){return t===void 0&&(t={}),this.em.log(e,t),this},r.prototype.t=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return(e=this.em).t.apply(e,t)},r.prototype.on=function(e,t){return this.em.on(e,t),this},r.prototype.once=function(e,t){return this.em.once(e,t),this},r.prototype.off=function(e,t){return this.em.off(e,t),this},r.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return this.em.trigger.apply(this.em,Z9([e],t,!0)),this},r.prototype.destroy=function(){this.em&&(this.em.destroyAll(),this.editorView=void 0)},r.prototype.getEl=function(){var e;return(e=this.editorView)===null||e===void 0?void 0:e.el},r.prototype.getModel=function(){return this.em},r.prototype.render=function(){var e;return(e=this.editorView)===null||e===void 0||e.remove(),this.editorView=new X9(this.em),this.editorView.render().el},r.prototype.onReady=function(e){this.em.get("ready")?e(this):this.em.on("load",e)},r}();const J9=$9;var Q9=function(r,e){var t=e.get(r);if(!t){var n=(0,Vt.getGlobal)()[r];t=(n==null?void 0:n.default)||n}return t},Ok=function(r,e){return(0,z.isString)(r)?Q9(r,e):(r==null?void 0:r.default)||r},Ek=function(r,e){r.getModel().logWarning("Plugin ".concat(e," not found"),{context:"plugins",plugin:e})},t7=function(){function r(){this.plugins={}}return r.prototype.add=function(e,t){var n=this.get(e);return n||(this.plugins[e]=t,t)},r.prototype.get=function(e){return this.plugins[e]},r.prototype.getAll=function(){return this.plugins},r}();const e7=t7,n7=function(){var r=function(){for(var t,n=window.navigator.userAgent,i=[["edge",/Edge\/([0-9\._]+)/],["ie",/MSIE\s(7\.0)/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/]],o=0;o<i.length;o++){var a=i[o];if(t=a[1].exec(n),t)break}return!!t};if((0,Vt.hasWin)()&&r()){var e=DOMImplementation.prototype.createHTMLDocument;DOMImplementation.prototype.createHTMLDocument=function(t){return t||(t=""),e.apply(document.implementation,[t])}}};var lg=function(){return lg=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},lg.apply(this,arguments)};n7();var T_=new e7,Z1=[],Tk=function(r,e){var t=Ok(r,T_);return function(n){t?t(n,e||{}):Ek(n,r)}},Ak={$:ur.default,editors:Z1,plugins:T_,usePlugin:Tk,version:"0.22.7",init:function(r){r===void 0&&(r={});var e=r.headless,t=r.container;if(!t&&!e)throw new Error("'container' is required");var n=lg(lg({autorender:!0,plugins:[],pluginsOpts:{}},r),{grapesjs:this,el:e?void 0:(0,z.isElement)(t)?t:document.querySelector(t)}),i=new J9(n,{$:ur.default}),o=i.getModel();return o.initModules(),n.plugins.forEach(function(a){var l=Ok(a,T_),u=n.pluginsOpts[a]||{};l?l(i,u):Ek(i,a)}),o.loadOnStart(),n.autorender&&!e&&i.render(),Z1.push(i),i}};const r7=Ak;var i7=Vg.Ay;Vg.I0;Vg.nu;var kk={exports:{}};/*! grapesjs-preset-webpage - 1.0.3 */(function(r,e){(function(t,n){r.exports=n()})(typeof globalThis<"u"?globalThis:typeof window<"u"?window:Do,()=>(()=>{var t={d:(_,b)=>{for(var C in b)t.o(b,C)&&!t.o(_,C)&&Object.defineProperty(_,C,{enumerable:!0,get:b[C]})},o:(_,b)=>Object.prototype.hasOwnProperty.call(_,b),r:_=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(_,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(_,"__esModule",{value:!0})}},n={};t.r(n),t.d(n,{default:()=>m});var i=function(){return i=Object.assign||function(_){for(var b,C=1,w=arguments.length;C<w;C++)for(var x in b=arguments[C])Object.prototype.hasOwnProperty.call(b,x)&&(_[x]=b[x]);return _},i.apply(this,arguments)},o="gjs-open-import-webpage",a="set-device-desktop",l="set-device-tablet",u="set-device-mobile",c="canvas-clear",d=function(){return d=Object.assign||function(_){for(var b,C=1,w=arguments.length;C<w;C++)for(var x in b=arguments[C])Object.prototype.hasOwnProperty.call(b,x)&&(_[x]=b[x]);return _},d.apply(this,arguments)};const h=function(_,b){var C=_.Commands,w=b.textCleanCanvas;(function(x,O){var k=x.getConfig("stylePrefix"),V=O.modalImportLabel,Z=O.modalImportContent;x.Commands.add(o,{codeViewer:null,container:null,run:function($){var Y=typeof Z=="function"?Z($):Z,U=this.getCodeViewer();$.Modal.open({title:O.modalImportTitle,content:this.getContainer()}).onceClose(function(){return $.stopCommand(o)}),U.setContent(Y??""),U.refresh(),setTimeout(function(){return U.focus()},0)},stop:function(){x.Modal.close()},getContainer:function(){if(!this.container){var $=this.getCodeViewer(),Y=document.createElement("div");if(Y.className="".concat(k,"import-container"),V){var U=document.createElement("div");U.className="".concat(k,"import-label"),U.innerHTML=V,Y.appendChild(U)}Y.appendChild($.getElement());var Q=document.createElement("button");Q.type="button",Q.innerHTML=O.modalImportButton,Q.className="".concat(k,"btn-prim ").concat(k,"btn-import"),Q.onclick=function(){x.Css.clear(),x.setComponents($.getContent().trim()),x.Modal.close()},Y.appendChild(Q),this.container=Y}return this.container},getCodeViewer:function(){return this.codeViewer||(this.codeViewer=x.CodeManager.createViewer(d({codeName:"htmlmixed",theme:"hopscotch",readOnly:!1},O.importViewerOptions))),this.codeViewer}})})(_,b),C.add(a,{run:function(x){return x.setDevice("Desktop")},stop:function(){}}),C.add(l,{run:function(x){return x.setDevice("Tablet")},stop:function(){}}),C.add(u,{run:function(x){return x.setDevice("Mobile portrait")},stop:function(){}}),C.add(c,function(x){return confirm(w)&&x.runCommand("core:canvas-clear")})};var g=function(){return g=Object.assign||function(_){for(var b,C=1,w=arguments.length;C<w;C++)for(var x in b=arguments[C])Object.prototype.hasOwnProperty.call(b,x)&&(_[x]=b[x]);return _},g.apply(this,arguments)};const m=function(_,b){b===void 0&&(b={});var C=g({blocks:["link-block","quote","text-basic"],block:function(){return{}},modalImportTitle:"Import",modalImportButton:"Import",modalImportLabel:"",modalImportContent:"",importViewerOptions:{},textCleanCanvas:"Are you sure you want to clear the canvas?",showStylesOnChange:!0,useCustomTheme:!0},b);if(C.useCustomTheme&&typeof window<"u"){var w="gjs-",x="";[["one","#463a3c"],["two","#b9a5a6"],["three","#804f7b"],["four","#d97aa6"]].forEach(function(k){var V=k[0],Z=k[1];x+=`
        .`.concat(w).concat(V,`-bg {
          background-color: `).concat(Z,`;
        }

        .`).concat(w).concat(V,`-color {
          color: `).concat(Z,`;
        }

        .`).concat(w).concat(V,`-color-h:hover {
          color: `).concat(Z,`;
        }
      `)});var O=document.createElement("style");O.innerText=x,document.head.appendChild(O)}(function(k,V){var Z=function($,Y){V.blocks.indexOf($)>=0&&k.Blocks.add($,i(i({select:!0,category:"Basic"},Y),V.block($)))};Z("link-block",{label:"Link Block",media:`<svg viewBox="0 0 24 24">
      <path fill="currentColor" d="M3.9,12C3.9,10.29 5.29,8.9 7,8.9H11V7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H11V15.1H7C5.29,15.1 3.9,13.71 3.9,12M8,13H16V11H8V13M17,7H13V8.9H17C18.71,8.9 20.1,10.29 20.1,12C20.1,13.71 18.71,15.1 17,15.1H13V17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7Z"></path>
    </svg>`,content:{type:"link",editable:!1,droppable:!0,style:{display:"inline-block",padding:"5px","min-height":"50px","min-width":"50px"}}}),Z("quote",{label:"Quote",media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M14,17H17L19,13V7H13V13H16M6,17H9L11,13V7H5V13H8L6,17Z" />
    </svg>`,content:`<blockquote class="quote">
        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore ipsum dolor sit
      </blockquote>`}),Z("text-basic",{label:"Text section",media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M21,6V8H3V6H21M3,18H12V16H3V18M3,13H21V11H3V13Z" />
    </svg>`,content:`<section class="bdg-sect">
      <h1 class="heading">Insert title here</h1>
      <p class="paragraph">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua</p>
      </section>`})})(_,C),h(_,C),function(k,V){var Z=k.Panels,$=k.getConfig(),Y="sw-visibility",U="export-template",Q="open-sm",H="open-tm",D="open-layers",I="open-blocks",T="fullscreen",tt="preview",M='style="display: block; max-width:22px"';$.showDevices=!1,Z.getPanels().reset([{id:"commands",buttons:[{}]},{id:"devices-c",buttons:[{id:a,command:a,active:!0,label:"<svg ".concat(M,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M21,16H3V4H21M21,2H3C1.89,2 1,2.89 1,4V16A2,2 0 0,0 3,18H10V20H8V22H16V20H14V18H21A2,2 0 0,0 23,16V4C23,2.89 22.1,2 21,2Z" />
        </svg>`)},{id:l,command:l,label:"<svg ".concat(M,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M19,18H5V6H19M21,4H3C1.89,4 1,4.89 1,6V18A2,2 0 0,0 3,20H21A2,2 0 0,0 23,18V6C23,4.89 22.1,4 21,4Z" />
        </svg>`)},{id:u,command:u,label:"<svg ".concat(M,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M17,19H7V5H17M17,1H7C5.89,1 5,1.89 5,3V21A2,2 0 0,0 7,23H17A2,2 0 0,0 19,21V3C19,1.89 18.1,1 17,1Z" />
        </svg>`)}]},{id:"options",buttons:[{id:Y,command:Y,context:Y,label:"<svg ".concat(M,` viewBox="0 0 24 24">
        <path fill="currentColor" d="M15,5H17V3H15M15,21H17V19H15M11,5H13V3H11M19,5H21V3H19M19,9H21V7H19M19,21H21V19H19M19,13H21V11H19M19,17H21V15H19M3,5H5V3H3M3,9H5V7H3M3,13H5V11H3M3,17H5V15H3M3,21H5V19H3M11,21H13V19H11M7,21H9V19H7M7,5H9V3H7V5Z" />
    </svg>`)},{id:tt,context:tt,command:function(){return k.runCommand(tt)},label:"<svg ".concat(M,' viewBox="0 0 24 24"><path fill="currentColor" d="M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z"></path></svg>')},{id:T,command:T,context:T,label:"<svg ".concat(M,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M5,5H10V7H7V10H5V5M14,5H19V10H17V7H14V5M17,14H19V19H14V17H17V14M10,17V19H5V14H7V17H10Z" />
        </svg>`)},{id:U,command:function(){return k.runCommand(U)},label:"<svg ".concat(M,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M12.89,3L14.85,3.4L11.11,21L9.15,20.6L12.89,3M19.59,12L16,8.41V5.58L22.42,12L16,18.41V15.58L19.59,12M1.58,12L8,5.58V8.41L4.41,12L8,15.58V18.41L1.58,12Z" />
        </svg>`)},{id:"undo",command:function(){return k.runCommand("core:undo")},label:"<svg ".concat(M,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M20 13.5C20 17.09 17.09 20 13.5 20H6V18H13.5C16 18 18 16 18 13.5S16 9 13.5 9H7.83L10.91 12.09L9.5 13.5L4 8L9.5 2.5L10.92 3.91L7.83 7H13.5C17.09 7 20 9.91 20 13.5Z" />
        </svg>`)},{id:"redo",command:function(){return k.runCommand("core:redo")},label:"<svg ".concat(M,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M10.5 18H18V20H10.5C6.91 20 4 17.09 4 13.5S6.91 7 10.5 7H16.17L13.08 3.91L14.5 2.5L20 8L14.5 13.5L13.09 12.09L16.17 9H10.5C8 9 6 11 6 13.5S8 18 10.5 18Z" />
        </svg>`)},{id:o,command:function(){return k.runCommand(o)},label:"<svg ".concat(M,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M5,20H19V18H5M19,9H15V3H9V9H5L12,16L19,9Z" />
        </svg>`)},{id:c,command:function(){return k.runCommand(c)},label:"<svg ".concat(M,` viewBox="0 0 24 24">
              <path fill="currentColor" d="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z" />
          </svg>`)}]},{id:"views",buttons:[{id:Q,command:Q,active:!0,label:"<svg ".concat(M,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M20.71,4.63L19.37,3.29C19,2.9 18.35,2.9 17.96,3.29L9,12.25L11.75,15L20.71,6.04C21.1,5.65 21.1,5 20.71,4.63M7,14A3,3 0 0,0 4,17C4,18.31 2.84,19 2,19C2.92,20.22 4.5,21 6,21A4,4 0 0,0 10,17A3,3 0 0,0 7,14Z" />
        </svg>`)},{id:H,command:H,label:"<svg ".concat(M,` viewBox="0 0 24 24">
          <path fill="currentColor" d="M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.67 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z" />
      </svg>`)},{id:D,command:D,label:"<svg ".concat(M,` viewBox="0 0 24 24">
          <path fill="currentColor" d="M12,16L19.36,10.27L21,9L12,2L3,9L4.63,10.27M12,18.54L4.62,12.81L3,14.07L12,21.07L21,14.07L19.37,12.8L12,18.54Z" />
      </svg>`)},{id:I,command:I,label:"<svg ".concat(M,` viewBox="0 0 24 24">
          <path fill="currentColor" d="M17,13H13V17H11V13H7V11H11V7H13V11H17M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z" />
      </svg>`)}]}]);var ot=Z.getButton("views",I);k.on("load",function(){return ot==null?void 0:ot.set("active",!0)}),V.showStylesOnChange&&k.on("component:selected",function(){var dt=Z.getButton("views",Q),pt=Z.getButton("views",D);pt&&pt.get("active")||!k.getSelected()||dt==null||dt.set("active",!0)})}(_,C)};return n})())})(kk);var o7=kk.exports;const a7=nO(o7),Bo=Object.create(null);Bo.open="0";Bo.close="1";Bo.ping="2";Bo.pong="3";Bo.message="4";Bo.upgrade="5";Bo.noop="6";const gp=Object.create(null);Object.keys(Bo).forEach(r=>{gp[Bo[r]]=r});const A_={type:"error",data:"parser error"},Dk=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Pk=typeof ArrayBuffer=="function",Mk=r=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(r):r&&r.buffer instanceof ArrayBuffer,cw=({type:r,data:e},t,n)=>Dk&&e instanceof Blob?t?n(e):$1(e,n):Pk&&(e instanceof ArrayBuffer||Mk(e))?t?n(e):$1(new Blob([e]),n):n(Bo[r]+(e||"")),$1=(r,e)=>{const t=new FileReader;return t.onload=function(){const n=t.result.split(",")[1];e("b"+(n||""))},t.readAsDataURL(r)};function J1(r){return r instanceof Uint8Array?r:r instanceof ArrayBuffer?new Uint8Array(r):new Uint8Array(r.buffer,r.byteOffset,r.byteLength)}let qy;function s7(r,e){if(Dk&&r.data instanceof Blob)return r.data.arrayBuffer().then(J1).then(e);if(Pk&&(r.data instanceof ArrayBuffer||Mk(r.data)))return e(J1(r.data));cw(r,!1,t=>{qy||(qy=new TextEncoder),e(qy.encode(t))})}const Q1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",yf=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let r=0;r<Q1.length;r++)yf[Q1.charCodeAt(r)]=r;const l7=r=>{let e=r.length*.75,t=r.length,n,i=0,o,a,l,u;r[r.length-1]==="="&&(e--,r[r.length-2]==="="&&e--);const c=new ArrayBuffer(e),d=new Uint8Array(c);for(n=0;n<t;n+=4)o=yf[r.charCodeAt(n)],a=yf[r.charCodeAt(n+1)],l=yf[r.charCodeAt(n+2)],u=yf[r.charCodeAt(n+3)],d[i++]=o<<2|a>>4,d[i++]=(a&15)<<4|l>>2,d[i++]=(l&3)<<6|u&63;return c},u7=typeof ArrayBuffer=="function",fw=(r,e)=>{if(typeof r!="string")return{type:"message",data:Rk(r,e)};const t=r.charAt(0);return t==="b"?{type:"message",data:c7(r.substring(1),e)}:gp[t]?r.length>1?{type:gp[t],data:r.substring(1)}:{type:gp[t]}:A_},c7=(r,e)=>{if(u7){const t=l7(r);return Rk(t,e)}else return{base64:!0,data:r}},Rk=(r,e)=>{switch(e){case"blob":return r instanceof Blob?r:new Blob([r]);case"arraybuffer":default:return r instanceof ArrayBuffer?r:r.buffer}},Lk="",f7=(r,e)=>{const t=r.length,n=new Array(t);let i=0;r.forEach((o,a)=>{cw(o,!1,l=>{n[a]=l,++i===t&&e(n.join(Lk))})})},d7=(r,e)=>{const t=r.split(Lk),n=[];for(let i=0;i<t.length;i++){const o=fw(t[i],e);if(n.push(o),o.type==="error")break}return n};function h7(){return new TransformStream({transform(r,e){s7(r,t=>{const n=t.length;let i;if(n<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,n);else if(n<65536){i=new Uint8Array(3);const o=new DataView(i.buffer);o.setUint8(0,126),o.setUint16(1,n)}else{i=new Uint8Array(9);const o=new DataView(i.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(n))}r.data&&typeof r.data!="string"&&(i[0]|=128),e.enqueue(i),e.enqueue(t)})}})}let Ky;function Fh(r){return r.reduce((e,t)=>e+t.length,0)}function Wh(r,e){if(r[0].length===e)return r.shift();const t=new Uint8Array(e);let n=0;for(let i=0;i<e;i++)t[i]=r[0][n++],n===r[0].length&&(r.shift(),n=0);return r.length&&n<r[0].length&&(r[0]=r[0].slice(n)),t}function p7(r,e){Ky||(Ky=new TextDecoder);const t=[];let n=0,i=-1,o=!1;return new TransformStream({transform(a,l){for(t.push(a);;){if(n===0){if(Fh(t)<1)break;const u=Wh(t,1);o=(u[0]&128)===128,i=u[0]&127,i<126?n=3:i===126?n=1:n=2}else if(n===1){if(Fh(t)<2)break;const u=Wh(t,2);i=new DataView(u.buffer,u.byteOffset,u.length).getUint16(0),n=3}else if(n===2){if(Fh(t)<8)break;const u=Wh(t,8),c=new DataView(u.buffer,u.byteOffset,u.length),d=c.getUint32(0);if(d>Math.pow(2,21)-1){l.enqueue(A_);break}i=d*Math.pow(2,32)+c.getUint32(4),n=3}else{if(Fh(t)<i)break;const u=Wh(t,i);l.enqueue(fw(o?u:Ky.decode(u),e)),n=0}if(i===0||i>r){l.enqueue(A_);break}}}})}const Nk=4;function Zn(r){if(r)return v7(r)}function v7(r){for(var e in Zn.prototype)r[e]=Zn.prototype[e];return r}Zn.prototype.on=Zn.prototype.addEventListener=function(r,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+r]=this._callbacks["$"+r]||[]).push(e),this};Zn.prototype.once=function(r,e){function t(){this.off(r,t),e.apply(this,arguments)}return t.fn=e,this.on(r,t),this};Zn.prototype.off=Zn.prototype.removeListener=Zn.prototype.removeAllListeners=Zn.prototype.removeEventListener=function(r,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var t=this._callbacks["$"+r];if(!t)return this;if(arguments.length==1)return delete this._callbacks["$"+r],this;for(var n,i=0;i<t.length;i++)if(n=t[i],n===e||n.fn===e){t.splice(i,1);break}return t.length===0&&delete this._callbacks["$"+r],this};Zn.prototype.emit=function(r){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),t=this._callbacks["$"+r],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(t){t=t.slice(0);for(var n=0,i=t.length;n<i;++n)t[n].apply(this,e)}return this};Zn.prototype.emitReserved=Zn.prototype.emit;Zn.prototype.listeners=function(r){return this._callbacks=this._callbacks||{},this._callbacks["$"+r]||[]};Zn.prototype.hasListeners=function(r){return!!this.listeners(r).length};const Hg=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,t)=>t(e,0),Ji=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),g7="arraybuffer";function jk(r,...e){return e.reduce((t,n)=>(r.hasOwnProperty(n)&&(t[n]=r[n]),t),{})}const m7=Ji.setTimeout,y7=Ji.clearTimeout;function Fg(r,e){e.useNativeTimers?(r.setTimeoutFn=m7.bind(Ji),r.clearTimeoutFn=y7.bind(Ji)):(r.setTimeoutFn=Ji.setTimeout.bind(Ji),r.clearTimeoutFn=Ji.clearTimeout.bind(Ji))}const _7=1.33;function b7(r){return typeof r=="string"?w7(r):Math.ceil((r.byteLength||r.size)*_7)}function w7(r){let e=0,t=0;for(let n=0,i=r.length;n<i;n++)e=r.charCodeAt(n),e<128?t+=1:e<2048?t+=2:e<55296||e>=57344?t+=3:(n++,t+=4);return t}function Vk(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function S7(r){let e="";for(let t in r)r.hasOwnProperty(t)&&(e.length&&(e+="&"),e+=encodeURIComponent(t)+"="+encodeURIComponent(r[t]));return e}function C7(r){let e={},t=r.split("&");for(let n=0,i=t.length;n<i;n++){let o=t[n].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}class x7 extends Error{constructor(e,t,n){super(e),this.description=t,this.context=n,this.type="TransportError"}}class dw extends Zn{constructor(e){super(),this.writable=!1,Fg(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,n){return super.emitReserved("error",new x7(e,t,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=fw(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,t={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const t=S7(e);return t.length?"?"+t:""}}class O7 extends dw{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||t()})),this.writable||(n++,this.once("drain",function(){--n||t()}))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const t=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};d7(e,this.socket.binaryType).forEach(t),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,f7(e,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return this.opts.timestampRequests!==!1&&(t[this.opts.timestampParam]=Vk()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.createUri(e,t)}}let Bk=!1;try{Bk=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const E7=Bk;function T7(){}class A7 extends O7{constructor(e){if(super(e),typeof location<"u"){const t=location.protocol==="https:";let n=location.port;n||(n=t?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||n!==e.port}}doWrite(e,t){const n=this.request({method:"POST",data:e});n.on("success",t),n.on("error",(i,o)=>{this.onError("xhr post error",i,o)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(t,n)=>{this.onError("xhr poll error",t,n)}),this.pollXhr=e}}let Fu=class mp extends Zn{constructor(e,t,n){super(),this.createRequest=e,Fg(this,n),this._opts=n,this._method=n.method||"GET",this._uri=t,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var e;const t=jk(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(t);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&n.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var i;n.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=mp.requestsCount++,mp.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=T7,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete mp.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}};Fu.requestsCount=0;Fu.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",tO);else if(typeof addEventListener=="function"){const r="onpagehide"in Ji?"pagehide":"unload";addEventListener(r,tO,!1)}}function tO(){for(let r in Fu.requests)Fu.requests.hasOwnProperty(r)&&Fu.requests[r].abort()}const k7=function(){const r=Uk({xdomain:!1});return r&&r.responseType!==null}();class D7 extends A7{constructor(e){super(e);const t=e&&e.forceBase64;this.supportsBinary=k7&&!t}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new Fu(Uk,this.uri(),e)}}function Uk(r){const e=r.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||E7))return new XMLHttpRequest}catch{}if(!e)try{return new Ji[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const Ik=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class P7 extends dw{get name(){return"websocket"}doOpen(){const e=this.uri(),t=this.opts.protocols,n=Ik?{}:jk(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,n)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],i=t===e.length-1;cw(n,this.supportsBinary,o=>{try{this.doWrite(n,o)}catch{}i&&Hg(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=Vk()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}}const Gy=Ji.WebSocket||Ji.MozWebSocket;class M7 extends P7{createSocket(e,t,n){return Ik?new Gy(e,t,n):t?new Gy(e,t):new Gy(e)}doWrite(e,t){this.ws.send(t)}}class R7 extends dw{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const t=p7(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(t).getReader(),i=h7();i.readable.pipeTo(e.writable),this._writer=i.writable.getWriter();const o=()=>{n.read().then(({done:l,value:u})=>{l||(this.onPacket(u),o())}).catch(l=>{})};o();const a={type:"open"};this.query.sid&&(a.data=`{"sid":"${this.query.sid}"}`),this._writer.write(a).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],i=t===e.length-1;this._writer.write(n).then(()=>{i&&Hg(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const L7={websocket:M7,webtransport:R7,polling:D7},N7=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,j7=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function k_(r){if(r.length>8e3)throw"URI too long";const e=r,t=r.indexOf("["),n=r.indexOf("]");t!=-1&&n!=-1&&(r=r.substring(0,t)+r.substring(t,n).replace(/:/g,";")+r.substring(n,r.length));let i=N7.exec(r||""),o={},a=14;for(;a--;)o[j7[a]]=i[a]||"";return t!=-1&&n!=-1&&(o.source=e,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=V7(o,o.path),o.queryKey=B7(o,o.query),o}function V7(r,e){const t=/\/{2,9}/g,n=e.replace(t,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&n.splice(0,1),e.slice(-1)=="/"&&n.splice(n.length-1,1),n}function B7(r,e){const t={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,i,o){i&&(t[i]=o)}),t}const D_=typeof addEventListener=="function"&&typeof removeEventListener=="function",yp=[];D_&&addEventListener("offline",()=>{yp.forEach(r=>r())},!1);class bs extends Zn{constructor(e,t){if(super(),this.binaryType=g7,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(t=e,e=null),e){const n=k_(e);t.hostname=n.host,t.secure=n.protocol==="https"||n.protocol==="wss",t.port=n.port,n.query&&(t.query=n.query)}else t.host&&(t.hostname=k_(t.host).host);Fg(this,t),this.secure=t.secure!=null?t.secure:typeof location<"u"&&location.protocol==="https:",t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=t.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},t.transports.forEach(n=>{const i=n.prototype.name;this.transports.push(i),this._transportsByName[i]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=C7(this.opts.query)),D_&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},yp.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=Nk,t.transport=e,this.id&&(t.sid=this.id);const n=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&bs.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const t=this.createTransport(e);t.open(),this.setTransport(t)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",t=>this._onClose("transport close",t))}onOpen(){this.readyState="open",bs.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const t=new Error("server error");t.code=e.data,this._onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let n=0;n<this.writeBuffer.length;n++){const i=this.writeBuffer[n].data;if(i&&(t+=b7(i)),n>0&&t>this._maxPayload)return this.writeBuffer.slice(0,n);t+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,Hg(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,t,n){return this._sendPacket("message",e,t,n),this}send(e,t,n){return this._sendPacket("message",e,t,n),this}_sendPacket(e,t,n,i){if(typeof t=="function"&&(i=t,t=void 0),typeof n=="function"&&(i=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const o={type:e,data:t,options:n};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),i&&this.once("flush",i),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},n=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():e()}):this.upgrading?n():e()),this}_onError(e){if(bs.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),D_&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=yp.indexOf(this._offlineEventListener);n!==-1&&yp.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this._prevBufferLen=0}}}bs.protocol=Nk;class U7 extends bs{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),n=!1;bs.priorWebsocketSuccess=!1;const i=()=>{n||(t.send([{type:"ping",data:"probe"}]),t.once("packet",h=>{if(!n)if(h.type==="pong"&&h.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;bs.priorWebsocketSuccess=t.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(d(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{const g=new Error("probe error");g.transport=t.name,this.emitReserved("upgradeError",g)}}))};function o(){n||(n=!0,d(),t.close(),t=null)}const a=h=>{const g=new Error("probe error: "+h);g.transport=t.name,o(),this.emitReserved("upgradeError",g)};function l(){a("transport closed")}function u(){a("socket closed")}function c(h){t&&h.name!==t.name&&o()}const d=()=>{t.removeListener("open",i),t.removeListener("error",a),t.removeListener("close",l),this.off("close",u),this.off("upgrading",c)};t.once("open",i),t.once("error",a),t.once("close",l),this.once("close",u),this.once("upgrading",c),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{n||t.open()},200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const t=[];for(let n=0;n<e.length;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}let I7=class extends U7{constructor(e,t={}){const n=typeof e=="object"?e:t;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(i=>L7[i]).filter(i=>!!i)),super(e,n)}};function z7(r,e="",t){let n=r;t=t||typeof location<"u"&&location,r==null&&(r=t.protocol+"//"+t.host),typeof r=="string"&&(r.charAt(0)==="/"&&(r.charAt(1)==="/"?r=t.protocol+r:r=t.host+r),/^(https?|wss?):\/\//.test(r)||(typeof t<"u"?r=t.protocol+"//"+r:r="https://"+r),n=k_(r)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const o=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+o+":"+n.port+e,n.href=n.protocol+"://"+o+(t&&t.port===n.port?"":":"+n.port),n}const H7=typeof ArrayBuffer=="function",F7=r=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(r):r.buffer instanceof ArrayBuffer,zk=Object.prototype.toString,W7=typeof Blob=="function"||typeof Blob<"u"&&zk.call(Blob)==="[object BlobConstructor]",q7=typeof File=="function"||typeof File<"u"&&zk.call(File)==="[object FileConstructor]";function hw(r){return H7&&(r instanceof ArrayBuffer||F7(r))||W7&&r instanceof Blob||q7&&r instanceof File}function _p(r,e){if(!r||typeof r!="object")return!1;if(Array.isArray(r)){for(let t=0,n=r.length;t<n;t++)if(_p(r[t]))return!0;return!1}if(hw(r))return!0;if(r.toJSON&&typeof r.toJSON=="function"&&arguments.length===1)return _p(r.toJSON(),!0);for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t)&&_p(r[t]))return!0;return!1}function K7(r){const e=[],t=r.data,n=r;return n.data=P_(t,e),n.attachments=e.length,{packet:n,buffers:e}}function P_(r,e){if(!r)return r;if(hw(r)){const t={_placeholder:!0,num:e.length};return e.push(r),t}else if(Array.isArray(r)){const t=new Array(r.length);for(let n=0;n<r.length;n++)t[n]=P_(r[n],e);return t}else if(typeof r=="object"&&!(r instanceof Date)){const t={};for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=P_(r[n],e));return t}return r}function G7(r,e){return r.data=M_(r.data,e),delete r.attachments,r}function M_(r,e){if(!r)return r;if(r&&r._placeholder===!0){if(typeof r.num=="number"&&r.num>=0&&r.num<e.length)return e[r.num];throw new Error("illegal attachments")}else if(Array.isArray(r))for(let t=0;t<r.length;t++)r[t]=M_(r[t],e);else if(typeof r=="object")for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&(r[t]=M_(r[t],e));return r}const Y7=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],X7=5;var Fe;(function(r){r[r.CONNECT=0]="CONNECT",r[r.DISCONNECT=1]="DISCONNECT",r[r.EVENT=2]="EVENT",r[r.ACK=3]="ACK",r[r.CONNECT_ERROR=4]="CONNECT_ERROR",r[r.BINARY_EVENT=5]="BINARY_EVENT",r[r.BINARY_ACK=6]="BINARY_ACK"})(Fe||(Fe={}));class Z7{constructor(e){this.replacer=e}encode(e){return(e.type===Fe.EVENT||e.type===Fe.ACK)&&_p(e)?this.encodeAsBinary({type:e.type===Fe.EVENT?Fe.BINARY_EVENT:Fe.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let t=""+e.type;return(e.type===Fe.BINARY_EVENT||e.type===Fe.BINARY_ACK)&&(t+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(t+=e.nsp+","),e.id!=null&&(t+=e.id),e.data!=null&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=K7(e),n=this.encodeAsString(t.packet),i=t.buffers;return i.unshift(n),i}}function eO(r){return Object.prototype.toString.call(r)==="[object Object]"}class pw extends Zn{constructor(e){super(),this.reviver=e}add(e){let t;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const n=t.type===Fe.BINARY_EVENT;n||t.type===Fe.BINARY_ACK?(t.type=n?Fe.EVENT:Fe.ACK,this.reconstructor=new $7(t),t.attachments===0&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else if(hw(e)||e.base64)if(this.reconstructor)t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let t=0;const n={type:Number(e.charAt(0))};if(Fe[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===Fe.BINARY_EVENT||n.type===Fe.BINARY_ACK){const o=t+1;for(;e.charAt(++t)!=="-"&&t!=e.length;);const a=e.substring(o,t);if(a!=Number(a)||e.charAt(t)!=="-")throw new Error("Illegal attachments");n.attachments=Number(a)}if(e.charAt(t+1)==="/"){const o=t+1;for(;++t&&!(e.charAt(t)===","||t===e.length););n.nsp=e.substring(o,t)}else n.nsp="/";const i=e.charAt(t+1);if(i!==""&&Number(i)==i){const o=t+1;for(;++t;){const a=e.charAt(t);if(a==null||Number(a)!=a){--t;break}if(t===e.length)break}n.id=Number(e.substring(o,t+1))}if(e.charAt(++t)){const o=this.tryParse(e.substr(t));if(pw.isPayloadValid(n.type,o))n.data=o;else throw new Error("invalid payload")}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,t){switch(e){case Fe.CONNECT:return eO(t);case Fe.DISCONNECT:return t===void 0;case Fe.CONNECT_ERROR:return typeof t=="string"||eO(t);case Fe.EVENT:case Fe.BINARY_EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&Y7.indexOf(t[0])===-1);case Fe.ACK:case Fe.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class $7{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const t=G7(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const J7=Object.freeze(Object.defineProperty({__proto__:null,Decoder:pw,Encoder:Z7,get PacketType(){return Fe},protocol:X7},Symbol.toStringTag,{value:"Module"}));function bo(r,e,t){return r.on(e,t),function(){r.off(e,t)}}const Q7=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Hk extends Zn{constructor(e,t,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[bo(e,"open",this.onopen.bind(this)),bo(e,"packet",this.onpacket.bind(this)),bo(e,"error",this.onerror.bind(this)),bo(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){var n,i,o;if(Q7.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(t.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;const a={type:Fe.EVENT,data:t};if(a.options={},a.options.compress=this.flags.compress!==!1,typeof t[t.length-1]=="function"){const d=this.ids++,h=t.pop();this._registerAckCallback(d,h),a.id=d}const l=(i=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||i===void 0?void 0:i.writable,u=this.connected&&!(!((o=this.io.engine)===null||o===void 0)&&o._hasPingExpired());return this.flags.volatile&&!l||(u?(this.notifyOutgoingListeners(a),this.packet(a)):this.sendBuffer.push(a)),this.flags={},this}_registerAckCallback(e,t){var n;const i=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(i===void 0){this.acks[e]=t;return}const o=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===e&&this.sendBuffer.splice(l,1);t.call(this,new Error("operation has timed out"))},i),a=(...l)=>{this.io.clearTimeoutFn(o),t.apply(this,l)};a.withError=!0,this.acks[e]=a}emitWithAck(e,...t){return new Promise((n,i)=>{const o=(a,l)=>a?i(a):n(l);o.withError=!0,t.push(o),this.emit(e,...t)})}_addToQueue(e){let t;typeof e[e.length-1]=="function"&&(t=e.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...o)=>n!==this._queue[0]?void 0:(i!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(i)):(this._queue.shift(),t&&t(null,...o)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Fe.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(n=>String(n.id)===e)){const n=this.acks[e];delete this.acks[e],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Fe.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Fe.EVENT:case Fe.BINARY_EVENT:this.onevent(e);break;case Fe.ACK:case Fe.BINARY_ACK:this.onack(e);break;case Fe.DISCONNECT:this.ondisconnect();break;case Fe.CONNECT_ERROR:this.destroy();const n=new Error(e.data.message);n.data=e.data.data,this.emitReserved("connect_error",n);break}}onevent(e){const t=e.data||[];e.id!=null&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const n of t)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let n=!1;return function(...i){n||(n=!0,t.packet({type:Fe.ACK,id:e,data:i}))}}onack(e){const t=this.acks[e.id];typeof t=="function"&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Fe.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const n of t)n.apply(this,e.data)}}}function gc(r){r=r||{},this.ms=r.min||100,this.max=r.max||1e4,this.factor=r.factor||2,this.jitter=r.jitter>0&&r.jitter<=1?r.jitter:0,this.attempts=0}gc.prototype.duration=function(){var r=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),t=Math.floor(e*this.jitter*r);r=Math.floor(e*10)&1?r+t:r-t}return Math.min(r,this.max)|0};gc.prototype.reset=function(){this.attempts=0};gc.prototype.setMin=function(r){this.ms=r};gc.prototype.setMax=function(r){this.max=r};gc.prototype.setJitter=function(r){this.jitter=r};class R_ extends Zn{constructor(e,t){var n;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.opts=t,Fg(this,t),this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor((n=t.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new gc({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(t.timeout==null?2e4:t.timeout),this._readyState="closed",this.uri=e;const i=t.parser||J7;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=t.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(t=this.backoff)===null||t===void 0||t.setMin(e),this)}randomizationFactor(e){var t;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(t=this.backoff)===null||t===void 0||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(t=this.backoff)===null||t===void 0||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new I7(this.uri,this.opts);const t=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const i=bo(t,"open",function(){n.onopen(),e&&e()}),o=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),e?e(l):this.maybeReconnectOnOpen()},a=bo(t,"error",o);if(this._timeout!==!1){const l=this._timeout,u=this.setTimeoutFn(()=>{i(),o(new Error("timeout")),t.close()},l);this.opts.autoUnref&&u.unref(),this.subs.push(()=>{this.clearTimeoutFn(u)})}return this.subs.push(i),this.subs.push(a),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(bo(e,"ping",this.onping.bind(this)),bo(e,"data",this.ondata.bind(this)),bo(e,"error",this.onerror.bind(this)),bo(e,"close",this.onclose.bind(this)),bo(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}ondecoded(e){Hg(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new Hk(this,e,t),this.nsps[e]=n),n}_destroy(e){const t=Object.keys(this.nsps);for(const n of t)if(this.nsps[n].active)return;this._close()}_packet(e){const t=this.encoder.encode(e);for(let n=0;n<t.length;n++)this.engine.write(t[n],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},t);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const uf={};function bp(r,e){typeof r=="object"&&(e=r,r=void 0),e=e||{};const t=z7(r,e.path||"/socket.io"),n=t.source,i=t.id,o=t.path,a=uf[i]&&o in uf[i].nsps,l=e.forceNew||e["force new connection"]||e.multiplex===!1||a;let u;return l?u=new R_(n,e):(uf[i]||(uf[i]=new R_(n,e)),u=uf[i]),t.query&&!e.query&&(e.query=t.queryKey),u.socket(t.path,e)}Object.assign(bp,{Manager:R_,Socket:Hk,io:bp,connect:bp});const tW="wss://twodoparcialsw1backend.onrender.com";console.log(!0);const L_=bp(tW,{transports:["websocket"]});function eW({roomId:r}){const e=Nt.useRef(null),t=Nt.useRef(null),n=Nt.useRef(!1),[i,o]=Nt.useState(!1);return Nt.useEffect(()=>{if(!e.current)return;const a=i7.init({container:e.current,height:"100vh",storageManager:!1,plugins:[a7],pluginsOpts:{"gjs-preset-webpage":{}}});t.current=a;const l=localStorage.getItem(`gjs-html-${r}`),u=localStorage.getItem(`gjs-css-${r}`)||"";(l||u)&&(n.current=!0,a.setComponents(l||""),setTimeout(()=>{a.setStyle(u||""),n.current=!1},0));const c=()=>{if(n.current)return;const h=a.getHtml(),g=a.getCss()||"";localStorage.setItem(`gjs-html-${r}`,h),localStorage.setItem(`gjs-css-${r}`,g),L_.emit("element:update",{roomId:r,frame:{html:h,css:g}})};a.once("load",()=>{(l||u)&&(n.current=!0,a.setComponents(l||""),a.setStyle(u||""),n.current=!1),a.on("component:add",c),a.on("component:update",c),console.log("CSS cargado desde localStorage:",u)});const d=a.BlockManager;return d.add("navbar",{label:"Navbar",category:"Layout",attributes:{class:"fa fa-bars"},content:`
        <nav style="background: #333; color: white; padding: 10px; display: flex; justify-content: space-between; align-items: center;">
          <div style="font-weight: bold;">MiLogo</div>
          <div>
            <a href="#" style="color: white; margin: 0 10px; text-decoration: none;">Inicio</a>
            <a href="#" style="color: white; margin: 0 10px; text-decoration: none;">Nosotros</a>
            <a href="#" style="color: white; margin: 0 10px; text-decoration: none;">Contacto</a>
          </div>
        </nav>
      `}),d.add("1-column",{label:"1 Column",category:"Layout",attributes:{class:"fa fa-square-o"},content:'<div style="padding:20px; border: 1px solid #ddd;">1 Column Layout</div>'}),d.add("2-columns",{label:"2 Columns",category:"Layout",attributes:{class:"fa fa-columns"},content:`<div style="display:flex; gap:10px;">
                  <div style="flex:1; border:1px solid #ddd; padding:10px;">Column 1</div>
                  <div style="flex:1; border:1px solid #ddd; padding:10px;">Column 2</div>
                </div>`}),d.add("button",{label:"Button",category:"Basic",attributes:{class:"fa fa-hand-pointer-o"},content:'<button style="padding:10px 15px; background:#007bff; color:white; border:none; border-radius:3px;">Click me</button>'}),d.add("image",{label:"Image",category:"Basic",attributes:{class:"fa fa-image"},content:'<img src="https://placehold.co/150x100" alt="Image" style="max-width:100%"/>'}),d.add("input",{label:"Input",category:"Form",attributes:{class:"fa fa-i-cursor"},content:'<input type="text" placeholder="Enter text" style="padding: 8px; width: 100%;"/>'}),d.add("table",{label:"Table",category:"Basic",attributes:{class:"fa fa-table"},content:`
        <table style="width: 100%; border-collapse: collapse; border: 1px solid #ddd;">
          <tr>
            <th style="border:1px solid #ddd; padding:8px;">Header 1</th>
            <th style="border:1px solid #ddd; padding:8px;">Header 2</th>
          </tr>
          <tr>
            <td style="border:1px solid #ddd; padding:8px;">Cell 1</td>
            <td style="border:1px solid #ddd; padding:8px;">Cell 2</td>
          </tr>
        </table>
      `}),d.add("mi-bloque",{label:"Mi bloque",category:"Basic",attributes:{class:"fa fa-cube"},content:'<div style="padding:20px; background: #f0f0f0;">¡Hola mundo!</div>'}),o(!0),()=>a.destroy()},[r]),Nt.useEffect(()=>{const a=t.current;if(!a)return;const l=({frame:u})=>{if(!(u!=null&&u.html))return;const c=a.getHtml(),d=a.getCss(),h=c.trim()===u.html.trim(),g=(d||"").trim()===(u.css||"").trim();h&&g||(n.current=!0,a.setComponents(u.html||""),a.setStyle(u.css||""),n.current=!1,console.log("🔄 Diseño recibido desde socket"))};return()=>{L_.off("element:update",l)}},[r]),Yt.jsx("div",{ref:e,style:{flex:1}})}function qh(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Fk={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(r,e){(function(t){r.exports=t()})(function(){return function t(n,i,o){function a(c,d){if(!i[c]){if(!n[c]){var h=typeof qh=="function"&&qh;if(!d&&h)return h(c,!0);if(l)return l(c,!0);var g=new Error("Cannot find module '"+c+"'");throw g.code="MODULE_NOT_FOUND",g}var m=i[c]={exports:{}};n[c][0].call(m.exports,function(_){var b=n[c][1][_];return a(b||_)},m,m.exports,t,n,i,o)}return i[c].exports}for(var l=typeof qh=="function"&&qh,u=0;u<o.length;u++)a(o[u]);return a}({1:[function(t,n,i){var o=t("./utils"),a=t("./support"),l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(u){for(var c,d,h,g,m,_,b,C=[],w=0,x=u.length,O=x,k=o.getTypeOf(u)!=="string";w<u.length;)O=x-w,h=k?(c=u[w++],d=w<x?u[w++]:0,w<x?u[w++]:0):(c=u.charCodeAt(w++),d=w<x?u.charCodeAt(w++):0,w<x?u.charCodeAt(w++):0),g=c>>2,m=(3&c)<<4|d>>4,_=1<O?(15&d)<<2|h>>6:64,b=2<O?63&h:64,C.push(l.charAt(g)+l.charAt(m)+l.charAt(_)+l.charAt(b));return C.join("")},i.decode=function(u){var c,d,h,g,m,_,b=0,C=0,w="data:";if(u.substr(0,w.length)===w)throw new Error("Invalid base64 input, it looks like a data url.");var x,O=3*(u=u.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(u.charAt(u.length-1)===l.charAt(64)&&O--,u.charAt(u.length-2)===l.charAt(64)&&O--,O%1!=0)throw new Error("Invalid base64 input, bad content length.");for(x=a.uint8array?new Uint8Array(0|O):new Array(0|O);b<u.length;)c=l.indexOf(u.charAt(b++))<<2|(g=l.indexOf(u.charAt(b++)))>>4,d=(15&g)<<4|(m=l.indexOf(u.charAt(b++)))>>2,h=(3&m)<<6|(_=l.indexOf(u.charAt(b++))),x[C++]=c,m!==64&&(x[C++]=d),_!==64&&(x[C++]=h);return x}},{"./support":30,"./utils":32}],2:[function(t,n,i){var o=t("./external"),a=t("./stream/DataWorker"),l=t("./stream/Crc32Probe"),u=t("./stream/DataLengthProbe");function c(d,h,g,m,_){this.compressedSize=d,this.uncompressedSize=h,this.crc32=g,this.compression=m,this.compressedContent=_}c.prototype={getContentWorker:function(){var d=new a(o.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new u("data_length")),h=this;return d.on("end",function(){if(this.streamInfo.data_length!==h.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),d},getCompressedWorker:function(){return new a(o.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},c.createWorkerFrom=function(d,h,g){return d.pipe(new l).pipe(new u("uncompressedSize")).pipe(h.compressWorker(g)).pipe(new u("compressedSize")).withStreamInfo("compression",h)},n.exports=c},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,n,i){var o=t("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new o("STORE compression")},uncompressWorker:function(){return new o("STORE decompression")}},i.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,n,i){var o=t("./utils"),a=function(){for(var l,u=[],c=0;c<256;c++){l=c;for(var d=0;d<8;d++)l=1&l?3988292384^l>>>1:l>>>1;u[c]=l}return u}();n.exports=function(l,u){return l!==void 0&&l.length?o.getTypeOf(l)!=="string"?function(c,d,h,g){var m=a,_=g+h;c^=-1;for(var b=g;b<_;b++)c=c>>>8^m[255&(c^d[b])];return-1^c}(0|u,l,l.length,0):function(c,d,h,g){var m=a,_=g+h;c^=-1;for(var b=g;b<_;b++)c=c>>>8^m[255&(c^d.charCodeAt(b))];return-1^c}(0|u,l,l.length,0):0}},{"./utils":32}],5:[function(t,n,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(t,n,i){var o=null;o=typeof Promise<"u"?Promise:t("lie"),n.exports={Promise:o}},{lie:37}],7:[function(t,n,i){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",a=t("pako"),l=t("./utils"),u=t("./stream/GenericWorker"),c=o?"uint8array":"array";function d(h,g){u.call(this,"FlateWorker/"+h),this._pako=null,this._pakoAction=h,this._pakoOptions=g,this.meta={}}i.magic="\b\0",l.inherits(d,u),d.prototype.processChunk=function(h){this.meta=h.meta,this._pako===null&&this._createPako(),this._pako.push(l.transformTo(c,h.data),!1)},d.prototype.flush=function(){u.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},d.prototype.cleanUp=function(){u.prototype.cleanUp.call(this),this._pako=null},d.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var h=this;this._pako.onData=function(g){h.push({data:g,meta:h.meta})}},i.compressWorker=function(h){return new d("Deflate",h)},i.uncompressWorker=function(){return new d("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,n,i){function o(m,_){var b,C="";for(b=0;b<_;b++)C+=String.fromCharCode(255&m),m>>>=8;return C}function a(m,_,b,C,w,x){var O,k,V=m.file,Z=m.compression,$=x!==c.utf8encode,Y=l.transformTo("string",x(V.name)),U=l.transformTo("string",c.utf8encode(V.name)),Q=V.comment,H=l.transformTo("string",x(Q)),D=l.transformTo("string",c.utf8encode(Q)),I=U.length!==V.name.length,T=D.length!==Q.length,tt="",M="",ot="",dt=V.dir,pt=V.date,Dt={crc32:0,compressedSize:0,uncompressedSize:0};_&&!b||(Dt.crc32=m.crc32,Dt.compressedSize=m.compressedSize,Dt.uncompressedSize=m.uncompressedSize);var _t=0;_&&(_t|=8),$||!I&&!T||(_t|=2048);var rt=0,At=0;dt&&(rt|=16),w==="UNIX"?(At=798,rt|=function(Tt,$t){var zt=Tt;return Tt||(zt=$t?16893:33204),(65535&zt)<<16}(V.unixPermissions,dt)):(At=20,rt|=function(Tt){return 63&(Tt||0)}(V.dosPermissions)),O=pt.getUTCHours(),O<<=6,O|=pt.getUTCMinutes(),O<<=5,O|=pt.getUTCSeconds()/2,k=pt.getUTCFullYear()-1980,k<<=4,k|=pt.getUTCMonth()+1,k<<=5,k|=pt.getUTCDate(),I&&(M=o(1,1)+o(d(Y),4)+U,tt+="up"+o(M.length,2)+M),T&&(ot=o(1,1)+o(d(H),4)+D,tt+="uc"+o(ot.length,2)+ot);var mt="";return mt+=`
\0`,mt+=o(_t,2),mt+=Z.magic,mt+=o(O,2),mt+=o(k,2),mt+=o(Dt.crc32,4),mt+=o(Dt.compressedSize,4),mt+=o(Dt.uncompressedSize,4),mt+=o(Y.length,2),mt+=o(tt.length,2),{fileRecord:h.LOCAL_FILE_HEADER+mt+Y+tt,dirRecord:h.CENTRAL_FILE_HEADER+o(At,2)+mt+o(H.length,2)+"\0\0\0\0"+o(rt,4)+o(C,4)+Y+tt+H}}var l=t("../utils"),u=t("../stream/GenericWorker"),c=t("../utf8"),d=t("../crc32"),h=t("../signature");function g(m,_,b,C){u.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=_,this.zipPlatform=b,this.encodeFileName=C,this.streamFiles=m,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}l.inherits(g,u),g.prototype.push=function(m){var _=m.meta.percent||0,b=this.entriesCount,C=this._sources.length;this.accumulate?this.contentBuffer.push(m):(this.bytesWritten+=m.data.length,u.prototype.push.call(this,{data:m.data,meta:{currentFile:this.currentFile,percent:b?(_+100*(b-C-1))/b:100}}))},g.prototype.openedSource=function(m){this.currentSourceOffset=this.bytesWritten,this.currentFile=m.file.name;var _=this.streamFiles&&!m.file.dir;if(_){var b=a(m,_,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:b.fileRecord,meta:{percent:0}})}else this.accumulate=!0},g.prototype.closedSource=function(m){this.accumulate=!1;var _=this.streamFiles&&!m.file.dir,b=a(m,_,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(b.dirRecord),_)this.push({data:function(C){return h.DATA_DESCRIPTOR+o(C.crc32,4)+o(C.compressedSize,4)+o(C.uncompressedSize,4)}(m),meta:{percent:100}});else for(this.push({data:b.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},g.prototype.flush=function(){for(var m=this.bytesWritten,_=0;_<this.dirRecords.length;_++)this.push({data:this.dirRecords[_],meta:{percent:100}});var b=this.bytesWritten-m,C=function(w,x,O,k,V){var Z=l.transformTo("string",V(k));return h.CENTRAL_DIRECTORY_END+"\0\0\0\0"+o(w,2)+o(w,2)+o(x,4)+o(O,4)+o(Z.length,2)+Z}(this.dirRecords.length,b,m,this.zipComment,this.encodeFileName);this.push({data:C,meta:{percent:100}})},g.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},g.prototype.registerPrevious=function(m){this._sources.push(m);var _=this;return m.on("data",function(b){_.processChunk(b)}),m.on("end",function(){_.closedSource(_.previous.streamInfo),_._sources.length?_.prepareNextSource():_.end()}),m.on("error",function(b){_.error(b)}),this},g.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},g.prototype.error=function(m){var _=this._sources;if(!u.prototype.error.call(this,m))return!1;for(var b=0;b<_.length;b++)try{_[b].error(m)}catch{}return!0},g.prototype.lock=function(){u.prototype.lock.call(this);for(var m=this._sources,_=0;_<m.length;_++)m[_].lock()},n.exports=g},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,n,i){var o=t("../compressions"),a=t("./ZipFileWorker");i.generateWorker=function(l,u,c){var d=new a(u.streamFiles,c,u.platform,u.encodeFileName),h=0;try{l.forEach(function(g,m){h++;var _=function(x,O){var k=x||O,V=o[k];if(!V)throw new Error(k+" is not a valid compression method !");return V}(m.options.compression,u.compression),b=m.options.compressionOptions||u.compressionOptions||{},C=m.dir,w=m.date;m._compressWorker(_,b).withStreamInfo("file",{name:g,dir:C,date:w,comment:m.comment||"",unixPermissions:m.unixPermissions,dosPermissions:m.dosPermissions}).pipe(d)}),d.entriesCount=h}catch(g){d.error(g)}return d}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,n,i){function o(){if(!(this instanceof o))return new o;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var a=new o;for(var l in this)typeof this[l]!="function"&&(a[l]=this[l]);return a}}(o.prototype=t("./object")).loadAsync=t("./load"),o.support=t("./support"),o.defaults=t("./defaults"),o.version="3.10.1",o.loadAsync=function(a,l){return new o().loadAsync(a,l)},o.external=t("./external"),n.exports=o},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,n,i){var o=t("./utils"),a=t("./external"),l=t("./utf8"),u=t("./zipEntries"),c=t("./stream/Crc32Probe"),d=t("./nodejsUtils");function h(g){return new a.Promise(function(m,_){var b=g.decompressed.getContentWorker().pipe(new c);b.on("error",function(C){_(C)}).on("end",function(){b.streamInfo.crc32!==g.decompressed.crc32?_(new Error("Corrupted zip : CRC32 mismatch")):m()}).resume()})}n.exports=function(g,m){var _=this;return m=o.extend(m||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:l.utf8decode}),d.isNode&&d.isStream(g)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):o.prepareContent("the loaded zip file",g,!0,m.optimizedBinaryString,m.base64).then(function(b){var C=new u(m);return C.load(b),C}).then(function(b){var C=[a.Promise.resolve(b)],w=b.files;if(m.checkCRC32)for(var x=0;x<w.length;x++)C.push(h(w[x]));return a.Promise.all(C)}).then(function(b){for(var C=b.shift(),w=C.files,x=0;x<w.length;x++){var O=w[x],k=O.fileNameStr,V=o.resolve(O.fileNameStr);_.file(V,O.decompressed,{binary:!0,optimizedBinaryString:!0,date:O.date,dir:O.dir,comment:O.fileCommentStr.length?O.fileCommentStr:null,unixPermissions:O.unixPermissions,dosPermissions:O.dosPermissions,createFolders:m.createFolders}),O.dir||(_.file(V).unsafeOriginalName=k)}return C.zipComment.length&&(_.comment=C.zipComment),_})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,n,i){var o=t("../utils"),a=t("../stream/GenericWorker");function l(u,c){a.call(this,"Nodejs stream input adapter for "+u),this._upstreamEnded=!1,this._bindStream(c)}o.inherits(l,a),l.prototype._bindStream=function(u){var c=this;(this._stream=u).pause(),u.on("data",function(d){c.push({data:d,meta:{percent:0}})}).on("error",function(d){c.isPaused?this.generatedError=d:c.error(d)}).on("end",function(){c.isPaused?c._upstreamEnded=!0:c.end()})},l.prototype.pause=function(){return!!a.prototype.pause.call(this)&&(this._stream.pause(),!0)},l.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=l},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,n,i){var o=t("readable-stream").Readable;function a(l,u,c){o.call(this,u),this._helper=l;var d=this;l.on("data",function(h,g){d.push(h)||d._helper.pause(),c&&c(g)}).on("error",function(h){d.emit("error",h)}).on("end",function(){d.push(null)})}t("../utils").inherits(a,o),a.prototype._read=function(){this._helper.resume()},n.exports=a},{"../utils":32,"readable-stream":16}],14:[function(t,n,i){n.exports={isNode:typeof Buffer<"u",newBufferFrom:function(o,a){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(o,a);if(typeof o=="number")throw new Error('The "data" argument must not be a number');return new Buffer(o,a)},allocBuffer:function(o){if(Buffer.alloc)return Buffer.alloc(o);var a=new Buffer(o);return a.fill(0),a},isBuffer:function(o){return Buffer.isBuffer(o)},isStream:function(o){return o&&typeof o.on=="function"&&typeof o.pause=="function"&&typeof o.resume=="function"}}},{}],15:[function(t,n,i){function o(V,Z,$){var Y,U=l.getTypeOf(Z),Q=l.extend($||{},d);Q.date=Q.date||new Date,Q.compression!==null&&(Q.compression=Q.compression.toUpperCase()),typeof Q.unixPermissions=="string"&&(Q.unixPermissions=parseInt(Q.unixPermissions,8)),Q.unixPermissions&&16384&Q.unixPermissions&&(Q.dir=!0),Q.dosPermissions&&16&Q.dosPermissions&&(Q.dir=!0),Q.dir&&(V=w(V)),Q.createFolders&&(Y=C(V))&&x.call(this,Y,!0);var H=U==="string"&&Q.binary===!1&&Q.base64===!1;$&&$.binary!==void 0||(Q.binary=!H),(Z instanceof h&&Z.uncompressedSize===0||Q.dir||!Z||Z.length===0)&&(Q.base64=!1,Q.binary=!0,Z="",Q.compression="STORE",U="string");var D=null;D=Z instanceof h||Z instanceof u?Z:_.isNode&&_.isStream(Z)?new b(V,Z):l.prepareContent(V,Z,Q.binary,Q.optimizedBinaryString,Q.base64);var I=new g(V,D,Q);this.files[V]=I}var a=t("./utf8"),l=t("./utils"),u=t("./stream/GenericWorker"),c=t("./stream/StreamHelper"),d=t("./defaults"),h=t("./compressedObject"),g=t("./zipObject"),m=t("./generate"),_=t("./nodejsUtils"),b=t("./nodejs/NodejsStreamInputAdapter"),C=function(V){V.slice(-1)==="/"&&(V=V.substring(0,V.length-1));var Z=V.lastIndexOf("/");return 0<Z?V.substring(0,Z):""},w=function(V){return V.slice(-1)!=="/"&&(V+="/"),V},x=function(V,Z){return Z=Z!==void 0?Z:d.createFolders,V=w(V),this.files[V]||o.call(this,V,null,{dir:!0,createFolders:Z}),this.files[V]};function O(V){return Object.prototype.toString.call(V)==="[object RegExp]"}var k={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(V){var Z,$,Y;for(Z in this.files)Y=this.files[Z],($=Z.slice(this.root.length,Z.length))&&Z.slice(0,this.root.length)===this.root&&V($,Y)},filter:function(V){var Z=[];return this.forEach(function($,Y){V($,Y)&&Z.push(Y)}),Z},file:function(V,Z,$){if(arguments.length!==1)return V=this.root+V,o.call(this,V,Z,$),this;if(O(V)){var Y=V;return this.filter(function(Q,H){return!H.dir&&Y.test(Q)})}var U=this.files[this.root+V];return U&&!U.dir?U:null},folder:function(V){if(!V)return this;if(O(V))return this.filter(function(U,Q){return Q.dir&&V.test(U)});var Z=this.root+V,$=x.call(this,Z),Y=this.clone();return Y.root=$.name,Y},remove:function(V){V=this.root+V;var Z=this.files[V];if(Z||(V.slice(-1)!=="/"&&(V+="/"),Z=this.files[V]),Z&&!Z.dir)delete this.files[V];else for(var $=this.filter(function(U,Q){return Q.name.slice(0,V.length)===V}),Y=0;Y<$.length;Y++)delete this.files[$[Y].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(V){var Z,$={};try{if(($=l.extend(V||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode})).type=$.type.toLowerCase(),$.compression=$.compression.toUpperCase(),$.type==="binarystring"&&($.type="string"),!$.type)throw new Error("No output type specified.");l.checkSupport($.type),$.platform!=="darwin"&&$.platform!=="freebsd"&&$.platform!=="linux"&&$.platform!=="sunos"||($.platform="UNIX"),$.platform==="win32"&&($.platform="DOS");var Y=$.comment||this.comment||"";Z=m.generateWorker(this,$,Y)}catch(U){(Z=new u("error")).error(U)}return new c(Z,$.type||"string",$.mimeType)},generateAsync:function(V,Z){return this.generateInternalStream(V).accumulate(Z)},generateNodeStream:function(V,Z){return(V=V||{}).type||(V.type="nodebuffer"),this.generateInternalStream(V).toNodejsStream(Z)}};n.exports=k},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,n,i){n.exports=t("stream")},{stream:void 0}],17:[function(t,n,i){var o=t("./DataReader");function a(l){o.call(this,l);for(var u=0;u<this.data.length;u++)l[u]=255&l[u]}t("../utils").inherits(a,o),a.prototype.byteAt=function(l){return this.data[this.zero+l]},a.prototype.lastIndexOfSignature=function(l){for(var u=l.charCodeAt(0),c=l.charCodeAt(1),d=l.charCodeAt(2),h=l.charCodeAt(3),g=this.length-4;0<=g;--g)if(this.data[g]===u&&this.data[g+1]===c&&this.data[g+2]===d&&this.data[g+3]===h)return g-this.zero;return-1},a.prototype.readAndCheckSignature=function(l){var u=l.charCodeAt(0),c=l.charCodeAt(1),d=l.charCodeAt(2),h=l.charCodeAt(3),g=this.readData(4);return u===g[0]&&c===g[1]&&d===g[2]&&h===g[3]},a.prototype.readData=function(l){if(this.checkOffset(l),l===0)return[];var u=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,u},n.exports=a},{"../utils":32,"./DataReader":18}],18:[function(t,n,i){var o=t("../utils");function a(l){this.data=l,this.length=l.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(l){this.checkIndex(this.index+l)},checkIndex:function(l){if(this.length<this.zero+l||l<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+l+"). Corrupted zip ?")},setIndex:function(l){this.checkIndex(l),this.index=l},skip:function(l){this.setIndex(this.index+l)},byteAt:function(){},readInt:function(l){var u,c=0;for(this.checkOffset(l),u=this.index+l-1;u>=this.index;u--)c=(c<<8)+this.byteAt(u);return this.index+=l,c},readString:function(l){return o.transformTo("string",this.readData(l))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var l=this.readInt(4);return new Date(Date.UTC(1980+(l>>25&127),(l>>21&15)-1,l>>16&31,l>>11&31,l>>5&63,(31&l)<<1))}},n.exports=a},{"../utils":32}],19:[function(t,n,i){var o=t("./Uint8ArrayReader");function a(l){o.call(this,l)}t("../utils").inherits(a,o),a.prototype.readData=function(l){this.checkOffset(l);var u=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,u},n.exports=a},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,n,i){var o=t("./DataReader");function a(l){o.call(this,l)}t("../utils").inherits(a,o),a.prototype.byteAt=function(l){return this.data.charCodeAt(this.zero+l)},a.prototype.lastIndexOfSignature=function(l){return this.data.lastIndexOf(l)-this.zero},a.prototype.readAndCheckSignature=function(l){return l===this.readData(4)},a.prototype.readData=function(l){this.checkOffset(l);var u=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,u},n.exports=a},{"../utils":32,"./DataReader":18}],21:[function(t,n,i){var o=t("./ArrayReader");function a(l){o.call(this,l)}t("../utils").inherits(a,o),a.prototype.readData=function(l){if(this.checkOffset(l),l===0)return new Uint8Array(0);var u=this.data.subarray(this.zero+this.index,this.zero+this.index+l);return this.index+=l,u},n.exports=a},{"../utils":32,"./ArrayReader":17}],22:[function(t,n,i){var o=t("../utils"),a=t("../support"),l=t("./ArrayReader"),u=t("./StringReader"),c=t("./NodeBufferReader"),d=t("./Uint8ArrayReader");n.exports=function(h){var g=o.getTypeOf(h);return o.checkSupport(g),g!=="string"||a.uint8array?g==="nodebuffer"?new c(h):a.uint8array?new d(o.transformTo("uint8array",h)):new l(o.transformTo("array",h)):new u(h)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,n,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,n,i){var o=t("./GenericWorker"),a=t("../utils");function l(u){o.call(this,"ConvertWorker to "+u),this.destType=u}a.inherits(l,o),l.prototype.processChunk=function(u){this.push({data:a.transformTo(this.destType,u.data),meta:u.meta})},n.exports=l},{"../utils":32,"./GenericWorker":28}],25:[function(t,n,i){var o=t("./GenericWorker"),a=t("../crc32");function l(){o.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(l,o),l.prototype.processChunk=function(u){this.streamInfo.crc32=a(u.data,this.streamInfo.crc32||0),this.push(u)},n.exports=l},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,n,i){var o=t("../utils"),a=t("./GenericWorker");function l(u){a.call(this,"DataLengthProbe for "+u),this.propName=u,this.withStreamInfo(u,0)}o.inherits(l,a),l.prototype.processChunk=function(u){if(u){var c=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=c+u.data.length}a.prototype.processChunk.call(this,u)},n.exports=l},{"../utils":32,"./GenericWorker":28}],27:[function(t,n,i){var o=t("../utils"),a=t("./GenericWorker");function l(u){a.call(this,"DataWorker");var c=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,u.then(function(d){c.dataIsReady=!0,c.data=d,c.max=d&&d.length||0,c.type=o.getTypeOf(d),c.isPaused||c._tickAndRepeat()},function(d){c.error(d)})}o.inherits(l,a),l.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},l.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,o.delay(this._tickAndRepeat,[],this)),!0)},l.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(o.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},l.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var u=null,c=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":u=this.data.substring(this.index,c);break;case"uint8array":u=this.data.subarray(this.index,c);break;case"array":case"nodebuffer":u=this.data.slice(this.index,c)}return this.index=c,this.push({data:u,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=l},{"../utils":32,"./GenericWorker":28}],28:[function(t,n,i){function o(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}o.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return!this.isFinished&&(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,l){return this._listeners[a].push(l),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,l){if(this._listeners[a])for(var u=0;u<this._listeners[a].length;u++)this._listeners[a][u].call(this,l)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var l=this;return a.on("data",function(u){l.processChunk(u)}),a.on("end",function(){l.end()}),a.on("error",function(u){l.error(u)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var a=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),a=!0),this.previous&&this.previous.resume(),!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,l){return this.extraStreamInfo[a]=l,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,a)&&(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},n.exports=o},{}],29:[function(t,n,i){var o=t("../utils"),a=t("./ConvertWorker"),l=t("./GenericWorker"),u=t("../base64"),c=t("../support"),d=t("../external"),h=null;if(c.nodestream)try{h=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function g(_,b){return new d.Promise(function(C,w){var x=[],O=_._internalType,k=_._outputType,V=_._mimeType;_.on("data",function(Z,$){x.push(Z),b&&b($)}).on("error",function(Z){x=[],w(Z)}).on("end",function(){try{var Z=function($,Y,U){switch($){case"blob":return o.newBlob(o.transformTo("arraybuffer",Y),U);case"base64":return u.encode(Y);default:return o.transformTo($,Y)}}(k,function($,Y){var U,Q=0,H=null,D=0;for(U=0;U<Y.length;U++)D+=Y[U].length;switch($){case"string":return Y.join("");case"array":return Array.prototype.concat.apply([],Y);case"uint8array":for(H=new Uint8Array(D),U=0;U<Y.length;U++)H.set(Y[U],Q),Q+=Y[U].length;return H;case"nodebuffer":return Buffer.concat(Y);default:throw new Error("concat : unsupported type '"+$+"'")}}(O,x),V);C(Z)}catch($){w($)}x=[]}).resume()})}function m(_,b,C){var w=b;switch(b){case"blob":case"arraybuffer":w="uint8array";break;case"base64":w="string"}try{this._internalType=w,this._outputType=b,this._mimeType=C,o.checkSupport(w),this._worker=_.pipe(new a(w)),_.lock()}catch(x){this._worker=new l("error"),this._worker.error(x)}}m.prototype={accumulate:function(_){return g(this,_)},on:function(_,b){var C=this;return _==="data"?this._worker.on(_,function(w){b.call(C,w.data,w.meta)}):this._worker.on(_,function(){o.delay(b,arguments,C)}),this},resume:function(){return o.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(_){if(o.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new h(this,{objectMode:this._outputType!=="nodebuffer"},_)}},n.exports=m},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,n,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var o=new ArrayBuffer(0);try{i.blob=new Blob([o],{type:"application/zip"}).size===0}catch{try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);a.append(o),i.blob=a.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!t("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(t,n,i){for(var o=t("./utils"),a=t("./support"),l=t("./nodejsUtils"),u=t("./stream/GenericWorker"),c=new Array(256),d=0;d<256;d++)c[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;c[254]=c[254]=1;function h(){u.call(this,"utf-8 decode"),this.leftOver=null}function g(){u.call(this,"utf-8 encode")}i.utf8encode=function(m){return a.nodebuffer?l.newBufferFrom(m,"utf-8"):function(_){var b,C,w,x,O,k=_.length,V=0;for(x=0;x<k;x++)(64512&(C=_.charCodeAt(x)))==55296&&x+1<k&&(64512&(w=_.charCodeAt(x+1)))==56320&&(C=65536+(C-55296<<10)+(w-56320),x++),V+=C<128?1:C<2048?2:C<65536?3:4;for(b=a.uint8array?new Uint8Array(V):new Array(V),x=O=0;O<V;x++)(64512&(C=_.charCodeAt(x)))==55296&&x+1<k&&(64512&(w=_.charCodeAt(x+1)))==56320&&(C=65536+(C-55296<<10)+(w-56320),x++),C<128?b[O++]=C:(C<2048?b[O++]=192|C>>>6:(C<65536?b[O++]=224|C>>>12:(b[O++]=240|C>>>18,b[O++]=128|C>>>12&63),b[O++]=128|C>>>6&63),b[O++]=128|63&C);return b}(m)},i.utf8decode=function(m){return a.nodebuffer?o.transformTo("nodebuffer",m).toString("utf-8"):function(_){var b,C,w,x,O=_.length,k=new Array(2*O);for(b=C=0;b<O;)if((w=_[b++])<128)k[C++]=w;else if(4<(x=c[w]))k[C++]=65533,b+=x-1;else{for(w&=x===2?31:x===3?15:7;1<x&&b<O;)w=w<<6|63&_[b++],x--;1<x?k[C++]=65533:w<65536?k[C++]=w:(w-=65536,k[C++]=55296|w>>10&1023,k[C++]=56320|1023&w)}return k.length!==C&&(k.subarray?k=k.subarray(0,C):k.length=C),o.applyFromCharCode(k)}(m=o.transformTo(a.uint8array?"uint8array":"array",m))},o.inherits(h,u),h.prototype.processChunk=function(m){var _=o.transformTo(a.uint8array?"uint8array":"array",m.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var b=_;(_=new Uint8Array(b.length+this.leftOver.length)).set(this.leftOver,0),_.set(b,this.leftOver.length)}else _=this.leftOver.concat(_);this.leftOver=null}var C=function(x,O){var k;for((O=O||x.length)>x.length&&(O=x.length),k=O-1;0<=k&&(192&x[k])==128;)k--;return k<0||k===0?O:k+c[x[k]]>O?k:O}(_),w=_;C!==_.length&&(a.uint8array?(w=_.subarray(0,C),this.leftOver=_.subarray(C,_.length)):(w=_.slice(0,C),this.leftOver=_.slice(C,_.length))),this.push({data:i.utf8decode(w),meta:m.meta})},h.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=h,o.inherits(g,u),g.prototype.processChunk=function(m){this.push({data:i.utf8encode(m.data),meta:m.meta})},i.Utf8EncodeWorker=g},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,n,i){var o=t("./support"),a=t("./base64"),l=t("./nodejsUtils"),u=t("./external");function c(b){return b}function d(b,C){for(var w=0;w<b.length;++w)C[w]=255&b.charCodeAt(w);return C}t("setimmediate"),i.newBlob=function(b,C){i.checkSupport("blob");try{return new Blob([b],{type:C})}catch{try{var w=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return w.append(b),w.getBlob(C)}catch{throw new Error("Bug : can't construct the Blob.")}}};var h={stringifyByChunk:function(b,C,w){var x=[],O=0,k=b.length;if(k<=w)return String.fromCharCode.apply(null,b);for(;O<k;)C==="array"||C==="nodebuffer"?x.push(String.fromCharCode.apply(null,b.slice(O,Math.min(O+w,k)))):x.push(String.fromCharCode.apply(null,b.subarray(O,Math.min(O+w,k)))),O+=w;return x.join("")},stringifyByChar:function(b){for(var C="",w=0;w<b.length;w++)C+=String.fromCharCode(b[w]);return C},applyCanBeUsed:{uint8array:function(){try{return o.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return o.nodebuffer&&String.fromCharCode.apply(null,l.allocBuffer(1)).length===1}catch{return!1}}()}};function g(b){var C=65536,w=i.getTypeOf(b),x=!0;if(w==="uint8array"?x=h.applyCanBeUsed.uint8array:w==="nodebuffer"&&(x=h.applyCanBeUsed.nodebuffer),x)for(;1<C;)try{return h.stringifyByChunk(b,w,C)}catch{C=Math.floor(C/2)}return h.stringifyByChar(b)}function m(b,C){for(var w=0;w<b.length;w++)C[w]=b[w];return C}i.applyFromCharCode=g;var _={};_.string={string:c,array:function(b){return d(b,new Array(b.length))},arraybuffer:function(b){return _.string.uint8array(b).buffer},uint8array:function(b){return d(b,new Uint8Array(b.length))},nodebuffer:function(b){return d(b,l.allocBuffer(b.length))}},_.array={string:g,array:c,arraybuffer:function(b){return new Uint8Array(b).buffer},uint8array:function(b){return new Uint8Array(b)},nodebuffer:function(b){return l.newBufferFrom(b)}},_.arraybuffer={string:function(b){return g(new Uint8Array(b))},array:function(b){return m(new Uint8Array(b),new Array(b.byteLength))},arraybuffer:c,uint8array:function(b){return new Uint8Array(b)},nodebuffer:function(b){return l.newBufferFrom(new Uint8Array(b))}},_.uint8array={string:g,array:function(b){return m(b,new Array(b.length))},arraybuffer:function(b){return b.buffer},uint8array:c,nodebuffer:function(b){return l.newBufferFrom(b)}},_.nodebuffer={string:g,array:function(b){return m(b,new Array(b.length))},arraybuffer:function(b){return _.nodebuffer.uint8array(b).buffer},uint8array:function(b){return m(b,new Uint8Array(b.length))},nodebuffer:c},i.transformTo=function(b,C){if(C=C||"",!b)return C;i.checkSupport(b);var w=i.getTypeOf(C);return _[w][b](C)},i.resolve=function(b){for(var C=b.split("/"),w=[],x=0;x<C.length;x++){var O=C[x];O==="."||O===""&&x!==0&&x!==C.length-1||(O===".."?w.pop():w.push(O))}return w.join("/")},i.getTypeOf=function(b){return typeof b=="string"?"string":Object.prototype.toString.call(b)==="[object Array]"?"array":o.nodebuffer&&l.isBuffer(b)?"nodebuffer":o.uint8array&&b instanceof Uint8Array?"uint8array":o.arraybuffer&&b instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(b){if(!o[b.toLowerCase()])throw new Error(b+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(b){var C,w,x="";for(w=0;w<(b||"").length;w++)x+="\\x"+((C=b.charCodeAt(w))<16?"0":"")+C.toString(16).toUpperCase();return x},i.delay=function(b,C,w){setImmediate(function(){b.apply(w||null,C||[])})},i.inherits=function(b,C){function w(){}w.prototype=C.prototype,b.prototype=new w},i.extend=function(){var b,C,w={};for(b=0;b<arguments.length;b++)for(C in arguments[b])Object.prototype.hasOwnProperty.call(arguments[b],C)&&w[C]===void 0&&(w[C]=arguments[b][C]);return w},i.prepareContent=function(b,C,w,x,O){return u.Promise.resolve(C).then(function(k){return o.blob&&(k instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(k))!==-1)&&typeof FileReader<"u"?new u.Promise(function(V,Z){var $=new FileReader;$.onload=function(Y){V(Y.target.result)},$.onerror=function(Y){Z(Y.target.error)},$.readAsArrayBuffer(k)}):k}).then(function(k){var V=i.getTypeOf(k);return V?(V==="arraybuffer"?k=i.transformTo("uint8array",k):V==="string"&&(O?k=a.decode(k):w&&x!==!0&&(k=function(Z){return d(Z,o.uint8array?new Uint8Array(Z.length):new Array(Z.length))}(k))),k):u.Promise.reject(new Error("Can't read the data of '"+b+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,n,i){var o=t("./reader/readerFor"),a=t("./utils"),l=t("./signature"),u=t("./zipEntry"),c=t("./support");function d(h){this.files=[],this.loadOptions=h}d.prototype={checkSignature:function(h){if(!this.reader.readAndCheckSignature(h)){this.reader.index-=4;var g=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(g)+", expected "+a.pretty(h)+")")}},isSignature:function(h,g){var m=this.reader.index;this.reader.setIndex(h);var _=this.reader.readString(4)===g;return this.reader.setIndex(m),_},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var h=this.reader.readData(this.zipCommentLength),g=c.uint8array?"uint8array":"array",m=a.transformTo(g,h);this.zipComment=this.loadOptions.decodeFileName(m)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var h,g,m,_=this.zip64EndOfCentralSize-44;0<_;)h=this.reader.readInt(2),g=this.reader.readInt(4),m=this.reader.readData(g),this.zip64ExtensibleData[h]={id:h,length:g,value:m}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var h,g;for(h=0;h<this.files.length;h++)g=this.files[h],this.reader.setIndex(g.localHeaderOffset),this.checkSignature(l.LOCAL_FILE_HEADER),g.readLocalPart(this.reader),g.handleUTF8(),g.processAttributes()},readCentralDir:function(){var h;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(l.CENTRAL_FILE_HEADER);)(h=new u({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(h);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var h=this.reader.lastIndexOfSignature(l.CENTRAL_DIRECTORY_END);if(h<0)throw this.isSignature(0,l.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(h);var g=h;if(this.checkSignature(l.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,(h=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(h),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,l.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var m=this.centralDirOffset+this.centralDirSize;this.zip64&&(m+=20,m+=12+this.zip64EndOfCentralSize);var _=g-m;if(0<_)this.isSignature(g,l.CENTRAL_FILE_HEADER)||(this.reader.zero=_);else if(_<0)throw new Error("Corrupted zip: missing "+Math.abs(_)+" bytes.")},prepareReader:function(h){this.reader=o(h)},load:function(h){this.prepareReader(h),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=d},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,n,i){var o=t("./reader/readerFor"),a=t("./utils"),l=t("./compressedObject"),u=t("./crc32"),c=t("./utf8"),d=t("./compressions"),h=t("./support");function g(m,_){this.options=m,this.loadOptions=_}g.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(m){var _,b;if(m.skip(22),this.fileNameLength=m.readInt(2),b=m.readInt(2),this.fileName=m.readData(this.fileNameLength),m.skip(b),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((_=function(C){for(var w in d)if(Object.prototype.hasOwnProperty.call(d,w)&&d[w].magic===C)return d[w];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new l(this.compressedSize,this.uncompressedSize,this.crc32,_,m.readData(this.compressedSize))},readCentralPart:function(m){this.versionMadeBy=m.readInt(2),m.skip(2),this.bitFlag=m.readInt(2),this.compressionMethod=m.readString(2),this.date=m.readDate(),this.crc32=m.readInt(4),this.compressedSize=m.readInt(4),this.uncompressedSize=m.readInt(4);var _=m.readInt(2);if(this.extraFieldsLength=m.readInt(2),this.fileCommentLength=m.readInt(2),this.diskNumberStart=m.readInt(2),this.internalFileAttributes=m.readInt(2),this.externalFileAttributes=m.readInt(4),this.localHeaderOffset=m.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");m.skip(_),this.readExtraFields(m),this.parseZIP64ExtraField(m),this.fileComment=m.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var m=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),m==0&&(this.dosPermissions=63&this.externalFileAttributes),m==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var m=o(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=m.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=m.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=m.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=m.readInt(4))}},readExtraFields:function(m){var _,b,C,w=m.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});m.index+4<w;)_=m.readInt(2),b=m.readInt(2),C=m.readData(b),this.extraFields[_]={id:_,length:b,value:C};m.setIndex(w)},handleUTF8:function(){var m=h.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=c.utf8decode(this.fileName),this.fileCommentStr=c.utf8decode(this.fileComment);else{var _=this.findExtraFieldUnicodePath();if(_!==null)this.fileNameStr=_;else{var b=a.transformTo(m,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(b)}var C=this.findExtraFieldUnicodeComment();if(C!==null)this.fileCommentStr=C;else{var w=a.transformTo(m,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(w)}}},findExtraFieldUnicodePath:function(){var m=this.extraFields[28789];if(m){var _=o(m.value);return _.readInt(1)!==1||u(this.fileName)!==_.readInt(4)?null:c.utf8decode(_.readData(m.length-5))}return null},findExtraFieldUnicodeComment:function(){var m=this.extraFields[25461];if(m){var _=o(m.value);return _.readInt(1)!==1||u(this.fileComment)!==_.readInt(4)?null:c.utf8decode(_.readData(m.length-5))}return null}},n.exports=g},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,n,i){function o(_,b,C){this.name=_,this.dir=C.dir,this.date=C.date,this.comment=C.comment,this.unixPermissions=C.unixPermissions,this.dosPermissions=C.dosPermissions,this._data=b,this._dataBinary=C.binary,this.options={compression:C.compression,compressionOptions:C.compressionOptions}}var a=t("./stream/StreamHelper"),l=t("./stream/DataWorker"),u=t("./utf8"),c=t("./compressedObject"),d=t("./stream/GenericWorker");o.prototype={internalStream:function(_){var b=null,C="string";try{if(!_)throw new Error("No output type specified.");var w=(C=_.toLowerCase())==="string"||C==="text";C!=="binarystring"&&C!=="text"||(C="string"),b=this._decompressWorker();var x=!this._dataBinary;x&&!w&&(b=b.pipe(new u.Utf8EncodeWorker)),!x&&w&&(b=b.pipe(new u.Utf8DecodeWorker))}catch(O){(b=new d("error")).error(O)}return new a(b,C,"")},async:function(_,b){return this.internalStream(_).accumulate(b)},nodeStream:function(_,b){return this.internalStream(_||"nodebuffer").toNodejsStream(b)},_compressWorker:function(_,b){if(this._data instanceof c&&this._data.compression.magic===_.magic)return this._data.getCompressedWorker();var C=this._decompressWorker();return this._dataBinary||(C=C.pipe(new u.Utf8EncodeWorker)),c.createWorkerFrom(C,_,b)},_decompressWorker:function(){return this._data instanceof c?this._data.getContentWorker():this._data instanceof d?this._data:new l(this._data)}};for(var h=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],g=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},m=0;m<h.length;m++)o.prototype[h[m]]=g;n.exports=o},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,n,i){(function(o){var a,l,u=o.MutationObserver||o.WebKitMutationObserver;if(u){var c=0,d=new u(_),h=o.document.createTextNode("");d.observe(h,{characterData:!0}),a=function(){h.data=c=++c%2}}else if(o.setImmediate||o.MessageChannel===void 0)a="document"in o&&"onreadystatechange"in o.document.createElement("script")?function(){var b=o.document.createElement("script");b.onreadystatechange=function(){_(),b.onreadystatechange=null,b.parentNode.removeChild(b),b=null},o.document.documentElement.appendChild(b)}:function(){setTimeout(_,0)};else{var g=new o.MessageChannel;g.port1.onmessage=_,a=function(){g.port2.postMessage(0)}}var m=[];function _(){var b,C;l=!0;for(var w=m.length;w;){for(C=m,m=[],b=-1;++b<w;)C[b]();w=m.length}l=!1}n.exports=function(b){m.push(b)!==1||l||a()}}).call(this,typeof Do<"u"?Do:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,n,i){var o=t("immediate");function a(){}var l={},u=["REJECTED"],c=["FULFILLED"],d=["PENDING"];function h(w){if(typeof w!="function")throw new TypeError("resolver must be a function");this.state=d,this.queue=[],this.outcome=void 0,w!==a&&b(this,w)}function g(w,x,O){this.promise=w,typeof x=="function"&&(this.onFulfilled=x,this.callFulfilled=this.otherCallFulfilled),typeof O=="function"&&(this.onRejected=O,this.callRejected=this.otherCallRejected)}function m(w,x,O){o(function(){var k;try{k=x(O)}catch(V){return l.reject(w,V)}k===w?l.reject(w,new TypeError("Cannot resolve promise with itself")):l.resolve(w,k)})}function _(w){var x=w&&w.then;if(w&&(typeof w=="object"||typeof w=="function")&&typeof x=="function")return function(){x.apply(w,arguments)}}function b(w,x){var O=!1;function k($){O||(O=!0,l.reject(w,$))}function V($){O||(O=!0,l.resolve(w,$))}var Z=C(function(){x(V,k)});Z.status==="error"&&k(Z.value)}function C(w,x){var O={};try{O.value=w(x),O.status="success"}catch(k){O.status="error",O.value=k}return O}(n.exports=h).prototype.finally=function(w){if(typeof w!="function")return this;var x=this.constructor;return this.then(function(O){return x.resolve(w()).then(function(){return O})},function(O){return x.resolve(w()).then(function(){throw O})})},h.prototype.catch=function(w){return this.then(null,w)},h.prototype.then=function(w,x){if(typeof w!="function"&&this.state===c||typeof x!="function"&&this.state===u)return this;var O=new this.constructor(a);return this.state!==d?m(O,this.state===c?w:x,this.outcome):this.queue.push(new g(O,w,x)),O},g.prototype.callFulfilled=function(w){l.resolve(this.promise,w)},g.prototype.otherCallFulfilled=function(w){m(this.promise,this.onFulfilled,w)},g.prototype.callRejected=function(w){l.reject(this.promise,w)},g.prototype.otherCallRejected=function(w){m(this.promise,this.onRejected,w)},l.resolve=function(w,x){var O=C(_,x);if(O.status==="error")return l.reject(w,O.value);var k=O.value;if(k)b(w,k);else{w.state=c,w.outcome=x;for(var V=-1,Z=w.queue.length;++V<Z;)w.queue[V].callFulfilled(x)}return w},l.reject=function(w,x){w.state=u,w.outcome=x;for(var O=-1,k=w.queue.length;++O<k;)w.queue[O].callRejected(x);return w},h.resolve=function(w){return w instanceof this?w:l.resolve(new this(a),w)},h.reject=function(w){var x=new this(a);return l.reject(x,w)},h.all=function(w){var x=this;if(Object.prototype.toString.call(w)!=="[object Array]")return this.reject(new TypeError("must be an array"));var O=w.length,k=!1;if(!O)return this.resolve([]);for(var V=new Array(O),Z=0,$=-1,Y=new this(a);++$<O;)U(w[$],$);return Y;function U(Q,H){x.resolve(Q).then(function(D){V[H]=D,++Z!==O||k||(k=!0,l.resolve(Y,V))},function(D){k||(k=!0,l.reject(Y,D))})}},h.race=function(w){var x=this;if(Object.prototype.toString.call(w)!=="[object Array]")return this.reject(new TypeError("must be an array"));var O=w.length,k=!1;if(!O)return this.resolve([]);for(var V=-1,Z=new this(a);++V<O;)$=w[V],x.resolve($).then(function(Y){k||(k=!0,l.resolve(Z,Y))},function(Y){k||(k=!0,l.reject(Z,Y))});var $;return Z}},{immediate:36}],38:[function(t,n,i){var o={};(0,t("./lib/utils/common").assign)(o,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),n.exports=o},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,n,i){var o=t("./zlib/deflate"),a=t("./utils/common"),l=t("./utils/strings"),u=t("./zlib/messages"),c=t("./zlib/zstream"),d=Object.prototype.toString,h=0,g=-1,m=0,_=8;function b(w){if(!(this instanceof b))return new b(w);this.options=a.assign({level:g,method:_,chunkSize:16384,windowBits:15,memLevel:8,strategy:m,to:""},w||{});var x=this.options;x.raw&&0<x.windowBits?x.windowBits=-x.windowBits:x.gzip&&0<x.windowBits&&x.windowBits<16&&(x.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var O=o.deflateInit2(this.strm,x.level,x.method,x.windowBits,x.memLevel,x.strategy);if(O!==h)throw new Error(u[O]);if(x.header&&o.deflateSetHeader(this.strm,x.header),x.dictionary){var k;if(k=typeof x.dictionary=="string"?l.string2buf(x.dictionary):d.call(x.dictionary)==="[object ArrayBuffer]"?new Uint8Array(x.dictionary):x.dictionary,(O=o.deflateSetDictionary(this.strm,k))!==h)throw new Error(u[O]);this._dict_set=!0}}function C(w,x){var O=new b(x);if(O.push(w,!0),O.err)throw O.msg||u[O.err];return O.result}b.prototype.push=function(w,x){var O,k,V=this.strm,Z=this.options.chunkSize;if(this.ended)return!1;k=x===~~x?x:x===!0?4:0,typeof w=="string"?V.input=l.string2buf(w):d.call(w)==="[object ArrayBuffer]"?V.input=new Uint8Array(w):V.input=w,V.next_in=0,V.avail_in=V.input.length;do{if(V.avail_out===0&&(V.output=new a.Buf8(Z),V.next_out=0,V.avail_out=Z),(O=o.deflate(V,k))!==1&&O!==h)return this.onEnd(O),!(this.ended=!0);V.avail_out!==0&&(V.avail_in!==0||k!==4&&k!==2)||(this.options.to==="string"?this.onData(l.buf2binstring(a.shrinkBuf(V.output,V.next_out))):this.onData(a.shrinkBuf(V.output,V.next_out)))}while((0<V.avail_in||V.avail_out===0)&&O!==1);return k===4?(O=o.deflateEnd(this.strm),this.onEnd(O),this.ended=!0,O===h):k!==2||(this.onEnd(h),!(V.avail_out=0))},b.prototype.onData=function(w){this.chunks.push(w)},b.prototype.onEnd=function(w){w===h&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=w,this.msg=this.strm.msg},i.Deflate=b,i.deflate=C,i.deflateRaw=function(w,x){return(x=x||{}).raw=!0,C(w,x)},i.gzip=function(w,x){return(x=x||{}).gzip=!0,C(w,x)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,n,i){var o=t("./zlib/inflate"),a=t("./utils/common"),l=t("./utils/strings"),u=t("./zlib/constants"),c=t("./zlib/messages"),d=t("./zlib/zstream"),h=t("./zlib/gzheader"),g=Object.prototype.toString;function m(b){if(!(this instanceof m))return new m(b);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},b||{});var C=this.options;C.raw&&0<=C.windowBits&&C.windowBits<16&&(C.windowBits=-C.windowBits,C.windowBits===0&&(C.windowBits=-15)),!(0<=C.windowBits&&C.windowBits<16)||b&&b.windowBits||(C.windowBits+=32),15<C.windowBits&&C.windowBits<48&&!(15&C.windowBits)&&(C.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var w=o.inflateInit2(this.strm,C.windowBits);if(w!==u.Z_OK)throw new Error(c[w]);this.header=new h,o.inflateGetHeader(this.strm,this.header)}function _(b,C){var w=new m(C);if(w.push(b,!0),w.err)throw w.msg||c[w.err];return w.result}m.prototype.push=function(b,C){var w,x,O,k,V,Z,$=this.strm,Y=this.options.chunkSize,U=this.options.dictionary,Q=!1;if(this.ended)return!1;x=C===~~C?C:C===!0?u.Z_FINISH:u.Z_NO_FLUSH,typeof b=="string"?$.input=l.binstring2buf(b):g.call(b)==="[object ArrayBuffer]"?$.input=new Uint8Array(b):$.input=b,$.next_in=0,$.avail_in=$.input.length;do{if($.avail_out===0&&($.output=new a.Buf8(Y),$.next_out=0,$.avail_out=Y),(w=o.inflate($,u.Z_NO_FLUSH))===u.Z_NEED_DICT&&U&&(Z=typeof U=="string"?l.string2buf(U):g.call(U)==="[object ArrayBuffer]"?new Uint8Array(U):U,w=o.inflateSetDictionary(this.strm,Z)),w===u.Z_BUF_ERROR&&Q===!0&&(w=u.Z_OK,Q=!1),w!==u.Z_STREAM_END&&w!==u.Z_OK)return this.onEnd(w),!(this.ended=!0);$.next_out&&($.avail_out!==0&&w!==u.Z_STREAM_END&&($.avail_in!==0||x!==u.Z_FINISH&&x!==u.Z_SYNC_FLUSH)||(this.options.to==="string"?(O=l.utf8border($.output,$.next_out),k=$.next_out-O,V=l.buf2string($.output,O),$.next_out=k,$.avail_out=Y-k,k&&a.arraySet($.output,$.output,O,k,0),this.onData(V)):this.onData(a.shrinkBuf($.output,$.next_out)))),$.avail_in===0&&$.avail_out===0&&(Q=!0)}while((0<$.avail_in||$.avail_out===0)&&w!==u.Z_STREAM_END);return w===u.Z_STREAM_END&&(x=u.Z_FINISH),x===u.Z_FINISH?(w=o.inflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===u.Z_OK):x!==u.Z_SYNC_FLUSH||(this.onEnd(u.Z_OK),!($.avail_out=0))},m.prototype.onData=function(b){this.chunks.push(b)},m.prototype.onEnd=function(b){b===u.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=b,this.msg=this.strm.msg},i.Inflate=m,i.inflate=_,i.inflateRaw=function(b,C){return(C=C||{}).raw=!0,_(b,C)},i.ungzip=_},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,n,i){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(u){for(var c=Array.prototype.slice.call(arguments,1);c.length;){var d=c.shift();if(d){if(typeof d!="object")throw new TypeError(d+"must be non-object");for(var h in d)d.hasOwnProperty(h)&&(u[h]=d[h])}}return u},i.shrinkBuf=function(u,c){return u.length===c?u:u.subarray?u.subarray(0,c):(u.length=c,u)};var a={arraySet:function(u,c,d,h,g){if(c.subarray&&u.subarray)u.set(c.subarray(d,d+h),g);else for(var m=0;m<h;m++)u[g+m]=c[d+m]},flattenChunks:function(u){var c,d,h,g,m,_;for(c=h=0,d=u.length;c<d;c++)h+=u[c].length;for(_=new Uint8Array(h),c=g=0,d=u.length;c<d;c++)m=u[c],_.set(m,g),g+=m.length;return _}},l={arraySet:function(u,c,d,h,g){for(var m=0;m<h;m++)u[g+m]=c[d+m]},flattenChunks:function(u){return[].concat.apply([],u)}};i.setTyped=function(u){u?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,a)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,l))},i.setTyped(o)},{}],42:[function(t,n,i){var o=t("./common"),a=!0,l=!0;try{String.fromCharCode.apply(null,[0])}catch{a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{l=!1}for(var u=new o.Buf8(256),c=0;c<256;c++)u[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function d(h,g){if(g<65537&&(h.subarray&&l||!h.subarray&&a))return String.fromCharCode.apply(null,o.shrinkBuf(h,g));for(var m="",_=0;_<g;_++)m+=String.fromCharCode(h[_]);return m}u[254]=u[254]=1,i.string2buf=function(h){var g,m,_,b,C,w=h.length,x=0;for(b=0;b<w;b++)(64512&(m=h.charCodeAt(b)))==55296&&b+1<w&&(64512&(_=h.charCodeAt(b+1)))==56320&&(m=65536+(m-55296<<10)+(_-56320),b++),x+=m<128?1:m<2048?2:m<65536?3:4;for(g=new o.Buf8(x),b=C=0;C<x;b++)(64512&(m=h.charCodeAt(b)))==55296&&b+1<w&&(64512&(_=h.charCodeAt(b+1)))==56320&&(m=65536+(m-55296<<10)+(_-56320),b++),m<128?g[C++]=m:(m<2048?g[C++]=192|m>>>6:(m<65536?g[C++]=224|m>>>12:(g[C++]=240|m>>>18,g[C++]=128|m>>>12&63),g[C++]=128|m>>>6&63),g[C++]=128|63&m);return g},i.buf2binstring=function(h){return d(h,h.length)},i.binstring2buf=function(h){for(var g=new o.Buf8(h.length),m=0,_=g.length;m<_;m++)g[m]=h.charCodeAt(m);return g},i.buf2string=function(h,g){var m,_,b,C,w=g||h.length,x=new Array(2*w);for(m=_=0;m<w;)if((b=h[m++])<128)x[_++]=b;else if(4<(C=u[b]))x[_++]=65533,m+=C-1;else{for(b&=C===2?31:C===3?15:7;1<C&&m<w;)b=b<<6|63&h[m++],C--;1<C?x[_++]=65533:b<65536?x[_++]=b:(b-=65536,x[_++]=55296|b>>10&1023,x[_++]=56320|1023&b)}return d(x,_)},i.utf8border=function(h,g){var m;for((g=g||h.length)>h.length&&(g=h.length),m=g-1;0<=m&&(192&h[m])==128;)m--;return m<0||m===0?g:m+u[h[m]]>g?m:g}},{"./common":41}],43:[function(t,n,i){n.exports=function(o,a,l,u){for(var c=65535&o|0,d=o>>>16&65535|0,h=0;l!==0;){for(l-=h=2e3<l?2e3:l;d=d+(c=c+a[u++]|0)|0,--h;);c%=65521,d%=65521}return c|d<<16|0}},{}],44:[function(t,n,i){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,n,i){var o=function(){for(var a,l=[],u=0;u<256;u++){a=u;for(var c=0;c<8;c++)a=1&a?3988292384^a>>>1:a>>>1;l[u]=a}return l}();n.exports=function(a,l,u,c){var d=o,h=c+u;a^=-1;for(var g=c;g<h;g++)a=a>>>8^d[255&(a^l[g])];return-1^a}},{}],46:[function(t,n,i){var o,a=t("../utils/common"),l=t("./trees"),u=t("./adler32"),c=t("./crc32"),d=t("./messages"),h=0,g=4,m=0,_=-2,b=-1,C=4,w=2,x=8,O=9,k=286,V=30,Z=19,$=2*k+1,Y=15,U=3,Q=258,H=Q+U+1,D=42,I=113,T=1,tt=2,M=3,ot=4;function dt(R,kt){return R.msg=d[kt],kt}function pt(R){return(R<<1)-(4<R?9:0)}function Dt(R){for(var kt=R.length;0<=--kt;)R[kt]=0}function _t(R){var kt=R.state,wt=kt.pending;wt>R.avail_out&&(wt=R.avail_out),wt!==0&&(a.arraySet(R.output,kt.pending_buf,kt.pending_out,wt,R.next_out),R.next_out+=wt,kt.pending_out+=wt,R.total_out+=wt,R.avail_out-=wt,kt.pending-=wt,kt.pending===0&&(kt.pending_out=0))}function rt(R,kt){l._tr_flush_block(R,0<=R.block_start?R.block_start:-1,R.strstart-R.block_start,kt),R.block_start=R.strstart,_t(R.strm)}function At(R,kt){R.pending_buf[R.pending++]=kt}function mt(R,kt){R.pending_buf[R.pending++]=kt>>>8&255,R.pending_buf[R.pending++]=255&kt}function Tt(R,kt){var wt,et,E=R.max_chain_length,L=R.strstart,K=R.prev_length,it=R.nice_match,nt=R.strstart>R.w_size-H?R.strstart-(R.w_size-H):0,G=R.window,ct=R.w_mask,st=R.prev,jt=R.strstart+Q,ue=G[L+K-1],oe=G[L+K];R.prev_length>=R.good_match&&(E>>=2),it>R.lookahead&&(it=R.lookahead);do if(G[(wt=kt)+K]===oe&&G[wt+K-1]===ue&&G[wt]===G[L]&&G[++wt]===G[L+1]){L+=2,wt++;do;while(G[++L]===G[++wt]&&G[++L]===G[++wt]&&G[++L]===G[++wt]&&G[++L]===G[++wt]&&G[++L]===G[++wt]&&G[++L]===G[++wt]&&G[++L]===G[++wt]&&G[++L]===G[++wt]&&L<jt);if(et=Q-(jt-L),L=jt-Q,K<et){if(R.match_start=kt,it<=(K=et))break;ue=G[L+K-1],oe=G[L+K]}}while((kt=st[kt&ct])>nt&&--E!=0);return K<=R.lookahead?K:R.lookahead}function $t(R){var kt,wt,et,E,L,K,it,nt,G,ct,st=R.w_size;do{if(E=R.window_size-R.lookahead-R.strstart,R.strstart>=st+(st-H)){for(a.arraySet(R.window,R.window,st,st,0),R.match_start-=st,R.strstart-=st,R.block_start-=st,kt=wt=R.hash_size;et=R.head[--kt],R.head[kt]=st<=et?et-st:0,--wt;);for(kt=wt=st;et=R.prev[--kt],R.prev[kt]=st<=et?et-st:0,--wt;);E+=st}if(R.strm.avail_in===0)break;if(K=R.strm,it=R.window,nt=R.strstart+R.lookahead,G=E,ct=void 0,ct=K.avail_in,G<ct&&(ct=G),wt=ct===0?0:(K.avail_in-=ct,a.arraySet(it,K.input,K.next_in,ct,nt),K.state.wrap===1?K.adler=u(K.adler,it,ct,nt):K.state.wrap===2&&(K.adler=c(K.adler,it,ct,nt)),K.next_in+=ct,K.total_in+=ct,ct),R.lookahead+=wt,R.lookahead+R.insert>=U)for(L=R.strstart-R.insert,R.ins_h=R.window[L],R.ins_h=(R.ins_h<<R.hash_shift^R.window[L+1])&R.hash_mask;R.insert&&(R.ins_h=(R.ins_h<<R.hash_shift^R.window[L+U-1])&R.hash_mask,R.prev[L&R.w_mask]=R.head[R.ins_h],R.head[R.ins_h]=L,L++,R.insert--,!(R.lookahead+R.insert<U)););}while(R.lookahead<H&&R.strm.avail_in!==0)}function zt(R,kt){for(var wt,et;;){if(R.lookahead<H){if($t(R),R.lookahead<H&&kt===h)return T;if(R.lookahead===0)break}if(wt=0,R.lookahead>=U&&(R.ins_h=(R.ins_h<<R.hash_shift^R.window[R.strstart+U-1])&R.hash_mask,wt=R.prev[R.strstart&R.w_mask]=R.head[R.ins_h],R.head[R.ins_h]=R.strstart),wt!==0&&R.strstart-wt<=R.w_size-H&&(R.match_length=Tt(R,wt)),R.match_length>=U)if(et=l._tr_tally(R,R.strstart-R.match_start,R.match_length-U),R.lookahead-=R.match_length,R.match_length<=R.max_lazy_match&&R.lookahead>=U){for(R.match_length--;R.strstart++,R.ins_h=(R.ins_h<<R.hash_shift^R.window[R.strstart+U-1])&R.hash_mask,wt=R.prev[R.strstart&R.w_mask]=R.head[R.ins_h],R.head[R.ins_h]=R.strstart,--R.match_length!=0;);R.strstart++}else R.strstart+=R.match_length,R.match_length=0,R.ins_h=R.window[R.strstart],R.ins_h=(R.ins_h<<R.hash_shift^R.window[R.strstart+1])&R.hash_mask;else et=l._tr_tally(R,0,R.window[R.strstart]),R.lookahead--,R.strstart++;if(et&&(rt(R,!1),R.strm.avail_out===0))return T}return R.insert=R.strstart<U-1?R.strstart:U-1,kt===g?(rt(R,!0),R.strm.avail_out===0?M:ot):R.last_lit&&(rt(R,!1),R.strm.avail_out===0)?T:tt}function It(R,kt){for(var wt,et,E;;){if(R.lookahead<H){if($t(R),R.lookahead<H&&kt===h)return T;if(R.lookahead===0)break}if(wt=0,R.lookahead>=U&&(R.ins_h=(R.ins_h<<R.hash_shift^R.window[R.strstart+U-1])&R.hash_mask,wt=R.prev[R.strstart&R.w_mask]=R.head[R.ins_h],R.head[R.ins_h]=R.strstart),R.prev_length=R.match_length,R.prev_match=R.match_start,R.match_length=U-1,wt!==0&&R.prev_length<R.max_lazy_match&&R.strstart-wt<=R.w_size-H&&(R.match_length=Tt(R,wt),R.match_length<=5&&(R.strategy===1||R.match_length===U&&4096<R.strstart-R.match_start)&&(R.match_length=U-1)),R.prev_length>=U&&R.match_length<=R.prev_length){for(E=R.strstart+R.lookahead-U,et=l._tr_tally(R,R.strstart-1-R.prev_match,R.prev_length-U),R.lookahead-=R.prev_length-1,R.prev_length-=2;++R.strstart<=E&&(R.ins_h=(R.ins_h<<R.hash_shift^R.window[R.strstart+U-1])&R.hash_mask,wt=R.prev[R.strstart&R.w_mask]=R.head[R.ins_h],R.head[R.ins_h]=R.strstart),--R.prev_length!=0;);if(R.match_available=0,R.match_length=U-1,R.strstart++,et&&(rt(R,!1),R.strm.avail_out===0))return T}else if(R.match_available){if((et=l._tr_tally(R,0,R.window[R.strstart-1]))&&rt(R,!1),R.strstart++,R.lookahead--,R.strm.avail_out===0)return T}else R.match_available=1,R.strstart++,R.lookahead--}return R.match_available&&(et=l._tr_tally(R,0,R.window[R.strstart-1]),R.match_available=0),R.insert=R.strstart<U-1?R.strstart:U-1,kt===g?(rt(R,!0),R.strm.avail_out===0?M:ot):R.last_lit&&(rt(R,!1),R.strm.avail_out===0)?T:tt}function Zt(R,kt,wt,et,E){this.good_length=R,this.max_lazy=kt,this.nice_length=wt,this.max_chain=et,this.func=E}function fe(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=x,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*$),this.dyn_dtree=new a.Buf16(2*(2*V+1)),this.bl_tree=new a.Buf16(2*(2*Z+1)),Dt(this.dyn_ltree),Dt(this.dyn_dtree),Dt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(Y+1),this.heap=new a.Buf16(2*k+1),Dt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*k+1),Dt(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Jt(R){var kt;return R&&R.state?(R.total_in=R.total_out=0,R.data_type=w,(kt=R.state).pending=0,kt.pending_out=0,kt.wrap<0&&(kt.wrap=-kt.wrap),kt.status=kt.wrap?D:I,R.adler=kt.wrap===2?0:1,kt.last_flush=h,l._tr_init(kt),m):dt(R,_)}function yt(R){var kt=Jt(R);return kt===m&&function(wt){wt.window_size=2*wt.w_size,Dt(wt.head),wt.max_lazy_match=o[wt.level].max_lazy,wt.good_match=o[wt.level].good_length,wt.nice_match=o[wt.level].nice_length,wt.max_chain_length=o[wt.level].max_chain,wt.strstart=0,wt.block_start=0,wt.lookahead=0,wt.insert=0,wt.match_length=wt.prev_length=U-1,wt.match_available=0,wt.ins_h=0}(R.state),kt}function Wt(R,kt,wt,et,E,L){if(!R)return _;var K=1;if(kt===b&&(kt=6),et<0?(K=0,et=-et):15<et&&(K=2,et-=16),E<1||O<E||wt!==x||et<8||15<et||kt<0||9<kt||L<0||C<L)return dt(R,_);et===8&&(et=9);var it=new fe;return(R.state=it).strm=R,it.wrap=K,it.gzhead=null,it.w_bits=et,it.w_size=1<<it.w_bits,it.w_mask=it.w_size-1,it.hash_bits=E+7,it.hash_size=1<<it.hash_bits,it.hash_mask=it.hash_size-1,it.hash_shift=~~((it.hash_bits+U-1)/U),it.window=new a.Buf8(2*it.w_size),it.head=new a.Buf16(it.hash_size),it.prev=new a.Buf16(it.w_size),it.lit_bufsize=1<<E+6,it.pending_buf_size=4*it.lit_bufsize,it.pending_buf=new a.Buf8(it.pending_buf_size),it.d_buf=1*it.lit_bufsize,it.l_buf=3*it.lit_bufsize,it.level=kt,it.strategy=L,it.method=wt,yt(R)}o=[new Zt(0,0,0,0,function(R,kt){var wt=65535;for(wt>R.pending_buf_size-5&&(wt=R.pending_buf_size-5);;){if(R.lookahead<=1){if($t(R),R.lookahead===0&&kt===h)return T;if(R.lookahead===0)break}R.strstart+=R.lookahead,R.lookahead=0;var et=R.block_start+wt;if((R.strstart===0||R.strstart>=et)&&(R.lookahead=R.strstart-et,R.strstart=et,rt(R,!1),R.strm.avail_out===0)||R.strstart-R.block_start>=R.w_size-H&&(rt(R,!1),R.strm.avail_out===0))return T}return R.insert=0,kt===g?(rt(R,!0),R.strm.avail_out===0?M:ot):(R.strstart>R.block_start&&(rt(R,!1),R.strm.avail_out),T)}),new Zt(4,4,8,4,zt),new Zt(4,5,16,8,zt),new Zt(4,6,32,32,zt),new Zt(4,4,16,16,It),new Zt(8,16,32,32,It),new Zt(8,16,128,128,It),new Zt(8,32,128,256,It),new Zt(32,128,258,1024,It),new Zt(32,258,258,4096,It)],i.deflateInit=function(R,kt){return Wt(R,kt,x,15,8,0)},i.deflateInit2=Wt,i.deflateReset=yt,i.deflateResetKeep=Jt,i.deflateSetHeader=function(R,kt){return R&&R.state?R.state.wrap!==2?_:(R.state.gzhead=kt,m):_},i.deflate=function(R,kt){var wt,et,E,L;if(!R||!R.state||5<kt||kt<0)return R?dt(R,_):_;if(et=R.state,!R.output||!R.input&&R.avail_in!==0||et.status===666&&kt!==g)return dt(R,R.avail_out===0?-5:_);if(et.strm=R,wt=et.last_flush,et.last_flush=kt,et.status===D)if(et.wrap===2)R.adler=0,At(et,31),At(et,139),At(et,8),et.gzhead?(At(et,(et.gzhead.text?1:0)+(et.gzhead.hcrc?2:0)+(et.gzhead.extra?4:0)+(et.gzhead.name?8:0)+(et.gzhead.comment?16:0)),At(et,255&et.gzhead.time),At(et,et.gzhead.time>>8&255),At(et,et.gzhead.time>>16&255),At(et,et.gzhead.time>>24&255),At(et,et.level===9?2:2<=et.strategy||et.level<2?4:0),At(et,255&et.gzhead.os),et.gzhead.extra&&et.gzhead.extra.length&&(At(et,255&et.gzhead.extra.length),At(et,et.gzhead.extra.length>>8&255)),et.gzhead.hcrc&&(R.adler=c(R.adler,et.pending_buf,et.pending,0)),et.gzindex=0,et.status=69):(At(et,0),At(et,0),At(et,0),At(et,0),At(et,0),At(et,et.level===9?2:2<=et.strategy||et.level<2?4:0),At(et,3),et.status=I);else{var K=x+(et.w_bits-8<<4)<<8;K|=(2<=et.strategy||et.level<2?0:et.level<6?1:et.level===6?2:3)<<6,et.strstart!==0&&(K|=32),K+=31-K%31,et.status=I,mt(et,K),et.strstart!==0&&(mt(et,R.adler>>>16),mt(et,65535&R.adler)),R.adler=1}if(et.status===69)if(et.gzhead.extra){for(E=et.pending;et.gzindex<(65535&et.gzhead.extra.length)&&(et.pending!==et.pending_buf_size||(et.gzhead.hcrc&&et.pending>E&&(R.adler=c(R.adler,et.pending_buf,et.pending-E,E)),_t(R),E=et.pending,et.pending!==et.pending_buf_size));)At(et,255&et.gzhead.extra[et.gzindex]),et.gzindex++;et.gzhead.hcrc&&et.pending>E&&(R.adler=c(R.adler,et.pending_buf,et.pending-E,E)),et.gzindex===et.gzhead.extra.length&&(et.gzindex=0,et.status=73)}else et.status=73;if(et.status===73)if(et.gzhead.name){E=et.pending;do{if(et.pending===et.pending_buf_size&&(et.gzhead.hcrc&&et.pending>E&&(R.adler=c(R.adler,et.pending_buf,et.pending-E,E)),_t(R),E=et.pending,et.pending===et.pending_buf_size)){L=1;break}L=et.gzindex<et.gzhead.name.length?255&et.gzhead.name.charCodeAt(et.gzindex++):0,At(et,L)}while(L!==0);et.gzhead.hcrc&&et.pending>E&&(R.adler=c(R.adler,et.pending_buf,et.pending-E,E)),L===0&&(et.gzindex=0,et.status=91)}else et.status=91;if(et.status===91)if(et.gzhead.comment){E=et.pending;do{if(et.pending===et.pending_buf_size&&(et.gzhead.hcrc&&et.pending>E&&(R.adler=c(R.adler,et.pending_buf,et.pending-E,E)),_t(R),E=et.pending,et.pending===et.pending_buf_size)){L=1;break}L=et.gzindex<et.gzhead.comment.length?255&et.gzhead.comment.charCodeAt(et.gzindex++):0,At(et,L)}while(L!==0);et.gzhead.hcrc&&et.pending>E&&(R.adler=c(R.adler,et.pending_buf,et.pending-E,E)),L===0&&(et.status=103)}else et.status=103;if(et.status===103&&(et.gzhead.hcrc?(et.pending+2>et.pending_buf_size&&_t(R),et.pending+2<=et.pending_buf_size&&(At(et,255&R.adler),At(et,R.adler>>8&255),R.adler=0,et.status=I)):et.status=I),et.pending!==0){if(_t(R),R.avail_out===0)return et.last_flush=-1,m}else if(R.avail_in===0&&pt(kt)<=pt(wt)&&kt!==g)return dt(R,-5);if(et.status===666&&R.avail_in!==0)return dt(R,-5);if(R.avail_in!==0||et.lookahead!==0||kt!==h&&et.status!==666){var it=et.strategy===2?function(nt,G){for(var ct;;){if(nt.lookahead===0&&($t(nt),nt.lookahead===0)){if(G===h)return T;break}if(nt.match_length=0,ct=l._tr_tally(nt,0,nt.window[nt.strstart]),nt.lookahead--,nt.strstart++,ct&&(rt(nt,!1),nt.strm.avail_out===0))return T}return nt.insert=0,G===g?(rt(nt,!0),nt.strm.avail_out===0?M:ot):nt.last_lit&&(rt(nt,!1),nt.strm.avail_out===0)?T:tt}(et,kt):et.strategy===3?function(nt,G){for(var ct,st,jt,ue,oe=nt.window;;){if(nt.lookahead<=Q){if($t(nt),nt.lookahead<=Q&&G===h)return T;if(nt.lookahead===0)break}if(nt.match_length=0,nt.lookahead>=U&&0<nt.strstart&&(st=oe[jt=nt.strstart-1])===oe[++jt]&&st===oe[++jt]&&st===oe[++jt]){ue=nt.strstart+Q;do;while(st===oe[++jt]&&st===oe[++jt]&&st===oe[++jt]&&st===oe[++jt]&&st===oe[++jt]&&st===oe[++jt]&&st===oe[++jt]&&st===oe[++jt]&&jt<ue);nt.match_length=Q-(ue-jt),nt.match_length>nt.lookahead&&(nt.match_length=nt.lookahead)}if(nt.match_length>=U?(ct=l._tr_tally(nt,1,nt.match_length-U),nt.lookahead-=nt.match_length,nt.strstart+=nt.match_length,nt.match_length=0):(ct=l._tr_tally(nt,0,nt.window[nt.strstart]),nt.lookahead--,nt.strstart++),ct&&(rt(nt,!1),nt.strm.avail_out===0))return T}return nt.insert=0,G===g?(rt(nt,!0),nt.strm.avail_out===0?M:ot):nt.last_lit&&(rt(nt,!1),nt.strm.avail_out===0)?T:tt}(et,kt):o[et.level].func(et,kt);if(it!==M&&it!==ot||(et.status=666),it===T||it===M)return R.avail_out===0&&(et.last_flush=-1),m;if(it===tt&&(kt===1?l._tr_align(et):kt!==5&&(l._tr_stored_block(et,0,0,!1),kt===3&&(Dt(et.head),et.lookahead===0&&(et.strstart=0,et.block_start=0,et.insert=0))),_t(R),R.avail_out===0))return et.last_flush=-1,m}return kt!==g?m:et.wrap<=0?1:(et.wrap===2?(At(et,255&R.adler),At(et,R.adler>>8&255),At(et,R.adler>>16&255),At(et,R.adler>>24&255),At(et,255&R.total_in),At(et,R.total_in>>8&255),At(et,R.total_in>>16&255),At(et,R.total_in>>24&255)):(mt(et,R.adler>>>16),mt(et,65535&R.adler)),_t(R),0<et.wrap&&(et.wrap=-et.wrap),et.pending!==0?m:1)},i.deflateEnd=function(R){var kt;return R&&R.state?(kt=R.state.status)!==D&&kt!==69&&kt!==73&&kt!==91&&kt!==103&&kt!==I&&kt!==666?dt(R,_):(R.state=null,kt===I?dt(R,-3):m):_},i.deflateSetDictionary=function(R,kt){var wt,et,E,L,K,it,nt,G,ct=kt.length;if(!R||!R.state||(L=(wt=R.state).wrap)===2||L===1&&wt.status!==D||wt.lookahead)return _;for(L===1&&(R.adler=u(R.adler,kt,ct,0)),wt.wrap=0,ct>=wt.w_size&&(L===0&&(Dt(wt.head),wt.strstart=0,wt.block_start=0,wt.insert=0),G=new a.Buf8(wt.w_size),a.arraySet(G,kt,ct-wt.w_size,wt.w_size,0),kt=G,ct=wt.w_size),K=R.avail_in,it=R.next_in,nt=R.input,R.avail_in=ct,R.next_in=0,R.input=kt,$t(wt);wt.lookahead>=U;){for(et=wt.strstart,E=wt.lookahead-(U-1);wt.ins_h=(wt.ins_h<<wt.hash_shift^wt.window[et+U-1])&wt.hash_mask,wt.prev[et&wt.w_mask]=wt.head[wt.ins_h],wt.head[wt.ins_h]=et,et++,--E;);wt.strstart=et,wt.lookahead=U-1,$t(wt)}return wt.strstart+=wt.lookahead,wt.block_start=wt.strstart,wt.insert=wt.lookahead,wt.lookahead=0,wt.match_length=wt.prev_length=U-1,wt.match_available=0,R.next_in=it,R.input=nt,R.avail_in=K,wt.wrap=L,m},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,n,i){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,n,i){n.exports=function(o,a){var l,u,c,d,h,g,m,_,b,C,w,x,O,k,V,Z,$,Y,U,Q,H,D,I,T,tt;l=o.state,u=o.next_in,T=o.input,c=u+(o.avail_in-5),d=o.next_out,tt=o.output,h=d-(a-o.avail_out),g=d+(o.avail_out-257),m=l.dmax,_=l.wsize,b=l.whave,C=l.wnext,w=l.window,x=l.hold,O=l.bits,k=l.lencode,V=l.distcode,Z=(1<<l.lenbits)-1,$=(1<<l.distbits)-1;t:do{O<15&&(x+=T[u++]<<O,O+=8,x+=T[u++]<<O,O+=8),Y=k[x&Z];e:for(;;){if(x>>>=U=Y>>>24,O-=U,(U=Y>>>16&255)===0)tt[d++]=65535&Y;else{if(!(16&U)){if(!(64&U)){Y=k[(65535&Y)+(x&(1<<U)-1)];continue e}if(32&U){l.mode=12;break t}o.msg="invalid literal/length code",l.mode=30;break t}Q=65535&Y,(U&=15)&&(O<U&&(x+=T[u++]<<O,O+=8),Q+=x&(1<<U)-1,x>>>=U,O-=U),O<15&&(x+=T[u++]<<O,O+=8,x+=T[u++]<<O,O+=8),Y=V[x&$];n:for(;;){if(x>>>=U=Y>>>24,O-=U,!(16&(U=Y>>>16&255))){if(!(64&U)){Y=V[(65535&Y)+(x&(1<<U)-1)];continue n}o.msg="invalid distance code",l.mode=30;break t}if(H=65535&Y,O<(U&=15)&&(x+=T[u++]<<O,(O+=8)<U&&(x+=T[u++]<<O,O+=8)),m<(H+=x&(1<<U)-1)){o.msg="invalid distance too far back",l.mode=30;break t}if(x>>>=U,O-=U,(U=d-h)<H){if(b<(U=H-U)&&l.sane){o.msg="invalid distance too far back",l.mode=30;break t}if(I=w,(D=0)===C){if(D+=_-U,U<Q){for(Q-=U;tt[d++]=w[D++],--U;);D=d-H,I=tt}}else if(C<U){if(D+=_+C-U,(U-=C)<Q){for(Q-=U;tt[d++]=w[D++],--U;);if(D=0,C<Q){for(Q-=U=C;tt[d++]=w[D++],--U;);D=d-H,I=tt}}}else if(D+=C-U,U<Q){for(Q-=U;tt[d++]=w[D++],--U;);D=d-H,I=tt}for(;2<Q;)tt[d++]=I[D++],tt[d++]=I[D++],tt[d++]=I[D++],Q-=3;Q&&(tt[d++]=I[D++],1<Q&&(tt[d++]=I[D++]))}else{for(D=d-H;tt[d++]=tt[D++],tt[d++]=tt[D++],tt[d++]=tt[D++],2<(Q-=3););Q&&(tt[d++]=tt[D++],1<Q&&(tt[d++]=tt[D++]))}break}}break}}while(u<c&&d<g);u-=Q=O>>3,x&=(1<<(O-=Q<<3))-1,o.next_in=u,o.next_out=d,o.avail_in=u<c?c-u+5:5-(u-c),o.avail_out=d<g?g-d+257:257-(d-g),l.hold=x,l.bits=O}},{}],49:[function(t,n,i){var o=t("../utils/common"),a=t("./adler32"),l=t("./crc32"),u=t("./inffast"),c=t("./inftrees"),d=1,h=2,g=0,m=-2,_=1,b=852,C=592;function w(D){return(D>>>24&255)+(D>>>8&65280)+((65280&D)<<8)+((255&D)<<24)}function x(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new o.Buf16(320),this.work=new o.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function O(D){var I;return D&&D.state?(I=D.state,D.total_in=D.total_out=I.total=0,D.msg="",I.wrap&&(D.adler=1&I.wrap),I.mode=_,I.last=0,I.havedict=0,I.dmax=32768,I.head=null,I.hold=0,I.bits=0,I.lencode=I.lendyn=new o.Buf32(b),I.distcode=I.distdyn=new o.Buf32(C),I.sane=1,I.back=-1,g):m}function k(D){var I;return D&&D.state?((I=D.state).wsize=0,I.whave=0,I.wnext=0,O(D)):m}function V(D,I){var T,tt;return D&&D.state?(tt=D.state,I<0?(T=0,I=-I):(T=1+(I>>4),I<48&&(I&=15)),I&&(I<8||15<I)?m:(tt.window!==null&&tt.wbits!==I&&(tt.window=null),tt.wrap=T,tt.wbits=I,k(D))):m}function Z(D,I){var T,tt;return D?(tt=new x,(D.state=tt).window=null,(T=V(D,I))!==g&&(D.state=null),T):m}var $,Y,U=!0;function Q(D){if(U){var I;for($=new o.Buf32(512),Y=new o.Buf32(32),I=0;I<144;)D.lens[I++]=8;for(;I<256;)D.lens[I++]=9;for(;I<280;)D.lens[I++]=7;for(;I<288;)D.lens[I++]=8;for(c(d,D.lens,0,288,$,0,D.work,{bits:9}),I=0;I<32;)D.lens[I++]=5;c(h,D.lens,0,32,Y,0,D.work,{bits:5}),U=!1}D.lencode=$,D.lenbits=9,D.distcode=Y,D.distbits=5}function H(D,I,T,tt){var M,ot=D.state;return ot.window===null&&(ot.wsize=1<<ot.wbits,ot.wnext=0,ot.whave=0,ot.window=new o.Buf8(ot.wsize)),tt>=ot.wsize?(o.arraySet(ot.window,I,T-ot.wsize,ot.wsize,0),ot.wnext=0,ot.whave=ot.wsize):(tt<(M=ot.wsize-ot.wnext)&&(M=tt),o.arraySet(ot.window,I,T-tt,M,ot.wnext),(tt-=M)?(o.arraySet(ot.window,I,T-tt,tt,0),ot.wnext=tt,ot.whave=ot.wsize):(ot.wnext+=M,ot.wnext===ot.wsize&&(ot.wnext=0),ot.whave<ot.wsize&&(ot.whave+=M))),0}i.inflateReset=k,i.inflateReset2=V,i.inflateResetKeep=O,i.inflateInit=function(D){return Z(D,15)},i.inflateInit2=Z,i.inflate=function(D,I){var T,tt,M,ot,dt,pt,Dt,_t,rt,At,mt,Tt,$t,zt,It,Zt,fe,Jt,yt,Wt,R,kt,wt,et,E=0,L=new o.Buf8(4),K=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!D||!D.state||!D.output||!D.input&&D.avail_in!==0)return m;(T=D.state).mode===12&&(T.mode=13),dt=D.next_out,M=D.output,Dt=D.avail_out,ot=D.next_in,tt=D.input,pt=D.avail_in,_t=T.hold,rt=T.bits,At=pt,mt=Dt,kt=g;t:for(;;)switch(T.mode){case _:if(T.wrap===0){T.mode=13;break}for(;rt<16;){if(pt===0)break t;pt--,_t+=tt[ot++]<<rt,rt+=8}if(2&T.wrap&&_t===35615){L[T.check=0]=255&_t,L[1]=_t>>>8&255,T.check=l(T.check,L,2,0),rt=_t=0,T.mode=2;break}if(T.flags=0,T.head&&(T.head.done=!1),!(1&T.wrap)||(((255&_t)<<8)+(_t>>8))%31){D.msg="incorrect header check",T.mode=30;break}if((15&_t)!=8){D.msg="unknown compression method",T.mode=30;break}if(rt-=4,R=8+(15&(_t>>>=4)),T.wbits===0)T.wbits=R;else if(R>T.wbits){D.msg="invalid window size",T.mode=30;break}T.dmax=1<<R,D.adler=T.check=1,T.mode=512&_t?10:12,rt=_t=0;break;case 2:for(;rt<16;){if(pt===0)break t;pt--,_t+=tt[ot++]<<rt,rt+=8}if(T.flags=_t,(255&T.flags)!=8){D.msg="unknown compression method",T.mode=30;break}if(57344&T.flags){D.msg="unknown header flags set",T.mode=30;break}T.head&&(T.head.text=_t>>8&1),512&T.flags&&(L[0]=255&_t,L[1]=_t>>>8&255,T.check=l(T.check,L,2,0)),rt=_t=0,T.mode=3;case 3:for(;rt<32;){if(pt===0)break t;pt--,_t+=tt[ot++]<<rt,rt+=8}T.head&&(T.head.time=_t),512&T.flags&&(L[0]=255&_t,L[1]=_t>>>8&255,L[2]=_t>>>16&255,L[3]=_t>>>24&255,T.check=l(T.check,L,4,0)),rt=_t=0,T.mode=4;case 4:for(;rt<16;){if(pt===0)break t;pt--,_t+=tt[ot++]<<rt,rt+=8}T.head&&(T.head.xflags=255&_t,T.head.os=_t>>8),512&T.flags&&(L[0]=255&_t,L[1]=_t>>>8&255,T.check=l(T.check,L,2,0)),rt=_t=0,T.mode=5;case 5:if(1024&T.flags){for(;rt<16;){if(pt===0)break t;pt--,_t+=tt[ot++]<<rt,rt+=8}T.length=_t,T.head&&(T.head.extra_len=_t),512&T.flags&&(L[0]=255&_t,L[1]=_t>>>8&255,T.check=l(T.check,L,2,0)),rt=_t=0}else T.head&&(T.head.extra=null);T.mode=6;case 6:if(1024&T.flags&&(pt<(Tt=T.length)&&(Tt=pt),Tt&&(T.head&&(R=T.head.extra_len-T.length,T.head.extra||(T.head.extra=new Array(T.head.extra_len)),o.arraySet(T.head.extra,tt,ot,Tt,R)),512&T.flags&&(T.check=l(T.check,tt,Tt,ot)),pt-=Tt,ot+=Tt,T.length-=Tt),T.length))break t;T.length=0,T.mode=7;case 7:if(2048&T.flags){if(pt===0)break t;for(Tt=0;R=tt[ot+Tt++],T.head&&R&&T.length<65536&&(T.head.name+=String.fromCharCode(R)),R&&Tt<pt;);if(512&T.flags&&(T.check=l(T.check,tt,Tt,ot)),pt-=Tt,ot+=Tt,R)break t}else T.head&&(T.head.name=null);T.length=0,T.mode=8;case 8:if(4096&T.flags){if(pt===0)break t;for(Tt=0;R=tt[ot+Tt++],T.head&&R&&T.length<65536&&(T.head.comment+=String.fromCharCode(R)),R&&Tt<pt;);if(512&T.flags&&(T.check=l(T.check,tt,Tt,ot)),pt-=Tt,ot+=Tt,R)break t}else T.head&&(T.head.comment=null);T.mode=9;case 9:if(512&T.flags){for(;rt<16;){if(pt===0)break t;pt--,_t+=tt[ot++]<<rt,rt+=8}if(_t!==(65535&T.check)){D.msg="header crc mismatch",T.mode=30;break}rt=_t=0}T.head&&(T.head.hcrc=T.flags>>9&1,T.head.done=!0),D.adler=T.check=0,T.mode=12;break;case 10:for(;rt<32;){if(pt===0)break t;pt--,_t+=tt[ot++]<<rt,rt+=8}D.adler=T.check=w(_t),rt=_t=0,T.mode=11;case 11:if(T.havedict===0)return D.next_out=dt,D.avail_out=Dt,D.next_in=ot,D.avail_in=pt,T.hold=_t,T.bits=rt,2;D.adler=T.check=1,T.mode=12;case 12:if(I===5||I===6)break t;case 13:if(T.last){_t>>>=7&rt,rt-=7&rt,T.mode=27;break}for(;rt<3;){if(pt===0)break t;pt--,_t+=tt[ot++]<<rt,rt+=8}switch(T.last=1&_t,rt-=1,3&(_t>>>=1)){case 0:T.mode=14;break;case 1:if(Q(T),T.mode=20,I!==6)break;_t>>>=2,rt-=2;break t;case 2:T.mode=17;break;case 3:D.msg="invalid block type",T.mode=30}_t>>>=2,rt-=2;break;case 14:for(_t>>>=7&rt,rt-=7&rt;rt<32;){if(pt===0)break t;pt--,_t+=tt[ot++]<<rt,rt+=8}if((65535&_t)!=(_t>>>16^65535)){D.msg="invalid stored block lengths",T.mode=30;break}if(T.length=65535&_t,rt=_t=0,T.mode=15,I===6)break t;case 15:T.mode=16;case 16:if(Tt=T.length){if(pt<Tt&&(Tt=pt),Dt<Tt&&(Tt=Dt),Tt===0)break t;o.arraySet(M,tt,ot,Tt,dt),pt-=Tt,ot+=Tt,Dt-=Tt,dt+=Tt,T.length-=Tt;break}T.mode=12;break;case 17:for(;rt<14;){if(pt===0)break t;pt--,_t+=tt[ot++]<<rt,rt+=8}if(T.nlen=257+(31&_t),_t>>>=5,rt-=5,T.ndist=1+(31&_t),_t>>>=5,rt-=5,T.ncode=4+(15&_t),_t>>>=4,rt-=4,286<T.nlen||30<T.ndist){D.msg="too many length or distance symbols",T.mode=30;break}T.have=0,T.mode=18;case 18:for(;T.have<T.ncode;){for(;rt<3;){if(pt===0)break t;pt--,_t+=tt[ot++]<<rt,rt+=8}T.lens[K[T.have++]]=7&_t,_t>>>=3,rt-=3}for(;T.have<19;)T.lens[K[T.have++]]=0;if(T.lencode=T.lendyn,T.lenbits=7,wt={bits:T.lenbits},kt=c(0,T.lens,0,19,T.lencode,0,T.work,wt),T.lenbits=wt.bits,kt){D.msg="invalid code lengths set",T.mode=30;break}T.have=0,T.mode=19;case 19:for(;T.have<T.nlen+T.ndist;){for(;Zt=(E=T.lencode[_t&(1<<T.lenbits)-1])>>>16&255,fe=65535&E,!((It=E>>>24)<=rt);){if(pt===0)break t;pt--,_t+=tt[ot++]<<rt,rt+=8}if(fe<16)_t>>>=It,rt-=It,T.lens[T.have++]=fe;else{if(fe===16){for(et=It+2;rt<et;){if(pt===0)break t;pt--,_t+=tt[ot++]<<rt,rt+=8}if(_t>>>=It,rt-=It,T.have===0){D.msg="invalid bit length repeat",T.mode=30;break}R=T.lens[T.have-1],Tt=3+(3&_t),_t>>>=2,rt-=2}else if(fe===17){for(et=It+3;rt<et;){if(pt===0)break t;pt--,_t+=tt[ot++]<<rt,rt+=8}rt-=It,R=0,Tt=3+(7&(_t>>>=It)),_t>>>=3,rt-=3}else{for(et=It+7;rt<et;){if(pt===0)break t;pt--,_t+=tt[ot++]<<rt,rt+=8}rt-=It,R=0,Tt=11+(127&(_t>>>=It)),_t>>>=7,rt-=7}if(T.have+Tt>T.nlen+T.ndist){D.msg="invalid bit length repeat",T.mode=30;break}for(;Tt--;)T.lens[T.have++]=R}}if(T.mode===30)break;if(T.lens[256]===0){D.msg="invalid code -- missing end-of-block",T.mode=30;break}if(T.lenbits=9,wt={bits:T.lenbits},kt=c(d,T.lens,0,T.nlen,T.lencode,0,T.work,wt),T.lenbits=wt.bits,kt){D.msg="invalid literal/lengths set",T.mode=30;break}if(T.distbits=6,T.distcode=T.distdyn,wt={bits:T.distbits},kt=c(h,T.lens,T.nlen,T.ndist,T.distcode,0,T.work,wt),T.distbits=wt.bits,kt){D.msg="invalid distances set",T.mode=30;break}if(T.mode=20,I===6)break t;case 20:T.mode=21;case 21:if(6<=pt&&258<=Dt){D.next_out=dt,D.avail_out=Dt,D.next_in=ot,D.avail_in=pt,T.hold=_t,T.bits=rt,u(D,mt),dt=D.next_out,M=D.output,Dt=D.avail_out,ot=D.next_in,tt=D.input,pt=D.avail_in,_t=T.hold,rt=T.bits,T.mode===12&&(T.back=-1);break}for(T.back=0;Zt=(E=T.lencode[_t&(1<<T.lenbits)-1])>>>16&255,fe=65535&E,!((It=E>>>24)<=rt);){if(pt===0)break t;pt--,_t+=tt[ot++]<<rt,rt+=8}if(Zt&&!(240&Zt)){for(Jt=It,yt=Zt,Wt=fe;Zt=(E=T.lencode[Wt+((_t&(1<<Jt+yt)-1)>>Jt)])>>>16&255,fe=65535&E,!(Jt+(It=E>>>24)<=rt);){if(pt===0)break t;pt--,_t+=tt[ot++]<<rt,rt+=8}_t>>>=Jt,rt-=Jt,T.back+=Jt}if(_t>>>=It,rt-=It,T.back+=It,T.length=fe,Zt===0){T.mode=26;break}if(32&Zt){T.back=-1,T.mode=12;break}if(64&Zt){D.msg="invalid literal/length code",T.mode=30;break}T.extra=15&Zt,T.mode=22;case 22:if(T.extra){for(et=T.extra;rt<et;){if(pt===0)break t;pt--,_t+=tt[ot++]<<rt,rt+=8}T.length+=_t&(1<<T.extra)-1,_t>>>=T.extra,rt-=T.extra,T.back+=T.extra}T.was=T.length,T.mode=23;case 23:for(;Zt=(E=T.distcode[_t&(1<<T.distbits)-1])>>>16&255,fe=65535&E,!((It=E>>>24)<=rt);){if(pt===0)break t;pt--,_t+=tt[ot++]<<rt,rt+=8}if(!(240&Zt)){for(Jt=It,yt=Zt,Wt=fe;Zt=(E=T.distcode[Wt+((_t&(1<<Jt+yt)-1)>>Jt)])>>>16&255,fe=65535&E,!(Jt+(It=E>>>24)<=rt);){if(pt===0)break t;pt--,_t+=tt[ot++]<<rt,rt+=8}_t>>>=Jt,rt-=Jt,T.back+=Jt}if(_t>>>=It,rt-=It,T.back+=It,64&Zt){D.msg="invalid distance code",T.mode=30;break}T.offset=fe,T.extra=15&Zt,T.mode=24;case 24:if(T.extra){for(et=T.extra;rt<et;){if(pt===0)break t;pt--,_t+=tt[ot++]<<rt,rt+=8}T.offset+=_t&(1<<T.extra)-1,_t>>>=T.extra,rt-=T.extra,T.back+=T.extra}if(T.offset>T.dmax){D.msg="invalid distance too far back",T.mode=30;break}T.mode=25;case 25:if(Dt===0)break t;if(Tt=mt-Dt,T.offset>Tt){if((Tt=T.offset-Tt)>T.whave&&T.sane){D.msg="invalid distance too far back",T.mode=30;break}$t=Tt>T.wnext?(Tt-=T.wnext,T.wsize-Tt):T.wnext-Tt,Tt>T.length&&(Tt=T.length),zt=T.window}else zt=M,$t=dt-T.offset,Tt=T.length;for(Dt<Tt&&(Tt=Dt),Dt-=Tt,T.length-=Tt;M[dt++]=zt[$t++],--Tt;);T.length===0&&(T.mode=21);break;case 26:if(Dt===0)break t;M[dt++]=T.length,Dt--,T.mode=21;break;case 27:if(T.wrap){for(;rt<32;){if(pt===0)break t;pt--,_t|=tt[ot++]<<rt,rt+=8}if(mt-=Dt,D.total_out+=mt,T.total+=mt,mt&&(D.adler=T.check=T.flags?l(T.check,M,mt,dt-mt):a(T.check,M,mt,dt-mt)),mt=Dt,(T.flags?_t:w(_t))!==T.check){D.msg="incorrect data check",T.mode=30;break}rt=_t=0}T.mode=28;case 28:if(T.wrap&&T.flags){for(;rt<32;){if(pt===0)break t;pt--,_t+=tt[ot++]<<rt,rt+=8}if(_t!==(4294967295&T.total)){D.msg="incorrect length check",T.mode=30;break}rt=_t=0}T.mode=29;case 29:kt=1;break t;case 30:kt=-3;break t;case 31:return-4;case 32:default:return m}return D.next_out=dt,D.avail_out=Dt,D.next_in=ot,D.avail_in=pt,T.hold=_t,T.bits=rt,(T.wsize||mt!==D.avail_out&&T.mode<30&&(T.mode<27||I!==4))&&H(D,D.output,D.next_out,mt-D.avail_out)?(T.mode=31,-4):(At-=D.avail_in,mt-=D.avail_out,D.total_in+=At,D.total_out+=mt,T.total+=mt,T.wrap&&mt&&(D.adler=T.check=T.flags?l(T.check,M,mt,D.next_out-mt):a(T.check,M,mt,D.next_out-mt)),D.data_type=T.bits+(T.last?64:0)+(T.mode===12?128:0)+(T.mode===20||T.mode===15?256:0),(At==0&&mt===0||I===4)&&kt===g&&(kt=-5),kt)},i.inflateEnd=function(D){if(!D||!D.state)return m;var I=D.state;return I.window&&(I.window=null),D.state=null,g},i.inflateGetHeader=function(D,I){var T;return D&&D.state&&2&(T=D.state).wrap?((T.head=I).done=!1,g):m},i.inflateSetDictionary=function(D,I){var T,tt=I.length;return D&&D.state?(T=D.state).wrap!==0&&T.mode!==11?m:T.mode===11&&a(1,I,tt,0)!==T.check?-3:H(D,I,tt,tt)?(T.mode=31,-4):(T.havedict=1,g):m},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,n,i){var o=t("../utils/common"),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],l=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],u=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(d,h,g,m,_,b,C,w){var x,O,k,V,Z,$,Y,U,Q,H=w.bits,D=0,I=0,T=0,tt=0,M=0,ot=0,dt=0,pt=0,Dt=0,_t=0,rt=null,At=0,mt=new o.Buf16(16),Tt=new o.Buf16(16),$t=null,zt=0;for(D=0;D<=15;D++)mt[D]=0;for(I=0;I<m;I++)mt[h[g+I]]++;for(M=H,tt=15;1<=tt&&mt[tt]===0;tt--);if(tt<M&&(M=tt),tt===0)return _[b++]=20971520,_[b++]=20971520,w.bits=1,0;for(T=1;T<tt&&mt[T]===0;T++);for(M<T&&(M=T),D=pt=1;D<=15;D++)if(pt<<=1,(pt-=mt[D])<0)return-1;if(0<pt&&(d===0||tt!==1))return-1;for(Tt[1]=0,D=1;D<15;D++)Tt[D+1]=Tt[D]+mt[D];for(I=0;I<m;I++)h[g+I]!==0&&(C[Tt[h[g+I]]++]=I);if($=d===0?(rt=$t=C,19):d===1?(rt=a,At-=257,$t=l,zt-=257,256):(rt=u,$t=c,-1),D=T,Z=b,dt=I=_t=0,k=-1,V=(Dt=1<<(ot=M))-1,d===1&&852<Dt||d===2&&592<Dt)return 1;for(;;){for(Y=D-dt,Q=C[I]<$?(U=0,C[I]):C[I]>$?(U=$t[zt+C[I]],rt[At+C[I]]):(U=96,0),x=1<<D-dt,T=O=1<<ot;_[Z+(_t>>dt)+(O-=x)]=Y<<24|U<<16|Q|0,O!==0;);for(x=1<<D-1;_t&x;)x>>=1;if(x!==0?(_t&=x-1,_t+=x):_t=0,I++,--mt[D]==0){if(D===tt)break;D=h[g+C[I]]}if(M<D&&(_t&V)!==k){for(dt===0&&(dt=M),Z+=T,pt=1<<(ot=D-dt);ot+dt<tt&&!((pt-=mt[ot+dt])<=0);)ot++,pt<<=1;if(Dt+=1<<ot,d===1&&852<Dt||d===2&&592<Dt)return 1;_[k=_t&V]=M<<24|ot<<16|Z-b|0}}return _t!==0&&(_[Z+_t]=D-dt<<24|64<<16|0),w.bits=M,0}},{"../utils/common":41}],51:[function(t,n,i){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,n,i){var o=t("../utils/common"),a=0,l=1;function u(E){for(var L=E.length;0<=--L;)E[L]=0}var c=0,d=29,h=256,g=h+1+d,m=30,_=19,b=2*g+1,C=15,w=16,x=7,O=256,k=16,V=17,Z=18,$=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Y=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],U=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],H=new Array(2*(g+2));u(H);var D=new Array(2*m);u(D);var I=new Array(512);u(I);var T=new Array(256);u(T);var tt=new Array(d);u(tt);var M,ot,dt,pt=new Array(m);function Dt(E,L,K,it,nt){this.static_tree=E,this.extra_bits=L,this.extra_base=K,this.elems=it,this.max_length=nt,this.has_stree=E&&E.length}function _t(E,L){this.dyn_tree=E,this.max_code=0,this.stat_desc=L}function rt(E){return E<256?I[E]:I[256+(E>>>7)]}function At(E,L){E.pending_buf[E.pending++]=255&L,E.pending_buf[E.pending++]=L>>>8&255}function mt(E,L,K){E.bi_valid>w-K?(E.bi_buf|=L<<E.bi_valid&65535,At(E,E.bi_buf),E.bi_buf=L>>w-E.bi_valid,E.bi_valid+=K-w):(E.bi_buf|=L<<E.bi_valid&65535,E.bi_valid+=K)}function Tt(E,L,K){mt(E,K[2*L],K[2*L+1])}function $t(E,L){for(var K=0;K|=1&E,E>>>=1,K<<=1,0<--L;);return K>>>1}function zt(E,L,K){var it,nt,G=new Array(C+1),ct=0;for(it=1;it<=C;it++)G[it]=ct=ct+K[it-1]<<1;for(nt=0;nt<=L;nt++){var st=E[2*nt+1];st!==0&&(E[2*nt]=$t(G[st]++,st))}}function It(E){var L;for(L=0;L<g;L++)E.dyn_ltree[2*L]=0;for(L=0;L<m;L++)E.dyn_dtree[2*L]=0;for(L=0;L<_;L++)E.bl_tree[2*L]=0;E.dyn_ltree[2*O]=1,E.opt_len=E.static_len=0,E.last_lit=E.matches=0}function Zt(E){8<E.bi_valid?At(E,E.bi_buf):0<E.bi_valid&&(E.pending_buf[E.pending++]=E.bi_buf),E.bi_buf=0,E.bi_valid=0}function fe(E,L,K,it){var nt=2*L,G=2*K;return E[nt]<E[G]||E[nt]===E[G]&&it[L]<=it[K]}function Jt(E,L,K){for(var it=E.heap[K],nt=K<<1;nt<=E.heap_len&&(nt<E.heap_len&&fe(L,E.heap[nt+1],E.heap[nt],E.depth)&&nt++,!fe(L,it,E.heap[nt],E.depth));)E.heap[K]=E.heap[nt],K=nt,nt<<=1;E.heap[K]=it}function yt(E,L,K){var it,nt,G,ct,st=0;if(E.last_lit!==0)for(;it=E.pending_buf[E.d_buf+2*st]<<8|E.pending_buf[E.d_buf+2*st+1],nt=E.pending_buf[E.l_buf+st],st++,it===0?Tt(E,nt,L):(Tt(E,(G=T[nt])+h+1,L),(ct=$[G])!==0&&mt(E,nt-=tt[G],ct),Tt(E,G=rt(--it),K),(ct=Y[G])!==0&&mt(E,it-=pt[G],ct)),st<E.last_lit;);Tt(E,O,L)}function Wt(E,L){var K,it,nt,G=L.dyn_tree,ct=L.stat_desc.static_tree,st=L.stat_desc.has_stree,jt=L.stat_desc.elems,ue=-1;for(E.heap_len=0,E.heap_max=b,K=0;K<jt;K++)G[2*K]!==0?(E.heap[++E.heap_len]=ue=K,E.depth[K]=0):G[2*K+1]=0;for(;E.heap_len<2;)G[2*(nt=E.heap[++E.heap_len]=ue<2?++ue:0)]=1,E.depth[nt]=0,E.opt_len--,st&&(E.static_len-=ct[2*nt+1]);for(L.max_code=ue,K=E.heap_len>>1;1<=K;K--)Jt(E,G,K);for(nt=jt;K=E.heap[1],E.heap[1]=E.heap[E.heap_len--],Jt(E,G,1),it=E.heap[1],E.heap[--E.heap_max]=K,E.heap[--E.heap_max]=it,G[2*nt]=G[2*K]+G[2*it],E.depth[nt]=(E.depth[K]>=E.depth[it]?E.depth[K]:E.depth[it])+1,G[2*K+1]=G[2*it+1]=nt,E.heap[1]=nt++,Jt(E,G,1),2<=E.heap_len;);E.heap[--E.heap_max]=E.heap[1],function(oe,J){var gt,F,Lt,bt,Ht,ce,ee=J.dyn_tree,ne=J.max_code,ve=J.stat_desc.static_tree,Oe=J.stat_desc.has_stree,Re=J.stat_desc.extra_bits,De=J.stat_desc.extra_base,Je=J.stat_desc.max_length,vn=0;for(bt=0;bt<=C;bt++)oe.bl_count[bt]=0;for(ee[2*oe.heap[oe.heap_max]+1]=0,gt=oe.heap_max+1;gt<b;gt++)Je<(bt=ee[2*ee[2*(F=oe.heap[gt])+1]+1]+1)&&(bt=Je,vn++),ee[2*F+1]=bt,ne<F||(oe.bl_count[bt]++,Ht=0,De<=F&&(Ht=Re[F-De]),ce=ee[2*F],oe.opt_len+=ce*(bt+Ht),Oe&&(oe.static_len+=ce*(ve[2*F+1]+Ht)));if(vn!==0){do{for(bt=Je-1;oe.bl_count[bt]===0;)bt--;oe.bl_count[bt]--,oe.bl_count[bt+1]+=2,oe.bl_count[Je]--,vn-=2}while(0<vn);for(bt=Je;bt!==0;bt--)for(F=oe.bl_count[bt];F!==0;)ne<(Lt=oe.heap[--gt])||(ee[2*Lt+1]!==bt&&(oe.opt_len+=(bt-ee[2*Lt+1])*ee[2*Lt],ee[2*Lt+1]=bt),F--)}}(E,L),zt(G,ue,E.bl_count)}function R(E,L,K){var it,nt,G=-1,ct=L[1],st=0,jt=7,ue=4;for(ct===0&&(jt=138,ue=3),L[2*(K+1)+1]=65535,it=0;it<=K;it++)nt=ct,ct=L[2*(it+1)+1],++st<jt&&nt===ct||(st<ue?E.bl_tree[2*nt]+=st:nt!==0?(nt!==G&&E.bl_tree[2*nt]++,E.bl_tree[2*k]++):st<=10?E.bl_tree[2*V]++:E.bl_tree[2*Z]++,G=nt,ue=(st=0)===ct?(jt=138,3):nt===ct?(jt=6,3):(jt=7,4))}function kt(E,L,K){var it,nt,G=-1,ct=L[1],st=0,jt=7,ue=4;for(ct===0&&(jt=138,ue=3),it=0;it<=K;it++)if(nt=ct,ct=L[2*(it+1)+1],!(++st<jt&&nt===ct)){if(st<ue)for(;Tt(E,nt,E.bl_tree),--st!=0;);else nt!==0?(nt!==G&&(Tt(E,nt,E.bl_tree),st--),Tt(E,k,E.bl_tree),mt(E,st-3,2)):st<=10?(Tt(E,V,E.bl_tree),mt(E,st-3,3)):(Tt(E,Z,E.bl_tree),mt(E,st-11,7));G=nt,ue=(st=0)===ct?(jt=138,3):nt===ct?(jt=6,3):(jt=7,4)}}u(pt);var wt=!1;function et(E,L,K,it){mt(E,(c<<1)+(it?1:0),3),function(nt,G,ct,st){Zt(nt),At(nt,ct),At(nt,~ct),o.arraySet(nt.pending_buf,nt.window,G,ct,nt.pending),nt.pending+=ct}(E,L,K)}i._tr_init=function(E){wt||(function(){var L,K,it,nt,G,ct=new Array(C+1);for(nt=it=0;nt<d-1;nt++)for(tt[nt]=it,L=0;L<1<<$[nt];L++)T[it++]=nt;for(T[it-1]=nt,nt=G=0;nt<16;nt++)for(pt[nt]=G,L=0;L<1<<Y[nt];L++)I[G++]=nt;for(G>>=7;nt<m;nt++)for(pt[nt]=G<<7,L=0;L<1<<Y[nt]-7;L++)I[256+G++]=nt;for(K=0;K<=C;K++)ct[K]=0;for(L=0;L<=143;)H[2*L+1]=8,L++,ct[8]++;for(;L<=255;)H[2*L+1]=9,L++,ct[9]++;for(;L<=279;)H[2*L+1]=7,L++,ct[7]++;for(;L<=287;)H[2*L+1]=8,L++,ct[8]++;for(zt(H,g+1,ct),L=0;L<m;L++)D[2*L+1]=5,D[2*L]=$t(L,5);M=new Dt(H,$,h+1,g,C),ot=new Dt(D,Y,0,m,C),dt=new Dt(new Array(0),U,0,_,x)}(),wt=!0),E.l_desc=new _t(E.dyn_ltree,M),E.d_desc=new _t(E.dyn_dtree,ot),E.bl_desc=new _t(E.bl_tree,dt),E.bi_buf=0,E.bi_valid=0,It(E)},i._tr_stored_block=et,i._tr_flush_block=function(E,L,K,it){var nt,G,ct=0;0<E.level?(E.strm.data_type===2&&(E.strm.data_type=function(st){var jt,ue=4093624447;for(jt=0;jt<=31;jt++,ue>>>=1)if(1&ue&&st.dyn_ltree[2*jt]!==0)return a;if(st.dyn_ltree[18]!==0||st.dyn_ltree[20]!==0||st.dyn_ltree[26]!==0)return l;for(jt=32;jt<h;jt++)if(st.dyn_ltree[2*jt]!==0)return l;return a}(E)),Wt(E,E.l_desc),Wt(E,E.d_desc),ct=function(st){var jt;for(R(st,st.dyn_ltree,st.l_desc.max_code),R(st,st.dyn_dtree,st.d_desc.max_code),Wt(st,st.bl_desc),jt=_-1;3<=jt&&st.bl_tree[2*Q[jt]+1]===0;jt--);return st.opt_len+=3*(jt+1)+5+5+4,jt}(E),nt=E.opt_len+3+7>>>3,(G=E.static_len+3+7>>>3)<=nt&&(nt=G)):nt=G=K+5,K+4<=nt&&L!==-1?et(E,L,K,it):E.strategy===4||G===nt?(mt(E,2+(it?1:0),3),yt(E,H,D)):(mt(E,4+(it?1:0),3),function(st,jt,ue,oe){var J;for(mt(st,jt-257,5),mt(st,ue-1,5),mt(st,oe-4,4),J=0;J<oe;J++)mt(st,st.bl_tree[2*Q[J]+1],3);kt(st,st.dyn_ltree,jt-1),kt(st,st.dyn_dtree,ue-1)}(E,E.l_desc.max_code+1,E.d_desc.max_code+1,ct+1),yt(E,E.dyn_ltree,E.dyn_dtree)),It(E),it&&Zt(E)},i._tr_tally=function(E,L,K){return E.pending_buf[E.d_buf+2*E.last_lit]=L>>>8&255,E.pending_buf[E.d_buf+2*E.last_lit+1]=255&L,E.pending_buf[E.l_buf+E.last_lit]=255&K,E.last_lit++,L===0?E.dyn_ltree[2*K]++:(E.matches++,L--,E.dyn_ltree[2*(T[K]+h+1)]++,E.dyn_dtree[2*rt(L)]++),E.last_lit===E.lit_bufsize-1},i._tr_align=function(E){mt(E,2,3),Tt(E,O,H),function(L){L.bi_valid===16?(At(L,L.bi_buf),L.bi_buf=0,L.bi_valid=0):8<=L.bi_valid&&(L.pending_buf[L.pending++]=255&L.bi_buf,L.bi_buf>>=8,L.bi_valid-=8)}(E)}},{"../utils/common":41}],53:[function(t,n,i){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,n,i){(function(o){(function(a,l){if(!a.setImmediate){var u,c,d,h,g=1,m={},_=!1,b=a.document,C=Object.getPrototypeOf&&Object.getPrototypeOf(a);C=C&&C.setTimeout?C:a,u={}.toString.call(a.process)==="[object process]"?function(k){process.nextTick(function(){x(k)})}:function(){if(a.postMessage&&!a.importScripts){var k=!0,V=a.onmessage;return a.onmessage=function(){k=!1},a.postMessage("","*"),a.onmessage=V,k}}()?(h="setImmediate$"+Math.random()+"$",a.addEventListener?a.addEventListener("message",O,!1):a.attachEvent("onmessage",O),function(k){a.postMessage(h+k,"*")}):a.MessageChannel?((d=new MessageChannel).port1.onmessage=function(k){x(k.data)},function(k){d.port2.postMessage(k)}):b&&"onreadystatechange"in b.createElement("script")?(c=b.documentElement,function(k){var V=b.createElement("script");V.onreadystatechange=function(){x(k),V.onreadystatechange=null,c.removeChild(V),V=null},c.appendChild(V)}):function(k){setTimeout(x,0,k)},C.setImmediate=function(k){typeof k!="function"&&(k=new Function(""+k));for(var V=new Array(arguments.length-1),Z=0;Z<V.length;Z++)V[Z]=arguments[Z+1];var $={callback:k,args:V};return m[g]=$,u(g),g++},C.clearImmediate=w}function w(k){delete m[k]}function x(k){if(_)setTimeout(x,0,k);else{var V=m[k];if(V){_=!0;try{(function(Z){var $=Z.callback,Y=Z.args;switch(Y.length){case 0:$();break;case 1:$(Y[0]);break;case 2:$(Y[0],Y[1]);break;case 3:$(Y[0],Y[1],Y[2]);break;default:$.apply(l,Y)}})(V)}finally{w(k),_=!1}}}}function O(k){k.source===a&&typeof k.data=="string"&&k.data.indexOf(h)===0&&x(+k.data.slice(h.length))}})(typeof self>"u"?o===void 0?this:o:self)}).call(this,typeof Do<"u"?Do:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Fk);var nW=Fk.exports;const rW=nO(nW);var Wk={exports:{}};(function(r,e){(function(t,n){n()})(Do,function(){function t(c,d){return typeof d>"u"?d={autoBom:!1}:typeof d!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),d={autoBom:!d}),d.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(c.type)?new Blob(["\uFEFF",c],{type:c.type}):c}function n(c,d,h){var g=new XMLHttpRequest;g.open("GET",c),g.responseType="blob",g.onload=function(){u(g.response,d,h)},g.onerror=function(){console.error("could not download file")},g.send()}function i(c){var d=new XMLHttpRequest;d.open("HEAD",c,!1);try{d.send()}catch{}return 200<=d.status&&299>=d.status}function o(c){try{c.dispatchEvent(new MouseEvent("click"))}catch{var d=document.createEvent("MouseEvents");d.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),c.dispatchEvent(d)}}var a=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Do=="object"&&Do.global===Do?Do:void 0,l=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),u=a.saveAs||(typeof window!="object"||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!l?function(c,d,h){var g=a.URL||a.webkitURL,m=document.createElement("a");d=d||c.name||"download",m.download=d,m.rel="noopener",typeof c=="string"?(m.href=c,m.origin===location.origin?o(m):i(m.href)?n(c,d,h):o(m,m.target="_blank")):(m.href=g.createObjectURL(c),setTimeout(function(){g.revokeObjectURL(m.href)},4e4),setTimeout(function(){o(m)},0))}:"msSaveOrOpenBlob"in navigator?function(c,d,h){if(d=d||c.name||"download",typeof c!="string")navigator.msSaveOrOpenBlob(t(c,h),d);else if(i(c))n(c,d,h);else{var g=document.createElement("a");g.href=c,g.target="_blank",setTimeout(function(){o(g)})}}:function(c,d,h,g){if(g=g||open("","_blank"),g&&(g.document.title=g.document.body.innerText="downloading..."),typeof c=="string")return n(c,d,h);var m=c.type==="application/octet-stream",_=/constructor/i.test(a.HTMLElement)||a.safari,b=/CriOS\/[\d]+/.test(navigator.userAgent);if((b||m&&_||l)&&typeof FileReader<"u"){var C=new FileReader;C.onloadend=function(){var O=C.result;O=b?O:O.replace(/^data:[^;]*;/,"data:attachment/file;"),g?g.location.href=O:location=O,g=null},C.readAsDataURL(c)}else{var w=a.URL||a.webkitURL,x=w.createObjectURL(c);g?g.location=x:location.href=x,g=null,setTimeout(function(){w.revokeObjectURL(x)},4e4)}});a.saveAs=u.saveAs=u,r.exports=u})})(Wk);var iW=Wk.exports;async function oW(r,e){var u,c,d,h,g,m;const t=localStorage.getItem(`gjs-html-${r}`)||"<p>No hay diseño</p>",n=localStorage.getItem(`gjs-css-${r}`)||"",i=`
Convierte el siguiente diseño HTML + CSS en código Flutter dentro de un archivo main.dart ejecutable.

- Usa widgets comunes como Text, ElevatedButton, TextField, etc.
- Aplica estilos cuando sea posible.
- Usa MaterialApp y Scaffold.
- El título de la App debe ser: "${e}"
- No expliques nada, responde solo con el contenido completo de main.dart

HTML:
${t}

CSS:
${n}
`.trim(),o=await fetch("https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=AIzaSyDnmHtzdr-R9d9EsuDESC6VlIMYWV67MBM",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:i}]}]})});return(o!=null&&o.ok?((m=(g=(h=(d=(c=(u=await o.json())==null?void 0:u.candidates)==null?void 0:c[0])==null?void 0:d.content)==null?void 0:h.parts)==null?void 0:g[0])==null?void 0:m.text)??"":"").replace(/```dart\s*/g,"").replace(/```/g,"").trim()||"// ⚠️ No se generó contenido válido."}async function aW(r,e){console.log("🔄 Iniciando exportación Flutter..."),localStorage.getItem(`gjs-html-${r}`),localStorage.getItem(`gjs-css-${r}`),console.log("✅ HTML y CSS recuperados desde localStorage");const t=await oW(r,e);console.log("✅ Código main.dart generado con Gemini");const n="/template/flutter-template.zip";console.log("📦 Cargando template desde:",n);const i=await fetch(n);if(!i.ok){console.warn("❌ No se pudo cargar el ZIP del template.");return}const o=await i.blob(),a=await rW.loadAsync(o);console.log("✅ Template cargado y descomprimido"),a.file("lib/main.dart")?console.log("📄 lib/main.dart encontrado. Será reemplazado."):console.warn("⚠️ Archivo lib/main.dart no encontrado en el ZIP base. Se creará uno nuevo."),a.file("lib/main.dart",t);const l=await a.generateAsync({type:"blob"});console.log("✅ Proyecto generado, iniciando descarga..."),iW.saveAs(l,"flutter_project.zip"),console.log("📥 ¡Descarga iniciada!")}function sW(){const e=HL().roomId,[t,n]=Nt.useState(null);if(!e)return Yt.jsx("div",{className:"text-red-500 text-center mt-10",children:"❌ Room ID inválido"});const i=async()=>{if(!t)return alert("⚠️ No hay diseño para guardar");const o=localStorage.getItem(`gjs-html-${e}`),a=localStorage.getItem(`gjs-css-${e}`)||"",l=await v3(t.id,{data:{html:o,css:a}});n(l),alert("✅ Diseño actualizado")};return Nt.useEffect(()=>{(async()=>{var l;const a=await zA(e);n(a),(l=a==null?void 0:a.data)!=null&&l.html&&!localStorage.getItem(`gjs-html-${e}`)&&(localStorage.setItem(`gjs-html-${e}`,a.data.html),localStorage.setItem(`gjs-css-${e}`,a.data.css||"")),L_.emit("join",e),console.log("🧩 Joined room:",e)})()},[e]),Yt.jsxs(Yt.Fragment,{children:[Yt.jsx(vA,{}),Yt.jsxs("div",{className:"flex w-full h-[calc(100vh-3.5rem)] bg-gray-100 relative",children:[Yt.jsx(eW,{roomId:e}),Yt.jsxs("div",{id:"custom-buttons",className:"fixed top-[56px] left-[150px] z-50 flex gap-2",children:[Yt.jsx("button",{onClick:i,className:"px-3 py-1 bg-green-600 text-white text-sm rounded hover:bg-green-700",children:"💾 Guardar diseño"}),Yt.jsx("button",{onClick:()=>{navigator.clipboard.writeText(e),alert("📋 ID copiado al portapapeles: "+e)},className:"px-3 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700",children:"🔗 Compartir ID"}),Yt.jsx("button",{onClick:()=>aW(e,(t==null?void 0:t.title)||"Mi App"),className:"px-3 py-1 bg-yellow-600 text-white text-sm rounded hover:bg-yellow-700",children:"📦 Exportar a Flutter"})]})]})]})}function lW(){const r=Ag();return Nt.useEffect(()=>{const e=new URLSearchParams(window.location.search),t=e.get("token"),n=e.get("email"),i=e.get("name"),o=e.get("picture");t&&n&&i&&o&&(localStorage.setItem("token",t),localStorage.setItem("user",JSON.stringify({email:n,name:i,picture:o})),r("/"))},[r]),Yt.jsx("p",{className:"p-4",children:"Iniciando sesión..."})}function uW({isOpen:r,onClose:e,onCreate:t}){const[n,i]=Nt.useState("");return r?Yt.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 flex justify-center items-center z-50",children:Yt.jsxs("div",{className:"bg-white rounded p-6 w-96 shadow-lg",children:[Yt.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Nuevo Proyecto"}),Yt.jsx("input",{type:"text",placeholder:"Título del diseño",value:n,onChange:o=>i(o.target.value),className:"w-full border px-3 py-2 rounded mb-4"}),Yt.jsxs("div",{className:"flex justify-end gap-2",children:[Yt.jsx("button",{onClick:e,className:"px-4 py-2 bg-gray-300 rounded hover:bg-gray-400",children:"Cancelar"}),Yt.jsx("button",{onClick:()=>{n.trim()&&(t(n.trim()),i(""))},className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Crear"})]})]})}):null}function cW({isOpen:r,onClose:e,onJoin:t}){const[n,i]=Nt.useState("");return r?Yt.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:Yt.jsxs("div",{className:"bg-white p-6 rounded shadow-lg w-96",children:[Yt.jsx("h2",{className:"text-xl font-semibold mb-4",children:"🔗 Unirse a un Proyecto"}),Yt.jsx("input",{type:"text",placeholder:"Ingresa el ID del proyecto",value:n,onChange:o=>i(o.target.value),className:"w-full border px-3 py-2 rounded mb-4"}),Yt.jsxs("div",{className:"flex justify-end gap-3",children:[Yt.jsx("button",{onClick:e,className:"px-4 py-2 bg-gray-300 rounded hover:bg-gray-400",children:"Cancelar"}),Yt.jsx("button",{onClick:()=>t(n),className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:"Unirse"})]})]})}):null}async function fW(r){var o,a,l,u,c;const t=(await fetch("/prompts/promptTemplate.txt").then(d=>d.text())).replace("{{user_prompt}}",r),i=await(await fetch("https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=AIzaSyDnmHtzdr-R9d9EsuDESC6VlIMYWV67MBM",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:t}]}]})})).json();return((c=(u=(l=(a=(o=i==null?void 0:i.candidates)==null?void 0:o[0])==null?void 0:a.content)==null?void 0:l.parts)==null?void 0:u[0])==null?void 0:c.text)??"⚠️ No se generó contenido. Revisa tu prompt o clave."}function dW({isOpen:r,onClose:e,onGenerate:t}){const[n,i]=Nt.useState(""),o=async()=>{const a=await fW(n);t(a),e()};return r?Yt.jsx("div",{className:"fixed inset-0 bg-black/30 flex justify-center items-center z-50",children:Yt.jsxs("div",{className:"bg-white p-6 rounded shadow max-w-lg w-full",children:[Yt.jsx("h2",{className:"text-lg font-bold mb-4",children:"🧠 Generar interfaz desde prompt"}),Yt.jsx("textarea",{className:"w-full p-3 border rounded mb-4",rows:5,value:n,onChange:a=>i(a.target.value),placeholder:"Ej. Diseña una pantalla con una navbar, una sección de testimonios y un botón de contacto..."}),Yt.jsxs("div",{className:"flex justify-end gap-2",children:[Yt.jsx("button",{onClick:e,className:"px-4 py-2 bg-gray-300 rounded",children:"Cancelar"}),Yt.jsx("button",{onClick:o,className:"px-4 py-2 bg-indigo-600 text-white rounded",children:"Generar"})]})]})}):null}function hW(r){const e=r.match(/<html[\s\S]*?<\/html>/i);if(e)return e[0];const t=r.match(/<div[\s\S]*?>[\s\S]*?<\/div>/i);return t?t[0]:""}function pW(r){const e=r.match(/<style[^>]*>([\s\S]*?)<\/style>/i);if(e)return e[1].trim();const t=r.match(/([a-zA-Z0-9\.\#][^{]+{[^}]+})/g);return t?t.join(`
`):""}function vW(){const[r,e]=Nt.useState(null),t=Ag(),[n,i]=Nt.useState([]),[o,a]=Nt.useState(!1),[l,u]=Nt.useState(!1),[c,d]=Nt.useState(!1);Nt.useEffect(()=>{const C=JSON.parse(localStorage.getItem("user")||"{}");C!=null&&C.email&&(e(C),h(C.email))},[]);const h=async C=>{const w=await p3(C);i(w)},g=async C=>{if(!(r!=null&&r.email)){alert("Debes estar logueado para crear un diseño.");return}const w=await kx({title:C,userEmail:r.email,data:[]});a(!1),t(`/canvas/${w.id}`)},m=async C=>{try{const w=await zA(C);w&&(u(!1),t(`/canvas/${w.id}`))}catch{alert("❌ No se encontró un proyecto con ese ID.")}},_=async C=>{if(confirm("¿Estás seguro de que deseas eliminar este diseño?"))try{await g3(C),i(w=>w.filter(x=>x.id!==C))}catch(w){alert("❌ Error al eliminar el diseño."),console.error(w)}},b=async C=>{const w=hW(C),x=pW(C);if(!(r!=null&&r.email)){alert("Debes estar logueado para generar un diseño.");return}const O=await kx({title:"Diseño generado por prompt",userEmail:r.email,data:{html:w,css:x}});localStorage.setItem(`gjs-html-${O.id}`,w),localStorage.setItem(`gjs-css-${O.id}`,x),t(`/canvas/${O.id}`)};return Yt.jsxs(Yt.Fragment,{children:[Yt.jsx(vA,{}),Yt.jsxs("main",{className:"p-8 bg-gray-50 min-h-[calc(100vh-4rem)]",children:[Yt.jsxs("section",{className:"text-center max-w-3xl mx-auto",children:[Yt.jsx("h1",{className:"text-4xl font-extrabold text-gray-800",children:"🎨 Bienvenido al Editor Visual"}),Yt.jsx("p",{className:"mt-2 text-gray-600 text-lg",children:"Crea o únete a un proyecto colaborativo en tiempo real."}),Yt.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4 mt-6",children:[Yt.jsx("button",{onClick:()=>a(!0),className:"px-6 py-3 bg-indigo-600 text-white font-medium rounded-lg shadow hover:bg-indigo-700 transition",children:"➕ Crear proyecto"}),Yt.jsx("button",{onClick:()=>u(!0),className:"px-6 py-3 bg-emerald-600 text-white font-medium rounded-lg shadow hover:bg-emerald-700 transition",children:"🤝 Unirse a un proyecto"}),Yt.jsx("button",{onClick:()=>d(!0),className:"px-6 py-3 bg-pink-600 text-white font-medium rounded-lg shadow hover:bg-pink-700 transition",children:"💡 Diseñar por prompt"}),Yt.jsx(dW,{isOpen:c,onClose:()=>d(!1),onGenerate:b})]})]}),r&&Yt.jsxs("section",{className:"mt-12",children:[Yt.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"📂 Tus Proyectos Recientes"}),n.length===0?Yt.jsx("p",{className:"text-gray-500",children:"No tienes proyectos aún."}):Yt.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-5",children:n.map(C=>Yt.jsxs("div",{className:"relative p-4 border border-gray-200 rounded-lg bg-white shadow hover:shadow-lg hover:border-indigo-400 transition cursor-pointer",onClick:()=>t(`/canvas/${C.id}`),children:[Yt.jsx("h3",{className:"font-semibold text-lg text-gray-800",children:C.title}),Yt.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Última edición: ",new Date(C.updatedAt).toLocaleString()]}),Yt.jsx("button",{onClick:w=>{w.stopPropagation(),_(C.id)},className:"absolute top-2 right-2 text-xs px-3 py-1 bg-red-500 text-white rounded-md hover:bg-red-600 transition",children:"🗑️ Eliminar"})]},C.id))})]}),Yt.jsxs("section",{className:"mt-20 max-w-6xl mx-auto text-center px-4",children:[Yt.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-6",children:"💡 ¿Por qué usar nuestro editor?"}),Yt.jsxs("div",{className:"grid gap-8 md:grid-cols-3 text-left",children:[Yt.jsxs("div",{children:[Yt.jsx("h3",{className:"text-xl font-semibold text-indigo-700",children:"Diseño en tiempo real"}),Yt.jsx("p",{className:"mt-2 text-gray-600",children:"Colabora en vivo con tu equipo y visualiza cambios al instante."})]}),Yt.jsxs("div",{children:[Yt.jsx("h3",{className:"text-xl font-semibold text-indigo-700",children:"Diseña mediante un prompt "}),Yt.jsx("p",{className:"mt-2 text-gray-600",children:"Realiza un diseño a traves de una idea textual"})]}),Yt.jsxs("div",{children:[Yt.jsx("h3",{className:"text-xl font-semibold text-indigo-700",children:"Exporta código Flutter"}),Yt.jsx("p",{className:"mt-2 text-gray-600",children:"Transforma tus diseños visuales en componentes listos para producción."})]})]})]}),Yt.jsx("section",{className:"mt-24 bg-white py-12",children:Yt.jsxs("div",{className:"max-w-4xl mx-auto text-center px-4",children:[Yt.jsx("p",{className:"text-4xl font-bold text-gray-800 leading-snug",children:"“Todo lo que necesitas para crear y compartir interfaces está en una sola herramienta.”"}),Yt.jsx("p",{className:"mt-4 text-lg text-gray-500",children:"– Equipo de desarrollo"})]})}),Yt.jsxs("section",{className:"mt-20 max-w-5xl mx-auto px-4",children:[Yt.jsx("h2",{className:"text-3xl font-bold text-gray-800 text-center mb-10",children:"✨ Inspiración Visual"}),Yt.jsxs("div",{className:"grid sm:grid-cols-2 gap-6",children:[Yt.jsx("img",{src:"https://digitalfactoria.com/wp-content/uploads/2023/04/Figma-1-1024x1024.jpg",alt:"Diseño 1",className:"rounded-lg shadow-lg"}),Yt.jsx("img",{src:"https://s3-figma-hubfile-images-production.figma.com/hub/file/carousel/img/1f7ebf0e8dca18b664ce79ff3d6c428d11e8a70a",alt:"Diseño 2",className:"rounded-lg shadow-lg"})]})]}),Yt.jsx(uW,{isOpen:o,onClose:()=>a(!1),onCreate:g}),Yt.jsx(cW,{isOpen:l,onClose:()=>u(!1),onJoin:m})]})]})}function gW(){return Yt.jsx(TN,{children:Yt.jsxs(rN,{children:[Yt.jsx(op,{path:"/",element:Yt.jsx(vW,{})}),Yt.jsx(op,{path:"/auth/callback",element:Yt.jsx(lW,{})}),Yt.jsx(op,{path:"/canvas/:roomId",element:Yt.jsx(sW,{})})]})})}rL.createRoot(document.getElementById("root")).render(Yt.jsx(Nt.StrictMode,{children:Yt.jsx(gW,{})}));
